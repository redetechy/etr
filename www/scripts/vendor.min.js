if(function(s,m,w){var t,x={version:"1.0.0-rc.3"};"object"==typeof module&&"object"==typeof module.exports?module.exports=x:"function"==typeof define&&define.amd&&define(x),void 0!==s&&(t=s.L,x.noConflict=function(){return s.L=t,this},s.L=x),x.Util={extend:function(t){var e,n,i,o;for(n=1,i=arguments.length;n<i;n++)for(e in o=arguments[n])t[e]=o[e];return t},create:Object.create||function(){function e(){}return function(t){return e.prototype=t,new e}}(),bind:function(t,e){var n=Array.prototype.slice;if(t.bind)return t.bind.apply(t,n.call(arguments,1));var i=n.call(arguments,2);return function(){return t.apply(e,i.length?i.concat(n.call(arguments)):arguments)}},stamp:function(t){return t._leaflet_id=t._leaflet_id||++x.Util.lastId,t._leaflet_id},lastId:0,throttle:function(t,e,n){var i,o,r,a;return a=function(){i=!1,o&&(r.apply(n,o),o=!1)},r=function(){i?o=arguments:(t.apply(n,arguments),setTimeout(a,e),i=!0)}},wrapNum:function(t,e,n){var i=e[1],o=e[0],r=i-o;return t===i&&n?t:((t-o)%r+r)%r+o},falseFn:function(){return!1},formatNum:function(t,e){var n=Math.pow(10,e||5);return Math.round(t*n)/n},trim:function(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")},splitWords:function(t){return x.Util.trim(t).split(/\s+/)},setOptions:function(t,e){for(var n in t.hasOwnProperty("options")||(t.options=t.options?x.Util.create(t.options):{}),e)t.options[n]=e[n];return t.options},getParamString:function(t,e,n){var i=[];for(var o in t)i.push(encodeURIComponent(n?o.toUpperCase():o)+"="+encodeURIComponent(t[o]));return(e&&-1!==e.indexOf("?")?"&":"?")+i.join("&")},template:function(t,i){return t.replace(x.Util.templateRe,function(t,e){var n=i[e];if(n===w)throw new Error("No value provided for variable "+t);return"function"==typeof n&&(n=n(i)),n})},templateRe:/\{ *([\w_\-]+) *\}/g,isArray:Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)},indexOf:function(t,e){for(var n=0;n<t.length;n++)if(t[n]===e)return n;return-1},emptyImageUrl:"data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs="},function(){function t(t){return s["webkit"+t]||s["moz"+t]||s["ms"+t]}function i(t){var e=+new Date,n=Math.max(0,16-(e-o));return o=e+n,s.setTimeout(t,n)}var o=0,r=s.requestAnimationFrame||t("RequestAnimationFrame")||i,e=s.cancelAnimationFrame||t("CancelAnimationFrame")||t("CancelRequestAnimationFrame")||function(t){s.clearTimeout(t)};x.Util.requestAnimFrame=function(t,e,n){return n&&r===i?void t.call(e):r.call(s,x.bind(t,e))},x.Util.cancelAnimFrame=function(t){t&&e.call(s,t)}}(),x.extend=x.Util.extend,x.bind=x.Util.bind,x.stamp=x.Util.stamp,x.setOptions=x.Util.setOptions,x.Class=function(){},x.Class.extend=function(t){var e=function(){this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},n=e.__super__=this.prototype,i=x.Util.create(n);for(var o in(i.constructor=e).prototype=i,this)this.hasOwnProperty(o)&&"prototype"!==o&&(e[o]=this[o]);return t.statics&&(x.extend(e,t.statics),delete t.statics),t.includes&&(x.Util.extend.apply(null,[i].concat(t.includes)),delete t.includes),i.options&&(t.options=x.Util.extend(x.Util.create(i.options),t.options)),x.extend(i,t),i._initHooks=[],i.callInitHooks=function(){if(!this._initHooksCalled){n.callInitHooks&&n.callInitHooks.call(this),this._initHooksCalled=!0;for(var t=0,e=i._initHooks.length;t<e;t++)i._initHooks[t].call(this)}},e},x.Class.include=function(t){return x.extend(this.prototype,t),this},x.Class.mergeOptions=function(t){return x.extend(this.prototype.options,t),this},x.Class.addInitHook=function(t){var e=Array.prototype.slice.call(arguments,1),n="function"==typeof t?t:function(){this[t].apply(this,e)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(n),this},x.Evented=x.Class.extend({on:function(t,e,n){if("object"==typeof t)for(var i in t)this._on(i,t[i],e);else for(var o=0,r=(t=x.Util.splitWords(t)).length;o<r;o++)this._on(t[o],e,n);return this},off:function(t,e,n){if(t)if("object"==typeof t)for(var i in t)this._off(i,t[i],e);else for(var o=0,r=(t=x.Util.splitWords(t)).length;o<r;o++)this._off(t[o],e,n);else delete this._events;return this},_on:function(t,e,n){this._events=this._events||{};var i=this._events[t];i||(i={listeners:[],count:0},this._events[t]=i),n===this&&(n=w);for(var o={fn:e,ctx:n},r=i.listeners,a=0,s=r.length;a<s;a++)if(r[a].fn===e&&r[a].ctx===n)return;r.push(o),i.count++},_off:function(t,e,n){var i,o,r,a;if(this._events&&(i=this._events[t])){if(o=i.listeners,!e){for(r=0,a=o.length;r<a;r++)o[r].fn=x.Util.falseFn;return void delete this._events[t]}if(n===this&&(n=w),o)for(r=0,a=o.length;r<a;r++){var s=o[r];if(s.ctx===n&&s.fn===e)return s.fn=x.Util.falseFn,i.count--,this._isFiring&&(o=o.slice()),void o.splice(r,1)}}},fire:function(t,e,n){if(!this.listens(t,n))return this;var i=x.Util.extend({},e,{type:t,target:this});if(this._events){var o=this._events[t];if(o){this._isFiring=!0;for(var r=o.listeners,a=0,s=r.length;a<s;a++){var l=r[a];l.fn.call(l.ctx||this,i)}this._isFiring=!1}}return n&&this._propagateEvent(i),this},listens:function(t,e){var n=this._events&&this._events[t];if(n&&n.count)return!0;if(e)for(var i in this._eventParents)if(this._eventParents[i].listens(t,e))return!0;return!1},once:function(t,e,n){if("object"==typeof t){for(var i in t)this.once(i,t[i],e);return this}var o=x.bind(function(){this.off(t,e,n).off(t,o,n)},this);return this.on(t,e,n).on(t,o,n)},addEventParent:function(t){return this._eventParents=this._eventParents||{},this._eventParents[x.stamp(t)]=t,this},removeEventParent:function(t){return this._eventParents&&delete this._eventParents[x.stamp(t)],this},_propagateEvent:function(t){for(var e in this._eventParents)this._eventParents[e].fire(t.type,x.extend({layer:t.target},t),!0)}});var e,n,i,o,r,a,l,u,c,p,h,d,f,g,v,y,b,$,_,k,C=x.Evented.prototype;C.addEventListener=C.on,C.removeEventListener=C.clearAllEventListeners=C.off,C.addOneTimeEventListener=C.once,C.fireEvent=C.fire,C.hasEventListeners=C.listens,x.Mixin={Events:C},o=navigator.userAgent.toLowerCase(),r=m.documentElement,a="ActiveXObject"in s,l=-1!==o.indexOf("webkit"),u=-1!==o.indexOf("phantom"),c=-1!==o.search("android [23]"),p=-1!==o.indexOf("chrome"),h=-1!==o.indexOf("gecko")&&!l&&!s.opera&&!a,d=0===navigator.platform.indexOf("Win"),f="undefined"!=typeof orientation||-1!==o.indexOf("mobile"),g=!s.PointerEvent&&s.MSPointerEvent,v=s.PointerEvent||g,y=a&&"transition"in r.style,b="WebKitCSSMatrix"in s&&"m11"in new s.WebKitCSSMatrix&&!c,$="MozPerspective"in r.style,_="OTransition"in r.style,k=!s.L_NO_TOUCH&&(v||"ontouchstart"in s||s.DocumentTouch&&m instanceof s.DocumentTouch),x.Browser={ie:a,ielt9:a&&!m.addEventListener,edge:"msLaunchUri"in navigator&&!("documentMode"in m),webkit:l,gecko:h,android:-1!==o.indexOf("android"),android23:c,chrome:p,safari:!p&&-1!==o.indexOf("safari"),win:d,ie3d:y,webkit3d:b,gecko3d:$,opera12:_,any3d:!s.L_DISABLE_3D&&(y||b||$)&&!_&&!u,mobile:f,mobileWebkit:f&&l,mobileWebkit3d:f&&b,mobileOpera:f&&s.opera,mobileGecko:f&&h,touch:!!k,msPointer:!!g,pointer:!!v,retina:1<(s.devicePixelRatio||s.screen.deviceXDPI/s.screen.logicalXDPI)},x.Point=function(t,e,n){this.x=n?Math.round(t):t,this.y=n?Math.round(e):e},x.Point.prototype={clone:function(){return new x.Point(this.x,this.y)},add:function(t){return this.clone()._add(x.point(t))},_add:function(t){return this.x+=t.x,this.y+=t.y,this},subtract:function(t){return this.clone()._subtract(x.point(t))},_subtract:function(t){return this.x-=t.x,this.y-=t.y,this},divideBy:function(t){return this.clone()._divideBy(t)},_divideBy:function(t){return this.x/=t,this.y/=t,this},multiplyBy:function(t){return this.clone()._multiplyBy(t)},_multiplyBy:function(t){return this.x*=t,this.y*=t,this},scaleBy:function(t){return new x.Point(this.x*t.x,this.y*t.y)},unscaleBy:function(t){return new x.Point(this.x/t.x,this.y/t.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},distanceTo:function(t){var e=(t=x.point(t)).x-this.x,n=t.y-this.y;return Math.sqrt(e*e+n*n)},equals:function(t){return(t=x.point(t)).x===this.x&&t.y===this.y},contains:function(t){return t=x.point(t),Math.abs(t.x)<=Math.abs(this.x)&&Math.abs(t.y)<=Math.abs(this.y)},toString:function(){return"Point("+x.Util.formatNum(this.x)+", "+x.Util.formatNum(this.y)+")"}},x.point=function(t,e,n){return t instanceof x.Point?t:x.Util.isArray(t)?new x.Point(t[0],t[1]):t===w||null===t?t:"object"==typeof t&&"x"in t&&"y"in t?new x.Point(t.x,t.y):new x.Point(t,e,n)},x.Bounds=function(t,e){if(t)for(var n=e?[t,e]:t,i=0,o=n.length;i<o;i++)this.extend(n[i])},x.Bounds.prototype={extend:function(t){return t=x.point(t),this.min||this.max?(this.min.x=Math.min(t.x,this.min.x),this.max.x=Math.max(t.x,this.max.x),this.min.y=Math.min(t.y,this.min.y),this.max.y=Math.max(t.y,this.max.y)):(this.min=t.clone(),this.max=t.clone()),this},getCenter:function(t){return new x.Point((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,t)},getBottomLeft:function(){return new x.Point(this.min.x,this.max.y)},getTopRight:function(){return new x.Point(this.max.x,this.min.y)},getSize:function(){return this.max.subtract(this.min)},contains:function(t){var e,n;return(t="number"==typeof t[0]||t instanceof x.Point?x.point(t):x.bounds(t))instanceof x.Bounds?(e=t.min,n=t.max):e=n=t,e.x>=this.min.x&&n.x<=this.max.x&&e.y>=this.min.y&&n.y<=this.max.y},intersects:function(t){t=x.bounds(t);var e=this.min,n=this.max,i=t.min,o=t.max,r=o.x>=e.x&&i.x<=n.x,a=o.y>=e.y&&i.y<=n.y;return r&&a},overlaps:function(t){t=x.bounds(t);var e=this.min,n=this.max,i=t.min,o=t.max,r=o.x>e.x&&i.x<n.x,a=o.y>e.y&&i.y<n.y;return r&&a},isValid:function(){return!(!this.min||!this.max)}},x.bounds=function(t,e){return!t||t instanceof x.Bounds?t:new x.Bounds(t,e)},x.Transformation=function(t,e,n,i){this._a=t,this._b=e,this._c=n,this._d=i},x.Transformation.prototype={transform:function(t,e){return this._transform(t.clone(),e)},_transform:function(t,e){return e=e||1,t.x=e*(this._a*t.x+this._b),t.y=e*(this._c*t.y+this._d),t},untransform:function(t,e){return e=e||1,new x.Point((t.x/e-this._b)/this._a,(t.y/e-this._d)/this._c)}},x.DomUtil={get:function(t){return"string"==typeof t?m.getElementById(t):t},getStyle:function(t,e){var n=t.style[e]||t.currentStyle&&t.currentStyle[e];if((!n||"auto"===n)&&m.defaultView){var i=m.defaultView.getComputedStyle(t,null);n=i?i[e]:null}return"auto"===n?null:n},create:function(t,e,n){var i=m.createElement(t);return i.className=e||"",n&&n.appendChild(i),i},remove:function(t){var e=t.parentNode;e&&e.removeChild(t)},empty:function(t){for(;t.firstChild;)t.removeChild(t.firstChild)},toFront:function(t){t.parentNode.appendChild(t)},toBack:function(t){var e=t.parentNode;e.insertBefore(t,e.firstChild)},hasClass:function(t,e){if(t.classList!==w)return t.classList.contains(e);var n=x.DomUtil.getClass(t);return 0<n.length&&new RegExp("(^|\\s)"+e+"(\\s|$)").test(n)},addClass:function(t,e){if(t.classList!==w)for(var n=x.Util.splitWords(e),i=0,o=n.length;i<o;i++)t.classList.add(n[i]);else if(!x.DomUtil.hasClass(t,e)){var r=x.DomUtil.getClass(t);x.DomUtil.setClass(t,(r?r+" ":"")+e)}},removeClass:function(t,e){t.classList!==w?t.classList.remove(e):x.DomUtil.setClass(t,x.Util.trim((" "+x.DomUtil.getClass(t)+" ").replace(" "+e+" "," ")))},setClass:function(t,e){t.className.baseVal===w?t.className=e:t.className.baseVal=e},getClass:function(t){return t.className.baseVal===w?t.className:t.className.baseVal},setOpacity:function(t,e){"opacity"in t.style?t.style.opacity=e:"filter"in t.style&&x.DomUtil._setOpacityIE(t,e)},_setOpacityIE:function(t,e){var n=!1,i="DXImageTransform.Microsoft.Alpha";try{n=t.filters.item(i)}catch(t){if(1===e)return}e=Math.round(100*e),n?(n.Enabled=100!==e,n.Opacity=e):t.style.filter+=" progid:"+i+"(opacity="+e+")"},testProp:function(t){for(var e=m.documentElement.style,n=0;n<t.length;n++)if(t[n]in e)return t[n];return!1},setTransform:function(t,e,n){var i=e||new x.Point(0,0);t.style[x.DomUtil.TRANSFORM]=(x.Browser.ie3d?"translate("+i.x+"px,"+i.y+"px)":"translate3d("+i.x+"px,"+i.y+"px,0)")+(n?" scale("+n+")":"")},setPosition:function(t,e){t._leaflet_pos=e,x.Browser.any3d?x.DomUtil.setTransform(t,e):(t.style.left=e.x+"px",t.style.top=e.y+"px")},getPosition:function(t){return t._leaflet_pos||new x.Point(0,0)}},function(){x.DomUtil.TRANSFORM=x.DomUtil.testProp(["transform","WebkitTransform","OTransform","MozTransform","msTransform"]);var t=x.DomUtil.TRANSITION=x.DomUtil.testProp(["webkitTransition","transition","OTransition","MozTransition","msTransition"]);if(x.DomUtil.TRANSITION_END="webkitTransition"===t||"OTransition"===t?t+"End":"transitionend","onselectstart"in m)x.DomUtil.disableTextSelection=function(){x.DomEvent.on(s,"selectstart",x.DomEvent.preventDefault)},x.DomUtil.enableTextSelection=function(){x.DomEvent.off(s,"selectstart",x.DomEvent.preventDefault)};else{var e=x.DomUtil.testProp(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);x.DomUtil.disableTextSelection=function(){if(e){var t=m.documentElement.style;this._userSelect=t[e],t[e]="none"}},x.DomUtil.enableTextSelection=function(){e&&(m.documentElement.style[e]=this._userSelect,delete this._userSelect)}}x.DomUtil.disableImageDrag=function(){x.DomEvent.on(s,"dragstart",x.DomEvent.preventDefault)},x.DomUtil.enableImageDrag=function(){x.DomEvent.off(s,"dragstart",x.DomEvent.preventDefault)},x.DomUtil.preventOutline=function(t){for(;-1===t.tabIndex;)t=t.parentNode;t&&t.style&&(x.DomUtil.restoreOutline(),this._outlineElement=t,this._outlineStyle=t.style.outline,t.style.outline="none",x.DomEvent.on(s,"keydown",x.DomUtil.restoreOutline,this))},x.DomUtil.restoreOutline=function(){this._outlineElement&&(this._outlineElement.style.outline=this._outlineStyle,delete this._outlineElement,delete this._outlineStyle,x.DomEvent.off(s,"keydown",x.DomUtil.restoreOutline,this))}}(),x.LatLng=function(t,e,n){if(isNaN(t)||isNaN(e))throw new Error("Invalid LatLng object: ("+t+", "+e+")");this.lat=+t,this.lng=+e,n!==w&&(this.alt=+n)},x.LatLng.prototype={equals:function(t,e){return!!t&&(t=x.latLng(t),Math.max(Math.abs(this.lat-t.lat),Math.abs(this.lng-t.lng))<=(e===w?1e-9:e))},toString:function(t){return"LatLng("+x.Util.formatNum(this.lat,t)+", "+x.Util.formatNum(this.lng,t)+")"},distanceTo:function(t){return x.CRS.Earth.distance(this,x.latLng(t))},wrap:function(){return x.CRS.Earth.wrapLatLng(this)},toBounds:function(t){var e=180*t/40075017,n=e/Math.cos(Math.PI/180*this.lat);return x.latLngBounds([this.lat-e,this.lng-n],[this.lat+e,this.lng+n])},clone:function(){return new x.LatLng(this.lat,this.lng,this.alt)}},x.latLng=function(t,e,n){return t instanceof x.LatLng?t:x.Util.isArray(t)&&"object"!=typeof t[0]?3===t.length?new x.LatLng(t[0],t[1],t[2]):2===t.length?new x.LatLng(t[0],t[1]):null:t===w||null===t?t:"object"==typeof t&&"lat"in t?new x.LatLng(t.lat,"lng"in t?t.lng:t.lon,t.alt):e===w?null:new x.LatLng(t,e,n)},x.LatLngBounds=function(t,e){if(t)for(var n=e?[t,e]:t,i=0,o=n.length;i<o;i++)this.extend(n[i])},x.LatLngBounds.prototype={extend:function(t){var e,n,i=this._southWest,o=this._northEast;if(t instanceof x.LatLng)n=e=t;else{if(!(t instanceof x.LatLngBounds))return t?this.extend(x.latLng(t)||x.latLngBounds(t)):this;if(e=t._southWest,n=t._northEast,!e||!n)return this}return i||o?(i.lat=Math.min(e.lat,i.lat),i.lng=Math.min(e.lng,i.lng),o.lat=Math.max(n.lat,o.lat),o.lng=Math.max(n.lng,o.lng)):(this._southWest=new x.LatLng(e.lat,e.lng),this._northEast=new x.LatLng(n.lat,n.lng)),this},pad:function(t){var e=this._southWest,n=this._northEast,i=Math.abs(e.lat-n.lat)*t,o=Math.abs(e.lng-n.lng)*t;return new x.LatLngBounds(new x.LatLng(e.lat-i,e.lng-o),new x.LatLng(n.lat+i,n.lng+o))},getCenter:function(){return new x.LatLng((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new x.LatLng(this.getNorth(),this.getWest())},getSouthEast:function(){return new x.LatLng(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(t){t="number"==typeof t[0]||t instanceof x.LatLng?x.latLng(t):x.latLngBounds(t);var e,n,i=this._southWest,o=this._northEast;return t instanceof x.LatLngBounds?(e=t.getSouthWest(),n=t.getNorthEast()):e=n=t,e.lat>=i.lat&&n.lat<=o.lat&&e.lng>=i.lng&&n.lng<=o.lng},intersects:function(t){t=x.latLngBounds(t);var e=this._southWest,n=this._northEast,i=t.getSouthWest(),o=t.getNorthEast(),r=o.lat>=e.lat&&i.lat<=n.lat,a=o.lng>=e.lng&&i.lng<=n.lng;return r&&a},overlaps:function(t){t=x.latLngBounds(t);var e=this._southWest,n=this._northEast,i=t.getSouthWest(),o=t.getNorthEast(),r=o.lat>e.lat&&i.lat<n.lat,a=o.lng>e.lng&&i.lng<n.lng;return r&&a},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(t){return!!t&&(t=x.latLngBounds(t),this._southWest.equals(t.getSouthWest())&&this._northEast.equals(t.getNorthEast()))},isValid:function(){return!(!this._southWest||!this._northEast)}},x.latLngBounds=function(t,e){return t instanceof x.LatLngBounds?t:new x.LatLngBounds(t,e)},x.Projection={},x.Projection.LonLat={project:function(t){return new x.Point(t.lng,t.lat)},unproject:function(t){return new x.LatLng(t.y,t.x)},bounds:x.bounds([-180,-90],[180,90])},x.Projection.SphericalMercator={R:6378137,MAX_LATITUDE:85.0511287798,project:function(t){var e=Math.PI/180,n=this.MAX_LATITUDE,i=Math.max(Math.min(n,t.lat),-n),o=Math.sin(i*e);return new x.Point(this.R*t.lng*e,this.R*Math.log((1+o)/(1-o))/2)},unproject:function(t){var e=180/Math.PI;return new x.LatLng((2*Math.atan(Math.exp(t.y/this.R))-Math.PI/2)*e,t.x*e/this.R)},bounds:(i=6378137*Math.PI,x.bounds([-i,-i],[i,i]))},x.CRS={latLngToPoint:function(t,e){var n=this.projection.project(t),i=this.scale(e);return this.transformation._transform(n,i)},pointToLatLng:function(t,e){var n=this.scale(e),i=this.transformation.untransform(t,n);return this.projection.unproject(i)},project:function(t){return this.projection.project(t)},unproject:function(t){return this.projection.unproject(t)},scale:function(t){return 256*Math.pow(2,t)},zoom:function(t){return Math.log(t/256)/Math.LN2},getProjectedBounds:function(t){if(this.infinite)return null;var e=this.projection.bounds,n=this.scale(t),i=this.transformation.transform(e.min,n),o=this.transformation.transform(e.max,n);return x.bounds(i,o)},infinite:!1,wrapLatLng:function(t){var e=this.wrapLng?x.Util.wrapNum(t.lng,this.wrapLng,!0):t.lng,n=this.wrapLat?x.Util.wrapNum(t.lat,this.wrapLat,!0):t.lat,i=t.alt;return x.latLng(n,e,i)}},x.CRS.Simple=x.extend({},x.CRS,{projection:x.Projection.LonLat,transformation:new x.Transformation(1,0,-1,0),scale:function(t){return Math.pow(2,t)},zoom:function(t){return Math.log(t)/Math.LN2},distance:function(t,e){var n=e.lng-t.lng,i=e.lat-t.lat;return Math.sqrt(n*n+i*i)},infinite:!0}),x.CRS.Earth=x.extend({},x.CRS,{wrapLng:[-180,180],R:6371e3,distance:function(t,e){var n=Math.PI/180,i=t.lat*n,o=e.lat*n,r=Math.sin(i)*Math.sin(o)+Math.cos(i)*Math.cos(o)*Math.cos((e.lng-t.lng)*n);return this.R*Math.acos(Math.min(r,1))}}),x.CRS.EPSG3857=x.extend({},x.CRS.Earth,{code:"EPSG:3857",projection:x.Projection.SphericalMercator,transformation:(n=.5/(Math.PI*x.Projection.SphericalMercator.R),new x.Transformation(n,.5,-n,.5))}),x.CRS.EPSG900913=x.extend({},x.CRS.EPSG3857,{code:"EPSG:900913"}),x.CRS.EPSG4326=x.extend({},x.CRS.Earth,{code:"EPSG:4326",projection:x.Projection.LonLat,transformation:new x.Transformation(1/180,1,-1/180,.5)}),x.Map=x.Evented.extend({options:{crs:x.CRS.EPSG3857,center:w,zoom:w,minZoom:w,maxZoom:w,layers:[],maxBounds:w,renderer:w,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(t,e){e=x.setOptions(this,e),this._initContainer(t),this._initLayout(),this._onResize=x.bind(this._onResize,this),this._initEvents(),e.maxBounds&&this.setMaxBounds(e.maxBounds),e.zoom!==w&&(this._zoom=this._limitZoom(e.zoom)),e.center&&e.zoom!==w&&this.setView(x.latLng(e.center),e.zoom,{reset:!0}),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this.callInitHooks(),this._addLayers(this.options.layers)},setView:function(t,e){return e=e===w?this.getZoom():e,this._resetView(x.latLng(t),e),this},setZoom:function(t,e){return this._loaded?this.setView(this.getCenter(),t,{zoom:e}):(this._zoom=t,this)},zoomIn:function(t,e){return t=t||(x.Browser.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+t,e)},zoomOut:function(t,e){return t=t||(x.Browser.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-t,e)},setZoomAround:function(t,e,n){var i=this.getZoomScale(e),o=this.getSize().divideBy(2),r=(t instanceof x.Point?t:this.latLngToContainerPoint(t)).subtract(o).multiplyBy(1-1/i),a=this.containerPointToLatLng(o.add(r));return this.setView(a,e,{zoom:n})},_getBoundsCenterZoom:function(t,e){e=e||{},t=t.getBounds?t.getBounds():x.latLngBounds(t);var n=x.point(e.paddingTopLeft||e.padding||[0,0]),i=x.point(e.paddingBottomRight||e.padding||[0,0]),o=this.getBoundsZoom(t,!1,n.add(i));o="number"==typeof e.maxZoom?Math.min(e.maxZoom,o):o;var r=i.subtract(n).divideBy(2),a=this.project(t.getSouthWest(),o),s=this.project(t.getNorthEast(),o);return{center:this.unproject(a.add(s).divideBy(2).add(r),o),zoom:o}},fitBounds:function(t,e){if(!(t=x.latLngBounds(t)).isValid())throw new Error("Bounds are not valid.");var n=this._getBoundsCenterZoom(t,e);return this.setView(n.center,n.zoom,e)},fitWorld:function(t){return this.fitBounds([[-90,-180],[90,180]],t)},panTo:function(t,e){return this.setView(t,this._zoom,{pan:e})},panBy:function(t){return this.fire("movestart"),this._rawPanBy(x.point(t)),this.fire("move"),this.fire("moveend")},setMaxBounds:function(t){return(t=x.latLngBounds(t)).isValid()?(this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this.options.maxBounds=t,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this.off("moveend",this._panInsideMaxBounds))},setMinZoom:function(t){return this.options.minZoom=t,this._loaded&&this.getZoom()<this.options.minZoom?this.setZoom(t):this},setMaxZoom:function(t){return this.options.maxZoom=t,this._loaded&&this.getZoom()>this.options.maxZoom?this.setZoom(t):this},panInsideBounds:function(t,e){this._enforcingBounds=!0;var n=this.getCenter(),i=this._limitCenter(n,this._zoom,x.latLngBounds(t));return n.equals(i)||this.panTo(i,e),this._enforcingBounds=!1,this},invalidateSize:function(t){if(!this._loaded)return this;t=x.extend({animate:!1,pan:!0},!0===t?{animate:!0}:t);var e=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var n=this.getSize(),i=e.divideBy(2).round(),o=n.divideBy(2).round(),r=i.subtract(o);return r.x||r.y?(t.animate&&t.pan?this.panBy(r):(t.pan&&this._rawPanBy(r),this.fire("move"),t.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(x.bind(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:e,newSize:n})):this},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},addHandler:function(t,e){if(!e)return this;var n=this[t]=new e(this);return this._handlers.push(n),this.options[t]&&n.enable(),this},remove:function(){this._initEvents(!0);try{delete this._container._leaflet}catch(t){this._container._leaflet=w}for(var t in x.DomUtil.remove(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._clearHandlers(),this._loaded&&this.fire("unload"),this._layers)this._layers[t].remove();return this},createPane:function(t,e){var n="leaflet-pane"+(t?" leaflet-"+t.replace("Pane","")+"-pane":""),i=x.DomUtil.create("div",n,e||this._mapPane);return t&&(this._panes[t]=i),i},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter:this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var t=this.getPixelBounds(),e=this.unproject(t.getBottomLeft()),n=this.unproject(t.getTopRight());return new x.LatLngBounds(e,n)},getMinZoom:function(){return this.options.minZoom===w?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===w?this._layersMaxZoom===w?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(t,e,n){t=x.latLngBounds(t),n=x.point(n||[0,0]);var i=this.getZoom()||0,o=this.getMinZoom(),r=this.getMaxZoom(),a=t.getNorthWest(),s=t.getSouthEast(),l=this.getSize().subtract(n),u=this.project(s,i).subtract(this.project(a,i)),c=x.Browser.any3d?this.options.zoomSnap:1,p=Math.min(l.x/u.x,l.y/u.y);return i=this.getScaleZoom(p,i),c&&(i=Math.round(i/(c/100))*(c/100),i=e?Math.ceil(i/c)*c:Math.floor(i/c)*c),Math.max(o,Math.min(r,i))},getSize:function(){return this._size&&!this._sizeChanged||(this._size=new x.Point(this._container.clientWidth,this._container.clientHeight),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(t,e){var n=this._getTopLeftPoint(t,e);return new x.Bounds(n,n.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(t){return this.options.crs.getProjectedBounds(t===w?this.getZoom():t)},getPane:function(t){return"string"==typeof t?this._panes[t]:t},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(t,e){var n=this.options.crs;return e=e===w?this._zoom:e,n.scale(t)/n.scale(e)},getScaleZoom:function(t,e){var n=this.options.crs;return e=e===w?this._zoom:e,n.zoom(t*n.scale(e))},project:function(t,e){return e=e===w?this._zoom:e,this.options.crs.latLngToPoint(x.latLng(t),e)},unproject:function(t,e){return e=e===w?this._zoom:e,this.options.crs.pointToLatLng(x.point(t),e)},layerPointToLatLng:function(t){var e=x.point(t).add(this.getPixelOrigin());return this.unproject(e)},latLngToLayerPoint:function(t){return this.project(x.latLng(t))._round()._subtract(this.getPixelOrigin())},wrapLatLng:function(t){return this.options.crs.wrapLatLng(x.latLng(t))},distance:function(t,e){return this.options.crs.distance(x.latLng(t),x.latLng(e))},containerPointToLayerPoint:function(t){return x.point(t).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(t){return x.point(t).add(this._getMapPanePos())},containerPointToLatLng:function(t){var e=this.containerPointToLayerPoint(x.point(t));return this.layerPointToLatLng(e)},latLngToContainerPoint:function(t){return this.layerPointToContainerPoint(this.latLngToLayerPoint(x.latLng(t)))},mouseEventToContainerPoint:function(t){return x.DomEvent.getMousePosition(t,this._container)},mouseEventToLayerPoint:function(t){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(t))},mouseEventToLatLng:function(t){return this.layerPointToLatLng(this.mouseEventToLayerPoint(t))},_initContainer:function(t){var e=this._container=x.DomUtil.get(t);if(!e)throw new Error("Map container not found.");if(e._leaflet)throw new Error("Map container is already initialized.");x.DomEvent.addListener(e,"scroll",this._onScroll,this),e._leaflet=!0},_initLayout:function(){var t=this._container;this._fadeAnimated=this.options.fadeAnimation&&x.Browser.any3d,x.DomUtil.addClass(t,"leaflet-container"+(x.Browser.touch?" leaflet-touch":"")+(x.Browser.retina?" leaflet-retina":"")+(x.Browser.ielt9?" leaflet-oldie":"")+(x.Browser.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var e=x.DomUtil.getStyle(t,"position");"absolute"!==e&&"relative"!==e&&"fixed"!==e&&(t.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var t=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),x.DomUtil.setPosition(this._mapPane,new x.Point(0,0)),this.createPane("tilePane"),this.createPane("shadowPane"),this.createPane("overlayPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(x.DomUtil.addClass(t.markerPane,"leaflet-zoom-hide"),x.DomUtil.addClass(t.shadowPane,"leaflet-zoom-hide"))},_resetView:function(t,e){x.DomUtil.setPosition(this._mapPane,new x.Point(0,0));var n=!this._loaded;this._loaded=!0,e=this._limitZoom(e),this.fire("viewprereset");var i=this._zoom!==e;this._moveStart(i)._move(t,e)._moveEnd(i),this.fire("viewreset"),n&&this.fire("load")},_moveStart:function(t){return t&&this.fire("zoomstart"),this.fire("movestart")},_move:function(t,e,n){e===w&&(e=this._zoom);var i=this._zoom!==e;return this._zoom=e,this._lastCenter=t,this._pixelOrigin=this._getNewPixelOrigin(t),(i||n&&n.pinch)&&this.fire("zoom",n),this.fire("move",n)},_moveEnd:function(t){return t&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return x.Util.cancelAnimFrame(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(t){x.DomUtil.setPosition(this._mapPane,this._getMapPanePos().subtract(t))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(t){if(x.DomEvent){this._targets={},this._targets[x.stamp(this._container)]=this;var e=t?"off":"on";x.DomEvent[e](this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress",this._handleDOMEvent,this),this.options.trackResize&&x.DomEvent[e](s,"resize",this._onResize,this),x.Browser.any3d&&this.options.transform3DLimit&&this[e]("moveend",this._onMoveEnd)}},_onResize:function(){x.Util.cancelAnimFrame(this._resizeRequest),this._resizeRequest=x.Util.requestAnimFrame(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var t=this._getMapPanePos();Math.max(Math.abs(t.x),Math.abs(t.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(t,e){for(var n,i=[],o="mouseout"===e||"mouseover"===e,r=t.target||t.srcElement,a=!1;r;){if((n=this._targets[x.stamp(r)])&&("click"===e||"preclick"===e)&&!t._simulated&&this._draggableMoved(n)){a=!0;break}if(n&&n.listens(e,!0)){if(o&&!x.DomEvent._isExternalTarget(r,t))break;if(i.push(n),o)break}if(r===this._container)break;r=r.parentNode}return i.length||a||o||!x.DomEvent._isExternalTarget(r,t)||(i=[this]),i},_handleDOMEvent:function(t){if(this._loaded&&!x.DomEvent._skipped(t)){var e="keypress"===t.type&&13===t.keyCode?"click":t.type;"mousedown"===e&&x.DomUtil.preventOutline(t.target||t.srcElement),this._fireDOMEvent(t,e)}},_fireDOMEvent:function(t,e,n){if("click"===t.type){var i=x.Util.extend({},t);i.type="preclick",this._fireDOMEvent(i,i.type,n)}if(!t._stopped&&(n=(n||[]).concat(this._findEventTargets(t,e))).length){var o=n[0];"contextmenu"===e&&o.listens(e,!0)&&x.DomEvent.preventDefault(t);var r={originalEvent:t};if("keypress"!==t.type){var a=o instanceof x.Marker;r.containerPoint=a?this.latLngToContainerPoint(o.getLatLng()):this.mouseEventToContainerPoint(t),r.layerPoint=this.containerPointToLayerPoint(r.containerPoint),r.latlng=a?o.getLatLng():this.layerPointToLatLng(r.layerPoint)}for(var s=0;s<n.length;s++)if(n[s].fire(e,r,!0),r.originalEvent._stopped||n[s].options.nonBubblingEvents&&-1!==x.Util.indexOf(n[s].options.nonBubblingEvents,e))return}},_draggableMoved:function(t){return(t=t.dragging&&t.dragging.enabled()?t:this).dragging&&t.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var t=0,e=this._handlers.length;t<e;t++)this._handlers[t].disable()},whenReady:function(t,e){return this._loaded?t.call(e||this,{target:this}):this.on("load",t,e),this},_getMapPanePos:function(){return x.DomUtil.getPosition(this._mapPane)||new x.Point(0,0)},_moved:function(){var t=this._getMapPanePos();return t&&!t.equals([0,0])},_getTopLeftPoint:function(t,e){return(t&&e!==w?this._getNewPixelOrigin(t,e):this.getPixelOrigin()).subtract(this._getMapPanePos())},_getNewPixelOrigin:function(t,e){var n=this.getSize()._divideBy(2);return this.project(t,e)._subtract(n)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(t,e,n){var i=this._getNewPixelOrigin(n,e);return this.project(t,e)._subtract(i)},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(t){return this.latLngToLayerPoint(t).subtract(this._getCenterLayerPoint())},_limitCenter:function(t,e,n){if(!n)return t;var i=this.project(t,e),o=this.getSize().divideBy(2),r=new x.Bounds(i.subtract(o),i.add(o)),a=this._getBoundsOffset(r,n,e);return a.round().equals([0,0])?t:this.unproject(i.add(a),e)},_limitOffset:function(t,e){if(!e)return t;var n=this.getPixelBounds(),i=new x.Bounds(n.min.add(t),n.max.add(t));return t.add(this._getBoundsOffset(i,e))},_getBoundsOffset:function(t,e,n){var i=x.bounds(this.project(e.getNorthEast(),n),this.project(e.getSouthWest(),n)),o=i.min.subtract(t.min),r=i.max.subtract(t.max),a=this._rebound(o.x,-r.x),s=this._rebound(o.y,-r.y);return new x.Point(a,s)},_rebound:function(t,e){return 0<t+e?Math.round(t-e)/2:Math.max(0,Math.ceil(t))-Math.max(0,Math.floor(e))},_limitZoom:function(t){var e=this.getMinZoom(),n=this.getMaxZoom(),i=x.Browser.any3d?this.options.zoomSnap:1;return i&&(t=Math.round(t/i)*i),Math.max(e,Math.min(n,t))}}),x.map=function(t,e){return new x.Map(t,e)},x.Layer=x.Evented.extend({options:{pane:"overlayPane",nonBubblingEvents:[]},addTo:function(t){return t.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(t){return t&&t.removeLayer(this),this},getPane:function(t){return this._map.getPane(t?this.options[t]||t:this.options.pane)},addInteractiveTarget:function(t){return this._map._targets[x.stamp(t)]=this},removeInteractiveTarget:function(t){return delete this._map._targets[x.stamp(t)],this},_layerAdd:function(t){var e=t.target;if(e.hasLayer(this)){if(this._map=e,this._zoomAnimated=e._zoomAnimated,this.getEvents){var n=this.getEvents();e.on(n,this),this.once("remove",function(){e.off(n,this)},this)}this.onAdd(e),this.getAttribution&&this._map.attributionControl&&this._map.attributionControl.addAttribution(this.getAttribution()),this.fire("add"),e.fire("layeradd",{layer:this})}}}),x.Map.include({addLayer:function(t){var e=x.stamp(t);return this._layers[e]||((this._layers[e]=t)._mapToAdd=this,t.beforeAdd&&t.beforeAdd(this),this.whenReady(t._layerAdd,t)),this},removeLayer:function(t){var e=x.stamp(t);return this._layers[e]&&(this._loaded&&t.onRemove(this),t.getAttribution&&this.attributionControl&&this.attributionControl.removeAttribution(t.getAttribution()),delete this._layers[e],this._loaded&&(this.fire("layerremove",{layer:t}),t.fire("remove")),t._map=t._mapToAdd=null),this},hasLayer:function(t){return!!t&&x.stamp(t)in this._layers},eachLayer:function(t,e){for(var n in this._layers)t.call(e,this._layers[n]);return this},_addLayers:function(t){for(var e=0,n=(t=t?x.Util.isArray(t)?t:[t]:[]).length;e<n;e++)this.addLayer(t[e])},_addZoomLimit:function(t){!isNaN(t.options.maxZoom)&&isNaN(t.options.minZoom)||(this._zoomBoundLayers[x.stamp(t)]=t,this._updateZoomLevels())},_removeZoomLimit:function(t){var e=x.stamp(t);this._zoomBoundLayers[e]&&(delete this._zoomBoundLayers[e],this._updateZoomLevels())},_updateZoomLevels:function(){var t=1/0,e=-1/0,n=this._getZoomSpan();for(var i in this._zoomBoundLayers){var o=this._zoomBoundLayers[i].options;t=o.minZoom===w?t:Math.min(t,o.minZoom),e=o.maxZoom===w?e:Math.max(e,o.maxZoom)}this._layersMaxZoom=e===-1/0?w:e,this._layersMinZoom=t===1/0?w:t,n!==this._getZoomSpan()&&this.fire("zoomlevelschange")}}),x.Projection.Mercator={R:6378137,R_MINOR:6356752.314245179,bounds:x.bounds([-20037508.34279,-15496570.73972],[20037508.34279,18764656.23138]),project:function(t){var e=Math.PI/180,n=this.R,i=t.lat*e,o=this.R_MINOR/n,r=Math.sqrt(1-o*o),a=r*Math.sin(i),s=Math.tan(Math.PI/4-i/2)/Math.pow((1-a)/(1+a),r/2);return i=-n*Math.log(Math.max(s,1e-10)),new x.Point(t.lng*e*n,i)},unproject:function(t){for(var e,n=180/Math.PI,i=this.R,o=this.R_MINOR/i,r=Math.sqrt(1-o*o),a=Math.exp(-t.y/i),s=Math.PI/2-2*Math.atan(a),l=0,u=.1;l<15&&1e-7<Math.abs(u);l++)e=r*Math.sin(s),e=Math.pow((1-e)/(1+e),r/2),s+=u=Math.PI/2-2*Math.atan(a*e)-s;return new x.LatLng(s*n,t.x*n/i)}},x.CRS.EPSG3395=x.extend({},x.CRS.Earth,{code:"EPSG:3395",projection:x.Projection.Mercator,transformation:(e=.5/(Math.PI*x.Projection.Mercator.R),new x.Transformation(e,.5,-e,.5))}),x.GridLayer=x.Layer.extend({options:{tileSize:256,opacity:1,updateWhenIdle:x.Browser.mobile,updateWhenZooming:!0,updateInterval:200,attribution:null,zIndex:1,bounds:null,minZoom:0,maxZoom:w,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(t){t=x.setOptions(this,t)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView(),this._update()},beforeAdd:function(t){t._addZoomLimit(this)},onRemove:function(t){this._removeAllTiles(),x.DomUtil.remove(this._container),t._removeZoomLimit(this),this._container=null,this._tileZoom=null},bringToFront:function(){return this._map&&(x.DomUtil.toFront(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(x.DomUtil.toBack(this._container),this._setAutoZIndex(Math.min)),this},getAttribution:function(){return this.options.attribution},getContainer:function(){return this._container},setOpacity:function(t){return this.options.opacity=t,this._updateOpacity(),this},setZIndex:function(t){return this.options.zIndex=t,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){return this._map&&(this._removeAllTiles(),this._update()),this},getEvents:function(){var t={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=x.Util.throttle(this._onMoveEnd,this.options.updateInterval,this)),t.move=this._onMove),this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},createTile:function(){return m.createElement("div")},getTileSize:function(){var t=this.options.tileSize;return t instanceof x.Point?t:new x.Point(t,t)},_updateZIndex:function(){this._container&&this.options.zIndex!==w&&null!==this.options.zIndex&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(t){for(var e,n=this.getPane().children,i=-t(-1/0,1/0),o=0,r=n.length;o<r;o++)e=n[o].style.zIndex,n[o]!==this._container&&e&&(i=t(i,+e));isFinite(i)&&(this.options.zIndex=i+t(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!x.Browser.ielt9){x.DomUtil.setOpacity(this._container,this.options.opacity);var t=+new Date,e=!1,n=!1;for(var i in this._tiles){var o=this._tiles[i];if(o.current&&o.loaded){var r=Math.min(1,(t-o.loaded)/200);x.DomUtil.setOpacity(o.el,r),r<1?e=!0:(o.active&&(n=!0),o.active=!0)}}n&&!this._noPrune&&this._pruneTiles(),e&&(x.Util.cancelAnimFrame(this._fadeFrame),this._fadeFrame=x.Util.requestAnimFrame(this._updateOpacity,this))}},_initContainer:function(){this._container||(this._container=x.DomUtil.create("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var t=this._tileZoom,e=this.options.maxZoom;if(t===w)return w;for(var n in this._levels)this._levels[n].el.children.length||n===t?this._levels[n].el.style.zIndex=e-Math.abs(t-n):(x.DomUtil.remove(this._levels[n].el),this._removeTilesAtZoom(n),delete this._levels[n]);var i=this._levels[t],o=this._map;return i||((i=this._levels[t]={}).el=x.DomUtil.create("div","leaflet-tile-container leaflet-zoom-animated",this._container),i.el.style.zIndex=e,i.origin=o.project(o.unproject(o.getPixelOrigin()),t).round(),i.zoom=t,this._setZoomTransform(i,o.getCenter(),o.getZoom()),x.Util.falseFn(i.el.offsetWidth)),this._level=i},_pruneTiles:function(){if(this._map){var t,e,n=this._map.getZoom();if(n>this.options.maxZoom||n<this.options.minZoom)return void this._removeAllTiles();for(t in this._tiles)(e=this._tiles[t]).retain=e.current;for(t in this._tiles)if((e=this._tiles[t]).current&&!e.active){var i=e.coords;this._retainParent(i.x,i.y,i.z,i.z-5)||this._retainChildren(i.x,i.y,i.z,i.z+2)}for(t in this._tiles)this._tiles[t].retain||this._removeTile(t)}},_removeTilesAtZoom:function(t){for(var e in this._tiles)this._tiles[e].coords.z===t&&this._removeTile(e)},_removeAllTiles:function(){for(var t in this._tiles)this._removeTile(t)},_invalidateAll:function(){for(var t in this._levels)x.DomUtil.remove(this._levels[t].el),delete this._levels[t];this._removeAllTiles(),this._tileZoom=null},_retainParent:function(t,e,n,i){var o=Math.floor(t/2),r=Math.floor(e/2),a=n-1,s=new x.Point(+o,+r);s.z=+a;var l=this._tileCoordsToKey(s),u=this._tiles[l];return u&&u.active?u.retain=!0:(u&&u.loaded&&(u.retain=!0),i<a&&this._retainParent(o,r,a,i))},_retainChildren:function(t,e,n,i){for(var o=2*t;o<2*t+2;o++)for(var r=2*e;r<2*e+2;r++){var a=new x.Point(o,r);a.z=n+1;var s=this._tileCoordsToKey(a),l=this._tiles[s];l&&l.active?l.retain=!0:(l&&l.loaded&&(l.retain=!0),n+1<i&&this._retainChildren(o,r,n+1,i))}},_resetView:function(t){var e=t&&(t.pinch||t.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),e,e)},_animateZoom:function(t){this._setView(t.center,t.zoom,!0,t.noUpdate)},_setView:function(t,e,n,i){var o=Math.round(e);(this.options.maxZoom!==w&&o>this.options.maxZoom||this.options.minZoom!==w&&o<this.options.minZoom)&&(o=w);var r=this.options.updateWhenZooming&&o!==this._tileZoom;i&&!r||(this._tileZoom=o,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),o!==w&&this._update(t),n||this._pruneTiles(),this._noPrune=!!n),this._setZoomTransforms(t,e)},_setZoomTransforms:function(t,e){for(var n in this._levels)this._setZoomTransform(this._levels[n],t,e)},_setZoomTransform:function(t,e,n){var i=this._map.getZoomScale(n,t.zoom),o=t.origin.multiplyBy(i).subtract(this._map._getNewPixelOrigin(e,n)).round();x.Browser.any3d?x.DomUtil.setTransform(t.el,o,i):x.DomUtil.setPosition(t.el,o)},_resetGrid:function(){var t=this._map,e=t.options.crs,n=this._tileSize=this.getTileSize(),i=this._tileZoom,o=this._map.getPixelWorldBounds(this._tileZoom);o&&(this._globalTileRange=this._pxBoundsToTileRange(o)),this._wrapX=e.wrapLng&&!this.options.noWrap&&[Math.floor(t.project([0,e.wrapLng[0]],i).x/n.x),Math.ceil(t.project([0,e.wrapLng[1]],i).x/n.y)],this._wrapY=e.wrapLat&&!this.options.noWrap&&[Math.floor(t.project([e.wrapLat[0],0],i).y/n.x),Math.ceil(t.project([e.wrapLat[1],0],i).y/n.y)]},_onMoveEnd:function(){this._map&&!this._map._animatingZoom&&this._update()},_getTiledPixelBounds:function(t){var e=this._map,n=e._animatingZoom?Math.max(e._animateToZoom,e.getZoom()):e.getZoom(),i=e.getZoomScale(n,this._tileZoom),o=e.project(t,this._tileZoom).floor(),r=e.getSize().divideBy(2*i);return new x.Bounds(o.subtract(r),o.add(r))},_update:function(t){var e=this._map;if(e){var n=e.getZoom();if(t===w&&(t=e.getCenter()),this._tileZoom!==w){var i=this._getTiledPixelBounds(t),o=this._pxBoundsToTileRange(i),r=o.getCenter(),a=[],s=this.options.keepBuffer,l=new x.Bounds(o.getBottomLeft().subtract([s,-s]),o.getTopRight().add([s,-s]));for(var u in this._tiles){var c=this._tiles[u].coords;c.z===this._tileZoom&&l.contains(x.point(c.x,c.y))||(this._tiles[u].current=!1)}if(1<Math.abs(n-this._tileZoom))return void this._setView(t,n);for(var p=o.min.y;p<=o.max.y;p++)for(var h=o.min.x;h<=o.max.x;h++){var d=new x.Point(h,p);if(d.z=this._tileZoom,this._isValidTile(d)){var f=this._tiles[this._tileCoordsToKey(d)];f?f.current=!0:a.push(d)}}if(a.sort(function(t,e){return t.distanceTo(r)-e.distanceTo(r)}),0!==a.length){this._loading||(this._loading=!0,this.fire("loading"));var g=m.createDocumentFragment();for(h=0;h<a.length;h++)this._addTile(a[h],g);this._level.el.appendChild(g)}}}},_isValidTile:function(t){var e=this._map.options.crs;if(!e.infinite){var n=this._globalTileRange;if(!e.wrapLng&&(t.x<n.min.x||t.x>n.max.x)||!e.wrapLat&&(t.y<n.min.y||t.y>n.max.y))return!1}if(!this.options.bounds)return!0;var i=this._tileCoordsToBounds(t);return x.latLngBounds(this.options.bounds).overlaps(i)},_keyToBounds:function(t){return this._tileCoordsToBounds(this._keyToTileCoords(t))},_tileCoordsToBounds:function(t){var e=this._map,n=this.getTileSize(),i=t.scaleBy(n),o=i.add(n),r=e.wrapLatLng(e.unproject(i,t.z)),a=e.wrapLatLng(e.unproject(o,t.z));return new x.LatLngBounds(r,a)},_tileCoordsToKey:function(t){return t.x+":"+t.y+":"+t.z},_keyToTileCoords:function(t){var e=t.split(":"),n=new x.Point(+e[0],+e[1]);return n.z=+e[2],n},_removeTile:function(t){var e=this._tiles[t];e&&(x.DomUtil.remove(e.el),delete this._tiles[t],this.fire("tileunload",{tile:e.el,coords:this._keyToTileCoords(t)}))},_initTile:function(t){x.DomUtil.addClass(t,"leaflet-tile");var e=this.getTileSize();t.style.width=e.x+"px",t.style.height=e.y+"px",t.onselectstart=x.Util.falseFn,t.onmousemove=x.Util.falseFn,x.Browser.ielt9&&this.options.opacity<1&&x.DomUtil.setOpacity(t,this.options.opacity),x.Browser.android&&!x.Browser.android23&&(t.style.WebkitBackfaceVisibility="hidden")},_addTile:function(t,e){var n=this._getTilePos(t),i=this._tileCoordsToKey(t),o=this.createTile(this._wrapCoords(t),x.bind(this._tileReady,this,t));this._initTile(o),this.createTile.length<2&&x.Util.requestAnimFrame(x.bind(this._tileReady,this,t,null,o)),x.DomUtil.setPosition(o,n),this._tiles[i]={el:o,coords:t,current:!0},e.appendChild(o),this.fire("tileloadstart",{tile:o,coords:t})},_tileReady:function(t,e,n){if(this._map){e&&this.fire("tileerror",{error:e,tile:n,coords:t});var i=this._tileCoordsToKey(t);(n=this._tiles[i])&&(n.loaded=+new Date,this._map._fadeAnimated?(x.DomUtil.setOpacity(n.el,0),x.Util.cancelAnimFrame(this._fadeFrame),this._fadeFrame=x.Util.requestAnimFrame(this._updateOpacity,this)):(n.active=!0,this._pruneTiles()),x.DomUtil.addClass(n.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:n.el,coords:t}),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),x.Browser.ielt9||!this._map._fadeAnimated?x.Util.requestAnimFrame(this._pruneTiles,this):setTimeout(x.bind(this._pruneTiles,this),250)))}},_getTilePos:function(t){return t.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(t){var e=new x.Point(this._wrapX?x.Util.wrapNum(t.x,this._wrapX):t.x,this._wrapY?x.Util.wrapNum(t.y,this._wrapY):t.y);return e.z=t.z,e},_pxBoundsToTileRange:function(t){var e=this.getTileSize();return new x.Bounds(t.min.unscaleBy(e).floor(),t.max.unscaleBy(e).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var t in this._tiles)if(!this._tiles[t].loaded)return!1;return!0}}),x.gridLayer=function(t){return new x.GridLayer(t)},x.TileLayer=x.GridLayer.extend({options:{minZoom:0,maxZoom:18,maxNativeZoom:null,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1},initialize:function(t,e){this._url=t,(e=x.setOptions(this,e)).detectRetina&&x.Browser.retina&&0<e.maxZoom&&(e.tileSize=Math.floor(e.tileSize/2),e.zoomReverse?(e.zoomOffset--,e.minZoom++):(e.zoomOffset++,e.maxZoom--),e.minZoom=Math.max(0,e.minZoom)),"string"==typeof e.subdomains&&(e.subdomains=e.subdomains.split("")),x.Browser.android||this.on("tileunload",this._onTileRemove)},setUrl:function(t,e){return this._url=t,e||this.redraw(),this},createTile:function(t,e){var n=m.createElement("img");return x.DomEvent.on(n,"load",x.bind(this._tileOnLoad,this,e,n)),x.DomEvent.on(n,"error",x.bind(this._tileOnError,this,e,n)),this.options.crossOrigin&&(n.crossOrigin=""),n.alt="",n.src=this.getTileUrl(t),n},getTileUrl:function(t){var e={r:x.Browser.retina?"@2x":"",s:this._getSubdomain(t),x:t.x,y:t.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var n=this._globalTileRange.max.y-t.y;this.options.tms&&(e.y=n),e["-y"]=n}return x.Util.template(this._url,x.extend(e,this.options))},_tileOnLoad:function(t,e){x.Browser.ielt9?setTimeout(x.bind(t,this,null,e),0):t(null,e)},_tileOnError:function(t,e,n){var i=this.options.errorTileUrl;i&&(e.src=i),t(n,e)},getTileSize:function(){var t=this._map,e=x.GridLayer.prototype.getTileSize.call(this),n=this._tileZoom+this.options.zoomOffset,i=this.options.maxNativeZoom;return null!==i&&i<n?e.divideBy(t.getZoomScale(i,n)).round():e},_onTileRemove:function(t){t.tile.onload=null},_getZoomForUrl:function(){var t=this.options,e=this._tileZoom;return t.zoomReverse&&(e=t.maxZoom-e),e+=t.zoomOffset,null!==t.maxNativeZoom?Math.min(e,t.maxNativeZoom):e},_getSubdomain:function(t){var e=Math.abs(t.x+t.y)%this.options.subdomains.length;return this.options.subdomains[e]},_abortLoading:function(){var t,e;for(t in this._tiles)this._tiles[t].coords.z!==this._tileZoom&&((e=this._tiles[t].el).onload=x.Util.falseFn,e.onerror=x.Util.falseFn,e.complete||(e.src=x.Util.emptyImageUrl,x.DomUtil.remove(e)))}}),x.tileLayer=function(t,e){return new x.TileLayer(t,e)},x.TileLayer.WMS=x.TileLayer.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(t,e){this._url=t;var n=x.extend({},this.defaultWmsParams);for(var i in e)i in this.options||(n[i]=e[i]);e=x.setOptions(this,e),n.width=n.height=e.tileSize*(e.detectRetina&&x.Browser.retina?2:1),this.wmsParams=n},onAdd:function(t){this._crs=this.options.crs||t.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var e=1.3<=this._wmsVersion?"crs":"srs";this.wmsParams[e]=this._crs.code,x.TileLayer.prototype.onAdd.call(this,t)},getTileUrl:function(t){var e=this._tileCoordsToBounds(t),n=this._crs.project(e.getNorthWest()),i=this._crs.project(e.getSouthEast()),o=(1.3<=this._wmsVersion&&this._crs===x.CRS.EPSG4326?[i.y,n.x,n.y,i.x]:[n.x,i.y,i.x,n.y]).join(","),r=x.TileLayer.prototype.getTileUrl.call(this,t);return r+x.Util.getParamString(this.wmsParams,r,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+o},setParams:function(t,e){return x.extend(this.wmsParams,t),e||this.redraw(),this}}),x.tileLayer.wms=function(t,e){return new x.TileLayer.WMS(t,e)},x.ImageOverlay=x.Layer.extend({options:{opacity:1,alt:"",interactive:!1,attribution:null,crossOrigin:!1},initialize:function(t,e,n){this._url=t,this._bounds=x.latLngBounds(e),x.setOptions(this,n)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(x.DomUtil.addClass(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){x.DomUtil.remove(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(t){return this.options.opacity=t,this._image&&this._updateOpacity(),this},setStyle:function(t){return t.opacity&&this.setOpacity(t.opacity),this},bringToFront:function(){return this._map&&x.DomUtil.toFront(this._image),this},bringToBack:function(){return this._map&&x.DomUtil.toBack(this._image),this},setUrl:function(t){return this._url=t,this._image&&(this._image.src=t),this},setBounds:function(t){return this._bounds=t,this._map&&this._reset(),this},getAttribution:function(){return this.options.attribution},getEvents:function(){var t={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var t=this._image=x.DomUtil.create("img","leaflet-image-layer "+(this._zoomAnimated?"leaflet-zoom-animated":""));t.onselectstart=x.Util.falseFn,t.onmousemove=x.Util.falseFn,t.onload=x.bind(this.fire,this,"load"),this.options.crossOrigin&&(t.crossOrigin=""),t.src=this._url,t.alt=this.options.alt},_animateZoom:function(t){var e=this._map.getZoomScale(t.zoom),n=this._map._latLngToNewLayerPoint(this._bounds.getNorthWest(),t.zoom,t.center);x.DomUtil.setTransform(this._image,n,e)},_reset:function(){var t=this._image,e=new x.Bounds(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),n=e.getSize();x.DomUtil.setPosition(t,e.min),t.style.width=n.x+"px",t.style.height=n.y+"px"},_updateOpacity:function(){x.DomUtil.setOpacity(this._image,this.options.opacity)}}),x.imageOverlay=function(t,e,n){return new x.ImageOverlay(t,e,n)},x.Icon=x.Class.extend({initialize:function(t){x.setOptions(this,t)},createIcon:function(t){return this._createIcon("icon",t)},createShadow:function(t){return this._createIcon("shadow",t)},_createIcon:function(t,e){var n=this._getIconUrl(t);if(!n){if("icon"===t)throw new Error("iconUrl not set in Icon options (see the docs).");return null}var i=this._createImg(n,e&&"IMG"===e.tagName?e:null);return this._setIconStyles(i,t),i},_setIconStyles:function(t,e){var n=this.options,i=n[e+"Size"];"number"==typeof i&&(i=[i,i]);var o=x.point(i),r=x.point("shadow"===e&&n.shadowAnchor||n.iconAnchor||o&&o.divideBy(2,!0));t.className="leaflet-marker-"+e+" "+(n.className||""),r&&(t.style.marginLeft=-r.x+"px",t.style.marginTop=-r.y+"px"),o&&(t.style.width=o.x+"px",t.style.height=o.y+"px")},_createImg:function(t,e){return(e=e||m.createElement("img")).src=t,e},_getIconUrl:function(t){return x.Browser.retina&&this.options[t+"RetinaUrl"]||this.options[t+"Url"]}}),x.icon=function(t){return new x.Icon(t)},x.Icon.Default=x.Icon.extend({options:{iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(t){var e=t+"Url";if(this.options[e])return this.options[e];var n=x.Icon.Default.imagePath;if(!n)throw new Error("Couldn't autodetect L.Icon.Default.imagePath, set it manually.");return n+"/marker-"+t+(x.Browser.retina&&"icon"===t?"-2x":"")+".png"}}),x.Icon.Default.imagePath=function(){var t,e,n,i,o=m.getElementsByTagName("script"),r=/[\/^]leaflet[\-\._]?([\w\-\._]*)\.js\??/;for(t=0,e=o.length;t<e;t++)if((n=o[t].src||"").match(r))return((i=n.split(r)[0])?i+"/":"")+"images"}(),x.Marker=x.Layer.extend({options:{icon:new x.Icon.Default,interactive:!0,draggable:!1,keyboard:!0,title:"",alt:"",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",nonBubblingEvents:["click","dblclick","mouseover","mouseout","contextmenu"]},initialize:function(t,e){x.setOptions(this,e),this._latlng=x.latLng(t)},onAdd:function(t){this._zoomAnimated=this._zoomAnimated&&t.options.markerZoomAnimation,this._zoomAnimated&&t.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(t){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),this._zoomAnimated&&t.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(t){var e=this._latlng;return this._latlng=x.latLng(t),this.update(),this.fire("move",{oldLatLng:e,latlng:this._latlng})},setZIndexOffset:function(t){return this.options.zIndexOffset=t,this.update()},setIcon:function(t){return this.options.icon=t,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon){var t=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(t)}return this},_initIcon:function(){var t=this.options,e="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),n=t.icon.createIcon(this._icon),i=!1;n!==this._icon&&(this._icon&&this._removeIcon(),i=!0,t.title&&(n.title=t.title),t.alt&&(n.alt=t.alt)),x.DomUtil.addClass(n,e),t.keyboard&&(n.tabIndex="0"),this._icon=n,t.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex});var o=t.icon.createShadow(this._shadow),r=!1;o!==this._shadow&&(this._removeShadow(),r=!0),o&&x.DomUtil.addClass(o,e),this._shadow=o,t.opacity<1&&this._updateOpacity(),i&&this.getPane().appendChild(this._icon),this._initInteraction(),o&&r&&this.getPane("shadowPane").appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),x.DomUtil.remove(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&x.DomUtil.remove(this._shadow),this._shadow=null},_setPos:function(t){x.DomUtil.setPosition(this._icon,t),this._shadow&&x.DomUtil.setPosition(this._shadow,t),this._zIndex=t.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(t){this._icon.style.zIndex=this._zIndex+t},_animateZoom:function(t){var e=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center).round();this._setPos(e)},_initInteraction:function(){if(this.options.interactive&&(x.DomUtil.addClass(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),x.Handler.MarkerDrag)){var t=this.options.draggable;this.dragging&&(t=this.dragging.enabled(),this.dragging.disable()),this.dragging=new x.Handler.MarkerDrag(this),t&&this.dragging.enable()}},setOpacity:function(t){return this.options.opacity=t,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var t=this.options.opacity;x.DomUtil.setOpacity(this._icon,t),this._shadow&&x.DomUtil.setOpacity(this._shadow,t)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)}}),x.marker=function(t,e){return new x.Marker(t,e)},x.DivIcon=x.Icon.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(t){var e=t&&"DIV"===t.tagName?t:m.createElement("div"),n=this.options;if(e.innerHTML=!1!==n.html?n.html:"",n.bgPos){var i=x.point(n.bgPos);e.style.backgroundPosition=-i.x+"px "+-i.y+"px"}return this._setIconStyles(e,"icon"),e},createShadow:function(){return null}}),x.divIcon=function(t){return new x.DivIcon(t)},x.DivOverlay=x.Layer.extend({options:{offset:[0,7],zoomAnimation:!0,className:"",pane:"popupPane"},initialize:function(t,e){x.setOptions(this,t),this._source=e},onAdd:function(t){this._zoomAnimated=this._zoomAnimated&&this.options.zoomAnimation,this._container||this._initLayout(),t._fadeAnimated&&x.DomUtil.setOpacity(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),t._fadeAnimated&&x.DomUtil.setOpacity(this._container,1),this.bringToFront()},onRemove:function(t){t._fadeAnimated?(x.DomUtil.setOpacity(this._container,0),this._removeTimeout=setTimeout(x.bind(x.DomUtil.remove,x.DomUtil,this._container),200)):x.DomUtil.remove(this._container)},getLatLng:function(){return this._latlng},setLatLng:function(t){return this._latlng=x.latLng(t),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(t){return this._content=t,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var t={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&x.DomUtil.toFront(this._container),this},bringToBack:function(){return this._map&&x.DomUtil.toBack(this._container),this},_updateContent:function(){if(this._content){var t=this._contentNode,e="function"==typeof this._content?this._content(this._source||this):this._content;if("string"==typeof e)t.innerHTML=e;else{for(;t.hasChildNodes();)t.removeChild(t.firstChild);t.appendChild(e)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var t=this._map.latLngToLayerPoint(this._latlng),e=x.point(this.options.offset),n=this._getAnchor();this._zoomAnimated?x.DomUtil.setPosition(this._container,t.add(n)):e=e.add(t).add(n);var i=this._containerBottom=-e.y,o=this._containerLeft=-Math.round(this._containerWidth/2)+e.x;this._container.style.bottom=i+"px",this._container.style.left=o+"px"}},_getAnchor:function(){return[0,0]}}),x.Popup=x.DivOverlay.extend({options:{maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0},openOn:function(t){return t.openPopup(this),this},onAdd:function(t){x.DivOverlay.prototype.onAdd.call(this,t),t.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof x.Path||this._source.on("preclick",x.DomEvent.stopPropagation))},onRemove:function(t){x.DivOverlay.prototype.onRemove.call(this,t),t.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof x.Path||this._source.off("preclick",x.DomEvent.stopPropagation))},getEvents:function(){var t=x.DivOverlay.prototype.getEvents.call(this);return("closeOnClick"in this.options?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(t.preclick=this._close),this.options.keepInView&&(t.moveend=this._adjustPan),t},_close:function(){this._map&&this._map.closePopup(this)},_initLayout:function(){var t="leaflet-popup",e=this._container=x.DomUtil.create("div",t+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"));if(this.options.closeButton){var n=this._closeButton=x.DomUtil.create("a",t+"-close-button",e);n.href="#close",n.innerHTML="&#215;",x.DomEvent.on(n,"click",this._onCloseButtonClick,this)}var i=this._wrapper=x.DomUtil.create("div",t+"-content-wrapper",e);this._contentNode=x.DomUtil.create("div",t+"-content",i),x.DomEvent.disableClickPropagation(i).disableScrollPropagation(this._contentNode).on(i,"contextmenu",x.DomEvent.stopPropagation),this._tipContainer=x.DomUtil.create("div",t+"-tip-container",e),this._tip=x.DomUtil.create("div",t+"-tip",this._tipContainer)},_updateLayout:function(){var t=this._contentNode,e=t.style;e.width="",e.whiteSpace="nowrap";var n=t.offsetWidth;n=Math.min(n,this.options.maxWidth),n=Math.max(n,this.options.minWidth),e.width=n+1+"px",e.whiteSpace="",e.height="";var i=t.offsetHeight,o=this.options.maxHeight,r="leaflet-popup-scrolled";o&&o<i?(e.height=o+"px",x.DomUtil.addClass(t,r)):x.DomUtil.removeClass(t,r),this._containerWidth=this._container.offsetWidth},_animateZoom:function(t){var e=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center),n=this._getAnchor();x.DomUtil.setPosition(this._container,e.add(n))},_adjustPan:function(){if(!(!this.options.autoPan||this._map._panAnim&&this._map._panAnim._inProgress)){var t=this._map,e=parseInt(x.DomUtil.getStyle(this._container,"marginBottom"),10)||0,n=this._container.offsetHeight+e,i=this._containerWidth,o=new x.Point(this._containerLeft,-n-this._containerBottom);this._zoomAnimated&&o._add(x.DomUtil.getPosition(this._container));var r=t.layerPointToContainerPoint(o),a=x.point(this.options.autoPanPadding),s=x.point(this.options.autoPanPaddingTopLeft||a),l=x.point(this.options.autoPanPaddingBottomRight||a),u=t.getSize(),c=0,p=0;r.x+i+l.x>u.x&&(c=r.x+i-u.x+l.x),r.x-c-s.x<0&&(c=r.x-s.x),r.y+n+l.y>u.y&&(p=r.y+n-u.y+l.y),r.y-p-s.y<0&&(p=r.y-s.y),(c||p)&&t.fire("autopanstart").panBy([c,p])}},_onCloseButtonClick:function(t){this._close(),x.DomEvent.stop(t)},_getAnchor:function(){return x.point(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),x.popup=function(t,e){return new x.Popup(t,e)},x.Map.mergeOptions({closePopupOnClick:!0}),x.Map.include({openPopup:function(t,e,n){return t instanceof x.Popup||(t=new x.Popup(n).setContent(t)),e&&t.setLatLng(e),this.hasLayer(t)?this:(this._popup&&this._popup.options.autoClose&&this.closePopup(),this._popup=t,this.addLayer(t))},closePopup:function(t){return t&&t!==this._popup||(t=this._popup,this._popup=null),t&&this.removeLayer(t),this}}),x.Layer.include({bindPopup:function(t,e){return t instanceof x.Popup?(x.setOptions(t,e),(this._popup=t)._source=this):(this._popup&&!e||(this._popup=new x.Popup(e,this)),this._popup.setContent(t)),this._popupHandlersAdded||(this.on({click:this._openPopup,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(t,e){if(t instanceof x.Layer||(e=t,t=this),t instanceof x.FeatureGroup)for(var n in this._layers){t=this._layers[n];break}return e||(e=t.getCenter?t.getCenter():t.getLatLng()),this._popup&&this._map&&(this._popup._source=t,this._popup.update(),this._map.openPopup(this._popup,e)),this},closePopup:function(){return this._popup&&this._popup._close(),this},togglePopup:function(t){return this._popup&&(this._popup._map?this.closePopup():this.openPopup(t)),this},isPopupOpen:function(){return this._popup.isOpen()},setPopupContent:function(t){return this._popup&&this._popup.setContent(t),this},getPopup:function(){return this._popup},_openPopup:function(t){var e=t.layer||t.target;if(this._popup&&this._map)return x.DomEvent.stop(t),e instanceof x.Path?void this.openPopup(t.layer||t.target,t.latlng):void(this._map.hasLayer(this._popup)&&this._popup._source===e?this.closePopup():this.openPopup(e,t.latlng))},_movePopup:function(t){this._popup.setLatLng(t.latlng)}}),x.Marker.include({_getPopupAnchor:function(){return this.options.icon.options.popupAnchor||[0,0]}}),x.Tooltip=x.DivOverlay.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,interactive:!1,opacity:.9},onAdd:function(t){x.DivOverlay.prototype.onAdd.call(this,t),this.setOpacity(this.options.opacity),t.fire("tooltipopen",{tooltip:this}),this._source&&this._source.fire("tooltipopen",{tooltip:this},!0)},onRemove:function(t){x.DivOverlay.prototype.onRemove.call(this,t),t.fire("tooltipclose",{tooltip:this}),this._source&&this._source.fire("tooltipclose",{tooltip:this},!0)},getEvents:function(){var t=x.DivOverlay.prototype.getEvents.call(this);return x.Browser.touch&&!this.options.permanent&&(t.preclick=this._close),t},_close:function(){this._map&&this._map.closeTooltip(this)},_initLayout:function(){var t="leaflet-tooltip "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=x.DomUtil.create("div",t)},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(t){var e=this._map,n=this._container,i=e.latLngToContainerPoint(e.getCenter()),o=e.layerPointToContainerPoint(t),r=this.options.direction,a=n.offsetWidth,s=n.offsetHeight,l=x.point(this.options.offset),u=this._getAnchor();t="top"===r?t.add(x.point(-a/2+l.x,-s+l.y+u.y)):"bottom"===r?t.subtract(x.point(a/2-l.x,-l.y)):"center"===r?t.subtract(x.point(a/2+l.x,s/2-u.y+l.y)):"right"===r||"auto"===r&&o.x<i.x?(r="right",t.add([l.x+u.x,u.y-s/2+l.y])):(r="left",t.subtract(x.point(a+u.x-l.x,s/2-u.y-l.y))),x.DomUtil.removeClass(n,"leaflet-tooltip-right"),x.DomUtil.removeClass(n,"leaflet-tooltip-left"),x.DomUtil.removeClass(n,"leaflet-tooltip-top"),x.DomUtil.removeClass(n,"leaflet-tooltip-bottom"),x.DomUtil.addClass(n,"leaflet-tooltip-"+r),x.DomUtil.setPosition(n,t)},_updatePosition:function(){var t=this._map.latLngToLayerPoint(this._latlng);this._setPosition(t)},setOpacity:function(t){this.options.opacity=t,this._container&&x.DomUtil.setOpacity(this._container,t)},_animateZoom:function(t){var e=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center);this._setPosition(e)},_getAnchor:function(){return x.point(this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),x.tooltip=function(t,e){return new x.Tooltip(t,e)},x.Map.include({openTooltip:function(t,e,n){return t instanceof x.Tooltip||(t=new x.Tooltip(n).setContent(t)),e&&t.setLatLng(e),this.hasLayer(t)?this:this.addLayer(t)},closeTooltip:function(t){return t&&this.removeLayer(t),this}}),x.Layer.include({bindTooltip:function(t,e){return t instanceof x.Tooltip?(x.setOptions(t,e),(this._tooltip=t)._source=this):(this._tooltip&&!e||(this._tooltip=x.tooltip(e,this)),this._tooltip.setContent(t)),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(t){if(t||!this._tooltipHandlersAdded){var e=t?"off":"on",n={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?n.add=this._openTooltip:(n.mouseover=this._openTooltip,n.mouseout=this.closeTooltip,this._tooltip.options.sticky&&(n.mousemove=this._moveTooltip),x.Browser.touch&&(n.click=this._openTooltip)),this[e](n),this._tooltipHandlersAdded=!t}},openTooltip:function(t,e){if(t instanceof x.Layer||(e=t,t=this),t instanceof x.FeatureGroup)for(var n in this._layers){t=this._layers[n];break}return e||(e=t.getCenter?t.getCenter():t.getLatLng()),this._tooltip&&this._map&&(this._tooltip._source=t,this._tooltip.update(),this._map.openTooltip(this._tooltip,e),this._tooltip.options.interactive&&this._tooltip._container&&(x.DomUtil.addClass(this._tooltip._container,"leaflet-clickable"),this.addInteractiveTarget(this._tooltip._container))),this},closeTooltip:function(){return this._tooltip&&(this._tooltip._close(),this._tooltip.options.interactive&&(x.DomUtil.removeClass(this._tooltip._container,"leaflet-clickable"),this.removeInteractiveTarget(this._tooltip._container))),this},toggleTooltip:function(t){return this._tooltip&&(this._tooltip._map?this.closeTooltip():this.openTooltip(t)),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(t){return this._tooltip&&this._tooltip.setContent(t),this},getTooltip:function(){return this._tooltip},_openTooltip:function(t){var e=t.layer||t.target;this._tooltip&&this._map&&this.openTooltip(e,this._tooltip.options.sticky?t.latlng:w)},_moveTooltip:function(t){var e,n,i=t.latlng;this._tooltip.options.sticky&&t.originalEvent&&(e=this._map.mouseEventToContainerPoint(t.originalEvent),n=this._map.containerPointToLayerPoint(e),i=this._map.layerPointToLatLng(n)),this._tooltip.setLatLng(i)}}),x.Marker.include({_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor||[0,0]}}),x.LayerGroup=x.Layer.extend({initialize:function(t){var e,n;if(this._layers={},t)for(e=0,n=t.length;e<n;e++)this.addLayer(t[e])},addLayer:function(t){var e=this.getLayerId(t);return this._layers[e]=t,this._map&&this._map.addLayer(t),this},removeLayer:function(t){var e=t in this._layers?t:this.getLayerId(t);return this._map&&this._layers[e]&&this._map.removeLayer(this._layers[e]),delete this._layers[e],this},hasLayer:function(t){return!!t&&(t in this._layers||this.getLayerId(t)in this._layers)},clearLayers:function(){for(var t in this._layers)this.removeLayer(this._layers[t]);return this},invoke:function(t){var e,n,i=Array.prototype.slice.call(arguments,1);for(e in this._layers)(n=this._layers[e])[t]&&n[t].apply(n,i);return this},onAdd:function(t){for(var e in this._layers)t.addLayer(this._layers[e])},onRemove:function(t){for(var e in this._layers)t.removeLayer(this._layers[e])},eachLayer:function(t,e){for(var n in this._layers)t.call(e,this._layers[n]);return this},getLayer:function(t){return this._layers[t]},getLayers:function(){var t=[];for(var e in this._layers)t.push(this._layers[e]);return t},setZIndex:function(t){return this.invoke("setZIndex",t)},getLayerId:function(t){return x.stamp(t)}}),x.layerGroup=function(t){return new x.LayerGroup(t)},x.FeatureGroup=x.LayerGroup.extend({addLayer:function(t){return this.hasLayer(t)?this:(t.addEventParent(this),x.LayerGroup.prototype.addLayer.call(this,t),this.fire("layeradd",{layer:t}))},removeLayer:function(t){return this.hasLayer(t)?(t in this._layers&&(t=this._layers[t]),t.removeEventParent(this),x.LayerGroup.prototype.removeLayer.call(this,t),this.fire("layerremove",{layer:t})):this},setStyle:function(t){return this.invoke("setStyle",t)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var t=new x.LatLngBounds;for(var e in this._layers){var n=this._layers[e];t.extend(n.getBounds?n.getBounds():n.getLatLng())}return t}}),x.featureGroup=function(t){return new x.FeatureGroup(t)},x.Renderer=x.Layer.extend({options:{padding:.1},initialize:function(t){x.setOptions(this,t),x.stamp(this)},onAdd:function(){this._container||(this._initContainer(),this._zoomAnimated&&x.DomUtil.addClass(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update()},onRemove:function(){x.DomUtil.remove(this._container)},getEvents:function(){var t={viewreset:this._reset,zoom:this._onZoom,moveend:this._update};return this._zoomAnimated&&(t.zoomanim=this._onAnimZoom),t},_onAnimZoom:function(t){this._updateTransform(t.center,t.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(t,e){var n=this._map.getZoomScale(e,this._zoom),i=x.DomUtil.getPosition(this._container),o=this._map.getSize().multiplyBy(.5+this.options.padding),r=this._map.project(this._center,e),a=this._map.project(t,e).subtract(r),s=o.multiplyBy(-n).add(i).add(o).subtract(a);x.Browser.any3d?x.DomUtil.setTransform(this._container,s,n):x.DomUtil.setPosition(this._container,s)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom)},_update:function(){var t=this.options.padding,e=this._map.getSize(),n=this._map.containerPointToLayerPoint(e.multiplyBy(-t)).round();this._bounds=new x.Bounds(n,n.add(e.multiplyBy(1+2*t)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),x.Map.include({getRenderer:function(t){var e=t.options.renderer||this._getPaneRenderer(t.options.pane)||this.options.renderer||this._renderer;return e||(e=this._renderer=this.options.preferCanvas&&x.canvas()||x.svg()),this.hasLayer(e)||this.addLayer(e),e},_getPaneRenderer:function(t){if("overlayPane"===t||t===w)return!1;var e=this._paneRenderers[t];return e===w&&(e=x.SVG&&x.svg({pane:t})||x.Canvas&&x.canvas({pane:t}),this._paneRenderers[t]=e),e}}),x.Path=x.Layer.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0},beforeAdd:function(t){this._renderer=t.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},getEvents:function(){return{zoomend:this._project,moveend:this._update,viewreset:this._reset}},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(t){return x.setOptions(this,t),this._renderer&&this._renderer._updateStyle(this),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(x.Browser.touch?10:0)}}),x.LineUtil={simplify:function(t,e){if(!e||!t.length)return t.slice();var n=e*e;return t=this._reducePoints(t,n),this._simplifyDP(t,n)},pointToSegmentDistance:function(t,e,n){return Math.sqrt(this._sqClosestPointOnSegment(t,e,n,!0))},closestPointOnSegment:function(t,e,n){return this._sqClosestPointOnSegment(t,e,n)},_simplifyDP:function(t,e){var n=t.length,i=new(typeof Uint8Array!=w+""?Uint8Array:Array)(n);i[0]=i[n-1]=1,this._simplifyDPStep(t,i,e,0,n-1);var o,r=[];for(o=0;o<n;o++)i[o]&&r.push(t[o]);return r},_simplifyDPStep:function(t,e,n,i,o){var r,a,s,l=0;for(a=i+1;a<=o-1;a++)l<(s=this._sqClosestPointOnSegment(t[a],t[i],t[o],!0))&&(r=a,l=s);n<l&&(e[r]=1,this._simplifyDPStep(t,e,n,i,r),this._simplifyDPStep(t,e,n,r,o))},_reducePoints:function(t,e){for(var n=[t[0]],i=1,o=0,r=t.length;i<r;i++)this._sqDist(t[i],t[o])>e&&(n.push(t[i]),o=i);return o<r-1&&n.push(t[r-1]),n},clipSegment:function(t,e,n,i,o){var r,a,s,l=i?this._lastCode:this._getBitCode(t,n),u=this._getBitCode(e,n);for(this._lastCode=u;;){if(!(l|u))return[t,e];if(l&u)return!1;r=l||u,a=this._getEdgeIntersection(t,e,r,n,o),s=this._getBitCode(a,n),r===l?(t=a,l=s):(e=a,u=s)}},_getEdgeIntersection:function(t,e,n,i,o){var r,a,s=e.x-t.x,l=e.y-t.y,u=i.min,c=i.max;return 8&n?(r=t.x+s*(c.y-t.y)/l,a=c.y):4&n?(r=t.x+s*(u.y-t.y)/l,a=u.y):2&n?(r=c.x,a=t.y+l*(c.x-t.x)/s):1&n&&(r=u.x,a=t.y+l*(u.x-t.x)/s),new x.Point(r,a,o)},_getBitCode:function(t,e){var n=0;return t.x<e.min.x?n|=1:t.x>e.max.x&&(n|=2),t.y<e.min.y?n|=4:t.y>e.max.y&&(n|=8),n},_sqDist:function(t,e){var n=e.x-t.x,i=e.y-t.y;return n*n+i*i},_sqClosestPointOnSegment:function(t,e,n,i){var o,r=e.x,a=e.y,s=n.x-r,l=n.y-a,u=s*s+l*l;return 0<u&&(1<(o=((t.x-r)*s+(t.y-a)*l)/u)?(r=n.x,a=n.y):0<o&&(r+=s*o,a+=l*o)),s=t.x-r,l=t.y-a,i?s*s+l*l:new x.Point(r,a)}},x.Polyline=x.Path.extend({options:{smoothFactor:1,noClip:!1},initialize:function(t,e){x.setOptions(this,e),this._setLatLngs(t)},getLatLngs:function(){return this._latlngs},setLatLngs:function(t){return this._setLatLngs(t),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(t){for(var e,n,i=1/0,o=null,r=x.LineUtil._sqClosestPointOnSegment,a=0,s=this._parts.length;a<s;a++)for(var l=this._parts[a],u=1,c=l.length;u<c;u++){var p=r(t,e=l[u-1],n=l[u],!0);p<i&&(i=p,o=r(t,e,n))}return o&&(o.distance=Math.sqrt(i)),o},getCenter:function(){var t,e,n,i,o,r,a,s=this._rings[0],l=s.length;if(!l)return null;for(e=t=0;t<l-1;t++)e+=s[t].distanceTo(s[t+1])/2;if(0===e)return this._map.layerPointToLatLng(s[0]);for(i=t=0;t<l-1;t++)if(o=s[t],r=s[t+1],e<(i+=n=o.distanceTo(r)))return a=(i-e)/n,this._map.layerPointToLatLng([r.x-a*(r.x-o.x),r.y-a*(r.y-o.y)])},getBounds:function(){return this._bounds},addLatLng:function(t,e){return e=e||this._defaultShape(),t=x.latLng(t),e.push(t),this._bounds.extend(t),this.redraw()},_setLatLngs:function(t){this._bounds=new x.LatLngBounds,this._latlngs=this._convertLatLngs(t)},_defaultShape:function(){return x.Polyline._flat(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(t){for(var e=[],n=x.Polyline._flat(t),i=0,o=t.length;i<o;i++)n?(e[i]=x.latLng(t[i]),this._bounds.extend(e[i])):e[i]=this._convertLatLngs(t[i]);return e},_project:function(){var t=new x.Bounds;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,t);var e=this._clickTolerance(),n=new x.Point(e,e);this._bounds.isValid()&&t.isValid()&&(t.min._subtract(n),t.max._add(n),this._pxBounds=t)},_projectLatlngs:function(t,e,n){var i,o,r=t[0]instanceof x.LatLng,a=t.length;if(r){for(o=[],i=0;i<a;i++)o[i]=this._map.latLngToLayerPoint(t[i]),n.extend(o[i]);e.push(o)}else for(i=0;i<a;i++)this._projectLatlngs(t[i],e,n)},_clipPoints:function(){var t=this._renderer._bounds;if(this._parts=[],this._pxBounds&&this._pxBounds.intersects(t)){if(this.options.noClip)return void(this._parts=this._rings);var e,n,i,o,r,a,s,l=this._parts;for(i=e=0,o=this._rings.length;e<o;e++)for(n=0,r=(s=this._rings[e]).length;n<r-1;n++)(a=x.LineUtil.clipSegment(s[n],s[n+1],t,n,!0))&&(l[i]=l[i]||[],l[i].push(a[0]),a[1]===s[n+1]&&n!==r-2||(l[i].push(a[1]),i++))}},_simplifyPoints:function(){for(var t=this._parts,e=this.options.smoothFactor,n=0,i=t.length;n<i;n++)t[n]=x.LineUtil.simplify(t[n],e)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)}}),x.polyline=function(t,e){return new x.Polyline(t,e)},x.Polyline._flat=function(t){return!x.Util.isArray(t[0])||"object"!=typeof t[0][0]&&void 0!==t[0][0]},x.PolyUtil={},x.PolyUtil.clipPolygon=function(t,e,n){var i,o,r,a,s,l,u,c,p,h=[1,4,2,8],d=x.LineUtil;for(o=0,u=t.length;o<u;o++)t[o]._code=d._getBitCode(t[o],e);for(a=0;a<4;a++){for(c=h[a],i=[],o=0,r=(u=t.length)-1;o<u;r=o++)s=t[o],l=t[r],s._code&c?l._code&c||((p=d._getEdgeIntersection(l,s,c,e,n))._code=d._getBitCode(p,e),i.push(p)):(l._code&c&&((p=d._getEdgeIntersection(l,s,c,e,n))._code=d._getBitCode(p,e),i.push(p)),i.push(s));t=i}return t},x.Polygon=x.Polyline.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){var t,e,n,i,o,r,a,s,l,u=this._rings[0],c=u.length;if(!c)return null;for(r=a=s=0,t=0,e=c-1;t<c;e=t++)n=u[t],i=u[e],o=n.y*i.x-i.y*n.x,a+=(n.x+i.x)*o,s+=(n.y+i.y)*o,r+=3*o;return l=0===r?u[0]:[a/r,s/r],this._map.layerPointToLatLng(l)},_convertLatLngs:function(t){var e=x.Polyline.prototype._convertLatLngs.call(this,t),n=e.length;return 2<=n&&e[0]instanceof x.LatLng&&e[0].equals(e[n-1])&&e.pop(),e},_setLatLngs:function(t){x.Polyline.prototype._setLatLngs.call(this,t),x.Polyline._flat(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return x.Polyline._flat(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var t=this._renderer._bounds,e=this.options.weight,n=new x.Point(e,e);if(t=new x.Bounds(t.min.subtract(n),t.max.add(n)),this._parts=[],this._pxBounds&&this._pxBounds.intersects(t)){if(this.options.noClip)return void(this._parts=this._rings);for(var i,o=0,r=this._rings.length;o<r;o++)(i=x.PolyUtil.clipPolygon(this._rings[o],t,!0)).length&&this._parts.push(i)}},_updatePath:function(){this._renderer._updatePoly(this,!0)}}),x.polygon=function(t,e){return new x.Polygon(t,e)},x.Rectangle=x.Polygon.extend({initialize:function(t,e){x.Polygon.prototype.initialize.call(this,this._boundsToLatLngs(t),e)},setBounds:function(t){return this.setLatLngs(this._boundsToLatLngs(t))},_boundsToLatLngs:function(t){return[(t=x.latLngBounds(t)).getSouthWest(),t.getNorthWest(),t.getNorthEast(),t.getSouthEast()]}}),x.rectangle=function(t,e){return new x.Rectangle(t,e)},x.CircleMarker=x.Path.extend({options:{fill:!0,radius:10},initialize:function(t,e){x.setOptions(this,e),this._latlng=x.latLng(t),this._radius=this.options.radius},setLatLng:function(t){return this._latlng=x.latLng(t),this.redraw(),this.fire("move",{latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(t){return this.options.radius=this._radius=t,this.redraw()},getRadius:function(){return this._radius},setStyle:function(t){var e=t&&t.radius||this._radius;return x.Path.prototype.setStyle.call(this,t),this.setRadius(e),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var t=this._radius,e=this._radiusY||t,n=this._clickTolerance(),i=[t+n,e+n];this._pxBounds=new x.Bounds(this._point.subtract(i),this._point.add(i))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)}}),x.circleMarker=function(t,e){return new x.CircleMarker(t,e)},x.Circle=x.CircleMarker.extend({initialize:function(t,e,n){if("number"==typeof e&&(e=x.extend({},n,{radius:e})),x.setOptions(this,e),this._latlng=x.latLng(t),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(t){return this._mRadius=t,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var t=[this._radius,this._radiusY||this._radius];return new x.LatLngBounds(this._map.layerPointToLatLng(this._point.subtract(t)),this._map.layerPointToLatLng(this._point.add(t)))},setStyle:x.Path.prototype.setStyle,_project:function(){var t=this._latlng.lng,e=this._latlng.lat,n=this._map,i=n.options.crs;if(i.distance===x.CRS.Earth.distance){var o=Math.PI/180,r=this._mRadius/x.CRS.Earth.R/o,a=n.project([e+r,t]),s=n.project([e-r,t]),l=a.add(s).divideBy(2),u=n.unproject(l).lat,c=Math.acos((Math.cos(r*o)-Math.sin(e*o)*Math.sin(u*o))/(Math.cos(e*o)*Math.cos(u*o)))/o;(isNaN(c)||0===c)&&(c=r/Math.cos(Math.PI/180*e)),this._point=l.subtract(n.getPixelOrigin()),this._radius=isNaN(c)?0:Math.max(Math.round(l.x-n.project([u,t-c]).x),1),this._radiusY=Math.max(Math.round(l.y-a.y),1)}else{var p=i.unproject(i.project(this._latlng).subtract([this._mRadius,0]));this._point=n.latLngToLayerPoint(this._latlng),this._radius=this._point.x-n.latLngToLayerPoint(p).x}this._updateBounds()}}),x.circle=function(t,e,n){return new x.Circle(t,e,n)},x.SVG=x.Renderer.extend({getEvents:function(){var t=x.Renderer.prototype.getEvents.call(this);return t.zoomstart=this._onZoomStart,t},_initContainer:function(){this._container=x.SVG.create("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=x.SVG.create("g"),this._container.appendChild(this._rootGroup)},_onZoomStart:function(){this._update()},_update:function(){if(!this._map._animatingZoom||!this._bounds){x.Renderer.prototype._update.call(this);var t=this._bounds,e=t.getSize(),n=this._container;this._svgSize&&this._svgSize.equals(e)||(this._svgSize=e,n.setAttribute("width",e.x),n.setAttribute("height",e.y)),x.DomUtil.setPosition(n,t.min),n.setAttribute("viewBox",[t.min.x,t.min.y,e.x,e.y].join(" "))}},_initPath:function(t){var e=t._path=x.SVG.create("path");t.options.className&&x.DomUtil.addClass(e,t.options.className),t.options.interactive&&x.DomUtil.addClass(e,"leaflet-interactive"),this._updateStyle(t)},_addPath:function(t){this._rootGroup.appendChild(t._path),t.addInteractiveTarget(t._path)},_removePath:function(t){x.DomUtil.remove(t._path),t.removeInteractiveTarget(t._path)},_updatePath:function(t){t._project(),t._update()},_updateStyle:function(t){var e=t._path,n=t.options;e&&(n.stroke?(e.setAttribute("stroke",n.color),e.setAttribute("stroke-opacity",n.opacity),e.setAttribute("stroke-width",n.weight),e.setAttribute("stroke-linecap",n.lineCap),e.setAttribute("stroke-linejoin",n.lineJoin),n.dashArray?e.setAttribute("stroke-dasharray",n.dashArray):e.removeAttribute("stroke-dasharray"),n.dashOffset?e.setAttribute("stroke-dashoffset",n.dashOffset):e.removeAttribute("stroke-dashoffset")):e.setAttribute("stroke","none"),n.fill?(e.setAttribute("fill",n.fillColor||n.color),e.setAttribute("fill-opacity",n.fillOpacity),e.setAttribute("fill-rule",n.fillRule||"evenodd")):e.setAttribute("fill","none"))},_updatePoly:function(t,e){this._setPath(t,x.SVG.pointsToPath(t._parts,e))},_updateCircle:function(t){var e=t._point,n=t._radius,i="a"+n+","+(t._radiusY||n)+" 0 1,0 ",o=t._empty()?"M0 0":"M"+(e.x-n)+","+e.y+i+2*n+",0 "+i+2*-n+",0 ";this._setPath(t,o)},_setPath:function(t,e){t._path.setAttribute("d",e)},_bringToFront:function(t){x.DomUtil.toFront(t._path)},_bringToBack:function(t){x.DomUtil.toBack(t._path)}}),x.extend(x.SVG,{create:function(t){return m.createElementNS("http://www.w3.org/2000/svg",t)},pointsToPath:function(t,e){var n,i,o,r,a,s,l="";for(n=0,o=t.length;n<o;n++){for(i=0,r=(a=t[n]).length;i<r;i++)l+=(i?"L":"M")+(s=a[i]).x+" "+s.y;l+=e?x.Browser.svg?"z":"x":""}return l||"M0 0"}}),x.Browser.svg=!(!m.createElementNS||!x.SVG.create("svg").createSVGRect),x.svg=function(t){return x.Browser.svg||x.Browser.vml?new x.SVG(t):null},x.Browser.vml=!x.Browser.svg&&function(){try{var t=m.createElement("div");t.innerHTML='<v:shape adj="1"/>';var e=t.firstChild;return e.style.behavior="url(#default#VML)",e&&"object"==typeof e.adj}catch(t){return!1}}(),x.SVG.include(x.Browser.vml?{_initContainer:function(){this._container=x.DomUtil.create("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||x.Renderer.prototype._update.call(this)},_initPath:function(t){var e=t._container=x.SVG.create("shape");x.DomUtil.addClass(e,"leaflet-vml-shape "+(this.options.className||"")),e.coordsize="1 1",t._path=x.SVG.create("path"),e.appendChild(t._path),this._updateStyle(t)},_addPath:function(t){var e=t._container;this._container.appendChild(e),t.options.interactive&&t.addInteractiveTarget(e)},_removePath:function(t){var e=t._container;x.DomUtil.remove(e),t.removeInteractiveTarget(e)},_updateStyle:function(t){var e=t._stroke,n=t._fill,i=t.options,o=t._container;o.stroked=!!i.stroke,o.filled=!!i.fill,i.stroke?(e||(e=t._stroke=x.SVG.create("stroke")),o.appendChild(e),e.weight=i.weight+"px",e.color=i.color,e.opacity=i.opacity,i.dashArray?e.dashStyle=x.Util.isArray(i.dashArray)?i.dashArray.join(" "):i.dashArray.replace(/( *, *)/g," "):e.dashStyle="",e.endcap=i.lineCap.replace("butt","flat"),e.joinstyle=i.lineJoin):e&&(o.removeChild(e),t._stroke=null),i.fill?(n||(n=t._fill=x.SVG.create("fill")),o.appendChild(n),n.color=i.fillColor||i.color,n.opacity=i.fillOpacity):n&&(o.removeChild(n),t._fill=null)},_updateCircle:function(t){var e=t._point.round(),n=Math.round(t._radius),i=Math.round(t._radiusY||n);this._setPath(t,t._empty()?"M0 0":"AL "+e.x+","+e.y+" "+n+","+i+" 0,23592600")},_setPath:function(t,e){t._path.v=e},_bringToFront:function(t){x.DomUtil.toFront(t._container)},_bringToBack:function(t){x.DomUtil.toBack(t._container)}}:{}),x.Browser.vml&&(x.SVG.create=function(){try{return m.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(t){return m.createElement("<lvml:"+t+' class="lvml">')}}catch(t){return function(t){return m.createElement("<"+t+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}}()),x.Canvas=x.Renderer.extend({onAdd:function(){x.Renderer.prototype.onAdd.call(this),this._layers=this._layers||{},this._draw()},_initContainer:function(){var t=this._container=m.createElement("canvas");x.DomEvent.on(t,"mousemove",x.Util.throttle(this._onMouseMove,32,this),this).on(t,"click dblclick mousedown mouseup contextmenu",this._onClick,this).on(t,"mouseout",this._handleMouseOut,this),this._ctx=t.getContext("2d")},_update:function(){if(!this._map._animatingZoom||!this._bounds){this._drawnLayers={},x.Renderer.prototype._update.call(this);var t=this._bounds,e=this._container,n=t.getSize(),i=x.Browser.retina?2:1;x.DomUtil.setPosition(e,t.min),e.width=i*n.x,e.height=i*n.y,e.style.width=n.x+"px",e.style.height=n.y+"px",x.Browser.retina&&this._ctx.scale(2,2),this._ctx.translate(-t.min.x,-t.min.y)}},_initPath:function(t){this._updateDashArray(t),this._layers[x.stamp(t)]=t},_addPath:x.Util.falseFn,_removePath:function(t){t._removed=!0,this._requestRedraw(t)},_updatePath:function(t){this._redrawBounds=t._pxBounds,this._draw(!0),t._project(),t._update(),this._draw(),this._redrawBounds=null},_updateStyle:function(t){this._updateDashArray(t),this._requestRedraw(t)},_updateDashArray:function(t){if(t.options.dashArray){var e,n=t.options.dashArray.split(","),i=[];for(e=0;e<n.length;e++)i.push(Number(n[e]));t.options._dashArray=i}},_requestRedraw:function(t){if(this._map){var e=(t.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new x.Bounds,this._redrawBounds.extend(t._pxBounds.min.subtract([e,e])),this._redrawBounds.extend(t._pxBounds.max.add([e,e])),this._redrawRequest=this._redrawRequest||x.Util.requestAnimFrame(this._redraw,this)}},_redraw:function(){this._redrawRequest=null,this._draw(!0),this._draw(),this._redrawBounds=null},_draw:function(t){this._clear=t;var e,n=this._redrawBounds;for(var i in this._ctx.save(),n&&(this._ctx.beginPath(),this._ctx.rect(n.min.x,n.min.y,n.max.x-n.min.x,n.max.y-n.min.y),this._ctx.clip()),this._layers)e=this._layers[i],(!n||e._pxBounds&&e._pxBounds.intersects(n))&&e._updatePath(),t&&e._removed&&(delete e._removed,delete this._layers[i]);this._ctx.restore()},_updatePoly:function(t,e){var n,i,o,r,a=t._parts,s=a.length,l=this._ctx;if(s){for(this._drawnLayers[t._leaflet_id]=t,l.beginPath(),l.setLineDash&&l.setLineDash(t.options&&t.options._dashArray||[]),n=0;n<s;n++){for(i=0,o=a[n].length;i<o;i++)r=a[n][i],l[i?"lineTo":"moveTo"](r.x,r.y);e&&l.closePath()}this._fillStroke(l,t)}},_updateCircle:function(t){if(!t._empty()){var e=t._point,n=this._ctx,i=t._radius,o=(t._radiusY||i)/i;this._drawnLayers[t._leaflet_id]=t,1!==o&&(n.save(),n.scale(1,o)),n.beginPath(),n.arc(e.x,e.y/o,i,0,2*Math.PI,!1),1!==o&&n.restore(),this._fillStroke(n,t)}},_fillStroke:function(t,e){var n=this._clear,i=e.options;t.globalCompositeOperation=n?"destination-out":"source-over",i.fill&&(t.globalAlpha=n?1:i.fillOpacity,t.fillStyle=i.fillColor||i.color,t.fill(i.fillRule||"evenodd")),i.stroke&&0!==i.weight&&(t.globalAlpha=n?1:i.opacity,e._prevWeight=t.lineWidth=n?e._prevWeight+1:i.weight,t.strokeStyle=i.color,t.lineCap=i.lineCap,t.lineJoin=i.lineJoin,t.stroke())},_onClick:function(t){var e,n=this._map.mouseEventToLayerPoint(t),i=[];for(var o in this._layers)(e=this._layers[o]).options.interactive&&e._containsPoint(n)&&!this._map._draggableMoved(e)&&(x.DomEvent._fakeStop(t),i.push(e));i.length&&this._fireEvent(i,t)},_onMouseMove:function(t){if(this._map&&!this._map.dragging.moving()&&!this._map._animatingZoom){var e=this._map.mouseEventToLayerPoint(t);this._handleMouseOut(t,e),this._handleMouseHover(t,e)}},_handleMouseOut:function(t,e){var n=this._hoveredLayer;!n||"mouseout"!==t.type&&n._containsPoint(e)||(x.DomUtil.removeClass(this._container,"leaflet-interactive"),this._fireEvent([n],t,"mouseout"),this._hoveredLayer=null)},_handleMouseHover:function(t,e){var n,i;for(n in this._drawnLayers)(i=this._drawnLayers[n]).options.interactive&&i._containsPoint(e)&&(x.DomUtil.addClass(this._container,"leaflet-interactive"),this._fireEvent([i],t,"mouseover"),this._hoveredLayer=i);this._hoveredLayer&&this._fireEvent([this._hoveredLayer],t)},_fireEvent:function(t,e,n){this._map._fireDOMEvent(e,n||e.type,t)},_bringToFront:x.Util.falseFn,_bringToBack:x.Util.falseFn}),x.Browser.canvas=!!m.createElement("canvas").getContext,x.canvas=function(t){return x.Browser.canvas?new x.Canvas(t):null},x.Polyline.prototype._containsPoint=function(t,e){var n,i,o,r,a,s,l=this._clickTolerance();if(!this._pxBounds.contains(t))return!1;for(n=0,r=this._parts.length;n<r;n++)for(i=0,o=(a=(s=this._parts[n]).length)-1;i<a;o=i++)if((e||0!==i)&&x.LineUtil.pointToSegmentDistance(t,s[o],s[i])<=l)return!0;return!1},x.Polygon.prototype._containsPoint=function(t){var e,n,i,o,r,a,s,l,u=!1;if(!this._pxBounds.contains(t))return!1;for(o=0,s=this._parts.length;o<s;o++)for(r=0,a=(l=(e=this._parts[o]).length)-1;r<l;a=r++)n=e[r],i=e[a],n.y>t.y!=i.y>t.y&&t.x<(i.x-n.x)*(t.y-n.y)/(i.y-n.y)+n.x&&(u=!u);return u||x.Polyline.prototype._containsPoint.call(this,t,!0)},x.CircleMarker.prototype._containsPoint=function(t){return t.distanceTo(this._point)<=this._radius+this._clickTolerance()},x.GeoJSON=x.FeatureGroup.extend({initialize:function(t,e){x.setOptions(this,e),this._layers={},t&&this.addData(t)},addData:function(t){var e,n,i,o=x.Util.isArray(t)?t:t.features;if(o){for(e=0,n=o.length;e<n;e++)((i=o[e]).geometries||i.geometry||i.features||i.coordinates)&&this.addData(i);return this}var r=this.options;if(r.filter&&!r.filter(t))return this;var a=x.GeoJSON.geometryToLayer(t,r);return a?(a.feature=x.GeoJSON.asFeature(t),a.defaultOptions=a.options,this.resetStyle(a),r.onEachFeature&&r.onEachFeature(t,a),this.addLayer(a)):this},resetStyle:function(t){return t.options=x.Util.extend({},t.defaultOptions),this._setLayerStyle(t,this.options.style),this},setStyle:function(e){return this.eachLayer(function(t){this._setLayerStyle(t,e)},this)},_setLayerStyle:function(t,e){"function"==typeof e&&(e=e(t.feature)),t.setStyle&&t.setStyle(e)}}),x.extend(x.GeoJSON,{geometryToLayer:function(t,e){var n,i,o,r,a="Feature"===t.type?t.geometry:t,s=a?a.coordinates:null,l=[],u=e&&e.pointToLayer,c=e&&e.coordsToLatLng||this.coordsToLatLng;if(!s&&!a)return null;switch(a.type){case"Point":return n=c(s),u?u(t,n):new x.Marker(n);case"MultiPoint":for(o=0,r=s.length;o<r;o++)n=c(s[o]),l.push(u?u(t,n):new x.Marker(n));return new x.FeatureGroup(l);case"LineString":case"MultiLineString":return i=this.coordsToLatLngs(s,"LineString"===a.type?0:1,c),new x.Polyline(i,e);case"Polygon":case"MultiPolygon":return i=this.coordsToLatLngs(s,"Polygon"===a.type?1:2,c),new x.Polygon(i,e);case"GeometryCollection":for(o=0,r=a.geometries.length;o<r;o++){var p=this.geometryToLayer({geometry:a.geometries[o],type:"Feature",properties:t.properties},e);p&&l.push(p)}return new x.FeatureGroup(l);default:throw new Error("Invalid GeoJSON object.")}},coordsToLatLng:function(t){return new x.LatLng(t[1],t[0],t[2])},coordsToLatLngs:function(t,e,n){for(var i,o=[],r=0,a=t.length;r<a;r++)i=e?this.coordsToLatLngs(t[r],e-1,n):(n||this.coordsToLatLng)(t[r]),o.push(i);return o},latLngToCoords:function(t){return t.alt!==w?[t.lng,t.lat,t.alt]:[t.lng,t.lat]},latLngsToCoords:function(t,e,n){for(var i=[],o=0,r=t.length;o<r;o++)i.push(e?x.GeoJSON.latLngsToCoords(t[o],e-1,n):x.GeoJSON.latLngToCoords(t[o]));return!e&&n&&i.push(i[0]),i},getFeature:function(t,e){return t.feature?x.extend({},t.feature,{geometry:e}):x.GeoJSON.asFeature(e)},asFeature:function(t){return"Feature"===t.type?t:{type:"Feature",properties:{},geometry:t}}});var S={toGeoJSON:function(){return x.GeoJSON.getFeature(this,{type:"Point",coordinates:x.GeoJSON.latLngToCoords(this.getLatLng())})}};x.Marker.include(S),x.Circle.include(S),x.CircleMarker.include(S),x.Polyline.prototype.toGeoJSON=function(){var t=!x.Polyline._flat(this._latlngs),e=x.GeoJSON.latLngsToCoords(this._latlngs,t?1:0);return x.GeoJSON.getFeature(this,{type:(t?"Multi":"")+"LineString",coordinates:e})},x.Polygon.prototype.toGeoJSON=function(){var t=!x.Polyline._flat(this._latlngs),e=t&&!x.Polyline._flat(this._latlngs[0]),n=x.GeoJSON.latLngsToCoords(this._latlngs,e?2:t?1:0,!0);return t||(n=[n]),x.GeoJSON.getFeature(this,{type:(e?"Multi":"")+"Polygon",coordinates:n})},x.LayerGroup.include({toMultiPoint:function(){var e=[];return this.eachLayer(function(t){e.push(t.toGeoJSON().geometry.coordinates)}),x.GeoJSON.getFeature(this,{type:"MultiPoint",coordinates:e})},toGeoJSON:function(){var t=this.feature&&this.feature.geometry&&this.feature.geometry.type;if("MultiPoint"===t)return this.toMultiPoint();var n="GeometryCollection"===t,i=[];return this.eachLayer(function(t){if(t.toGeoJSON){var e=t.toGeoJSON();i.push(n?e.geometry:x.GeoJSON.asFeature(e))}}),n?x.GeoJSON.getFeature(this,{geometries:i,type:"GeometryCollection"}):{type:"FeatureCollection",features:i}}}),x.geoJSON=function(t,e){return new x.GeoJSON(t,e)},x.geoJson=x.geoJSON;var T="_leaflet_events";x.DomEvent={on:function(t,e,n,i){if("object"==typeof e)for(var o in e)this._on(t,o,e[o],n);else for(var r=0,a=(e=x.Util.splitWords(e)).length;r<a;r++)this._on(t,e[r],n,i);return this},off:function(t,e,n,i){if("object"==typeof e)for(var o in e)this._off(t,o,e[o],n);else for(var r=0,a=(e=x.Util.splitWords(e)).length;r<a;r++)this._off(t,e[r],n,i);return this},_on:function(e,t,n,i){var o=t+x.stamp(n)+(i?"_"+x.stamp(i):"");if(e[T]&&e[T][o])return this;var r=function(t){return n.call(i||e,t||s.event)},a=r;return x.Browser.pointer&&0===t.indexOf("touch")?this.addPointerListener(e,t,r,o):x.Browser.touch&&"dblclick"===t&&this.addDoubleTapListener?this.addDoubleTapListener(e,r,o):"addEventListener"in e?"mousewheel"===t?e.addEventListener("onwheel"in e?"wheel":"mousewheel",r,!1):"mouseenter"===t||"mouseleave"===t?(r=function(t){t=t||s.event,x.DomEvent._isExternalTarget(e,t)&&a(t)},e.addEventListener("mouseenter"===t?"mouseover":"mouseout",r,!1)):("click"===t&&x.Browser.android&&(r=function(t){return x.DomEvent._filterClick(t,a)}),e.addEventListener(t,r,!1)):"attachEvent"in e&&e.attachEvent("on"+t,r),e[T]=e[T]||{},e[T][o]=r,this},_off:function(t,e,n,i){var o=e+x.stamp(n)+(i?"_"+x.stamp(i):""),r=t[T]&&t[T][o];return r&&(x.Browser.pointer&&0===e.indexOf("touch")?this.removePointerListener(t,e,o):x.Browser.touch&&"dblclick"===e&&this.removeDoubleTapListener?this.removeDoubleTapListener(t,o):"removeEventListener"in t?"mousewheel"===e?t.removeEventListener("onwheel"in t?"wheel":"mousewheel",r,!1):t.removeEventListener("mouseenter"===e?"mouseover":"mouseleave"===e?"mouseout":e,r,!1):"detachEvent"in t&&t.detachEvent("on"+e,r),t[T][o]=null),this},stopPropagation:function(t){return t.stopPropagation?t.stopPropagation():t.originalEvent?t.originalEvent._stopped=!0:t.cancelBubble=!0,x.DomEvent._skipped(t),this},disableScrollPropagation:function(t){return x.DomEvent.on(t,"mousewheel",x.DomEvent.stopPropagation)},disableClickPropagation:function(t){var e=x.DomEvent.stopPropagation;return x.DomEvent.on(t,x.Draggable.START.join(" "),e),x.DomEvent.on(t,{click:x.DomEvent._fakeStop,dblclick:e})},preventDefault:function(t){return t.preventDefault?t.preventDefault():t.returnValue=!1,this},stop:function(t){return x.DomEvent.preventDefault(t).stopPropagation(t)},getMousePosition:function(t,e){if(!e)return new x.Point(t.clientX,t.clientY);var n=e.getBoundingClientRect();return new x.Point(t.clientX-n.left-e.clientLeft,t.clientY-n.top-e.clientTop)},_wheelPxFactor:x.Browser.win&&x.Browser.chrome?2:x.Browser.gecko?s.devicePixelRatio:1,getWheelDelta:function(t){return x.Browser.edge?t.wheelDeltaY/2:t.deltaY&&0===t.deltaMode?-t.deltaY/x.DomEvent._wheelPxFactor:t.deltaY&&1===t.deltaMode?20*-t.deltaY:t.deltaY&&2===t.deltaMode?60*-t.deltaY:t.deltaX||t.deltaZ?0:t.wheelDelta?(t.wheelDeltaY||t.wheelDelta)/2:t.detail&&Math.abs(t.detail)<32765?20*-t.detail:t.detail?t.detail/-32765*60:0},_skipEvents:{},_fakeStop:function(t){x.DomEvent._skipEvents[t.type]=!0},_skipped:function(t){var e=this._skipEvents[t.type];return this._skipEvents[t.type]=!1,e},_isExternalTarget:function(t,e){var n=e.relatedTarget;if(!n)return!0;try{for(;n&&n!==t;)n=n.parentNode}catch(t){return!1}return n!==t},_filterClick:function(t,e){var n=t.timeStamp||t.originalEvent&&t.originalEvent.timeStamp,i=x.DomEvent._lastClick&&n-x.DomEvent._lastClick;return i&&100<i&&i<500||t.target._simulatedClick&&!t._simulated?void x.DomEvent.stop(t):(x.DomEvent._lastClick=n,void e(t))}},x.DomEvent.addListener=x.DomEvent.on,x.DomEvent.removeListener=x.DomEvent.off,x.Draggable=x.Evented.extend({options:{clickTolerance:3},statics:{START:x.Browser.touch?["touchstart","mousedown"]:["mousedown"],END:{mousedown:"mouseup",touchstart:"touchend",pointerdown:"touchend",MSPointerDown:"touchend"},MOVE:{mousedown:"mousemove",touchstart:"touchmove",pointerdown:"touchmove",MSPointerDown:"touchmove"}},initialize:function(t,e,n){this._element=t,this._dragStartTarget=e||t,this._preventOutline=n},enable:function(){this._enabled||(x.DomEvent.on(this._dragStartTarget,x.Draggable.START.join(" "),this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(x.DomEvent.off(this._dragStartTarget,x.Draggable.START.join(" "),this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(t){if(!t._simulated&&this._enabled&&(this._moved=!1,!x.DomUtil.hasClass(this._element,"leaflet-zoom-anim")&&!(x.Draggable._dragging||t.shiftKey||1!==t.which&&1!==t.button&&!t.touches)&&this._enabled&&(x.Draggable._dragging=!0,this._preventOutline&&x.DomUtil.preventOutline(this._element),x.DomUtil.disableImageDrag(),x.DomUtil.disableTextSelection(),!this._moving))){this.fire("down");var e=t.touches?t.touches[0]:t;this._startPoint=new x.Point(e.clientX,e.clientY),x.DomEvent.on(m,x.Draggable.MOVE[t.type],this._onMove,this).on(m,x.Draggable.END[t.type],this._onUp,this)}},_onMove:function(t){if(!t._simulated&&this._enabled){if(t.touches&&1<t.touches.length)return void(this._moved=!0);var e=t.touches&&1===t.touches.length?t.touches[0]:t,n=new x.Point(e.clientX,e.clientY).subtract(this._startPoint);(n.x||n.y)&&(Math.abs(n.x)+Math.abs(n.y)<this.options.clickTolerance||(x.DomEvent.preventDefault(t),this._moved||(this.fire("dragstart"),this._moved=!0,this._startPos=x.DomUtil.getPosition(this._element).subtract(n),x.DomUtil.addClass(m.body,"leaflet-dragging"),this._lastTarget=t.target||t.srcElement,s.SVGElementInstance&&this._lastTarget instanceof SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),x.DomUtil.addClass(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(n),this._moving=!0,x.Util.cancelAnimFrame(this._animRequest),this._lastEvent=t,this._animRequest=x.Util.requestAnimFrame(this._updatePosition,this,!0)))}},_updatePosition:function(){var t={originalEvent:this._lastEvent};this.fire("predrag",t),x.DomUtil.setPosition(this._element,this._newPos),this.fire("drag",t)},_onUp:function(t){if(!t._simulated&&this._enabled){for(var e in x.DomUtil.removeClass(m.body,"leaflet-dragging"),this._lastTarget&&(x.DomUtil.removeClass(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),x.Draggable.MOVE)x.DomEvent.off(m,x.Draggable.MOVE[e],this._onMove,this).off(m,x.Draggable.END[e],this._onUp,this);x.DomUtil.enableImageDrag(),x.DomUtil.enableTextSelection(),this._moved&&this._moving&&(x.Util.cancelAnimFrame(this._animRequest),this.fire("dragend",{distance:this._newPos.distanceTo(this._startPos)})),this._moving=!1,x.Draggable._dragging=!1}}}),x.Handler=x.Class.extend({initialize:function(t){this._map=t},enable:function(){return this._enabled||(this._enabled=!0,this.addHooks()),this},disable:function(){return this._enabled&&(this._enabled=!1,this.removeHooks()),this},enabled:function(){return!!this._enabled}}),x.Map.mergeOptions({dragging:!0,inertia:!x.Browser.android23,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0}),x.Map.Drag=x.Handler.extend({addHooks:function(){if(!this._draggable){var t=this._map;this._draggable=new x.Draggable(t._mapPane,t._container),this._draggable.on({down:this._onDown,dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),t.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),t.on("zoomend",this._onZoomEnd,this),t.whenReady(this._onZoomEnd,this))}x.DomUtil.addClass(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){x.DomUtil.removeClass(this._map._container,"leaflet-grab"),x.DomUtil.removeClass(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDown:function(){this._map._stop()},_onDragStart:function(){var t=this._map;if(this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var e=x.latLngBounds(this._map.options.maxBounds);this._offsetLimit=x.bounds(this._map.latLngToContainerPoint(e.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(e.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;t.fire("movestart").fire("dragstart"),t.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(t){if(this._map.options.inertia){var e=this._lastTime=+new Date,n=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(n),this._times.push(e),50<e-this._times[0]&&(this._positions.shift(),this._times.shift())}this._map.fire("move",t).fire("drag",t)},_onZoomEnd:function(){var t=this._map.getSize().divideBy(2),e=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=e.subtract(t).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(t,e){return t-(t-e)*this._viscosity},_onPreDragLimit:function(){if(this._viscosity&&this._offsetLimit){var t=this._draggable._newPos.subtract(this._draggable._startPos),e=this._offsetLimit;t.x<e.min.x&&(t.x=this._viscousLimit(t.x,e.min.x)),t.y<e.min.y&&(t.y=this._viscousLimit(t.y,e.min.y)),t.x>e.max.x&&(t.x=this._viscousLimit(t.x,e.max.x)),t.y>e.max.y&&(t.y=this._viscousLimit(t.y,e.max.y)),this._draggable._newPos=this._draggable._startPos.add(t)}},_onPreDragWrap:function(){var t=this._worldWidth,e=Math.round(t/2),n=this._initialWorldOffset,i=this._draggable._newPos.x,o=(i-e+n)%t+e-n,r=(i+e+n)%t-e-n,a=Math.abs(o+n)<Math.abs(r+n)?o:r;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=a},_onDragEnd:function(t){var e=this._map,n=e.options,i=!n.inertia||this._times.length<2;if(e.fire("dragend",t),i)e.fire("moveend");else{var o=this._lastPos.subtract(this._positions[0]),r=(this._lastTime-this._times[0])/1e3,a=n.easeLinearity,s=o.multiplyBy(a/r),l=s.distanceTo([0,0]),u=Math.min(n.inertiaMaxSpeed,l),c=s.multiplyBy(u/l),p=u/(n.inertiaDeceleration*a),h=c.multiplyBy(-p/2).round();h.x||h.y?(h=e._limitOffset(h,e.options.maxBounds),x.Util.requestAnimFrame(function(){e.panBy(h,{duration:p,easeLinearity:a,noMoveStart:!0,animate:!0})})):e.fire("moveend")}}}),x.Map.addInitHook("addHandler","dragging",x.Map.Drag),x.Map.mergeOptions({doubleClickZoom:!0}),x.Map.DoubleClickZoom=x.Handler.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(t){var e=this._map,n=e.getZoom(),i=e.options.zoomDelta,o=t.originalEvent.shiftKey?n-i:n+i;"center"===e.options.doubleClickZoom?e.setZoom(o):e.setZoomAround(t.containerPoint,o)}}),x.Map.addInitHook("addHandler","doubleClickZoom",x.Map.DoubleClickZoom),x.Map.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60}),x.Map.ScrollWheelZoom=x.Handler.extend({addHooks:function(){x.DomEvent.on(this._map._container,"mousewheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){x.DomEvent.off(this._map._container,"mousewheel",this._onWheelScroll,this)},_onWheelScroll:function(t){var e=x.DomEvent.getWheelDelta(t),n=this._map.options.wheelDebounceTime;this._delta+=e,this._lastMousePos=this._map.mouseEventToContainerPoint(t),this._startTime||(this._startTime=+new Date);var i=Math.max(n-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(x.bind(this._performZoom,this),i),x.DomEvent.stop(t)},_performZoom:function(){var t=this._map,e=t.getZoom(),n=this._map.options.zoomSnap||0;t._stop();var i=this._delta/(4*this._map.options.wheelPxPerZoomLevel),o=4*Math.log(2/(1+Math.exp(-Math.abs(i))))/Math.LN2,r=n?Math.ceil(o/n)*n:o,a=t._limitZoom(e+(0<this._delta?r:-r))-e;this._delta=0,this._startTime=null,a&&("center"===t.options.scrollWheelZoom?t.setZoom(e+a):t.setZoomAround(this._lastMousePos,e+a))}}),x.Map.addInitHook("addHandler","scrollWheelZoom",x.Map.ScrollWheelZoom),x.extend(x.DomEvent,{_touchstart:x.Browser.msPointer?"MSPointerDown":x.Browser.pointer?"pointerdown":"touchstart",_touchend:x.Browser.msPointer?"MSPointerUp":x.Browser.pointer?"pointerup":"touchend",addDoubleTapListener:function(t,i,e){function n(t){if(!(1<(x.Browser.pointer?x.DomEvent._pointersCount:t.touches.length))){var e=Date.now(),n=e-(r||e);a=t.touches?t.touches[0]:t,s=0<n&&n<=250,r=e}}function o(){if(s&&!a.cancelBubble){if(x.Browser.pointer){var t,e,n={};for(e in a)t=a[e],n[e]=t&&t.bind?t.bind(a):t;a=n}a.type="dblclick",i(a),r=null}}var r,a,s=!1,l="_leaflet_",u=this._touchstart,c=this._touchend;return t[l+u+e]=n,t[l+c+e]=o,t[l+"dblclick"+e]=i,t.addEventListener(u,n,!1),t.addEventListener(c,o,!1),x.Browser.edge||t.addEventListener("dblclick",i,!1),this},removeDoubleTapListener:function(t,e){var n="_leaflet_",i=t[n+this._touchstart+e],o=t[n+this._touchend+e],r=t[n+"dblclick"+e];return t.removeEventListener(this._touchstart,i,!1),t.removeEventListener(this._touchend,o,!1),x.Browser.edge||t.removeEventListener("dblclick",r,!1),this}}),x.extend(x.DomEvent,{POINTER_DOWN:x.Browser.msPointer?"MSPointerDown":"pointerdown",POINTER_MOVE:x.Browser.msPointer?"MSPointerMove":"pointermove",POINTER_UP:x.Browser.msPointer?"MSPointerUp":"pointerup",POINTER_CANCEL:x.Browser.msPointer?"MSPointerCancel":"pointercancel",TAG_WHITE_LIST:["INPUT","SELECT","OPTION"],_pointers:{},_pointersCount:0,addPointerListener:function(t,e,n,i){return"touchstart"===e?this._addPointerStart(t,n,i):"touchmove"===e?this._addPointerMove(t,n,i):"touchend"===e&&this._addPointerEnd(t,n,i),this},removePointerListener:function(t,e,n){var i=t["_leaflet_"+e+n];return"touchstart"===e?t.removeEventListener(this.POINTER_DOWN,i,!1):"touchmove"===e?t.removeEventListener(this.POINTER_MOVE,i,!1):"touchend"===e&&(t.removeEventListener(this.POINTER_UP,i,!1),t.removeEventListener(this.POINTER_CANCEL,i,!1)),this},_addPointerStart:function(t,e,n){var i=x.bind(function(t){if("mouse"!==t.pointerType&&t.pointerType!==t.MSPOINTER_TYPE_MOUSE){if(!(this.TAG_WHITE_LIST.indexOf(t.target.tagName)<0))return;x.DomEvent.preventDefault(t)}this._handlePointer(t,e)},this);if(t["_leaflet_touchstart"+n]=i,t.addEventListener(this.POINTER_DOWN,i,!1),!this._pointerDocListener){var o=x.bind(this._globalPointerUp,this);m.documentElement.addEventListener(this.POINTER_DOWN,x.bind(this._globalPointerDown,this),!0),m.documentElement.addEventListener(this.POINTER_MOVE,x.bind(this._globalPointerMove,this),!0),m.documentElement.addEventListener(this.POINTER_UP,o,!0),m.documentElement.addEventListener(this.POINTER_CANCEL,o,!0),this._pointerDocListener=!0}},_globalPointerDown:function(t){this._pointers[t.pointerId]=t,this._pointersCount++},_globalPointerMove:function(t){this._pointers[t.pointerId]&&(this._pointers[t.pointerId]=t)},_globalPointerUp:function(t){delete this._pointers[t.pointerId],this._pointersCount--},_handlePointer:function(t,e){for(var n in t.touches=[],this._pointers)t.touches.push(this._pointers[n]);t.changedTouches=[t],e(t)},_addPointerMove:function(t,e,n){var i=x.bind(function(t){(t.pointerType!==t.MSPOINTER_TYPE_MOUSE&&"mouse"!==t.pointerType||0!==t.buttons)&&this._handlePointer(t,e)},this);t["_leaflet_touchmove"+n]=i,t.addEventListener(this.POINTER_MOVE,i,!1)},_addPointerEnd:function(t,e,n){var i=x.bind(function(t){this._handlePointer(t,e)},this);t["_leaflet_touchend"+n]=i,t.addEventListener(this.POINTER_UP,i,!1),t.addEventListener(this.POINTER_CANCEL,i,!1)}}),x.Map.mergeOptions({touchZoom:x.Browser.touch&&!x.Browser.android23,bounceAtZoomLimits:!0}),x.Map.TouchZoom=x.Handler.extend({addHooks:function(){x.DomUtil.addClass(this._map._container,"leaflet-touch-zoom"),x.DomEvent.on(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){x.DomUtil.removeClass(this._map._container,"leaflet-touch-zoom"),x.DomEvent.off(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(t){var e=this._map;if(t.touches&&2===t.touches.length&&!e._animatingZoom&&!this._zooming){var n=e.mouseEventToContainerPoint(t.touches[0]),i=e.mouseEventToContainerPoint(t.touches[1]);this._centerPoint=e.getSize()._divideBy(2),this._startLatLng=e.containerPointToLatLng(this._centerPoint),"center"!==e.options.touchZoom&&(this._pinchStartLatLng=e.containerPointToLatLng(n.add(i)._divideBy(2))),this._startDist=n.distanceTo(i),this._startZoom=e.getZoom(),this._moved=!1,this._zooming=!0,e._stop(),x.DomEvent.on(m,"touchmove",this._onTouchMove,this).on(m,"touchend",this._onTouchEnd,this),x.DomEvent.preventDefault(t)}},_onTouchMove:function(t){if(t.touches&&2===t.touches.length&&this._zooming){var e=this._map,n=e.mouseEventToContainerPoint(t.touches[0]),i=e.mouseEventToContainerPoint(t.touches[1]),o=n.distanceTo(i)/this._startDist;if(this._zoom=e.getScaleZoom(o,this._startZoom),!e.options.bounceAtZoomLimits&&(this._zoom<e.getMinZoom()&&o<1||this._zoom>e.getMaxZoom()&&1<o)&&(this._zoom=e._limitZoom(this._zoom)),"center"===e.options.touchZoom){if(this._center=this._startLatLng,1===o)return}else{var r=n._add(i)._divideBy(2)._subtract(this._centerPoint);if(1===o&&0===r.x&&0===r.y)return;this._center=e.unproject(e.project(this._pinchStartLatLng,this._zoom).subtract(r),this._zoom)}this._moved||(e._moveStart(!0),this._moved=!0),x.Util.cancelAnimFrame(this._animRequest);var a=x.bind(e._move,e,this._center,this._zoom,{pinch:!0,round:!1});this._animRequest=x.Util.requestAnimFrame(a,this,!0),x.DomEvent.preventDefault(t)}},_onTouchEnd:function(){return this._moved&&this._zooming?(this._zooming=!1,x.Util.cancelAnimFrame(this._animRequest),x.DomEvent.off(m,"touchmove",this._onTouchMove).off(m,"touchend",this._onTouchEnd),void(this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom)))):void(this._zooming=!1)}}),x.Map.addInitHook("addHandler","touchZoom",x.Map.TouchZoom),x.Map.mergeOptions({tap:!0,tapTolerance:15}),x.Map.Tap=x.Handler.extend({addHooks:function(){x.DomEvent.on(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){x.DomEvent.off(this._map._container,"touchstart",this._onDown,this)},_onDown:function(t){if(t.touches){if(x.DomEvent.preventDefault(t),this._fireClick=!0,1<t.touches.length)return this._fireClick=!1,void clearTimeout(this._holdTimeout);var e=t.touches[0],n=e.target;this._startPos=this._newPos=new x.Point(e.clientX,e.clientY),n.tagName&&"a"===n.tagName.toLowerCase()&&x.DomUtil.addClass(n,"leaflet-active"),this._holdTimeout=setTimeout(x.bind(function(){this._isTapValid()&&(this._fireClick=!1,this._onUp(),this._simulateEvent("contextmenu",e))},this),1e3),this._simulateEvent("mousedown",e),x.DomEvent.on(m,{touchmove:this._onMove,touchend:this._onUp},this)}},_onUp:function(t){if(clearTimeout(this._holdTimeout),x.DomEvent.off(m,{touchmove:this._onMove,touchend:this._onUp},this),this._fireClick&&t&&t.changedTouches){var e=t.changedTouches[0],n=e.target;n&&n.tagName&&"a"===n.tagName.toLowerCase()&&x.DomUtil.removeClass(n,"leaflet-active"),this._simulateEvent("mouseup",e),this._isTapValid()&&this._simulateEvent("click",e)}},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_onMove:function(t){var e=t.touches[0];this._newPos=new x.Point(e.clientX,e.clientY),this._simulateEvent("mousemove",e)},_simulateEvent:function(t,e){var n=m.createEvent("MouseEvents");n._simulated=!0,e.target._simulatedClick=!0,n.initMouseEvent(t,!0,!0,s,1,e.screenX,e.screenY,e.clientX,e.clientY,!1,!1,!1,!1,0,null),e.target.dispatchEvent(n)}}),x.Browser.touch&&!x.Browser.pointer&&x.Map.addInitHook("addHandler","tap",x.Map.Tap),x.Map.mergeOptions({boxZoom:!0}),x.Map.BoxZoom=x.Handler.extend({initialize:function(t){this._map=t,this._container=t._container,this._pane=t._panes.overlayPane},addHooks:function(){x.DomEvent.on(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){x.DomEvent.off(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_resetState:function(){this._moved=!1},_onMouseDown:function(t){return!(!t.shiftKey||1!==t.which&&1!==t.button)&&(this._resetState(),x.DomUtil.disableTextSelection(),x.DomUtil.disableImageDrag(),this._startPoint=this._map.mouseEventToContainerPoint(t),void x.DomEvent.on(m,{contextmenu:x.DomEvent.stop,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this))},_onMouseMove:function(t){this._moved||(this._moved=!0,this._box=x.DomUtil.create("div","leaflet-zoom-box",this._container),x.DomUtil.addClass(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(t);var e=new x.Bounds(this._point,this._startPoint),n=e.getSize();x.DomUtil.setPosition(this._box,e.min),this._box.style.width=n.x+"px",this._box.style.height=n.y+"px"},_finish:function(){this._moved&&(x.DomUtil.remove(this._box),x.DomUtil.removeClass(this._container,"leaflet-crosshair")),x.DomUtil.enableTextSelection(),x.DomUtil.enableImageDrag(),x.DomEvent.off(m,{contextmenu:x.DomEvent.stop,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(t){if((1===t.which||1===t.button)&&(this._finish(),this._moved)){setTimeout(x.bind(this._resetState,this),0);var e=new x.LatLngBounds(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(e).fire("boxzoomend",{boxZoomBounds:e})}},_onKeyDown:function(t){27===t.keyCode&&this._finish()}}),x.Map.addInitHook("addHandler","boxZoom",x.Map.BoxZoom),x.Map.mergeOptions({keyboard:!0,keyboardPanDelta:80}),x.Map.Keyboard=x.Handler.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(t){this._map=t,this._setPanDelta(t.options.keyboardPanDelta),this._setZoomDelta(t.options.zoomDelta)},addHooks:function(){var t=this._map._container;t.tabIndex<=0&&(t.tabIndex="0"),x.DomEvent.on(t,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),x.DomEvent.off(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var t=m.body,e=m.documentElement,n=t.scrollTop||e.scrollTop,i=t.scrollLeft||e.scrollLeft;this._map._container.focus(),s.scrollTo(i,n)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(t){var e,n,i=this._panKeys={},o=this.keyCodes;for(e=0,n=o.left.length;e<n;e++)i[o.left[e]]=[-1*t,0];for(e=0,n=o.right.length;e<n;e++)i[o.right[e]]=[t,0];for(e=0,n=o.down.length;e<n;e++)i[o.down[e]]=[0,t];for(e=0,n=o.up.length;e<n;e++)i[o.up[e]]=[0,-1*t]},_setZoomDelta:function(t){var e,n,i=this._zoomKeys={},o=this.keyCodes;for(e=0,n=o.zoomIn.length;e<n;e++)i[o.zoomIn[e]]=t;for(e=0,n=o.zoomOut.length;e<n;e++)i[o.zoomOut[e]]=-t},_addHooks:function(){x.DomEvent.on(m,"keydown",this._onKeyDown,this)},_removeHooks:function(){x.DomEvent.off(m,"keydown",this._onKeyDown,this)},_onKeyDown:function(t){if(!(t.altKey||t.ctrlKey||t.metaKey)){var e,n=t.keyCode,i=this._map;if(n in this._panKeys){if(i._panAnim&&i._panAnim._inProgress)return;e=this._panKeys[n],t.shiftKey&&(e=x.point(e).multiplyBy(3)),i.panBy(e),i.options.maxBounds&&i.panInsideBounds(i.options.maxBounds)}else if(n in this._zoomKeys)i.setZoom(i.getZoom()+(t.shiftKey?3:1)*this._zoomKeys[n]);else{if(27!==n)return;i.closePopup()}x.DomEvent.stop(t)}}}),x.Map.addInitHook("addHandler","keyboard",x.Map.Keyboard),x.Handler.MarkerDrag=x.Handler.extend({initialize:function(t){this._marker=t},addHooks:function(){var t=this._marker._icon;this._draggable||(this._draggable=new x.Draggable(t,t,!0)),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),x.DomUtil.addClass(t,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&x.DomUtil.removeClass(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup().fire("movestart").fire("dragstart")},_onDrag:function(t){var e=this._marker,n=e._shadow,i=x.DomUtil.getPosition(e._icon),o=e._map.layerPointToLatLng(i);n&&x.DomUtil.setPosition(n,i),e._latlng=o,t.latlng=o,t.oldLatLng=this._oldLatLng,e.fire("move",t).fire("drag",t)},_onDragEnd:function(t){delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",t)}}),x.Control=x.Class.extend({options:{position:"topright"},initialize:function(t){x.setOptions(this,t)},getPosition:function(){return this.options.position},setPosition:function(t){var e=this._map;return e&&e.removeControl(this),this.options.position=t,e&&e.addControl(this),this},getContainer:function(){return this._container},addTo:function(t){this.remove(),this._map=t;var e=this._container=this.onAdd(t),n=this.getPosition(),i=t._controlCorners[n];return x.DomUtil.addClass(e,"leaflet-control"),-1!==n.indexOf("bottom")?i.insertBefore(e,i.firstChild):i.appendChild(e),this},remove:function(){return this._map&&(x.DomUtil.remove(this._container),this.onRemove&&this.onRemove(this._map),this._map=null),this},_refocusOnMap:function(t){this._map&&t&&0<t.screenX&&0<t.screenY&&this._map.getContainer().focus()}}),x.control=function(t){return new x.Control(t)},x.Map.include({addControl:function(t){return t.addTo(this),this},removeControl:function(t){return t.remove(),this},_initControlPos:function(){function t(t,e){var n=o+t+" "+o+e;i[t+e]=x.DomUtil.create("div",n,r)}var i=this._controlCorners={},o="leaflet-",r=this._controlContainer=x.DomUtil.create("div",o+"control-container",this._container);t("top","left"),t("top","right"),t("bottom","left"),t("bottom","right")},_clearControlPos:function(){x.DomUtil.remove(this._controlContainer)}}),x.Control.Zoom=x.Control.extend({options:{position:"topleft",zoomInText:"+",zoomInTitle:"Zoom in",zoomOutText:"-",zoomOutTitle:"Zoom out"},onAdd:function(t){var e="leaflet-control-zoom",n=x.DomUtil.create("div",e+" leaflet-bar"),i=this.options;return this._zoomInButton=this._createButton(i.zoomInText,i.zoomInTitle,e+"-in",n,this._zoomIn),this._zoomOutButton=this._createButton(i.zoomOutText,i.zoomOutTitle,e+"-out",n,this._zoomOut),this._updateDisabled(),t.on("zoomend zoomlevelschange",this._updateDisabled,this),n},onRemove:function(t){t.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(t){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(t.shiftKey?3:1))},_zoomOut:function(t){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(t.shiftKey?3:1))},_createButton:function(t,e,n,i,o){var r=x.DomUtil.create("a",n,i);return r.innerHTML=t,r.href="#",r.title=e,x.DomEvent.on(r,"mousedown dblclick",x.DomEvent.stopPropagation).on(r,"click",x.DomEvent.stop).on(r,"click",o,this).on(r,"click",this._refocusOnMap,this),r},_updateDisabled:function(){var t=this._map,e="leaflet-disabled";x.DomUtil.removeClass(this._zoomInButton,e),x.DomUtil.removeClass(this._zoomOutButton,e),(this._disabled||t._zoom===t.getMinZoom())&&x.DomUtil.addClass(this._zoomOutButton,e),(this._disabled||t._zoom===t.getMaxZoom())&&x.DomUtil.addClass(this._zoomInButton,e)}}),x.Map.mergeOptions({zoomControl:!0}),x.Map.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new x.Control.Zoom,this.addControl(this.zoomControl))}),x.control.zoom=function(t){return new x.Control.Zoom(t)},x.Control.Attribution=x.Control.extend({options:{position:"bottomright",prefix:'<a href="http://leafletjs.com" title="A JS library for interactive maps">Leaflet</a>'},initialize:function(t){x.setOptions(this,t),this._attributions={}},onAdd:function(t){for(var e in(t.attributionControl=this)._container=x.DomUtil.create("div","leaflet-control-attribution"),x.DomEvent&&x.DomEvent.disableClickPropagation(this._container),t._layers)t._layers[e].getAttribution&&this.addAttribution(t._layers[e].getAttribution());return this._update(),this._container},setPrefix:function(t){return this.options.prefix=t,this._update(),this},addAttribution:function(t){return t&&(this._attributions[t]||(this._attributions[t]=0),this._attributions[t]++,this._update()),this},removeAttribution:function(t){return t&&this._attributions[t]&&(this._attributions[t]--,this._update()),this},_update:function(){if(this._map){var t=[];for(var e in this._attributions)this._attributions[e]&&t.push(e);var n=[];this.options.prefix&&n.push(this.options.prefix),t.length&&n.push(t.join(", ")),this._container.innerHTML=n.join(" | ")}}}),x.Map.mergeOptions({attributionControl:!0}),x.Map.addInitHook(function(){this.options.attributionControl&&(new x.Control.Attribution).addTo(this)}),x.control.attribution=function(t){return new x.Control.Attribution(t)},x.Control.Scale=x.Control.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(t){var e="leaflet-control-scale",n=x.DomUtil.create("div",e),i=this.options;return this._addScales(i,e+"-line",n),t.on(i.updateWhenIdle?"moveend":"move",this._update,this),t.whenReady(this._update,this),n},onRemove:function(t){t.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(t,e,n){t.metric&&(this._mScale=x.DomUtil.create("div",e,n)),t.imperial&&(this._iScale=x.DomUtil.create("div",e,n))},_update:function(){var t=this._map,e=t.getSize().y/2,n=t.distance(t.containerPointToLatLng([0,e]),t.containerPointToLatLng([this.options.maxWidth,e]));this._updateScales(n)},_updateScales:function(t){this.options.metric&&t&&this._updateMetric(t),this.options.imperial&&t&&this._updateImperial(t)},_updateMetric:function(t){var e=this._getRoundNum(t),n=e<1e3?e+" m":e/1e3+" km";this._updateScale(this._mScale,n,e/t)},_updateImperial:function(t){var e,n,i,o=3.2808399*t;5280<o?(e=o/5280,n=this._getRoundNum(e),this._updateScale(this._iScale,n+" mi",n/e)):(i=this._getRoundNum(o),this._updateScale(this._iScale,i+" ft",i/o))},_updateScale:function(t,e,n){t.style.width=Math.round(this.options.maxWidth*n)+"px",t.innerHTML=e},_getRoundNum:function(t){var e=Math.pow(10,(Math.floor(t)+"").length-1),n=t/e;return e*(n=10<=n?10:5<=n?5:3<=n?3:2<=n?2:1)}}),x.control.scale=function(t){return new x.Control.Scale(t)},x.Control.Layers=x.Control.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1},initialize:function(t,e,n){for(var i in x.setOptions(this,n),this._layers=[],this._lastZIndex=0,this._handlingClick=!1,t)this._addLayer(t[i],i);for(i in e)this._addLayer(e[i],i,!0)},onAdd:function(t){return this._initLayout(),this._update(),(this._map=t).on("zoomend",this._checkDisabledLayers,this),this._container},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var t=0;t<this._layers.length;t++)this._layers[t].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(t,e){return this._addLayer(t,e),this._map?this._update():this},addOverlay:function(t,e){return this._addLayer(t,e,!0),this._map?this._update():this},removeLayer:function(t){t.off("add remove",this._onLayerChange,this);var e=this._getLayer(x.stamp(t));return e&&this._layers.splice(this._layers.indexOf(e),1),this._map?this._update():this},expand:function(){x.DomUtil.addClass(this._container,"leaflet-control-layers-expanded"),this._form.style.height=null;var t=this._map.getSize().y-(this._container.offsetTop+50);return t<this._form.clientHeight?(x.DomUtil.addClass(this._form,"leaflet-control-layers-scrollbar"),this._form.style.height=t+"px"):x.DomUtil.removeClass(this._form,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return x.DomUtil.removeClass(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var t="leaflet-control-layers",e=this._container=x.DomUtil.create("div",t);e.setAttribute("aria-haspopup",!0),x.DomEvent.disableClickPropagation(e),x.Browser.touch||x.DomEvent.disableScrollPropagation(e);var n=this._form=x.DomUtil.create("form",t+"-list");if(this.options.collapsed){x.Browser.android||x.DomEvent.on(e,{mouseenter:this.expand,mouseleave:this.collapse},this);var i=this._layersLink=x.DomUtil.create("a",t+"-toggle",e);i.href="#",i.title="Layers",x.Browser.touch?x.DomEvent.on(i,"click",x.DomEvent.stop).on(i,"click",this.expand,this):x.DomEvent.on(i,"focus",this.expand,this),x.DomEvent.on(n,"click",function(){setTimeout(x.bind(this._onInputClick,this),0)},this),this._map.on("click",this.collapse,this)}else this.expand();this._baseLayersList=x.DomUtil.create("div",t+"-base",n),this._separator=x.DomUtil.create("div",t+"-separator",n),this._overlaysList=x.DomUtil.create("div",t+"-overlays",n),e.appendChild(n)},_getLayer:function(t){for(var e=0;e<this._layers.length;e++)if(this._layers[e]&&x.stamp(this._layers[e].layer)===t)return this._layers[e]},_addLayer:function(t,e,n){t.on("add remove",this._onLayerChange,this),this._layers.push({layer:t,name:e,overlay:n}),this.options.autoZIndex&&t.setZIndex&&(this._lastZIndex++,t.setZIndex(this._lastZIndex))},_update:function(){if(!this._container)return this;x.DomUtil.empty(this._baseLayersList),x.DomUtil.empty(this._overlaysList);var t,e,n,i,o=0;for(n=0;n<this._layers.length;n++)i=this._layers[n],this._addItem(i),e=e||i.overlay,t=t||!i.overlay,o+=i.overlay?0:1;return this.options.hideSingleBase&&(t=t&&1<o,this._baseLayersList.style.display=t?"":"none"),this._separator.style.display=e&&t?"":"none",this},_onLayerChange:function(t){this._handlingClick||this._update();var e=this._getLayer(x.stamp(t.target)),n=e.overlay?"add"===t.type?"overlayadd":"overlayremove":"add"===t.type?"baselayerchange":null;n&&this._map.fire(n,e)},_createRadioElement:function(t,e){var n='<input type="radio" class="leaflet-control-layers-selector" name="'+t+'"'+(e?' checked="checked"':"")+"/>",i=m.createElement("div");return i.innerHTML=n,i.firstChild},_addItem:function(t){var e,n=m.createElement("label"),i=this._map.hasLayer(t.layer);t.overlay?((e=m.createElement("input")).type="checkbox",e.className="leaflet-control-layers-selector",e.defaultChecked=i):e=this._createRadioElement("leaflet-base-layers",i),e.layerId=x.stamp(t.layer),x.DomEvent.on(e,"click",this._onInputClick,this);var o=m.createElement("span");o.innerHTML=" "+t.name;var r=m.createElement("div");return n.appendChild(r),r.appendChild(e),r.appendChild(o),(t.overlay?this._overlaysList:this._baseLayersList).appendChild(n),this._checkDisabledLayers(),n},_onInputClick:function(){var t,e,n,i=this._form.getElementsByTagName("input"),o=[],r=[];this._handlingClick=!0;for(var a=i.length-1;0<=a;a--)t=i[a],e=this._getLayer(t.layerId).layer,n=this._map.hasLayer(e),t.checked&&!n?o.push(e):!t.checked&&n&&r.push(e);for(a=0;a<r.length;a++)this._map.removeLayer(r[a]);for(a=0;a<o.length;a++)this._map.addLayer(o[a]);this._handlingClick=!1,this._refocusOnMap()},_checkDisabledLayers:function(){for(var t,e,n=this._form.getElementsByTagName("input"),i=this._map.getZoom(),o=n.length-1;0<=o;o--)t=n[o],e=this._getLayer(t.layerId).layer,t.disabled=e.options.minZoom!==w&&i<e.options.minZoom||e.options.maxZoom!==w&&i>e.options.maxZoom},_expand:function(){return this.expand()},_collapse:function(){return this.collapse()}}),x.control.layers=function(t,e,n){return new x.Control.Layers(t,e,n)},x.PosAnimation=x.Evented.extend({run:function(t,e,n,i){this.stop(),this._el=t,this._inProgress=!0,this._duration=n||.25,this._easeOutPower=1/Math.max(i||.5,.2),this._startPos=x.DomUtil.getPosition(t),this._offset=e.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=x.Util.requestAnimFrame(this._animate,this),this._step()},_step:function(t){var e=+new Date-this._startTime,n=1e3*this._duration;e<n?this._runFrame(this._easeOut(e/n),t):(this._runFrame(1),this._complete())},_runFrame:function(t,e){var n=this._startPos.add(this._offset.multiplyBy(t));e&&n._round(),x.DomUtil.setPosition(this._el,n),this.fire("step")},_complete:function(){x.Util.cancelAnimFrame(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(t){return 1-Math.pow(1-t,this._easeOutPower)}}),x.Map.include({setView:function(t,e,n){if((e=e===w?this._zoom:this._limitZoom(e),t=this._limitCenter(x.latLng(t),e,this.options.maxBounds),n=n||{},this._stop(),this._loaded&&!n.reset&&!0!==n)&&(n.animate!==w&&(n.zoom=x.extend({animate:n.animate},n.zoom),n.pan=x.extend({animate:n.animate,duration:n.duration},n.pan)),this._zoom!==e?this._tryAnimatedZoom&&this._tryAnimatedZoom(t,e,n.zoom):this._tryAnimatedPan(t,n.pan)))return clearTimeout(this._sizeTimer),this;return this._resetView(t,e),this},panBy:function(t,e){if(e=e||{},!(t=x.point(t).round()).x&&!t.y)return this.fire("moveend");if(!0!==e.animate&&!this.getSize().contains(t))return this._resetView(this.unproject(this.project(this.getCenter()).add(t)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new x.PosAnimation,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),e.noMoveStart||this.fire("movestart"),!1!==e.animate){x.DomUtil.addClass(this._mapPane,"leaflet-pan-anim");var n=this._getMapPanePos().subtract(t).round();this._panAnim.run(this._mapPane,n,e.duration||.25,e.easeLinearity)}else this._rawPanBy(t),this.fire("move").fire("moveend");return this},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){x.DomUtil.removeClass(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(t,e){var n=this._getCenterOffset(t)._floor();return!(!0!==(e&&e.animate)&&!this.getSize().contains(n)||(this.panBy(n,e),0))}}),x.Map.mergeOptions({zoomAnimation:!0,zoomAnimationThreshold:4});var A=x.DomUtil.TRANSITION&&x.Browser.any3d&&!x.Browser.mobileOpera;A&&x.Map.addInitHook(function(){this._zoomAnimated=this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),x.DomEvent.on(this._proxy,x.DomUtil.TRANSITION_END,this._catchTransitionEnd,this))}),x.Map.include(A?{_createAnimProxy:function(){var i=this._proxy=x.DomUtil.create("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(i),this.on("zoomanim",function(t){var e=x.DomUtil.TRANSFORM,n=i.style[e];x.DomUtil.setTransform(i,this.project(t.center,t.zoom),this.getZoomScale(t.zoom,1)),n===i.style[e]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",function(){var t=this.getCenter(),e=this.getZoom();x.DomUtil.setTransform(i,this.project(t,e),this.getZoomScale(e,1))},this)},_catchTransitionEnd:function(t){this._animatingZoom&&0<=t.propertyName.indexOf("transform")&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(t,e,n){if(this._animatingZoom)return!0;if(n=n||{},!this._zoomAnimated||!1===n.animate||this._nothingToAnimate()||Math.abs(e-this._zoom)>this.options.zoomAnimationThreshold)return!1;var i=this.getZoomScale(e),o=this._getCenterOffset(t)._divideBy(1-1/i);return!(!0!==n.animate&&!this.getSize().contains(o)||(x.Util.requestAnimFrame(function(){this._moveStart(!0)._animateZoom(t,e,!0)},this),0))},_animateZoom:function(t,e,n,i){n&&(this._animatingZoom=!0,this._animateToCenter=t,this._animateToZoom=e,x.DomUtil.addClass(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:t,zoom:e,noUpdate:i}),setTimeout(x.bind(this._onZoomTransitionEnd,this),250)},_onZoomTransitionEnd:function(){this._animatingZoom&&(x.DomUtil.removeClass(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom),x.Util.requestAnimFrame(function(){this._moveEnd(!0)},this))}}:{}),x.Map.include({flyTo:function(r,a,t){function e(t){var e=(o*o-h*h+(t?-1:1)*g*g*d*d)/(2*(t?o:h)*g*d),n=Math.sqrt(e*e+1)-e;return n<1e-9?-18:Math.log(n)}function n(t){return(Math.exp(t)-Math.exp(-t))/2}function s(t){return(Math.exp(t)+Math.exp(-t))/2}function l(t){return h*(s(m)*(n(e=m+f*t)/s(e))-n(m))/g;var e}if(!1===(t=t||{}).animate||!x.Browser.any3d)return this.setView(r,a,t);this._stop();var u=this.project(this.getCenter()),c=this.project(r),i=this.getSize(),p=this._zoom;r=x.latLng(r),a=a===w?p:a;var h=Math.max(i.x,i.y),o=h*this.getZoomScale(p,a),d=c.distanceTo(u)||1,f=1.42,g=f*f,m=e(0),v=Date.now(),y=(e(1)-m)/f,b=t.duration?1e3*t.duration:1e3*y*.8;return this._moveStart(!0),function t(){var e,n,i=(Date.now()-v)/b,o=(e=i,(1-Math.pow(1-e,1.5))*y);i<=1?(this._flyToFrame=x.Util.requestAnimFrame(t,this),this._move(this.unproject(u.add(c.subtract(u).multiplyBy(l(o)/d)),p),this.getScaleZoom(h/(n=o,h*(s(m)/s(m+f*n))),p),{flyTo:!0})):this._move(r,a)._moveEnd(!0)}.call(this),this},flyToBounds:function(t,e){var n=this._getBoundsCenterZoom(t,e);return this.flyTo(n.center,n.zoom,e)}}),x.Map.include({_defaultLocateOptions:{timeout:1e4,watch:!1},locate:function(t){if(t=this._locateOptions=x.extend({},this._defaultLocateOptions,t),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var e=x.bind(this._handleGeolocationResponse,this),n=x.bind(this._handleGeolocationError,this);return t.watch?this._locationWatchId=navigator.geolocation.watchPosition(e,n,t):navigator.geolocation.getCurrentPosition(e,n,t),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(t){var e=t.code,n=t.message||(1===e?"permission denied":2===e?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:e,message:"Geolocation error: "+n+"."})},_handleGeolocationResponse:function(t){var e=t.coords.latitude,n=t.coords.longitude,i=new x.LatLng(e,n),o=i.toBounds(t.coords.accuracy),r=this._locateOptions;if(r.setView){var a=this.getBoundsZoom(o);this.setView(i,r.maxZoom?Math.min(a,r.maxZoom):a)}var s={latlng:i,bounds:o,timestamp:t.timestamp};for(var l in t.coords)"number"==typeof t.coords[l]&&(s[l]=t.coords[l]);this.fire("locationfound",s)}})}(window,document),L.Marker.include({_slideToUntil:void 0,_slideToDuration:void 0,_slideToLatLng:void 0,_slideFromLatLng:void 0,_slideKeepAtCenter:void 0,_slideDraggingWasAllowed:void 0,notStartedState:0,runState:1,endedState:2,slideTo:function(t,e){if(this._map)return this._state=this.notStartedState,this._slideToDuration=e.duration,this._slideToUntil=performance.now()+e.duration,this._slideFromLatLng=this.getLatLng(),this._slideToLatLng=t,this._slideKeepAtCenter=!!e.keepAtCenter,this._slideDraggingWasAllowed=void 0!==this._slideDraggingWasAllowed?this._slideDraggingWasAllowed:this._map.dragging.enabled(),this._slideKeepAtCenter&&(this._map.dragging.disable(),this._map.doubleClickZoom.disable(),this._map.options.touchZoom="center",this._map.options.scrollWheelZoom="center"),this._state=this.runState,this.fire("movestart"),this._slideTo(),this},isRunning:function(){return console.log("this._state is "+this._state),this._state===this.runState},slideCancel:function(){L.Util.cancelAnimFrame(this._slideFrame)},_slideTo:function(){if(this._map){var t=this._slideToUntil-performance.now();if(t<0)return this.setLatLng(this._slideToLatLng),this.fire("moveend"),this._state=this.endedState,this._slideDraggingWasAllowed&&(this._map.dragging.enable(),this._map.doubleClickZoom.enable(),this._map.options.touchZoom=!0,this._map.options.scrollWheelZoom=!0),this._slideDraggingWasAllowed=void 0,this;var e=this._map.latLngToContainerPoint(this._slideFromLatLng),n=this._map.latLngToContainerPoint(this._slideToLatLng),i=(this._slideToDuration-t)/this._slideToDuration,o=n.multiplyBy(i).add(e.multiplyBy(1-i)),r=this._map.containerPointToLatLng(o);this.setLatLng(r),this._slideKeepAtCenter&&this._map.panTo(r,{animate:!1}),this._slideFrame=L.Util.requestAnimFrame(this._slideTo,this)}}}),L.Marker.addInitHook(function(){this.on("move",this.slideCancel,this)}),L.CircleMarker.include({slideTo:L.Marker.prototype.slideTo,slideCancel:L.Marker.prototype.slideCancel,_slideTo:L.Marker.prototype._slideTo}),L.CircleMarker.addInitHook(function(){this.on("move",this.slideCancel,this)}),function(t,e){"object"==typeof module&&"object"==typeof module.exports?module.exports=t.document?e(t,!0):function(t){if(!t.document)throw new Error("jQuery requires a window with a document");return e(t)}:e(t)}("undefined"!=typeof window?window:this,function(f,t){var e=[],c=e.slice,g=e.concat,s=e.push,o=e.indexOf,n={},i=n.toString,m=n.hasOwnProperty,v={},y=f.document,_=function(t,e){return new _.fn.init(t,e)},r=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,a=/^-ms-/,l=/-([\da-z])/gi,u=function(t,e){return e.toUpperCase()};function p(t){var e="length"in t&&t.length,n=_.type(t);return"function"!==n&&!_.isWindow(t)&&(!(1!==t.nodeType||!e)||("array"===n||0===e||"number"==typeof e&&0<e&&e-1 in t))}_.fn=_.prototype={jquery:"2.1.4",constructor:_,selector:"",length:0,toArray:function(){return c.call(this)},get:function(t){return null!=t?t<0?this[t+this.length]:this[t]:c.call(this)},pushStack:function(t){var e=_.merge(this.constructor(),t);return e.prevObject=this,e.context=this.context,e},each:function(t,e){return _.each(this,t,e)},map:function(n){return this.pushStack(_.map(this,function(t,e){return n.call(t,e,t)}))},slice:function(){return this.pushStack(c.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(t){var e=this.length,n=+t+(t<0?e:0);return this.pushStack(0<=n&&n<e?[this[n]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:s,sort:e.sort,splice:e.splice},_.extend=_.fn.extend=function(){var t,e,n,i,o,r,a=arguments[0]||{},s=1,l=arguments.length,u=!1;for("boolean"==typeof a&&(u=a,a=arguments[s]||{},s++),"object"==typeof a||_.isFunction(a)||(a={}),s===l&&(a=this,s--);s<l;s++)if(null!=(t=arguments[s]))for(e in t)n=a[e],a!==(i=t[e])&&(u&&i&&(_.isPlainObject(i)||(o=_.isArray(i)))?(r=o?(o=!1,n&&_.isArray(n)?n:[]):n&&_.isPlainObject(n)?n:{},a[e]=_.extend(u,r,i)):void 0!==i&&(a[e]=i));return a},_.extend({expando:"jQuery"+("2.1.4"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(t){throw new Error(t)},noop:function(){},isFunction:function(t){return"function"===_.type(t)},isArray:Array.isArray,isWindow:function(t){return null!=t&&t===t.window},isNumeric:function(t){return!_.isArray(t)&&0<=t-parseFloat(t)+1},isPlainObject:function(t){return"object"===_.type(t)&&!t.nodeType&&!_.isWindow(t)&&!(t.constructor&&!m.call(t.constructor.prototype,"isPrototypeOf"))},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},type:function(t){return null==t?t+"":"object"==typeof t||"function"==typeof t?n[i.call(t)]||"object":typeof t},globalEval:function(t){var e,n=eval;(t=_.trim(t))&&(1===t.indexOf("use strict")?((e=y.createElement("script")).text=t,y.head.appendChild(e).parentNode.removeChild(e)):n(t))},camelCase:function(t){return t.replace(a,"ms-").replace(l,u)},nodeName:function(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()},each:function(t,e,n){var i=0,o=t.length,r=p(t);if(n){if(r)for(;i<o&&!1!==e.apply(t[i],n);i++);else for(i in t)if(!1===e.apply(t[i],n))break}else if(r)for(;i<o&&!1!==e.call(t[i],i,t[i]);i++);else for(i in t)if(!1===e.call(t[i],i,t[i]))break;return t},trim:function(t){return null==t?"":(t+"").replace(r,"")},makeArray:function(t,e){var n=e||[];return null!=t&&(p(Object(t))?_.merge(n,"string"==typeof t?[t]:t):s.call(n,t)),n},inArray:function(t,e,n){return null==e?-1:o.call(e,t,n)},merge:function(t,e){for(var n=+e.length,i=0,o=t.length;i<n;i++)t[o++]=e[i];return t.length=o,t},grep:function(t,e,n){for(var i=[],o=0,r=t.length,a=!n;o<r;o++)!e(t[o],o)!==a&&i.push(t[o]);return i},map:function(t,e,n){var i,o=0,r=t.length,a=[];if(p(t))for(;o<r;o++)null!=(i=e(t[o],o,n))&&a.push(i);else for(o in t)null!=(i=e(t[o],o,n))&&a.push(i);return g.apply([],a)},guid:1,proxy:function(t,e){var n,i,o;if("string"==typeof e&&(n=t[e],e=t,t=n),_.isFunction(t))return i=c.call(arguments,2),(o=function(){return t.apply(e||this,i.concat(c.call(arguments)))}).guid=t.guid=t.guid||_.guid++,o},now:Date.now,support:v}),_.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(t,e){n["[object "+e+"]"]=e.toLowerCase()});var h=function(n){var t,f,w,r,i,g,p,m,x,u,c,v,$,o,y,b,a,s,_,k="sizzle"+1*new Date,C=n.document,S=0,h=0,l=rt(),d=rt(),T=rt(),A=function(t,e){return t===e&&(c=!0),0},D={}.hasOwnProperty,e=[],M=e.pop,E=e.push,P=e.push,O=e.slice,I=function(t,e){for(var n=0,i=t.length;n<i;n++)if(t[n]===e)return n;return-1},R="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",L="[\\x20\\t\\r\\n\\f]",F="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",N=F.replace("w","w#"),j="\\["+L+"*("+F+")(?:"+L+"*([*^$|!~]?=)"+L+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+N+"))|)"+L+"*\\]",B=":("+F+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+j+")*)|.*)\\)|)",U=new RegExp(L+"+","g"),z=new RegExp("^"+L+"+|((?:^|[^\\\\])(?:\\\\.)*)"+L+"+$","g"),H=new RegExp("^"+L+"*,"+L+"*"),V=new RegExp("^"+L+"*([>+~]|"+L+")"+L+"*"),q=new RegExp("="+L+"*([^\\]'\"]*?)"+L+"*\\]","g"),W=new RegExp(B),G=new RegExp("^"+N+"$"),Y={ID:new RegExp("^#("+F+")"),CLASS:new RegExp("^\\.("+F+")"),TAG:new RegExp("^("+F.replace("w","w*")+")"),ATTR:new RegExp("^"+j),PSEUDO:new RegExp("^"+B),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+L+"*(even|odd|(([+-]|)(\\d*)n|)"+L+"*(?:([+-]|)"+L+"*(\\d+)|))"+L+"*\\)|)","i"),bool:new RegExp("^(?:"+R+")$","i"),needsContext:new RegExp("^"+L+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+L+"*((?:-\\d)?\\d*)"+L+"*\\)|)(?=[^-]|$)","i")},K=/^(?:input|select|textarea|button)$/i,Z=/^h\d$/i,X=/^[^{]+\{\s*\[native \w/,J=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,Q=/[+~]/,tt=/'|\\/g,et=new RegExp("\\\\([\\da-f]{1,6}"+L+"?|("+L+")|.)","ig"),nt=function(t,e,n){var i="0x"+e-65536;return i!=i||n?e:i<0?String.fromCharCode(i+65536):String.fromCharCode(i>>10|55296,1023&i|56320)},it=function(){v()};try{P.apply(e=O.call(C.childNodes),C.childNodes),e[C.childNodes.length].nodeType}catch(t){P={apply:e.length?function(t,e){E.apply(t,O.call(e))}:function(t,e){for(var n=t.length,i=0;t[n++]=e[i++];);t.length=n-1}}}function ot(t,e,n,i){var o,r,a,s,l,u,c,p,h,d;if((e?e.ownerDocument||e:C)!==$&&v(e),n=n||[],s=(e=e||$).nodeType,"string"!=typeof t||!t||1!==s&&9!==s&&11!==s)return n;if(!i&&y){if(11!==s&&(o=J.exec(t)))if(a=o[1]){if(9===s){if(!(r=e.getElementById(a))||!r.parentNode)return n;if(r.id===a)return n.push(r),n}else if(e.ownerDocument&&(r=e.ownerDocument.getElementById(a))&&_(e,r)&&r.id===a)return n.push(r),n}else{if(o[2])return P.apply(n,e.getElementsByTagName(t)),n;if((a=o[3])&&f.getElementsByClassName)return P.apply(n,e.getElementsByClassName(a)),n}if(f.qsa&&(!b||!b.test(t))){if(p=c=k,h=e,d=1!==s&&t,1===s&&"object"!==e.nodeName.toLowerCase()){for(u=g(t),(c=e.getAttribute("id"))?p=c.replace(tt,"\\$&"):e.setAttribute("id",p),p="[id='"+p+"'] ",l=u.length;l--;)u[l]=p+gt(u[l]);h=Q.test(t)&&dt(e.parentNode)||e,d=u.join(",")}if(d)try{return P.apply(n,h.querySelectorAll(d)),n}catch(t){}finally{c||e.removeAttribute("id")}}}return m(t.replace(z,"$1"),e,n,i)}function rt(){var i=[];return function t(e,n){return i.push(e+" ")>w.cacheLength&&delete t[i.shift()],t[e+" "]=n}}function at(t){return t[k]=!0,t}function st(t){var e=$.createElement("div");try{return!!t(e)}catch(t){return!1}finally{e.parentNode&&e.parentNode.removeChild(e),e=null}}function lt(t,e){for(var n=t.split("|"),i=t.length;i--;)w.attrHandle[n[i]]=e}function ut(t,e){var n=e&&t,i=n&&1===t.nodeType&&1===e.nodeType&&(~e.sourceIndex||1<<31)-(~t.sourceIndex||1<<31);if(i)return i;if(n)for(;n=n.nextSibling;)if(n===e)return-1;return t?1:-1}function ct(e){return function(t){return"input"===t.nodeName.toLowerCase()&&t.type===e}}function pt(n){return function(t){var e=t.nodeName.toLowerCase();return("input"===e||"button"===e)&&t.type===n}}function ht(a){return at(function(r){return r=+r,at(function(t,e){for(var n,i=a([],t.length,r),o=i.length;o--;)t[n=i[o]]&&(t[n]=!(e[n]=t[n]))})})}function dt(t){return t&&void 0!==t.getElementsByTagName&&t}for(t in f=ot.support={},i=ot.isXML=function(t){var e=t&&(t.ownerDocument||t).documentElement;return!!e&&"HTML"!==e.nodeName},v=ot.setDocument=function(t){var e,n,l=t?t.ownerDocument||t:C;return l!==$&&9===l.nodeType&&l.documentElement?(o=($=l).documentElement,(n=l.defaultView)&&n!==n.top&&(n.addEventListener?n.addEventListener("unload",it,!1):n.attachEvent&&n.attachEvent("onunload",it)),y=!i(l),f.attributes=st(function(t){return t.className="i",!t.getAttribute("className")}),f.getElementsByTagName=st(function(t){return t.appendChild(l.createComment("")),!t.getElementsByTagName("*").length}),f.getElementsByClassName=X.test(l.getElementsByClassName),f.getById=st(function(t){return o.appendChild(t).id=k,!l.getElementsByName||!l.getElementsByName(k).length}),f.getById?(w.find.ID=function(t,e){if(void 0!==e.getElementById&&y){var n=e.getElementById(t);return n&&n.parentNode?[n]:[]}},w.filter.ID=function(t){var e=t.replace(et,nt);return function(t){return t.getAttribute("id")===e}}):(delete w.find.ID,w.filter.ID=function(t){var n=t.replace(et,nt);return function(t){var e=void 0!==t.getAttributeNode&&t.getAttributeNode("id");return e&&e.value===n}}),w.find.TAG=f.getElementsByTagName?function(t,e){return void 0!==e.getElementsByTagName?e.getElementsByTagName(t):f.qsa?e.querySelectorAll(t):void 0}:function(t,e){var n,i=[],o=0,r=e.getElementsByTagName(t);if("*"!==t)return r;for(;n=r[o++];)1===n.nodeType&&i.push(n);return i},w.find.CLASS=f.getElementsByClassName&&function(t,e){if(y)return e.getElementsByClassName(t)},a=[],b=[],(f.qsa=X.test(l.querySelectorAll))&&(st(function(t){o.appendChild(t).innerHTML="<a id='"+k+"'></a><select id='"+k+"-\f]' msallowcapture=''><option selected=''></option></select>",t.querySelectorAll("[msallowcapture^='']").length&&b.push("[*^$]="+L+"*(?:''|\"\")"),t.querySelectorAll("[selected]").length||b.push("\\["+L+"*(?:value|"+R+")"),t.querySelectorAll("[id~="+k+"-]").length||b.push("~="),t.querySelectorAll(":checked").length||b.push(":checked"),t.querySelectorAll("a#"+k+"+*").length||b.push(".#.+[+~]")}),st(function(t){var e=l.createElement("input");e.setAttribute("type","hidden"),t.appendChild(e).setAttribute("name","D"),t.querySelectorAll("[name=d]").length&&b.push("name"+L+"*[*^$|!~]?="),t.querySelectorAll(":enabled").length||b.push(":enabled",":disabled"),t.querySelectorAll("*,:x"),b.push(",.*:")})),(f.matchesSelector=X.test(s=o.matches||o.webkitMatchesSelector||o.mozMatchesSelector||o.oMatchesSelector||o.msMatchesSelector))&&st(function(t){f.disconnectedMatch=s.call(t,"div"),s.call(t,"[s!='']:x"),a.push("!=",B)}),b=b.length&&new RegExp(b.join("|")),a=a.length&&new RegExp(a.join("|")),e=X.test(o.compareDocumentPosition),_=e||X.test(o.contains)?function(t,e){var n=9===t.nodeType?t.documentElement:t,i=e&&e.parentNode;return t===i||!(!i||1!==i.nodeType||!(n.contains?n.contains(i):t.compareDocumentPosition&&16&t.compareDocumentPosition(i)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},A=e?function(t,e){if(t===e)return c=!0,0;var n=!t.compareDocumentPosition-!e.compareDocumentPosition;return n||(1&(n=(t.ownerDocument||t)===(e.ownerDocument||e)?t.compareDocumentPosition(e):1)||!f.sortDetached&&e.compareDocumentPosition(t)===n?t===l||t.ownerDocument===C&&_(C,t)?-1:e===l||e.ownerDocument===C&&_(C,e)?1:u?I(u,t)-I(u,e):0:4&n?-1:1)}:function(t,e){if(t===e)return c=!0,0;var n,i=0,o=t.parentNode,r=e.parentNode,a=[t],s=[e];if(!o||!r)return t===l?-1:e===l?1:o?-1:r?1:u?I(u,t)-I(u,e):0;if(o===r)return ut(t,e);for(n=t;n=n.parentNode;)a.unshift(n);for(n=e;n=n.parentNode;)s.unshift(n);for(;a[i]===s[i];)i++;return i?ut(a[i],s[i]):a[i]===C?-1:s[i]===C?1:0},l):$},ot.matches=function(t,e){return ot(t,null,null,e)},ot.matchesSelector=function(t,e){if((t.ownerDocument||t)!==$&&v(t),e=e.replace(q,"='$1']"),f.matchesSelector&&y&&(!a||!a.test(e))&&(!b||!b.test(e)))try{var n=s.call(t,e);if(n||f.disconnectedMatch||t.document&&11!==t.document.nodeType)return n}catch(t){}return 0<ot(e,$,null,[t]).length},ot.contains=function(t,e){return(t.ownerDocument||t)!==$&&v(t),_(t,e)},ot.attr=function(t,e){(t.ownerDocument||t)!==$&&v(t);var n=w.attrHandle[e.toLowerCase()],i=n&&D.call(w.attrHandle,e.toLowerCase())?n(t,e,!y):void 0;return void 0!==i?i:f.attributes||!y?t.getAttribute(e):(i=t.getAttributeNode(e))&&i.specified?i.value:null},ot.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},ot.uniqueSort=function(t){var e,n=[],i=0,o=0;if(c=!f.detectDuplicates,u=!f.sortStable&&t.slice(0),t.sort(A),c){for(;e=t[o++];)e===t[o]&&(i=n.push(o));for(;i--;)t.splice(n[i],1)}return u=null,t},r=ot.getText=function(t){var e,n="",i=0,o=t.nodeType;if(o){if(1===o||9===o||11===o){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)n+=r(t)}else if(3===o||4===o)return t.nodeValue}else for(;e=t[i++];)n+=r(e);return n},(w=ot.selectors={cacheLength:50,createPseudo:at,match:Y,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(et,nt),t[3]=(t[3]||t[4]||t[5]||"").replace(et,nt),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||ot.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&ot.error(t[0]),t},PSEUDO:function(t){var e,n=!t[6]&&t[2];return Y.CHILD.test(t[0])?null:(t[3]?t[2]=t[4]||t[5]||"":n&&W.test(n)&&(e=g(n,!0))&&(e=n.indexOf(")",n.length-e)-n.length)&&(t[0]=t[0].slice(0,e),t[2]=n.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(et,nt).toLowerCase();return"*"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=l[t+" "];return e||(e=new RegExp("(^|"+L+")"+t+"("+L+"|$)"))&&l(t,function(t){return e.test("string"==typeof t.className&&t.className||void 0!==t.getAttribute&&t.getAttribute("class")||"")})},ATTR:function(n,i,o){return function(t){var e=ot.attr(t,n);return null==e?"!="===i:!i||(e+="","="===i?e===o:"!="===i?e!==o:"^="===i?o&&0===e.indexOf(o):"*="===i?o&&-1<e.indexOf(o):"$="===i?o&&e.slice(-o.length)===o:"~="===i?-1<(" "+e.replace(U," ")+" ").indexOf(o):"|="===i&&(e===o||e.slice(0,o.length+1)===o+"-"))}},CHILD:function(d,t,e,f,g){var m="nth"!==d.slice(0,3),v="last"!==d.slice(-4),y="of-type"===t;return 1===f&&0===g?function(t){return!!t.parentNode}:function(t,e,n){var i,o,r,a,s,l,u=m!==v?"nextSibling":"previousSibling",c=t.parentNode,p=y&&t.nodeName.toLowerCase(),h=!n&&!y;if(c){if(m){for(;u;){for(r=t;r=r[u];)if(y?r.nodeName.toLowerCase()===p:1===r.nodeType)return!1;l=u="only"===d&&!l&&"nextSibling"}return!0}if(l=[v?c.firstChild:c.lastChild],v&&h){for(s=(i=(o=c[k]||(c[k]={}))[d]||[])[0]===S&&i[1],a=i[0]===S&&i[2],r=s&&c.childNodes[s];r=++s&&r&&r[u]||(a=s=0)||l.pop();)if(1===r.nodeType&&++a&&r===t){o[d]=[S,s,a];break}}else if(h&&(i=(t[k]||(t[k]={}))[d])&&i[0]===S)a=i[1];else for(;(r=++s&&r&&r[u]||(a=s=0)||l.pop())&&((y?r.nodeName.toLowerCase()!==p:1!==r.nodeType)||!++a||(h&&((r[k]||(r[k]={}))[d]=[S,a]),r!==t)););return(a-=g)===f||a%f==0&&0<=a/f}}},PSEUDO:function(t,r){var e,a=w.pseudos[t]||w.setFilters[t.toLowerCase()]||ot.error("unsupported pseudo: "+t);return a[k]?a(r):1<a.length?(e=[t,t,"",r],w.setFilters.hasOwnProperty(t.toLowerCase())?at(function(t,e){for(var n,i=a(t,r),o=i.length;o--;)t[n=I(t,i[o])]=!(e[n]=i[o])}):function(t){return a(t,0,e)}):a}},pseudos:{not:at(function(t){var i=[],o=[],s=p(t.replace(z,"$1"));return s[k]?at(function(t,e,n,i){for(var o,r=s(t,null,i,[]),a=t.length;a--;)(o=r[a])&&(t[a]=!(e[a]=o))}):function(t,e,n){return i[0]=t,s(i,null,n,o),i[0]=null,!o.pop()}}),has:at(function(e){return function(t){return 0<ot(e,t).length}}),contains:at(function(e){return e=e.replace(et,nt),function(t){return-1<(t.textContent||t.innerText||r(t)).indexOf(e)}}),lang:at(function(n){return G.test(n||"")||ot.error("unsupported lang: "+n),n=n.replace(et,nt).toLowerCase(),function(t){var e;do{if(e=y?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(e=e.toLowerCase())===n||0===e.indexOf(n+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var e=n.location&&n.location.hash;return e&&e.slice(1)===t.id},root:function(t){return t===o},focus:function(t){return t===$.activeElement&&(!$.hasFocus||$.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:function(t){return!1===t.disabled},disabled:function(t){return!0===t.disabled},checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,!0===t.selected},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1;return!0},parent:function(t){return!w.pseudos.empty(t)},header:function(t){return Z.test(t.nodeName)},input:function(t){return K.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},text:function(t){var e;return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(e=t.getAttribute("type"))||"text"===e.toLowerCase())},first:ht(function(){return[0]}),last:ht(function(t,e){return[e-1]}),eq:ht(function(t,e,n){return[n<0?n+e:n]}),even:ht(function(t,e){for(var n=0;n<e;n+=2)t.push(n);return t}),odd:ht(function(t,e){for(var n=1;n<e;n+=2)t.push(n);return t}),lt:ht(function(t,e,n){for(var i=n<0?n+e:n;0<=--i;)t.push(i);return t}),gt:ht(function(t,e,n){for(var i=n<0?n+e:n;++i<e;)t.push(i);return t})}}).pseudos.nth=w.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})w.pseudos[t]=ct(t);for(t in{submit:!0,reset:!0})w.pseudos[t]=pt(t);function ft(){}function gt(t){for(var e=0,n=t.length,i="";e<n;e++)i+=t[e].value;return i}function mt(a,t,e){var s=t.dir,l=e&&"parentNode"===s,u=h++;return t.first?function(t,e,n){for(;t=t[s];)if(1===t.nodeType||l)return a(t,e,n)}:function(t,e,n){var i,o,r=[S,u];if(n){for(;t=t[s];)if((1===t.nodeType||l)&&a(t,e,n))return!0}else for(;t=t[s];)if(1===t.nodeType||l){if((i=(o=t[k]||(t[k]={}))[s])&&i[0]===S&&i[1]===u)return r[2]=i[2];if((o[s]=r)[2]=a(t,e,n))return!0}}}function vt(o){return 1<o.length?function(t,e,n){for(var i=o.length;i--;)if(!o[i](t,e,n))return!1;return!0}:o[0]}function yt(t,e,n,i,o){for(var r,a=[],s=0,l=t.length,u=null!=e;s<l;s++)(r=t[s])&&(n&&!n(r,i,o)||(a.push(r),u&&e.push(s)));return a}function bt(d,f,g,m,v,t){return m&&!m[k]&&(m=bt(m)),v&&!v[k]&&(v=bt(v,t)),at(function(t,e,n,i){var o,r,a,s=[],l=[],u=e.length,c=t||function(t,e,n){for(var i=0,o=e.length;i<o;i++)ot(t,e[i],n);return n}(f||"*",n.nodeType?[n]:n,[]),p=!d||!t&&f?c:yt(c,s,d,n,i),h=g?v||(t?d:u||m)?[]:e:p;if(g&&g(p,h,n,i),m)for(o=yt(h,l),m(o,[],n,i),r=o.length;r--;)(a=o[r])&&(h[l[r]]=!(p[l[r]]=a));if(t){if(v||d){if(v){for(o=[],r=h.length;r--;)(a=h[r])&&o.push(p[r]=a);v(null,h=[],o,i)}for(r=h.length;r--;)(a=h[r])&&-1<(o=v?I(t,a):s[r])&&(t[o]=!(e[o]=a))}}else h=yt(h===e?h.splice(u,h.length):h),v?v(null,e,h,i):P.apply(e,h)})}function wt(t){for(var o,e,n,i=t.length,r=w.relative[t[0].type],a=r||w.relative[" "],s=r?1:0,l=mt(function(t){return t===o},a,!0),u=mt(function(t){return-1<I(o,t)},a,!0),c=[function(t,e,n){var i=!r&&(n||e!==x)||((o=e).nodeType?l(t,e,n):u(t,e,n));return o=null,i}];s<i;s++)if(e=w.relative[t[s].type])c=[mt(vt(c),e)];else{if((e=w.filter[t[s].type].apply(null,t[s].matches))[k]){for(n=++s;n<i&&!w.relative[t[n].type];n++);return bt(1<s&&vt(c),1<s&&gt(t.slice(0,s-1).concat({value:" "===t[s-2].type?"*":""})).replace(z,"$1"),e,s<n&&wt(t.slice(s,n)),n<i&&wt(t=t.slice(n)),n<i&&gt(t))}c.push(e)}return vt(c)}return ft.prototype=w.filters=w.pseudos,w.setFilters=new ft,g=ot.tokenize=function(t,e){var n,i,o,r,a,s,l,u=d[t+" "];if(u)return e?0:u.slice(0);for(a=t,s=[],l=w.preFilter;a;){for(r in n&&!(i=H.exec(a))||(i&&(a=a.slice(i[0].length)||a),s.push(o=[])),n=!1,(i=V.exec(a))&&(n=i.shift(),o.push({value:n,type:i[0].replace(z," ")}),a=a.slice(n.length)),w.filter)!(i=Y[r].exec(a))||l[r]&&!(i=l[r](i))||(n=i.shift(),o.push({value:n,type:r,matches:i}),a=a.slice(n.length));if(!n)break}return e?a.length:a?ot.error(t):d(t,s).slice(0)},p=ot.compile=function(t,e){var n,m,v,y,b,i,o=[],r=[],a=T[t+" "];if(!a){for(e||(e=g(t)),n=e.length;n--;)(a=wt(e[n]))[k]?o.push(a):r.push(a);(a=T(t,(m=r,y=0<(v=o).length,b=0<m.length,i=function(t,e,n,i,o){var r,a,s,l=0,u="0",c=t&&[],p=[],h=x,d=t||b&&w.find.TAG("*",o),f=S+=null==h?1:Math.random()||.1,g=d.length;for(o&&(x=e!==$&&e);u!==g&&null!=(r=d[u]);u++){if(b&&r){for(a=0;s=m[a++];)if(s(r,e,n)){i.push(r);break}o&&(S=f)}y&&((r=!s&&r)&&l--,t&&c.push(r))}if(l+=u,y&&u!==l){for(a=0;s=v[a++];)s(c,p,e,n);if(t){if(0<l)for(;u--;)c[u]||p[u]||(p[u]=M.call(i));p=yt(p)}P.apply(i,p),o&&!t&&0<p.length&&1<l+v.length&&ot.uniqueSort(i)}return o&&(S=f,x=h),c},y?at(i):i))).selector=t}return a},m=ot.select=function(t,e,n,i){var o,r,a,s,l,u="function"==typeof t&&t,c=!i&&g(t=u.selector||t);if(n=n||[],1===c.length){if(2<(r=c[0]=c[0].slice(0)).length&&"ID"===(a=r[0]).type&&f.getById&&9===e.nodeType&&y&&w.relative[r[1].type]){if(!(e=(w.find.ID(a.matches[0].replace(et,nt),e)||[])[0]))return n;u&&(e=e.parentNode),t=t.slice(r.shift().value.length)}for(o=Y.needsContext.test(t)?0:r.length;o--&&(a=r[o],!w.relative[s=a.type]);)if((l=w.find[s])&&(i=l(a.matches[0].replace(et,nt),Q.test(r[0].type)&&dt(e.parentNode)||e))){if(r.splice(o,1),!(t=i.length&&gt(r)))return P.apply(n,i),n;break}}return(u||p(t,c))(i,e,!y,n,Q.test(t)&&dt(e.parentNode)||e),n},f.sortStable=k.split("").sort(A).join("")===k,f.detectDuplicates=!!c,v(),f.sortDetached=st(function(t){return 1&t.compareDocumentPosition($.createElement("div"))}),st(function(t){return t.innerHTML="<a href='#'></a>","#"===t.firstChild.getAttribute("href")})||lt("type|href|height|width",function(t,e,n){if(!n)return t.getAttribute(e,"type"===e.toLowerCase()?1:2)}),f.attributes&&st(function(t){return t.innerHTML="<input/>",t.firstChild.setAttribute("value",""),""===t.firstChild.getAttribute("value")})||lt("value",function(t,e,n){if(!n&&"input"===t.nodeName.toLowerCase())return t.defaultValue}),st(function(t){return null==t.getAttribute("disabled")})||lt(R,function(t,e,n){var i;if(!n)return!0===t[e]?e.toLowerCase():(i=t.getAttributeNode(e))&&i.specified?i.value:null}),ot}(f);_.find=h,_.expr=h.selectors,_.expr[":"]=_.expr.pseudos,_.unique=h.uniqueSort,_.text=h.getText,_.isXMLDoc=h.isXML,_.contains=h.contains;var d=_.expr.match.needsContext,b=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,w=/^.[^:#\[\.,]*$/;function x(t,n,i){if(_.isFunction(n))return _.grep(t,function(t,e){return!!n.call(t,e,t)!==i});if(n.nodeType)return _.grep(t,function(t){return t===n!==i});if("string"==typeof n){if(w.test(n))return _.filter(n,t,i);n=_.filter(n,t)}return _.grep(t,function(t){return 0<=o.call(n,t)!==i})}_.filter=function(t,e,n){var i=e[0];return n&&(t=":not("+t+")"),1===e.length&&1===i.nodeType?_.find.matchesSelector(i,t)?[i]:[]:_.find.matches(t,_.grep(e,function(t){return 1===t.nodeType}))},_.fn.extend({find:function(t){var e,n=this.length,i=[],o=this;if("string"!=typeof t)return this.pushStack(_(t).filter(function(){for(e=0;e<n;e++)if(_.contains(o[e],this))return!0}));for(e=0;e<n;e++)_.find(t,o[e],i);return(i=this.pushStack(1<n?_.unique(i):i)).selector=this.selector?this.selector+" "+t:t,i},filter:function(t){return this.pushStack(x(this,t||[],!1))},not:function(t){return this.pushStack(x(this,t||[],!0))},is:function(t){return!!x(this,"string"==typeof t&&d.test(t)?_(t):t||[],!1).length}});var $,k=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/;(_.fn.init=function(t,e){var n,i;if(!t)return this;if("string"!=typeof t)return t.nodeType?(this.context=this[0]=t,this.length=1,this):_.isFunction(t)?void 0!==$.ready?$.ready(t):t(_):(void 0!==t.selector&&(this.selector=t.selector,this.context=t.context),_.makeArray(t,this));if(!(n="<"===t[0]&&">"===t[t.length-1]&&3<=t.length?[null,t,null]:k.exec(t))||!n[1]&&e)return!e||e.jquery?(e||$).find(t):this.constructor(e).find(t);if(n[1]){if(e=e instanceof _?e[0]:e,_.merge(this,_.parseHTML(n[1],e&&e.nodeType?e.ownerDocument||e:y,!0)),b.test(n[1])&&_.isPlainObject(e))for(n in e)_.isFunction(this[n])?this[n](e[n]):this.attr(n,e[n]);return this}return(i=y.getElementById(n[2]))&&i.parentNode&&(this.length=1,this[0]=i),this.context=y,this.selector=t,this}).prototype=_.fn,$=_(y);var C=/^(?:parents|prev(?:Until|All))/,S={children:!0,contents:!0,next:!0,prev:!0};function T(t,e){for(;(t=t[e])&&1!==t.nodeType;);return t}_.extend({dir:function(t,e,n){for(var i=[],o=void 0!==n;(t=t[e])&&9!==t.nodeType;)if(1===t.nodeType){if(o&&_(t).is(n))break;i.push(t)}return i},sibling:function(t,e){for(var n=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&n.push(t);return n}}),_.fn.extend({has:function(t){var e=_(t,this),n=e.length;return this.filter(function(){for(var t=0;t<n;t++)if(_.contains(this,e[t]))return!0})},closest:function(t,e){for(var n,i=0,o=this.length,r=[],a=d.test(t)||"string"!=typeof t?_(t,e||this.context):0;i<o;i++)for(n=this[i];n&&n!==e;n=n.parentNode)if(n.nodeType<11&&(a?-1<a.index(n):1===n.nodeType&&_.find.matchesSelector(n,t))){r.push(n);break}return this.pushStack(1<r.length?_.unique(r):r)},index:function(t){return t?"string"==typeof t?o.call(_(t),this[0]):o.call(this,t.jquery?t[0]:t):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,e){return this.pushStack(_.unique(_.merge(this.get(),_(t,e))))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),_.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return _.dir(t,"parentNode")},parentsUntil:function(t,e,n){return _.dir(t,"parentNode",n)},next:function(t){return T(t,"nextSibling")},prev:function(t){return T(t,"previousSibling")},nextAll:function(t){return _.dir(t,"nextSibling")},prevAll:function(t){return _.dir(t,"previousSibling")},nextUntil:function(t,e,n){return _.dir(t,"nextSibling",n)},prevUntil:function(t,e,n){return _.dir(t,"previousSibling",n)},siblings:function(t){return _.sibling((t.parentNode||{}).firstChild,t)},children:function(t){return _.sibling(t.firstChild)},contents:function(t){return t.contentDocument||_.merge([],t.childNodes)}},function(i,o){_.fn[i]=function(t,e){var n=_.map(this,o,t);return"Until"!==i.slice(-5)&&(e=t),e&&"string"==typeof e&&(n=_.filter(e,n)),1<this.length&&(S[i]||_.unique(n),C.test(i)&&n.reverse()),this.pushStack(n)}});var A,D=/\S+/g,M={};function E(){y.removeEventListener("DOMContentLoaded",E,!1),f.removeEventListener("load",E,!1),_.ready()}_.Callbacks=function(o){var t,n;o="string"==typeof o?M[o]||(n=M[t=o]={},_.each(t.match(D)||[],function(t,e){n[e]=!0}),n):_.extend({},o);var e,i,r,a,s,l,u=[],c=!o.once&&[],p=function(t){for(e=o.memory&&t,i=!0,l=a||0,a=0,s=u.length,r=!0;u&&l<s;l++)if(!1===u[l].apply(t[0],t[1])&&o.stopOnFalse){e=!1;break}r=!1,u&&(c?c.length&&p(c.shift()):e?u=[]:h.disable())},h={add:function(){if(u){var t=u.length;!function i(t){_.each(t,function(t,e){var n=_.type(e);"function"===n?o.unique&&h.has(e)||u.push(e):e&&e.length&&"string"!==n&&i(e)})}(arguments),r?s=u.length:e&&(a=t,p(e))}return this},remove:function(){return u&&_.each(arguments,function(t,e){for(var n;-1<(n=_.inArray(e,u,n));)u.splice(n,1),r&&(n<=s&&s--,n<=l&&l--)}),this},has:function(t){return t?-1<_.inArray(t,u):!(!u||!u.length)},empty:function(){return u=[],s=0,this},disable:function(){return u=c=e=void 0,this},disabled:function(){return!u},lock:function(){return c=void 0,e||h.disable(),this},locked:function(){return!c},fireWith:function(t,e){return!u||i&&!c||(e=[t,(e=e||[]).slice?e.slice():e],r?c.push(e):p(e)),this},fire:function(){return h.fireWith(this,arguments),this},fired:function(){return!!i}};return h},_.extend({Deferred:function(t){var r=[["resolve","done",_.Callbacks("once memory"),"resolved"],["reject","fail",_.Callbacks("once memory"),"rejected"],["notify","progress",_.Callbacks("memory")]],o="pending",a={state:function(){return o},always:function(){return s.done(arguments).fail(arguments),this},then:function(){var o=arguments;return _.Deferred(function(i){_.each(r,function(t,e){var n=_.isFunction(o[t])&&o[t];s[e[1]](function(){var t=n&&n.apply(this,arguments);t&&_.isFunction(t.promise)?t.promise().done(i.resolve).fail(i.reject).progress(i.notify):i[e[0]+"With"](this===a?i.promise():this,n?[t]:arguments)})}),o=null}).promise()},promise:function(t){return null!=t?_.extend(t,a):a}},s={};return a.pipe=a.then,_.each(r,function(t,e){var n=e[2],i=e[3];a[e[1]]=n.add,i&&n.add(function(){o=i},r[1^t][2].disable,r[2][2].lock),s[e[0]]=function(){return s[e[0]+"With"](this===s?a:this,arguments),this},s[e[0]+"With"]=n.fireWith}),a.promise(s),t&&t.call(s,s),s},when:function(t){var o,e,n,i=0,r=c.call(arguments),a=r.length,s=1!==a||t&&_.isFunction(t.promise)?a:0,l=1===s?t:_.Deferred(),u=function(e,n,i){return function(t){n[e]=this,i[e]=1<arguments.length?c.call(arguments):t,i===o?l.notifyWith(n,i):--s||l.resolveWith(n,i)}};if(1<a)for(o=new Array(a),e=new Array(a),n=new Array(a);i<a;i++)r[i]&&_.isFunction(r[i].promise)?r[i].promise().done(u(i,n,r)).fail(l.reject).progress(u(i,e,o)):--s;return s||l.resolveWith(n,r),l.promise()}}),_.fn.ready=function(t){return _.ready.promise().done(t),this},_.extend({isReady:!1,readyWait:1,holdReady:function(t){t?_.readyWait++:_.ready(!0)},ready:function(t){(!0===t?--_.readyWait:_.isReady)||(_.isReady=!0)!==t&&0<--_.readyWait||(A.resolveWith(y,[_]),_.fn.triggerHandler&&(_(y).triggerHandler("ready"),_(y).off("ready")))}}),_.ready.promise=function(t){return A||(A=_.Deferred(),"complete"===y.readyState?setTimeout(_.ready):(y.addEventListener("DOMContentLoaded",E,!1),f.addEventListener("load",E,!1))),A.promise(t)},_.ready.promise();var P=_.access=function(t,e,n,i,o,r,a){var s=0,l=t.length,u=null==n;if("object"===_.type(n))for(s in o=!0,n)_.access(t,e,s,n[s],!0,r,a);else if(void 0!==i&&(o=!0,_.isFunction(i)||(a=!0),u&&(e=a?(e.call(t,i),null):(u=e,function(t,e,n){return u.call(_(t),n)})),e))for(;s<l;s++)e(t[s],n,a?i:i.call(t[s],s,e(t[s],n)));return o?t:u?e.call(t):l?e(t[0],n):r};function O(){Object.defineProperty(this.cache={},0,{get:function(){return{}}}),this.expando=_.expando+O.uid++}_.acceptData=function(t){return 1===t.nodeType||9===t.nodeType||!+t.nodeType},O.uid=1,O.accepts=_.acceptData,O.prototype={key:function(e){if(!O.accepts(e))return 0;var n={},i=e[this.expando];if(!i){i=O.uid++;try{n[this.expando]={value:i},Object.defineProperties(e,n)}catch(t){n[this.expando]=i,_.extend(e,n)}}return this.cache[i]||(this.cache[i]={}),i},set:function(t,e,n){var i,o=this.key(t),r=this.cache[o];if("string"==typeof e)r[e]=n;else if(_.isEmptyObject(r))_.extend(this.cache[o],e);else for(i in e)r[i]=e[i];return r},get:function(t,e){var n=this.cache[this.key(t)];return void 0===e?n:n[e]},access:function(t,e,n){var i;return void 0===e||e&&"string"==typeof e&&void 0===n?void 0!==(i=this.get(t,e))?i:this.get(t,_.camelCase(e)):(this.set(t,e,n),void 0!==n?n:e)},remove:function(t,e){var n,i,o,r=this.key(t),a=this.cache[r];if(void 0===e)this.cache[r]={};else{n=(i=_.isArray(e)?e.concat(e.map(_.camelCase)):(o=_.camelCase(e),e in a?[e,o]:(i=o)in a?[i]:i.match(D)||[])).length;for(;n--;)delete a[i[n]]}},hasData:function(t){return!_.isEmptyObject(this.cache[t[this.expando]]||{})},discard:function(t){t[this.expando]&&delete this.cache[t[this.expando]]}};var I=new O,R=new O,L=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,F=/([A-Z])/g;function N(t,e,n){var i;if(void 0===n&&1===t.nodeType)if(i="data-"+e.replace(F,"-$1").toLowerCase(),"string"==typeof(n=t.getAttribute(i))){try{n="true"===n||"false"!==n&&("null"===n?null:+n+""===n?+n:L.test(n)?_.parseJSON(n):n)}catch(t){}R.set(t,e,n)}else n=void 0;return n}_.extend({hasData:function(t){return R.hasData(t)||I.hasData(t)},data:function(t,e,n){return R.access(t,e,n)},removeData:function(t,e){R.remove(t,e)},_data:function(t,e,n){return I.access(t,e,n)},_removeData:function(t,e){I.remove(t,e)}}),_.fn.extend({data:function(i,t){var e,n,o,r=this[0],a=r&&r.attributes;if(void 0!==i)return"object"==typeof i?this.each(function(){R.set(this,i)}):P(this,function(e){var t,n=_.camelCase(i);if(r&&void 0===e)return void 0!==(t=R.get(r,i))?t:void 0!==(t=R.get(r,n))?t:void 0!==(t=N(r,n,void 0))?t:void 0;this.each(function(){var t=R.get(this,n);R.set(this,n,e),-1!==i.indexOf("-")&&void 0!==t&&R.set(this,i,e)})},null,t,1<arguments.length,null,!0);if(this.length&&(o=R.get(r),1===r.nodeType&&!I.get(r,"hasDataAttrs"))){for(e=a.length;e--;)a[e]&&0===(n=a[e].name).indexOf("data-")&&(n=_.camelCase(n.slice(5)),N(r,n,o[n]));I.set(r,"hasDataAttrs",!0)}return o},removeData:function(t){return this.each(function(){R.remove(this,t)})}}),_.extend({queue:function(t,e,n){var i;if(t)return e=(e||"fx")+"queue",i=I.get(t,e),n&&(!i||_.isArray(n)?i=I.access(t,e,_.makeArray(n)):i.push(n)),i||[]},dequeue:function(t,e){e=e||"fx";var n=_.queue(t,e),i=n.length,o=n.shift(),r=_._queueHooks(t,e);"inprogress"===o&&(o=n.shift(),i--),o&&("fx"===e&&n.unshift("inprogress"),delete r.stop,o.call(t,function(){_.dequeue(t,e)},r)),!i&&r&&r.empty.fire()},_queueHooks:function(t,e){var n=e+"queueHooks";return I.get(t,n)||I.access(t,n,{empty:_.Callbacks("once memory").add(function(){I.remove(t,[e+"queue",n])})})}}),_.fn.extend({queue:function(e,n){var t=2;return"string"!=typeof e&&(n=e,e="fx",t--),arguments.length<t?_.queue(this[0],e):void 0===n?this:this.each(function(){var t=_.queue(this,e,n);_._queueHooks(this,e),"fx"===e&&"inprogress"!==t[0]&&_.dequeue(this,e)})},dequeue:function(t){return this.each(function(){_.dequeue(this,t)})},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,e){var n,i=1,o=_.Deferred(),r=this,a=this.length,s=function(){--i||o.resolveWith(r,[r])};for("string"!=typeof t&&(e=t,t=void 0),t=t||"fx";a--;)(n=I.get(r[a],t+"queueHooks"))&&n.empty&&(i++,n.empty.add(s));return s(),o.promise(e)}});var j,B,U=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,z=["Top","Right","Bottom","Left"],H=function(t,e){return t=e||t,"none"===_.css(t,"display")||!_.contains(t.ownerDocument,t)},V=/^(?:checkbox|radio)$/i;j=y.createDocumentFragment().appendChild(y.createElement("div")),(B=y.createElement("input")).setAttribute("type","radio"),B.setAttribute("checked","checked"),B.setAttribute("name","t"),j.appendChild(B),v.checkClone=j.cloneNode(!0).cloneNode(!0).lastChild.checked,j.innerHTML="<textarea>x</textarea>",v.noCloneChecked=!!j.cloneNode(!0).lastChild.defaultValue;var q="undefined";v.focusinBubbles="onfocusin"in f;var W=/^key/,G=/^(?:mouse|pointer|contextmenu)|click/,Y=/^(?:focusinfocus|focusoutblur)$/,K=/^([^.]*)(?:\.(.+)|)$/;function Z(){return!0}function X(){return!1}function J(){try{return y.activeElement}catch(t){}}_.event={global:{},add:function(e,t,n,i,o){var r,a,s,l,u,c,p,h,d,f,g,m=I.get(e);if(m)for(n.handler&&(n=(r=n).handler,o=r.selector),n.guid||(n.guid=_.guid++),(l=m.events)||(l=m.events={}),(a=m.handle)||(a=m.handle=function(t){return typeof _!==q&&_.event.triggered!==t.type?_.event.dispatch.apply(e,arguments):void 0}),u=(t=(t||"").match(D)||[""]).length;u--;)d=g=(s=K.exec(t[u])||[])[1],f=(s[2]||"").split(".").sort(),d&&(p=_.event.special[d]||{},d=(o?p.delegateType:p.bindType)||d,p=_.event.special[d]||{},c=_.extend({type:d,origType:g,data:i,handler:n,guid:n.guid,selector:o,needsContext:o&&_.expr.match.needsContext.test(o),namespace:f.join(".")},r),(h=l[d])||((h=l[d]=[]).delegateCount=0,p.setup&&!1!==p.setup.call(e,i,f,a)||e.addEventListener&&e.addEventListener(d,a,!1)),p.add&&(p.add.call(e,c),c.handler.guid||(c.handler.guid=n.guid)),o?h.splice(h.delegateCount++,0,c):h.push(c),_.event.global[d]=!0)},remove:function(t,e,n,i,o){var r,a,s,l,u,c,p,h,d,f,g,m=I.hasData(t)&&I.get(t);if(m&&(l=m.events)){for(u=(e=(e||"").match(D)||[""]).length;u--;)if(d=g=(s=K.exec(e[u])||[])[1],f=(s[2]||"").split(".").sort(),d){for(p=_.event.special[d]||{},h=l[d=(i?p.delegateType:p.bindType)||d]||[],s=s[2]&&new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"),a=r=h.length;r--;)c=h[r],!o&&g!==c.origType||n&&n.guid!==c.guid||s&&!s.test(c.namespace)||i&&i!==c.selector&&("**"!==i||!c.selector)||(h.splice(r,1),c.selector&&h.delegateCount--,p.remove&&p.remove.call(t,c));a&&!h.length&&(p.teardown&&!1!==p.teardown.call(t,f,m.handle)||_.removeEvent(t,d,m.handle),delete l[d])}else for(d in l)_.event.remove(t,d+e[u],n,i,!0);_.isEmptyObject(l)&&(delete m.handle,I.remove(t,"events"))}},trigger:function(t,e,n,i){var o,r,a,s,l,u,c,p=[n||y],h=m.call(t,"type")?t.type:t,d=m.call(t,"namespace")?t.namespace.split("."):[];if(r=a=n=n||y,3!==n.nodeType&&8!==n.nodeType&&!Y.test(h+_.event.triggered)&&(0<=h.indexOf(".")&&(h=(d=h.split(".")).shift(),d.sort()),l=h.indexOf(":")<0&&"on"+h,(t=t[_.expando]?t:new _.Event(h,"object"==typeof t&&t)).isTrigger=i?2:3,t.namespace=d.join("."),t.namespace_re=t.namespace?new RegExp("(^|\\.)"+d.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=n),e=null==e?[t]:_.makeArray(e,[t]),c=_.event.special[h]||{},i||!c.trigger||!1!==c.trigger.apply(n,e))){if(!i&&!c.noBubble&&!_.isWindow(n)){for(s=c.delegateType||h,Y.test(s+h)||(r=r.parentNode);r;r=r.parentNode)p.push(r),a=r;a===(n.ownerDocument||y)&&p.push(a.defaultView||a.parentWindow||f)}for(o=0;(r=p[o++])&&!t.isPropagationStopped();)t.type=1<o?s:c.bindType||h,(u=(I.get(r,"events")||{})[t.type]&&I.get(r,"handle"))&&u.apply(r,e),(u=l&&r[l])&&u.apply&&_.acceptData(r)&&(t.result=u.apply(r,e),!1===t.result&&t.preventDefault());return t.type=h,i||t.isDefaultPrevented()||c._default&&!1!==c._default.apply(p.pop(),e)||!_.acceptData(n)||l&&_.isFunction(n[h])&&!_.isWindow(n)&&((a=n[l])&&(n[l]=null),n[_.event.triggered=h](),_.event.triggered=void 0,a&&(n[l]=a)),t.result}},dispatch:function(t){t=_.event.fix(t);var e,n,i,o,r,a,s=c.call(arguments),l=(I.get(this,"events")||{})[t.type]||[],u=_.event.special[t.type]||{};if((s[0]=t).delegateTarget=this,!u.preDispatch||!1!==u.preDispatch.call(this,t)){for(a=_.event.handlers.call(this,t,l),e=0;(o=a[e++])&&!t.isPropagationStopped();)for(t.currentTarget=o.elem,n=0;(r=o.handlers[n++])&&!t.isImmediatePropagationStopped();)t.namespace_re&&!t.namespace_re.test(r.namespace)||(t.handleObj=r,t.data=r.data,void 0!==(i=((_.event.special[r.origType]||{}).handle||r.handler).apply(o.elem,s))&&!1===(t.result=i)&&(t.preventDefault(),t.stopPropagation()));return u.postDispatch&&u.postDispatch.call(this,t),t.result}},handlers:function(t,e){var n,i,o,r,a=[],s=e.delegateCount,l=t.target;if(s&&l.nodeType&&(!t.button||"click"!==t.type))for(;l!==this;l=l.parentNode||this)if(!0!==l.disabled||"click"!==t.type){for(i=[],n=0;n<s;n++)void 0===i[o=(r=e[n]).selector+" "]&&(i[o]=r.needsContext?0<=_(o,this).index(l):_.find(o,this,null,[l]).length),i[o]&&i.push(r);i.length&&a.push({elem:l,handlers:i})}return s<e.length&&a.push({elem:this,handlers:e.slice(s)}),a},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(t,e){return null==t.which&&(t.which=null!=e.charCode?e.charCode:e.keyCode),t}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(t,e){var n,i,o,r=e.button;return null==t.pageX&&null!=e.clientX&&(i=(n=t.target.ownerDocument||y).documentElement,o=n.body,t.pageX=e.clientX+(i&&i.scrollLeft||o&&o.scrollLeft||0)-(i&&i.clientLeft||o&&o.clientLeft||0),t.pageY=e.clientY+(i&&i.scrollTop||o&&o.scrollTop||0)-(i&&i.clientTop||o&&o.clientTop||0)),t.which||void 0===r||(t.which=1&r?1:2&r?3:4&r?2:0),t}},fix:function(t){if(t[_.expando])return t;var e,n,i,o=t.type,r=t,a=this.fixHooks[o];for(a||(this.fixHooks[o]=a=G.test(o)?this.mouseHooks:W.test(o)?this.keyHooks:{}),i=a.props?this.props.concat(a.props):this.props,t=new _.Event(r),e=i.length;e--;)t[n=i[e]]=r[n];return t.target||(t.target=y),3===t.target.nodeType&&(t.target=t.target.parentNode),a.filter?a.filter(t,r):t},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==J()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===J()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if("checkbox"===this.type&&this.click&&_.nodeName(this,"input"))return this.click(),!1},_default:function(t){return _.nodeName(t.target,"a")}},beforeunload:{postDispatch:function(t){void 0!==t.result&&t.originalEvent&&(t.originalEvent.returnValue=t.result)}}},simulate:function(t,e,n,i){var o=_.extend(new _.Event,n,{type:t,isSimulated:!0,originalEvent:{}});i?_.event.trigger(o,null,e):_.event.dispatch.call(e,o),o.isDefaultPrevented()&&n.preventDefault()}},_.removeEvent=function(t,e,n){t.removeEventListener&&t.removeEventListener(e,n,!1)},_.Event=function(t,e){if(!(this instanceof _.Event))return new _.Event(t,e);t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||void 0===t.defaultPrevented&&!1===t.returnValue?Z:X):this.type=t,e&&_.extend(this,e),this.timeStamp=t&&t.timeStamp||_.now(),this[_.expando]=!0},_.Event.prototype={isDefaultPrevented:X,isPropagationStopped:X,isImmediatePropagationStopped:X,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=Z,t&&t.preventDefault&&t.preventDefault()},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=Z,t&&t.stopPropagation&&t.stopPropagation()},stopImmediatePropagation:function(){var t=this.originalEvent;this.isImmediatePropagationStopped=Z,t&&t.stopImmediatePropagation&&t.stopImmediatePropagation(),this.stopPropagation()}},_.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(t,o){_.event.special[t]={delegateType:o,bindType:o,handle:function(t){var e,n=t.relatedTarget,i=t.handleObj;return n&&(n===this||_.contains(this,n))||(t.type=i.origType,e=i.handler.apply(this,arguments),t.type=o),e}}}),v.focusinBubbles||_.each({focus:"focusin",blur:"focusout"},function(n,i){var o=function(t){_.event.simulate(i,t.target,_.event.fix(t),!0)};_.event.special[i]={setup:function(){var t=this.ownerDocument||this,e=I.access(t,i);e||t.addEventListener(n,o,!0),I.access(t,i,(e||0)+1)},teardown:function(){var t=this.ownerDocument||this,e=I.access(t,i)-1;e?I.access(t,i,e):(t.removeEventListener(n,o,!0),I.remove(t,i))}}}),_.fn.extend({on:function(t,e,n,i,o){var r,a;if("object"==typeof t){for(a in"string"!=typeof e&&(n=n||e,e=void 0),t)this.on(a,e,n,t[a],o);return this}if(null==n&&null==i?(i=e,n=e=void 0):null==i&&("string"==typeof e?(i=n,n=void 0):(i=n,n=e,e=void 0)),!1===i)i=X;else if(!i)return this;return 1===o&&(r=i,(i=function(t){return _().off(t),r.apply(this,arguments)}).guid=r.guid||(r.guid=_.guid++)),this.each(function(){_.event.add(this,t,i,n,e)})},one:function(t,e,n,i){return this.on(t,e,n,i,1)},off:function(t,e,n){var i,o;if(t&&t.preventDefault&&t.handleObj)return i=t.handleObj,_(t.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if("object"!=typeof t)return!1!==e&&"function"!=typeof e||(n=e,e=void 0),!1===n&&(n=X),this.each(function(){_.event.remove(this,t,n,e)});for(o in t)this.off(o,e,t[o]);return this},trigger:function(t,e){return this.each(function(){_.event.trigger(t,e,this)})},triggerHandler:function(t,e){var n=this[0];if(n)return _.event.trigger(t,e,n,!0)}});var Q=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,tt=/<([\w:]+)/,et=/<|&#?\w+;/,nt=/<(?:script|style|link)/i,it=/checked\s*(?:[^=]|=\s*.checked.)/i,ot=/^$|\/(?:java|ecma)script/i,rt=/^true\/(.*)/,at=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,st={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function lt(t,e){return _.nodeName(t,"table")&&_.nodeName(11!==e.nodeType?e:e.firstChild,"tr")?t.getElementsByTagName("tbody")[0]||t.appendChild(t.ownerDocument.createElement("tbody")):t}function ut(t){return t.type=(null!==t.getAttribute("type"))+"/"+t.type,t}function ct(t){var e=rt.exec(t.type);return e?t.type=e[1]:t.removeAttribute("type"),t}function pt(t,e){for(var n=0,i=t.length;n<i;n++)I.set(t[n],"globalEval",!e||I.get(e[n],"globalEval"))}function ht(t,e){var n,i,o,r,a,s,l,u;if(1===e.nodeType){if(I.hasData(t)&&(r=I.access(t),a=I.set(e,r),u=r.events))for(o in delete a.handle,a.events={},u)for(n=0,i=u[o].length;n<i;n++)_.event.add(e,o,u[o][n]);R.hasData(t)&&(s=R.access(t),l=_.extend({},s),R.set(e,l))}}function dt(t,e){var n=t.getElementsByTagName?t.getElementsByTagName(e||"*"):t.querySelectorAll?t.querySelectorAll(e||"*"):[];return void 0===e||e&&_.nodeName(t,e)?_.merge([t],n):n}st.optgroup=st.option,st.tbody=st.tfoot=st.colgroup=st.caption=st.thead,st.th=st.td,_.extend({clone:function(t,e,n){var i,o,r,a,s,l,u,c=t.cloneNode(!0),p=_.contains(t.ownerDocument,t);if(!(v.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||_.isXMLDoc(t)))for(a=dt(c),i=0,o=(r=dt(t)).length;i<o;i++)s=r[i],l=a[i],void 0,"input"===(u=l.nodeName.toLowerCase())&&V.test(s.type)?l.checked=s.checked:"input"!==u&&"textarea"!==u||(l.defaultValue=s.defaultValue);if(e)if(n)for(r=r||dt(t),a=a||dt(c),i=0,o=r.length;i<o;i++)ht(r[i],a[i]);else ht(t,c);return 0<(a=dt(c,"script")).length&&pt(a,!p&&dt(t,"script")),c},buildFragment:function(t,e,n,i){for(var o,r,a,s,l,u,c=e.createDocumentFragment(),p=[],h=0,d=t.length;h<d;h++)if((o=t[h])||0===o)if("object"===_.type(o))_.merge(p,o.nodeType?[o]:o);else if(et.test(o)){for(r=r||c.appendChild(e.createElement("div")),a=(tt.exec(o)||["",""])[1].toLowerCase(),s=st[a]||st._default,r.innerHTML=s[1]+o.replace(Q,"<$1></$2>")+s[2],u=s[0];u--;)r=r.lastChild;_.merge(p,r.childNodes),(r=c.firstChild).textContent=""}else p.push(e.createTextNode(o));for(c.textContent="",h=0;o=p[h++];)if((!i||-1===_.inArray(o,i))&&(l=_.contains(o.ownerDocument,o),r=dt(c.appendChild(o),"script"),l&&pt(r),n))for(u=0;o=r[u++];)ot.test(o.type||"")&&n.push(o);return c},cleanData:function(t){for(var e,n,i,o,r=_.event.special,a=0;void 0!==(n=t[a]);a++){if(_.acceptData(n)&&(o=n[I.expando])&&(e=I.cache[o])){if(e.events)for(i in e.events)r[i]?_.event.remove(n,i):_.removeEvent(n,i,e.handle);I.cache[o]&&delete I.cache[o]}delete R.cache[n[R.expando]]}}}),_.fn.extend({text:function(t){return P(this,function(t){return void 0===t?_.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=t)})},null,t,arguments.length)},append:function(){return this.domManip(arguments,function(t){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||lt(this,t).appendChild(t)})},prepend:function(){return this.domManip(arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=lt(this,t);e.insertBefore(t,e.firstChild)}})},before:function(){return this.domManip(arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this)})},after:function(){return this.domManip(arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)})},remove:function(t,e){for(var n,i=t?_.filter(t,this):this,o=0;null!=(n=i[o]);o++)e||1!==n.nodeType||_.cleanData(dt(n)),n.parentNode&&(e&&_.contains(n.ownerDocument,n)&&pt(dt(n,"script")),n.parentNode.removeChild(n));return this},empty:function(){for(var t,e=0;null!=(t=this[e]);e++)1===t.nodeType&&(_.cleanData(dt(t,!1)),t.textContent="");return this},clone:function(t,e){return t=null!=t&&t,e=null==e?t:e,this.map(function(){return _.clone(this,t,e)})},html:function(t){return P(this,function(t){var e=this[0]||{},n=0,i=this.length;if(void 0===t&&1===e.nodeType)return e.innerHTML;if("string"==typeof t&&!nt.test(t)&&!st[(tt.exec(t)||["",""])[1].toLowerCase()]){t=t.replace(Q,"<$1></$2>");try{for(;n<i;n++)1===(e=this[n]||{}).nodeType&&(_.cleanData(dt(e,!1)),e.innerHTML=t);e=0}catch(t){}}e&&this.empty().append(t)},null,t,arguments.length)},replaceWith:function(){var e=arguments[0];return this.domManip(arguments,function(t){e=this.parentNode,_.cleanData(dt(this)),e&&e.replaceChild(t,this)}),e&&(e.length||e.nodeType)?this:this.remove()},detach:function(t){return this.remove(t,!0)},domManip:function(n,i){n=g.apply([],n);var t,e,o,r,a,s,l=0,u=this.length,c=this,p=u-1,h=n[0],d=_.isFunction(h);if(d||1<u&&"string"==typeof h&&!v.checkClone&&it.test(h))return this.each(function(t){var e=c.eq(t);d&&(n[0]=h.call(this,t,e.html())),e.domManip(n,i)});if(u&&(e=(t=_.buildFragment(n,this[0].ownerDocument,!1,this)).firstChild,1===t.childNodes.length&&(t=e),e)){for(r=(o=_.map(dt(t,"script"),ut)).length;l<u;l++)a=t,l!==p&&(a=_.clone(a,!0,!0),r&&_.merge(o,dt(a,"script"))),i.call(this[l],a,l);if(r)for(s=o[o.length-1].ownerDocument,_.map(o,ct),l=0;l<r;l++)a=o[l],ot.test(a.type||"")&&!I.access(a,"globalEval")&&_.contains(s,a)&&(a.src?_._evalUrl&&_._evalUrl(a.src):_.globalEval(a.textContent.replace(at,"")))}return this}}),_.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(t,a){_.fn[t]=function(t){for(var e,n=[],i=_(t),o=i.length-1,r=0;r<=o;r++)e=r===o?this:this.clone(!0),_(i[r])[a](e),s.apply(n,e.get());return this.pushStack(n)}});var ft,gt={};function mt(t,e){var n,i=_(e.createElement(t)).appendTo(e.body),o=f.getDefaultComputedStyle&&(n=f.getDefaultComputedStyle(i[0]))?n.display:_.css(i[0],"display");return i.detach(),o}function vt(t){var e=y,n=gt[t];return n||("none"!==(n=mt(t,e))&&n||((e=(ft=(ft||_("<iframe frameborder='0' width='0' height='0'/>")).appendTo(e.documentElement))[0].contentDocument).write(),e.close(),n=mt(t,e),ft.detach()),gt[t]=n),n}var yt=/^margin/,bt=new RegExp("^("+U+")(?!px)[a-z%]+$","i"),wt=function(t){return t.ownerDocument.defaultView.opener?t.ownerDocument.defaultView.getComputedStyle(t,null):f.getComputedStyle(t,null)};function xt(t,e,n){var i,o,r,a,s=t.style;return(n=n||wt(t))&&(a=n.getPropertyValue(e)||n[e]),n&&(""!==a||_.contains(t.ownerDocument,t)||(a=_.style(t,e)),bt.test(a)&&yt.test(e)&&(i=s.width,o=s.minWidth,r=s.maxWidth,s.minWidth=s.maxWidth=s.width=a,a=n.width,s.width=i,s.minWidth=o,s.maxWidth=r)),void 0!==a?a+"":a}function $t(t,e){return{get:function(){if(!t())return(this.get=e).apply(this,arguments);delete this.get}}}!function(){var e,n,i=y.documentElement,o=y.createElement("div"),r=y.createElement("div");function t(){r.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute",r.innerHTML="",i.appendChild(o);var t=f.getComputedStyle(r,null);e="1%"!==t.top,n="4px"===t.width,i.removeChild(o)}r.style&&(r.style.backgroundClip="content-box",r.cloneNode(!0).style.backgroundClip="",v.clearCloneStyle="content-box"===r.style.backgroundClip,o.style.cssText="border:0;width:0;height:0;top:0;left:-9999px;margin-top:1px;position:absolute",o.appendChild(r),f.getComputedStyle&&_.extend(v,{pixelPosition:function(){return t(),e},boxSizingReliable:function(){return null==n&&t(),n},reliableMarginRight:function(){var t,e=r.appendChild(y.createElement("div"));return e.style.cssText=r.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",e.style.marginRight=e.style.width="0",r.style.width="1px",i.appendChild(o),t=!parseFloat(f.getComputedStyle(e,null).marginRight),i.removeChild(o),r.removeChild(e),t}}))}(),_.swap=function(t,e,n,i){var o,r,a={};for(r in e)a[r]=t.style[r],t.style[r]=e[r];for(r in o=n.apply(t,i||[]),e)t.style[r]=a[r];return o};var _t=/^(none|table(?!-c[ea]).+)/,kt=new RegExp("^("+U+")(.*)$","i"),Ct=new RegExp("^([+-])=("+U+")","i"),St={position:"absolute",visibility:"hidden",display:"block"},Tt={letterSpacing:"0",fontWeight:"400"},At=["Webkit","O","Moz","ms"];function Dt(t,e){if(e in t)return e;for(var n=e[0].toUpperCase()+e.slice(1),i=e,o=At.length;o--;)if((e=At[o]+n)in t)return e;return i}function Mt(t,e,n){var i=kt.exec(e);return i?Math.max(0,i[1]-(n||0))+(i[2]||"px"):e}function Et(t,e,n,i,o){for(var r=n===(i?"border":"content")?4:"width"===e?1:0,a=0;r<4;r+=2)"margin"===n&&(a+=_.css(t,n+z[r],!0,o)),i?("content"===n&&(a-=_.css(t,"padding"+z[r],!0,o)),"margin"!==n&&(a-=_.css(t,"border"+z[r]+"Width",!0,o))):(a+=_.css(t,"padding"+z[r],!0,o),"padding"!==n&&(a+=_.css(t,"border"+z[r]+"Width",!0,o)));return a}function Pt(t,e,n){var i=!0,o="width"===e?t.offsetWidth:t.offsetHeight,r=wt(t),a="border-box"===_.css(t,"boxSizing",!1,r);if(o<=0||null==o){if(((o=xt(t,e,r))<0||null==o)&&(o=t.style[e]),bt.test(o))return o;i=a&&(v.boxSizingReliable()||o===t.style[e]),o=parseFloat(o)||0}return o+Et(t,e,n||(a?"border":"content"),i,r)+"px"}function Ot(t,e){for(var n,i,o,r=[],a=0,s=t.length;a<s;a++)(i=t[a]).style&&(r[a]=I.get(i,"olddisplay"),n=i.style.display,e?(r[a]||"none"!==n||(i.style.display=""),""===i.style.display&&H(i)&&(r[a]=I.access(i,"olddisplay",vt(i.nodeName)))):(o=H(i),"none"===n&&o||I.set(i,"olddisplay",o?n:_.css(i,"display"))));for(a=0;a<s;a++)(i=t[a]).style&&(e&&"none"!==i.style.display&&""!==i.style.display||(i.style.display=e?r[a]||"":"none"));return t}function It(t,e,n,i,o){return new It.prototype.init(t,e,n,i,o)}_.extend({cssHooks:{opacity:{get:function(t,e){if(e){var n=xt(t,"opacity");return""===n?"1":n}}}},cssNumber:{columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{float:"cssFloat"},style:function(t,e,n,i){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var o,r,a,s=_.camelCase(e),l=t.style;if(e=_.cssProps[s]||(_.cssProps[s]=Dt(l,s)),a=_.cssHooks[e]||_.cssHooks[s],void 0===n)return a&&"get"in a&&void 0!==(o=a.get(t,!1,i))?o:l[e];"string"===(r=typeof n)&&(o=Ct.exec(n))&&(n=(o[1]+1)*o[2]+parseFloat(_.css(t,e)),r="number"),null!=n&&n==n&&("number"!==r||_.cssNumber[s]||(n+="px"),v.clearCloneStyle||""!==n||0!==e.indexOf("background")||(l[e]="inherit"),a&&"set"in a&&void 0===(n=a.set(t,n,i))||(l[e]=n))}},css:function(t,e,n,i){var o,r,a,s=_.camelCase(e);return e=_.cssProps[s]||(_.cssProps[s]=Dt(t.style,s)),(a=_.cssHooks[e]||_.cssHooks[s])&&"get"in a&&(o=a.get(t,!0,n)),void 0===o&&(o=xt(t,e,i)),"normal"===o&&e in Tt&&(o=Tt[e]),""===n||n?(r=parseFloat(o),!0===n||_.isNumeric(r)?r||0:o):o}}),_.each(["height","width"],function(t,o){_.cssHooks[o]={get:function(t,e,n){if(e)return _t.test(_.css(t,"display"))&&0===t.offsetWidth?_.swap(t,St,function(){return Pt(t,o,n)}):Pt(t,o,n)},set:function(t,e,n){var i=n&&wt(t);return Mt(0,e,n?Et(t,o,n,"border-box"===_.css(t,"boxSizing",!1,i),i):0)}}}),_.cssHooks.marginRight=$t(v.reliableMarginRight,function(t,e){if(e)return _.swap(t,{display:"inline-block"},xt,[t,"marginRight"])}),_.each({margin:"",padding:"",border:"Width"},function(o,r){_.cssHooks[o+r]={expand:function(t){for(var e=0,n={},i="string"==typeof t?t.split(" "):[t];e<4;e++)n[o+z[e]+r]=i[e]||i[e-2]||i[0];return n}},yt.test(o)||(_.cssHooks[o+r].set=Mt)}),_.fn.extend({css:function(t,e){return P(this,function(t,e,n){var i,o,r={},a=0;if(_.isArray(e)){for(i=wt(t),o=e.length;a<o;a++)r[e[a]]=_.css(t,e[a],!1,i);return r}return void 0!==n?_.style(t,e,n):_.css(t,e)},t,e,1<arguments.length)},show:function(){return Ot(this,!0)},hide:function(){return Ot(this)},toggle:function(t){return"boolean"==typeof t?t?this.show():this.hide():this.each(function(){H(this)?_(this).show():_(this).hide()})}}),((_.Tween=It).prototype={constructor:It,init:function(t,e,n,i,o,r){this.elem=t,this.prop=n,this.easing=o||"swing",this.options=e,this.start=this.now=this.cur(),this.end=i,this.unit=r||(_.cssNumber[n]?"":"px")},cur:function(){var t=It.propHooks[this.prop];return t&&t.get?t.get(this):It.propHooks._default.get(this)},run:function(t){var e,n=It.propHooks[this.prop];return this.options.duration?this.pos=e=_.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):this.pos=e=t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):It.propHooks._default.set(this),this}}).init.prototype=It.prototype,(It.propHooks={_default:{get:function(t){var e;return null==t.elem[t.prop]||t.elem.style&&null!=t.elem.style[t.prop]?(e=_.css(t.elem,t.prop,""))&&"auto"!==e?e:0:t.elem[t.prop]},set:function(t){_.fx.step[t.prop]?_.fx.step[t.prop](t):t.elem.style&&(null!=t.elem.style[_.cssProps[t.prop]]||_.cssHooks[t.prop])?_.style(t.elem,t.prop,t.now+t.unit):t.elem[t.prop]=t.now}}}).scrollTop=It.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},_.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2}},_.fx=It.prototype.init,_.fx.step={};var Rt,Lt,Ft,Nt,jt,Bt=/^(?:toggle|show|hide)$/,Ut=new RegExp("^(?:([+-])=|)("+U+")([a-z%]*)$","i"),zt=/queueHooks$/,Ht=[function(e,t,n){var i,o,r,a,s,l,u,c=this,p={},h=e.style,d=e.nodeType&&H(e),f=I.get(e,"fxshow");n.queue||(null==(s=_._queueHooks(e,"fx")).unqueued&&(s.unqueued=0,l=s.empty.fire,s.empty.fire=function(){s.unqueued||l()}),s.unqueued++,c.always(function(){c.always(function(){s.unqueued--,_.queue(e,"fx").length||s.empty.fire()})}));1===e.nodeType&&("height"in t||"width"in t)&&(n.overflow=[h.overflow,h.overflowX,h.overflowY],u=_.css(e,"display"),"inline"===("none"===u?I.get(e,"olddisplay")||vt(e.nodeName):u)&&"none"===_.css(e,"float")&&(h.display="inline-block"));n.overflow&&(h.overflow="hidden",c.always(function(){h.overflow=n.overflow[0],h.overflowX=n.overflow[1],h.overflowY=n.overflow[2]}));for(i in t)if(o=t[i],Bt.exec(o)){if(delete t[i],r=r||"toggle"===o,o===(d?"hide":"show")){if("show"!==o||!f||void 0===f[i])continue;d=!0}p[i]=f&&f[i]||_.style(e,i)}else u=void 0;if(_.isEmptyObject(p))"inline"===("none"===u?vt(e.nodeName):u)&&(h.display=u);else for(i in f?"hidden"in f&&(d=f.hidden):f=I.access(e,"fxshow",{}),r&&(f.hidden=!d),d?_(e).show():c.done(function(){_(e).hide()}),c.done(function(){var t;for(t in I.remove(e,"fxshow"),p)_.style(e,t,p[t])}),p)a=Gt(d?f[i]:0,i,c),i in f||(f[i]=a.start,d&&(a.end=a.start,a.start="width"===i||"height"===i?1:0))}],Vt={"*":[function(t,e){var n=this.createTween(t,e),i=n.cur(),o=Ut.exec(e),r=o&&o[3]||(_.cssNumber[t]?"":"px"),a=(_.cssNumber[t]||"px"!==r&&+i)&&Ut.exec(_.css(n.elem,t)),s=1,l=20;if(a&&a[3]!==r)for(r=r||a[3],o=o||[],a=+i||1;a/=s=s||".5",_.style(n.elem,t,a+r),s!==(s=n.cur()/i)&&1!==s&&--l;);return o&&(a=n.start=+a||+i||0,n.unit=r,n.end=o[1]?a+(o[1]+1)*o[2]:+o[2]),n}]};function qt(){return setTimeout(function(){Rt=void 0}),Rt=_.now()}function Wt(t,e){var n,i=0,o={height:t};for(e=e?1:0;i<4;i+=2-e)o["margin"+(n=z[i])]=o["padding"+n]=t;return e&&(o.opacity=o.width=t),o}function Gt(t,e,n){for(var i,o=(Vt[e]||[]).concat(Vt["*"]),r=0,a=o.length;r<a;r++)if(i=o[r].call(n,e,t))return i}function Yt(r,t,e){var n,a,i=0,o=Ht.length,s=_.Deferred().always(function(){delete l.elem}),l=function(){if(a)return!1;for(var t=Rt||qt(),e=Math.max(0,u.startTime+u.duration-t),n=1-(e/u.duration||0),i=0,o=u.tweens.length;i<o;i++)u.tweens[i].run(n);return s.notifyWith(r,[u,n,e]),n<1&&o?e:(s.resolveWith(r,[u]),!1)},u=s.promise({elem:r,props:_.extend({},t),opts:_.extend(!0,{specialEasing:{}},e),originalProperties:t,originalOptions:e,startTime:Rt||qt(),duration:e.duration,tweens:[],createTween:function(t,e){var n=_.Tween(r,u.opts,t,e,u.opts.specialEasing[t]||u.opts.easing);return u.tweens.push(n),n},stop:function(t){var e=0,n=t?u.tweens.length:0;if(a)return this;for(a=!0;e<n;e++)u.tweens[e].run(1);return t?s.resolveWith(r,[u,t]):s.rejectWith(r,[u,t]),this}}),c=u.props;for(!function(t,e){var n,i,o,r,a;for(n in t)if(o=e[i=_.camelCase(n)],r=t[n],_.isArray(r)&&(o=r[1],r=t[n]=r[0]),n!==i&&(t[i]=r,delete t[n]),(a=_.cssHooks[i])&&"expand"in a)for(n in r=a.expand(r),delete t[i],r)n in t||(t[n]=r[n],e[n]=o);else e[i]=o}(c,u.opts.specialEasing);i<o;i++)if(n=Ht[i].call(u,r,c,u.opts))return n;return _.map(c,Gt,u),_.isFunction(u.opts.start)&&u.opts.start.call(r,u),_.fx.timer(_.extend(l,{elem:r,anim:u,queue:u.opts.queue})),u.progress(u.opts.progress).done(u.opts.done,u.opts.complete).fail(u.opts.fail).always(u.opts.always)}_.Animation=_.extend(Yt,{tweener:function(t,e){for(var n,i=0,o=(t=_.isFunction(t)?(e=t,["*"]):t.split(" ")).length;i<o;i++)n=t[i],Vt[n]=Vt[n]||[],Vt[n].unshift(e)},prefilter:function(t,e){e?Ht.unshift(t):Ht.push(t)}}),_.speed=function(t,e,n){var i=t&&"object"==typeof t?_.extend({},t):{complete:n||!n&&e||_.isFunction(t)&&t,duration:t,easing:n&&e||e&&!_.isFunction(e)&&e};return i.duration=_.fx.off?0:"number"==typeof i.duration?i.duration:i.duration in _.fx.speeds?_.fx.speeds[i.duration]:_.fx.speeds._default,null!=i.queue&&!0!==i.queue||(i.queue="fx"),i.old=i.complete,i.complete=function(){_.isFunction(i.old)&&i.old.call(this),i.queue&&_.dequeue(this,i.queue)},i},_.fn.extend({fadeTo:function(t,e,n,i){return this.filter(H).css("opacity",0).show().end().animate({opacity:e},t,n,i)},animate:function(e,t,n,i){var o=_.isEmptyObject(e),r=_.speed(t,n,i),a=function(){var t=Yt(this,_.extend({},e),r);(o||I.get(this,"finish"))&&t.stop(!0)};return a.finish=a,o||!1===r.queue?this.each(a):this.queue(r.queue,a)},stop:function(o,t,r){var a=function(t){var e=t.stop;delete t.stop,e(r)};return"string"!=typeof o&&(r=t,t=o,o=void 0),t&&!1!==o&&this.queue(o||"fx",[]),this.each(function(){var t=!0,e=null!=o&&o+"queueHooks",n=_.timers,i=I.get(this);if(e)i[e]&&i[e].stop&&a(i[e]);else for(e in i)i[e]&&i[e].stop&&zt.test(e)&&a(i[e]);for(e=n.length;e--;)n[e].elem!==this||null!=o&&n[e].queue!==o||(n[e].anim.stop(r),t=!1,n.splice(e,1));!t&&r||_.dequeue(this,o)})},finish:function(a){return!1!==a&&(a=a||"fx"),this.each(function(){var t,e=I.get(this),n=e[a+"queue"],i=e[a+"queueHooks"],o=_.timers,r=n?n.length:0;for(e.finish=!0,_.queue(this,a,[]),i&&i.stop&&i.stop.call(this,!0),t=o.length;t--;)o[t].elem===this&&o[t].queue===a&&(o[t].anim.stop(!0),o.splice(t,1));for(t=0;t<r;t++)n[t]&&n[t].finish&&n[t].finish.call(this);delete e.finish})}}),_.each(["toggle","show","hide"],function(t,i){var o=_.fn[i];_.fn[i]=function(t,e,n){return null==t||"boolean"==typeof t?o.apply(this,arguments):this.animate(Wt(i,!0),t,e,n)}}),_.each({slideDown:Wt("show"),slideUp:Wt("hide"),slideToggle:Wt("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(t,i){_.fn[t]=function(t,e,n){return this.animate(i,t,e,n)}}),_.timers=[],_.fx.tick=function(){var t,e=0,n=_.timers;for(Rt=_.now();e<n.length;e++)(t=n[e])()||n[e]!==t||n.splice(e--,1);n.length||_.fx.stop(),Rt=void 0},_.fx.timer=function(t){_.timers.push(t),t()?_.fx.start():_.timers.pop()},_.fx.interval=13,_.fx.start=function(){Lt||(Lt=setInterval(_.fx.tick,_.fx.interval))},_.fx.stop=function(){clearInterval(Lt),Lt=null},_.fx.speeds={slow:600,fast:200,_default:400},_.fn.delay=function(i,t){return i=_.fx&&_.fx.speeds[i]||i,t=t||"fx",this.queue(t,function(t,e){var n=setTimeout(t,i);e.stop=function(){clearTimeout(n)}})},Ft=y.createElement("input"),Nt=y.createElement("select"),jt=Nt.appendChild(y.createElement("option")),Ft.type="checkbox",v.checkOn=""!==Ft.value,v.optSelected=jt.selected,Nt.disabled=!0,v.optDisabled=!jt.disabled,(Ft=y.createElement("input")).value="t",Ft.type="radio",v.radioValue="t"===Ft.value;var Kt,Zt=_.expr.attrHandle;_.fn.extend({attr:function(t,e){return P(this,_.attr,t,e,1<arguments.length)},removeAttr:function(t){return this.each(function(){_.removeAttr(this,t)})}}),_.extend({attr:function(t,e,n){var i,o,r=t.nodeType;if(t&&3!==r&&8!==r&&2!==r)return typeof t.getAttribute===q?_.prop(t,e,n):(1===r&&_.isXMLDoc(t)||(e=e.toLowerCase(),i=_.attrHooks[e]||(_.expr.match.bool.test(e)?Kt:void 0)),void 0===n?i&&"get"in i&&null!==(o=i.get(t,e))?o:null==(o=_.find.attr(t,e))?void 0:o:null!==n?i&&"set"in i&&void 0!==(o=i.set(t,n,e))?o:(t.setAttribute(e,n+""),n):void _.removeAttr(t,e))},removeAttr:function(t,e){var n,i,o=0,r=e&&e.match(D);if(r&&1===t.nodeType)for(;n=r[o++];)i=_.propFix[n]||n,_.expr.match.bool.test(n)&&(t[i]=!1),t.removeAttribute(n)},attrHooks:{type:{set:function(t,e){if(!v.radioValue&&"radio"===e&&_.nodeName(t,"input")){var n=t.value;return t.setAttribute("type",e),n&&(t.value=n),e}}}}}),Kt={set:function(t,e,n){return!1===e?_.removeAttr(t,n):t.setAttribute(n,n),n}},_.each(_.expr.match.bool.source.match(/\w+/g),function(t,e){var r=Zt[e]||_.find.attr;Zt[e]=function(t,e,n){var i,o;return n||(o=Zt[e],Zt[e]=i,i=null!=r(t,e,n)?e.toLowerCase():null,Zt[e]=o),i}});var Xt=/^(?:input|select|textarea|button)$/i;_.fn.extend({prop:function(t,e){return P(this,_.prop,t,e,1<arguments.length)},removeProp:function(t){return this.each(function(){delete this[_.propFix[t]||t]})}}),_.extend({propFix:{for:"htmlFor",class:"className"},prop:function(t,e,n){var i,o,r=t.nodeType;if(t&&3!==r&&8!==r&&2!==r)return(1!==r||!_.isXMLDoc(t))&&(e=_.propFix[e]||e,o=_.propHooks[e]),void 0!==n?o&&"set"in o&&void 0!==(i=o.set(t,n,e))?i:t[e]=n:o&&"get"in o&&null!==(i=o.get(t,e))?i:t[e]},propHooks:{tabIndex:{get:function(t){return t.hasAttribute("tabindex")||Xt.test(t.nodeName)||t.href?t.tabIndex:-1}}}}),v.optSelected||(_.propHooks.selected={get:function(t){var e=t.parentNode;return e&&e.parentNode&&e.parentNode.selectedIndex,null}}),_.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){_.propFix[this.toLowerCase()]=this});var Jt=/[\t\r\n\f]/g;_.fn.extend({addClass:function(e){var t,n,i,o,r,a,s="string"==typeof e&&e,l=0,u=this.length;if(_.isFunction(e))return this.each(function(t){_(this).addClass(e.call(this,t,this.className))});if(s)for(t=(e||"").match(D)||[];l<u;l++)if(i=1===(n=this[l]).nodeType&&(n.className?(" "+n.className+" ").replace(Jt," "):" ")){for(r=0;o=t[r++];)i.indexOf(" "+o+" ")<0&&(i+=o+" ");a=_.trim(i),n.className!==a&&(n.className=a)}return this},removeClass:function(e){var t,n,i,o,r,a,s=0===arguments.length||"string"==typeof e&&e,l=0,u=this.length;if(_.isFunction(e))return this.each(function(t){_(this).removeClass(e.call(this,t,this.className))});if(s)for(t=(e||"").match(D)||[];l<u;l++)if(i=1===(n=this[l]).nodeType&&(n.className?(" "+n.className+" ").replace(Jt," "):"")){for(r=0;o=t[r++];)for(;0<=i.indexOf(" "+o+" ");)i=i.replace(" "+o+" "," ");a=e?_.trim(i):"",n.className!==a&&(n.className=a)}return this},toggleClass:function(o,e){var r=typeof o;return"boolean"==typeof e&&"string"===r?e?this.addClass(o):this.removeClass(o):_.isFunction(o)?this.each(function(t){_(this).toggleClass(o.call(this,t,this.className,e),e)}):this.each(function(){if("string"===r)for(var t,e=0,n=_(this),i=o.match(D)||[];t=i[e++];)n.hasClass(t)?n.removeClass(t):n.addClass(t);else r!==q&&"boolean"!==r||(this.className&&I.set(this,"__className__",this.className),this.className=this.className||!1===o?"":I.get(this,"__className__")||"")})},hasClass:function(t){for(var e=" "+t+" ",n=0,i=this.length;n<i;n++)if(1===this[n].nodeType&&0<=(" "+this[n].className+" ").replace(Jt," ").indexOf(e))return!0;return!1}});var Qt=/\r/g;_.fn.extend({val:function(n){var i,t,o,e=this[0];return arguments.length?(o=_.isFunction(n),this.each(function(t){var e;1===this.nodeType&&(null==(e=o?n.call(this,t,_(this).val()):n)?e="":"number"==typeof e?e+="":_.isArray(e)&&(e=_.map(e,function(t){return null==t?"":t+""})),(i=_.valHooks[this.type]||_.valHooks[this.nodeName.toLowerCase()])&&"set"in i&&void 0!==i.set(this,e,"value")||(this.value=e))})):e?(i=_.valHooks[e.type]||_.valHooks[e.nodeName.toLowerCase()])&&"get"in i&&void 0!==(t=i.get(e,"value"))?t:"string"==typeof(t=e.value)?t.replace(Qt,""):null==t?"":t:void 0}}),_.extend({valHooks:{option:{get:function(t){var e=_.find.attr(t,"value");return null!=e?e:_.trim(_.text(t))}},select:{get:function(t){for(var e,n,i=t.options,o=t.selectedIndex,r="select-one"===t.type||o<0,a=r?null:[],s=r?o+1:i.length,l=o<0?s:r?o:0;l<s;l++)if(((n=i[l]).selected||l===o)&&(v.optDisabled?!n.disabled:null===n.getAttribute("disabled"))&&(!n.parentNode.disabled||!_.nodeName(n.parentNode,"optgroup"))){if(e=_(n).val(),r)return e;a.push(e)}return a},set:function(t,e){for(var n,i,o=t.options,r=_.makeArray(e),a=o.length;a--;)((i=o[a]).selected=0<=_.inArray(i.value,r))&&(n=!0);return n||(t.selectedIndex=-1),r}}}}),_.each(["radio","checkbox"],function(){_.valHooks[this]={set:function(t,e){if(_.isArray(e))return t.checked=0<=_.inArray(_(t).val(),e)}},v.checkOn||(_.valHooks[this].get=function(t){return null===t.getAttribute("value")?"on":t.value})}),_.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(t,n){_.fn[n]=function(t,e){return 0<arguments.length?this.on(n,null,t,e):this.trigger(n)}}),_.fn.extend({hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)},bind:function(t,e,n){return this.on(t,null,e,n)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,n,i){return this.on(e,t,n,i)},undelegate:function(t,e,n){return 1===arguments.length?this.off(t,"**"):this.off(e,t||"**",n)}});var te=_.now(),ee=/\?/;_.parseJSON=function(t){return JSON.parse(t+"")},_.parseXML=function(t){var e;if(!t||"string"!=typeof t)return null;try{e=(new DOMParser).parseFromString(t,"text/xml")}catch(t){e=void 0}return e&&!e.getElementsByTagName("parsererror").length||_.error("Invalid XML: "+t),e};var ne=/#.*$/,ie=/([?&])_=[^&]*/,oe=/^(.*?):[ \t]*([^\r\n]*)$/gm,re=/^(?:GET|HEAD)$/,ae=/^\/\//,se=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,le={},ue={},ce="*/".concat("*"),pe=f.location.href,he=se.exec(pe.toLowerCase())||[];function de(r){return function(t,e){"string"!=typeof t&&(e=t,t="*");var n,i=0,o=t.toLowerCase().match(D)||[];if(_.isFunction(e))for(;n=o[i++];)"+"===n[0]?(n=n.slice(1)||"*",(r[n]=r[n]||[]).unshift(e)):(r[n]=r[n]||[]).push(e)}}function fe(e,o,r,a){var s={},l=e===ue;function u(t){var i;return s[t]=!0,_.each(e[t]||[],function(t,e){var n=e(o,r,a);return"string"!=typeof n||l||s[n]?l?!(i=n):void 0:(o.dataTypes.unshift(n),u(n),!1)}),i}return u(o.dataTypes[0])||!s["*"]&&u("*")}function ge(t,e){var n,i,o=_.ajaxSettings.flatOptions||{};for(n in e)void 0!==e[n]&&((o[n]?t:i||(i={}))[n]=e[n]);return i&&_.extend(!0,t,i),t}_.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:pe,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(he[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":ce,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":_.parseJSON,"text xml":_.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,e){return e?ge(ge(t,_.ajaxSettings),e):ge(_.ajaxSettings,t)},ajaxPrefilter:de(le),ajaxTransport:de(ue),ajax:function(t,e){"object"==typeof t&&(e=t,t=void 0),e=e||{};var c,p,h,n,d,i,f,o,g=_.ajaxSetup({},e),m=g.context||g,v=g.context&&(m.nodeType||m.jquery)?_(m):_.event,y=_.Deferred(),b=_.Callbacks("once memory"),w=g.statusCode||{},r={},a={},x=0,s="canceled",$={readyState:0,getResponseHeader:function(t){var e;if(2===x){if(!n)for(n={};e=oe.exec(h);)n[e[1].toLowerCase()]=e[2];e=n[t.toLowerCase()]}return null==e?null:e},getAllResponseHeaders:function(){return 2===x?h:null},setRequestHeader:function(t,e){var n=t.toLowerCase();return x||(t=a[n]=a[n]||t,r[t]=e),this},overrideMimeType:function(t){return x||(g.mimeType=t),this},statusCode:function(t){var e;if(t)if(x<2)for(e in t)w[e]=[w[e],t[e]];else $.always(t[$.status]);return this},abort:function(t){var e=t||s;return c&&c.abort(e),l(0,e),this}};if(y.promise($).complete=b.add,$.success=$.done,$.error=$.fail,g.url=((t||g.url||pe)+"").replace(ne,"").replace(ae,he[1]+"//"),g.type=e.method||e.type||g.method||g.type,g.dataTypes=_.trim(g.dataType||"*").toLowerCase().match(D)||[""],null==g.crossDomain&&(i=se.exec(g.url.toLowerCase()),g.crossDomain=!(!i||i[1]===he[1]&&i[2]===he[2]&&(i[3]||("http:"===i[1]?"80":"443"))===(he[3]||("http:"===he[1]?"80":"443")))),g.data&&g.processData&&"string"!=typeof g.data&&(g.data=_.param(g.data,g.traditional)),fe(le,g,e,$),2===x)return $;for(o in(f=_.event&&g.global)&&0==_.active++&&_.event.trigger("ajaxStart"),g.type=g.type.toUpperCase(),g.hasContent=!re.test(g.type),p=g.url,g.hasContent||(g.data&&(p=g.url+=(ee.test(p)?"&":"?")+g.data,delete g.data),!1===g.cache&&(g.url=ie.test(p)?p.replace(ie,"$1_="+te++):p+(ee.test(p)?"&":"?")+"_="+te++)),g.ifModified&&(_.lastModified[p]&&$.setRequestHeader("If-Modified-Since",_.lastModified[p]),_.etag[p]&&$.setRequestHeader("If-None-Match",_.etag[p])),(g.data&&g.hasContent&&!1!==g.contentType||e.contentType)&&$.setRequestHeader("Content-Type",g.contentType),$.setRequestHeader("Accept",g.dataTypes[0]&&g.accepts[g.dataTypes[0]]?g.accepts[g.dataTypes[0]]+("*"!==g.dataTypes[0]?", "+ce+"; q=0.01":""):g.accepts["*"]),g.headers)$.setRequestHeader(o,g.headers[o]);if(g.beforeSend&&(!1===g.beforeSend.call(m,$,g)||2===x))return $.abort();for(o in s="abort",{success:1,error:1,complete:1})$[o](g[o]);if(c=fe(ue,g,e,$)){$.readyState=1,f&&v.trigger("ajaxSend",[$,g]),g.async&&0<g.timeout&&(d=setTimeout(function(){$.abort("timeout")},g.timeout));try{x=1,c.send(r,l)}catch(t){if(!(x<2))throw t;l(-1,t)}}else l(-1,"No Transport");function l(t,e,n,i){var o,r,a,s,l,u=e;2!==x&&(x=2,d&&clearTimeout(d),c=void 0,h=i||"",$.readyState=0<t?4:0,o=200<=t&&t<300||304===t,n&&(s=function(t,e,n){for(var i,o,r,a,s=t.contents,l=t.dataTypes;"*"===l[0];)l.shift(),void 0===i&&(i=t.mimeType||e.getResponseHeader("Content-Type"));if(i)for(o in s)if(s[o]&&s[o].test(i)){l.unshift(o);break}if(l[0]in n)r=l[0];else{for(o in n){if(!l[0]||t.converters[o+" "+l[0]]){r=o;break}a||(a=o)}r=r||a}if(r)return r!==l[0]&&l.unshift(r),n[r]}(g,$,n)),s=function(t,e,n,i){var o,r,a,s,l,u={},c=t.dataTypes.slice();if(c[1])for(a in t.converters)u[a.toLowerCase()]=t.converters[a];for(r=c.shift();r;)if(t.responseFields[r]&&(n[t.responseFields[r]]=e),!l&&i&&t.dataFilter&&(e=t.dataFilter(e,t.dataType)),l=r,r=c.shift())if("*"===r)r=l;else if("*"!==l&&l!==r){if(!(a=u[l+" "+r]||u["* "+r]))for(o in u)if((s=o.split(" "))[1]===r&&(a=u[l+" "+s[0]]||u["* "+s[0]])){!0===a?a=u[o]:!0!==u[o]&&(r=s[0],c.unshift(s[1]));break}if(!0!==a)if(a&&t.throws)e=a(e);else try{e=a(e)}catch(t){return{state:"parsererror",error:a?t:"No conversion from "+l+" to "+r}}}return{state:"success",data:e}}(g,s,$,o),o?(g.ifModified&&((l=$.getResponseHeader("Last-Modified"))&&(_.lastModified[p]=l),(l=$.getResponseHeader("etag"))&&(_.etag[p]=l)),204===t||"HEAD"===g.type?u="nocontent":304===t?u="notmodified":(u=s.state,r=s.data,o=!(a=s.error))):(a=u,!t&&u||(u="error",t<0&&(t=0))),$.status=t,$.statusText=(e||u)+"",o?y.resolveWith(m,[r,u,$]):y.rejectWith(m,[$,u,a]),$.statusCode(w),w=void 0,f&&v.trigger(o?"ajaxSuccess":"ajaxError",[$,g,o?r:a]),b.fireWith(m,[$,u]),f&&(v.trigger("ajaxComplete",[$,g]),--_.active||_.event.trigger("ajaxStop")))}return $},getJSON:function(t,e,n){return _.get(t,e,n,"json")},getScript:function(t,e){return _.get(t,void 0,e,"script")}}),_.each(["get","post"],function(t,o){_[o]=function(t,e,n,i){return _.isFunction(e)&&(i=i||n,n=e,e=void 0),_.ajax({url:t,type:o,dataType:i,data:e,success:n})}}),_._evalUrl=function(t){return _.ajax({url:t,type:"GET",dataType:"script",async:!1,global:!1,throws:!0})},_.fn.extend({wrapAll:function(e){var t;return _.isFunction(e)?this.each(function(t){_(this).wrapAll(e.call(this,t))}):(this[0]&&(t=_(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var t=this;t.firstElementChild;)t=t.firstElementChild;return t}).append(this)),this)},wrapInner:function(n){return _.isFunction(n)?this.each(function(t){_(this).wrapInner(n.call(this,t))}):this.each(function(){var t=_(this),e=t.contents();e.length?e.wrapAll(n):t.append(n)})},wrap:function(e){var n=_.isFunction(e);return this.each(function(t){_(this).wrapAll(n?e.call(this,t):e)})},unwrap:function(){return this.parent().each(function(){_.nodeName(this,"body")||_(this).replaceWith(this.childNodes)}).end()}}),_.expr.filters.hidden=function(t){return t.offsetWidth<=0&&t.offsetHeight<=0},_.expr.filters.visible=function(t){return!_.expr.filters.hidden(t)};var me=/%20/g,ve=/\[\]$/,ye=/\r?\n/g,be=/^(?:submit|button|image|reset|file)$/i,we=/^(?:input|select|textarea|keygen)/i;function xe(n,t,i,o){var e;if(_.isArray(t))_.each(t,function(t,e){i||ve.test(n)?o(n,e):xe(n+"["+("object"==typeof e?t:"")+"]",e,i,o)});else if(i||"object"!==_.type(t))o(n,t);else for(e in t)xe(n+"["+e+"]",t[e],i,o)}_.param=function(t,e){var n,i=[],o=function(t,e){e=_.isFunction(e)?e():null==e?"":e,i[i.length]=encodeURIComponent(t)+"="+encodeURIComponent(e)};if(void 0===e&&(e=_.ajaxSettings&&_.ajaxSettings.traditional),_.isArray(t)||t.jquery&&!_.isPlainObject(t))_.each(t,function(){o(this.name,this.value)});else for(n in t)xe(n,t[n],e,o);return i.join("&").replace(me,"+")},_.fn.extend({serialize:function(){return _.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var t=_.prop(this,"elements");return t?_.makeArray(t):this}).filter(function(){var t=this.type;return this.name&&!_(this).is(":disabled")&&we.test(this.nodeName)&&!be.test(t)&&(this.checked||!V.test(t))}).map(function(t,e){var n=_(this).val();return null==n?null:_.isArray(n)?_.map(n,function(t){return{name:e.name,value:t.replace(ye,"\r\n")}}):{name:e.name,value:n.replace(ye,"\r\n")}}).get()}}),_.ajaxSettings.xhr=function(){try{return new XMLHttpRequest}catch(t){}};var $e=0,_e={},ke={0:200,1223:204},Ce=_.ajaxSettings.xhr();f.attachEvent&&f.attachEvent("onunload",function(){for(var t in _e)_e[t]()}),v.cors=!!Ce&&"withCredentials"in Ce,v.ajax=Ce=!!Ce,_.ajaxTransport(function(r){var a;if(v.cors||Ce&&!r.crossDomain)return{send:function(t,e){var n,i=r.xhr(),o=++$e;if(i.open(r.type,r.url,r.async,r.username,r.password),r.xhrFields)for(n in r.xhrFields)i[n]=r.xhrFields[n];for(n in r.mimeType&&i.overrideMimeType&&i.overrideMimeType(r.mimeType),r.crossDomain||t["X-Requested-With"]||(t["X-Requested-With"]="XMLHttpRequest"),t)i.setRequestHeader(n,t[n]);a=function(t){return function(){a&&(delete _e[o],a=i.onload=i.onerror=null,"abort"===t?i.abort():"error"===t?e(i.status,i.statusText):e(ke[i.status]||i.status,i.statusText,"string"==typeof i.responseText?{text:i.responseText}:void 0,i.getAllResponseHeaders()))}},i.onload=a(),i.onerror=a("error"),a=_e[o]=a("abort");try{i.send(r.hasContent&&r.data||null)}catch(t){if(a)throw t}},abort:function(){a&&a()}}}),_.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(t){return _.globalEval(t),t}}}),_.ajaxPrefilter("script",function(t){void 0===t.cache&&(t.cache=!1),t.crossDomain&&(t.type="GET")}),_.ajaxTransport("script",function(n){var i,o;if(n.crossDomain)return{send:function(t,e){i=_("<script>").prop({async:!0,charset:n.scriptCharset,src:n.url}).on("load error",o=function(t){i.remove(),o=null,t&&e("error"===t.type?404:200,t.type)}),y.head.appendChild(i[0])},abort:function(){o&&o()}}});var Se=[],Te=/(=)\?(?=&|$)|\?\?/;_.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=Se.pop()||_.expando+"_"+te++;return this[t]=!0,t}}),_.ajaxPrefilter("json jsonp",function(t,e,n){var i,o,r,a=!1!==t.jsonp&&(Te.test(t.url)?"url":"string"==typeof t.data&&!(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&Te.test(t.data)&&"data");if(a||"jsonp"===t.dataTypes[0])return i=t.jsonpCallback=_.isFunction(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,a?t[a]=t[a].replace(Te,"$1"+i):!1!==t.jsonp&&(t.url+=(ee.test(t.url)?"&":"?")+t.jsonp+"="+i),t.converters["script json"]=function(){return r||_.error(i+" was not called"),r[0]},t.dataTypes[0]="json",o=f[i],f[i]=function(){r=arguments},n.always(function(){f[i]=o,t[i]&&(t.jsonpCallback=e.jsonpCallback,Se.push(i)),r&&_.isFunction(o)&&o(r[0]),r=o=void 0}),"script"}),_.parseHTML=function(t,e,n){if(!t||"string"!=typeof t)return null;"boolean"==typeof e&&(n=e,e=!1),e=e||y;var i=b.exec(t),o=!n&&[];return i?[e.createElement(i[1])]:(i=_.buildFragment([t],e,o),o&&o.length&&_(o).remove(),_.merge([],i.childNodes))};var Ae=_.fn.load;_.fn.load=function(t,e,n){if("string"!=typeof t&&Ae)return Ae.apply(this,arguments);var i,o,r,a=this,s=t.indexOf(" ");return 0<=s&&(i=_.trim(t.slice(s)),t=t.slice(0,s)),_.isFunction(e)?(n=e,e=void 0):e&&"object"==typeof e&&(o="POST"),0<a.length&&_.ajax({url:t,type:o,dataType:"html",data:e}).done(function(t){r=arguments,a.html(i?_("<div>").append(_.parseHTML(t)).find(i):t)}).complete(n&&function(t,e){a.each(n,r||[t.responseText,e,t])}),this},_.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(t,e){_.fn[e]=function(t){return this.on(e,t)}}),_.expr.filters.animated=function(e){return _.grep(_.timers,function(t){return e===t.elem}).length};var De=f.document.documentElement;function Me(t){return _.isWindow(t)?t:9===t.nodeType&&t.defaultView}_.offset={setOffset:function(t,e,n){var i,o,r,a,s,l,u=_.css(t,"position"),c=_(t),p={};"static"===u&&(t.style.position="relative"),s=c.offset(),r=_.css(t,"top"),l=_.css(t,"left"),o=("absolute"===u||"fixed"===u)&&-1<(r+l).indexOf("auto")?(a=(i=c.position()).top,i.left):(a=parseFloat(r)||0,parseFloat(l)||0),_.isFunction(e)&&(e=e.call(t,n,s)),null!=e.top&&(p.top=e.top-s.top+a),null!=e.left&&(p.left=e.left-s.left+o),"using"in e?e.using.call(t,p):c.css(p)}},_.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){_.offset.setOffset(this,e,t)});var t,n,i=this[0],o={top:0,left:0},r=i&&i.ownerDocument;return r?(t=r.documentElement,_.contains(t,i)?(typeof i.getBoundingClientRect!==q&&(o=i.getBoundingClientRect()),n=Me(r),{top:o.top+n.pageYOffset-t.clientTop,left:o.left+n.pageXOffset-t.clientLeft}):o):void 0},position:function(){if(this[0]){var t,e,n=this[0],i={top:0,left:0};return"fixed"===_.css(n,"position")?e=n.getBoundingClientRect():(t=this.offsetParent(),e=this.offset(),_.nodeName(t[0],"html")||(i=t.offset()),i.top+=_.css(t[0],"borderTopWidth",!0),i.left+=_.css(t[0],"borderLeftWidth",!0)),{top:e.top-i.top-_.css(n,"marginTop",!0),left:e.left-i.left-_.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent||De;t&&!_.nodeName(t,"html")&&"static"===_.css(t,"position");)t=t.offsetParent;return t||De})}}),_.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,o){var r="pageYOffset"===o;_.fn[e]=function(t){return P(this,function(t,e,n){var i=Me(t);if(void 0===n)return i?i[o]:t[e];i?i.scrollTo(r?f.pageXOffset:n,r?n:f.pageYOffset):t[e]=n},e,t,arguments.length,null)}}),_.each(["top","left"],function(t,n){_.cssHooks[n]=$t(v.pixelPosition,function(t,e){if(e)return e=xt(t,n),bt.test(e)?_(t).position()[n]+"px":e})}),_.each({Height:"height",Width:"width"},function(r,a){_.each({padding:"inner"+r,content:a,"":"outer"+r},function(i,t){_.fn[t]=function(t,e){var n=arguments.length&&(i||"boolean"!=typeof t),o=i||(!0===t||!0===e?"margin":"border");return P(this,function(t,e,n){var i;return _.isWindow(t)?t.document.documentElement["client"+r]:9===t.nodeType?(i=t.documentElement,Math.max(t.body["scroll"+r],i["scroll"+r],t.body["offset"+r],i["offset"+r],i["client"+r])):void 0===n?_.css(t,e,o):_.style(t,e,n,o)},a,n?t:void 0,n,null)}})}),_.fn.size=function(){return this.length},_.fn.andSelf=_.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return _});var Ee=f.jQuery,Pe=f.$;return _.noConflict=function(t){return f.$===_&&(f.$=Pe),t&&f.jQuery===_&&(f.jQuery=Ee),_},typeof t===q&&(f.jQuery=f.$=_),_}),function(F){"use strict";function x(r,a){return a=a||Error,function(){var t,e,n=arguments,i=n[0],o="["+(r?r+":":"")+i+"] ";for(o+=n[1].replace(/\{\d+\}/g,function(t){var e=+t.slice(1,-1)+2;return e<n.length?jt(n[e]):t}),o+="\nhttp://errors.angularjs.org/1.5.8/"+(r?r+"/":"")+i,e=2,t="?";e<n.length;e++,t="&")o+=t+"p"+(e-2)+"="+encodeURIComponent(jt(n[e]));return new a(o)}}var r=/^\/(.+)\/([a-z]*)$/,p="validity",N=Object.prototype.hasOwnProperty,$=function(t){return ft(t)?t.toLowerCase():t},c=function(t){return ft(t)?t.toUpperCase():t};"i"!=="I".toLowerCase()&&($=function(t){return ft(t)?t.replace(/[A-Z]/g,function(t){return String.fromCharCode(32|t.charCodeAt(0))}):t},c=function(t){return ft(t)?t.replace(/[a-z]/g,function(t){return String.fromCharCode(-33&t.charCodeAt(0))}):t});var j,ut,a,m,s=[].slice,n=[].splice,t=[].push,_=Object.prototype.toString,l=Object.getPrototypeOf,u=x("ng"),C=F.angular||(F.angular={}),e=0;function I(t){if(null==t||D(t))return!1;if(gt(t)||ft(t)||ut&&t instanceof ut)return!0;var e="length"in Object(t)&&t.length;return w(e)&&(0<=e&&(e-1 in t||t instanceof Array)||"function"==typeof t.item)}function ct(t,e,n){var i,o;if(t)if(mt(t))for(i in t)"prototype"==i||"length"==i||"name"==i||t.hasOwnProperty&&!t.hasOwnProperty(i)||e.call(n,t[i],i,t);else if(gt(t)||I(t)){var r="object"!=typeof t;for(i=0,o=t.length;i<o;i++)(r||i in t)&&e.call(n,t[i],i,t)}else if(t.forEach&&t.forEach!==ct)t.forEach(e,n,t);else if(b(t))for(i in t)e.call(n,t[i],i,t);else if("function"==typeof t.hasOwnProperty)for(i in t)t.hasOwnProperty(i)&&e.call(n,t[i],i,t);else for(i in t)N.call(t,i)&&e.call(n,t[i],i,t);return t}function h(t,e,n){for(var i=Object.keys(t).sort(),o=0;o<i.length;o++)e.call(n,t[i[o]],i[o]);return i}function v(n){return function(t,e){n(e,t)}}function A(){return++e}function d(t,e){e?t.$$hashKey=e:delete t.$$hashKey}function f(t,e,n){for(var i=t.$$hashKey,o=0,r=e.length;o<r;++o){var a=e[o];if(dt(a)||mt(a))for(var s=Object.keys(a),l=0,u=s.length;l<u;l++){var c=s[l],p=a[c];n&&dt(p)?k(p)?t[c]=new Date(p.valueOf()):T(p)?t[c]=new RegExp(p):p.nodeName?t[c]=p.cloneNode(!0):O(p)?t[c]=p.clone():(dt(t[c])||(t[c]=gt(p)?[]:{}),f(t[c],[p],!0)):t[c]=p}}return d(t,i),t}function pt(t){return f(t,s.call(arguments,1),!1)}function i(t){return f(t,s.call(arguments,1),!0)}function g(t){return parseInt(t,10)}function B(t,e){return pt(Object.create(t),e)}function U(){}function z(t){return t}function S(t){return function(){return t}}function y(t){return mt(t.toString)&&t.toString!==_}function ht(t){return void 0===t}function H(t){return void 0!==t}function dt(t){return null!==t&&"object"==typeof t}function b(t){return null!==t&&"object"==typeof t&&!l(t)}function ft(t){return"string"==typeof t}function w(t){return"number"==typeof t}function k(t){return"[object Date]"===_.call(t)}j=F.document.documentMode,U.$inject=[],z.$inject=[];var gt=Array.isArray;function mt(t){return"function"==typeof t}function T(t){return"[object RegExp]"===_.call(t)}function D(t){return t&&t.window===t}function vt(t){return t&&t.$evalAsync&&t.$watch}function yt(t){return"boolean"==typeof t}function M(t){return t&&mt(t.then)}var E=/^\[object (?:Uint8|Uint8Clamped|Uint16|Uint32|Int8|Int16|Int32|Float32|Float64)Array\]$/;var bt=function(t){return ft(t)?t.trim():t},P=function(t){return t.replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08")};function O(t){return!(!t||!(t.nodeName||t.prop&&t.attr&&t.find))}function wt(t){return $(t.nodeName||t[0]&&t[0].nodeName)}function xt(t,e){var n=t.indexOf(e);return 0<=n&&t.splice(n,1),n}function R(t,n){var e,i,o=[],r=[];if(n){if((i=n)&&w(i.length)&&E.test(_.call(i))||(e=n,"[object ArrayBuffer]"===_.call(e)))throw u("cpta","Can't copy! TypedArray destination cannot be mutated.");if(t===n)throw u("cpi","Can't copy! Source and destination are identical.");return gt(n)?n.length=0:ct(n,function(t,e){"$$hashKey"!==e&&delete n[e]}),o.push(t),r.push(n),a(t,n)}return s(t);function a(t,e){var n,i=e.$$hashKey;if(gt(t))for(var o=0,r=t.length;o<r;o++)e.push(s(t[o]));else if(b(t))for(n in t)e[n]=s(t[n]);else if(t&&"function"==typeof t.hasOwnProperty)for(n in t)t.hasOwnProperty(n)&&(e[n]=s(t[n]));else for(n in t)N.call(t,n)&&(e[n]=s(t[n]));return d(e,i),e}function s(t){if(!dt(t))return t;var e=o.indexOf(t);if(-1!==e)return r[e];if(D(t)||vt(t))throw u("cpws","Can't copy! Making copies of Window or Scope instances is not supported.");var n=!1,i=function(t){switch(_.call(t)){case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Float32Array]":case"[object Float64Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return new t.constructor(s(t.buffer),t.byteOffset,t.length);case"[object ArrayBuffer]":if(t.slice)return t.slice(0);var e=new ArrayBuffer(t.byteLength);return new Uint8Array(e).set(new Uint8Array(t)),e;case"[object Boolean]":case"[object Number]":case"[object String]":case"[object Date]":return new t.constructor(t.valueOf());case"[object RegExp]":var n=new RegExp(t.source,t.toString().match(/[^\/]*$/)[0]);return n.lastIndex=t.lastIndex,n;case"[object Blob]":return new t.constructor([t],{type:t.type})}if(mt(t.cloneNode))return t.cloneNode(!0)}(t);return void 0===i&&(i=gt(t)?[]:Object.create(l(t)),n=!0),o.push(t),r.push(i),n?a(t,i):i}}function $t(t,e){if(t===e)return!0;if(null===t||null===e)return!1;if(t!=t&&e!=e)return!0;var n,i,o,r=typeof t;if(r==typeof e&&"object"==r){if(!gt(t)){if(k(t))return!!k(e)&&$t(t.getTime(),e.getTime());if(T(t))return!!T(e)&&t.toString()==e.toString();if(vt(t)||vt(e)||D(t)||D(e)||gt(e)||k(e)||T(e))return!1;for(i in o=Pt(),t)if("$"!==i.charAt(0)&&!mt(t[i])){if(!$t(t[i],e[i]))return!1;o[i]=!0}for(i in e)if(!(i in o)&&"$"!==i.charAt(0)&&H(e[i])&&!mt(e[i]))return!1;return!0}if(!gt(e))return!1;if((n=t.length)==e.length){for(i=0;i<n;i++)if(!$t(t[i],e[i]))return!1;return!0}}return!1}var L=function(){if(!H(L.rules)){var t=F.document.querySelector("[ng-csp]")||F.document.querySelector("[data-ng-csp]");if(t){var e=t.getAttribute("ng-csp")||t.getAttribute("data-ng-csp");L.rules={noUnsafeEval:!e||-1!==e.indexOf("no-unsafe-eval"),noInlineStyle:!e||-1!==e.indexOf("no-inline-style")}}else L.rules={noUnsafeEval:function(){try{return new Function(""),!1}catch(t){return!0}}(),noInlineStyle:!1}}return L.rules},V=function(){if(H(V.name_))return V.name_;var t,e,n,i,o=nt.length;for(e=0;e<o;++e)if(n=nt[e],t=F.document.querySelector("["+n.replace(":","\\:")+"jq]")){i=t.getAttribute(n+"jq");break}return V.name_=i};function q(t,e,n){return t.concat(s.call(e,n))}function _t(t,e){return s.call(t,e||0)}function kt(t,e){var n=2<arguments.length?_t(arguments,2):[];return!mt(e)||e instanceof RegExp?e:n.length?function(){return arguments.length?e.apply(t,q(n,arguments,0)):e.apply(t,n)}:function(){return arguments.length?e.apply(t,arguments):e.call(t)}}function o(t,e){var n=e;return"string"==typeof t&&"$"===t.charAt(0)&&"$"===t.charAt(1)?n=void 0:D(e)?n="$WINDOW":e&&F.document===e?n="$DOCUMENT":vt(e)&&(n="$SCOPE"),n}function W(t,e){if(!ht(t))return w(e)||(e=e?2:null),JSON.stringify(t,o,e)}function G(t){return ft(t)?JSON.parse(t):t}var Y=/:/g;function K(t,e){t=t.replace(Y,"");var n=Date.parse("Jan 01, 1970 00:00:00 "+t)/6e4;return isNaN(n)?e:n}function Z(t,e,n){n=n?-1:1;var i,o,r=t.getTimezoneOffset(),a=K(e,r);return i=t,o=n*(a-r),(i=new Date(i.getTime())).setMinutes(i.getMinutes()+o),i}function Ct(t){t=ut(t).clone();try{t.empty()}catch(t){}var e=ut("<div>").append(t).html();try{return t[0].nodeType===It?$(e):e.match(/^(<[^>]+>)/)[1].replace(/^<([\w\-]+)/,function(t,e){return"<"+$(e)})}catch(t){return $(e)}}function X(t){try{return decodeURIComponent(t)}catch(t){}}function J(t){var o={};return ct((t||"").split("&"),function(t){var e,n,i;t&&(n=t=t.replace(/\+/g,"%20"),-1!==(e=t.indexOf("="))&&(n=t.substring(0,e),i=t.substring(e+1)),H(n=X(n))&&(i=!H(i)||X(i),N.call(o,n)?gt(o[n])?o[n].push(i):o[n]=[o[n],i]:o[n]=i))}),o}function Q(t){var n=[];return ct(t,function(t,e){gt(t)?ct(t,function(t){n.push(et(e,!0)+(!0===t?"":"="+et(t,!0)))}):n.push(et(e,!0)+(!0===t?"":"="+et(t,!0)))}),n.length?n.join("&"):""}function tt(t){return et(t,!0).replace(/%26/gi,"&").replace(/%3D/gi,"=").replace(/%2B/gi,"+")}function et(t,e){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%20/g,e?"%20":"+")}var nt=["ng-","data-ng-","ng:","x-ng-"];function it(i,t){var o,r,e={};ct(nt,function(t){var e=t+"app";!o&&i.hasAttribute&&i.hasAttribute(e)&&(r=(o=i).getAttribute(e))}),ct(nt,function(t){var e,n=t+"app";!o&&(e=i.querySelector("["+n.replace(":","\\:")+"]"))&&(r=(o=e).getAttribute(n))}),o&&(e.strictDi=null!==function(t,e){var n,i,o=nt.length;for(i=0;i<o;++i)if(n=nt[i]+e,ft(n=t.getAttribute(n)))return n;return null}(o,"strict-di"),t(o,r?[r]:[],e))}function ot(n,i,o){dt(o)||(o={});o=pt({strictDi:!1},o);var e=function(){if((n=ut(n)).injector()){var t=n[0]===F.document?"document":Ct(n);throw u("btstrpd","App already bootstrapped with this element '{0}'",t.replace(/</,"&lt;").replace(/>/,"&gt;"))}(i=i||[]).unshift(["$provide",function(t){t.value("$rootElement",n)}]),o.debugInfoEnabled&&i.push(["$compileProvider",function(t){t.debugInfoEnabled(!0)}]),i.unshift("ng");var e=Be(i,o.strictDi);return e.invoke(["$rootScope","$rootElement","$compile","$injector",function(t,e,n,i){t.$apply(function(){e.data("$injector",i),n(e)(t)})}]),e},t=/^NG_ENABLE_DEBUG_INFO!/,r=/^NG_DEFER_BOOTSTRAP!/;if(F&&t.test(F.name)&&(o.debugInfoEnabled=!0,F.name=F.name.replace(t,"")),F&&!r.test(F.name))return e();F.name=F.name.replace(r,""),C.resumeBootstrap=function(t){return ct(t,function(t){i.push(t)}),e()},mt(C.resumeDeferredBootstrap)&&C.resumeDeferredBootstrap()}function rt(){F.name="NG_ENABLE_DEBUG_INFO!"+F.name,F.location.reload()}function at(t){var e=C.element(t).injector();if(!e)throw u("test","no injector found for element argument to getTestability");return e.get("$$testability")}var st=/[A-Z]/g;function St(t,n){return n=n||"_",t.replace(st,function(t,e){return(e?n:"")+t.toLowerCase()})}var lt=!1;function Tt(t,e,n){if(!t)throw u("areq","Argument '{0}' is {1}",e||"?",n||"required");return t}function At(t,e,n){return n&&gt(t)&&(t=t[t.length-1]),Tt(mt(t),e,"not a function, got "+(t&&"object"==typeof t?t.constructor.name||"Object":typeof t)),t}function Dt(t,e){if("hasOwnProperty"===t)throw u("badname","hasOwnProperty is not a valid {0} name",e)}function Mt(t,e,n){if(!e)return t;for(var i,o=e.split("."),r=t,a=o.length,s=0;s<a;s++)i=o[s],t&&(t=(r=t)[i]);return!n&&mt(t)?kt(r,t):t}function Et(t){for(var e,n=t[0],i=t[t.length-1],o=1;n!==i&&(n=n.nextSibling);o++)(e||t[o]!==n)&&(e||(e=ut(s.call(t,0,o))),e.push(n));return e||t}function Pt(){return Object.create(null)}var Ot=1,It=3,Rt=8,Lt=9,Ft=11;function Nt(t,e){if(gt(t)){e=e||[];for(var n=0,i=t.length;n<i;n++)e[n]=t[n]}else if(dt(t))for(var o in e=e||{},t)"$"===o.charAt(0)&&"$"===o.charAt(1)||(e[o]=t[o]);return e||t}function jt(t){return"function"==typeof t?t.toString().replace(/ \{[\s\S]*$/,""):ht(t)?"undefined":"string"!=typeof t?(e=t,n=[],JSON.stringify(e,function(t,e){if(dt(e=o(t,e))){if(0<=n.indexOf(e))return"...";n.push(e)}return e})):t;var e,n}var Bt={full:"1.5.8",major:1,minor:5,dot:8,codeName:"arbitrary-fallbacks"};ae.expando="ng339";var Ut=ae.cache={},zt=1,Ht=function(t,e,n){t.addEventListener(e,n,!1)},Vt=function(t,e,n){t.removeEventListener(e,n,!1)};ae._data=function(t){return this.cache[t[this.expando]]||{}};var qt=/([\:\-\_]+(.))/g,Wt=/^moz([A-Z])/,Gt={mouseleave:"mouseout",mouseenter:"mouseover"},Yt=x("jqLite");function Kt(t){return t.replace(qt,function(t,e,n,i){return i?n.toUpperCase():n}).replace(Wt,"Moz$1")}var Zt=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,Xt=/<|&#?\w+;/,Jt=/<([\w:-]+)/,Qt=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,te={option:[1,'<select multiple="multiple">',"</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function ee(t){return!Xt.test(t)}function ne(t){var e=t.nodeType;return e===Ot||!e||e===Lt}function ie(t,e){var n,i,o,r,a=e.createDocumentFragment(),s=[];if(ee(t))s.push(e.createTextNode(t));else{for(n=a.appendChild(e.createElement("div")),i=(Jt.exec(t)||["",""])[1].toLowerCase(),o=te[i]||te._default,n.innerHTML=o[1]+t.replace(Qt,"<$1></$2>")+o[2],r=o[0];r--;)n=n.lastChild;s=q(s,n.childNodes),(n=a.firstChild).textContent=""}return a.textContent="",a.innerHTML="",ct(s,function(t){a.appendChild(t)}),a}function oe(t,e){var n=t.parentNode;n&&n.replaceChild(e,t),e.appendChild(t)}te.optgroup=te.option,te.tbody=te.tfoot=te.colgroup=te.caption=te.thead,te.th=te.td;var re=F.Node.prototype.contains||function(t){return!!(16&this.compareDocumentPosition(t))};function ae(t){if(t instanceof ae)return t;var e,n,i,o;if(ft(t)&&(t=bt(t),e=!0),!(this instanceof ae)){if(e&&"<"!=t.charAt(0))throw Yt("nosel","Looking up elements via selectors is not supported by jqLite! See: http://docs.angularjs.org/api/angular.element");return new ae(t)}me(this,e?(n=t,i=i||F.document,(o=Zt.exec(n))?[i.createElement(o[1])]:(o=ie(n,i))?o.childNodes:[]):t)}function se(t){return t.cloneNode(!0)}function le(t,e){if(e||ce(t),t.querySelectorAll)for(var n=t.querySelectorAll("*"),i=0,o=n.length;i<o;i++)ce(n[i])}function ue(n,t,i,e){if(H(e))throw Yt("offargs","jqLite#off() does not support the `selector` argument");var o=pe(n),r=o&&o.events,a=o&&o.handle;if(a)if(t){var s=function(t){var e=r[t];H(i)&&xt(e||[],i),H(i)&&e&&0<e.length||(Vt(n,t,a),delete r[t])};ct(t.split(" "),function(t){s(t),Gt[t]&&s(Gt[t])})}else for(t in r)"$destroy"!==t&&Vt(n,t,a),delete r[t]}function ce(t,e){var n=t.ng339,i=n&&Ut[n];if(i){if(e)return void delete i.data[e];i.handle&&(i.events.$destroy&&i.handle({},"$destroy"),ue(t)),delete Ut[n],t.ng339=void 0}}function pe(t,e){var n=t.ng339,i=n&&Ut[n];return e&&!i&&(t.ng339=n=++zt,i=Ut[n]={events:{},data:{},handle:void 0}),i}function he(t,e,n){if(ne(t)){var i=H(n),o=!i&&e&&!dt(e),r=!e,a=pe(t,!o),s=a&&a.data;if(i)s[e]=n;else{if(r)return s;if(o)return s&&s[e];pt(s,e)}}}function de(t,e){return!!t.getAttribute&&-1<(" "+(t.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").indexOf(" "+e+" ")}function fe(e,t){t&&e.setAttribute&&ct(t.split(" "),function(t){e.setAttribute("class",bt((" "+(e.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").replace(" "+bt(t)+" "," ")))})}function ge(t,e){if(e&&t.setAttribute){var n=(" "+(t.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ");ct(e.split(" "),function(t){t=bt(t),-1===n.indexOf(" "+t+" ")&&(n+=t+" ")}),t.setAttribute("class",bt(n))}}function me(t,e){if(e)if(e.nodeType)t[t.length++]=e;else{var n=e.length;if("number"==typeof n&&e.window!==e){if(n)for(var i=0;i<n;i++)t[t.length++]=e[i]}else t[t.length++]=e}}function ve(t,e){return ye(t,"$"+(e||"ngController")+"Controller")}function ye(t,e,n){t.nodeType==Lt&&(t=t.documentElement);for(var i=gt(e)?e:[e];t;){for(var o=0,r=i.length;o<r;o++)if(H(n=ut.data(t,i[o])))return n;t=t.parentNode||t.nodeType===Ft&&t.host}}function be(t){for(le(t,!0);t.firstChild;)t.removeChild(t.firstChild)}function we(t,e){e||le(t);var n=t.parentNode;n&&n.removeChild(t)}var xe=ae.prototype={ready:function(t){var e=!1;function n(){e||(e=!0,t())}"complete"===F.document.readyState?F.setTimeout(n):(this.on("DOMContentLoaded",n),ae(F).on("load",n))},toString:function(){var e=[];return ct(this,function(t){e.push(""+t)}),"["+e.join(", ")+"]"},eq:function(t){return ut(0<=t?this[t]:this[this.length+t])},length:0,push:t,sort:[].sort,splice:[].splice},$e={};ct("multiple,selected,checked,disabled,readOnly,required,open".split(","),function(t){$e[$(t)]=t});var _e={};ct("input,select,option,textarea,button,form,details".split(","),function(t){_e[t]=!0});var ke={ngMinlength:"minlength",ngMaxlength:"maxlength",ngMin:"min",ngMax:"max",ngPattern:"pattern"};function Ce(t,e){var n=$e[e.toLowerCase()];return n&&_e[wt(t)]&&n}function Se(t,e,n){n.call(t,e)}function Te(t,e,n){var i=e.relatedTarget;i&&(i===t||re.call(t,i))||n.call(t,e)}function Ae(){this.$get=function(){return pt(ae,{hasClass:function(t,e){return t.attr&&(t=t[0]),de(t,e)},addClass:function(t,e){return t.attr&&(t=t[0]),ge(t,e)},removeClass:function(t,e){return t.attr&&(t=t[0]),fe(t,e)}})}}function De(t,e){var n=t&&t.$$hashKey;if(n)return"function"==typeof n&&(n=t.$$hashKey()),n;var i=typeof t;return n="function"==i||"object"==i&&null!==t?t.$$hashKey=i+":"+(e||A)():i+":"+t}function Me(t,e){if(e){var n=0;this.nextUid=function(){return++n}}ct(t,this.put,this)}ct({data:he,removeData:ce,hasData:function(t){for(var e in Ut[t.ng339])return!0;return!1},cleanData:function(t){for(var e=0,n=t.length;e<n;e++)ce(t[e])}},function(t,e){ae[e]=t}),ct({data:he,inheritedData:ye,scope:function(t){return ut.data(t,"$scope")||ye(t.parentNode||t,["$isolateScope","$scope"])},isolateScope:function(t){return ut.data(t,"$isolateScope")||ut.data(t,"$isolateScopeNoTemplate")},controller:ve,injector:function(t){return ye(t,"$injector")},removeAttr:function(t,e){t.removeAttribute(e)},hasClass:de,css:function(t,e,n){if(e=Kt(e),!H(n))return t.style[e];t.style[e]=n},attr:function(t,e,n){var i=t.nodeType;if(i!==It&&2!==i&&i!==Rt){var o=$(e);if($e[o]){if(!H(n))return t[e]||(t.attributes.getNamedItem(e)||U).specified?o:void 0;n?(t[e]=!0,t.setAttribute(e,o)):(t[e]=!1,t.removeAttribute(o))}else if(H(n))t.setAttribute(e,n);else if(t.getAttribute){var r=t.getAttribute(e,2);return null===r?void 0:r}}},prop:function(t,e,n){if(!H(n))return t[e];t[e]=n},text:function(){return t.$dv="",t;function t(t,e){if(ht(e)){var n=t.nodeType;return n===Ot||n===It?t.textContent:""}t.textContent=e}}(),val:function(t,e){if(ht(e)){if(t.multiple&&"select"===wt(t)){var n=[];return ct(t.options,function(t){t.selected&&n.push(t.value||t.text)}),0===n.length?null:n}return t.value}t.value=e},html:function(t,e){if(ht(e))return t.innerHTML;le(t,!0),t.innerHTML=e},empty:be},function(u,t){ae.prototype[t]=function(t,e){var n,i,o=this.length;if(u!==be&&ht(2==u.length&&u!==de&&u!==ve?t:e)){if(dt(t)){for(n=0;n<o;n++)if(u===he)u(this[n],t);else for(i in t)u(this[n],i,t[i]);return this}for(var r=u.$dv,a=ht(r)?Math.min(o,1):o,s=0;s<a;s++){var l=u(this[s],t,e);r=r?r+l:l}return r}for(n=0;n<o;n++)u(this[n],t,e);return this}}),ct({removeData:ce,on:function(o,t,r,e){if(H(e))throw Yt("onargs","jqLite#on() does not support the `selector` or `eventData` parameters");if(ne(o)){var s,l,n,i=pe(o,!0),a=i.events,u=i.handle;u||(u=i.handle=(l=a,(n=function(t,e){t.isDefaultPrevented=function(){return t.defaultPrevented};var n=l[e||t.type],i=n?n.length:0;if(i){if(ht(t.immediatePropagationStopped)){var o=t.stopImmediatePropagation;t.stopImmediatePropagation=function(){t.immediatePropagationStopped=!0,t.stopPropagation&&t.stopPropagation(),o&&o.call(t)}}t.isImmediatePropagationStopped=function(){return!0===t.immediatePropagationStopped};var r=n.specialHandlerWrapper||Se;1<i&&(n=Nt(n));for(var a=0;a<i;a++)t.isImmediatePropagationStopped()||r(s,t,n[a])}}).elem=s=o,n));for(var c=0<=t.indexOf(" ")?t.split(" "):[t],p=c.length,h=function(t,e,n){var i=a[t];i||((i=a[t]=[]).specialHandlerWrapper=e,"$destroy"===t||n||Ht(o,t,u)),i.push(r)};p--;)t=c[p],Gt[t]?(h(Gt[t],Te),h(t,void 0,!0)):h(t)}},off:ue,one:function(e,n,i){(e=ut(e)).on(n,function t(){e.off(n,i),e.off(n,t)}),e.on(n,i)},replaceWith:function(e,t){var n,i=e.parentNode;le(e),ct(new ae(t),function(t){n?i.insertBefore(t,n.nextSibling):i.replaceChild(t,e),n=t})},children:function(t){var e=[];return ct(t.childNodes,function(t){t.nodeType===Ot&&e.push(t)}),e},contents:function(t){return t.contentDocument||t.childNodes||[]},append:function(t,e){var n=t.nodeType;if(n===Ot||n===Ft)for(var i=0,o=(e=new ae(e)).length;i<o;i++){var r=e[i];t.appendChild(r)}},prepend:function(e,t){if(e.nodeType===Ot){var n=e.firstChild;ct(new ae(t),function(t){e.insertBefore(t,n)})}},wrap:function(t,e){oe(t,ut(e).eq(0).clone()[0])},remove:we,detach:function(t){we(t,!0)},after:function(t,e){for(var n=t,i=t.parentNode,o=0,r=(e=new ae(e)).length;o<r;o++){var a=e[o];i.insertBefore(a,n.nextSibling),n=a}},addClass:ge,removeClass:fe,toggleClass:function(n,t,i){t&&ct(t.split(" "),function(t){var e=i;ht(e)&&(e=!de(n,t)),(e?ge:fe)(n,t)})},parent:function(t){var e=t.parentNode;return e&&e.nodeType!==Ft?e:null},next:function(t){return t.nextElementSibling},find:function(t,e){return t.getElementsByTagName?t.getElementsByTagName(e):[]},clone:se,triggerHandler:function(e,t,n){var i,o,r,a=t.type||t,s=pe(e),l=s&&s.events,u=l&&l[a];u&&(i={preventDefault:function(){this.defaultPrevented=!0},isDefaultPrevented:function(){return!0===this.defaultPrevented},stopImmediatePropagation:function(){this.immediatePropagationStopped=!0},isImmediatePropagationStopped:function(){return!0===this.immediatePropagationStopped},stopPropagation:U,type:a,target:e},t.type&&(i=pt(i,t)),o=Nt(u),r=n?[i].concat(n):[i],ct(o,function(t){i.isImmediatePropagationStopped()||t.apply(e,r)}))}},function(a,t){ae.prototype[t]=function(t,e,n){for(var i,o=0,r=this.length;o<r;o++)ht(i)?H(i=a(this[o],t,e,n))&&(i=ut(i)):me(i,a(this[o],t,e,n));return H(i)?i:this},ae.prototype.bind=ae.prototype.on,ae.prototype.unbind=ae.prototype.off}),Me.prototype={put:function(t,e){this[De(t,this.nextUid)]=e},get:function(t){return this[De(t,this.nextUid)]},remove:function(t){var e=this[t=De(t,this.nextUid)];return delete this[t],e}};var Ee=[function(){this.$get=[function(){return Me}]}],Pe=/^([^\(]+?)=>/,Oe=/^[^\(]*\(\s*([^\)]*)\)/m,Ie=/,/,Re=/^\s*(_?)(\S+?)\1\s*$/,Le=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm,Fe=x("$injector");function Ne(t){return Function.prototype.toString.call(t)+" "}function je(t){var e=Ne(t).replace(Le,"");return e.match(Pe)||e.match(Oe)}function Be(t,u){u=!0===u;var o={},r="Provider",s=[],a=new Me([],!0),c={$provide:{provider:h(d),factory:h(f),service:h(function(t,e){return f(t,["$injector",function(t){return t.instantiate(e)}])}),value:h(function(t,e){return f(t,S(e),!1)}),constant:h(function(t,e){Dt(t,"constant"),c[t]=e,n[t]=e}),decorator:function(t,e){var n=l.get(t+r),i=n.$get;n.$get=function(){var t=p.invoke(i,n);return p.invoke(e,null,{$delegate:t})}}}},l=c.$injector=g(c,function(t,e){throw C.isString(e)&&s.push(e),Fe("unpr","Unknown provider: {0}",s.join(" <- "))}),n={},e=g(n,function(t,e){var n=l.get(t+r,e);return p.invoke(n.$get,n,void 0,t)}),p=e;c["$injector"+r]={$get:S(e)};var i=function n(t){Tt(ht(t)||gt(t),"modulesToLoad","not an array");var i,o=[];ct(t,function(e){if(!a.get(e)){a.put(e,!0);try{ft(e)?(i=m(e),o=o.concat(n(i.requires)).concat(i._runBlocks),t(i._invokeQueue),t(i._configBlocks)):mt(e)?o.push(l.invoke(e)):gt(e)?o.push(l.invoke(e)):At(e,"module")}catch(t){throw gt(e)&&(e=e[e.length-1]),t.message&&t.stack&&-1==t.stack.indexOf(t.message)&&(t=t.message+"\n"+t.stack),Fe("modulerr","Failed to instantiate module {0} due to:\n{1}",e,t.stack||t.message||t)}}function t(t){var e,n;for(e=0,n=t.length;e<n;e++){var i=t[e],o=l.get(i[0]);o[i[1]].apply(o,i[2])}}});return o}(t);return(p=e.get("$injector")).strictDi=u,ct(i,function(t){t&&p.invoke(t)}),p;function h(n){return function(t,e){if(!dt(t))return n(t,e);ct(t,v(n))}}function d(t,e){if(Dt(t,"service"),(mt(e)||gt(e))&&(e=l.instantiate(e)),!e.$get)throw Fe("pget","Provider '{0}' must define $get factory method.",t);return c[t+r]=e}function f(t,e,n){return d(t,{$get:!1!==n?(i=t,o=e,function(){var t=p.invoke(o,this);if(ht(t))throw Fe("undef","Provider '{0}' must return a value from $get factory method.",i);return t}):e});var i,o}function g(n,i){function l(e,t){if(n.hasOwnProperty(e)){if(n[e]===o)throw Fe("cdep","Circular dependency found: {0}",e+" <- "+s.join(" <- "));return n[e]}try{return s.unshift(e),n[e]=o,n[e]=i(e,t)}catch(t){throw n[e]===o&&delete n[e],t}finally{s.shift()}}function a(t,e,n){for(var i=[],o=Be.$$annotate(t,u,n),r=0,a=o.length;r<a;r++){var s=o[r];if("string"!=typeof s)throw Fe("itkn","Incorrect injection token! Expected service name as string, got {0}",s);i.push(e&&e.hasOwnProperty(s)?e[s]:l(s,n))}return i}return{invoke:function(t,e,n,i){"string"==typeof n&&(i=n,n=null);var o,r=a(t,n,i);return gt(t)&&(t=t[t.length-1]),o=t,j<=11||"function"!=typeof o||!/^(?:class\b|constructor\()/.test(Ne(o))?t.apply(e,r):(r.unshift(null),new(Function.prototype.bind.apply(t,r)))},instantiate:function(t,e,n){var i=gt(t)?t[t.length-1]:t,o=a(t,e,n);return o.unshift(null),new(Function.prototype.bind.apply(i,o))},get:l,annotate:Be.$$annotate,has:function(t){return c.hasOwnProperty(t+r)||n.hasOwnProperty(t)}}}}function Ue(){var t=!0;this.disableAutoScrolling=function(){t=!1},this.$get=["$window","$location","$rootScope",function(i,o,r){var a=i.document;function s(t){if(t){t.scrollIntoView();var e=function(){var t=l.yOffset;if(mt(t))t=t();else if(O(t)){var e=t[0];t="fixed"!==i.getComputedStyle(e).position?0:e.getBoundingClientRect().bottom}else w(t)||(t=0);return t}();if(e){var n=t.getBoundingClientRect().top;i.scrollBy(0,n-e)}}else i.scrollTo(0,0)}function l(t){var e,n,i;(t=ft(t)?t:o.hash())?(e=a.getElementById(t))?s(e):(n=a.getElementsByName(t),i=null,Array.prototype.some.call(n,function(t){if("a"===wt(t))return i=t,!0}),(e=i)?s(e):"top"===t&&s(null)):s(null)}return t&&r.$watch(function(){return o.hash()},function(t,e){var n,i;t===e&&""===t||(n=function(){r.$evalAsync(l)},"complete"===(i=i||F).document.readyState?i.setTimeout(n):ut(i).on("load",n))}),l}]}Be.$$annotate=function(t,e,n){var i,o,r;if("function"==typeof t){if(!(i=t.$inject)){if(i=[],t.length){if(e)throw ft(n)&&n||(n=t.name||((r=je(t))?"function("+(r[1]||"").replace(/[\s\r\n]+/," ")+")":"fn")),Fe("strictdi","{0} is not using explicit annotation and cannot be invoked in strict mode",n);ct(je(t)[1].split(Ie),function(t){t.replace(Re,function(t,e,n){i.push(n)})})}t.$inject=i}}else gt(t)?(At(t[o=t.length-1],"fn"),i=t.slice(0,o)):At(t,"fn",!0);return i};var ze=x("$animate"),He=1,Ve="ng-animate";function qe(t,e){return t||e?t?e?(gt(t)&&(t=t.join(" ")),gt(e)&&(e=e.join(" ")),t+" "+e):t:e:""}function We(t){return dt(t)?t:{}}var Ge=function(){this.$get=U},Ye=function(){var g=new Me,m=[];this.$get=["$$AnimateRunner","$rootScope",function(p,h){return{enabled:U,on:U,off:U,pin:U,push:function(t,e,n,i){var o,r,a,s,l,u;i&&i(),(n=n||{}).from&&t.css(n.from),n.to&&t.css(n.to),(n.addClass||n.removeClass)&&(o=t,r=n.addClass,a=n.removeClass,s=g.get(o)||{},l=d(s,r,!0),u=d(s,a,!1),(l||u)&&(g.put(o,s),m.push(o),1===m.length&&h.$$postDigest(f)));var c=new p;return c.complete(),c}};function d(e,t,n){var i=!1;return t&&ct(t=ft(t)?t.split(" "):gt(t)?t:[],function(t){t&&(i=!0,e[t]=n)}),i}function f(){ct(m,function(t){var e=g.get(t);if(e){var n=function(t){ft(t)&&(t=t.split(" "));var e=Pt();return ct(t,function(t){t.length&&(e[t]=!0)}),e}(t.attr("class")),i="",o="";ct(e,function(t,e){t!==!!n[e]&&(t?i+=(i.length?" ":"")+e:o+=(o.length?" ":"")+e)}),ct(t,function(t){i&&ge(t,i),o&&fe(t,o)}),g.remove(t)}}),m.length=0}}]},Ke=["$provide",function(i){var o=this;this.$$registeredAnimations=Object.create(null),this.register=function(t,e){if(t&&"."!==t.charAt(0))throw ze("notcsel","Expecting class selector starting with '.' got '{0}'.",t);var n=t+"-animation";o.$$registeredAnimations[t.substr(1)]=n,i.factory(n,e)},this.classNameFilter=function(t){if(1===arguments.length&&(this.$$classNameFilter=t instanceof RegExp?t:null,this.$$classNameFilter&&new RegExp("(\\s+|\\/)"+Ve+"(\\s+|\\/)").test(this.$$classNameFilter.toString())))throw ze("nongcls",'$animateProvider.classNameFilter(regex) prohibits accepting a regex value which matches/contains the "{0}" CSS class.',Ve);return this.$$classNameFilter},this.$get=["$$animateQueue",function(r){function o(t,e,n){if(n){var i=function(t){for(var e=0;e<t.length;e++){var n=t[e];if(n.nodeType===He)return n}}(n);!i||i.parentNode||i.previousElementSibling||(n=null)}n?n.after(t):e.prepend(t)}return{on:r.on,off:r.off,pin:r.pin,enabled:r.enabled,cancel:function(t){t.end&&t.end()},enter:function(t,e,n,i){return e=e&&ut(e),n=n&&ut(n),o(t,e=e||n.parent(),n),r.push(t,"enter",We(i))},move:function(t,e,n,i){return e=e&&ut(e),n=n&&ut(n),o(t,e=e||n.parent(),n),r.push(t,"move",We(i))},leave:function(t,e){return r.push(t,"leave",We(e),function(){t.remove()})},addClass:function(t,e,n){return(n=We(n)).addClass=qe(n.addclass,e),r.push(t,"addClass",n)},removeClass:function(t,e,n){return(n=We(n)).removeClass=qe(n.removeClass,e),r.push(t,"removeClass",n)},setClass:function(t,e,n,i){return(i=We(i)).addClass=qe(i.addClass,e),i.removeClass=qe(i.removeClass,n),r.push(t,"setClass",i)},animate:function(t,e,n,i,o){return(o=We(o)).from=o.from?pt(o.from,e):e,o.to=o.to?pt(o.to,n):n,i=i||"ng-inline-animate",o.tempClasses=qe(o.tempClasses,i),r.push(t,"animate",o)}}}]}],Ze=function(){this.$get=["$$rAF",function(e){var n=[];function i(t){n.push(t),1<n.length||e(function(){for(var t=0;t<n.length;t++)n[t]();n=[]})}return function(){var e=!1;return i(function(){e=!0}),function(t){e?t():i(t)}}}]},Xe=function(){this.$get=["$q","$sniffer","$$animateAsyncRun","$document","$timeout",function(e,t,i,o,r){function n(t){this.setHost(t);var n=i();this._doneCallbacks=[],this._tick=function(t){var e=o[0];e&&e.hidden?r(t,0,!1):n(t)},this._state=0}return n.chain=function(t,n){var i=0;!function e(){if(i===t.length)return void n(!0);t[i](function(t){!1!==t?(i++,e()):n(!1)})}()},n.all=function(e,n){var i=0,o=!0;function r(t){o=o&&t,++i===e.length&&n(o)}ct(e,function(t){t.done(r)})},n.prototype={setHost:function(t){this.host=t||{}},done:function(t){2===this._state?t():this._doneCallbacks.push(t)},progress:U,getPromise:function(){if(!this.promise){var t=this;this.promise=e(function(e,n){t.done(function(t){!1===t?n():e()})})}return this.promise},then:function(t,e){return this.getPromise().then(t,e)},catch:function(t){return this.getPromise().catch(t)},finally:function(t){return this.getPromise().finally(t)},pause:function(){this.host.pause&&this.host.pause()},resume:function(){this.host.resume&&this.host.resume()},end:function(){this.host.end&&this.host.end(),this._resolve(!0)},cancel:function(){this.host.cancel&&this.host.cancel(),this._resolve(!1)},complete:function(t){var e=this;0===e._state&&(e._state=1,e._tick(function(){e._resolve(t)}))},_resolve:function(e){2!==this._state&&(ct(this._doneCallbacks,function(t){t(e)}),this._doneCallbacks.length=0,this._state=2)}},n}]},Je=function(){this.$get=["$$rAF","$q","$$AnimateRunner",function(a,t,s){return function(t,e){var n=e||{};n.$$prepared||(n=R(n)),n.cleanupStyles&&(n.from=n.to=null),n.from&&(t.css(n.from),n.from=null);var i,o=new s;return{start:r,end:r};function r(){return a(function(){!function(){n.addClass&&(t.addClass(n.addClass),n.addClass=null);n.removeClass&&(t.removeClass(n.removeClass),n.removeClass=null);n.to&&(t.css(n.to),n.to=null)}(),i||o.complete(),i=!0}),o}}}]};function Qe(s,t,e,l){var u=this,c=s.location,p=s.history,i=s.setTimeout,n=s.clearTimeout,o={};u.isMock=!1;var r=0,a=[];function h(t){try{t.apply(null,_t(arguments,1))}finally{if(0===--r)for(;a.length;)try{a.pop()()}catch(t){e.error(t)}}}u.$$completeOutstandingRequest=h,u.$$incOutstandingRequestCount=function(){r++},u.notifyWhenNoOutstandingRequests=function(t){0===r?t():a.push(t)};var d,f,g=c.href,m=t.find("base"),v=null,y=l.history?function(){try{return p.state}catch(t){}}:U;_(),f=d,u.url=function(t,e,n){if(ht(n)&&(n=null),c!==s.location&&(c=s.location),p!==s.history&&(p=s.history),t){var i=f===n;if(g===t&&(!l.history||i))return u;var o=g&&Kn(g)===Kn(t);return g=t,f=n,!l.history||o&&i?(o||(v=t),e?c.replace(t):o?c.hash=-1===(a=(r=t).indexOf("#"))?"":r.substr(a):c.href=t,c.href!==t&&(v=t)):(p[e?"replaceState":"pushState"](n,"",t),_(),f=d),v&&(v=t),u}return v||c.href.replace(/%27/g,"'");var r,a},u.state=function(){return d};var b=[],w=!1;function x(){v=null,_(),k()}var $=null;function _(){$t(d=ht(d=y())?null:d,$)&&(d=$),$=d}function k(){g===u.url()&&f===d||(g=u.url(),f=d,ct(b,function(t){t(u.url(),d)}))}u.onUrlChange=function(t){return w||(l.history&&ut(s).on("popstate",x),ut(s).on("hashchange",x),w=!0),b.push(t),t},u.$$applicationDestroyed=function(){ut(s).off("hashchange popstate",x)},u.$$checkUrlChange=k,u.baseHref=function(){var t=m.attr("href");return t?t.replace(/^(https?\:)?\/\/[^\/]*/,""):""},u.defer=function(t,e){var n;return r++,n=i(function(){delete o[n],h(t)},e||0),o[n]=!0,n},u.defer.cancel=function(t){return!!o[t]&&(delete o[t],n(t),h(U),!0)}}function tn(){this.$get=["$window","$log","$sniffer","$document",function(t,e,n,i){return new Qe(t,i,e,n)}]}function en(){this.$get=function(){var p={};function t(t,e){if(t in p)throw x("$cacheFactory")("iid","CacheId '{0}' is already taken!",t);var n=0,i=pt({},e,{id:t}),o=Pt(),r=e&&e.capacity||Number.MAX_VALUE,a=Pt(),s=null,l=null;return p[t]={put:function(t,e){if(!ht(e)){if(r<Number.MAX_VALUE)u(a[t]||(a[t]={key:t}));return t in o||n++,o[t]=e,r<n&&this.remove(l.key),e}},get:function(t){if(r<Number.MAX_VALUE){var e=a[t];if(!e)return;u(e)}return o[t]},remove:function(t){if(r<Number.MAX_VALUE){var e=a[t];if(!e)return;e==s&&(s=e.p),e==l&&(l=e.n),c(e.n,e.p),delete a[t]}t in o&&(delete o[t],n--)},removeAll:function(){o=Pt(),n=0,a=Pt(),s=l=null},destroy:function(){a=i=o=null,delete p[t]},info:function(){return pt({},i,{size:n})}};function u(t){t!=s&&(l?l==t&&(l=t.n):l=t,c(t.n,t.p),c(t,s),(s=t).n=null)}function c(t,e){t!=e&&(t&&(t.p=e),e&&(e.n=t))}}return t.info=function(){var n={};return ct(p,function(t,e){n[e]=t.info()}),n},t.get=function(t){return p[t]},t}}function nn(){this.$get=["$cacheFactory",function(t){return t("templates")}]}var on=x("$compile");var rn=new function(){};function an(n,e){var f={},g="Directive",R=/^\s*directive\:\s*([\w\-]+)\s+(.*)$/,L=/(([\w\-]+)(?:\:([^;]+))?;?)/,c=function(t){var e,n={},i=t.split(",");for(e=0;e<i.length;e++)n[i[e]]=!0;return n}("ngSrc,ngSrcset,src,srcset"),h=/^(?:(\^\^?)?(\?)?(\^\^?)?)?/,p=/^(on[a-z]+|formaction)$/,s=Pt();function r(t,i,o){var r=/^\s*([@&<]|=(\*?))(\??)\s*(\w*)\s*$/,a=Pt();return ct(t,function(t,e){if(t in s)a[e]=s[t];else{var n=t.match(r);if(!n)throw on("iscp","Invalid {3} for directive '{0}'. Definition: {... {1}: '{2}' ...}",i,e,t,o?"controller bindings definition":"isolate scope definition");a[e]={mode:n[1][0],collection:"*"===n[2],optional:"?"===n[3],attrName:n[4]||e},n[4]&&(s[t]=a[e])}}),a}function m(t,e){var n={isolateScope:null,bindToController:null};if(dt(t.scope)&&(!0===t.bindToController?(n.bindToController=r(t.scope,e,!0),n.isolateScope={}):n.isolateScope=r(t.scope,e,!1)),dt(t.bindToController)&&(n.bindToController=r(t.bindToController,e,!0)),dt(n.bindToController)){var i=t.controller,o=t.controllerAs;if(!i)throw on("noctrl","Cannot bind to controller without directive '{0}'s controller.",e);if(!fn(i,o))throw on("noident","Cannot bind to controller without identifier for directive '{0}'.",e)}return n}this.directive=function t(l,e){return Dt(l,"directive"),ft(l)?(!function(t){var e=t.charAt(0);if(!e||e!==$(e))throw on("baddir","Directive/Component name '{0}' is invalid. The first character must be a lowercase letter",t);if(t!==t.trim())throw on("baddir","Directive/Component name '{0}' is invalid. The name should not contain leading or trailing whitespaces",t)}(l),Tt(e,"directiveFactory"),f.hasOwnProperty(l)||(f[l]=[],n.factory(l+g,["$injector","$exceptionHandler",function(r,a){var s=[];return ct(f[l],function(t,e){try{var n=r.invoke(t);mt(n)?n={compile:S(n)}:!n.compile&&n.link&&(n.compile=S(n.link)),n.priority=n.priority||0,n.index=e,n.name=n.name||l,n.require=(o=(i=n).require||i.controller&&i.name,!gt(o)&&dt(o)&&ct(o,function(t,e){var n=t.match(h);t.substring(n[0].length)||(o[e]=n[0]+e)}),o),n.restrict=n.restrict||"EA",n.$$moduleName=t.$$moduleName,s.push(n)}catch(t){a(t)}var i,o}),s}])),f[l].push(e)):ct(l,v(t)),this},this.component=function(t,o){var r=o.controller||function(){};function n(i){function t(n){return mt(n)||gt(n)?function(t,e){return i.invoke(n,this,{$element:t,$attrs:e})}:n}var e=o.template||o.templateUrl?o.template:"",n={controller:r,controllerAs:fn(o.controller)||o.controllerAs||"$ctrl",template:t(e),templateUrl:t(o.templateUrl),transclude:o.transclude,scope:{},bindToController:o.bindings||{},restrict:"E",require:o.require};return ct(o,function(t,e){"$"===e.charAt(0)&&(n[e]=t)}),n}return ct(o,function(t,e){"$"===e.charAt(0)&&(n[e]=t,mt(r)&&(r[e]=t))}),n.$inject=["$injector"],this.directive(t,n)},this.aHrefSanitizationWhitelist=function(t){return H(t)?(e.aHrefSanitizationWhitelist(t),this):e.aHrefSanitizationWhitelist()},this.imgSrcSanitizationWhitelist=function(t){return H(t)?(e.imgSrcSanitizationWhitelist(t),this):e.imgSrcSanitizationWhitelist()};var u=!0;this.debugInfoEnabled=function(t){return H(t)?(u=t,this):u};var x=10;this.onChangesTtl=function(t){return arguments.length?(x=t,this):x},this.$get=["$injector","$interpolate","$exceptionHandler","$templateRequest","$parse","$controller","$rootScope","$sce","$animate","$$sanitizeUri",function(d,k,V,t,y,q,r,i,o,v){var a,b=/^\w/,w=F.document.createElement("div"),e=x;function s(){try{if(!--e)throw a=void 0,on("infchng","{0} $onChanges() iterations reached. Aborting!\n",x);r.$apply(function(){for(var e=[],t=0,n=a.length;t<n;++t)try{a[t]()}catch(t){e.push(t)}if(a=void 0,e.length)throw e})}finally{e++}}function W(t,e){if(e){var n,i,o,r=Object.keys(e);for(n=0,i=r.length;n<i;n++)this[o=r[n]]=e[o]}else this.$attr={};this.$$element=t}function A(t,e){try{t.addClass(e)}catch(t){}}W.prototype={$normalize:un,$addClass:function(t){t&&0<t.length&&o.addClass(this.$$element,t)},$removeClass:function(t){t&&0<t.length&&o.removeClass(this.$$element,t)},$updateClass:function(t,e){var n=cn(t,e);n&&n.length&&o.addClass(this.$$element,n);var i=cn(e,t);i&&i.length&&o.removeClass(this.$$element,i)},$set:function(t,e,n,i){var o,r=Ce(this.$$element[0],t),a=ke[t],s=t;if(r?(this.$$element.prop(t,e),i=r):a&&(this[a]=e,s=a),this[t]=e,i?this.$attr[t]=i:(i=this.$attr[t])||(this.$attr[t]=i=St(t,"-")),"a"===(o=wt(this.$$element))&&("href"===t||"xlinkHref"===t)||"img"===o&&"src"===t)this[t]=e=v(e,"src"===t);else if("img"===o&&"srcset"===t&&H(e)){for(var l="",u=bt(e),c=/\s/.test(u)?/(\s+\d+x\s*,|\s+\d+w\s*,|\s+,|,\s+)/:/(,)/,p=u.split(c),h=Math.floor(p.length/2),d=0;d<h;d++){var f=2*d;l+=v(bt(p[f]),!0),l+=" "+bt(p[f+1])}var g=bt(p[2*d]).split(/\s/);l+=v(bt(g[0]),!0),2===g.length&&(l+=" "+bt(g[1])),this[t]=e=l}!1!==n&&(null===e||ht(e)?this.$$element.removeAttr(i):b.test(i)?this.$$element.attr(i,e):function(t,e,n){w.innerHTML="<span "+e+">";var i=w.firstChild.attributes,o=i[0];i.removeNamedItem(o.name),o.value=n,t.attributes.setNamedItem(o)}(this.$$element[0],i,e));var m=this.$$observers;m&&ct(m[s],function(t){try{t(e)}catch(t){V(t)}})},$observe:function(t,e){var n=this,i=n.$$observers||(n.$$observers=Pt()),o=i[t]||(i[t]=[]);return o.push(e),r.$evalAsync(function(){o.$$inter||!n.hasOwnProperty(t)||ht(n[t])||e(n[t])}),function(){xt(o,e)}}};var n=k.startSymbol(),l=k.endSymbol(),G="{{"==n&&"}}"==l?z:function(t){return t.replace(/\{\{/g,n).replace(/}}/g,l)},C=/^ngAttr[A-Z]/,S=/^(.+)Start$/;return Y.$$addBindingInfo=u?function(t,e){var n=t.data("$binding")||[];gt(e)?n=n.concat(e):n.push(e),t.data("$binding",n)}:U,Y.$$addBindingClass=u?function(t){A(t,"ng-binding")}:U,Y.$$addScopeInfo=u?function(t,e,n,i){var o=n?i?"$isolateScopeNoTemplate":"$isolateScope":"$scope";t.data(o,e)}:U,Y.$$addScopeClass=u?function(t,e){A(t,e?"ng-isolate-scope":"ng-scope")}:U,Y.$$createComment=function(t,e){var n="";return u&&(n=" "+(t||"")+": ",e&&(n+=e+" ")),F.document.createComment(n)},Y;function Y(c,t,e,n,p){c instanceof ut||(c=ut(c));for(var i=/\S+/,o=0,r=c.length;o<r;o++){var a=c[o];a.nodeType===It&&a.nodeValue.match(i)&&oe(a,c[o]=F.document.createElement("span"))}var h=D(c,t,c,e,n,p);Y.$$addScopeClass(c);var d=null;return function(t,e,n){Tt(t,"scope"),p&&p.needsNewScope&&(t=t.$parent.$new());var i,o,r,a=(n=n||{}).parentBoundTranscludeFn,s=n.transcludeControllers,l=n.futureParentElement;if(a&&a.$$boundTransclude&&(a=a.$$boundTransclude),d||(o=(i=l)&&i[0],d=o&&"foreignobject"!==wt(o)&&_.call(o).match(/SVG/)?"svg":"html"),r="html"!==d?ut(ot(d,ut("<div>").append(c).html())):e?xe.clone.call(c):c,s)for(var u in s)r.data("$"+u+"Controller",s[u].instance);return Y.$$addScopeInfo(r,t),e&&e(r,t),h&&h(t,r,r,a),r}}function D(t,f,e,n,i,o){for(var r,a,s,l,u,c,g,m=[],p=0;p<t.length;p++)r=new W,(s=(a=K(t[p],[],r,0===p?n:void 0,i)).length?E(a,t[p],r,f,e,null,[],[],o):null)&&s.scope&&Y.$$addScopeClass(r.$$element),u=s&&s.terminal||!(l=t[p].childNodes)||!l.length?null:D(l,s?(s.transcludeOnThisElement||!s.templateOnThisElement)&&s.transclude:f),(s||u)&&(m.push(p,s,u),c=!0,g=g||s),o=null;return c?function(t,e,n,i){var o,r,a,s,l,u,c,p,h;if(g){var d=e.length;for(h=new Array(d),l=0;l<m.length;l+=3)c=m[l],h[c]=e[c]}else h=e;for(l=0,u=m.length;l<u;)a=h[m[l++]],o=m[l++],r=m[l++],o?(o.scope?(s=t.$new(),Y.$$addScopeInfo(ut(a),s)):s=t,p=o.transcludeOnThisElement?M(t,o.transclude,i):!o.templateOnThisElement&&i?i:!i&&f?M(t,f):null,o(r,s,a,n,p)):r&&r(t,a.childNodes,void 0,i)}:null}function M(r,a,s){function t(t,e,n,i,o){return t||((t=r.$new(!1,o)).$$transcluded=!0),a(t,e,{parentBoundTranscludeFn:s,transcludeControllers:n,futureParentElement:i})}var e=t.$$slots=Pt();for(var n in a.$$slots)a.$$slots[n]?e[n]=M(r,a.$$slots[n],s):e[n]=null;return t}function K(t,e,n,i,o){var r,a,s,l,u,c=t.nodeType,p=n.$attr;switch(c){case Ot:T(e,un(wt(t)),"E",i,o);for(var h,d,f,g,m,v,y=t.attributes,b=0,w=y&&y.length;b<w;b++){var x=!1,$=!1;d=(h=y[b]).name,m=bt(h.value),g=un(d),(v=C.test(g))&&(d=d.replace(ln,"").substr(8).replace(/_(.)/g,function(t,e){return e.toUpperCase()}));var _=g.match(S);_&&P(_[1])&&($=(x=d).substr(0,d.length-5)+"end",d=d.substr(0,d.length-6)),p[f=un(d.toLowerCase())]=d,!v&&n.hasOwnProperty(f)||(n[f]=m,Ce(t,f)&&(n[f]=!0)),I(t,e,m,f,v),T(e,f,"A",i,o,x,$)}if(dt(a=t.className)&&(a=a.animVal),ft(a)&&""!==a)for(;r=L.exec(a);)T(e,f=un(r[2]),"C",i,o)&&(n[f]=bt(r[3])),a=a.substr(r.index+r[0].length);break;case It:if(11===j)for(;t.parentNode&&t.nextSibling&&t.nextSibling.nodeType===It;)t.nodeValue=t.nodeValue+t.nextSibling.nodeValue,t.parentNode.removeChild(t.nextSibling);s=e,l=t.nodeValue,(u=k(l,!0))&&s.push({priority:0,compile:function(t){var e=t.parent(),i=!!e.length;return i&&Y.$$addBindingClass(e),function(t,e){var n=e.parent();i||Y.$$addBindingClass(n),Y.$$addBindingInfo(n,u.expressions),t.$watch(u,function(t){e[0].nodeValue=t})}}});break;case Rt:!function(t,e,n,i,o){try{var r=R.exec(t.nodeValue);if(r){var a=un(r[1]);T(e,a,"M",i,o)&&(n[a]=bt(r[2]))}}catch(t){}}(t,e,n,i,o)}return e.sort(O),e}function Z(t,e,n){var i=[],o=0;if(e&&t.hasAttribute&&t.hasAttribute(e))do{if(!t)throw on("uterdir","Unterminated attribute, found '{0}' but no matching '{1}' found.",e,n);t.nodeType==Ot&&(t.hasAttribute(e)&&o++,t.hasAttribute(n)&&o--),i.push(t),t=t.nextSibling}while(0<o);else i.push(t);return ut(i)}function X(r,a,s){return function(t,e,n,i,o){return e=Z(e[0],a,s),r(t,e,n,i,o)}}function J(t,e,n,i,o,r){var a;return t?Y(e,n,i,o,r):function(){return a||(a=Y(e,n,i,o,r),e=n=r=null),a.apply(this,arguments)}}function E(t,x,$,e,n,i,_,k,o){o=o||{};for(var r,a,s,l,u,c=-Number.MAX_VALUE,C=o.newScopeDirective,S=o.controllerDirectives,T=o.newIsolateScopeDirective,A=o.templateDirective,p=o.nonTlbTranscludeDirective,h=!1,d=!1,D=o.hasElementTranscludeDirective,f=$.$$element=ut(x),g=i,m=e,v=!1,y=!1,b=0,w=t.length;b<w;b++){var M=(r=t[b]).$$start,E=r.$$end;if(M&&(f=Z(x,M,E)),s=void 0,c>r.priority)break;if((u=r.scope)&&(r.templateUrl||(dt(u)?(it("new/isolated scope",T||C,r,f),T=r):it("new/isolated scope",T,r,f)),C=C||r),a=r.name,!v&&(r.replace&&(r.templateUrl||r.template)||r.transclude&&!r.$$tlb)){for(var P,O=b+1;P=t[O++];)if(P.transclude&&!P.$$tlb||P.replace&&(P.templateUrl||P.template)){y=!0;break}v=!0}if(!r.templateUrl&&r.controller&&(u=r.controller,S=S||Pt(),it("'"+a+"' controller",S[a],r,f),S[a]=r),u=r.transclude)if(h=!0,r.$$tlb||(it("transclusion",p,r,f),p=r),"element"==u)D=!0,c=r.priority,s=f,f=$.$$element=ut(Y.$$createComment(a,$[a])),x=f[0],rt(n,_t(s),x),s[0].$$parentNode=s[0].parentNode,m=J(y,s,e,c,g&&g.name,{nonTlbTranscludeDirective:p});else{var I=Pt();if(s=ut(se(x)).contents(),dt(u)){s=[];var R=Pt(),L=Pt();for(var F in ct(u,function(t,e){var n="?"===t.charAt(0);t=n?t.substring(1):t,R[t]=e,I[e]=null,L[e]=n}),ct(f.contents(),function(t){var e=R[un(wt(t))];e?(L[e]=!0,I[e]=I[e]||[],I[e].push(t)):s.push(t)}),ct(L,function(t,e){if(!t)throw on("reqslot","Required transclusion slot `{0}` was not filled.",e)}),I)I[F]&&(I[F]=J(y,I[F],e))}f.empty(),(m=J(y,s,e,void 0,void 0,{needsNewScope:r.$$isolateScope||r.$$newScope})).$$slots=I}if(r.template)if(d=!0,it("template",A,r,f),u=mt((A=r).template)?r.template(f,$):r.template,u=G(u),r.replace){if(g=r,s=ee(u)?[]:pn(ot(r.templateNamespace,bt(u))),x=s[0],1!=s.length||x.nodeType!==Ot)throw on("tplrt","Template for directive '{0}' must have exactly one root element. {1}",a,"");rt(n,f,x);var N={$attr:{}},j=K(x,[],N),B=t.splice(b+1,t.length-(b+1));(T||C)&&tt(j,T,C),t=t.concat(j).concat(B),et($,N),w=t.length}else f.html(u);if(r.templateUrl)d=!0,it("template",A,r,f),(A=r).replace&&(g=r),H=nt(t.splice(b,t.length-b),f,$,n,h&&m,_,k,{controllerDirectives:S,newScopeDirective:C!==r&&C,newIsolateScopeDirective:T,templateDirective:A,nonTlbTranscludeDirective:p}),w=t.length;else if(r.compile)try{l=r.compile(f,$,m);var U=r.$$originalDirective||r;mt(l)?z(null,kt(U,l),M,E):l&&z(kt(U,l.pre),kt(U,l.post),M,E)}catch(t){V(t,Ct(f))}r.terminal&&(H.terminal=!0,c=Math.max(c,r.priority))}return H.scope=C&&!0===C.scope,H.transcludeOnThisElement=h,H.templateOnThisElement=d,H.transclude=m,o.hasElementTranscludeDirective=D,H;function z(t,e,n,i){t&&(n&&(t=X(t,n,i)),t.require=r.require,t.directiveName=a,(T===r||r.$$isolateScope)&&(t=at(t,{isolateScope:!0})),_.push(t)),e&&(n&&(e=X(e,n,i)),e.require=r.require,e.directiveName=a,(T===r||r.$$isolateScope)&&(e=at(e,{isolateScope:!0})),k.push(e))}function H(t,e,n,i,a){var o,r,s,l,u,c,p,h,d,f;for(var g in x===n?h=(d=$).$$element:d=new W(h=ut(n),$),u=e,T?l=e.$new(!0):C&&(u=e.$parent),a&&((p=function(t,e,n,i){var o;vt(t)||(i=n,n=e,e=t,t=void 0);D&&(o=c);n||(n=D?h.parent():h);{if(!i)return a(t,e,o,n,w);var r=a.$$slots[i];if(r)return r(t,e,o,n,w);if(ht(r))throw on("noslot",'No parent directive that requires a transclusion with slot name "{0}". Element: {1}',i,Ct(h))}}).$$boundTransclude=a,p.isSlotFilled=function(t){return!!a.$$slots[t]}),S&&(c=function(t,e,n,i,o,r,a){var s=Pt();for(var l in i){var u=i[l],c={$scope:u===a||u.$$isolateScope?o:r,$element:t,$attrs:e,$transclude:n},p=u.controller;"@"==p&&(p=e[u.name]);var h=q(p,c,!0,u.controllerAs);s[u.name]=h,t.data("$"+u.name+"Controller",h.instance)}return s}(h,d,p,S,l,e,T)),T&&(Y.$$addScopeInfo(h,l,!0,!(A&&(A===T||A===T.$$originalDirective))),Y.$$addScopeClass(h,!0),l.$$isolateBindings=T.$$isolateBindings,(f=lt(e,d,l,l.$$isolateBindings,T)).removeWatches&&l.$on("$destroy",f.removeWatches)),c){var m=S[g],v=c[g],y=m.$$bindings.bindToController;v.identifier&&y?v.bindingInfo=lt(u,d,v.instance,y,m):v.bindingInfo={};var b=v();b!==v.instance&&(v.instance=b,h.data("$"+m.name+"Controller",b),v.bindingInfo.removeWatches&&v.bindingInfo.removeWatches(),v.bindingInfo=lt(u,d,v.instance,y,m))}for(ct(S,function(t,e){var n=t.require;t.bindToController&&!gt(n)&&dt(n)&&pt(c[e].instance,Q(e,n,h,c))}),ct(c,function(t){var e=t.instance;if(mt(e.$onChanges))try{e.$onChanges(t.bindingInfo.initialChanges)}catch(t){V(t)}if(mt(e.$onInit))try{e.$onInit()}catch(t){V(t)}mt(e.$doCheck)&&(u.$watch(function(){e.$doCheck()}),e.$doCheck()),mt(e.$onDestroy)&&u.$on("$destroy",function(){e.$onDestroy()})}),o=0,r=_.length;o<r;o++)st(s=_[o],s.isolateScope?l:e,h,d,s.require&&Q(s.directiveName,s.require,h,c),p);var w=e;for(T&&(T.template||null===T.templateUrl)&&(w=l),t&&t(w,n.childNodes,void 0,a),o=k.length-1;0<=o;o--)st(s=k[o],s.isolateScope?l:e,h,d,s.require&&Q(s.directiveName,s.require,h,c),p);ct(c,function(t){var e=t.instance;mt(e.$postLink)&&e.$postLink()})}}function Q(n,t,i,o){var r;if(ft(t)){var e=t.match(h),a=t.substring(e[0].length),s=e[1]||e[3],l="?"===e[2];if("^^"===s?i=i.parent():r=(r=o&&o[a])&&r.instance,!r){var u="$"+a+"Controller";r=s?i.inheritedData(u):i.data(u)}if(!r&&!l)throw on("ctreq","Controller '{0}', required by directive '{1}', can't be found!",a,n)}else if(gt(t)){r=[];for(var c=0,p=t.length;c<p;c++)r[c]=Q(n,t[c],i,o)}else dt(t)&&(r={},ct(t,function(t,e){r[e]=Q(n,t,i,o)}));return r||null}function tt(t,e,n){for(var i=0,o=t.length;i<o;i++)t[i]=B(t[i],{$$isolateScope:e,$$newScope:n})}function T(t,e,n,i,o,r,a){if(e===o)return null;var s=null;if(f.hasOwnProperty(e))for(var l,u=d.get(e+g),c=0,p=u.length;c<p;c++)try{if(l=u[c],(ht(i)||i>l.priority)&&-1!=l.restrict.indexOf(n)){if(r&&(l=B(l,{$$start:r,$$end:a})),!l.$$bindings){var h=l.$$bindings=m(l,l.name);dt(h.isolateScope)&&(l.$$isolateBindings=h.isolateScope)}t.push(l),s=l}}catch(t){V(t)}return s}function P(t){if(f.hasOwnProperty(t))for(var e=d.get(t+g),n=0,i=e.length;n<i;n++)if(e[n].multiElement)return!0;return!1}function et(n,i){var o=i.$attr,r=n.$attr;n.$$element;ct(n,function(t,e){"$"!=e.charAt(0)&&(i[e]&&i[e]!==t&&(t+=("style"===e?";":" ")+i[e]),n.$set(e,t,!0,o[e]))}),ct(i,function(t,e){n.hasOwnProperty(e)||"$"===e.charAt(0)||(n[e]=t,"class"!==e&&"style"!==e&&(r[e]=o[e]))})}function nt(h,d,f,g,m,v,y,b){var w,x,$=[],_=d[0],k=h.shift(),C=B(k,{templateUrl:null,transclude:null,replace:null,$$originalDirective:k}),S=mt(k.templateUrl)?k.templateUrl(d,f):k.templateUrl,T=k.templateNamespace;return d.empty(),t(S).then(function(t){var n,e,i,o;if(t=G(t),k.replace){if(i=ee(t)?[]:pn(ot(T,bt(t))),n=i[0],1!=i.length||n.nodeType!==Ot)throw on("tplrt","Template for directive '{0}' must have exactly one root element. {1}",k.name,S);e={$attr:{}},rt(g,d,n);var r=K(n,[],e);dt(k.scope)&&tt(r,!0),h=r.concat(h),et(f,e)}else n=_,d.html(t);for(h.unshift(C),w=E(h,n,f,m,d,k,v,y,b),ct(g,function(t,e){t==n&&(g[e]=d[0])}),x=D(d[0].childNodes,m);$.length;){var a=$.shift(),s=$.shift(),l=$.shift(),u=$.shift(),c=d[0];if(!a.$$destroyed){if(s!==_){var p=s.className;b.hasElementTranscludeDirective&&k.replace||(c=se(n)),rt(l,ut(s),c),A(ut(c),p)}o=w.transcludeOnThisElement?M(a,w.transclude,u):u,w(x,a,c,g,o)}}$=null}),function(t,e,n,i,o){var r=o;e.$$destroyed||($?$.push(e,n,i,r):(w.transcludeOnThisElement&&(r=M(e,w.transclude,o)),w(x,e,n,i,r)))}}function O(t,e){var n=e.priority-t.priority;return 0!==n?n:t.name!==e.name?t.name<e.name?-1:1:t.index-e.index}function it(t,e,n,i){function o(t){return t?" (module: "+t+")":""}if(e)throw on("multidir","Multiple directives [{0}{1}, {2}{3}] asking for {4} on: {5}",e.name,o(e.$$moduleName),n.name,o(n.$$moduleName),t,Ct(i))}function ot(t,e){switch(t=$(t||"html")){case"svg":case"math":var n=F.document.createElement("div");return n.innerHTML="<"+t+">"+e+"</"+t+">",n.childNodes[0].childNodes;default:return e}}function I(t,e,r,a,s){var l=function(t,e){if("srcdoc"==e)return i.HTML;var n=wt(t);return"xlinkHref"==e||"form"==n&&"action"==e||"img"!=n&&("src"==e||"ngSrc"==e)?i.RESOURCE_URL:void 0}(t,a);s=c[a]||s;var u=k(r,!0,l,s);if(u){if("multiple"===a&&"select"===wt(t))throw on("selmulti","Binding to the 'multiple' attribute is not supported. Element: {0}",Ct(t));e.push({priority:100,compile:function(){return{pre:function(t,e,n){var i=n.$$observers||(n.$$observers=Pt());if(p.test(a))throw on("nodomevents","Interpolations for HTML DOM event attributes are disallowed.  Please use the ng- versions (such as ng-click instead of onclick) instead.");var o=n[a];o!==r&&(u=o&&k(o,!0,l,s),r=o),u&&(n[a]=u(t),(i[a]||(i[a]=[])).$$inter=!0,(n.$$observers&&n.$$observers[a].$$scope||t).$watch(u,function(t,e){"class"===a&&t!=e?n.$updateClass(t,e):n.$set(a,t)}))}}}})}}function rt(t,e,n){var i,o,r=e[0],a=e.length,s=r.parentNode;if(t)for(i=0,o=t.length;i<o;i++)if(t[i]==r){t[i++]=n;for(var l=i,u=l+a-1,c=t.length;l<c;l++,u++)u<c?t[l]=t[u]:delete t[l];t.length-=a-1,t.context===r&&(t.context=n);break}s&&s.replaceChild(n,r);var p=F.document.createDocumentFragment();for(i=0;i<a;i++)p.appendChild(e[i]);for(ut.hasData(r)&&(ut.data(n,ut.data(r)),ut(r).off("$destroy")),ut.cleanData(p.querySelectorAll("*")),i=1;i<a;i++)delete e[i];e[0]=n,e.length=1}function at(t,e){return pt(function(){return t.apply(null,arguments)},t,e)}function st(t,e,n,i,o,r){try{t(e,n,i,o,r)}catch(t){V(t,Ct(n))}}function lt(p,h,d,t,f){var i,g=[],m={};function v(t,e,n){mt(d.$onChanges)&&e!==n&&(a||(p.$$postDigest(s),a=[]),i||(i={},a.push(o)),i[t]&&(n=i[t].previousValue),i[t]=new sn(n,e))}function o(){d.$onChanges(i),i=void 0}return ct(t,function(t,n){var e,i,o,r,a,s=t.attrName,l=t.optional;switch(t.mode){case"@":l||N.call(h,s)||(d[n]=h[s]=void 0),h.$observe(s,function(t){if(ft(t)||yt(t)){var e=d[n];v(n,t,e),d[n]=t}}),h.$$observers[s].$$scope=p,ft(e=h[s])?d[n]=k(e)(p):yt(e)&&(d[n]=e),m[n]=new sn(rn,d[n]);break;case"=":if(!N.call(h,s)){if(l)break;h[s]=void 0}if(l&&!h[s])break;i=y(h[s]),r=i.literal?$t:function(t,e){return t===e||t!=t&&e!=e},o=i.assign||function(){throw e=d[n]=i(p),on("nonassign","Expression '{0}' in attribute '{1}' used with directive '{2}' is non-assignable!",h[s],s,f.name)},e=d[n]=i(p);var u=function(t){return r(t,d[n])||(r(t,e)?o(p,t=d[n]):d[n]=t),e=t};u.$stateful=!0,a=t.collection?p.$watchCollection(h[s],u):p.$watch(y(h[s],u),null,i.literal),g.push(a);break;case"<":if(!N.call(h,s)){if(l)break;h[s]=void 0}if(l&&!h[s])break;i=y(h[s]);var c=d[n]=i(p);m[n]=new sn(rn,d[n]),a=p.$watch(i,function(t,e){if(e===t){if(e===c)return;e=c}v(n,t,e),d[n]=t},i.literal),g.push(a);break;case"&":if((i=h.hasOwnProperty(s)?y(h[s]):U)===U&&l)break;d[n]=function(t){return i(p,t)}}}),{initialChanges:m,removeWatches:g.length&&function(){for(var t=0,e=g.length;t<e;++t)g[t]()}}}}]}function sn(t,e){this.previousValue=t,this.currentValue=e}an.$inject=["$provide","$$sanitizeUriProvider"],sn.prototype.isFirstChange=function(){return this.previousValue===rn};var ln=/^((?:x|data)[\:\-_])/i;function un(t){return Kt(t.replace(ln,""))}function cn(t,e){var n="",i=t.split(/\s+/),o=e.split(/\s+/);t:for(var r=0;r<i.length;r++){for(var a=i[r],s=0;s<o.length;s++)if(a==o[s])continue t;n+=(0<n.length?" ":"")+a}return n}function pn(t){var e=(t=ut(t)).length;if(e<=1)return t;for(;e--;){t[e].nodeType===Rt&&n.call(t,e,1)}return t}var hn=x("$controller"),dn=/^(\S+)(\s+as\s+([\w$]+))?$/;function fn(t,e){if(e&&ft(e))return e;if(ft(t)){var n=dn.exec(t);if(n)return n[3]}}function gn(){var h={},d=!1;this.has=function(t){return h.hasOwnProperty(t)},this.register=function(t,e){Dt(t,"controller"),dt(t)?pt(h,t):h[t]=e},this.allowGlobals=function(){d=!0},this.$get=["$injector","$window",function(u,c){return function(e,n,t,i){var o,r,a,s;if(t=!0===t,i&&ft(i)&&(s=i),ft(e)){if(!(r=e.match(dn)))throw hn("ctrlfmt","Badly formed controller string '{0}'. Must match `__name__ as __id__` or `__name__`.",e);a=r[1],s=s||r[3],At(e=h.hasOwnProperty(a)?h[a]:Mt(n.$scope,a,!0)||(d?Mt(c,a,!0):void 0),a,!0)}if(t){var l=(gt(e)?e[e.length-1]:e).prototype;return o=Object.create(l||null),s&&p(n,s,o,a||e.name),pt(function(){var t=u.invoke(e,o,n,a);return t!==o&&(dt(t)||mt(t))&&(o=t,s&&p(n,s,o,a||e.name)),o},{instance:o,identifier:s})}return o=u.instantiate(e,n,a),s&&p(n,s,o,a||e.name),o};function p(t,e,n,i){if(!t||!dt(t.$scope))throw x("$controller")("noscp","Cannot export controller '{0}' as '{1}'! No $scope object provided via `locals`.",i,e);t.$scope[e]=n}}]}function mn(){this.$get=["$window",function(t){return ut(t.document)}]}function vn(){this.$get=["$log",function(n){return function(t,e){n.error.apply(n,arguments)}}]}var yn=function(){this.$get=["$document",function(e){return function(t){return t?!t.nodeType&&t instanceof ut&&(t=t[0]):t=e[0].body,t.offsetWidth+1}}]},bn="application/json",wn={"Content-Type":bn+";charset=utf-8"},xn=/^\[|^\{(?!\{)/,$n={"[":/]$/,"{":/}$/},_n=/^\)\]\}',?\n/,kn=x("$http"),Cn=function(t){return function(){throw kn("legacy","The method `{0}` on the promise returned from `$http` has been disabled.",t)}};function Sn(t){return dt(t)?k(t)?t.toISOString():W(t):t}function Tn(){this.$get=function(){return function(t){if(!t)return"";var n=[];return h(t,function(t,e){null===t||ht(t)||(gt(t)?ct(t,function(t){n.push(et(e)+"="+et(Sn(t)))}):n.push(et(e)+"="+et(Sn(t))))}),n.join("&")}}}function An(){this.$get=function(){return function(t){if(!t)return"";var e=[];return function n(t,i,o){if(null===t||ht(t))return;gt(t)?ct(t,function(t,e){n(t,i+"["+(dt(t)?e:"")+"]")}):dt(t)&&!k(t)?h(t,function(t,e){n(t,i+(o?"":"[")+e+(o?"":"]"))}):e.push(et(i)+"="+et(Sn(t)))}(t,"",!0),e.join("&")}}}function Dn(t,e){if(ft(t)){var n=t.replace(_n,"").trim();if(n){var i=e("Content-Type");(i&&0===i.indexOf(bn)||(r=(o=n).match(xn))&&$n[r[0]].test(o))&&(t=G(n))}}var o,r;return t}function Mn(t){var e,n=Pt();function i(t,e){t&&(n[t]=n[t]?n[t]+", "+e:e)}return ft(t)?ct(t.split("\n"),function(t){e=t.indexOf(":"),i($(bt(t.substr(0,e))),bt(t.substr(e+1)))}):dt(t)&&ct(t,function(t,e){i($(e),bt(t))}),n}function En(n){var i;return function(t){if(i||(i=Mn(n)),t){var e=i[$(t)];return void 0===e&&(e=null),e}return i}}function Pn(e,n,i,t){return mt(t)?t(e,n,i):(ct(t,function(t){e=t(e,n,i)}),e)}function On(t){return 200<=t&&t<300}function In(){var b=this.defaults={transformResponse:[Dn],transformRequest:[function(t){return dt(t)&&(i=t,"[object File]"!==_.call(i))&&(n=t,"[object Blob]"!==_.call(n))&&(e=t,"[object FormData]"!==_.call(e))?W(t):t;var e,n,i}],headers:{common:{Accept:"application/json, text/plain, */*"},post:Nt(wn),put:Nt(wn),patch:Nt(wn)},xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",paramSerializer:"$httpParamSerializer"},w=!1;this.useApplyAsync=function(t){return H(t)?(w=!!t,this):w};var u=!0;this.useLegacyPromiseExtensions=function(t){return H(t)?(u=!!t,this):u};var e=this.interceptors=[];this.$get=["$httpBackend","$$cookieReader","$cacheFactory","$rootScope","$q","$injector",function(d,f,t,g,m,s){var v=t("$http");b.paramSerializer=ft(b.paramSerializer)?s.get(b.paramSerializer):b.paramSerializer;var l=[];function y(t){if(!dt(t))throw x("$http")("badreq","Http request configuration must be an object.  Received: {0}",t);if(!ft(t.url))throw x("$http")("badreq","Http request configuration url must be a string.  Received: {0}",t.url);var n=pt({method:"get",transformRequest:b.transformRequest,transformResponse:b.transformResponse,paramSerializer:b.paramSerializer},t);n.headers=function(t){var e,n,i,o=b.headers,r=pt({},t.headers);o=pt({},o.common,o[$(t.method)]);t:for(e in o){for(i in n=$(e),r)if($(i)===n)continue t;r[e]=o[e]}return a=r,s=Nt(t),u={},ct(a,function(t,e){mt(t)?null!=(l=t(s))&&(u[e]=l):u[e]=t}),u;var a,s,l,u}(t),n.method=c(n.method),n.paramSerializer=ft(n.paramSerializer)?s.get(n.paramSerializer):n.paramSerializer;var e=[],i=[],o=m.when(n);return ct(l,function(t){(t.request||t.requestError)&&e.unshift(t.request,t.requestError),(t.response||t.responseError)&&i.push(t.response,t.responseError)}),(o=r(o=(o=r(o,e)).then(function(t){var n=t.headers,e=Pn(t.data,En(n),void 0,t.transformRequest);ht(e)&&ct(n,function(t,e){"content-type"===$(e)&&delete n[e]});ht(t.withCredentials)&&!ht(b.withCredentials)&&(t.withCredentials=b.withCredentials);return function(o,t){var r,e,a=m.defer(),n=a.promise,i=o.headers,s=function(t,e){0<e.length&&(t+=(-1==t.indexOf("?")?"?":"&")+e);return t}(o.url,o.paramSerializer(o.params));y.pendingRequests.push(o),n.then(h,h),!o.cache&&!b.cache||!1===o.cache||"GET"!==o.method&&"JSONP"!==o.method||(r=dt(o.cache)?o.cache:dt(b.cache)?b.cache:v);r&&(H(e=r.get(s))?M(e)?e.then(p,p):gt(e)?c(e[1],e[0],Nt(e[2]),e[3]):c(e,200,{},"OK"):r.put(s,n));if(ht(e)){var l=Qi(o.url)?f()[o.xsrfCookieName||b.xsrfCookieName]:void 0;l&&(i[o.xsrfHeaderName||b.xsrfHeaderName]=l),d(o.method,s,t,function(t,e,n,i){r&&(On(t)?r.put(s,[t,e,Mn(n),i]):r.remove(s));function o(){c(e,t,n,i)}w?g.$applyAsync(o):(o(),g.$$phase||g.$apply())},i,o.timeout,o.withCredentials,o.responseType,u(o.eventHandlers),u(o.uploadEventHandlers))}return n;function u(t){if(t){var e={};return ct(t,function(n,t){e[t]=function(t){function e(){n(t)}w?g.$applyAsync(e):g.$$phase?e():g.$apply(e)}}),e}}function c(t,e,n,i){(On(e=-1<=e?e:0)?a.resolve:a.reject)({data:t,status:e,headers:En(n),config:o,statusText:i})}function p(t){c(t.data,t.status,Nt(t.headers()),t.statusText)}function h(){var t=y.pendingRequests.indexOf(o);-1!==t&&y.pendingRequests.splice(t,1)}}(t,e).then(a,a)}),i)).error=u?(o.success=function(e){return At(e,"fn"),o.then(function(t){e(t.data,t.status,t.headers,n)}),o},function(e){return At(e,"fn"),o.then(null,function(t){e(t.data,t.status,t.headers,n)}),o}):(o.success=Cn("success"),Cn("error")),o;function r(t,e){for(var n=0,i=e.length;n<i;){var o=e[n++],r=e[n++];t=t.then(o,r)}return e.length=0,t}function a(t){var e=pt({},t);return e.data=Pn(t.data,t.headers,t.status,n.transformResponse),On(t.status)?e:m.reject(e)}}return ct(e,function(t){l.unshift(ft(t)?s.get(t):s.invoke(t))}),y.pendingRequests=[],function(t){ct(arguments,function(n){y[n]=function(t,e){return y(pt({},e||{},{method:n,url:t}))}})}("get","delete","head","jsonp"),function(t){ct(arguments,function(i){y[i]=function(t,e,n){return y(pt({},n||{},{method:i,url:t,data:e}))}})}("post","put","patch"),y.defaults=b,y}]}function Rn(){this.$get=function(){return function(){return new F.XMLHttpRequest}}}function Ln(){this.$get=["$browser","$jsonpCallbacks","$document","$xhrFactory",function(t,e,n,i){return y=i,b=(v=t).defer,w=e,x=n[0],function(t,i,e,o,n,r,a,s,l,u){if(v.$$incOutstandingRequestCount(),i=i||v.url(),"jsonp"===$(t))var c=w.createCallback(i),p=function(t,i,o){t=t.replace("JSON_CALLBACK",i);var r=x.createElement("script"),a=null;return r.type="text/javascript",r.src=t,r.async=!0,Ht(r,"load",a=function(t){Vt(r,"load",a),Vt(r,"error",a),x.body.removeChild(r),r=null;var e=-1,n="unknown";t&&("load"!==t.type||w.wasCalled(i)||(t={type:"error"}),n=t.type,e="error"===t.type?404:200),o&&o(e,n)}),Ht(r,"error",a),x.body.appendChild(r),a}(i,c,function(t,e){var n=200===t&&w.getResponse(c);m(o,t,n,"",e),w.removeCallback(c)});else{var h=y(t,i);h.open(t,i,!0),ct(n,function(t,e){H(t)&&h.setRequestHeader(e,t)}),h.onload=function(){var t=h.statusText||"",e="response"in h?h.response:h.responseText,n=1223===h.status?204:h.status;0===n&&(n=e?200:"file"==Ji(i).protocol?404:0),m(o,n,e,h.getAllResponseHeaders(),t)};var d=function(){m(o,-1,null,null,"")};if(h.onerror=d,h.onabort=d,ct(l,function(t,e){h.addEventListener(e,t)}),ct(u,function(t,e){h.upload.addEventListener(e,t)}),a&&(h.withCredentials=!0),s)try{h.responseType=s}catch(t){if("json"!==s)throw t}h.send(ht(e)?null:e)}if(0<r)var f=b(g,r);else M(r)&&r.then(g);function g(){p&&p(),h&&h.abort()}function m(t,e,n,i,o){H(f)&&b.cancel(f),p=h=null,t(e,n,i,o),v.$$completeOutstandingRequest(U)}};var v,y,b,w,x}]}var Fn=C.$interpolateMinErr=x("$interpolate");function Nn(){var k="{{",C="}}";this.startSymbol=function(t){return t?(k=t,this):k},this.endSymbol=function(t){return t?(C=t,this):C},this.$get=["$parse","$exceptionHandler","$sce",function(v,y,b){var w=k.length,x=C.length,e=new RegExp(k.replace(/./g,t),"g"),n=new RegExp(C.replace(/./g,t),"g");function t(t){return"\\\\\\"+t}function $(t){return t.replace(e,k).replace(n,C)}function _(t,e,n,i){var o;return o=t.$watch(function(t){return o(),i(t)},e,n)}function i(o,t,e,i){if(!o.length||-1===o.indexOf(k)){var n;if(!t)(n=S($(o))).exp=o,n.expressions=[],n.$$watchDelegate=_;return n}i=!!i;for(var r,a,s,l=0,u=[],c=[],p=o.length,h=[],d=[];l<p;){if(-1==(r=o.indexOf(k,l))||-1==(a=o.indexOf(C,r+w))){l!==p&&h.push($(o.substring(l)));break}l!==r&&h.push($(o.substring(l,r))),s=o.substring(r+w,a),u.push(s),c.push(v(s,m)),l=a+x,d.push(h.length),h.push("")}if(e&&1<h.length&&Fn.throwNoconcat(o),!t||u.length){var f=function(t){for(var e=0,n=u.length;e<n;e++){if(i&&ht(t[e]))return;h[d[e]]=t[e]}return h.join("")},g=function(t){return e?b.getTrusted(e,t):b.valueOf(t)};return pt(function(t){var e=0,n=u.length,i=new Array(n);try{for(;e<n;e++)i[e]=c[e](t);return f(i)}catch(t){y(Fn.interr(o,t))}},{exp:o,expressions:u,$$watchDelegate:function(i,o){var r;return i.$watchGroup(c,function(t,e){var n=f(t);mt(o)&&o.call(this,n,t!==e?r:n,i),r=n})}})}function m(t){try{return t=g(t),i&&!H(t)?t:function(t){if(null==t)return"";switch(typeof t){case"string":break;case"number":t=""+t;break;default:t=W(t)}return t}(t)}catch(t){y(Fn.interr(o,t))}}}return i.startSymbol=function(){return k},i.endSymbol=function(){return C},i}]}function jn(){this.$get=["$rootScope","$window","$q","$$q","$browser",function(d,f,g,m,v){var y={};function t(t,e,n,i){var o=4<arguments.length,r=o?_t(arguments,4):[],a=f.setInterval,s=f.clearInterval,l=0,u=H(i)&&!i,c=(u?m:g).defer(),p=c.promise;return n=H(n)?n:0,p.$$intervalId=a(function(){u?v.defer(h):d.$evalAsync(h),c.notify(l++),0<n&&n<=l&&(c.resolve(l),s(p.$$intervalId),delete y[p.$$intervalId]),u||d.$apply()},e),y[p.$$intervalId]=c,p;function h(){o?t.apply(null,r):t(l)}}return t.cancel=function(t){return!!(t&&t.$$intervalId in y)&&(y[t.$$intervalId].reject("canceled"),f.clearInterval(t.$$intervalId),delete y[t.$$intervalId],!0)},t}]}Fn.throwNoconcat=function(t){throw Fn("noconcat","Error while interpolating: {0}\nStrict Contextual Escaping disallows interpolations that concatenate multiple expressions when a trusted value is required.  See http://docs.angularjs.org/api/ng.$sce",t)},Fn.interr=function(t,e){return Fn("interr","Can't interpolate: {0}\n{1}",t,e.toString())};var Bn=function(){this.$get=["$window",function(t){var r=t.angular.callbacks,a={};return{createCallback:function(t){var e,n="_"+(r.$$counter++).toString(36),i="angular.callbacks."+n,o=((e=function(t){e.data=t,e.called=!0}).id=n,e);return a[i]=r[n]=o,i},wasCalled:function(t){return a[t].called},getResponse:function(t){return a[t].data},removeCallback:function(t){var e=a[t];delete r[e.id],delete a[t]}}}]},Un=/^([^\?#]*)(\?([^#]*))?(#(.*))?$/,zn={http:80,https:443,ftp:21},Hn=x("$location");function Vn(t){for(var e=t.split("/"),n=e.length;n--;)e[n]=tt(e[n]);return e.join("/")}function qn(t,e){var n=Ji(t);e.$$protocol=n.protocol,e.$$host=n.hostname,e.$$port=g(n.port)||zn[n.protocol]||null}function Wn(t,e){var n="/"!==t.charAt(0);n&&(t="/"+t);var i=Ji(t);e.$$path=decodeURIComponent(n&&"/"===i.pathname.charAt(0)?i.pathname.substring(1):i.pathname),e.$$search=J(i.search),e.$$hash=decodeURIComponent(i.hash),e.$$path&&"/"!=e.$$path.charAt(0)&&(e.$$path="/"+e.$$path)}function Gn(t,e){return 0===t.lastIndexOf(e,0)}function Yn(t,e){if(Gn(e,t))return e.substr(t.length)}function Kn(t){var e=t.indexOf("#");return-1==e?t:t.substr(0,e)}function Zn(t){return t.replace(/(#.+)|#$/,"$1")}function Xn(r,a,s){this.$$html5=!0,s=s||"",qn(r,this),this.$$parse=function(t){var e=Yn(a,t);if(!ft(e))throw Hn("ipthprfx",'Invalid url "{0}", missing path prefix "{1}".',t,a);Wn(e,this),this.$$path||(this.$$path="/"),this.$$compose()},this.$$compose=function(){var t=Q(this.$$search),e=this.$$hash?"#"+tt(this.$$hash):"";this.$$url=Vn(this.$$path)+(t?"?"+t:"")+e,this.$$absUrl=a+this.$$url.substr(1)},this.$$parseLinkUrl=function(t,e){return e&&"#"===e[0]?(this.hash(e.slice(1)),!0):(H(n=Yn(r,t))?o=H(n=Yn(s,i=n))?a+(Yn("/",n)||n):r+i:H(n=Yn(a,t))?o=a+n:a==t+"/"&&(o=a),o&&this.$$parse(o),!!o);var n,i,o}}function Jn(i,o,r){qn(i,this),this.$$parse=function(t){var e,n=Yn(i,t)||Yn(o,t);ht(n)||"#"!==n.charAt(0)?this.$$html5?e=n:(e="",ht(n)&&(i=t,this.replace())):ht(e=Yn(r,n))&&(e=n),Wn(e,this),this.$$path=function(t,e,n){var i,o=/^\/[A-Z]:(\/.*)/;Gn(e,n)&&(e=e.replace(n,""));if(o.exec(e))return t;return(i=o.exec(t))?i[1]:t}(this.$$path,e,i),this.$$compose()},this.$$compose=function(){var t=Q(this.$$search),e=this.$$hash?"#"+tt(this.$$hash):"";this.$$url=Vn(this.$$path)+(t?"?"+t:"")+e,this.$$absUrl=i+(this.$$url?r+this.$$url:"")},this.$$parseLinkUrl=function(t,e){return Kn(i)==Kn(t)&&(this.$$parse(t),!0)}}function Qn(o,r,a){this.$$html5=!0,Jn.apply(this,arguments),this.$$parseLinkUrl=function(t,e){return e&&"#"===e[0]?(this.hash(e.slice(1)),!0):(o==Kn(t)?n=t:(i=Yn(r,t))?n=o+a+i:r===t+"/"&&(n=r),n&&this.$$parse(n),!!n);var n,i},this.$$compose=function(){var t=Q(this.$$search),e=this.$$hash?"#"+tt(this.$$hash):"";this.$$url=Vn(this.$$path)+(t?"?"+t:"")+e,this.$$absUrl=o+a+this.$$url}}var ti={$$absUrl:"",$$html5:!1,$$replace:!1,absUrl:ei("$$absUrl"),url:function(t){if(ht(t))return this.$$url;var e=Un.exec(t);return(e[1]||""===t)&&this.path(decodeURIComponent(e[1])),(e[2]||e[1]||""===t)&&this.search(e[3]||""),this.hash(e[5]||""),this},protocol:ei("$$protocol"),host:ei("$$host"),port:ei("$$port"),path:ni("$$path",function(t){return"/"==(t=null!==t?t.toString():"").charAt(0)?t:"/"+t}),search:function(n,t){switch(arguments.length){case 0:return this.$$search;case 1:if(ft(n)||w(n))n=n.toString(),this.$$search=J(n);else{if(!dt(n))throw Hn("isrcharg","The first argument of the `$location#search()` call must be a string or an object.");ct(n=R(n,{}),function(t,e){null==t&&delete n[e]}),this.$$search=n}break;default:ht(t)||null===t?delete this.$$search[n]:this.$$search[n]=t}return this.$$compose(),this},hash:ni("$$hash",function(t){return null!==t?t.toString():""}),replace:function(){return this.$$replace=!0,this}};function ei(t){return function(){return this[t]}}function ni(e,n){return function(t){return ht(t)?this[e]:(this[e]=n(t),this.$$compose(),this)}}function ii(){var v="",y={enabled:!1,requireBase:!0,rewriteLinks:!0};this.hashPrefix=function(t){return H(t)?(v=t,this):v},this.html5Mode=function(t){return yt(t)?(y.enabled=t,this):dt(t)?(yt(t.enabled)&&(y.enabled=t.enabled),yt(t.requireBase)&&(y.requireBase=t.requireBase),yt(t.rewriteLinks)&&(y.rewriteLinks=t.rewriteLinks),this):y},this.$get=["$rootScope","$browser","$sniffer","$rootElement","$window",function(a,s,e,o,r){var l,t,n,i,u=s.baseHref(),c=s.url();if(y.enabled){if(!u&&y.requireBase)throw Hn("nobase","$location in HTML5 mode requires a <base> tag to be present!");n=(i=c).substring(0,i.indexOf("/",i.indexOf("//")+2))+(u||"/"),t=e.history?Xn:Qn}else n=Kn(c),t=Jn;var p,h=(p=n).substr(0,Kn(p).lastIndexOf("/")+1);(l=new t(n,h,"#"+v)).$$parseLinkUrl(c,c),l.$$state=s.state();var d=/^\s*(javascript|mailto):/i;function f(t,e,n){var i=l.url(),o=l.$$state;try{s.url(t,e,n),l.$$state=s.state()}catch(t){throw l.url(i),l.$$state=o,t}}o.on("click",function(t){if(y.rewriteLinks&&!t.ctrlKey&&!t.metaKey&&!t.shiftKey&&2!=t.which&&2!=t.button){for(var e=ut(t.target);"a"!==wt(e[0]);)if(e[0]===o[0]||!(e=e.parent())[0])return;var n=e.prop("href"),i=e.attr("href")||e.attr("xlink:href");dt(n)&&"[object SVGAnimatedString]"===n.toString()&&(n=Ji(n.animVal).href),d.test(n)||!n||e.attr("target")||t.isDefaultPrevented()||l.$$parseLinkUrl(n,i)&&(t.preventDefault(),l.absUrl()!=s.url()&&(a.$apply(),r.angular["ff-684208-preventDefault"]=!0))}}),Zn(l.absUrl())!=Zn(c)&&s.url(l.absUrl(),!0);var g=!0;return s.onUrlChange(function(i,o){ht(Yn(h,i))?r.location.href=i:(a.$evalAsync(function(){var t,e=l.absUrl(),n=l.$$state;i=Zn(i),l.$$parse(i),l.$$state=o,t=a.$broadcast("$locationChangeStart",i,e,o,n).defaultPrevented,l.absUrl()===i&&(t?(l.$$parse(e),f(e,!1,l.$$state=n)):(g=!1,m(e,n)))}),a.$$phase||a.$digest())}),a.$watch(function(){var n=Zn(s.url()),t=Zn(l.absUrl()),i=s.state(),o=l.$$replace,r=n!==t||l.$$html5&&e.history&&i!==l.$$state;(g||r)&&(g=!1,a.$evalAsync(function(){var t=l.absUrl(),e=a.$broadcast("$locationChangeStart",t,n,l.$$state,i).defaultPrevented;l.absUrl()===t&&(e?(l.$$parse(n),l.$$state=i):(r&&f(t,o,i===l.$$state?null:l.$$state),m(n,i)))})),l.$$replace=!1}),l;function m(t,e){a.$broadcast("$locationChangeSuccess",l.absUrl(),t,l.$$state,e)}}]}function oi(){var n=!0,i=this;this.debugEnabled=function(t){return H(t)?(n=t,this):n},this.$get=["$window",function(o){return{log:e("log"),info:e("info"),warn:e("warn"),error:e("error"),debug:(t=e("debug"),function(){n&&t.apply(i,arguments)})};var t;function e(t){var e=o.console||{},i=e[t]||e.log||U,n=!1;try{n=!!i.apply}catch(t){}return n?function(){var n=[];return ct(arguments,function(t){var e;n.push(((e=t)instanceof Error&&(e.stack?e=e.message&&-1===e.stack.indexOf(e.message)?"Error: "+e.message+"\n"+e.stack:e.stack:e.sourceURL&&(e=e.message+"\n"+e.sourceURL+":"+e.line)),e))}),i.apply(e,n)}:function(t,e){i(t,null==e?"":e)}}}]}ct([Qn,Jn,Xn],function(e){e.prototype=Object.create(ti),e.prototype.state=function(t){if(!arguments.length)return this.$$state;if(e!==Xn||!this.$$html5)throw Hn("nostate","History API state support is available only in HTML5 mode and only in browsers supporting HTML5 History API");return this.$$state=ht(t)?null:t,this}});var ri=x("$parse");function ai(t,e){if("__defineGetter__"===t||"__defineSetter__"===t||"__lookupGetter__"===t||"__lookupSetter__"===t||"__proto__"===t)throw ri("isecfld","Attempting to access a disallowed field in Angular expressions! Expression: {0}",e);return t}function si(t){return t+""}function li(t,e){if(t){if(t.constructor===t)throw ri("isecfn","Referencing Function in Angular expressions is disallowed! Expression: {0}",e);if(t.window===t)throw ri("isecwindow","Referencing the Window in Angular expressions is disallowed! Expression: {0}",e);if(t.children&&(t.nodeName||t.prop&&t.attr&&t.find))throw ri("isecdom","Referencing DOM nodes in Angular expressions is disallowed! Expression: {0}",e);if(t===Object)throw ri("isecobj","Referencing Object in Angular expressions is disallowed! Expression: {0}",e)}return t}var ui=Function.prototype.call,ci=Function.prototype.apply,pi=Function.prototype.bind;function hi(t,e){if(t){if(t.constructor===t)throw ri("isecfn","Referencing Function in Angular expressions is disallowed! Expression: {0}",e);if(t===ui||t===ci||t===pi)throw ri("isecff","Referencing call, apply or bind in Angular expressions is disallowed! Expression: {0}",e)}}function di(t,e){if(t&&(t===(0).constructor||t===(!1).constructor||t==="".constructor||t==={}.constructor||t===[].constructor||t===Function.constructor))throw ri("isecaf","Assigning to a constructor is disallowed! Expression: {0}",e)}var fi=Pt();ct("+ - * / % === !== == != < > <= >= && || ! = |".split(" "),function(t){fi[t]=!0});var gi={n:"\n",f:"\f",r:"\r",t:"\t",v:"\v","'":"'",'"':'"'},mi=function(t){this.options=t};mi.prototype={constructor:mi,lex:function(t){for(this.text=t,this.index=0,this.tokens=[];this.index<this.text.length;){var e=this.text.charAt(this.index);if('"'===e||"'"===e)this.readString(e);else if(this.isNumber(e)||"."===e&&this.isNumber(this.peek()))this.readNumber();else if(this.isIdentifierStart(this.peekMultichar()))this.readIdent();else if(this.is(e,"(){}[].,;:?"))this.tokens.push({index:this.index,text:e}),this.index++;else if(this.isWhitespace(e))this.index++;else{var n=e+this.peek(),i=n+this.peek(2),o=fi[e],r=fi[n],a=fi[i];if(o||r||a){var s=a?i:r?n:e;this.tokens.push({index:this.index,text:s,operator:!0}),this.index+=s.length}else this.throwError("Unexpected next character ",this.index,this.index+1)}}return this.tokens},is:function(t,e){return-1!==e.indexOf(t)},peek:function(t){var e=t||1;return this.index+e<this.text.length&&this.text.charAt(this.index+e)},isNumber:function(t){return"0"<=t&&t<="9"&&"string"==typeof t},isWhitespace:function(t){return" "===t||"\r"===t||"\t"===t||"\n"===t||"\v"===t||""===t},isIdentifierStart:function(t){return this.options.isIdentifierStart?this.options.isIdentifierStart(t,this.codePointAt(t)):this.isValidIdentifierStart(t)},isValidIdentifierStart:function(t){return"a"<=t&&t<="z"||"A"<=t&&t<="Z"||"_"===t||"$"===t},isIdentifierContinue:function(t){return this.options.isIdentifierContinue?this.options.isIdentifierContinue(t,this.codePointAt(t)):this.isValidIdentifierContinue(t)},isValidIdentifierContinue:function(t,e){return this.isValidIdentifierStart(t,e)||this.isNumber(t)},codePointAt:function(t){return 1===t.length?t.charCodeAt(0):(t.charCodeAt(0)<<10)+t.charCodeAt(1)-56613888},peekMultichar:function(){var t=this.text.charAt(this.index),e=this.peek();if(!e)return t;var n=t.charCodeAt(0),i=e.charCodeAt(0);return 55296<=n&&n<=56319&&56320<=i&&i<=57343?t+e:t},isExpOperator:function(t){return"-"===t||"+"===t||this.isNumber(t)},throwError:function(t,e,n){n=n||this.index;var i=H(e)?"s "+e+"-"+this.index+" ["+this.text.substring(e,n)+"]":" "+n;throw ri("lexerr","Lexer Error: {0} at column{1} in expression [{2}].",t,i,this.text)},readNumber:function(){for(var t="",e=this.index;this.index<this.text.length;){var n=$(this.text.charAt(this.index));if("."==n||this.isNumber(n))t+=n;else{var i=this.peek();if("e"==n&&this.isExpOperator(i))t+=n;else if(this.isExpOperator(n)&&i&&this.isNumber(i)&&"e"==t.charAt(t.length-1))t+=n;else{if(!this.isExpOperator(n)||i&&this.isNumber(i)||"e"!=t.charAt(t.length-1))break;this.throwError("Invalid exponent")}}this.index++}this.tokens.push({index:e,text:t,constant:!0,value:Number(t)})},readIdent:function(){var t=this.index;for(this.index+=this.peekMultichar().length;this.index<this.text.length;){var e=this.peekMultichar();if(!this.isIdentifierContinue(e))break;this.index+=e.length}this.tokens.push({index:t,text:this.text.slice(t,this.index),identifier:!0})},readString:function(t){var e=this.index;this.index++;for(var n="",i=t,o=!1;this.index<this.text.length;){var r=this.text.charAt(this.index);if(i+=r,o){if("u"===r){var a=this.text.substring(this.index+1,this.index+5);a.match(/[\da-f]{4}/i)||this.throwError("Invalid unicode escape [\\u"+a+"]"),this.index+=4,n+=String.fromCharCode(parseInt(a,16))}else{n+=gi[r]||r}o=!1}else if("\\"===r)o=!0;else{if(r===t)return this.index++,void this.tokens.push({index:e,text:i,constant:!0,value:n});n+=r}this.index++}this.throwError("Unterminated quote",e)}};var vi=function(t,e){this.lexer=t,this.options=e};function yi(t,e){return void 0!==t?t:e}function bi(t,e){return void 0===t?e:void 0===e?t:t+e}function wi(t,e){return!t(e).$stateful}function xi(t,e){var n,i;switch(t.type){case vi.Program:n=!0,ct(t.body,function(t){xi(t.expression,e),n=n&&t.expression.constant}),t.constant=n;break;case vi.Literal:t.constant=!0,t.toWatch=[];break;case vi.UnaryExpression:xi(t.argument,e),t.constant=t.argument.constant,t.toWatch=t.argument.toWatch;break;case vi.BinaryExpression:xi(t.left,e),xi(t.right,e),t.constant=t.left.constant&&t.right.constant,t.toWatch=t.left.toWatch.concat(t.right.toWatch);break;case vi.LogicalExpression:xi(t.left,e),xi(t.right,e),t.constant=t.left.constant&&t.right.constant,t.toWatch=t.constant?[]:[t];break;case vi.ConditionalExpression:xi(t.test,e),xi(t.alternate,e),xi(t.consequent,e),t.constant=t.test.constant&&t.alternate.constant&&t.consequent.constant,t.toWatch=t.constant?[]:[t];break;case vi.Identifier:t.constant=!1,t.toWatch=[t];break;case vi.MemberExpression:xi(t.object,e),t.computed&&xi(t.property,e),t.constant=t.object.constant&&(!t.computed||t.property.constant),t.toWatch=[t];break;case vi.CallExpression:n=!!t.filter&&wi(e,t.callee.name),i=[],ct(t.arguments,function(t){xi(t,e),n=n&&t.constant,t.constant||i.push.apply(i,t.toWatch)}),t.constant=n,t.toWatch=t.filter&&wi(e,t.callee.name)?i:[t];break;case vi.AssignmentExpression:xi(t.left,e),xi(t.right,e),t.constant=t.left.constant&&t.right.constant,t.toWatch=[t];break;case vi.ArrayExpression:n=!0,i=[],ct(t.elements,function(t){xi(t,e),n=n&&t.constant,t.constant||i.push.apply(i,t.toWatch)}),t.constant=n,t.toWatch=i;break;case vi.ObjectExpression:n=!0,i=[],ct(t.properties,function(t){xi(t.value,e),n=n&&t.value.constant&&!t.computed,t.value.constant||i.push.apply(i,t.value.toWatch)}),t.constant=n,t.toWatch=i;break;case vi.ThisExpression:case vi.LocalsExpression:t.constant=!1,t.toWatch=[]}}function $i(t){if(1==t.length){var e=t[0].expression,n=e.toWatch;return 1!==n.length?n:n[0]!==e?n:void 0}}function _i(t){return t.type===vi.Identifier||t.type===vi.MemberExpression}function ki(t){if(1===t.body.length&&_i(t.body[0].expression))return{type:vi.AssignmentExpression,left:t.body[0].expression,right:{type:vi.NGValueParameter},operator:"="}}function Ci(t){return 0===t.body.length||1===t.body.length&&(t.body[0].expression.type===vi.Literal||t.body[0].expression.type===vi.ArrayExpression||t.body[0].expression.type===vi.ObjectExpression)}function Si(t){return t.constant}function Ti(t,e){this.astBuilder=t,this.$filter=e}function Ai(t,e){this.astBuilder=t,this.$filter=e}vi.Program="Program",vi.ExpressionStatement="ExpressionStatement",vi.AssignmentExpression="AssignmentExpression",vi.ConditionalExpression="ConditionalExpression",vi.LogicalExpression="LogicalExpression",vi.BinaryExpression="BinaryExpression",vi.UnaryExpression="UnaryExpression",vi.CallExpression="CallExpression",vi.MemberExpression="MemberExpression",vi.Identifier="Identifier",vi.Literal="Literal",vi.ArrayExpression="ArrayExpression",vi.Property="Property",vi.ObjectExpression="ObjectExpression",vi.ThisExpression="ThisExpression",vi.LocalsExpression="LocalsExpression",vi.NGValueParameter="NGValueParameter",vi.prototype={ast:function(t){this.text=t,this.tokens=this.lexer.lex(t);var e=this.program();return 0!==this.tokens.length&&this.throwError("is an unexpected token",this.tokens[0]),e},program:function(){for(var t=[];;)if(0<this.tokens.length&&!this.peek("}",")",";","]")&&t.push(this.expressionStatement()),!this.expect(";"))return{type:vi.Program,body:t}},expressionStatement:function(){return{type:vi.ExpressionStatement,expression:this.filterChain()}},filterChain:function(){for(var t=this.expression();this.expect("|");)t=this.filter(t);return t},expression:function(){return this.assignment()},assignment:function(){var t=this.ternary();return this.expect("=")&&(t={type:vi.AssignmentExpression,left:t,right:this.assignment(),operator:"="}),t},ternary:function(){var t,e,n=this.logicalOR();return this.expect("?")&&(t=this.expression(),this.consume(":"))?(e=this.expression(),{type:vi.ConditionalExpression,test:n,alternate:t,consequent:e}):n},logicalOR:function(){for(var t=this.logicalAND();this.expect("||");)t={type:vi.LogicalExpression,operator:"||",left:t,right:this.logicalAND()};return t},logicalAND:function(){for(var t=this.equality();this.expect("&&");)t={type:vi.LogicalExpression,operator:"&&",left:t,right:this.equality()};return t},equality:function(){for(var t,e=this.relational();t=this.expect("==","!=","===","!==");)e={type:vi.BinaryExpression,operator:t.text,left:e,right:this.relational()};return e},relational:function(){for(var t,e=this.additive();t=this.expect("<",">","<=",">=");)e={type:vi.BinaryExpression,operator:t.text,left:e,right:this.additive()};return e},additive:function(){for(var t,e=this.multiplicative();t=this.expect("+","-");)e={type:vi.BinaryExpression,operator:t.text,left:e,right:this.multiplicative()};return e},multiplicative:function(){for(var t,e=this.unary();t=this.expect("*","/","%");)e={type:vi.BinaryExpression,operator:t.text,left:e,right:this.unary()};return e},unary:function(){var t;return(t=this.expect("+","-","!"))?{type:vi.UnaryExpression,operator:t.text,prefix:!0,argument:this.unary()}:this.primary()},primary:function(){var t,e;for(this.expect("(")?(t=this.filterChain(),this.consume(")")):this.expect("[")?t=this.arrayDeclaration():this.expect("{")?t=this.object():this.selfReferential.hasOwnProperty(this.peek().text)?t=R(this.selfReferential[this.consume().text]):this.options.literals.hasOwnProperty(this.peek().text)?t={type:vi.Literal,value:this.options.literals[this.consume().text]}:this.peek().identifier?t=this.identifier():this.peek().constant?t=this.constant():this.throwError("not a primary expression",this.peek());e=this.expect("(","[",".");)"("===e.text?(t={type:vi.CallExpression,callee:t,arguments:this.parseArguments()},this.consume(")")):"["===e.text?(t={type:vi.MemberExpression,object:t,property:this.expression(),computed:!0},this.consume("]")):"."===e.text?t={type:vi.MemberExpression,object:t,property:this.identifier(),computed:!1}:this.throwError("IMPOSSIBLE");return t},filter:function(t){for(var e=[t],n={type:vi.CallExpression,callee:this.identifier(),arguments:e,filter:!0};this.expect(":");)e.push(this.expression());return n},parseArguments:function(){var t=[];if(")"!==this.peekToken().text)for(;t.push(this.filterChain()),this.expect(","););return t},identifier:function(){var t=this.consume();return t.identifier||this.throwError("is not a valid identifier",t),{type:vi.Identifier,name:t.text}},constant:function(){return{type:vi.Literal,value:this.consume().value}},arrayDeclaration:function(){var t=[];if("]"!==this.peekToken().text)do{if(this.peek("]"))break;t.push(this.expression())}while(this.expect(","));return this.consume("]"),{type:vi.ArrayExpression,elements:t}},object:function(){var t,e=[];if("}"!==this.peekToken().text)do{if(this.peek("}"))break;t={type:vi.Property,kind:"init"},this.peek().constant?(t.key=this.constant(),t.computed=!1,this.consume(":"),t.value=this.expression()):this.peek().identifier?(t.key=this.identifier(),t.computed=!1,this.peek(":")?(this.consume(":"),t.value=this.expression()):t.value=t.key):this.peek("[")?(this.consume("["),t.key=this.expression(),this.consume("]"),t.computed=!0,this.consume(":"),t.value=this.expression()):this.throwError("invalid key",this.peek()),e.push(t)}while(this.expect(","));return this.consume("}"),{type:vi.ObjectExpression,properties:e}},throwError:function(t,e){throw ri("syntax","Syntax Error: Token '{0}' {1} at column {2} of the expression [{3}] starting at [{4}].",e.text,t,e.index+1,this.text,this.text.substring(e.index))},consume:function(t){if(0===this.tokens.length)throw ri("ueoe","Unexpected end of expression: {0}",this.text);var e=this.expect(t);return e||this.throwError("is unexpected, expecting ["+t+"]",this.peek()),e},peekToken:function(){if(0===this.tokens.length)throw ri("ueoe","Unexpected end of expression: {0}",this.text);return this.tokens[0]},peek:function(t,e,n,i){return this.peekAhead(0,t,e,n,i)},peekAhead:function(t,e,n,i,o){if(this.tokens.length>t){var r=this.tokens[t],a=r.text;if(a===e||a===n||a===i||a===o||!e&&!n&&!i&&!o)return r}return!1},expect:function(t,e,n,i){var o=this.peek(t,e,n,i);return!!o&&(this.tokens.shift(),o)},selfReferential:{this:{type:vi.ThisExpression},$locals:{type:vi.LocalsExpression}}},Ti.prototype={compile:function(t,e){var o=this,n=this.astBuilder.ast(t);this.state={nextId:0,filters:{},expensiveChecks:e,fn:{vars:[],body:[],own:{}},assign:{vars:[],body:[],own:{}},inputs:[]},xi(n,o.$filter);var i,r="";if(this.stage="assign",i=ki(n)){this.state.computing="assign";var a=this.nextId();this.recurse(i,a),this.return_(a),r="fn.assign="+this.generateFunction("assign","s,v,l")}var s=$i(n.body);o.stage="inputs",ct(s,function(t,e){var n="fn"+e;o.state[n]={vars:[],body:[],own:{}},o.state.computing=n;var i=o.nextId();o.recurse(t,i),o.return_(i),o.state.inputs.push(n),t.watchId=e}),this.state.computing="fn",this.stage="main",this.recurse(n);var l='"'+this.USE+" "+this.STRICT+'";\n'+this.filterPrefix()+"var fn="+this.generateFunction("fn","s,l,a,i")+r+this.watchFns()+"return fn;",u=new Function("$filter","ensureSafeMemberName","ensureSafeObject","ensureSafeFunction","getStringValue","ensureSafeAssignContext","ifDefined","plus","text",l)(this.$filter,ai,li,hi,si,di,yi,bi,t);return this.state=this.stage=void 0,u.literal=Ci(n),u.constant=Si(n),u},USE:"use",STRICT:"strict",watchFns:function(){var e=[],t=this.state.inputs,n=this;return ct(t,function(t){e.push("var "+t+"="+n.generateFunction(t,"s"))}),t.length&&e.push("fn.inputs=["+t.join(",")+"];"),e.join("")},generateFunction:function(t,e){return"function("+e+"){"+this.varsPrefix(t)+this.body(t)+"};"},filterPrefix:function(){var n=[],i=this;return ct(this.state.filters,function(t,e){n.push(t+"=$filter("+i.escape(e)+")")}),n.length?"var "+n.join(",")+";":""},varsPrefix:function(t){return this.state[t].vars.length?"var "+this.state[t].vars.join(",")+";":""},body:function(t){return this.state[t].body.join("")},recurse:function(n,e,t,i,o,r){var a,s,l,u,c,p=this;if(i=i||U,!r&&H(n.watchId))return e=e||this.nextId(),void this.if_("i",this.lazyAssign(e,this.computedMember("i",n.watchId)),this.lazyRecurse(n,e,t,i,o,!0));switch(n.type){case vi.Program:ct(n.body,function(t,e){p.recurse(t.expression,void 0,void 0,function(t){s=t}),e!==n.body.length-1?p.current().body.push(s,";"):p.return_(s)});break;case vi.Literal:u=this.escape(n.value),this.assign(e,u),i(u);break;case vi.UnaryExpression:this.recurse(n.argument,void 0,void 0,function(t){s=t}),u=n.operator+"("+this.ifDefined(s,0)+")",this.assign(e,u),i(u);break;case vi.BinaryExpression:this.recurse(n.left,void 0,void 0,function(t){a=t}),this.recurse(n.right,void 0,void 0,function(t){s=t}),u="+"===n.operator?this.plus(a,s):"-"===n.operator?this.ifDefined(a,0)+n.operator+this.ifDefined(s,0):"("+a+")"+n.operator+"("+s+")",this.assign(e,u),i(u);break;case vi.LogicalExpression:e=e||this.nextId(),p.recurse(n.left,e),p.if_("&&"===n.operator?e:p.not(e),p.lazyRecurse(n.right,e)),i(e);break;case vi.ConditionalExpression:e=e||this.nextId(),p.recurse(n.test,e),p.if_(e,p.lazyRecurse(n.alternate,e),p.lazyRecurse(n.consequent,e)),i(e);break;case vi.Identifier:e=e||this.nextId(),t&&(t.context="inputs"===p.stage?"s":this.assign(this.nextId(),this.getHasOwnProperty("l",n.name)+"?l:s"),t.computed=!1,t.name=n.name),ai(n.name),p.if_("inputs"===p.stage||p.not(p.getHasOwnProperty("l",n.name)),function(){p.if_("inputs"===p.stage||"s",function(){o&&1!==o&&p.if_(p.not(p.nonComputedMember("s",n.name)),p.lazyAssign(p.nonComputedMember("s",n.name),"{}")),p.assign(e,p.nonComputedMember("s",n.name))})},e&&p.lazyAssign(e,p.nonComputedMember("l",n.name))),(p.state.expensiveChecks||Mi(n.name))&&p.addEnsureSafeObject(e),i(e);break;case vi.MemberExpression:a=t&&(t.context=this.nextId())||this.nextId(),e=e||this.nextId(),p.recurse(n.object,a,void 0,function(){p.if_(p.notNull(a),function(){o&&1!==o&&p.addEnsureSafeAssignContext(a),n.computed?(s=p.nextId(),p.recurse(n.property,s),p.getStringValue(s),p.addEnsureSafeMemberName(s),o&&1!==o&&p.if_(p.not(p.computedMember(a,s)),p.lazyAssign(p.computedMember(a,s),"{}")),u=p.ensureSafeObject(p.computedMember(a,s)),p.assign(e,u),t&&(t.computed=!0,t.name=s)):(ai(n.property.name),o&&1!==o&&p.if_(p.not(p.nonComputedMember(a,n.property.name)),p.lazyAssign(p.nonComputedMember(a,n.property.name),"{}")),u=p.nonComputedMember(a,n.property.name),(p.state.expensiveChecks||Mi(n.property.name))&&(u=p.ensureSafeObject(u)),p.assign(e,u),t&&(t.computed=!1,t.name=n.property.name))},function(){p.assign(e,"undefined")}),i(e)},!!o);break;case vi.CallExpression:e=e||this.nextId(),n.filter?(s=p.filter(n.callee.name),l=[],ct(n.arguments,function(t){var e=p.nextId();p.recurse(t,e),l.push(e)}),u=s+"("+l.join(",")+")",p.assign(e,u),i(e)):(s=p.nextId(),a={},l=[],p.recurse(n.callee,s,a,function(){p.if_(p.notNull(s),function(){p.addEnsureSafeFunction(s),ct(n.arguments,function(t){p.recurse(t,p.nextId(),void 0,function(t){l.push(p.ensureSafeObject(t))})}),u=a.name?(p.state.expensiveChecks||p.addEnsureSafeObject(a.context),p.member(a.context,a.name,a.computed)+"("+l.join(",")+")"):s+"("+l.join(",")+")",u=p.ensureSafeObject(u),p.assign(e,u)},function(){p.assign(e,"undefined")}),i(e)}));break;case vi.AssignmentExpression:if(s=this.nextId(),a={},!_i(n.left))throw ri("lval","Trying to assign a value to a non l-value");this.recurse(n.left,void 0,a,function(){p.if_(p.notNull(a.context),function(){p.recurse(n.right,s),p.addEnsureSafeObject(p.member(a.context,a.name,a.computed)),p.addEnsureSafeAssignContext(a.context),u=p.member(a.context,a.name,a.computed)+n.operator+s,p.assign(e,u),i(e||u)})},1);break;case vi.ArrayExpression:l=[],ct(n.elements,function(t){p.recurse(t,p.nextId(),void 0,function(t){l.push(t)})}),u="["+l.join(",")+"]",this.assign(e,u),i(u);break;case vi.ObjectExpression:c=!(l=[]),ct(n.properties,function(t){t.computed&&(c=!0)}),c?(e=e||this.nextId(),this.assign(e,"{}"),ct(n.properties,function(t){t.computed?(a=p.nextId(),p.recurse(t.key,a)):a=t.key.type===vi.Identifier?t.key.name:""+t.key.value,s=p.nextId(),p.recurse(t.value,s),p.assign(p.member(e,a,t.computed),s)})):(ct(n.properties,function(e){p.recurse(e.value,n.constant?void 0:p.nextId(),void 0,function(t){l.push(p.escape(e.key.type===vi.Identifier?e.key.name:""+e.key.value)+":"+t)})}),u="{"+l.join(",")+"}",this.assign(e,u)),i(e||u);break;case vi.ThisExpression:this.assign(e,"s"),i("s");break;case vi.LocalsExpression:this.assign(e,"l"),i("l");break;case vi.NGValueParameter:this.assign(e,"v"),i("v")}},getHasOwnProperty:function(t,e){var n=t+"."+e,i=this.current().own;return i.hasOwnProperty(n)||(i[n]=this.nextId(!1,t+"&&("+this.escape(e)+" in "+t+")")),i[n]},assign:function(t,e){if(t)return this.current().body.push(t,"=",e,";"),t},filter:function(t){return this.state.filters.hasOwnProperty(t)||(this.state.filters[t]=this.nextId(!0)),this.state.filters[t]},ifDefined:function(t,e){return"ifDefined("+t+","+this.escape(e)+")"},plus:function(t,e){return"plus("+t+","+e+")"},return_:function(t){this.current().body.push("return ",t,";")},if_:function(t,e,n){if(!0===t)e();else{var i=this.current().body;i.push("if(",t,"){"),e(),i.push("}"),n&&(i.push("else{"),n(),i.push("}"))}},not:function(t){return"!("+t+")"},notNull:function(t){return t+"!=null"},nonComputedMember:function(t,e){return/[$_a-zA-Z][$_a-zA-Z0-9]*/.test(e)?t+"."+e:t+'["'+e.replace(/[^$_a-zA-Z0-9]/g,this.stringEscapeFn)+'"]'},computedMember:function(t,e){return t+"["+e+"]"},member:function(t,e,n){return n?this.computedMember(t,e):this.nonComputedMember(t,e)},addEnsureSafeObject:function(t){this.current().body.push(this.ensureSafeObject(t),";")},addEnsureSafeMemberName:function(t){this.current().body.push(this.ensureSafeMemberName(t),";")},addEnsureSafeFunction:function(t){this.current().body.push(this.ensureSafeFunction(t),";")},addEnsureSafeAssignContext:function(t){this.current().body.push(this.ensureSafeAssignContext(t),";")},ensureSafeObject:function(t){return"ensureSafeObject("+t+",text)"},ensureSafeMemberName:function(t){return"ensureSafeMemberName("+t+",text)"},ensureSafeFunction:function(t){return"ensureSafeFunction("+t+",text)"},getStringValue:function(t){this.assign(t,"getStringValue("+t+")")},ensureSafeAssignContext:function(t){return"ensureSafeAssignContext("+t+",text)"},lazyRecurse:function(t,e,n,i,o,r){var a=this;return function(){a.recurse(t,e,n,i,o,r)}},lazyAssign:function(t,e){var n=this;return function(){n.assign(t,e)}},stringEscapeRegex:/[^ a-zA-Z0-9]/g,stringEscapeFn:function(t){return"\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4)},escape:function(t){if(ft(t))return"'"+t.replace(this.stringEscapeRegex,this.stringEscapeFn)+"'";if(w(t))return t.toString();if(!0===t)return"true";if(!1===t)return"false";if(null===t)return"null";if(void 0===t)return"undefined";throw ri("esc","IMPOSSIBLE")},nextId:function(t,e){var n="v"+this.state.nextId++;return t||this.current().vars.push(n+(e?"="+e:"")),n},current:function(){return this.state[this.state.computing]}},Ai.prototype={compile:function(t,e){var n,i,o=this,r=this.astBuilder.ast(t);this.expression=t,this.expensiveChecks=e,xi(r,o.$filter),(n=ki(r))&&(i=this.recurse(n));var a,s=$i(r.body);s&&(a=[],ct(s,function(t,e){var n=o.recurse(t);t.input=n,a.push(n),t.watchId=e}));var l=[];ct(r.body,function(t){l.push(o.recurse(t.expression))});var u=0===r.body.length?U:1===r.body.length?l[0]:function(e,n){var i;return ct(l,function(t){i=t(e,n)}),i};return i&&(u.assign=function(t,e,n){return i(t,n,e)}),a&&(u.inputs=a),u.literal=Ci(r),u.constant=Si(r),u},recurse:function(t,l,e){var a,u,c,p=this;if(t.input)return this.inputs(t.input,t.watchId);switch(t.type){case vi.Literal:return this.value(t.value,l);case vi.UnaryExpression:return u=this.recurse(t.argument),this["unary"+t.operator](u,l);case vi.BinaryExpression:case vi.LogicalExpression:return a=this.recurse(t.left),u=this.recurse(t.right),this["binary"+t.operator](a,u,l);case vi.ConditionalExpression:return this["ternary?:"](this.recurse(t.test),this.recurse(t.alternate),this.recurse(t.consequent),l);case vi.Identifier:return ai(t.name,p.expression),p.identifier(t.name,p.expensiveChecks||Mi(t.name),l,e,p.expression);case vi.MemberExpression:return a=this.recurse(t.object,!1,!!e),t.computed||(ai(t.property.name,p.expression),u=t.property.name),t.computed&&(u=this.recurse(t.property)),t.computed?this.computedMember(a,u,l,e,p.expression):this.nonComputedMember(a,u,p.expensiveChecks,l,e,p.expression);case vi.CallExpression:return c=[],ct(t.arguments,function(t){c.push(p.recurse(t))}),t.filter&&(u=this.$filter(t.callee.name)),t.filter||(u=this.recurse(t.callee,!0)),t.filter?function(t,e,n,i){for(var o=[],r=0;r<c.length;++r)o.push(c[r](t,e,n,i));var a=u.apply(void 0,o,i);return l?{context:void 0,name:void 0,value:a}:a}:function(t,e,n,i){var o,r=u(t,e,n,i);if(null!=r.value){li(r.context,p.expression),hi(r.value,p.expression);for(var a=[],s=0;s<c.length;++s)a.push(li(c[s](t,e,n,i),p.expression));o=li(r.value.apply(r.context,a),p.expression)}return l?{value:o}:o};case vi.AssignmentExpression:return a=this.recurse(t.left,!0,1),u=this.recurse(t.right),function(t,e,n,i){var o=a(t,e,n,i),r=u(t,e,n,i);return li(o.value,p.expression),di(o.context),o.context[o.name]=r,l?{value:r}:r};case vi.ArrayExpression:return c=[],ct(t.elements,function(t){c.push(p.recurse(t))}),function(t,e,n,i){for(var o=[],r=0;r<c.length;++r)o.push(c[r](t,e,n,i));return l?{value:o}:o};case vi.ObjectExpression:return c=[],ct(t.properties,function(t){t.computed?c.push({key:p.recurse(t.key),computed:!0,value:p.recurse(t.value)}):c.push({key:t.key.type===vi.Identifier?t.key.name:""+t.key.value,computed:!1,value:p.recurse(t.value)})}),function(t,e,n,i){for(var o={},r=0;r<c.length;++r)c[r].computed?o[c[r].key(t,e,n,i)]=c[r].value(t,e,n,i):o[c[r].key]=c[r].value(t,e,n,i);return l?{value:o}:o};case vi.ThisExpression:return function(t){return l?{value:t}:t};case vi.LocalsExpression:return function(t,e){return l?{value:e}:e};case vi.NGValueParameter:return function(t,e,n){return l?{value:n}:n}}},"unary+":function(r,a){return function(t,e,n,i){var o=r(t,e,n,i);return o=H(o)?+o:0,a?{value:o}:o}},"unary-":function(r,a){return function(t,e,n,i){var o=r(t,e,n,i);return o=H(o)?-o:0,a?{value:o}:o}},"unary!":function(r,a){return function(t,e,n,i){var o=!r(t,e,n,i);return a?{value:o}:o}},"binary+":function(r,a,s){return function(t,e,n,i){var o=bi(r(t,e,n,i),a(t,e,n,i));return s?{value:o}:o}},"binary-":function(s,l,u){return function(t,e,n,i){var o=s(t,e,n,i),r=l(t,e,n,i),a=(H(o)?o:0)-(H(r)?r:0);return u?{value:a}:a}},"binary*":function(r,a,s){return function(t,e,n,i){var o=r(t,e,n,i)*a(t,e,n,i);return s?{value:o}:o}},"binary/":function(r,a,s){return function(t,e,n,i){var o=r(t,e,n,i)/a(t,e,n,i);return s?{value:o}:o}},"binary%":function(r,a,s){return function(t,e,n,i){var o=r(t,e,n,i)%a(t,e,n,i);return s?{value:o}:o}},"binary===":function(r,a,s){return function(t,e,n,i){var o=r(t,e,n,i)===a(t,e,n,i);return s?{value:o}:o}},"binary!==":function(r,a,s){return function(t,e,n,i){var o=r(t,e,n,i)!==a(t,e,n,i);return s?{value:o}:o}},"binary==":function(r,a,s){return function(t,e,n,i){var o=r(t,e,n,i)==a(t,e,n,i);return s?{value:o}:o}},"binary!=":function(r,a,s){return function(t,e,n,i){var o=r(t,e,n,i)!=a(t,e,n,i);return s?{value:o}:o}},"binary<":function(r,a,s){return function(t,e,n,i){var o=r(t,e,n,i)<a(t,e,n,i);return s?{value:o}:o}},"binary>":function(r,a,s){return function(t,e,n,i){var o=r(t,e,n,i)>a(t,e,n,i);return s?{value:o}:o}},"binary<=":function(r,a,s){return function(t,e,n,i){var o=r(t,e,n,i)<=a(t,e,n,i);return s?{value:o}:o}},"binary>=":function(r,a,s){return function(t,e,n,i){var o=r(t,e,n,i)>=a(t,e,n,i);return s?{value:o}:o}},"binary&&":function(r,a,s){return function(t,e,n,i){var o=r(t,e,n,i)&&a(t,e,n,i);return s?{value:o}:o}},"binary||":function(r,a,s){return function(t,e,n,i){var o=r(t,e,n,i)||a(t,e,n,i);return s?{value:o}:o}},"ternary?:":function(r,a,s,l){return function(t,e,n,i){var o=r(t,e,n,i)?a(t,e,n,i):s(t,e,n,i);return l?{value:o}:o}},value:function(t,e){return function(){return e?{context:void 0,name:void 0,value:t}:t}},identifier:function(a,s,l,u,c){return function(t,e,n,i){var o=e&&a in e?e:t;u&&1!==u&&o&&!o[a]&&(o[a]={});var r=o?o[a]:void 0;return s&&li(r,c),l?{context:o,name:a,value:r}:r}},computedMember:function(s,l,u,c,p){return function(t,e,n,i){var o,r,a=s(t,e,n,i);return null!=a&&(ai(o=si(o=l(t,e,n,i)),p),c&&1!==c&&(di(a),a&&!a[o]&&(a[o]={})),li(r=a[o],p)),u?{context:a,name:o,value:r}:r}},nonComputedMember:function(a,s,l,u,c,p){return function(t,e,n,i){var o=a(t,e,n,i);c&&1!==c&&(di(o),o&&!o[s]&&(o[s]={}));var r=null!=o?o[s]:void 0;return(l||Mi(s))&&li(r,p),u?{context:o,name:s,value:r}:r}},inputs:function(o,r){return function(t,e,n,i){return i?i[r]:o(t,e,n)}}};var Di=function(t,e,n){this.lexer=t,this.$filter=e,this.options=n,this.ast=new vi(t,n),this.astCompiler=n.csp?new Ai(this.ast,e):new Ti(this.ast,e)};function Mi(t){return"constructor"==t}Di.prototype={constructor:Di,parse:function(t){return this.astCompiler.compile(t,this.options.expensiveChecks)}};var Ei=Object.prototype.valueOf;function Pi(t){return mt(t.valueOf)?t.valueOf():Ei.call(t)}function Oi(){var n,i,b=Pt(),w=Pt(),o={true:!0,false:!1,null:null,undefined:void 0};this.addLiteral=function(t,e){o[t]=e},this.setIdentifierFns=function(t,e){return n=t,i=e,this},this.$get=["$filter",function(u){var t=L().noUnsafeEval,c={csp:t,expensiveChecks:!1,literals:R(o),isIdentifierStart:mt(n)&&n,isIdentifierContinue:mt(i)&&i},p={csp:t,expensiveChecks:!0,literals:R(o),isIdentifierStart:mt(n)&&n,isIdentifierContinue:mt(i)&&i},h=!1;return e.$$runningExpensiveChecks=function(){return h},e;function e(t,e,n){var i,o,r;switch(n=n||h,typeof t){case"string":t=t.trim();var a=n?w:b;if(!(i=a[r=t])){":"===t.charAt(0)&&":"===t.charAt(1)&&(o=!0,t=t.substring(2));var s=n?p:c,l=new mi(s);(i=new Di(l,u,s).parse(t)).constant?i.$$watchDelegate=v:o?i.$$watchDelegate=i.literal?m:g:i.inputs&&(i.$$watchDelegate=f),n&&(i=function t(r){if(!r)return r;n.$$watchDelegate=r.$$watchDelegate;n.assign=t(r.assign);n.constant=r.constant;n.literal=r.literal;for(var e=0;r.inputs&&e<r.inputs.length;++e)r.inputs[e]=t(r.inputs[e]);n.inputs=r.inputs;return n;function n(t,e,n,i){var o=h;h=!0;try{return r(t,e,n,i)}finally{h=o}}}(i)),a[r]=i}return y(i,e);case"function":return y(t,e);default:return y(U,e)}}function d(t,e){return null==t||null==e?t===e:("object"!=typeof t||"object"!=typeof(t=Pi(t)))&&(t===e||t!=t&&e!=e)}function f(t,e,n,r,i){var a,s=r.inputs;if(1===s.length){var o=d;return s=s[0],t.$watch(function(t){var e=s(t);return d(e,o)||(a=r(t,void 0,void 0,[e]),o=e&&Pi(e)),a},e,n,i)}for(var l=[],u=[],c=0,p=s.length;c<p;c++)l[c]=d,u[c]=null;return t.$watch(function(t){for(var e=!1,n=0,i=s.length;n<i;n++){var o=s[n](t);(e||(e=!d(o,l[n])))&&(u[n]=o,l[n]=o&&Pi(o))}return e&&(a=r(t,void 0,void 0,u)),a},e,n,i)}function g(t,i,e,n){var o,r;return o=t.$watch(function(t){return n(t)},function(t,e,n){r=t,mt(i)&&i.apply(this,arguments),H(t)&&n.$$postDigest(function(){H(r)&&o()})},e)}function m(t,i,e,n){var o,r;return o=t.$watch(function(t){return n(t)},function(t,e,n){r=t,mt(i)&&i.call(this,t,e,n),a(t)&&n.$$postDigest(function(){a(r)&&o()})},e);function a(t){var e=!0;return ct(t,function(t){H(t)||(e=!1)}),e}}function v(t,e,n,i){var o;return o=t.$watch(function(t){return o(),i(t)},e,n)}function y(a,s){if(!s)return a;var t=a.$$watchDelegate,r=!1,e=t!==m&&t!==g?function(t,e,n,i){var o=r&&i?i[0]:a(t,e,n,i);return s(o,t,e)}:function(t,e,n,i){var o=a(t,e,n,i),r=s(o,t,e);return H(o)?r:o};return a.$$watchDelegate&&a.$$watchDelegate!==f?e.$$watchDelegate=a.$$watchDelegate:s.$stateful||(e.$$watchDelegate=f,r=!a.inputs,e.inputs=a.inputs?a.inputs:[a]),e}}]}function Ii(){this.$get=["$rootScope","$exceptionHandler",function(e,t){return Li(function(t){e.$evalAsync(t)},t)}]}function Ri(){this.$get=["$browser","$exceptionHandler",function(e,t){return Li(function(t){e.defer(t)},t)}]}function Li(e,a){var n=x("$q",TypeError),i=function(){var t=new l;return t.resolve=r(t,t.resolve),t.reject=r(t,t.reject),t.notify=r(t,t.notify),t};function t(){this.$$state={status:0}}function r(e,n){return function(t){n.call(e,t)}}function s(t){!t.processScheduled&&t.pending&&(t.processScheduled=!0,e(function(){!function(t){var e,n,i;i=t.pending,t.processScheduled=!1,t.pending=void 0;for(var o=0,r=i.length;o<r;++o){n=i[o][0],e=i[o][t.status];try{mt(e)?n.resolve(e(t.value)):1===t.status?n.resolve(t.value):n.reject(t.value)}catch(t){n.reject(t),a(t)}}}(t)}))}function l(){this.promise=new t}pt(t.prototype,{then:function(t,e,n){if(ht(t)&&ht(e)&&ht(n))return this;var i=new l;return this.$$state.pending=this.$$state.pending||[],this.$$state.pending.push([i,t,e,n]),0<this.$$state.status&&s(this.$$state),i.promise},catch:function(t){return this.then(null,t)},finally:function(e,t){return this.then(function(t){return u(t,!0,e)},function(t){return u(t,!1,e)},t)}}),pt(l.prototype,{resolve:function(t){this.promise.$$state.status||(t===this.promise?this.$$reject(n("qcycle","Expected promise to be resolved with value other than itself '{0}'",t)):this.$$resolve(t))},$$resolve:function(t){var e,n=this,i=!1;try{(dt(t)||mt(t))&&(e=t&&t.then),mt(e)?(this.promise.$$state.status=-1,e.call(t,function(t){if(i)return;i=!0,n.$$resolve(t)},o,r(this,this.notify))):(this.promise.$$state.value=t,this.promise.$$state.status=1,s(this.promise.$$state))}catch(t){o(t),a(t)}function o(t){i||(i=!0,n.$$reject(t))}},reject:function(t){this.promise.$$state.status||this.$$reject(t)},$$reject:function(t){this.promise.$$state.value=t,this.promise.$$state.status=2,s(this.promise.$$state)},notify:function(o){var r=this.promise.$$state.pending;this.promise.$$state.status<=0&&r&&r.length&&e(function(){for(var t,e,n=0,i=r.length;n<i;n++){e=r[n][0],t=r[n][3];try{e.notify(mt(t)?t(o):o)}catch(t){a(t)}}})}});var o=function(t,e){var n=new l;return e?n.resolve(t):n.reject(t),n.promise},u=function(t,e,n){var i=null;try{mt(n)&&(i=n())}catch(t){return o(t,!1)}return M(i)?i.then(function(){return o(t,e)},function(t){return o(t,!1)}):o(t,e)},c=function(t,e,n,i){var o=new l;return o.resolve(t),o.promise.then(e,n,i)},p=c;var h=function(t){if(!mt(t))throw n("norslvr","Expected resolverFn, got '{0}'",t);var e=new l;return t(function(t){e.resolve(t)},function(t){e.reject(t)}),e.promise};return h.prototype=t.prototype,h.defer=i,h.reject=function(t){var e=new l;return e.reject(t),e.promise},h.when=c,h.resolve=p,h.all=function(t){var n=new l,i=0,o=gt(t)?[]:{};return ct(t,function(t,e){i++,c(t).then(function(t){o.hasOwnProperty(e)||(o[e]=t,--i||n.resolve(o))},function(t){o.hasOwnProperty(e)||n.reject(t)})}),0===i&&n.resolve(o),n.promise},h.race=function(t){var e=i();return ct(t,function(t){c(t).then(e.resolve,e.reject)}),e.promise},h}function Fi(){this.$get=["$window","$timeout",function(t,n){var i=t.requestAnimationFrame||t.webkitRequestAnimationFrame,o=t.cancelAnimationFrame||t.webkitCancelAnimationFrame||t.webkitCancelRequestAnimationFrame,e=!!i,r=e?function(t){var e=i(t);return function(){o(e)}}:function(t){var e=n(t,16.66,!1);return function(){n.cancel(e)}};return r.supported=e,r}]}function Ni(){var k=10,C=x("$rootScope"),S=null,T=null;this.digestTtl=function(t){return arguments.length&&(k=t),k},this.$get=["$exceptionHandler","$parse","$browser",function(d,f,g){function i(t){t.currentScope.$$destroyed=!0}function o(){this.$id=A(),this.$$phase=this.$parent=this.$$watchers=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=null,(this.$root=this).$$destroyed=!1,this.$$listeners={},this.$$listenerCount={},this.$$watchersCount=0,this.$$isolateBindings=null}o.prototype={constructor:o,$new:function(t,e){var n;return e=e||this,t?(n=new o).$root=this.$root:(this.$$ChildScope||(this.$$ChildScope=function(t){function e(){this.$$watchers=this.$$nextSibling=this.$$childHead=this.$$childTail=null,this.$$listeners={},this.$$listenerCount={},this.$$watchersCount=0,this.$id=A(),this.$$ChildScope=null}return e.prototype=t,e}(this)),n=new this.$$ChildScope),n.$parent=e,n.$$prevSibling=e.$$childTail,e.$$childHead?(e.$$childTail.$$nextSibling=n,e.$$childTail=n):e.$$childHead=e.$$childTail=n,(t||e!=this)&&n.$on("$destroy",i),n},$watch:function(t,e,n,i){var o=f(t);if(o.$$watchDelegate)return o.$$watchDelegate(this,e,n,o,t);var r=this,a=r.$$watchers,s={fn:e,last:$,get:o,exp:i||t,eq:!!n};return S=null,mt(e)||(s.fn=U),a||(a=r.$$watchers=[]),a.unshift(s),l(this,1),function(){0<=xt(a,s)&&l(r,-1),S=null}},$watchGroup:function(t,i){var o=new Array(t.length),r=new Array(t.length),a=[],s=this,l=!1,e=!0;if(!t.length){var n=!0;return s.$evalAsync(function(){n&&i(r,r,s)}),function(){n=!1}}if(1===t.length)return this.$watch(t[0],function(t,e,n){r[0]=t,o[0]=e,i(r,t===e?r:o,n)});function u(){l=!1,e?(e=!1,i(r,r,s)):i(r,o,s)}return ct(t,function(t,n){var e=s.$watch(t,function(t,e){r[n]=t,o[n]=e,l||(l=!0,s.$evalAsync(u))});a.push(e)}),function(){for(;a.length;)a.shift()()}},$watchCollection:function(t,n){d.$stateful=!0;var a,s,i,o=this,r=1<n.length,l=0,e=f(t,d),u=[],c={},p=!0,h=0;function d(t){var e,n,i,o;if(!ht(a=t)){if(dt(a))if(I(a)){s!==u&&(h=(s=u).length=0,l++),e=a.length,h!==e&&(l++,s.length=h=e);for(var r=0;r<e;r++)o=s[r],i=a[r],o!=o&&i!=i||o===i||(l++,s[r]=i)}else{for(n in s!==c&&(s=c={},h=0,l++),e=0,a)N.call(a,n)&&(e++,i=a[n],o=s[n],n in s?o!=o&&i!=i||o===i||(l++,s[n]=i):(h++,s[n]=i,l++));if(e<h)for(n in l++,s)N.call(a,n)||(h--,delete s[n])}else s!==a&&(s=a,l++);return l}}return this.$watch(e,function(){if(p?(p=!1,n(a,a,o)):n(a,i,o),r)if(dt(a))if(I(a)){i=new Array(a.length);for(var t=0;t<a.length;t++)i[t]=a[t]}else for(var e in i={},a)N.call(a,e)&&(i[e]=a[e]);else i=a})},$digest:function(){var t,e,n,i,o,r,a,s,l,u,c=k,p=[];w("$digest"),g.$$checkUrlChange(),this===m&&null!==T&&(g.defer.cancel(T),_()),S=null;do{r=!1,s=this;for(var h=0;h<v.length;h++){try{(u=v[h]).scope.$eval(u.expression,u.locals)}catch(t){d(t)}S=null}v.length=0;t:do{if(i=s.$$watchers)for(o=i.length;o--;)try{if(t=i[o])if((e=(0,t.get)(s))===(n=t.last)||(t.eq?$t(e,n):"number"==typeof e&&"number"==typeof n&&isNaN(e)&&isNaN(n))){if(t===S){r=!1;break t}}else r=!0,(S=t).last=t.eq?R(e,null):e,(0,t.fn)(e,n===$?e:n,s),c<5&&(p[l=4-c]||(p[l]=[]),p[l].push({msg:mt(t.exp)?"fn: "+(t.exp.name||t.exp.toString()):t.exp,newVal:e,oldVal:n}))}catch(t){d(t)}if(!(a=s.$$watchersCount&&s.$$childHead||s!==this&&s.$$nextSibling))for(;s!==this&&!(a=s.$$nextSibling);)s=s.$parent}while(s=a);if((r||v.length)&&!c--)throw x(),C("infdig","{0} $digest() iterations reached. Aborting!\nWatchers fired in the last 5 iterations: {1}",k,p)}while(r||v.length);for(x();b<y.length;)try{y[b++]()}catch(t){d(t)}y.length=b=0},$destroy:function(){if(!this.$$destroyed){var t=this.$parent;for(var e in this.$broadcast("$destroy"),this.$$destroyed=!0,this===m&&g.$$applicationDestroyed(),l(this,-this.$$watchersCount),this.$$listenerCount)r(this,this.$$listenerCount[e],e);t&&t.$$childHead==this&&(t.$$childHead=this.$$nextSibling),t&&t.$$childTail==this&&(t.$$childTail=this.$$prevSibling),this.$$prevSibling&&(this.$$prevSibling.$$nextSibling=this.$$nextSibling),this.$$nextSibling&&(this.$$nextSibling.$$prevSibling=this.$$prevSibling),this.$destroy=this.$digest=this.$apply=this.$evalAsync=this.$applyAsync=U,this.$on=this.$watch=this.$watchGroup=function(){return U},this.$$listeners={},this.$$nextSibling=null,function t(e){9===j&&(e.$$childHead&&t(e.$$childHead),e.$$nextSibling&&t(e.$$nextSibling)),e.$parent=e.$$nextSibling=e.$$prevSibling=e.$$childHead=e.$$childTail=e.$root=e.$$watchers=null}(this)}},$eval:function(t,e){return f(t)(this,e)},$evalAsync:function(t,e){m.$$phase||v.length||g.defer(function(){v.length&&m.$digest()}),v.push({scope:this,expression:f(t),locals:e})},$$postDigest:function(t){y.push(t)},$apply:function(t){try{w("$apply");try{return this.$eval(t)}finally{x()}}catch(t){d(t)}finally{try{m.$digest()}catch(t){throw d(t),t}}},$applyAsync:function(t){var e=this;t&&n.push(function(){e.$eval(t)}),t=f(t),null===T&&(T=g.defer(function(){m.$apply(_)}))},$on:function(e,n){var i=this.$$listeners[e];i||(this.$$listeners[e]=i=[]),i.push(n);for(var t=this;t.$$listenerCount[e]||(t.$$listenerCount[e]=0),t.$$listenerCount[e]++,t=t.$parent;);var o=this;return function(){var t=i.indexOf(n);-1!==t&&(i[t]=null,r(o,1,e))}},$emit:function(t,e){var n,i,o,r=[],a=this,s=!1,l={name:t,targetScope:a,stopPropagation:function(){s=!0},preventDefault:function(){l.defaultPrevented=!0},defaultPrevented:!1},u=q([l],arguments,1);do{for(n=a.$$listeners[t]||r,l.currentScope=a,i=0,o=n.length;i<o;i++)if(n[i])try{n[i].apply(null,u)}catch(t){d(t)}else n.splice(i,1),i--,o--;if(s)return l.currentScope=null,l;a=a.$parent}while(a);return l.currentScope=null,l},$broadcast:function(t,e){var n=this,i=this,o={name:t,targetScope:this,preventDefault:function(){o.defaultPrevented=!0},defaultPrevented:!1};if(!this.$$listenerCount[t])return o;for(var r,a,s,l=q([o],arguments,1);n=i;){for(a=0,s=(r=(o.currentScope=n).$$listeners[t]||[]).length;a<s;a++)if(r[a])try{r[a].apply(null,l)}catch(t){d(t)}else r.splice(a,1),a--,s--;if(!(i=n.$$listenerCount[t]&&n.$$childHead||n!==this&&n.$$nextSibling))for(;n!==this&&!(i=n.$$nextSibling);)n=n.$parent}return o.currentScope=null,o}};var m=new o,v=m.$$asyncQueue=[],y=m.$$postDigestQueue=[],n=m.$$applyAsyncQueue=[],b=0;return m;function w(t){if(m.$$phase)throw C("inprog","{0} already in progress",m.$$phase);m.$$phase=t}function x(){m.$$phase=null}function l(t,e){for(;t.$$watchersCount+=e,t=t.$parent;);}function r(t,e,n){for(;t.$$listenerCount[n]-=e,0===t.$$listenerCount[n]&&delete t.$$listenerCount[n],t=t.$parent;);}function $(){}function _(){for(;n.length;)try{n.shift()()}catch(t){d(t)}T=null}}]}function ji(){var o=/^\s*(https?|ftp|mailto|tel|file):/,r=/^\s*((https?|ftp|file|blob):|data:image\/)/;this.aHrefSanitizationWhitelist=function(t){return H(t)?(o=t,this):o},this.imgSrcSanitizationWhitelist=function(t){return H(t)?(r=t,this):r},this.$get=function(){return function(t,e){var n,i=e?r:o;return""===(n=Ji(t).href)||n.match(i)?t:"unsafe:"+n}}}var Bi=x("$sce"),Ui={HTML:"html",CSS:"css",URL:"url",RESOURCE_URL:"resourceUrl",JS:"js"};function zi(t){var e=[];return H(t)&&ct(t,function(t){e.push(function(t){if("self"===t)return t;if(ft(t)){if(-1<t.indexOf("***"))throw Bi("iwcard","Illegal sequence *** in string matcher.  String: {0}",t);return t=P(t).replace("\\*\\*",".*").replace("\\*","[^:/.?&;]*"),new RegExp("^"+t+"$")}if(T(t))return new RegExp("^"+t.source+"$");throw Bi("imatcher",'Matchers may only be "self", string patterns or RegExp objects')}(t))}),e}function Hi(){this.SCE_CONTEXTS=Ui;var a=["self"],s=[];this.resourceUrlWhitelist=function(t){return arguments.length&&(a=zi(t)),a},this.resourceUrlBlacklist=function(t){return arguments.length&&(s=zi(t)),s},this.$get=["$injector",function(t){var i=function(t){throw Bi("unsafe","Attempting to use an unsafe value in a safe context.")};function r(t,e){return"self"===t?Qi(e):!!t.exec(e.href)}function e(t){var e=function(t){this.$$unwrapTrustedValue=function(){return t}};return t&&(e.prototype=new t),e.prototype.valueOf=function(){return this.$$unwrapTrustedValue()},e.prototype.toString=function(){return this.$$unwrapTrustedValue().toString()},e}t.has("$sanitize")&&(i=t.get("$sanitize"));var n=e(),o={};return o[Ui.HTML]=e(n),o[Ui.CSS]=e(n),o[Ui.URL]=e(n),o[Ui.JS]=e(n),o[Ui.RESOURCE_URL]=e(o[Ui.URL]),{trustAs:function(t,e){var n=o.hasOwnProperty(t)?o[t]:null;if(!n)throw Bi("icontext","Attempted to trust a value in invalid context. Context: {0}; Value: {1}",t,e);if(null===e||ht(e)||""===e)return e;if("string"!=typeof e)throw Bi("itype","Attempted to trust a non-string value in a content requiring a string: Context: {0}",t);return new n(e)},getTrusted:function(t,e){if(null===e||ht(e)||""===e)return e;var n=o.hasOwnProperty(t)?o[t]:null;if(n&&e instanceof n)return e.$$unwrapTrustedValue();if(t===Ui.RESOURCE_URL){if(function(t){var e,n,i=Ji(t.toString()),o=!1;for(e=0,n=a.length;e<n;e++)if(r(a[e],i)){o=!0;break}if(o)for(e=0,n=s.length;e<n;e++)if(r(s[e],i)){o=!1;break}return o}(e))return e;throw Bi("insecurl","Blocked loading resource from url not allowed by $sceDelegate policy.  URL: {0}",e.toString())}if(t===Ui.HTML)return i(e);throw Bi("unsafe","Attempting to use an unsafe value in a safe context.")},valueOf:function(t){return t instanceof n?t.$$unwrapTrustedValue():t}}}]}function Vi(){var e=!0;this.enabled=function(t){return arguments.length&&(e=!!t),e},this.$get=["$parse","$sceDelegate",function(i,t){if(e&&j<8)throw Bi("iequirks","Strict Contextual Escaping does not support Internet Explorer version < 11 in quirks mode.  You can fix this by adding the text <!doctype html> to the top of your HTML document.  See http://docs.angularjs.org/api/ng.$sce for more information.");var o=Nt(Ui);o.isEnabled=function(){return e},o.trustAs=t.trustAs,o.getTrusted=t.getTrusted,o.valueOf=t.valueOf,e||(o.trustAs=o.getTrusted=function(t,e){return e},o.valueOf=z),o.parseAs=function(e,t){var n=i(t);return n.literal&&n.constant?n:i(t,function(t){return o.getTrusted(e,t)})};var r=o.parseAs,a=o.getTrusted,s=o.trustAs;return ct(Ui,function(e,t){var n=$(t);o[Kt("parse_as_"+n)]=function(t){return r(e,t)},o[Kt("get_trusted_"+n)]=function(t){return a(e,t)},o[Kt("trust_as_"+n)]=function(t){return s(e,t)}}),o}]}function qi(){this.$get=["$window","$document",function(t,e){var n,i,o={},r=!(t.chrome&&t.chrome.app&&t.chrome.app.runtime)&&t.history&&t.history.pushState,a=g((/android (\d+)/.exec($((t.navigator||{}).userAgent))||[])[1]),s=/Boxee/i.test((t.navigator||{}).userAgent),l=e[0]||{},u=/^(Moz|webkit|ms)(?=[A-Z])/,c=l.body&&l.body.style,p=!1,h=!1;if(c){for(var d in c)if(i=u.exec(d)){n=(n=i[0])[0].toUpperCase()+n.substr(1);break}n||(n="WebkitOpacity"in c&&"webkit"),p=!!("transition"in c||n+"Transition"in c),h=!!("animation"in c||n+"Animation"in c),!a||p&&h||(p=ft(c.webkitTransition),h=ft(c.webkitAnimation))}return{history:!(!r||a<4||s),hasEvent:function(t){if("input"===t&&j<=11)return!1;if(ht(o[t])){var e=l.createElement("div");o[t]="on"+t in e}return o[t]},csp:L(),vendorPrefix:n,transitions:p,animations:h,android:a}}]}var Wi=x("$compile");function Gi(){var l;this.httpOptions=function(t){return t?(l=t,this):l},this.$get=["$templateCache","$http","$q","$sce",function(i,o,r,a){function s(e,n){s.totalPendingRequests++,ft(e)&&!ht(i.get(e))||(e=a.getTrustedResourceUrl(e));var t=o.defaults&&o.defaults.transformResponse;return gt(t)?t=t.filter(function(t){return t!==Dn}):t===Dn&&(t=null),o.get(e,pt({cache:i,transformResponse:t},l)).finally(function(){s.totalPendingRequests--}).then(function(t){return i.put(e,t.data),t.data},function(t){if(n)return r.reject(t);throw Wi("tpload","Failed to load template: {0} (HTTP status: {1} {2})",e,t.status,t.statusText)})}return s.totalPendingRequests=0,s}]}function Yi(){this.$get=["$rootScope","$browser","$location",function(e,n,i){var t={findBindings:function(t,n,i){var e=t.getElementsByClassName("ng-binding"),o=[];return ct(e,function(e){var t=C.element(e).data("$binding");t&&ct(t,function(t){i?new RegExp("(^|\\s)"+P(n)+"(\\s|\\||$)").test(t)&&o.push(e):-1!=t.indexOf(n)&&o.push(e)})}),o},findModels:function(t,e,n){for(var i=["ng-","data-ng-","ng\\:"],o=0;o<i.length;++o){var r="["+i[o]+"model"+(n?"=":"*=")+'"'+e+'"]',a=t.querySelectorAll(r);if(a.length)return a}},getLocation:function(){return i.url()},setLocation:function(t){t!==i.url()&&(i.url(t),e.$digest())},whenStable:function(t){n.notifyWhenNoOutstandingRequests(t)}};return t}]}function Ki(){this.$get=["$rootScope","$browser","$q","$$q","$exceptionHandler",function(l,u,c,p,h){var d={};function t(t,e,n){mt(t)||(n=e,e=t,t=U);var i,o=_t(arguments,3),r=H(n)&&!n,a=(r?p:c).defer(),s=a.promise;return i=u.defer(function(){try{a.resolve(t.apply(null,o))}catch(t){a.reject(t),h(t)}finally{delete d[s.$$timeoutId]}r||l.$apply()},e),s.$$timeoutId=i,d[i]=a,s}return t.cancel=function(t){return!!(t&&t.$$timeoutId in d)&&(d[t.$$timeoutId].reject("canceled"),delete d[t.$$timeoutId],u.defer.cancel(t.$$timeoutId))},t}]}var Zi=F.document.createElement("a"),Xi=Ji(F.location.href);function Ji(t){var e=t;return j&&(Zi.setAttribute("href",e),e=Zi.href),Zi.setAttribute("href",e),{href:Zi.href,protocol:Zi.protocol?Zi.protocol.replace(/:$/,""):"",host:Zi.host,search:Zi.search?Zi.search.replace(/^\?/,""):"",hash:Zi.hash?Zi.hash.replace(/^#/,""):"",hostname:Zi.hostname,port:Zi.port,pathname:"/"===Zi.pathname.charAt(0)?Zi.pathname:"/"+Zi.pathname}}function Qi(t){var e=ft(t)?Ji(t):t;return e.protocol===Xi.protocol&&e.host===Xi.host}function to(){this.$get=S(F)}function eo(t){var a=t[0]||{},s={},l="";function u(e){try{return decodeURIComponent(e)}catch(t){return e}}return function(){var t,e,n,i,o,r=a.cookie||"";if(r!==l)for(t=(l=r).split("; "),s={},n=0;n<t.length;n++)0<(i=(e=t[n]).indexOf("="))&&(o=u(e.substring(0,i)),ht(s[o])&&(s[o]=u(e.substring(i+1))));return s}}function no(){this.$get=eo}function io(i){var o="Filter";function r(t,e){if(dt(t)){var n={};return ct(t,function(t,e){n[e]=r(e,t)}),n}return i.factory(t+o,e)}this.register=r,this.$get=["$injector",function(e){return function(t){return e.get(t+o)}}],r("currency",co),r("date",_o),r("filter",oo),r("json",ko),r("limitTo",To),r("lowercase",Co),r("number",po),r("orderBy",Do),r("uppercase",So)}function oo(){return function(t,e,n,i){if(!I(t)){if(null==t)return t;throw x("filter")("notarray","Expected array but received: {0}",t)}var o,r;switch(i=i||"$",ao(e)){case"function":o=e;break;case"boolean":case"null":case"number":case"string":r=!0;case"object":o=function(e,n,i,o){var r=dt(e)&&i in e;!0===n?n=$t:mt(n)||(n=function(t,e){return!ht(t)&&(null===t||null===e?t===e:!(dt(e)||dt(t)&&!y(t))&&(t=$(""+t),e=$(""+e),-1!==t.indexOf(e)))});return function(t){return r&&!dt(t)?ro(t,e[i],n,i,!1):ro(t,e,n,i,o)}}(e,n,i,r);break;default:return t}return Array.prototype.filter.call(t,o)}}function ro(t,e,n,i,o,r){var a=ao(t),s=ao(e);if("string"===s&&"!"===e.charAt(0))return!ro(t,e.substring(1),n,i,o);if(gt(t))return t.some(function(t){return ro(t,e,n,i,o)});switch(a){case"object":var l;if(o){for(l in t)if("$"!==l.charAt(0)&&ro(t[l],e,n,i,!0))return!0;return!r&&ro(t,e,n,i,!1)}if("object"!==s)return n(t,e);for(l in e){var u=e[l];if(!mt(u)&&!ht(u)){var c=l===i;if(!ro(c?t:t[l],u,n,i,c,c))return!1}}return!0;case"function":return!1;default:return n(t,e)}}function ao(t){return null===t?"null":typeof t}eo.$inject=["$document"],io.$inject=["$provide"];var so=22,lo=".",uo="0";function co(t){var i=t.NUMBER_FORMATS;return function(t,e,n){return ht(e)&&(e=i.CURRENCY_SYM),ht(n)&&(n=i.PATTERNS[1].maxFrac),null==t?t:ho(t,i.PATTERNS[1],i.GROUP_SEP,i.DECIMAL_SEP,n).replace(/\u00A4/g,e)}}function po(t){var n=t.NUMBER_FORMATS;return function(t,e){return null==t?t:ho(t,n.PATTERNS[0],n.GROUP_SEP,n.DECIMAL_SEP,e)}}function ho(t,e,n,i,o){if(!ft(t)&&!w(t)||isNaN(t))return"";var r,a=!isFinite(t),s=!1,l=Math.abs(t)+"",u="";if(a)u="";else{(function(t,e,n,i){var o=t.d,r=o.length-t.i,a=(e=ht(e)?Math.min(Math.max(n,r),i):+e)+t.i,s=o[a];if(0<a){o.splice(Math.max(t.i,a));for(var l=a;l<o.length;l++)o[l]=0}else{r=Math.max(0,r),t.i=1,o.length=Math.max(1,a=e+1),o[0]=0;for(var u=1;u<a;u++)o[u]=0}if(5<=s)if(a-1<0){for(var c=0;a<c;c--)o.unshift(0),t.i++;o.unshift(1),t.i++}else o[a-1]++;for(;r<Math.max(0,e);r++)o.push(0);var p=o.reduceRight(function(t,e,n,i){return e+=t,i[n]=e%10,Math.floor(e/10)},0);p&&(o.unshift(p),t.i++)})(r=function(t){var e,n,i,o,r,a=0;for(-1<(n=t.indexOf(lo))&&(t=t.replace(lo,"")),0<(i=t.search(/e/i))?(n<0&&(n=i),n+=+t.slice(i+1),t=t.substring(0,i)):n<0&&(n=t.length),i=0;t.charAt(i)==uo;i++);if(i==(r=t.length))e=[0],n=1;else{for(r--;t.charAt(r)==uo;)r--;for(n-=i,e=[],o=0;i<=r;i++,o++)e[o]=+t.charAt(i)}return so<n&&(e=e.splice(0,so-1),a=n-1,n=1),{d:e,e:a,i:n}}(l),o,e.minFrac,e.maxFrac);var c=r.d,p=r.i,h=r.e,d=[];for(s=c.reduce(function(t,e){return t&&!e},!0);p<0;)c.unshift(0),p++;0<p?d=c.splice(p,c.length):(d=c,c=[0]);var f=[];for(c.length>=e.lgSize&&f.unshift(c.splice(-e.lgSize,c.length).join(""));c.length>e.gSize;)f.unshift(c.splice(-e.gSize,c.length).join(""));c.length&&f.unshift(c.join("")),u=f.join(n),d.length&&(u+=i+d.join("")),h&&(u+="e+"+h)}return t<0&&!s?e.negPre+u+e.negSuf:e.posPre+u+e.posSuf}function fo(t,e,n,i){var o="";for((t<0||i&&t<=0)&&(i?t=1-t:(t=-t,o="-")),t=""+t;t.length<e;)t=uo+t;return n&&(t=t.substr(t.length-e)),o+t}function go(n,i,o,r,a){return o=o||0,function(t){var e=t["get"+n]();return(0<o||-o<e)&&(e+=o),0===e&&-12==o&&(e=12),fo(e,i,r,a)}}function mo(i,o,r){return function(t,e){var n=t["get"+i]();return e[c((r?"STANDALONE":"")+(o?"SHORT":"")+i)][n]}}function vo(t){var e=new Date(t,0,1).getDay();return new Date(t,0,(e<=4?5:12)-e)}function yo(o){return function(t){var e,n=vo(t.getFullYear()),i=+(e=t,new Date(e.getFullYear(),e.getMonth(),e.getDate()+(4-e.getDay())))-+n;return fo(1+Math.round(i/6048e5),o)}}function bo(t,e){return t.getFullYear()<=0?e.ERAS[0]:e.ERAS[1]}co.$inject=["$locale"];var wo={yyyy:go("FullYear",4,0,!(po.$inject=["$locale"]),!0),yy:go("FullYear",2,0,!0,!0),y:go("FullYear",1,0,!1,!0),MMMM:mo("Month"),MMM:mo("Month",!0),MM:go("Month",2,1),M:go("Month",1,1),LLLL:mo("Month",!1,!0),dd:go("Date",2),d:go("Date",1),HH:go("Hours",2),H:go("Hours",1),hh:go("Hours",2,-12),h:go("Hours",1,-12),mm:go("Minutes",2),m:go("Minutes",1),ss:go("Seconds",2),s:go("Seconds",1),sss:go("Milliseconds",3),EEEE:mo("Day"),EEE:mo("Day",!0),a:function(t,e){return t.getHours()<12?e.AMPMS[0]:e.AMPMS[1]},Z:function(t,e,n){var i=-1*n,o=0<=i?"+":"";return o+=fo(Math[0<i?"floor":"ceil"](i/60),2)+fo(Math.abs(i%60),2)},ww:yo(2),w:yo(1),G:bo,GG:bo,GGG:bo,GGGG:function(t,e){return t.getFullYear()<=0?e.ERANAMES[0]:e.ERANAMES[1]}},xo=/((?:[^yMLdHhmsaZEwG']+)|(?:'(?:[^']|'')*')|(?:E+|y+|M+|L+|d+|H+|h+|m+|s+|a|Z|G+|w+))(.*)/,$o=/^\-?\d+$/;function _o(l){var p=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/;return function(e,t,n){var i,o,r="",a=[];if(t=t||"mediumDate",t=l.DATETIME_FORMATS[t]||t,ft(e)&&(e=$o.test(e)?g(e):function(t){var e;if(e=t.match(p)){var n=new Date(0),i=0,o=0,r=e[8]?n.setUTCFullYear:n.setFullYear,a=e[8]?n.setUTCHours:n.setHours;e[9]&&(i=g(e[9]+e[10]),o=g(e[9]+e[11])),r.call(n,g(e[1]),g(e[2])-1,g(e[3]));var s=g(e[4]||0)-i,l=g(e[5]||0)-o,u=g(e[6]||0),c=Math.round(1e3*parseFloat("0."+(e[7]||0)));return a.call(n,s,l,u,c),n}return t}(e)),w(e)&&(e=new Date(e)),!k(e)||!isFinite(e.getTime()))return e;for(;t;)t=(o=xo.exec(t))?(a=q(a,o,1)).pop():(a.push(t),null);var s=e.getTimezoneOffset();return n&&(s=K(n,s),e=Z(e,n,!0)),ct(a,function(t){i=wo[t],r+=i?i(e,l.DATETIME_FORMATS,s):"''"===t?"'":t.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),r}}function ko(){return function(t,e){return ht(e)&&(e=2),W(t,e)}}_o.$inject=["$locale"];var Co=S($),So=S(c);function To(){return function(t,e,n){return e=Math.abs(Number(e))===1/0?Number(e):g(e),isNaN(e)?t:(w(t)&&(t=t.toString()),I(t)?(n=(n=!n||isNaN(n)?0:g(n))<0?Math.max(0,t.length+n):n,0<=e?Ao(t,n,n+e):0===n?Ao(t,e,t.length):Ao(t,Math.max(0,n+e),n)):t)}}function Ao(t,e,n){return ft(t)?t.slice(e,n):s.call(t,e,n)}function Do(l){return function(t,e,n,i){if(null==t)return t;if(!I(t))throw x("orderBy")("notarray","Expected array but received: {0}",t);gt(e)||(e=[e]),0===e.length&&(e=["+"]);var r=e.map(function(t){var e=1,n=z;if(mt(t))n=t;else if(ft(t)&&("+"!=t.charAt(0)&&"-"!=t.charAt(0)||(e="-"==t.charAt(0)?-1:1,t=t.substring(1)),""!==t&&(n=l(t)).constant)){var i=n();n=function(t){return t[i]}}return{get:n,descending:e}}),a=n?-1:1,s=mt(i)?i:c,o=Array.prototype.map.call(t,function(e,n){return{value:e,tieBreaker:{value:n,type:"number",index:n},predicateValues:r.map(function(t){return function(t,e){var n=typeof t;null===t?(n="string",t="null"):"object"===n&&(t=function(t){if(mt(t.valueOf)&&u(t=t.valueOf()))return t;if(y(t)&&u(t=t.toString()))return t;return t}(t));return{value:t,type:n,index:e}}(t.get(e),n)})}});return o.sort(function(t,e){for(var n=0,i=r.length;n<i;n++){var o=s(t.predicateValues[n],e.predicateValues[n]);if(o)return o*r[n].descending*a}return s(t.tieBreaker,e.tieBreaker)*a}),t=o.map(function(t){return t.value})};function u(t){switch(typeof t){case"number":case"boolean":case"string":return!0;default:return!1}}function c(t,e){var n=0,i=t.type,o=e.type;if(i===o){var r=t.value,a=e.value;"string"===i?(r=r.toLowerCase(),a=a.toLowerCase()):"object"===i&&(dt(r)&&(r=t.index),dt(a)&&(a=e.index)),r!==a&&(n=r<a?-1:1)}else n=i<o?-1:1;return n}}function Mo(t){return mt(t)&&(t={link:t}),t.restrict=t.restrict||"AC",S(t)}Do.$inject=["$parse"];var Eo=S({restrict:"E",compile:function(t,e){if(!e.href&&!e.xlinkHref)return function(t,e){if("a"===e[0].nodeName.toLowerCase()){var n="[object SVGAnimatedString]"===_.call(e.prop("href"))?"xlink:href":"href";e.on("click",function(t){e.attr(n)||t.preventDefault()})}}}}),Po={};ct($e,function(t,i){if("multiple"!=t){var o=un("ng-"+i),e=r;"checked"===t&&(e=function(t,e,n){n.ngModel!==n[o]&&r(t,0,n)}),Po[o]=function(){return{restrict:"A",priority:100,link:e}}}function r(t,e,n){t.$watch(n[o],function(t){n.$set(i,!!t)})}}),ct(ke,function(t,o){Po[o]=function(){return{priority:100,link:function(t,e,n){if("ngPattern"===o&&"/"==n.ngPattern.charAt(0)){var i=n.ngPattern.match(r);if(i)return void n.$set("ngPattern",new RegExp(i[1],i[2]))}t.$watch(n[o],function(t){n.$set(o,t)})}}}}),ct(["src","srcset","href"],function(r){var a=un("ng-"+r);Po[a]=function(){return{priority:99,link:function(t,e,n){var i=r,o=r;"href"===r&&"[object SVGAnimatedString]"===_.call(e.prop("href"))&&(o="xlinkHref",n.$attr[o]="xlink:href",i=null),n.$observe(a,function(t){t?(n.$set(o,t),j&&i&&e.prop(i,n[o])):"href"===r&&n.$set(o,null)})}}}});var Oo={$addControl:U,$$renameControl:function(t,e){t.$name=e},$removeControl:U,$setValidity:U,$setDirty:U,$setPristine:U,$setSubmitted:U},Io="ng-submitted";function Ro(t,e,n,i,o){var r=this,a=[];r.$error={},r.$$success={},r.$pending=void 0,r.$name=o(e.name||e.ngForm||"")(n),r.$dirty=!1,r.$pristine=!0,r.$valid=!0,r.$invalid=!1,r.$submitted=!1,r.$$parentForm=Oo,r.$rollbackViewValue=function(){ct(a,function(t){t.$rollbackViewValue()})},r.$commitViewValue=function(){ct(a,function(t){t.$commitViewValue()})},r.$addControl=function(t){Dt(t.$name,"input"),a.push(t),t.$name&&(r[t.$name]=t),t.$$parentForm=r},r.$$renameControl=function(t,e){var n=t.$name;r[n]===t&&delete r[n],(r[e]=t).$name=e},r.$removeControl=function(n){n.$name&&r[n.$name]===n&&delete r[n.$name],ct(r.$pending,function(t,e){r.$setValidity(e,null,n)}),ct(r.$error,function(t,e){r.$setValidity(e,null,n)}),ct(r.$$success,function(t,e){r.$setValidity(e,null,n)}),xt(a,n),n.$$parentForm=Oo},Lr({ctrl:this,$element:t,set:function(t,e,n){var i=t[e];i?-1===i.indexOf(n)&&i.push(n):t[e]=[n]},unset:function(t,e,n){var i=t[e];i&&(xt(i,n),0===i.length&&delete t[e])},$animate:i}),r.$setDirty=function(){i.removeClass(t,Cr),i.addClass(t,Sr),r.$dirty=!0,r.$pristine=!1,r.$$parentForm.$setDirty()},r.$setPristine=function(){i.setClass(t,Cr,Sr+" "+Io),r.$dirty=!1,r.$pristine=!0,r.$submitted=!1,ct(a,function(t){t.$setPristine()})},r.$setUntouched=function(){ct(a,function(t){t.$setUntouched()})},r.$setSubmitted=function(){i.addClass(t,Io),r.$submitted=!0,r.$$parentForm.$setSubmitted()}}Ro.$inject=["$element","$attrs","$scope","$animate","$interpolate"];var Lo=function(n){return["$timeout","$parse",function(l,e){return{name:"form",restrict:n?"EAC":"E",require:["form","^^?form"],controller:Ro,compile:function(t,e){t.addClass(Cr).addClass(_r);var s=e.name?"name":!(!n||!e.ngForm)&&"ngForm";return{pre:function(e,t,n,i){var o=i[0];if(!("action"in n)){var r=function(t){e.$apply(function(){o.$commitViewValue(),o.$setSubmitted()}),t.preventDefault()};Ht(t[0],"submit",r),t.on("$destroy",function(){l(function(){Vt(t[0],"submit",r)},0,!1)})}(i[1]||o.$$parentForm).$addControl(o);var a=s?u(o.$name):U;s&&(a(e,o),n.$observe(s,function(t){o.$name!==t&&(a(e,void 0),o.$$parentForm.$$renameControl(o,t),(a=u(o.$name))(e,o))})),t.on("$destroy",function(){o.$$parentForm.$removeControl(o),a(e,void 0),pt(o,Oo)})}}}};function u(t){return""===t?e('this[""]').assign:e(t).assign||U}}]},Fo=Lo(),No=Lo(!0),jo=/^\d{4,}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+(?:[+-][0-2]\d:[0-5]\d|Z)$/,Bo=/^[a-z][a-z\d.+-]*:\/*(?:[^:@]+(?::[^@]+)?@)?(?:[^\s:/?#]+|\[[a-f\d:]+\])(?::\d+)?(?:\/[^?#]*)?(?:\?[^#]*)?(?:#.*)?$/i,Uo=/^(?=.{1,254}$)(?=.{1,64}@)[-!#$%&'*+\/0-9=?A-Z^_`a-z{|}~]+(\.[-!#$%&'*+\/0-9=?A-Z^_`a-z{|}~]+)*@[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?(\.[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?)*$/,zo=/^\s*(\-|\+)?(\d+|(\d*(\.\d*)))([eE][+-]?\d+)?\s*$/,Ho=/^(\d{4,})-(\d{2})-(\d{2})$/,Vo=/^(\d{4,})-(\d\d)-(\d\d)T(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,qo=/^(\d{4,})-W(\d\d)$/,Wo=/^(\d{4,})-(\d\d)$/,Go=/^(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,Yo="keydown wheel mousedown",Ko=Pt();ct("date,datetime-local,month,time,week".split(","),function(t){Ko[t]=!0});var Zo={text:function(t,e,n,i,o,r){Jo(t,e,n,i,o,r),Xo(i)},date:tr("date",Ho,Qo(Ho,["yyyy","MM","dd"]),"yyyy-MM-dd"),"datetime-local":tr("datetimelocal",Vo,Qo(Vo,["yyyy","MM","dd","HH","mm","ss","sss"]),"yyyy-MM-ddTHH:mm:ss.sss"),time:tr("time",Go,Qo(Go,["HH","mm","ss","sss"]),"HH:mm:ss.sss"),week:tr("week",qo,function(t,e){if(k(t))return t;if(ft(t)){qo.lastIndex=0;var n=qo.exec(t);if(n){var i=+n[1],o=+n[2],r=0,a=0,s=0,l=0,u=vo(i),c=7*(o-1);return e&&(r=e.getHours(),a=e.getMinutes(),s=e.getSeconds(),l=e.getMilliseconds()),new Date(i,0,u.getDate()+c,r,a,s,l)}}return NaN},"yyyy-Www"),month:tr("month",Wo,Qo(Wo,["yyyy","MM"]),"yyyy-MM"),number:function(t,e,n,i,o,r){if(er(t,e,n,i),Jo(t,e,n,i,o,r),i.$$parserName="number",i.$parsers.push(function(t){return i.$isEmpty(t)?null:zo.test(t)?parseFloat(t):void 0}),i.$formatters.push(function(t){if(!i.$isEmpty(t)){if(!w(t))throw Er("numfmt","Expected `{0}` to be a number",t);t=t.toString()}return t}),H(n.min)||n.ngMin){var a;i.$validators.min=function(t){return i.$isEmpty(t)||ht(a)||a<=t},n.$observe("min",function(t){H(t)&&!w(t)&&(t=parseFloat(t)),a=w(t)&&!isNaN(t)?t:void 0,i.$validate()})}if(H(n.max)||n.ngMax){var s;i.$validators.max=function(t){return i.$isEmpty(t)||ht(s)||t<=s},n.$observe("max",function(t){H(t)&&!w(t)&&(t=parseFloat(t)),s=w(t)&&!isNaN(t)?t:void 0,i.$validate()})}},url:function(t,e,n,i,o,r){Jo(t,e,n,i,o,r),Xo(i),i.$$parserName="url",i.$validators.url=function(t,e){var n=t||e;return i.$isEmpty(n)||Bo.test(n)}},email:function(t,e,n,i,o,r){Jo(t,e,n,i,o,r),Xo(i),i.$$parserName="email",i.$validators.email=function(t,e){var n=t||e;return i.$isEmpty(n)||Uo.test(n)}},radio:function(t,e,n,i){ht(n.name)&&e.attr("name",A());e.on("click",function(t){e[0].checked&&i.$setViewValue(n.value,t&&t.type)}),i.$render=function(){var t=n.value;e[0].checked=t==i.$viewValue},n.$observe("value",i.$render)},checkbox:function(t,e,n,i,o,r,a,s){var l=nr(s,t,"ngTrueValue",n.ngTrueValue,!0),u=nr(s,t,"ngFalseValue",n.ngFalseValue,!1);e.on("click",function(t){i.$setViewValue(e[0].checked,t&&t.type)}),i.$render=function(){e[0].checked=i.$viewValue},i.$isEmpty=function(t){return!1===t},i.$formatters.push(function(t){return $t(t,l)}),i.$parsers.push(function(t){return t?l:u})},hidden:U,button:U,submit:U,reset:U,file:U};function Xo(e){e.$formatters.push(function(t){return e.$isEmpty(t)?t:t.toString()})}function Jo(t,i,o,r,e,a){var s,l=$(i[0].type);if(!e.android){var u=!1;i.on("compositionstart",function(){u=!0}),i.on("compositionend",function(){u=!1,c()})}var c=function(t){if(s&&(a.defer.cancel(s),s=null),!u){var e=i.val(),n=t&&t.type;"password"===l||o.ngTrim&&"false"===o.ngTrim||(e=bt(e)),(r.$viewValue!==e||""===e&&r.$$hasNativeValidators)&&r.$setViewValue(e,n)}};if(e.hasEvent("input"))i.on("input",c);else{var n=function(t,e,n){s||(s=a.defer(function(){s=null,e&&e.value===n||c(t)}))};i.on("keydown",function(t){var e=t.keyCode;91===e||15<e&&e<19||37<=e&&e<=40||n(t,this,this.value)}),e.hasEvent("paste")&&i.on("paste cut",n)}i.on("change",c),Ko[l]&&r.$$hasNativeValidators&&l===o.type&&i.on(Yo,function(t){if(!s){var e=this[p],n=e.badInput,i=e.typeMismatch;s=a.defer(function(){s=null,e.badInput===n&&e.typeMismatch===i||c(t)})}}),r.$render=function(){var t=r.$isEmpty(r.$viewValue)?"":r.$viewValue;i.val()!==t&&i.val(t)}}function Qo(o,r){return function(t,e){var n,i;if(k(t))return t;if(ft(t)){if('"'==t.charAt(0)&&'"'==t.charAt(t.length-1)&&(t=t.substring(1,t.length-1)),jo.test(t))return new Date(t);if(o.lastIndex=0,n=o.exec(t))return n.shift(),i=e?{yyyy:e.getFullYear(),MM:e.getMonth()+1,dd:e.getDate(),HH:e.getHours(),mm:e.getMinutes(),ss:e.getSeconds(),sss:e.getMilliseconds()/1e3}:{yyyy:1970,MM:1,dd:1,HH:0,mm:0,ss:0,sss:0},ct(n,function(t,e){e<r.length&&(i[r[e]]=+t)}),new Date(i.yyyy,i.MM-1,i.dd,i.HH,i.mm,i.ss||0,1e3*i.sss||0)}return NaN}}function tr(d,f,g,m){return function(t,e,n,i,o,r,a){er(t,e,n,i),Jo(0,e,n,i,o,r);var s,l,u,c=i&&i.$options&&i.$options.timezone;(i.$$parserName=d,i.$parsers.push(function(t){if(i.$isEmpty(t))return null;if(f.test(t)){var e=g(t,s);return c&&(e=Z(e,c)),e}}),i.$formatters.push(function(t){if(t&&!k(t))throw Er("datefmt","Expected `{0}` to be a date",t);return p(t)?((s=t)&&c&&(s=Z(s,c,!0)),a("date")(t,m,c)):(s=null,"")}),H(n.min)||n.ngMin)&&(i.$validators.min=function(t){return!p(t)||ht(l)||g(t)>=l},n.$observe("min",function(t){l=h(t),i.$validate()}));(H(n.max)||n.ngMax)&&(i.$validators.max=function(t){return!p(t)||ht(u)||g(t)<=u},n.$observe("max",function(t){u=h(t),i.$validate()}));function p(t){return t&&!(t.getTime&&t.getTime()!=t.getTime())}function h(t){return H(t)&&!k(t)?g(t)||void 0:t}}}function er(t,n,e,i){var o=n[0];(i.$$hasNativeValidators=dt(o.validity))&&i.$parsers.push(function(t){var e=n.prop(p)||{};return e.badInput||e.typeMismatch?void 0:t})}function nr(t,e,n,i,o){var r;if(H(i)){if(!(r=t(i)).constant)throw Er("constexpr","Expected constant expression for `{0}`, but saw `{1}`.",n,i);return r(e)}return o}var ir=["$browser","$sniffer","$filter","$parse",function(o,r,a,s){return{restrict:"E",require:["?ngModel"],link:{pre:function(t,e,n,i){i[0]&&(Zo[$(n.type)]||Zo.text)(t,e,n,i[0],r,o,a,s)}}}}],or=/^(true|false|\d+)$/,rr=function(){return{restrict:"A",priority:100,compile:function(t,e){return or.test(e.ngValue)?function(t,e,n){n.$set("value",t.$eval(n.ngValue))}:function(t,e,n){t.$watch(n.ngValue,function(t){n.$set("value",t)})}}}},ar=["$compile",function(i){return{restrict:"AC",compile:function(t){return i.$$addBindingClass(t),function(t,e,n){i.$$addBindingInfo(e,n.ngBind),e=e[0],t.$watch(n.ngBind,function(t){e.textContent=ht(t)?"":t})}}}}],sr=["$interpolate","$compile",function(o,r){return{compile:function(t){return r.$$addBindingClass(t),function(t,e,n){var i=o(e.attr(n.$attr.ngBindTemplate));r.$$addBindingInfo(e,i.expressions),e=e[0],n.$observe("ngBindTemplate",function(t){e.textContent=ht(t)?"":t})}}}}],lr=["$sce","$parse","$compile",function(r,n,a){return{restrict:"A",compile:function(t,e){var i=n(e.ngBindHtml),o=n(e.ngBindHtml,function(t){return r.valueOf(t)});return a.$$addBindingClass(t),function(e,n,t){a.$$addBindingInfo(n,t.ngBindHtml),e.$watch(o,function(){var t=i(e);n.html(r.getTrustedHtml(t)||"")})}}}}],ur=S({restrict:"A",require:"ngModel",link:function(t,e,n,i){i.$viewChangeListeners.push(function(){t.$eval(n.ngChange)})}});function cr(a,g){return a="ngClass"+a,["$animate",function(h){return{restrict:"AC",link:function(s,l,r){var u;function c(t){var e=p(t,1);r.$addClass(e)}function p(t,e){var n=l.data("$classCounts")||Pt(),i=[];return ct(t,function(t){(0<e||n[t])&&(n[t]=(n[t]||0)+e,n[t]===+(0<e)&&i.push(t))}),l.data("$classCounts",n),i.join(" ")}function e(t){if(!0===g||(1&s.$index)===g){var e=f(t||[]);if(u){if(!$t(t,u)){var n=f(u);r=d(o=e,i=n),a=d(i,o),r=p(r,1),a=p(a,-1),r&&r.length&&h.addClass(l,r),a&&a.length&&h.removeClass(l,a)}}else c(e)}var i,o,r,a;u=gt(t)?t.map(function(t){return Nt(t)}):Nt(t)}s.$watch(r[a],e,!0),r.$observe("class",function(t){e(s.$eval(r[a]))}),"ngClass"!==a&&s.$watch("$index",function(t,e){var n,i=1&t;if(i!==(1&e)){var o=f(s.$eval(r[a]));i===g?c(o):(n=p(o,-1),r.$removeClass(n))}})}};function d(t,e){var n=[];t:for(var i=0;i<t.length;i++){for(var o=t[i],r=0;r<e.length;r++)if(o==e[r])continue t;n.push(o)}return n}function f(t){var n=[];return gt(t)?(ct(t,function(t){n=n.concat(f(t))}),n):ft(t)?t.split(" "):dt(t)?(ct(t,function(t,e){t&&(n=n.concat(e.split(" ")))}),n):t}}]}var pr=cr("",!0),hr=cr("Odd",0),dr=cr("Even",1),fr=Mo({compile:function(t,e){e.$set("ngCloak",void 0),t.removeClass("ng-cloak")}}),gr=[function(){return{restrict:"A",scope:!0,controller:"@",priority:500}}],mr={},vr={blur:!0,focus:!0};ct("click dblclick mousedown mouseup mouseover mouseout mousemove mouseenter mouseleave keydown keyup keypress submit focus blur copy cut paste".split(" "),function(r){var a=un("ng-"+r);mr[a]=["$parse","$rootScope",function(n,o){return{restrict:"A",compile:function(t,e){var i=n(e[a],null,!0);return function(n,t){t.on(r,function(t){var e=function(){i(n,{$event:t})};vr[r]&&o.$$phase?n.$evalAsync(e):n.$apply(e)})}}}}]});var yr=["$animate","$compile",function(l,u){return{multiElement:!0,transclude:"element",priority:600,terminal:!0,restrict:"A",$$tlb:!0,link:function(t,n,i,e,o){var r,a,s;t.$watch(i.ngIf,function(t){t?a||o(function(t,e){a=e,t[t.length++]=u.$$createComment("end ngIf",i.ngIf),r={clone:t},l.enter(t,n.parent(),n)}):(s&&(s.remove(),s=null),a&&(a.$destroy(),a=null),r&&(s=Et(r.clone),l.leave(s).then(function(){s=null}),r=null))})}}}],br=["$templateRequest","$anchorScroll","$animate",function(m,v,y){return{restrict:"ECA",priority:400,terminal:!0,transclude:"element",controller:C.noop,compile:function(t,e){var n=e.ngInclude||e.src,f=e.onload||"",g=e.autoscroll;return function(a,s,t,l,u){var c,e,p,h=0,d=function(){e&&(e.remove(),e=null),c&&(c.$destroy(),c=null),p&&(y.leave(p).then(function(){e=null}),e=p,p=null)};a.$watch(n,function(i){var o=function(){!H(g)||g&&!a.$eval(g)||v()},r=++h;i?(m(i,!0).then(function(t){if(!a.$$destroyed&&r===h){var e=a.$new();l.template=t;var n=u(e,function(t){d(),y.enter(t,null,s).then(o)});p=n,(c=e).$emit("$includeContentLoaded",i),a.$eval(f)}},function(){a.$$destroyed||r===h&&(d(),a.$emit("$includeContentError",i))}),a.$emit("$includeContentRequested",i)):(d(),l.template=null)})}}}}],wr=["$compile",function(o){return{restrict:"ECA",priority:-400,require:"ngInclude",link:function(t,e,n,i){if(_.call(e[0]).match(/SVG/))return e.empty(),void o(ie(i.template,F.document).childNodes)(t,function(t){e.append(t)},{futureParentElement:e});e.html(i.template),o(e.contents())(t)}}}],xr=Mo({priority:450,compile:function(){return{pre:function(t,e,n){t.$eval(n.ngInit)}}}}),$r=function(){return{restrict:"A",priority:100,require:"ngModel",link:function(t,e,n,i){var o=e.attr(n.$attr.ngList)||", ",r="false"!==n.ngTrim,a=r?bt(o):o;i.$parsers.push(function(t){if(!ht(t)){var e=[];return t&&ct(t.split(a),function(t){t&&e.push(r?bt(t):t)}),e}}),i.$formatters.push(function(t){if(gt(t))return t.join(o)}),i.$isEmpty=function(t){return!t||!t.length}}}},_r="ng-valid",kr="ng-invalid",Cr="ng-pristine",Sr="ng-dirty",Tr="ng-untouched",Ar="ng-touched",Dr="ng-pending",Mr="ng-not-empty",Er=x("ngModel"),Pr=["$scope","$exceptionHandler","$attrs","$element","$parse","$animate","$timeout","$rootScope","$q","$interpolate",function(r,e,o,a,s,n,l,u,c,t){this.$viewValue=Number.NaN,this.$modelValue=Number.NaN,this.$$rawModelValue=void 0,this.$validators={},this.$asyncValidators={},this.$parsers=[],this.$formatters=[],this.$viewChangeListeners=[],this.$untouched=!0,this.$touched=!1,this.$pristine=!0,this.$dirty=!1,this.$valid=!0,this.$invalid=!1,this.$error={},this.$$success={},this.$pending=void 0,this.$name=t(o.name||"",!1)(r),this.$$parentForm=Oo;var p,h=s(o.ngModel),d=h.assign,f=h,g=d,m=null,v=this;this.$$setOptions=function(t){if((v.$options=t)&&t.getterSetter){var n=s(o.ngModel+"()"),i=s(o.ngModel+"($$$p)");f=function(t){var e=h(t);return mt(e)&&(e=n(t)),e},g=function(t,e){mt(h(t))?i(t,{$$$p:e}):d(t,e)}}else if(!h.assign)throw Er("nonassign","Expression '{0}' is non-assignable. Element: {1}",o.ngModel,Ct(a))},this.$render=U,this.$isEmpty=function(t){return ht(t)||""===t||null===t||t!=t},this.$$updateEmptyClasses=function(t){v.$isEmpty(t)?(n.removeClass(a,Mr),n.addClass(a,"ng-empty")):(n.removeClass(a,"ng-empty"),n.addClass(a,Mr))};var y=0;Lr({ctrl:this,$element:a,set:function(t,e){t[e]=!0},unset:function(t,e){delete t[e]},$animate:n}),this.$setPristine=function(){v.$dirty=!1,v.$pristine=!0,n.removeClass(a,Sr),n.addClass(a,Cr)},this.$setDirty=function(){v.$dirty=!0,v.$pristine=!1,n.removeClass(a,Cr),n.addClass(a,Sr),v.$$parentForm.$setDirty()},this.$setUntouched=function(){v.$touched=!1,v.$untouched=!0,n.setClass(a,Tr,Ar)},this.$setTouched=function(){v.$touched=!0,v.$untouched=!1,n.setClass(a,Ar,Tr)},this.$rollbackViewValue=function(){l.cancel(m),v.$viewValue=v.$$lastCommittedViewValue,v.$render()},this.$validate=function(){if(!w(v.$modelValue)||!isNaN(v.$modelValue)){var t=v.$$lastCommittedViewValue,e=v.$$rawModelValue,n=v.$valid,i=v.$modelValue,o=v.$options&&v.$options.allowInvalid;v.$$runValidators(e,t,function(t){o||n===t||(v.$modelValue=t?e:void 0,v.$modelValue!==i&&v.$$writeModelToScope())})}},this.$$runValidators=function(i,o,e){var r,a,s,n=++y;(function(){var t=v.$$parserName||"parse";{if(!ht(p))return p||(ct(v.$validators,function(t,e){l(e,null)}),ct(v.$asyncValidators,function(t,e){l(e,null)})),l(t,p),p;l(t,null)}return!0})()?(r=!0,ct(v.$validators,function(t,e){var n=t(i,o);r=r&&n,l(e,n)}),r||(ct(v.$asyncValidators,function(t,e){l(e,null)}),0)?(a=[],s=!0,ct(v.$asyncValidators,function(t,e){var n=t(i,o);if(!M(n))throw Er("nopromise","Expected asynchronous validator to return a promise but got '{0}' instead.",n);l(e,void 0),a.push(n.then(function(){l(e,!0)},function(){l(e,s=!1)}))}),a.length?c.all(a).then(function(){t(s)},U):t(!0)):t(!1)):t(!1);function l(t,e){n===y&&v.$setValidity(t,e)}function t(t){n===y&&e(t)}},this.$commitViewValue=function(){var t=v.$viewValue;l.cancel(m),(v.$$lastCommittedViewValue!==t||""===t&&v.$$hasNativeValidators)&&(v.$$updateEmptyClasses(t),v.$$lastCommittedViewValue=t,v.$pristine&&this.$setDirty(),this.$$parseAndValidate())},this.$$parseAndValidate=function(){var e=v.$$lastCommittedViewValue;if(p=!ht(e)||void 0)for(var t=0;t<v.$parsers.length;t++)if(ht(e=v.$parsers[t](e))){p=!1;break}w(v.$modelValue)&&isNaN(v.$modelValue)&&(v.$modelValue=f(r));var n=v.$modelValue,i=v.$options&&v.$options.allowInvalid;function o(){v.$modelValue!==n&&v.$$writeModelToScope()}v.$$rawModelValue=e,i&&(v.$modelValue=e,o()),v.$$runValidators(e,v.$$lastCommittedViewValue,function(t){i||(v.$modelValue=t?e:void 0,o())})},this.$$writeModelToScope=function(){g(r,v.$modelValue),ct(v.$viewChangeListeners,function(t){try{t()}catch(t){e(t)}})},this.$setViewValue=function(t,e){v.$viewValue=t,v.$options&&!v.$options.updateOnDefault||v.$$debounceViewValueCommit(e)},this.$$debounceViewValueCommit=function(t){var e,n=0,i=v.$options;i&&H(i.debounce)&&(w(e=i.debounce)?n=e:w(e[t])?n=e[t]:w(e.default)&&(n=e.default)),l.cancel(m),n?m=l(function(){v.$commitViewValue()},n):u.$$phase?v.$commitViewValue():r.$apply(function(){v.$commitViewValue()})},r.$watch(function(){var t=f(r);if(t!==v.$modelValue&&(v.$modelValue==v.$modelValue||t==t)){v.$modelValue=v.$$rawModelValue=t,p=void 0;for(var e=v.$formatters,n=e.length,i=t;n--;)i=e[n](i);v.$viewValue!==i&&(v.$$updateEmptyClasses(i),v.$viewValue=v.$$lastCommittedViewValue=i,v.$render(),v.$$runValidators(t,i,U))}return t})}],Or=["$rootScope",function(r){return{restrict:"A",require:["ngModel","^?form","^?ngModelOptions"],controller:Pr,priority:1,compile:function(t){return t.addClass(Cr).addClass(Tr).addClass(_r),{pre:function(t,e,n,i){var o=i[0],r=i[1]||o.$$parentForm;o.$$setOptions(i[2]&&i[2].$options),r.$addControl(o),n.$observe("name",function(t){o.$name!==t&&o.$$parentForm.$$renameControl(o,t)}),t.$on("$destroy",function(){o.$$parentForm.$removeControl(o)})},post:function(t,e,n,i){var o=i[0];o.$options&&o.$options.updateOn&&e.on(o.$options.updateOn,function(t){o.$$debounceViewValueCommit(t&&t.type)}),e.on("blur",function(){o.$touched||(r.$$phase?t.$evalAsync(o.$setTouched):t.$apply(o.$setTouched))})}}}}}],Ir=/(\s+|^)default(\s+|$)/,Rr=function(){return{restrict:"A",controller:["$scope","$attrs",function(t,e){var n=this;this.$options=R(t.$eval(e.ngModelOptions)),H(this.$options.updateOn)?(this.$options.updateOnDefault=!1,this.$options.updateOn=bt(this.$options.updateOn.replace(Ir,function(){return n.$options.updateOnDefault=!0," "}))):this.$options.updateOnDefault=!0}]}};function Lr(t){var o=t.ctrl,n=t.$element,i={},r=t.set,a=t.unset,s=t.$animate;function l(t,e){e&&!i[t]?(s.addClass(n,t),i[t]=!0):!e&&i[t]&&(s.removeClass(n,t),i[t]=!1)}function u(t,e){t=t?"-"+St(t,"-"):"",l(_r+t,!0===e),l(kr+t,!1===e)}i[kr]=!(i[_r]=n.hasClass(_r)),o.$setValidity=function(t,e,n){ht(e)?function(t,e,n){o[t]||(o[t]={});r(o[t],e,n)}("$pending",t,n):function(t,e,n){o[t]&&a(o[t],e,n);Fr(o[t])&&(o[t]=void 0)}("$pending",t,n);yt(e)?e?(a(o.$error,t,n),r(o.$$success,t,n)):(r(o.$error,t,n),a(o.$$success,t,n)):(a(o.$error,t,n),a(o.$$success,t,n));o.$pending?(l(Dr,!0),o.$valid=o.$invalid=void 0,u("",null)):(l(Dr,!1),o.$valid=Fr(o.$error),o.$invalid=!o.$valid,u("",o.$valid));var i;i=o.$pending&&o.$pending[t]?void 0:!o.$error[t]&&(!!o.$$success[t]||null);u(t,i),o.$$parentForm.$setValidity(t,i,o)}}function Fr(t){if(t)for(var e in t)if(t.hasOwnProperty(e))return!1;return!0}var Nr=Mo({terminal:!0,priority:1e3}),jr=x("ngOptions"),Br=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+group\s+by\s+([\s\S]+?))?(?:\s+disable\s+when\s+([\s\S]+?))?\s+for\s+(?:([\$\w][\$\w]*)|(?:\(\s*([\$\w][\$\w]*)\s*,\s*([\$\w][\$\w]*)\s*\)))\s+in\s+([\s\S]+?)(?:\s+track\s+by\s+([\s\S]+?))?$/,Ur=["$compile","$document","$parse",function(w,x,k){var $=F.document.createElement("option"),_=F.document.createElement("optgroup");return{restrict:"A",terminal:!0,require:["select","ngModel"],link:{pre:function(t,e,n,i){i[0].registerOption=U},post:function(t,r,e,n){for(var a,s=n[0],l=n[1],u=e.multiple,i=0,o=r.children(),c=o.length;i<c;i++)if(""===o[i].value){a=o.eq(i);break}var p,h=!!a,d=ut($.cloneNode(!1));d.val("?");var f=function(t,e,h){var p=t.match(Br);if(!p)throw jr("iexp","Expected expression in form of '_select_ (as _label_)? for (_key_,)?_value_ in _collection_' but got '{0}'. Element: {1}",t,Ct(e));var n=p[5]||p[7],i=p[6],o=/ as /.test(p[0])&&p[1],d=p[9],r=k(p[2]?p[1]:n),f=o&&k(o)||r,a=d&&k(d),g=d?function(t,e){return a(h,e)}:function(t){return De(t)},m=function(t,e){return g(t,x(t,e))},v=k(p[2]||p[1]),y=k(p[3]||""),b=k(p[4]||""),w=k(p[8]),s={},x=i?function(t,e){return s[i]=e,s[n]=t,s}:function(t){return s[n]=t,s};function $(t,e,n,i,o){this.selectValue=t,this.viewValue=e,this.label=n,this.group=i,this.disabled=o}function _(t){var e;if(!i&&I(t))e=t;else for(var n in e=[],t)t.hasOwnProperty(n)&&"$"!==n.charAt(0)&&e.push(n);return e}return{trackBy:d,getTrackByValue:m,getWatchables:k(w,function(t){for(var e=[],n=_(t=t||[]),i=n.length,o=0;o<i;o++){var r=t===n?o:n[o],a=t[r],s=x(a,r),l=g(a,s);if(e.push(l),p[2]||p[1]){var u=v(h,s);e.push(u)}if(p[4]){var c=b(h,s);e.push(c)}}return e}),getOptions:function(){for(var t=[],e={},n=w(h)||[],i=_(n),o=i.length,r=0;r<o;r++){var a=n===i?r:i[r],s=n[a],l=x(s,a),u=f(h,l),c=g(u,l),p=new $(c,u,v(h,l),y(h,l),b(h,l));t.push(p),e[c]=p}return{items:t,selectValueMap:e,getOptionFromViewValue:function(t){return e[m(t)]},getViewValueFromOption:function(t){return d?C.copy(t.viewValue):t.viewValue}}}}}(e.ngOptions,r,t),g=x[0].createDocumentFragment(),m=function(){h||a.remove()},v=function(){d.remove()};function y(t,e){var n,i,o=$.cloneNode(!1);e.appendChild(o),i=o,((n=t).element=i).disabled=n.disabled,n.label!==i.label&&(i.label=n.label,i.textContent=n.label),n.value!==i.value&&(i.value=n.selectValue)}function b(){var t=p&&s.readValue();if(p)for(var e=p.items.length-1;0<=e;e--){var n=p.items[e];H(n.group)?we(n.element.parentNode):we(n.element)}p=f.getOptions();var i={};if(h&&r.prepend(a),p.items.forEach(function(t){var e;H(t.group)?((e=i[t.group])||(e=_.cloneNode(!1),g.appendChild(e),e.label=null===t.group?"null":t.group,i[t.group]=e),y(t,e)):y(t,g)}),r[0].appendChild(g),l.$render(),!l.$isEmpty(t)){var o=s.readValue();(f.trackBy||u?$t(t,o):t===o)||(l.$setViewValue(o),l.$render())}}u?(l.$isEmpty=function(t){return!t||0===t.length},s.writeValue=function(t){p.items.forEach(function(t){t.element.selected=!1}),t&&t.forEach(function(t){var e=p.getOptionFromViewValue(t);e&&(e.element.selected=!0)})},s.readValue=function(){var t=r.val()||[],n=[];return ct(t,function(t){var e=p.selectValueMap[t];e&&!e.disabled&&n.push(p.getViewValueFromOption(e))}),n},f.trackBy&&t.$watchCollection(function(){if(gt(l.$viewValue))return l.$viewValue.map(function(t){return f.getTrackByValue(t)})},function(){l.$render()})):(s.writeValue=function(t){var e=p.getOptionFromViewValue(t);e?(r[0].value!==e.selectValue&&(v(),m(),r[0].value=e.selectValue,e.element.selected=!0),e.element.setAttribute("selected","selected")):null===t||h?(v(),h||r.prepend(a),r.val(""),a.prop("selected",!0),a.attr("selected",!0)):(m(),r.prepend(d),r.val("?"),d.prop("selected",!0),d.attr("selected",!0))},s.readValue=function(){var t=p.selectValueMap[r.val()];return t&&!t.disabled?(m(),v(),p.getViewValueFromOption(t)):null},f.trackBy&&t.$watch(function(){return f.getTrackByValue(l.$viewValue)},function(){l.$render()})),h?(a.remove(),w(a)(t),a.removeClass("ng-scope")):a=ut($.cloneNode(!1)),r.empty(),b(),t.$watchCollection(f.getWatchables,b)}}}}],zr=["$locale","$interpolate","$log",function(f,g,m){var v=/{}/g,y=/^when(Minus)?(.+)$/;return{link:function(o,r,a){var s,t=a.count,l=a.$attr.when&&r.attr(a.$attr.when),u=a.offset||0,c=o.$eval(l)||{},p={},e=g.startSymbol(),n=g.endSymbol(),i=e+t+"-"+u+n,h=C.noop;function d(t){r.text(t||"")}ct(a,function(t,e){var n=y.exec(e);if(n){var i=(n[1]?"-":"")+$(n[2]);c[i]=r.attr(a.$attr[e])}}),ct(c,function(t,e){p[e]=g(t.replace(v,i))}),o.$watch(t,function(t){var e=parseFloat(t),n=isNaN(e);if(n||e in c||(e=f.pluralCat(e-u)),e!==s&&!(n&&w(s)&&isNaN(s))){h();var i=p[e];ht(i)?(null!=t&&m.debug("ngPluralize: no rule defined for '"+e+"' in "+l),h=U,d()):h=o.$watch(i,d),s=e}})}}}],Hr=["$parse","$animate","$compile",function(l,M,u){var E="$$NG_REMOVED",P=x("ngRepeat"),O=function(t,e,n,i,o,r,a){t[n]=i,o&&(t[o]=r),t.$index=e,t.$first=0===e,t.$last=e===a-1,t.$middle=!(t.$first||t.$last),t.$odd=!(t.$even=0==(1&e))};return{restrict:"A",multiElement:!0,transclude:"element",priority:1e3,terminal:!0,$$tlb:!0,compile:function(t,e){var $=e.ngRepeat,_=u.$$createComment("end ngRepeat",$),n=$.match(/^\s*([\s\S]+?)\s+in\s+([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+track\s+by\s+([\s\S]+?))?\s*$/);if(!n)throw P("iexp","Expected expression in form of '_item_ in _collection_[ track by _id_]' but got '{0}'.",$);var i=n[1],o=n[2],k=n[3],r=n[4];if(!(n=i.match(/^(?:(\s*[\$\w]+)|\(\s*([\$\w]+)\s*,\s*([\$\w]+)\s*\))$/)))throw P("iidexp","'_item_' in '_item_ in _collection_' should be an identifier or '(_key_, _value_)' expression, but got '{0}'.",i);var a,C,S,T,A=n[3]||n[1],D=n[2];if(k&&(!/^[$a-zA-Z_][$a-zA-Z0-9_]*$/.test(k)||/^(null|undefined|this|\$index|\$first|\$middle|\$last|\$even|\$odd|\$parent|\$root|\$id)$/.test(k)))throw P("badident","alias '{0}' is invalid --- must be a valid JS identifier which is not a reserved name.",k);var s={$id:De};return r?a=l(r):(S=function(t,e){return De(e)},T=function(t){return t}),function(y,b,t,e,w){a&&(C=function(t,e,n){return D&&(s[D]=t),s[A]=e,s.$index=n,a(y,s)});var x=Pt();y.$watchCollection(o,function(t){var i,e,n,o,r,a,s,l,u,c,p,h,d,f=b[0],g=Pt();if(k&&(y[k]=t),I(t))u=t,l=C||S;else for(var m in l=C||T,u=[],t)N.call(t,m)&&"$"!==m.charAt(0)&&u.push(m);for(o=u.length,p=new Array(o),i=0;i<o;i++)if(r=t===u?i:u[i],a=t[r],s=l(r,a,i),x[s])c=x[s],delete x[s],g[s]=c,p[i]=c;else{if(g[s])throw ct(p,function(t){t&&t.scope&&(x[t.id]=t)}),P("dupes","Duplicates in a repeater are not allowed. Use 'track by' expression to specify unique keys. Repeater: {0}, Duplicate key: {1}, Duplicate value: {2}",$,s,a);p[i]={id:s,scope:void 0,clone:void 0},g[s]=!0}for(var v in x){if(h=Et((c=x[v]).clone),M.leave(h),h[0].parentNode)for(i=0,e=h.length;i<e;i++)h[i][E]=!0;c.scope.$destroy()}for(i=0;i<o;i++)if(r=t===u?i:u[i],a=t[r],(c=p[i]).scope){for(n=f;(n=n.nextSibling)&&n[E];);c.clone[0]!=n&&M.move(Et(c.clone),null,f),f=(d=c).clone[d.clone.length-1],O(c.scope,i,A,a,D,r,o)}else w(function(t,e){c.scope=e;var n=_.cloneNode(!1);t[t.length++]=n,M.enter(t,null,f),f=n,c.clone=t,g[c.id]=c,O(c.scope,i,A,a,D,r,o)});x=g})}}}}],Vr="ng-hide-animate",qr=["$animate",function(i){return{restrict:"A",multiElement:!0,link:function(t,e,n){t.$watch(n.ngShow,function(t){i[t?"removeClass":"addClass"](e,"ng-hide",{tempClasses:Vr})})}}}],Wr=["$animate",function(i){return{restrict:"A",multiElement:!0,link:function(t,e,n){t.$watch(n.ngHide,function(t){i[t?"addClass":"removeClass"](e,"ng-hide",{tempClasses:Vr})})}}}],Gr=Mo(function(t,n,e){t.$watch(e.ngStyle,function(t,e){e&&t!==e&&ct(e,function(t,e){n.css(e,"")}),t&&n.css(t)},!0)}),Yr=["$animate","$compile",function(c,p){return{require:"ngSwitch",controller:["$scope",function(){this.cases={}}],link:function(t,e,n,o){var i=n.ngSwitch||n.on,r=[],a=[],s=[],l=[],u=function(t,e){return function(){t.splice(e,1)}};t.$watch(i,function(t){var e,n;for(e=0,n=s.length;e<n;++e)c.cancel(s[e]);for(e=s.length=0,n=l.length;e<n;++e){var i=Et(a[e].clone);l[e].$destroy(),(s[e]=c.leave(i)).then(u(s,e))}a.length=0,l.length=0,(r=o.cases["!"+t]||o.cases["?"])&&ct(r,function(o){o.transclude(function(t,e){l.push(e);var n=o.element;t[t.length++]=p.$$createComment("end ngSwitchWhen");var i={clone:t};a.push(i),c.enter(t,n.parent(),n)})})})}}}],Kr=Mo({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(t,e,n,i,o){i.cases["!"+n.ngSwitchWhen]=i.cases["!"+n.ngSwitchWhen]||[],i.cases["!"+n.ngSwitchWhen].push({transclude:o,element:e})}}),Zr=Mo({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(t,e,n,i,o){i.cases["?"]=i.cases["?"]||[],i.cases["?"].push({transclude:o,element:e})}}),Xr=x("ngTransclude"),Jr=["$compile",function(e){return{restrict:"EAC",terminal:!0,compile:function(t){var s=e(t.contents());return t.empty(),function(t,n,e,i,o){if(!o)throw Xr("orphan","Illegal use of ngTransclude directive in the template! No parent directive that requires a transclusion found. Element: {0}",Ct(n));e.ngTransclude===e.$attr.ngTransclude&&(e.ngTransclude="");var r=e.ngTransclude||e.ngTranscludeSlot;function a(){s(t,function(t){n.append(t)})}o(function(t,e){t.length?n.append(t):(a(),e.$destroy())},null,r),r&&!o.isSlotFilled(r)&&a()}}}}],Qr=["$templateCache",function(o){return{restrict:"E",terminal:!0,compile:function(t,e){if("text/ng-template"==e.type){var n=e.id,i=t[0].text;o.put(n,i)}}}}],ta={$setViewValue:U,$render:U};var ea=["$element","$scope",function(n,t){var a=this,o=new Me;a.ngModelCtrl=ta,a.unknownOption=ut(F.document.createElement("option")),a.renderUnknownOption=function(t){var e="? "+De(t)+" ?";a.unknownOption.val(e),n.prepend(a.unknownOption),n.val(e)},t.$on("$destroy",function(){a.renderUnknownOption=U}),a.removeUnknownOption=function(){a.unknownOption.parent()&&a.unknownOption.remove()},a.readValue=function(){return a.removeUnknownOption(),n.val()},a.writeValue=function(t){a.hasOption(t)?(a.removeUnknownOption(),n.val(t),""===t&&a.emptyOption.prop("selected",!0)):null==t&&a.emptyOption?(a.removeUnknownOption(),n.val("")):a.renderUnknownOption(t)},a.addOption=function(t,e){if(e[0].nodeType!==Rt){Dt(t,'"option value"'),""===t&&(a.emptyOption=e);var n,i=o.get(t)||0;o.put(t,i+1),a.ngModelCtrl.$render(),(n=e)[0].hasAttribute("selected")&&(n[0].selected=!0)}},a.removeOption=function(t){var e=o.get(t);e&&(1===e?(o.remove(t),""===t&&(a.emptyOption=void 0)):o.put(t,e-1))},a.hasOption=function(t){return!!o.get(t)},a.registerOption=function(t,n,i,e,o){var r;e?i.$observe("value",function(t){H(r)&&a.removeOption(r),r=t,a.addOption(t,n)}):o?t.$watch(o,function(t,e){i.$set("value",t),e!==t&&a.removeOption(e),a.addOption(t,n)}):a.addOption(i.value,n);n.on("$destroy",function(){a.removeOption(i.value),a.ngModelCtrl.$render()})}}],na=function(){return{restrict:"E",require:["select","?ngModel"],controller:ea,priority:1,link:{pre:function(t,n,e,i){var o=i[1];if(!o)return;var r=i[0];if(r.ngModelCtrl=o,n.on("change",function(){t.$apply(function(){o.$setViewValue(r.readValue())})}),e.multiple){r.readValue=function(){var e=[];return ct(n.find("option"),function(t){t.selected&&e.push(t.value)}),e},r.writeValue=function(t){var e=new Me(t);ct(n.find("option"),function(t){t.selected=H(e.get(t.value))})};var a,s=NaN;t.$watch(function(){s!==o.$viewValue||$t(a,o.$viewValue)||(a=Nt(o.$viewValue),o.$render()),s=o.$viewValue}),o.$isEmpty=function(t){return!t||0===t.length}}},post:function(t,e,n,i){var o=i[1];if(!o)return;var r=i[0];o.$render=function(){r.writeValue(o.$viewValue)}}}}},ia=["$interpolate",function(n){return{restrict:"E",priority:100,compile:function(t,e){if(H(e.value))var a=n(e.value,!0);else{var s=n(t.text(),!0);s||e.$set("value",t.text())}return function(t,e,n){var i="$selectController",o=e.parent(),r=o.data(i)||o.parent().data(i);r&&r.registerOption(t,e,n,a,s)}}}}],oa=S({restrict:"E",terminal:!1}),ra=function(){return{restrict:"A",require:"?ngModel",link:function(t,e,n,i){i&&(n.required=!0,i.$validators.required=function(t,e){return!n.required||!i.$isEmpty(e)},n.$observe("required",function(){i.$validate()}))}}},aa=function(){return{restrict:"A",require:"?ngModel",link:function(t,e,n,i){if(i){var o,r=n.ngPattern||n.pattern;n.$observe("pattern",function(t){if(ft(t)&&0<t.length&&(t=new RegExp("^"+t+"$")),t&&!t.test)throw x("ngPattern")("noregexp","Expected {0} to be a RegExp but was {1}. Element: {2}",r,t,Ct(e));o=t||void 0,i.$validate()}),i.$validators.pattern=function(t,e){return i.$isEmpty(e)||ht(o)||o.test(e)}}}}},sa=function(){return{restrict:"A",require:"?ngModel",link:function(t,e,n,i){if(i){var o=-1;n.$observe("maxlength",function(t){var e=g(t);o=isNaN(e)?-1:e,i.$validate()}),i.$validators.maxlength=function(t,e){return o<0||i.$isEmpty(e)||e.length<=o}}}}},la=function(){return{restrict:"A",require:"?ngModel",link:function(t,e,n,i){if(i){var o=0;n.$observe("minlength",function(t){o=g(t)||0,i.$validate()}),i.$validators.minlength=function(t,e){return i.$isEmpty(e)||e.length>=o}}}}};F.angular.bootstrap?F.console&&console.log("WARNING: Tried to load angular more than once."):(!function(){var o;if(!lt){var t=V();(a=ht(t)?F.jQuery:t?F[t]:void 0)&&a.fn.on?(pt((ut=a).fn,{scope:xe.scope,isolateScope:xe.isolateScope,controller:xe.controller,injector:xe.injector,inheritedData:xe.inheritedData}),o=a.cleanData,a.cleanData=function(t){for(var e,n,i=0;null!=(n=t[i]);i++)(e=a._data(n,"events"))&&e.$destroy&&a(n).triggerHandler("$destroy");o(t)}):ut=ae,C.element=ut,lt=!0}}(),pt(C,{bootstrap:ot,copy:R,extend:pt,merge:i,equals:$t,element:ut,forEach:ct,injector:Be,noop:U,bind:kt,toJson:W,fromJson:G,identity:z,isUndefined:ht,isDefined:H,isString:ft,isFunction:mt,isObject:dt,isNumber:w,isElement:O,isArray:gt,version:Bt,isDate:k,lowercase:$,uppercase:c,callbacks:{$$counter:0},getTestability:at,$$minErr:x,$$csp:L,reloadWithDebugInfo:rt}),(m=function(t){var c=x("$injector"),n=x("ng");function e(t,e,n){return t[e]||(t[e]=n())}var i=e(t,"angular",Object);return i.$$minErr=i.$$minErr||x,e(i,"module",function(){var t={};return function(s,l,u){return function(t,e){if("hasOwnProperty"===t)throw n("badname","hasOwnProperty is not a valid {0} name",e)}(s,"module"),l&&t.hasOwnProperty(s)&&(t[s]=null),e(t,s,function(){if(!l)throw c("nomod","Module '{0}' is not available! You either misspelled the module name or forgot to load it. If registering a module ensure that you specify the dependencies as the second argument.",s);var o=[],t=[],e=[],n=i("$injector","invoke","push",t),r={_invokeQueue:o,_configBlocks:t,_runBlocks:e,requires:l,name:s,provider:a("$provide","provider"),factory:a("$provide","factory"),service:a("$provide","service"),value:i("$provide","value"),constant:i("$provide","constant","unshift"),decorator:a("$provide","decorator"),animation:a("$animateProvider","register"),filter:a("$filterProvider","register"),controller:a("$controllerProvider","register"),directive:a("$compileProvider","directive"),component:a("$compileProvider","component"),config:n,run:function(t){return e.push(t),this}};return u&&n(u),r;function i(t,e,n,i){return i||(i=o),function(){return i[n||"push"]([t,e,arguments]),r}}function a(n,i){return function(t,e){return e&&mt(e)&&(e.$$moduleName=s),o.push([n,i,arguments]),r}}})}})}(F))("ng",["ngLocale"],["$provide",function(t){t.provider({$$sanitizeUri:ji}),t.provider("$compile",an).directive({a:Eo,input:ir,textarea:ir,form:Fo,script:Qr,select:na,style:oa,option:ia,ngBind:ar,ngBindHtml:lr,ngBindTemplate:sr,ngClass:pr,ngClassEven:dr,ngClassOdd:hr,ngCloak:fr,ngController:gr,ngForm:No,ngHide:Wr,ngIf:yr,ngInclude:br,ngInit:xr,ngNonBindable:Nr,ngPluralize:zr,ngRepeat:Hr,ngShow:qr,ngStyle:Gr,ngSwitch:Yr,ngSwitchWhen:Kr,ngSwitchDefault:Zr,ngOptions:Ur,ngTransclude:Jr,ngModel:Or,ngList:$r,ngChange:ur,pattern:aa,ngPattern:aa,required:ra,ngRequired:ra,minlength:la,ngMinlength:la,maxlength:sa,ngMaxlength:sa,ngValue:rr,ngModelOptions:Rr}).directive({ngInclude:wr}).directive(Po).directive(mr),t.provider({$anchorScroll:Ue,$animate:Ke,$animateCss:Je,$$animateJs:Ge,$$animateQueue:Ye,$$AnimateRunner:Xe,$$animateAsyncRun:Ze,$browser:tn,$cacheFactory:en,$controller:gn,$document:mn,$exceptionHandler:vn,$filter:io,$$forceReflow:yn,$interpolate:Nn,$interval:jn,$http:In,$httpParamSerializer:Tn,$httpParamSerializerJQLike:An,$httpBackend:Ln,$xhrFactory:Rn,$jsonpCallbacks:Bn,$location:ii,$log:oi,$parse:Oi,$rootScope:Ni,$q:Ii,$$q:Ri,$sce:Vi,$sceDelegate:Hi,$sniffer:qi,$templateCache:nn,$templateRequest:Gi,$$testability:Yi,$timeout:Ki,$window:to,$$rAF:Fi,$$jqLite:Ae,$$HashMap:Ee,$$cookieReader:no})}]),C.module("ngLocale",[],["$provide",function(t){var o="one",r="other";t.value("$locale",{DATETIME_FORMATS:{AMPMS:["AM","PM"],DAY:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],ERANAMES:["Before Christ","Anno Domini"],ERAS:["BC","AD"],FIRSTDAYOFWEEK:6,MONTH:["January","February","March","April","May","June","July","August","September","October","November","December"],SHORTDAY:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],SHORTMONTH:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],STANDALONEMONTH:["January","February","March","April","May","June","July","August","September","October","November","December"],WEEKENDRANGE:[5,6],fullDate:"EEEE, MMMM d, y",longDate:"MMMM d, y",medium:"MMM d, y h:mm:ss a",mediumDate:"MMM d, y",mediumTime:"h:mm:ss a",short:"M/d/yy h:mm a",shortDate:"M/d/yy",shortTime:"h:mm a"},NUMBER_FORMATS:{CURRENCY_SYM:"$",DECIMAL_SEP:".",GROUP_SEP:",",PATTERNS:[{gSize:3,lgSize:3,maxFrac:3,minFrac:0,minInt:1,negPre:"-",negSuf:"",posPre:"",posSuf:""},{gSize:3,lgSize:3,maxFrac:2,minFrac:2,minInt:1,negPre:"-",negSuf:"",posPre:"",posSuf:""}]},id:"en-us",localeID:"en_US",pluralCat:function(t,e){var n=0|t,i=function(t,e){var n,i,o=e;void 0===o&&(o=Math.min((n=t,-1==(i=(n+="").indexOf("."))?0:n.length-i-1),3));var r=Math.pow(10,o);return{v:o,f:(t*r|0)%r}}(t,e);return 1==n&&0==i.v?o:r}})}]),ut(F.document).ready(function(){it(F.document,ot)}))}(window),!window.angular.$$csp().noInlineStyle&&window.angular.element(document.head).prepend('<style type="text/css">@charset "UTF-8";[ng\\:cloak],[ng-cloak],[data-ng-cloak],[x-ng-cloak],.ng-cloak,.x-ng-cloak,.ng-hide:not(.ng-hide-animate){display:none !important;}ng\\:form{display:block;}.ng-animate-shim{visibility:hidden;}.ng-anchor{position:absolute;}</style>'),function(u,t){"use strict";var at,st,lt,ut,Y=1,ct="-add",pt="-remove",ht="ng-",_="ng-animate",K="$$ngAnimateChildren";st=void 0===u.ontransitionend&&void 0!==u.onwebkittransitionend?("-webkit-",at="WebkitTransition","webkitTransitionEnd transitionend"):(at="transition","transitionend"),ut=void 0===u.onanimationend&&void 0!==u.onwebkitanimationend?("-webkit-",lt="WebkitAnimation","webkitAnimationEnd animationend"):(lt="animation","animationend");var o="Duration",dt="TimingFunction",r="PlayState",n=lt+"Delay",ft=lt+o,i=at+"Delay",e=at+o,a=t.$$minErr("ng");function c(t,e,n){if(!t)throw a("areq","Argument '{0}' is {1}",e||"?",n||"required");return t}function k(t,e){return t||e?t?e?(Ot(t)&&(t=t.join(" ")),Ot(e)&&(e=e.join(" ")),t+" "+e):t:e:""}function gt(t,n,i){var o="";return t=Ot(t)?t:t&&et(t)&&t.length?t.split(/\s+/):[],Pt(t,function(t,e){t&&0<t.length&&(o+=0<e?" ":"",o+=i?n+t:t+n)}),o}function Z(t){if(!t[0])return t;for(var e=0;e<t.length;e++){var n=t[e];if(n.nodeType==Y)return n}}function C(l){return function(t,e){var n,i,o,r,a,s;e.addClass&&(n=l,i=t,o=e.addClass,Pt(i,function(t){n.addClass(t,o)}),e.addClass=null),e.removeClass&&(r=l,a=t,s=e.removeClass,Pt(a,function(t){r.removeClass(t,s)}),e.removeClass=null)}}function mt(t){if(!(t=t||{}).$$prepared){var e=t.domOperation||It;t.domOperation=function(){t.$$domOperationFired=!0,e(),e=It},t.$$prepared=!0}return t}function vt(t,e){yt(t,e),bt(t,e)}function yt(t,e){e.from&&(t.css(e.from),e.from=null)}function bt(t,e){e.to&&(t.css(e.to),e.to=null)}function X(t,e,n){var i=e.options||{},o=n.options||{},r=(i.addClass||"")+" "+(o.addClass||""),a=(i.removeClass||"")+" "+(o.removeClass||""),s=function(o,t,e){var n={};o=i(o),t=i(t),Pt(t,function(t,e){n[e]=1}),e=i(e),Pt(e,function(t,e){n[e]=1===n[e]?null:-1});var r={addClass:"",removeClass:""};function i(t){et(t)&&(t=t.split(" "));var e={};return Pt(t,function(t){t.length&&(e[t]=!0)}),e}return Pt(n,function(t,e){var n,i;1===t?(n="addClass",i=!o[e]||o[e+pt]):-1===t&&(n="removeClass",i=o[e]||o[e+ct]),i&&(r[n].length&&(r[n]+=" "),r[n]+=e)}),r}(t.attr("class"),r,a);o.preparationClasses&&(i.preparationClasses=J(o.preparationClasses,i.preparationClasses),delete o.preparationClasses);var l=i.domOperation!==It?i.domOperation:null;return h(i,o),l&&(i.domOperation=l),s.addClass?i.addClass=s.addClass:i.addClass=null,s.removeClass?i.removeClass=s.removeClass:i.removeClass=null,e.addClass=i.addClass,e.removeClass=i.removeClass,i}function wt(t){return t instanceof it?t[0]:t}function xt(t,e){var n=e?"-"+e+"s":"";return _t(t,[i,n]),[i,n]}function $t(t,e){var n=e?"paused":"",i=lt+r;return _t(t,[i,n]),[i,n]}function _t(t,e){var n=e[0],i=e[1];t.style[n]=i}function J(t,e){return t?e?t+" "+e:t:e}var s=["$interpolate",function(r){return{link:function(t,e,n){var i=n.ngAnimateChildren;function o(t){t="on"===t||"true"===t,e.data(K,t)}et(i)&&0===i.length?e.data(K,!0):(o(r(i)(t)),n.$observe("ngAnimateChildren",o))}}}],kt="$$animateCss",p={transitionDuration:e,transitionDelay:i,transitionProperty:at+"Property",animationDuration:ft,animationDelay:n,animationIterationCount:lt+"IterationCount"},Ct={transitionDuration:e,transitionDelay:i,animationDuration:ft,animationDelay:n};function St(t,e){return[e?n:i,t+"s"]}function Tt(t,e,n){var a=Object.create(null),s=t.getComputedStyle(e)||{};return Pt(n,function(t,e){var n,i,o=s[t];if(o){var r=o.charAt(0);("-"===r||"+"===r||0<=r)&&(n=0,i=o.split(/\s*,\s*/),Pt(i,function(t){"s"==t.charAt(t.length-1)&&(t=t.substring(0,t.length-1)),t=parseFloat(t)||0,n=n?Math.max(t,n):t}),o=n),0===o&&(o=null),a[e]=o}}),a}function At(t){return 0===t||null!=t}function Dt(t,e){var n=at,i=t+"s";return e?n+=o:i+=" linear all",[n,i]}function l(){var n=Object.create(null);return{flush:function(){n=Object.create(null)},count:function(t){var e=n[t];return e?e.total:0},get:function(t){var e=n[t];return e&&e.value},put:function(t,e){n[t]?n[t].total++:n[t]={total:1,value:e}}}}function Mt(e,n,t){Pt(t,function(t){e[t]=Q(e[t])?e[t]:n.style.getPropertyValue(t)})}var Et,h,Pt,Ot,Q,d,x,tt,et,nt,it,It,f=["$animateProvider",function(t){var ot=l(),rt=l();this.$get=["$window","$$jqLite","$$AnimateRunner","$timeout","$$forceReflow","$sniffer","$$rAFScheduler","$$animateQueue",function(Y,K,Z,X,n,J,e,Q){var tt=C(K),o=0;function et(t,e){var n="$$ngAnimateParentKey",i=t.parentNode;return(i[n]||(i[n]=++o))+"-"+t.getAttribute("class")+"-"+e}var i=[];function nt(t){i.push(t),e.waitUntilQuiet(function(){ot.flush(),rt.flush();for(var t=n(),e=0;e<i.length;e++)i[e](t);i.length=0})}function it(t,e,n){var i,o,r,a,s=(i=t,o=n,r=p,(a=ot.get(o))||"infinite"===(a=Tt(Y,i,r)).animationIterationCount&&(a.animationIterationCount=1),ot.put(o,a),a),l=s.animationDelay,u=s.transitionDelay;return s.maxDelay=l&&u?Math.max(l,u):l||u,s.maxDuration=Math.max(s.animationDuration*s.animationIterationCount,s.transitionDuration),s}return function(u,t){var c=t||{};c.$$prepared||(c=mt(Et(c)));var p={},h=wt(u);if(!h||!h.parentNode||!Q.enabled())return q();var e,n,d,r,a,i,o,f,g,m,v,y,b=[],s=u.attr("class"),l=(n={},(e=c)&&(e.to||e.from)&&(n.to=e.to,n.from=e.from),n),w=[];if(0===c.duration||!J.animations&&!J.transitions)return q();var x=c.event&&Ot(c.event)?c.event.join(" "):c.event,$="",_="";x&&c.structural?$=gt(x,ht,!0):x&&($=x),c.addClass&&(_+=gt(c.addClass,ct)),c.removeClass&&(_.length&&(_+=" "),_+=gt(c.removeClass,pt)),c.applyClassesEarly&&_.length&&tt(u,c);var k,C,S,T=[$,_].join(" ").trim(),A=s+" "+T,D=gt(T,"-active"),M=l.to&&0<Object.keys(l.to).length;if(!(0<(c.keyframeStyle||"").length)&&!M&&!T)return q();if(0<c.stagger){var E=parseFloat(c.stagger);C={transitionDelay:E,animationDelay:E,transitionDuration:0,animationDuration:0}}else k=et(h,A),C=function(t,e,n,i){var o;if(0<ot.count(n)&&!(o=rt.get(n))){var r=gt(e,"-stagger");K.addClass(t,r),(o=Tt(Y,t,i)).animationDuration=Math.max(o.animationDuration,0),o.transitionDuration=Math.max(o.transitionDuration,0),K.removeClass(t,r),rt.put(n,o)}return o||{}}(h,T,k,Ct);if(c.$$skipPreparationClasses||K.addClass(u,T),c.transitionStyle){var P=[at,c.transitionStyle];_t(h,P),b.push(P)}if(0<=c.duration){S=0<h.style[at].length;var O=Dt(c.duration,S);_t(h,O),b.push(O)}if(c.keyframeStyle){var I=[lt,c.keyframeStyle];_t(h,I),b.push(I)}var R=C?0<=c.staggerIndex?c.staggerIndex:ot.count(k):0,L=0===R;L&&!c.skipBlocking&&xt(h,9999);var F=it(h,0,k),N=F.maxDelay;f=Math.max(N,0),m=F.maxDuration;var j,B={};if(B.hasTransitions=0<F.transitionDuration,B.hasAnimations=0<F.animationDuration,B.hasTransitionAll=B.hasTransitions&&"all"==F.transitionProperty,B.applyTransitionDuration=M&&(B.hasTransitions&&!B.hasTransitionAll||B.hasAnimations&&!B.hasTransitions),B.applyAnimationDuration=c.duration&&B.hasAnimations,B.applyTransitionDelay=At(c.delay)&&(B.applyTransitionDuration||B.hasTransitions),B.applyAnimationDelay=At(c.delay)&&B.hasAnimations,B.recalculateTimingStyles=0<_.length,(B.applyTransitionDuration||B.applyAnimationDuration)&&(m=c.duration?parseFloat(c.duration):m,B.applyTransitionDuration&&(B.hasTransitions=!0,F.transitionDuration=m,S=0<h.style[at+"Property"].length,b.push(Dt(m,S))),B.applyAnimationDuration&&(B.hasAnimations=!0,F.animationDuration=m,b.push([ft,m+"s"]))),0===m&&!B.recalculateTimingStyles)return q();null!=c.delay&&("boolean"!=typeof c.delay&&(j=parseFloat(c.delay),f=Math.max(j,0)),B.applyTransitionDelay&&b.push(St(j)),B.applyAnimationDelay&&b.push(St(j,!0)));return null==c.duration&&0<F.transitionDuration&&(B.recalculateTimingStyles=B.recalculateTimingStyles||L),g=1e3*f,v=1e3*m,c.skipBlocking||(B.blockTransition=0<F.transitionDuration,B.blockKeyframeAnimation=0<F.animationDuration&&0<C.animationDelay&&0===C.animationDuration),c.from&&(c.cleanupStyles&&Mt(p,h,Object.keys(c.from)),yt(u,c)),B.blockTransition||B.blockKeyframeAnimation?V(m):c.skipBlocking||xt(h,!1),{$$willAnimate:!0,end:U,start:function(){if(!d)return i=new Z(o={end:U,cancel:z,resume:null,pause:null}),nt(G),i}};function U(){H()}function z(){H(!0)}function H(t){if(!(d||a&&r)){r=!(d=!0),c.$$skipPreparationClasses||K.removeClass(u,T),K.removeClass(u,D),$t(h,!1),xt(h,!1),Pt(b,function(t){h.style[t[0]]=""}),tt(u,c),vt(u,c),Object.keys(p).length&&Pt(p,function(t,e){t?h.style.setProperty(e,t):h.style.removeProperty(e)}),c.onDone&&c.onDone(),w&&w.length&&u.off(w.join(" "),W);var e=u.data(kt);e&&(X.cancel(e[0].timer),u.removeData(kt)),i&&i.complete(!t)}}function V(t){B.blockTransition&&xt(h,t),B.blockKeyframeAnimation&&$t(h,!!t)}function q(){return i=new Z({end:U,cancel:z}),nt(It),H(),{$$willAnimate:!1,start:function(){return i},end:U}}function W(t){t.stopPropagation();var e=t.originalEvent||t,n=e.$manualTimeStamp||Date.now(),i=parseFloat(e.elapsedTime.toFixed(3));Math.max(n-y,0)>=g&&m<=i&&(a=!0,H())}function G(){if(!d)if(h.parentNode){var t=function(t){if(a)r&&t&&(r=!1,H());else if(r=!t,F.animationDuration){var e=$t(h,r);r?b.push(e):(i=e,o=(n=b).indexOf(i),0<=i&&n.splice(o,1))}var n,i,o},e=0<R&&(F.transitionDuration&&0===C.transitionDuration||F.animationDuration&&0===C.animationDuration)&&Math.max(C.animationDelay,C.transitionDelay);e?X(n,Math.floor(e*R*1e3),!1):n(),o.resume=function(){t(!0)},o.pause=function(){t(!1)}}else H();function n(){if(!d){if(V(!1),Pt(b,function(t){var e=t[0],n=t[1];h.style[e]=n}),tt(u,c),K.addClass(u,D),B.recalculateTimingStyles){if(A=h.className+" "+T,k=et(h,A),F=it(h,0,k),N=F.maxDelay,f=Math.max(N,0),0===(m=F.maxDuration))return void H();B.hasTransitions=0<F.transitionDuration,B.hasAnimations=0<F.animationDuration}if(B.applyAnimationDelay&&(N="boolean"!=typeof c.delay&&At(c.delay)?parseFloat(c.delay):N,f=Math.max(N,0),F.animationDelay=N,j=St(N,!0),b.push(j),h.style[j[0]]=j[1]),g=1e3*f,v=1e3*m,c.easing){var t,e=c.easing;B.hasTransitions&&(t=at+dt,b.push([t,e]),h.style[t]=e),B.hasAnimations&&(t=lt+dt,b.push([t,e]),h.style[t]=e)}F.transitionDuration&&w.push(st),F.animationDuration&&w.push(ut),y=Date.now();var n=g+1.5*v,i=y+n,o=u.data(kt)||[],r=!0;if(o.length){var a=o[0];(r=i>a.expectedEndTime)?X.cancel(a.timer):o.push(H)}if(r){var s=X(l,n,!1);o[0]={timer:s,expectedEndTime:i},o.push(H),u.data(kt,o)}w.length&&u.on(w.join(" "),W),c.to&&(c.cleanupStyles&&Mt(p,h,Object.keys(c.to)),bt(u,c))}}function l(){var t=u.data(kt);if(t){for(var e=1;e<t.length;e++)t[e]();u.removeData(kt)}}}}}]}],g=["$$animationProvider",function(t){t.drivers.push("$$animateCssDriver");var b="ng-animate-shim",w="ng-anchor-out";this.$get=["$animateCss","$rootScope","$$AnimateRunner","$rootElement","$sniffer","$$jqLite","$document",function(d,t,f,e,n,i,o){if(!n.animations&&!n.transitions)return It;var r,g=o[0].body,a=wt(e),m=it((r=a).parentNode&&11===r.parentNode.nodeType||g.contains(a)?a:g);C(i);return function(t){return t.from&&t.to?function(t,e,n,i){var o=s(t),r=s(e),a=[];if(Pt(i,function(t){var e=function(t,e,o){var r=it(wt(e).cloneNode(!0)),a=v(c(r));e.addClass(b),o.addClass(b),r.addClass("ng-anchor"),m.append(r);var i,n,s=(n=d(r,{addClass:w,delay:!0,from:u(e)})).$$willAnimate?n:null;if(!s&&!(i=p()))return h();var l=s||i;return{start:function(){var t,e=l.start();return e.done(function(){if(e=null,!i&&(i=p()))return(e=i.start()).done(function(){e=null,h(),t.complete()}),e;h(),t.complete()}),t=new f({end:n,cancel:n});function n(){e&&e.end()}}};function u(t){var n={},i=wt(t).getBoundingClientRect();return Pt(["width","height","top","left"],function(t){var e=i[t];switch(t){case"top":e+=g.scrollTop;break;case"left":e+=g.scrollLeft}n[t]=Math.floor(e)+"px"}),n}function c(t){return t.attr("class")||""}function p(){var t=v(c(o)),e=y(t,a),n=y(a,t),i=d(r,{to:u(o),addClass:"ng-anchor-in "+e,removeClass:w+" "+n,delay:!0});return i.$$willAnimate?i:null}function h(){r.remove(),e.removeClass(b),o.removeClass(b)}}(0,t.out,t.in);e&&a.push(e)}),!o&&!r&&0===a.length)return;return{start:function(){var e=[];o&&e.push(o.start()),r&&e.push(r.start()),Pt(a,function(t){e.push(t.start())});var n=new f({end:t,cancel:t});return f.all(e,function(t){n.complete(t)}),n;function t(){Pt(e,function(t){t.end()})}}}}(t.from,t.to,t.classes,t.anchors):s(t)};function v(t){return t.replace(/\bng-\S+\b/g,"")}function y(t,e){return et(t)&&(t=t.split(" ")),et(e)&&(e=e.split(" ")),t.filter(function(t){return-1===e.indexOf(t)}).join(" ")}function s(t){var e=t.element,n=t.options||{};t.structural&&(n.event=t.event,n.structural=!0,n.applyClassesEarly=!0,"leave"===t.event&&(n.onDone=n.domOperation)),n.preparationClasses&&(n.event=J(n.event,n.preparationClasses));var i=d(e,n);return i.$$willAnimate?i:null}}]}],m=["$animateProvider",function(w){this.$get=["$injector","$$AnimateRunner","$$jqLite",function(v,y,t){var b=C(t);return function(t,e,n,i){var o=!1;3===arguments.length&&tt(n)&&(i=n,n=null),i=mt(i),n||(n=t.attr("class")||"",i.addClass&&(n+=" "+i.addClass),i.removeClass&&(n+=" "+i.removeClass));var r,a,s,l,u,c=i.addClass,p=i.removeClass,h=function(t){t=Ot(t)?t:t.split(" ");for(var e=[],n={},i=0;i<t.length;i++){var o=t[i],r=w.$$registeredAnimations[o];r&&!n[o]&&(e.push(v.get(r)),n[o]=!0)}return e}(n);h.length&&(s="leave"==e?(l="leave","afterLeave"):(l="before"+e.charAt(0).toUpperCase()+e.substr(1),e),"enter"!==e&&"move"!==e&&(r=m(t,e,i,h,l)),a=m(t,e,i,h,s));if(r||a)return{$$willAnimate:!0,end:function(){return u?u.end():(f(),(u=new y).complete(!0)),u},start:function(){if(u)return u;var e;u=new y;var t=[];return r&&t.push(function(t){e=r(t)}),t.length?t.push(function(t){d(),t(!0)}):d(),a&&t.push(function(t){e=a(t)}),u.setHost({end:function(){i()},cancel:function(){i(!0)}}),y.chain(t,n),u;function n(t){f(),u.complete(t)}function i(t){o||((e||It)(t),n(t))}}};function d(){i.domOperation(),b(t,i)}function f(){o=!0,d(),vt(t,i)}function g(a,s,l,t,e){var n=[];return Pt(t,function(t){var r=t[e];r&&n.push(function(){var e,n,i=!1,o=function(t){i||(i=!0,(n||It)(t),e.complete(!t))};return e=new y({end:function(){o()},cancel:function(){o(!0)}}),n=function(t,e,n,i,o){var r;switch(n){case"animate":r=[e,i.from,i.to,o];break;case"setClass":r=[e,c,p,o];break;case"addClass":r=[e,c,o];break;case"removeClass":r=[e,p,o];break;default:r=[e,o]}r.push(i);var a=t.apply(t,r);if(a)if(x(a.start)&&(a=a.start()),a instanceof y)a.done(o);else if(x(a))return a;return It}(r,a,s,l,function(t){o(!1===t)}),e})}),n}function m(t,e,n,i,o){var r,a,s=g(t,e,n,i,o);0===s.length&&("beforeSetClass"===o?(r=g(t,"removeClass",n,i,"beforeRemoveClass"),a=g(t,"addClass",n,i,"beforeAddClass")):"setClass"===o&&(r=g(t,"removeClass",n,i,"removeClass"),a=g(t,"addClass",n,i,"addClass")),r&&(s=s.concat(r)),a&&(s=s.concat(a)));if(0!==s.length)return function(t){var n=[];return s.length&&Pt(s,function(t){n.push(t())}),n.length?y.all(n,t):t(),function(e){Pt(n,function(t){e?t.cancel():t.end()})}}}}}]}],v=["$$animationProvider",function(t){t.drivers.push("$$animateJsDriver"),this.$get=["$$animateJs","$$AnimateRunner",function(r,a){return function(t){if(t.from&&t.to){var i=e(t.from),o=e(t.to);if(!i&&!o)return;return{start:function(){var t=[];i&&t.push(i.start()),o&&t.push(o.start()),a.all(t,function(t){e.complete(t)});var e=new a({end:n(),cancel:n()});return e;function n(){return function(){Pt(t,function(t){t.end()})}}}}}return e(t)};function e(t){var e=t.element,n=t.event,i=t.options,o=t.classes;return r(e,n,o,i)}}]}],ot="data-ng-animate",rt="$ngAnimatePin",y=["$animateProvider",function(l){var i=" ",o=this.rules={skip:[],cancel:[],join:[]};function s(t,e){if(t&&e){var n=function(t){if(!t)return null;var e=t.split(i),n=Object.create(null);return Pt(e,function(t){n[t]=!0}),n}(e);return t.split(i).some(function(t){return n[t]})}}function W(t,e,n,i){return o[t].some(function(t){return t(e,n,i)})}function G(t,e){var n=0<(t.addClass||"").length,i=0<(t.removeClass||"").length;return e?n&&i:n||i}o.join.push(function(t,e,n){return!e.structural&&G(e)}),o.skip.push(function(t,e,n){return!e.structural&&!G(e)}),o.skip.push(function(t,e,n){return"leave"==n.event&&e.structural}),o.skip.push(function(t,e,n){return n.structural&&2===n.state&&!e.structural}),o.cancel.push(function(t,e,n){return n.structural&&e.structural}),o.cancel.push(function(t,e,n){return 2===n.state&&e.structural}),o.cancel.push(function(t,e,n){if(n.structural)return!1;var i=e.addClass,o=e.removeClass,r=n.addClass,a=n.removeClass;return!(nt(i)&&nt(o)||nt(r)&&nt(a))&&(s(i,a)||s(o,r))}),this.$get=["$$rAF","$rootScope","$rootElement","$document","$$HashMap","$$animation","$$AnimateRunner","$templateRequest","$$jqLite","$$forceReflow",function(A,D,M,E,t,P,O,e,n,i){var I=new t,R=new t,L=null;var o=D.$watch(function(){return 0===e.totalPendingRequests},function(t){t&&(o(),D.$$postDigest(function(){D.$$postDigest(function(){null===L&&(L=!0)})}))}),F=Object.create(null),r=l.classNameFilter(),N=r?function(t){return r.test(t)}:function(){return!0},j=C(n);function B(t,e){return X(t,e,{})}var U=u.Node.prototype.contains||function(t){return this===t||!!(16&this.compareDocumentPosition(t))};function a(t,e,n){var i=Z(e);return t.filter(function(t){return!(t.node===i&&(!n||t.callback===n))})}function z(t,e){"close"!==t||e[0].parentNode||s.off(e)}var s={on:function(t,e,n){var i=Z(e);F[t]=F[t]||[],F[t].push({node:i,callback:n}),it(e).on("$destroy",function(){I.get(i)||s.off(t,e,n)})},off:function(t,e,n){if(1!==arguments.length||et(t)){var i=F[t];i&&(F[t]=1===arguments.length?null:a(i,e,n))}else for(var o in e=t,F)F[o]=a(F[o],e)},pin:function(t,e){c(d(t),"element","not an element"),c(d(e),"parentElement","not an element"),t.data(rt,e)},push:function(t,e,n,i){return(n=n||{}).domOperation=i,function(c,o,t){var r,p,a=Et(t);(c=function(t){if(t instanceof it)switch(t.length){case 0:return t;case 1:if(t[0].nodeType===Y)return t;break;default:return it(Z(t))}if(t.nodeType===Y)return it(t)}(c))&&(r=wt(c),p=c.parent());a=mt(a);var s=new O,e=(n=!1,function(t){n?t():D.$$postDigest(function(){n=!0,t()})});var n;Ot(a.addClass)&&(a.addClass=a.addClass.join(" "));a.addClass&&!et(a.addClass)&&(a.addClass=null);Ot(a.removeClass)&&(a.removeClass=a.removeClass.join(" "));a.removeClass&&!et(a.removeClass)&&(a.removeClass=null);a.from&&!tt(a.from)&&(a.from=null);a.to&&!tt(a.to)&&(a.to=null);if(!r)return T(),s;var i=[r.className,a.addClass,a.removeClass].join(" ");if(!N(i))return T(),s;var l=0<=["enter","move","leave"].indexOf(o),u=E[0].hidden,h=!L||u||R.get(r),d=!h&&I.get(r)||{},f=!!d.state;h||f&&1==d.state||(h=!function(t,e,n){var i,o=it(E[0].body),r=V(t,o)||"HTML"===t[0].nodeName,a=V(t,M),s=!1,l=R.get(wt(t)),u=it.data(t[0],rt);u&&(e=u);e=wt(e);for(;e&&(a||(a=V(e,M)),e.nodeType===Y);){var c=I.get(e)||{};if(!s){var p=R.get(e);if(!0===p&&!1!==l){l=!0;break}!1===p&&(l=!1),s=c.structural}if(nt(i)||!0===i){var h=it.data(e,K);Q(h)&&(i=h)}if(s&&!1===i)break;if(r||(r=V(e,o)),r&&a)break;e=a||!(u=it.data(e,rt))?e.parentNode:wt(u)}return(!s||i)&&!0!==l&&a&&r}(c,p));if(h)return u&&S(s,o,"start"),T(),u&&S(s,o,"close"),s;l&&(g=wt(c).querySelectorAll("["+ot+"]"),Pt(g,function(t){var e=parseInt(t.getAttribute(ot)),n=I.get(t);if(n)switch(e){case 2:n.runner.end();case 1:I.remove(t)}}));var g;var m={structural:l,element:c,event:o,addClass:a.addClass,removeClass:a.removeClass,close:T,options:a,runner:s};if(f){var v=W("skip",c,m,d);if(v)return 2===d.state?(T(),s):(X(c,d,m),d.runner);var y=W("cancel",c,m,d);if(y)if(2===d.state)d.runner.end();else{if(!d.structural)return X(c,d,m),d.runner;d.close()}else{var b=W("join",c,m,d);if(b){if(2!==d.state)return w=c,$=a,_="",(x=l?o:null)&&(_=gt(x,ht,!0)),$.addClass&&(_=J(_,gt($.addClass,ct))),$.removeClass&&(_=J(_,gt($.removeClass,pt))),_.length&&($.preparationClasses=_,w.addClass(_)),o=m.event=d.event,a=X(c,d,m),d.runner;B(c,m)}}}else B(c,m);var w,x,$,_;var k=m.structural;k||(k="animate"===m.event&&0<Object.keys(m.options.to||{}).length||G(m));if(!k)return T(),H(c),s;var C=(d.counter||0)+1;return m.counter=C,q(c,1,m),D.$$postDigest(function(){var t=I.get(r),e=!t;t=t||{};var n=0<(c.parent()||[]).length&&("animate"===t.event||t.structural||G(t));if(e||t.counter!==C||!n)return e&&(j(c,a),vt(c,a)),(e||l&&t.event!==o)&&(a.domOperation(),s.end()),void(n||H(c));o=!t.structural&&G(t,!0)?"setClass":t.event,q(c,2);var i=P(c,o,t.options);s.setHost(i),S(s,o,"start",{}),i.done(function(t){T(!t);var e=I.get(r);e&&e.counter===C&&H(wt(c)),S(s,o,"close",{})})}),s;function S(t,s,l,u){e(function(){var t,e,n,i,o,r,a=(t=p,e=s,n=wt(c),i=wt(t),o=[],(r=F[e])&&Pt(r,function(t){U.call(t.node,n)?o.push(t.callback):"leave"===e&&U.call(t.node,i)&&o.push(t.callback)}),o);a.length?A(function(){Pt(a,function(t){t(c,l,u)}),z(l,c)}):z(l,c)}),t.progress(s,l,u)}function T(t){var e,n;e=c,(n=a).preparationClasses&&(e.removeClass(n.preparationClasses),n.preparationClasses=null),n.activeClasses&&(e.removeClass(n.activeClasses),n.activeClasses=null),j(c,a),vt(c,a),a.domOperation(),s.complete(!t)}}(t,e,n)},enabled:function(t,e){var n=arguments.length;if(0===n)e=!!L;else if(d(t)){var i=wt(t);1===n?e=!R.get(i):R.put(i,!e)}else e=L=!!t;return e}};return s;function H(t){var e=wt(t);e.removeAttribute(ot),I.remove(e)}function V(t,e){return wt(t)===wt(e)}function q(t,e,n){(n=n||{}).state=e;var i=wt(t);i.setAttribute(ot,e);var o=I.get(i),r=o?h(o,n):n;I.put(i,r)}}]}],b=["$animateProvider",function(t){var b="ng-animate-ref",w=this.drivers=[],x="$$animationRunner";function $(t){return t.data(x)}this.$get=["$$jqLite","$rootScope","$injector","$$AnimateRunner","$$HashMap","$$rAFScheduler",function(p,h,d,f,g,m){var v=[],y=C(p);return function(e,n,i){i=mt(i);var t,o=0<=["enter","move","leave"].indexOf(n),r=new f({end:function(){c()},cancel:function(){c(!0)}});if(!w.length)return c(),r;t=r,e.data(x,t);var a,s=k(e.attr("class"),k(i.addClass,i.removeClass)),l=i.tempClasses;return l&&(s+=" "+l,i.tempClasses=null),o&&(a="ng-"+n+"-prepare",p.addClass(e,a)),v.push({element:e,classes:s,event:n,structural:o,options:i,beforeStart:function(){e.addClass(_),l&&p.addClass(e,l);a&&(p.removeClass(e,a),a=null)},close:c}),e.on("$destroy",u),1<v.length||h.$$postDigest(function(){var e=[];Pt(v,function(t){$(t.element)?e.push(t):t.close()}),v.length=0;var t=function(c){var p=[],h={};Pt(c,function(t,n){var e,i,o,r=t.element,a=wt(r),s=t.event,l=0<=["enter","move"].indexOf(s),u=t.structural?(i=(e=a).hasAttribute(b)?[e]:e.querySelectorAll("[ng-animate-ref]"),o=[],Pt(i,function(t){var e=t.getAttribute(b);e&&e.length&&o.push(t)}),o):[];if(u.length){var c=l?"to":"from";Pt(u,function(t){var e=t.getAttribute(b);h[e]=h[e]||{},h[e][c]={animationID:n,element:it(t)}})}else p.push(t)});var d={},f={};return Pt(h,function(t,e){var n=t.from,i=t.to;if(n&&i){var o=c[n.animationID],r=c[i.animationID],a=n.animationID.toString();if(!f[a]){var s=f[a]={structural:!0,beforeStart:function(){o.beforeStart(),r.beforeStart()},close:function(){o.close(),r.close()},classes:function(t,e){t=t.split(" "),e=e.split(" ");for(var n=[],i=0;i<t.length;i++){var o=t[i];if("ng-"!==o.substring(0,3))for(var r=0;r<e.length;r++)if(o===e[r]){n.push(o);break}}return n.join(" ")}(o.classes,r.classes),from:o,to:r,anchors:[]};s.classes.length?p.push(s):(p.push(o),p.push(r))}f[a].anchors.push({out:n.element,in:i.element})}else{var l=n?n.animationID:i.animationID,u=l.toString();d[u]||(d[u]=!0,p.push(c[l]))}}),p}(e),n=[];Pt(t,function(o){n.push({domNode:wt(o.from?o.from.element:o.element),fn:function(){o.beforeStart();var t,e=o.close;if($(o.anchors?o.from.element||o.to.element:o.element)){var n=function(t){for(var e=w.length-1;0<=e;e--){var n=w[e],i=d.get(n),o=i(t);if(o)return o}}(o);n&&(t=n.start)}if(t){var i=t();i.done(function(t){e(!t)}),function(t,n){t.from&&t.to?(e(t.from.element),e(t.to.element)):e(t.element);function e(t){var e=$(t);e&&e.setHost(n)}}(o,i)}else e()}})}),m(function(t){var e,o={children:[]},r=new g;for(e=0;e<t.length;e++){var n=t[e];r.put(n.domNode,t[e]={domNode:n.domNode,fn:n.fn,children:[]})}for(e=0;e<t.length;e++)a(t[e]);return function(t){var e,n=[],i=[];for(e=0;e<t.children.length;e++)i.push(t.children[e]);var o=i.length,r=0,a=[];for(e=0;e<i.length;e++){var s=i[e];o<=0&&(o=r,r=0,n.push(a),a=[]),a.push(s.fn),s.children.forEach(function(t){r++,i.push(t)}),o--}return a.length&&n.push(a),n}(o);function a(t){if(t.processed)return t;t.processed=!0;var e,n=t.domNode,i=n.parentNode;for(r.put(n,t);i;){if(e=r.get(i)){e.processed||(e=a(e));break}i=i.parentNode}return(e||o).children.push(t),t}}(n))}),r;function u(){var t=$(e);!t||"leave"===n&&i.$$domOperationFired||t.end()}function c(t){e.off("$destroy",u),e.removeData(x),y(e,i),vt(e,i),i.domOperation(),l&&p.removeClass(e,l),e.removeClass(_),r.complete(!t)}}}]}];t.module("ngAnimate",[],function(){It=t.noop,Et=t.copy,h=t.extend,it=t.element,Pt=t.forEach,Ot=t.isArray,et=t.isString,tt=t.isObject,nt=t.isUndefined,Q=t.isDefined,x=t.isFunction,d=t.isElement}).directive("ngAnimateSwap",["$animate","$rootScope",function(s,t){return{restrict:"A",transclude:"element",terminal:!0,priority:600,link:function(e,n,t,i,o){var r,a;e.$watchCollection(t.ngAnimateSwap||t.for,function(t){r&&s.leave(r),a&&(a.$destroy(),a=null),(t||0===t)&&(a=e.$new(),o(a,function(t){r=t,s.enter(t,null,n)}))})}}}]).directive("ngAnimateChildren",s).factory("$$rAFScheduler",["$$rAF",function(n){var i,o;function t(t){i=i.concat(t),r()}return i=t.queue=[],t.waitUntilQuiet=function(t){o&&o(),o=n(function(){o=null,t(),r()})},t;function r(){if(i.length){for(var t=i.shift(),e=0;e<t.length;e++)t[e]();o||n(function(){o||r()})}}}]).provider("$$animateQueue",y).provider("$$animation",b).provider("$animateCss",f).provider("$$animateCssDriver",g).provider("$$animateJs",m).provider("$$animateJsDriver",v)}(window,window.angular),"undefined"!=typeof module&&"undefined"!=typeof exports&&module.exports===exports&&(module.exports="ui.router"),function(t,O,I){"use strict";var R,L=O.isDefined,h=O.isFunction,F=O.isString,N=O.isObject,j=O.isArray,B=O.forEach,U=O.extend,z=O.copy,f=O.toJson;function H(t,e){return U(new(U(function(){},{prototype:t})),e)}function x(n){return B(arguments,function(t){t!==n&&B(t,function(t,e){n.hasOwnProperty(e)||(n[e]=t)})}),n}function V(t){if(Object.keys)return Object.keys(t);var n=[];return B(t,function(t,e){n.push(e)}),n}function q(t,e){if(Array.prototype.indexOf)return t.indexOf(e,Number(arguments[2])||0);var n=t.length>>>0,i=Number(arguments[2])||0;for((i=i<0?Math.ceil(i):Math.floor(i))<0&&(i+=n);i<n;i++)if(i in t&&t[i]===e)return i;return-1}function W(t,e,n,i){var o,r=function(t,e){var n=[];for(var i in t.path){if(t.path[i]!==e.path[i])break;n.push(t.path[i])}return n}(n,i),a={},s=[];for(var l in r)if(r[l]&&r[l].params&&(o=V(r[l].params)).length)for(var u in o)0<=q(s,o[u])||(s.push(o[u]),a[o[u]]=t[o[u]]);return U({},a,e)}function d(t,e,n){if(!n)for(var i in n=[],t)n.push(i);for(var o=0;o<n.length;o++){var r=n[o];if(t[r]!=e[r])return!1}return!0}function G(t,e){var n={};return B(t,function(t){n[t]=e[t]}),n}function Y(e){var n={},t=Array.prototype.concat.apply(Array.prototype,Array.prototype.slice.call(arguments,1));return B(t,function(t){t in e&&(n[t]=e[t])}),n}function $(t){var e={},n=Array.prototype.concat.apply(Array.prototype,Array.prototype.slice.call(arguments,1));for(var i in t)-1==q(n,i)&&(e[i]=t[i]);return e}function k(t,n){var i=j(t),o=i?[]:{};return B(t,function(t,e){n(t,e)&&(o[i?o.length:e]=t)}),o}function K(t,n){var i=j(t)?[]:{};return B(t,function(t,e){i[e]=n(t,e)}),i}function e(v,y){var t={},s=[],b=t,w=U(v.when(t),{$$promises:t,$$values:t});this.study=function(o){if(!N(o))throw new Error("'invocables' must be an object");var f=V(o||{}),g=[],r=[],a={};function m(t){return N(t)&&t.then&&t.$$promises}return B(o,function e(t,n){if(2!==a[n]){if(r.push(n),1===a[n])throw r.splice(0,q(r,n)),new Error("Cyclic dependency: "+r.join(" -> "));if(a[n]=1,F(t))g.push(n,[function(){return y.get(t)}],s);else{var i=y.annotate(t);B(i,function(t){t!==n&&o.hasOwnProperty(t)&&e(o[t],t)}),g.push(n,t,i)}r.pop(),a[n]=2}}),o=r=a=null,function(s,t,l){if(m(s)&&l===I&&(l=t,t=s,s=null),s){if(!N(s))throw new Error("'locals' must be an object")}else s=b;if(t){if(!m(t))throw new Error("'parent' must be a promise returned by $resolve.resolve()")}else t=w;var e=v.defer(),u=e.promise,c=u.$$promises={},p=U({},s),n=1+g.length/3,i=!1;function h(){--n||(i||x(p,t.$$values),u.$$values=p,u.$$promises=u.$$promises||!0,delete u.$$inheritedValues,e.resolve(p))}function d(t){u.$$failure=t,e.reject(t)}if(L(t.$$failure))return d(t.$$failure),u;t.$$inheritedValues&&x(p,$(t.$$inheritedValues,f)),U(c,t.$$promises),t.$$values?(i=x(p,$(t.$$values,f)),u.$$inheritedValues=$(t.$$values,f),h()):(t.$$inheritedValues&&(u.$$inheritedValues=$(t.$$inheritedValues,f)),t.then(h,d));for(var o=0,r=g.length;o<r;o+=3)s.hasOwnProperty(g[o])?h():a(g[o],g[o+1],g[o+2]);function a(e,t,n){var i=v.defer(),o=0;function r(t){i.reject(t),d(t)}function a(){if(!L(u.$$failure))try{i.resolve(y.invoke(t,l,p)),i.promise.then(function(t){p[e]=t,h()},r)}catch(t){r(t)}}B(n,function(e){c.hasOwnProperty(e)&&!s.hasOwnProperty(e)&&(o++,c[e].then(function(t){p[e]=t,--o||a()},r))}),o||a(),c[e]=i.promise}return u}},this.resolve=function(t,e,n,i){return this.study(t)(e,n,i)}}function n(n,i,o){this.fromConfig=function(t,e,n){return L(t.template)?this.fromString(t.template,e):L(t.templateUrl)?this.fromUrl(t.templateUrl,e):L(t.templateProvider)?this.fromProvider(t.templateProvider,e,n):null},this.fromString=function(t,e){return h(t)?t(e):t},this.fromUrl=function(t,e){return h(t)&&(t=t(e)),null==t?null:n.get(t,{cache:i,headers:{Accept:"text/html"}}).then(function(t){return t.data})},this.fromProvider=function(t,e,n){return o.invoke(t,null,n||{params:e})}}function u(s,l,t){l=U({params:{}},N(l)?l:{});var e,n,i,o,r=/([:*])([\w\[\]]+)|\{([\w\[\]]+)(?:\:\s*((?:[^{}\\]+|\\.|\{(?:[^{}\\]+|\\.)*\})+))?\}/g,a=/([:]?)([\w\[\].-]+)|\{([\w\[\].-]+)(?:\:\s*((?:[^{}\\]+|\\.|\{(?:[^{}\\]+|\\.)*\})+))?\}/g,u="^",c=0,p=this.segments=[],h=t?t.params:{},d=this.params=t?t.params.$$new():new R.ParamSet,f=[];function g(t,e,n,i){if(f.push(t),h[t])return h[t];if(!/^\w+([-.]+\w+)*(?:\[\])?$/.test(t))throw new Error("Invalid parameter name '"+t+"' in pattern '"+s+"'");if(d[t])throw new Error("Duplicate parameter name '"+t+"' in pattern '"+s+"'");return d[t]=new R.Param(t,e,n,i),d[t]}function m(t,e,n,i){var o=["",""],r=t.replace(/[\\\[\]\^$*+?.()|{}]/g,"\\$&");if(!e)return r;switch(n){case!1:o=["(",")"+(i?"?":"")];break;case!0:r=r.replace(/\/$/,""),o=["(?:/(",")|/)?"];break;default:o=["("+n+"|",")?"]}return r+o[0]+e+o[1]}function v(t,e){var n,i,o,r,a;return n=t[2]||t[3],a=l.params[n],o=s.substring(c,t.index),(i=e?t[4]:t[4]||("*"==t[1]?".*":null))&&(r=R.type(i)||H(R.type("string"),{pattern:new RegExp(i,l.caseInsensitive?"i":I)})),{id:n,regexp:i,segment:o,type:r,cfg:a}}for(this.source=s;(e=r.exec(s))&&!(0<=(n=v(e,!1)).segment.indexOf("?"));)i=g(n.id,n.type,n.cfg,"path"),u+=m(n.segment,i.type.pattern.source,i.squash,i.isOptional),p.push(n.segment),c=r.lastIndex;var y=(o=s.substring(c)).indexOf("?");if(0<=y){var b=this.sourceSearch=o.substring(y);if(o=o.substring(0,y),this.sourcePath=s.substring(0,c+y),0<b.length)for(c=0;e=a.exec(b);)i=g((n=v(e,!0)).id,n.type,n.cfg,"search"),c=r.lastIndex}else this.sourcePath=s,this.sourceSearch="";u+=m(o)+(!1===l.strict?"/?":"")+"$",p.push(o),this.regexp=new RegExp(u,l.caseInsensitive?"i":I),this.prefix=p[0],this.$$paramNames=f}function C(t){U(this,t)}function i(d,s){var l,u=[],f=null,g=!1;function c(t,e,n){if(!n)return!1;var i=t.invoke(e,e,{$match:n});return!L(i)||i}function t(c,t,o,e,p){var r,h=e.baseHref(),n=c.url();function i(t){if(!t||!t.defaultPrevented){r&&c.url();r=I;var e,n=u.length;for(e=0;e<n;e++)if(i(u[e]))return;f&&i(f)}function i(t){var e=t(o,c);return!!e&&(F(e)&&c.replace().url(e),!0)}}function a(){return l=l||t.$on("$locationChangeSuccess",i)}return g||a(),{sync:function(){i()},listen:function(){return a()},update:function(t){t?n=c.url():c.url()!==n&&(c.url(n),c.replace())},push:function(t,e,n){var i=t.format(e||{});null!==i&&e&&e["#"]&&(i+="#"+e["#"]),c.url(i),r=n&&n.$$avoidResync?c.url():I,n&&n.replace&&c.replace()},href:function(t,e,n){if(!t.validates(e))return null;var i=d.html5Mode();O.isObject(i)&&(i=i.enabled),i=i&&p.history;var o,r,a,s=t.format(e);if(n=n||{},i||null===s||(s="#"+d.hashPrefix()+s),null!==s&&e&&e["#"]&&(s+="#"+e["#"]),o=s,r=i,a=n.absolute,s="/"===h?o:r?h.slice(0,-1)+o:a?h.slice(1)+o:o,!n.absolute||!s)return s;var l=!i&&s?"/":"",u=c.port();return u=80===u||443===u?"":":"+u,[c.protocol(),"://",c.host(),u,l,s].join("")}}}this.rule=function(t){if(!h(t))throw new Error("'rule' must be a function");return u.push(t),this},this.otherwise=function(t){if(F(t)){var e=t;t=function(){return e}}else if(!h(t))throw new Error("'rule' must be a function");return f=t,this},this.when=function(t,e){var o,r=F(e);if(F(t)&&(t=s.compile(t)),!r&&!h(e)&&!j(e))throw new Error("invalid 'handler' in when()");var n={matcher:function(n,i){return r&&(o=s.compile(i),i=["$match",function(t){return o.format(t)}]),U(function(t,e){return c(t,i,n.exec(e.path(),e.search()))},{prefix:F(n.prefix)?n.prefix:""})},regex:function(n,i){if(n.global||n.sticky)throw new Error("when() RegExp must not be global or sticky");return r&&(o=i,i=["$match",function(t){return n=t,o.replace(/\$(\$|\d{1,2})/,function(t,e){return n["$"===e?0:Number(e)]});var n}]),U(function(t,e){return c(t,i,n.exec(e.path()))},{prefix:(t=n,e=/^\^((?:\\[^a-zA-Z0-9]|[^\\\[\]\^$*+?.()|{}]+)*)/.exec(t.source),null!=e?e[1].replace(/\\(.)/g,"$1"):"")});var t,e}},i={matcher:s.isMatcher(t),regex:t instanceof RegExp};for(var a in i)if(i[a])return this.rule(n[a](t,e));throw new Error("invalid 'what' in when()")},this.deferIntercept=function(t){t===I&&(t=!0),g=t},(this.$get=t).$inject=["$location","$rootScope","$injector","$browser","$sniffer"]}function o(a,i){var D,M,p={},s={},E="abstract",l={parent:function(t){if(L(t.parent)&&t.parent)return P(t.parent);var e=/^(.+)\.[^.]+$/.exec(t.name);return e?P(e[1]):D},data:function(t){return t.parent&&t.parent.data&&(t.data=t.self.data=H(t.parent.data,t.data)),t.data},url:function(t){var e=t.url,n={params:t.params||{}};if(F(e))return"^"==e.charAt(0)?i.compile(e.substring(1),n):(t.parent.navigable||D).url.concat(e,n);if(!e||i.isMatcher(e))return e;throw new Error("Invalid url '"+e+"' in state '"+t+"'")},navigable:function(t){return t.url?t:t.parent?t.parent.navigable:null},ownParams:function(t){var n=t.url&&t.url.params||new R.ParamSet;return B(t.params||{},function(t,e){n[e]||(n[e]=new R.Param(e,null,t,"config"))}),n},params:function(t){var e=Y(t.ownParams,t.ownParams.$$keys());return t.parent&&t.parent.params?U(t.parent.params.$$new(),e):new R.ParamSet},views:function(n){var i={};return B(L(n.views)?n.views:{"":n},function(t,e){e.indexOf("@")<0&&(e+="@"+n.parent.name),i[e]=t}),i},path:function(t){return t.parent?t.parent.path.concat(t):[]},includes:function(t){var e=t.parent?U({},t.parent.includes):{};return e[t.name]=!0,e},$delegates:{}};function P(t,e){if(!t)return I;var n,i=F(t),o=i?t:t.name;if(0===(n=o).indexOf(".")||0===n.indexOf("^")){if(!e)throw new Error("No reference point given for path '"+o+"'");e=P(e);for(var r=o.split("."),a=0,s=r.length,l=e;a<s;a++)if(""!==r[a]||0!==a){if("^"!==r[a])break;if(!l.parent)throw new Error("Path '"+o+"' not valid for state '"+e.name+"'");l=l.parent}else l=e;r=r.slice(a).join("."),o=l.name+(l.name&&r?".":"")+r}var u=p[o];return!u||!i&&(i||u!==t&&u.self!==t)?I:u}function u(n){var t=(n=H(n,{self:n,resolve:n.resolve||{},toString:function(){return this.name}})).name;if(!F(t)||0<=t.indexOf("@"))throw new Error("State must have a valid name");if(p.hasOwnProperty(t))throw new Error("State '"+t+"' is already defined");var e,i,o=-1!==t.indexOf(".")?t.substring(0,t.lastIndexOf(".")):F(n.parent)?n.parent:N(n.parent)&&F(n.parent.name)?n.parent.name:"";if(o&&!p[o])return e=o,i=n.self,s[e]||(s[e]=[]),void s[e].push(i);for(var r in l)h(l[r])&&(n[r]=l[r](n,l.$delegates[r]));return!(p[t]=n)[E]&&n.url&&a.when(n.url,["$match","$stateParams",function(t,e){M.$current.navigable==n&&d(t,e)||M.transitionTo(n,t,{inherit:!0,location:!1})}]),function(t){for(var e=s[t]||[];e.length;)u(e.shift())}(t),n}function t(b,w,u,x,c,$,_,t,e){var k=w.reject(new Error("transition superseded")),C=w.reject(new Error("transition prevented")),S=w.reject(new Error("transition aborted")),T=w.reject(new Error("transition failed"));function A(r,t,e,n,a,s){var l=e?t:G(r.params.$$keys(),t),i={$stateParams:l};a.resolve=c.resolve(r.resolve,i,a.resolve,r);var o=[a.resolve.then(function(t){a.globals=t})];return n&&o.push(n),w.all(o).then(function(){var t=[];return B(r.views,function(n,i){var o=n.resolve&&n.resolve!==r.resolve?n.resolve:{};o.$template=[function(){return u.load(i,{view:n,locals:a.globals,params:l,notify:s.notify})||""}],t.push(c.resolve(o,a.globals,a.resolve,r).then(function(t){if(h(n.controllerProvider)||j(n.controllerProvider)){var e=O.extend({},o,a.globals);t.$$controller=x.invoke(n.controllerProvider,null,e)}else t.$$controller=n.controller;t.$$state=r,t.$$controllerAs=n.controllerAs,a[i]=t}))}),w.all(t).then(function(){return a.globals})}).then(function(t){return a})}return D.locals={resolve:null,globals:{$stateParams:{}}},(M={params:{},current:D.self,$current:D,transition:null,reload:function(t){return M.transitionTo(M.current,$,{reload:t||!0,inherit:!1,notify:!0})},go:function(t,e,n){return M.transitionTo(t,e,U({inherit:!0,relative:M.$current},n))}}).transitionTo=function(i,o,r){o=o||{},r=U({location:!0,inherit:!1,relative:null,notify:!0,reload:!1,$retry:!1},r||{});var a=M.$current,s=M.params,l=a.path,t=P(i,r.relative),e=o["#"];if(!L(t)){var n={to:i,toParams:o,options:r},u=function(t,e,n,i){var o=b.$broadcast("$stateNotFound",t,e,n);if(o.defaultPrevented)return _.update(),S;if(!o.retry)return null;if(i.$retry)return _.update(),T;var r=M.transition=w.when(o.retry);return r.then(function(){return r!==M.transition?k:(t.options.$retry=!0,M.transitionTo(t.to,t.toParams,t.options))},function(){return S}),_.update(),r}(n,a.self,s,r);if(u)return u;if(o=n.toParams,t=P(i=n.to,(r=n.options).relative),!L(t)){if(!r.relative)throw new Error("No such state '"+i+"'");throw new Error("Could not resolve '"+i+"' from state '"+r.relative+"'")}}if(t[E])throw new Error("Cannot transition to abstract state '"+i+"'");if(r.inherit&&(o=W($,o||{},M.$current,t)),!t.params.$$validates(o))return T;o=t.params.$$values(o);var c=(i=t).path,p=0,h=c[p],d=D.locals,f=[];if(r.reload){if(F(r.reload)||N(r.reload)){if(N(r.reload)&&!r.reload.name)throw new Error("Invalid reload state object");var g=!0===r.reload?l[0]:P(r.reload);if(r.reload&&!g)throw new Error("No such reload state '"+(F(r.reload)?r.reload:r.reload.name)+"'");for(;h&&h===l[p]&&h!==g;)d=f[p]=h.locals,h=c[++p]}}else for(;h&&h===l[p]&&h.ownParams.$$equals(o,s);)d=f[p]=h.locals,h=c[++p];if(function(t,e,n,i,o,r){if(!r.reload&&t===n&&(o===n.locals||!1===t.self.reloadOnSearch&&function(e,t,n){function i(t){return"search"!=e.params[t].location}var o=e.params.$$keys().filter(i),r=Y.apply({},[e.params].concat(o));return new R.ParamSet(r).$$equals(t,n)}(n,i,e)))return!0}(i,o,a,s,d,r))return e&&(o["#"]=e),M.params=o,z(M.params,$),z(G(i.params.$$keys(),$),i.locals.globals.$stateParams),r.location&&i.navigable&&i.navigable.url&&(_.push(i.navigable.url,o,{$$avoidResync:!0,replace:"replace"===r.location}),_.update(!0)),M.transition=null,w.when(M.current);if(o=G(i.params.$$keys(),o||{}),e&&(o["#"]=e),r.notify&&b.$broadcast("$stateChangeStart",i.self,o,a.self,s,r).defaultPrevented)return b.$broadcast("$stateChangeCancel",i.self,o,a.self,s),null==M.transition&&_.update(),C;for(var m=w.when(d),v=p;v<c.length;h=c[++v])d=f[v]=H(d),m=A(h,o,h===i,m,d,r);var y=M.transition=m.then(function(){var t,e,n;if(M.transition!==y)return k;for(t=l.length-1;p<=t;t--)(n=l[t]).self.onExit&&x.invoke(n.self.onExit,n.self,n.locals.globals),n.locals=null;for(t=p;t<c.length;t++)(e=c[t]).locals=f[t],e.self.onEnter&&x.invoke(e.self.onEnter,e.self,e.locals.globals);return M.transition!==y?k:(M.$current=i,M.current=i.self,M.params=o,z(M.params,$),M.transition=null,r.location&&i.navigable&&_.push(i.navigable.url,i.navigable.locals.globals.$stateParams,{$$avoidResync:!0,replace:"replace"===r.location}),r.notify&&b.$broadcast("$stateChangeSuccess",i.self,o,a.self,s),_.update(!0),M.current)},function(t){return M.transition!==y?k:(M.transition=null,b.$broadcast("$stateChangeError",i.self,o,a.self,s,t).defaultPrevented||_.update(),w.reject(t))});return y},M.is=function(t,e,n){var i=P(t,(n=U({relative:M.$current},n||{})).relative);return L(i)?M.$current===i&&(!e||d(i.params.$$values(e),$)):I},M.includes=function(t,e,n){if(n=U({relative:M.$current},n||{}),F(t)&&-1<t.indexOf("*")){if(!function(t){for(var e=t.split("."),n=M.$current.name.split("."),i=0,o=e.length;i<o;i++)"*"===e[i]&&(n[i]="*");return"**"===e[0]&&(n=n.slice(q(n,e[1]))).unshift("**"),"**"===e[e.length-1]&&(n.splice(q(n,e[e.length-2])+1,Number.MAX_VALUE),n.push("**")),e.length==n.length&&n.join("")===e.join("")}(t))return!1;t=M.$current.name}var i=P(t,n.relative);return L(i)?!!L(M.$current.includes[i.name])&&(!e||d(i.params.$$values(e),$,V(e))):I},M.href=function(t,e,n){var i=P(t,(n=U({lossy:!0,inherit:!0,absolute:!1,relative:M.$current},n||{})).relative);if(!L(i))return null;n.inherit&&(e=W($,e||{},M.$current,i));var o=i&&n.lossy?i.navigable:i;return o&&o.url!==I&&null!==o.url?_.href(o.url,G(i.params.$$keys().concat("#"),e||{}),{absolute:n.absolute}):null},M.get=function(t,e){if(0===arguments.length)return K(V(p),function(t){return p[t].self});var n=P(t,e||M.$current);return n&&n.self?n.self:null},M}(D=u({name:"",url:"^",views:null,abstract:!0})).navigable=null,this.decorator=function(t,e){if(F(t)&&!L(e))return l[t];if(!h(e)||!F(t))return this;l[t]&&!l.$delegates[t]&&(l.$delegates[t]=l[t]);return l[t]=e,this},this.state=function(t,e){N(t)?e=t:e.name=t;return u(e),this},(this.$get=t).$inject=["$rootScope","$q","$view","$injector","$resolve","$stateParams","$urlRouter","$location","$urlMatcherFactory"]}function r(){function t(t,i){return{load:function(t,e){var n;return(e=U({template:null,controller:null,view:null,locals:null,notify:!0,async:!0,params:{}},e)).view&&(n=i.fromConfig(e.view,e.params,e.locals)),n}}}(this.$get=t).$inject=["$rootScope","$templateFactory"]}O.module("ui.router.util",["ng"]),O.module("ui.router.router",["ui.router.util"]),O.module("ui.router.state",["ui.router.router","ui.router.util"]),O.module("ui.router",["ui.router.state"]),O.module("ui.router.compat",["ui.router"]),e.$inject=["$q","$injector"],O.module("ui.router.util").service("$resolve",e),n.$inject=["$http","$templateCache","$injector"],O.module("ui.router.util").service("$templateFactory",n),u.prototype.concat=function(t,e){var n={caseInsensitive:R.caseInsensitive(),strict:R.strictMode(),squash:R.defaultSquashPolicy()};return new u(this.sourcePath+t+this.sourceSearch,U(n,e),this)},u.prototype.toString=function(){return this.source},u.prototype.exec=function(t,e){var n=this.regexp.exec(t);if(!n)return null;e=e||{};var i,o,r,a,s,l=this.parameters(),u=l.length,c=this.segments.length-1,p={};if(c!==n.length-1)throw new Error("Unbalanced capture group in route '"+this.source+"'");function h(t){function e(t){return t.split("").reverse().join("")}return K(K(e(t).split(/-(?!\\)/),e),function(t){return t.replace(/\\-/g,"-")}).reverse()}for(i=0;i<c;i++){for(r=l[i],a=this.params[r],s=n[i+1],o=0;o<a.replace.length;o++)a.replace[o].from===s&&(s=a.replace[o].to);s&&!0===a.array&&(s=h(s)),L(s)&&(s=a.type.decode(s)),p[r]=a.value(s)}for(;i<u;i++){for(p[r=l[i]]=this.params[r].value(e[r]),a=this.params[r],s=e[r],o=0;o<a.replace.length;o++)a.replace[o].from===s&&(s=a.replace[o].to);L(s)&&(s=a.type.decode(s)),p[r]=a.value(s)}return p},u.prototype.parameters=function(t){return L(t)?this.params[t]||null:this.$$paramNames},u.prototype.validates=function(t){return this.params.$$validates(t)},u.prototype.format=function(t){t=t||{};var e=this.segments,n=this.parameters(),i=this.params;if(!this.validates(t))return null;var o,r=!1,a=e.length-1,s=n.length,l=e[0];function u(t){return encodeURIComponent(t).replace(/-/g,function(t){return"%5C%"+t.charCodeAt(0).toString(16).toUpperCase()})}for(o=0;o<s;o++){var c=o<a,p=n[o],h=i[p],d=h.value(t[p]),f=h.isOptional&&h.type.equals(h.value(),d),g=!!f&&h.squash,m=h.type.encode(d);if(c){var v=e[o+1],y=o+1===a;if(!1===g)null!=m&&(j(m)?l+=K(m,u).join("-"):l+=encodeURIComponent(m)),l+=v;else if(!0===g){var b=l.match(/\/$/)?/\/?(.*)/:/(.*)/;l+=v.match(b)[1]}else F(g)&&(l+=g+v);y&&!0===h.squash&&"/"===l.slice(-1)&&(l=l.slice(0,-1))}else{if(null==m||f&&!1!==g)continue;if(j(m)||(m=[m]),0===m.length)continue;l+=(r?"&":"?")+p+"="+(m=K(m,encodeURIComponent).join("&"+p+"=")),r=!0}}return l},C.prototype.is=function(t,e){return!0},C.prototype.encode=function(t,e){return t},C.prototype.decode=function(t,e){return t},C.prototype.equals=function(t,e){return t==e},C.prototype.$subPattern=function(){var t=this.pattern.toString();return t.substr(1,t.length-2)},C.prototype.pattern=/.*/,C.prototype.toString=function(){return"{Type:"+this.name+"}"},C.prototype.$normalize=function(t){return this.is(t)?t:this.decode(t)},C.prototype.$asArray=function(t,e){if(!t)return this;if("auto"===t&&!e)throw new Error("'auto' array mode is for query parameters only");return new function(t,o){function e(t,e){return function(){return t[e].apply(t,arguments)}}function r(t){return j(t)?t:L(t)?[t]:[]}function a(t){return!t}function n(n,i){return function(t){if(j(t)&&0===t.length)return t;var e=K(t=r(t),n);return!0===i?0===k(e,a).length:function(t){switch(t.length){case 0:return I;case 1:return"auto"===o?t[0]:t;default:return t}}(e)}}var s;this.encode=n(e(t,"encode")),this.decode=n(e(t,"decode")),this.is=n(e(t,"is"),!0),this.equals=(s=e(t,"equals"),function(t,e){var n=r(t),i=r(e);if(n.length!==i.length)return!1;for(var o=0;o<n.length;o++)if(!s(n[o],i[o]))return!1;return!0}),this.pattern=t.pattern,this.$normalize=n(e(t,"$normalize")),this.name=t.name,this.$arrayMode=o}(this,t)},O.module("ui.router.util").provider("$urlMatcherFactory",function t(){R=this;var n=!1,i=!0,w=!1;function e(t){return null!=t?t.toString().replace(/~/g,"~~").replace(/\//g,"~2F"):t}var x,$={},o=!0,r=[],a={string:{encode:e,decode:function(t){return null!=t?t.toString().replace(/~2F/g,"/").replace(/~~/g,"~"):t},is:function(t){return null==t||!L(t)||"string"==typeof t},pattern:/[^/]*/},int:{encode:e,decode:function(t){return parseInt(t,10)},is:function(t){return L(t)&&this.decode(t.toString())===t},pattern:/\d+/},bool:{encode:function(t){return t?1:0},decode:function(t){return 0!==parseInt(t,10)},is:function(t){return!0===t||!1===t},pattern:/0|1/},date:{encode:function(t){return this.is(t)?[t.getFullYear(),("0"+(t.getMonth()+1)).slice(-2),("0"+t.getDate()).slice(-2)].join("-"):I},decode:function(t){if(this.is(t))return t;var e=this.capture.exec(t);return e?new Date(e[1],e[2]-1,e[3]):I},is:function(t){return t instanceof Date&&!isNaN(t.valueOf())},equals:function(t,e){return this.is(t)&&this.is(e)&&t.toISOString()===e.toISOString()},pattern:/[0-9]{4}-(?:0[1-9]|1[0-2])-(?:0[1-9]|[1-2][0-9]|3[0-1])/,capture:/([0-9]{4})-(0[1-9]|1[0-2])-(0[1-9]|[1-2][0-9]|3[0-1])/},json:{encode:O.toJson,decode:O.fromJson,is:O.isObject,equals:O.equals,pattern:/[^/]*/},any:{encode:O.identity,decode:O.identity,equals:O.equals,pattern:/.*/}};function _(t){return h(t)||j(t)&&h(t[t.length-1])}function s(){for(;r.length;){var t=r.shift();if(t.pattern)throw new Error("You cannot override a type's .pattern at runtime.");O.extend($[t.name],x.invoke(t.def))}}function l(t){U(this,t||{})}t.$$getDefaultValue=function(t){if(!_(t.value))return t.value;if(!x)throw new Error("Injectable functions cannot be called at configuration time");return x.invoke(t.value)},this.caseInsensitive=function(t){return L(t)&&(n=t),n},this.strictMode=function(t){return L(t)&&(i=t),i},this.defaultSquashPolicy=function(t){if(!L(t))return w;if(!0!==t&&!1!==t&&!F(t))throw new Error("Invalid squash policy: "+t+". Valid policies: false, true, arbitrary-string");return w=t},this.compile=function(t,e){return new u(t,U({strict:i,caseInsensitive:n},e))},this.isMatcher=function(n){if(!N(n))return!1;var i=!0;return B(u.prototype,function(t,e){h(t)&&(i=i&&L(n[e])&&h(n[e]))}),i},this.type=function(t,e,n){if(!L(e))return $[t];if($.hasOwnProperty(t))throw new Error("A type named '"+t+"' has already been defined.");return $[t]=new C(U({name:t},e)),n&&(r.push({name:t,def:n}),o||s()),this},B(a,function(t,e){$[e]=new C(U({name:e},t))}),$=H($,{}),this.$get=["$injector",function(t){return x=t,o=!1,s(),B(a,function(t,e){$[e]||($[e]=new C(t))}),this}],this.Param=function(i,t,o,e){var n,r,a=this;-1===q(r=N(n=o)?V(n):[],"value")&&-1===q(r,"type")&&-1===q(r,"squash")&&-1===q(r,"array")&&(n={value:n}),n.$$fn=_(n.value)?n.value:function(){return n.value},t=function(t,e,n){if(t.type&&e)throw new Error("Param '"+i+"' has two type configurations.");return e||(t.type?O.isString(t.type)?$[t.type]:t.type instanceof C?t.type:new C(t.type):"config"===n?$.any:$.string)}(o=n,t,e);var s,l,u=(s={array:"search"===e&&"auto"},l=i.match(/\[\]$/)?{array:!0}:{},U(s,l,o).array);"string"!==(t=u?t.$asArray(u,"search"===e):t).name||u||"path"!==e||o.value!==I||(o.value="");var c,p,h,d,f,g,m,v=o.value!==I,y=function(t,e){var n=t.squash;if(!e||!1===n)return!1;if(!L(n)||null==n)return w;if(!0===n||F(n))return n;throw new Error("Invalid squash policy: '"+n+"'. Valid policies: false, true, or arbitrary string")}(o,v),b=(p=u,d=y,m=[{from:"",to:(h=v)||p?I:""},{from:null,to:h||p?I:""}],f=j((c=o).replace)?c.replace:[],F(d)&&f.push({from:d,to:I}),g=K(f,function(t){return t.from}),k(m,function(t){return-1===q(g,t.from)}).concat(f));U(this,{id:i,type:t,location:e,array:u,squash:y,replace:b,isOptional:v,value:function(t){var e,n,i;return e=t,t=(i=K(k(a.replace,(n=e,function(t){return t.from===n})),function(t){return t.to})).length?i[0]:e,L(t)?a.type.$normalize(t):function(){if(!x)throw new Error("Injectable functions cannot be called at configuration time");var t=x.invoke(o.$$fn);if(null!==t&&t!==I&&!a.type.is(t))throw new Error("Default value ("+t+") for parameter '"+a.id+"' is not an instance of Type ("+a.type.name+")");return t}()},dynamic:I,config:o,toString:function(){return"{Param:"+i+" "+t+" squash: '"+y+"' optional: "+v+"}"}})},l.prototype={$$new:function(){return H(this,U(new l,{$$parent:this}))},$$keys:function(){for(var e=[],t=[],n=this,i=V(l.prototype);n;)t.push(n),n=n.$$parent;return t.reverse(),B(t,function(t){B(V(t),function(t){-1===q(e,t)&&-1===q(i,t)&&e.push(t)})}),e},$$values:function(e){var n={},i=this;return B(i.$$keys(),function(t){n[t]=i[t].value(e&&e[t])}),n},$$equals:function(i,o){var r=!0,a=this;return B(a.$$keys(),function(t){var e=i&&i[t],n=o&&o[t];a[t].type.equals(e,n)||(r=!1)}),r},$$validates:function(t){var e,n,i,o,r,a=this.$$keys();for(e=0;e<a.length&&(n=this[a[e]],(i=t[a[e]])!==I&&null!==i||!n.isOptional);e++){if(o=n.type.$normalize(i),!n.type.is(o))return!1;if(r=n.type.encode(o),O.isString(r)&&!n.type.pattern.exec(r))return!1}return!0},$$parent:I},this.ParamSet=l}),O.module("ui.router.util").run(["$urlMatcherFactory",function(t){}]),i.$inject=["$locationProvider","$urlMatcherFactoryProvider"],O.module("ui.router.router").provider("$urlRouter",i),o.$inject=["$urlRouterProvider","$urlMatcherFactoryProvider"],O.module("ui.router.state").factory("$stateParams",function(){return{}}).provider("$state",o),r.$inject=[],O.module("ui.router.state").provider("$view",r),O.module("ui.router.state").provider("$uiViewScroll",function(){var n=!1;this.useAnchorScroll=function(){n=!0},this.$get=["$anchorScroll","$timeout",function(t,e){return n?t:function(t){return e(function(){t[0].scrollIntoView()},0,!1)}}]});var b=O.version.major,w=O.version.minor;function a(g,e,m,v){var t=e.has?function(t){return e.has(t)?e.get(t):null}:function(t){try{return e.get(t)}catch(t){return null}},n=t("$animator"),y=t("$animate");return{restrict:"ECA",terminal:!0,priority:400,transclude:"element",compile:function(t,e,f){return function(o,r,a){var s,l,u,c,p=a.onload||"",h=a.autoscroll,d=function(t,e){var i={enter:function(t,e,n){e.after(t),n()},leave:function(t,e){t.remove(),e()}};if(t.noanimation)return i;function o(t){return 1===b&&4<=w?!!y.enabled(t):1===b&&2<=w?!!y.enabled():!!n}if(y)return{enter:function(t,e,n){o(t)?2<O.version.minor?y.enter(t,null,e).then(n):y.enter(t,null,e,n):i.enter(t,e,n)},leave:function(t,e){o(t)?2<O.version.minor?y.leave(t).then(e):y.leave(t,e):i.leave(t,e)}};if(n){var r=n&&n(e,t);return{enter:function(t,e,n){r.enter(t,null,e),n()},leave:function(t,e){r.leave(t),e()}}}return i}(a,o);function t(t){var e,n=_(o,a,r,v),i=n&&g.$current&&g.$current.locals[n];!t&&i===c||o._willBeDestroyed||(e=o.$new(),c=g.$current.locals[n],e.$emit("$viewContentLoading",n),l=f(e,function(t){d.enter(t,r,function(){u&&u.$emit("$viewContentAnimationEnded"),(O.isDefined(h)&&!h||o.$eval(h))&&m(t)}),function(){var t=s,e=u;function n(){t&&t.remove(),e&&e.$destroy()}e&&(e._willBeDestroyed=!0),s=l?(d.leave(l,function(){n(),s=null}),l):(n(),null),u=l=null}()}),(u=e).$emit("$viewContentLoaded",n),u.$eval(p))}o.$on("$stateChangeSuccess",function(){t(!1)}),t(!0)}}}}function s(u,c,p,h){return{restrict:"ECA",priority:-400,compile:function(t){var l=t.html();return function(t,e,n){var i=p.$current,o=_(t,n,e,h),r=i&&i.locals[o];if(r){e.data("$uiView",{name:o,state:r.$$state}),e.html(r.$template?r.$template:l);var a=u(e.contents());if(r.$$controller){r.$scope=t,r.$element=e;var s=c(r.$$controller,r);r.$$controllerAs&&(t[r.$$controllerAs]=s),e.data("$ngControllerController",s),e.children().data("$ngControllerController",s)}a(t)}}}}}function _(t,e,n,i){var o=i(e.uiView||e.name||"")(t),r=n.inheritedData("$uiView");return 0<=o.indexOf("@")?o:o+"@"+(r?r.state.name:"")}function g(t,e){var n,i=t.match(/^\s*({[^}]*})\s*$/);if(i&&(t=e+"("+i[1]+")"),!(n=t.replace(/\n/g," ").match(/^([^(]+?)\s*(\((.*)\))?$/))||4!==n.length)throw new Error("Invalid state ref '"+t+"'");return{state:n[1],paramExpr:n[3]||null}}function m(t){var e=t.parent().inheritedData("$uiView");if(e&&e.state&&e.state.name)return e.state}function v(t){var e="[object SVGAnimatedString]"===Object.prototype.toString.call(t.prop("href")),n="FORM"===t[0].nodeName;return{attr:n?"action":e?"xlink:href":"href",isAnchor:"A"===t.prop("tagName").toUpperCase(),clickable:!n}}function y(r,a,s,l,u){return function(t){var e=t.which||t.button,n=u();if(!(1<e||t.ctrlKey||t.metaKey||t.shiftKey||r.attr("target"))){var i=s(function(){a.go(n.state,n.params,n.options)});t.preventDefault();var o=l.isAnchor&&!n.href?1:0;t.preventDefault=function(){o--<=0&&s.cancel(i)}}}}function l(c,p){return{restrict:"A",require:["?^uiSrefActive","?^uiSrefActiveEq"],link:function(t,e,n,i){var o,r=g(n.uiSref,c.current.name),a={state:r.state,href:null,params:null},s=v(e),l=i[1]||i[0];a.options=U((o=c,{relative:m(e)||o.$current,inherit:!0}),n.uiSrefOpts?t.$eval(n.uiSrefOpts):{});var u=function(t){t&&(a.params=O.copy(t)),a.href=c.href(r.state,a.params,a.options),l&&l.$$addStateInfo(r.state,a.params),null!==a.href&&n.$set(s.attr,a.href)};r.paramExpr&&(t.$watch(r.paramExpr,function(t){t!==a.params&&u(t)},!0),a.params=O.copy(t.$eval(r.paramExpr))),u(),s.clickable&&e.bind("click",y(e,c,p,s,function(){return a}))}}}function c(u,c){return{restrict:"A",require:["?^uiSrefActive","?^uiSrefActiveEq"],link:function(t,e,n,i){var o=v(e),r=i[1]||i[0],a="["+[n.uiState,n.uiStateParams||null,n.uiStateOpts||null].map(function(t){return t||"null"}).join(", ")+"]",s={state:null,params:null,options:null,href:null};function l(t){s.state=t[0],s.params=t[1],s.options=t[2],s.href=u.href(s.state,s.params,s.options),r&&r.$$addStateInfo(s.state,s.params),s.href&&n.$set(o.attr,s.href)}t.$watch(a,l,!0),l(t.$eval(a)),o.clickable&&e.bind("click",y(e,u,c,o,function(){return s}))}}}function p(d,t,e){return{restrict:"A",controller:["$scope","$element","$attrs","$timeout",function(r,a,t,n){var s,i,l=[],u={};s=e(t.uiSrefActiveEq||"",!1)(r);try{i=r.$eval(t.uiSrefActive)}catch(t){}function o(t,e,n){var i=d.get(t,m(a)),o=function(t,e){if(!F(t))throw new Error("state should be a string");if(N(e))return t+f(e);if(e=r.$eval(e),N(e))return t+f(e);return t}(t,e);l.push({state:i||{name:t},params:e,hash:o}),u[o]=n}function c(){for(var t=0;t<l.length;t++)i=l[t].state,o=l[t].params,d.includes(i.name,o)?p(a,u[l[t].hash]):h(a,u[l[t].hash]),e=l[t].state,n=l[t].params,d.is(e.name,n)?p(a,s):h(a,s);var e,n,i,o}function p(t,e){n(function(){t.addClass(e)})}function h(t,e){t.removeClass(e)}i=i||e(t.uiSrefActive||"",!1)(r),N(i)&&B(i,function(t,e){if(F(t)){var n=g(t,d.current.name);o(n.state,r.$eval(n.paramExpr),e)}}),this.$$addStateInfo=function(t,e){N(i)&&0<l.length||(o(t,e,i),c())},r.$on("$stateChangeSuccess",c),c()}]}}function S(n){var t=function(t,e){return n.is(t,e)};return t.$stateful=!0,t}function T(i){var t=function(t,e,n){return i.includes(t,e,n)};return t.$stateful=!0,t}a.$inject=["$state","$injector","$uiViewScroll","$interpolate"],s.$inject=["$compile","$controller","$state","$interpolate"],O.module("ui.router.state").directive("uiView",a),O.module("ui.router.state").directive("uiView",s),l.$inject=["$state","$timeout"],c.$inject=["$state","$timeout"],p.$inject=["$state","$stateParams","$interpolate"],O.module("ui.router.state").directive("uiSref",l).directive("uiSrefActive",p).directive("uiSrefActiveEq",p).directive("uiState",c),S.$inject=["$state"],T.$inject=["$state"],O.module("ui.router.state").filter("isState",S).filter("includedByState",T)}(window,window.angular),function(a,C){"use strict";C.mock={},C.mock.$BrowserProvider=function(){this.$get=function(){return new C.mock.$Browser}},C.mock.$Browser=function(){var o=this;this.isMock=!0,o.$$url="http://server/",o.$$lastUrl=o.$$url,o.pollFns=[],o.$$completeOutstandingRequest=C.noop,o.$$incOutstandingRequestCount=C.noop,o.onUrlChange=function(t){return o.pollFns.push(function(){o.$$lastUrl===o.$$url&&o.$$state===o.$$lastState||(o.$$lastUrl=o.$$url,o.$$lastState=o.$$state,t(o.$$url,o.$$state))}),t},o.$$applicationDestroyed=C.noop,o.$$checkUrlChange=C.noop,o.deferredFns=[],o.deferredNextId=0,o.defer=function(t,e){return e=e||0,o.deferredFns.push({time:o.defer.now+e,fn:t,id:o.deferredNextId}),o.deferredFns.sort(function(t,e){return t.time-e.time}),o.deferredNextId++},o.defer.now=0,o.defer.cancel=function(n){var i;return C.forEach(o.deferredFns,function(t,e){t.id===n&&(i=e)}),!!C.isDefined(i)&&(o.deferredFns.splice(i,1),!0)},o.defer.flush=function(t){var e;if(C.isDefined(t))e=o.defer.now+t;else{if(!o.deferredFns.length)throw new Error("No deferred tasks to be flushed");e=o.deferredFns[o.deferredFns.length-1].time}for(;o.deferredFns.length&&o.deferredFns[0].time<=e;)o.defer.now=o.deferredFns[0].time,o.deferredFns.shift().fn();o.defer.now=e},o.$$baseHref="/",o.baseHref=function(){return this.$$baseHref}},C.mock.$Browser.prototype={poll:function(){C.forEach(this.pollFns,function(t){t()})},url:function(t,e,n){return C.isUndefined(n)&&(n=null),t?(this.$$url=t,this.$$state=C.copy(n),this):this.$$url},state:function(){return this.$$state},notifyWhenNoOutstandingRequests:function(t){t()}},C.mock.$ExceptionHandlerProvider=function(){var t;this.mode=function(e){switch(e){case"log":case"rethrow":var n=[];(t=function(t){if(1==arguments.length?n.push(t):n.push([].slice.call(arguments,0)),"rethrow"===e)throw t}).errors=n;break;default:throw new Error("Unknown mode '"+e+"', only 'log'/'rethrow' modes are allowed!")}},this.$get=function(){return t},this.mode("rethrow")},C.mock.$LogProvider=function(){var e=!0;function n(t,e,n){return t.concat(Array.prototype.slice.call(e,n))}this.debugEnabled=function(t){return C.isDefined(t)?(e=t,this):e},this.$get=function(){var t={log:function(){t.log.logs.push(n([],arguments,0))},warn:function(){t.warn.logs.push(n([],arguments,0))},info:function(){t.info.logs.push(n([],arguments,0))},error:function(){t.error.logs.push(n([],arguments,0))},debug:function(){e&&t.debug.logs.push(n([],arguments,0))},reset:function(){t.log.logs=[],t.info.logs=[],t.warn.logs=[],t.error.logs=[],t.debug.logs=[]},assertEmpty:function(){var n=[];if(C.forEach(["error","warn","info","log","debug"],function(e){C.forEach(t[e].logs,function(t){C.forEach(t,function(t){n.push("MOCK $log ("+e+"): "+String(t)+"\n"+(t.stack||""))})})}),n.length)throw n.unshift("Expected $log to be empty! Either a message was logged unexpectedly, or an expected log message was not checked and removed:"),n.push(""),new Error(n.join("\n---------\n"))}};return t.reset(),t}},C.mock.$IntervalProvider=function(){this.$get=["$browser","$rootScope","$q","$$q",function(c,p,h,d){var f=[],g=0,m=0,t=function(t,e,i,n){var o=4<arguments.length,r=o?Array.prototype.slice.call(arguments,4):[],a=0,s=C.isDefined(n)&&!n,l=(s?d:h).defer(),u=l.promise;return i=C.isDefined(i)?i:0,u.then(null,null,o?function(){t.apply(null,r)}:t),u.$$intervalId=g,f.push({nextTime:m+e,delay:e,fn:function(){var n;l.notify(a++),0<i&&i<=a&&(l.resolve(a),C.forEach(f,function(t,e){t.id===u.$$intervalId&&(n=e)}),C.isDefined(n)&&f.splice(n,1)),s?c.defer.flush():p.$apply()},id:g,deferred:l}),f.sort(function(t,e){return t.nextTime-e.nextTime}),g++,u};return t.cancel=function(n){return!!n&&(C.forEach(f,function(t,e){t.id===n.$$intervalId&&(i=e)}),!!C.isDefined(i)&&(f[i].deferred.reject("canceled"),f.splice(i,1),!0));var i},t.flush=function(t){for(m+=t;f.length&&f[0].nextTime<=m;){var e=f[0];e.fn(),e.nextTime+=e.delay,f.sort(function(t,e){return t.nextTime-e.nextTime})}return t},t}]};var u,r=/^(-?\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?:\:?(\d\d)(?:\:?(\d\d)(?:\.(\d{3}))?)?)?(Z|([+-])(\d\d):?(\d\d)))?$/;function s(t){return parseInt(t,10)}function l(t,e,n){var i="";for(t<0&&(i="-",t=-t),t=""+t;t.length<e;)t="0"+t;return n&&(t=t.substr(t.length-e)),i+t}function t(n,v,y,b){var w=[],x=[],$=[],_=C.bind($,$.push),k=C.copy;function s(t,e,n,i){return C.isFunction(t)?t:function(){return C.isNumber(t)?[t,e,n,i]:[200,t,e,n]}}function a(i,o,r,a,s,l,t,e,n,u){var c=new S,p=x[0],h=!1;function d(t){return C.isString(t)||C.isFunction(t)||t instanceof RegExp?t:C.toJson(t)}function f(e){return!b&&l&&(l.then?l.then(t):v(t,l)),n;function n(){var t=e.response(i,o,r,s,e.params(o));c.$$respHeaders=t[2],a(k(t[0]),k(t[1]),c.getAllResponseHeaders(),k(t[3]||""))}function t(){for(var t=0,e=$.length;t<e;t++)if($[t]===n){$.splice(t,1),a(-1,void 0,"");break}}}if(c.$$events=n,c.upload.$$events=u,p&&p.match(i,o)){if(!p.matchData(r))throw new Error("Expected "+p+" with different data\nEXPECTED: "+d(p.data)+"\nGOT:      "+r);if(!p.matchHeaders(s))throw new Error("Expected "+p+" with different headers\nEXPECTED: "+d(p.headers)+"\nGOT:      "+d(s));if(x.shift(),p.response)return void $.push(f(p));h=!0}for(var g,m=-1;g=w[++m];)if(g.match(i,o,r,s||{})){if(g.response)(b?b.defer:_)(f(g));else{if(!g.passThrough)throw new Error("No response defined !");y(i,o,r,a,s,l,t,e,n,u)}return}throw h?new Error("No response defined !"):new Error("Unexpected request: "+i+" "+o+"\n"+(p?"Expected "+p:"No more request expected"))}function i(t){var e={regexp:t},a=e.keys=[];return t&&C.isString(t)&&(t=t.replace(/([().])/g,"\\$1").replace(/(\/)?:(\w+)([\?\*])?/g,function(t,e,n,i){var o="?"===i?i:null,r="*"===i?i:null;return a.push({name:n,optional:!!o}),e=e||"",(o?"":e)+"(?:"+(o?e:"")+(r?"(.+?)":"([^/]+)")+(o||"")+")"+(o||"")}).replace(/([\/$\*])/g,"\\$1"),e.regexp=new RegExp("^"+t,"i")),e}return a.when=function(t,e,n,i,o){var r=new c(t,e,n,i,o),a={respond:function(t,e,n,i){return r.passThrough=void 0,r.response=s(t,e,n,i),a}};return b&&(a.passThrough=function(){return r.response=void 0,r.passThrough=!0,a}),w.push(r),a},t("when"),a.whenRoute=function(t,e){var n=i(e);return a.when(t,n.regexp,void 0,void 0,n.keys)},a.expect=function(t,e,n,i,o){var r=new c(t,e,n,i,o),a={respond:function(t,e,n,i){return r.response=s(t,e,n,i),a}};return x.push(r),a},t("expect"),a.expectRoute=function(t,e){var n=i(e);return a.expect(t,n.regexp,void 0,void 0,n.keys)},a.flush=function(t,e){if(!1!==e&&n.$digest(),!$.length)throw new Error("No pending request to flush !");if(C.isDefined(t)&&null!==t)for(;t--;){if(!$.length)throw new Error("No more pending request to flush !");$.shift()()}else for(;$.length;)$.shift()();a.verifyNoOutstandingExpectation(e)},a.verifyNoOutstandingExpectation=function(t){if(!1!==t&&n.$digest(),x.length)throw new Error("Unsatisfied requests: "+x.join(", "))},a.verifyNoOutstandingRequest=function(){if($.length)throw new Error("Unflushed requests: "+$.length)},a.resetExpectations=function(){x.length=0,$.length=0},a;function t(r){C.forEach(["GET","DELETE","JSONP","HEAD"],function(i){a[r+i]=function(t,e,n){return a[r](i,t,void 0,e,n)}}),C.forEach(["PUT","POST","PATCH"],function(o){a[r+o]=function(t,e,n,i){return a[r](o,t,e,n,i)}})}}function c(o,s,e,n,l){function i(t){return t.slice(t.indexOf("?")+1).split("&").sort()}this.data=e,this.headers=n,this.match=function(t,e,n,i){return o==t&&(!!this.matchUrl(e)&&(!(C.isDefined(n)&&!this.matchData(n))&&!(C.isDefined(i)&&!this.matchHeaders(i))))},this.matchUrl=function(t){return!s||(C.isFunction(s.test)?s.test(t):C.isFunction(s)?s(t):s==t||(e=t,s.slice(0,s.indexOf("?"))==e.slice(0,e.indexOf("?"))&&i(s).join()==i(e).join()));var e},this.matchHeaders=function(t){return!!C.isUndefined(n)||(C.isFunction(n)?n(t):C.equals(n,t))},this.matchData=function(t){return!!C.isUndefined(e)||(e&&C.isFunction(e.test)?e.test(t):e&&C.isFunction(e)?e(t):e&&!C.isString(e)?C.equals(C.fromJson(C.toJson(e)),C.fromJson(t)):e==t)},this.toString=function(){return o+" "+s},this.params=function(a){return C.extend((o={},t=-1<a.indexOf("?")?a.substring(a.indexOf("?")+1):"",C.forEach(t.split("&"),function(t){if(t&&(n=t.replace(/\+/g,"%20").split("="),i=r(n[0]),C.isDefined(i))){var e=!C.isDefined(n[1])||r(n[1]);hasOwnProperty.call(o,i)?C.isArray(o[i])?o[i].push(e):o[i]=[o[i],e]:o[i]=e}}),o),function(){var t={};if(!s||!C.isFunction(s.test)||!l||0===l.length)return t;var e=s.exec(a);if(!e)return t;for(var n=1,i=e.length;n<i;++n){var o=l[n-1],r=e[n];o&&r&&(t[o.name||o]=r)}return t}());var n,i,o,t;function r(t){try{return decodeURIComponent(t)}catch(t){}}}}function S(){(S.$$lastInstance=this).open=function(t,e,n){this.$$method=t,this.$$url=e,this.$$async=n,this.$$reqHeaders={},this.$$respHeaders={}},this.send=function(t){this.$$data=t},this.setRequestHeader=function(t,e){this.$$reqHeaders[t]=e},this.getResponseHeader=function(n){var i=this.$$respHeaders[n];return i||(n=C.lowercase(n),(i=this.$$respHeaders[n])||(i=void 0,C.forEach(this.$$respHeaders,function(t,e){i||C.lowercase(e)!=n||(i=t)})),i)},this.getAllResponseHeaders=function(){var n=[];return C.forEach(this.$$respHeaders,function(t,e){n.push(e+": "+t)}),n.join("\n")},this.abort=C.noop,this.$$events={},this.addEventListener=function(t,e){C.isUndefined(this.$$events[t])&&(this.$$events[t]=[]),this.$$events[t].push(e)},this.upload={$$events:{},addEventListener:this.addEventListener}}C.mock.TzDate=function(t,e){var n=new Date(0);if(C.isString(e)){var i=e;if(n.origDate=function(t){var e;if(e=t.match(r)){var n=new Date(0),i=0,o=0;return e[9]&&(i=s(e[9]+e[10]),o=s(e[9]+e[11])),n.setUTCFullYear(s(e[1]),s(e[2])-1,s(e[3])),n.setUTCHours(s(e[4]||0)-i,s(e[5]||0)-o,s(e[6]||0),s(e[7]||0)),n}return t}(e),e=n.origDate.getTime(),isNaN(e))throw{name:"Illegal Argument",message:"Arg '"+i+"' passed into TzDate constructor is not a valid date string"}}else n.origDate=new Date(e);var o=new Date(e).getTimezoneOffset();n.offsetDiff=60*o*1e3-1e3*t*60*60,n.date=new Date(e+n.offsetDiff),n.getTime=function(){return n.date.getTime()-n.offsetDiff},n.toLocaleDateString=function(){return n.date.toLocaleDateString()},n.getFullYear=function(){return n.date.getFullYear()},n.getMonth=function(){return n.date.getMonth()},n.getDate=function(){return n.date.getDate()},n.getHours=function(){return n.date.getHours()},n.getMinutes=function(){return n.date.getMinutes()},n.getSeconds=function(){return n.date.getSeconds()},n.getMilliseconds=function(){return n.date.getMilliseconds()},n.getTimezoneOffset=function(){return 60*t},n.getUTCFullYear=function(){return n.origDate.getUTCFullYear()},n.getUTCMonth=function(){return n.origDate.getUTCMonth()},n.getUTCDate=function(){return n.origDate.getUTCDate()},n.getUTCHours=function(){return n.origDate.getUTCHours()},n.getUTCMinutes=function(){return n.origDate.getUTCMinutes()},n.getUTCSeconds=function(){return n.origDate.getUTCSeconds()},n.getUTCMilliseconds=function(){return n.origDate.getUTCMilliseconds()},n.getDay=function(){return n.date.getDay()},n.toISOString&&(n.toISOString=function(){return l(n.origDate.getUTCFullYear(),4)+"-"+l(n.origDate.getUTCMonth()+1,2)+"-"+l(n.origDate.getUTCDate(),2)+"T"+l(n.origDate.getUTCHours(),2)+":"+l(n.origDate.getUTCMinutes(),2)+":"+l(n.origDate.getUTCSeconds(),2)+"."+l(n.origDate.getUTCMilliseconds(),3)+"Z"});return C.forEach(["getUTCDay","getYear","setDate","setFullYear","setHours","setMilliseconds","setMinutes","setMonth","setSeconds","setTime","setUTCDate","setUTCFullYear","setUTCHours","setUTCMilliseconds","setUTCMinutes","setUTCMonth","setUTCSeconds","setYear","toDateString","toGMTString","toJSON","toLocaleFormat","toLocaleString","toLocaleTimeString","toSource","toString","toTimeString","toUTCString","valueOf"],function(t){n[t]=function(){throw new Error("Method '"+t+"' is not implemented in the TzDate mock")}}),n},C.mock.TzDate.prototype=Date.prototype,C.mock.animate=C.module("ngAnimateMock",["ng"]).config(["$provide",function(t){t.factory("$$forceReflow",function(){function t(){t.totalReflows++}return t.totalReflows=0,t}),t.factory("$$animateAsyncRun",function(){var e=[],t=function(){return function(t){e.push(t)}};return t.flush=function(){if(0===e.length)return!1;for(var t=0;t<e.length;t++)e[t]();return e=[],!0},t}),t.decorator("$$animateJs",["$delegate",function(e){var n=[],t=function(){var t=e.apply(e,arguments);return t&&n.push(t),t};return t.$closeAndFlush=function(){n.forEach(function(t){t.end()}),n=[]},t}]),t.decorator("$animateCss",["$delegate",function(i){var o=[],t=function(t,e){var n=i(t,e);return o.push(n),n};return t.$closeAndFlush=function(){o.forEach(function(t){t.end()}),o=[]},t}]),t.decorator("$animate",["$delegate","$timeout","$browser","$$rAF","$animateCss","$$animateJs","$$forceReflow","$$animateAsyncRun","$rootScope",function(e,t,n,i,o,r,a,s,l){var u={queue:[],cancel:e.cancel,on:e.on,off:e.off,pin:e.pin,get reflows(){return a.totalReflows},enabled:e.enabled,closeAndFlush:function(){this.flush(!0),o.$closeAndFlush(),r.$closeAndFlush(),this.flush()},flush:function(t){l.$digest();for(var e,n=!1;e=!1,i.queue.length&&(i.flush(),e=n=!0),s.flush()&&(e=n=!0),e;);if(!n&&!t)throw new Error("No pending animations ready to be closed or flushed");l.$digest()}};return C.forEach(["animate","enter","leave","move","addClass","removeClass","setClass"],function(t){u[t]=function(){return u.queue.push({event:t,element:arguments[0],options:arguments[arguments.length-1],args:arguments}),e[t].apply(e,arguments)}}),u}])}]),C.mock.dump=function(t){return function e(t){var n;n=C.isElement(t)?(t=C.element(t),n=C.element("<div></div>"),C.forEach(t,function(t){n.append(C.element(t).clone())}),n.html()):C.isArray(t)?(n=[],C.forEach(t,function(t){n.push(e(t))}),"[ "+n.join(", ")+" ]"):C.isObject(t)?C.isFunction(t.$eval)&&C.isFunction(t.$apply)?r(t):t instanceof Error?t.stack||t.name+": "+t.message:C.toJson(t,!0):String(t);return n}(t);function r(t,e){var n=[(e=e||"  ")+"Scope("+t.$id+"): {"];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&!i.match(/^(\$|this)/)&&n.push("  "+i+": "+C.toJson(t[i]));for(var o=t.$$childHead;o;)n.push(r(o,e+"  ")),o=o.$$nextSibling;return n.push("}"),n.join("\n"+e)}},C.mock.$HttpBackendProvider=function(){this.$get=["$rootScope","$timeout",t]},C.mock.$TimeoutDecorator=["$delegate","$browser",function(t,n){return t.flush=function(t){n.defer.flush(t)},t.verifyNoPendingTasks=function(){if(n.deferredFns.length)throw new Error("Deferred tasks to flush ("+n.deferredFns.length+"): "+(t=n.deferredFns,e=[],C.forEach(t,function(t){e.push("{id: "+t.id+", time: "+t.time+"}")}),e.join(", ")));var t,e},t}],C.mock.$RAFDecorator=["$delegate",function(t){var n=function(t){var e=n.queue.length;return n.queue.push(t),function(){n.queue.splice(e,1)}};return n.queue=[],n.supported=t.supported,n.flush=function(){if(0===n.queue.length)throw new Error("No rAF callbacks present");for(var t=n.queue.length,e=0;e<t;e++)n.queue[e]();n.queue=n.queue.slice(e)},n}],C.mock.$RootElementProvider=function(){this.$get=["$injector",function(t){return u=C.element("<div ng-app></div>").data("$injector",t)}]},C.mock.$ControllerDecorator=["$delegate",function(a){return function(t,e,n,i){if(n&&"object"==typeof n){var o=a(t,e,!0,i);C.extend(o.instance,n);var r=o();return r!==o.instance&&C.extend(r,n),r}return a(t,e,n,i)}}],C.mock.$ComponentControllerProvider=["$compileProvider",function(t){this.$get=["$controller","$injector","$rootScope",function(a,s,l){return function(t,e,n,i){var o=s.get(t+"Directive").filter(function(t){return t.controller&&t.controllerAs&&"E"===t.restrict});if(0===o.length)throw new Error("No component found");if(1<o.length)throw new Error("Too many components found");var r=o[0];return(e=e||{}).$scope=e.$scope||l.$new(!0),a(r.controller,e,n,i||r.controllerAs)}}]}],C.module("ngMock",["ng"]).provider({$browser:C.mock.$BrowserProvider,$exceptionHandler:C.mock.$ExceptionHandlerProvider,$log:C.mock.$LogProvider,$interval:C.mock.$IntervalProvider,$httpBackend:C.mock.$HttpBackendProvider,$rootElement:C.mock.$RootElementProvider,$componentController:C.mock.$ComponentControllerProvider}).config(["$provide",function(t){t.decorator("$timeout",C.mock.$TimeoutDecorator),t.decorator("$$rAF",C.mock.$RAFDecorator),t.decorator("$rootScope",C.mock.$RootScopeDecorator),t.decorator("$controller",C.mock.$ControllerDecorator)}]),C.module("ngMockE2E",["ng"]).config(["$provide",function(t){t.value("$httpBackend",C.injector(["ng"]).get("$httpBackend")),t.decorator("$httpBackend",C.mock.e2e.$httpBackendDecorator)}]),C.mock.e2e={},C.mock.e2e.$httpBackendDecorator=["$rootScope","$timeout","$delegate","$browser",t],C.mock.$RootScopeDecorator=["$delegate",function(t){var e=Object.getPrototypeOf(t);return e.$countChildScopes=function(){var t,e=0,n=[this.$$childHead];for(;n.length;)for(t=n.shift();t;)e+=1,n.push(t.$$childHead),t=t.$$nextSibling;return e},e.$countWatchers=function(){var t,e=this.$$watchers?this.$$watchers.length:0,n=[this.$$childHead];for(;n.length;)for(t=n.shift();t;)e+=t.$$watchers?t.$$watchers.length:0,n.push(t.$$childHead),t=t.$$nextSibling;return e},t}],function(t){if(a.jasmine||a.mocha){var s=null,n=new o,r=[],i=function(){return!!s};C.mock.$$annotate=C.injector.$$annotate,C.injector.$$annotate=function(t){return"function"!=typeof t||t.$inject||r.push(t),C.mock.$$annotate.apply(this,arguments)};var e=a.module=C.mock.module=function(){var t=Array.prototype.slice.call(arguments,0);return i()?e():e;function e(){if(s.$injector)throw new Error("Injector already created, can not register a module!");var e,n=s.$modules||(s.$modules=[]);C.forEach(t,function(t){e=C.isObject(t)&&!C.isArray(t)?["$provide",function(n){C.forEach(t,function(t,e){n.value(e,t)})}]:t,s.$providerInjector?s.$providerInjector.invoke(e):n.push(e)})}};e.$$beforeAllHook=a.before||a.beforeAll,e.$$afterAllHook=a.after||a.afterAll,e.$$currentSpec=function(t){if(0===arguments.length)return t;s=t},e.sharedInjector=function(){if(!e.$$beforeAllHook||!e.$$afterAllHook)throw Error("sharedInjector() cannot be used unless your test runner defines beforeAll/afterAll");var t=!1;e.$$beforeAllHook(function(){if(n.shared)throw n.sharedError=Error("sharedInjector() cannot be called inside a context that has already called sharedInjector()"),n.sharedError;t=!0,s=this,n.shared=!0}),e.$$afterAllHook(function(){t?(n=new o,e.$$cleanup()):n.sharedError=null})},e.$$beforeEach=function(){if(n.shared&&s&&s!=this){var e=s;s=this,C.forEach(["$injector","$modules","$providerInjector","$injectorStrict"],function(t){s[t]=e[t],e[t]=null})}else s=this,u=null,r=[]},e.$$afterEach=function(){n.cleanupAfterEach()&&e.$$cleanup()},e.$$cleanup=function(){var t=s.$injector;if(r.forEach(function(t){delete t.$inject}),C.forEach(s.$modules,function(t){t&&t.$$hashKey&&(t.$$hashKey=void 0)}),s.$injector=null,s.$modules=null,s.$providerInjector=null,s=null,t){var e=t.get("$rootElement"),n=e&&e[0],i=u?[u[0]]:[];!n||u&&n===u[0]||i.push(n),C.element.cleanData(i);var o=t.get("$rootScope");o&&o.$destroy&&o.$destroy()}C.forEach(C.element.fragments,function(t,e){delete C.element.fragments[e]}),S.$$lastInstance=null,C.forEach(C.callbacks,function(t,e){delete C.callbacks[e]}),C.callbacks.$$counter=0},(a.beforeEach||a.setup)(e.$$beforeEach),(a.afterEach||a.teardown)(e.$$afterEach);var l=function(t,e){this.message=t.message,this.name=t.name,t.line&&(this.line=t.line),t.sourceId&&(this.sourceId=t.sourceId),t.stack&&e&&(this.stack=t.stack+"\n"+e.stack),t.stackArray&&(this.stackArray=t.stackArray)};l.prototype=Error.prototype,a.inject=C.mock.inject=function(){var r=Array.prototype.slice.call(arguments,0),a=new Error("Declaration Location");if(!a.stack)try{throw a}catch(t){}return i()?t.call(s):t;function t(){var t=s.$modules||[],e=!!s.$injectorStrict;t.unshift(["$injector",function(t){s.$providerInjector=t}]),t.unshift("ngMock"),t.unshift("ng");var n=s.$injector;n||(e&&C.forEach(t,function(t){"function"==typeof t&&C.injector.$$annotate(t)}),n=s.$injector=C.injector(t,e),s.$injectorStrict=e);for(var i=0,o=r.length;i<o;i++){s.$injectorStrict&&n.annotate(r[i]);try{n.invoke(r[i]||C.noop,this)}catch(t){if(t.stack&&a)throw new l(t,a);throw t}finally{a=null}}}},C.mock.inject.strictDi=function(t){return t=!arguments.length||!!t,i()?e():e;function e(){if(t!==s.$injectorStrict){if(s.$injector)throw new Error("Injector already created, can not modify strict annotations");s.$injectorStrict=t}}}}function o(){this.shared=!1,this.sharedError=null,this.cleanupAfterEach=function(){return!this.shared||this.sharedError}}}()}(window,window.angular),angular.module("ui.bootstrap",["ui.bootstrap.tpls","ui.bootstrap.collapse","ui.bootstrap.accordion","ui.bootstrap.alert","ui.bootstrap.buttons","ui.bootstrap.carousel","ui.bootstrap.dateparser","ui.bootstrap.isClass","ui.bootstrap.datepicker","ui.bootstrap.position","ui.bootstrap.datepickerPopup","ui.bootstrap.debounce","ui.bootstrap.dropdown","ui.bootstrap.stackedMap","ui.bootstrap.modal","ui.bootstrap.paging","ui.bootstrap.pager","ui.bootstrap.pagination","ui.bootstrap.tooltip","ui.bootstrap.popover","ui.bootstrap.progressbar","ui.bootstrap.rating","ui.bootstrap.tabs","ui.bootstrap.timepicker","ui.bootstrap.typeahead"]),angular.module("ui.bootstrap.tpls",["uib/template/accordion/accordion-group.html","uib/template/accordion/accordion.html","uib/template/alert/alert.html","uib/template/carousel/carousel.html","uib/template/carousel/slide.html","uib/template/datepicker/datepicker.html","uib/template/datepicker/day.html","uib/template/datepicker/month.html","uib/template/datepicker/year.html","uib/template/datepickerPopup/popup.html","uib/template/modal/backdrop.html","uib/template/modal/window.html","uib/template/pager/pager.html","uib/template/pagination/pagination.html","uib/template/tooltip/tooltip-html-popup.html","uib/template/tooltip/tooltip-popup.html","uib/template/tooltip/tooltip-template-popup.html","uib/template/popover/popover-html.html","uib/template/popover/popover-template.html","uib/template/popover/popover.html","uib/template/progressbar/bar.html","uib/template/progressbar/progress.html","uib/template/progressbar/progressbar.html","uib/template/rating/rating.html","uib/template/tabs/tab.html","uib/template/tabs/tabset.html","uib/template/timepicker/timepicker.html","uib/template/typeahead/typeahead-match.html","uib/template/typeahead/typeahead-popup.html"]),angular.module("ui.bootstrap.collapse",[]).directive("uibCollapse",["$animate","$q","$parse","$injector",function(u,c,p,t){var h=t.has("$animateCss")?t.get("$animateCss"):null;return{link:function(e,n,t){var i=p(t.expanding),o=p(t.expanded),r=p(t.collapsing),a=p(t.collapsed);function s(){n.removeClass("collapsing").addClass("collapse").css({height:"auto"}),o(e)}function l(){n.css({height:"0"}),n.removeClass("collapsing").addClass("collapse"),a(e)}e.$eval(t.uibCollapse)||n.addClass("in").addClass("collapse").attr("aria-expanded",!0).attr("aria-hidden",!1).css({height:"auto"}),e.$watch(t.uibCollapse,function(t){t?function(){if(!n.hasClass("collapse")&&!n.hasClass("in"))return l();c.resolve(r(e)).then(function(){n.css({height:n[0].scrollHeight+"px"}).removeClass("collapse").addClass("collapsing").attr("aria-expanded",!1).attr("aria-hidden",!0),h?h(n,{removeClass:"in",to:{height:"0"}}).start().finally(l):u.removeClass(n,"in",{to:{height:"0"}}).then(l)})}():n.hasClass("collapse")&&n.hasClass("in")||c.resolve(i(e)).then(function(){n.removeClass("collapse").addClass("collapsing").attr("aria-expanded",!0).attr("aria-hidden",!1),h?h(n,{addClass:"in",easing:"ease",to:{height:n[0].scrollHeight+"px"}}).start().finally(s):u.addClass(n,"in",{to:{height:n[0].scrollHeight+"px"}}).then(s)})})}}}]),angular.module("ui.bootstrap.accordion",["ui.bootstrap.collapse"]).constant("uibAccordionConfig",{closeOthers:!0}).controller("UibAccordionController",["$scope","$attrs","uibAccordionConfig",function(t,n,i){this.groups=[],this.closeOthers=function(e){(angular.isDefined(n.closeOthers)?t.$eval(n.closeOthers):i.closeOthers)&&angular.forEach(this.groups,function(t){t!==e&&(t.isOpen=!1)})},this.addGroup=function(e){var n=this;this.groups.push(e),e.$on("$destroy",function(t){n.removeGroup(e)})},this.removeGroup=function(t){var e=this.groups.indexOf(t);-1!==e&&this.groups.splice(e,1)}}]).directive("uibAccordion",function(){return{controller:"UibAccordionController",controllerAs:"accordion",transclude:!0,templateUrl:function(t,e){return e.templateUrl||"uib/template/accordion/accordion.html"}}}).directive("uibAccordionGroup",function(){return{require:"^uibAccordion",transclude:!0,replace:!0,templateUrl:function(t,e){return e.templateUrl||"uib/template/accordion/accordion-group.html"},scope:{heading:"@",panelClass:"@?",isOpen:"=?",isDisabled:"=?"},controller:function(){this.setHeading=function(t){this.heading=t}},link:function(e,n,t,i){i.addGroup(e),e.openClass=t.openClass||"panel-open",e.panelClass=t.panelClass||"panel-default",e.$watch("isOpen",function(t){n.toggleClass(e.openClass,!!t),t&&i.closeOthers(e)}),e.toggleOpen=function(t){e.isDisabled||t&&32!==t.which||(e.isOpen=!e.isOpen)};var o="accordiongroup-"+e.$id+"-"+Math.floor(1e4*Math.random());e.headingId=o+"-tab",e.panelId=o+"-panel"}}}).directive("uibAccordionHeading",function(){return{transclude:!0,template:"",replace:!0,require:"^uibAccordionGroup",link:function(t,e,n,i,o){i.setHeading(o(t,angular.noop))}}}).directive("uibAccordionTransclude",function(){return{require:"^uibAccordionGroup",link:function(t,n,e,i){t.$watch(function(){return i[e.uibAccordionTransclude]},function(t){if(t){var e=angular.element(n[0].querySelector("uib-accordion-header,data-uib-accordion-header,x-uib-accordion-header,uib\\:accordion-header,[uib-accordion-header],[data-uib-accordion-header],[x-uib-accordion-header]"));e.html(""),e.append(t)}})}}}),angular.module("ui.bootstrap.alert",[]).controller("UibAlertController",["$scope","$attrs","$interpolate","$timeout",function(t,e,n,i){t.closeable=!!e.close;var o=angular.isDefined(e.dismissOnTimeout)?n(e.dismissOnTimeout)(t.$parent):null;o&&i(function(){t.close()},parseInt(o,10))}]).directive("uibAlert",function(){return{controller:"UibAlertController",controllerAs:"alert",templateUrl:function(t,e){return e.templateUrl||"uib/template/alert/alert.html"},transclude:!0,replace:!0,scope:{type:"@",close:"&"}}}),angular.module("ui.bootstrap.buttons",[]).constant("uibButtonConfig",{activeClass:"active",toggleEvent:"click"}).controller("UibButtonsController",["uibButtonConfig",function(t){this.activeClass=t.activeClass||"active",this.toggleEvent=t.toggleEvent||"click"}]).directive("uibBtnRadio",["$parse",function(s){return{require:["uibBtnRadio","ngModel"],controller:"UibButtonsController",controllerAs:"buttons",link:function(e,n,i,t){var o=t[0],r=t[1],a=s(i.uibUncheckable);n.find("input").css({display:"none"}),r.$render=function(){n.toggleClass(o.activeClass,angular.equals(r.$modelValue,e.$eval(i.uibBtnRadio)))},n.on(o.toggleEvent,function(){if(!i.disabled){var t=n.hasClass(o.activeClass);t&&!angular.isDefined(i.uncheckable)||e.$apply(function(){r.$setViewValue(t?null:e.$eval(i.uibBtnRadio)),r.$render()})}}),i.uibUncheckable&&e.$watch(a,function(t){i.$set("uncheckable",t?"":void 0)})}}}]).directive("uibBtnCheckbox",function(){return{require:["uibBtnCheckbox","ngModel"],controller:"UibButtonsController",controllerAs:"button",link:function(n,t,e,i){var o=i[0],r=i[1];function a(){return s(e.btnCheckboxTrue,!0)}function s(t,e){return angular.isDefined(t)?n.$eval(t):e}t.find("input").css({display:"none"}),r.$render=function(){t.toggleClass(o.activeClass,angular.equals(r.$modelValue,a()))},t.on(o.toggleEvent,function(){e.disabled||n.$apply(function(){r.$setViewValue(t.hasClass(o.activeClass)?s(e.btnCheckboxFalse,!1):a()),r.$render()})})}}}),angular.module("ui.bootstrap.carousel",[]).controller("UibCarouselController",["$scope","$element","$interval","$timeout","$animate",function(a,o,e,t,s){var n,i,l=this,u=l.slides=a.slides=[],c="uib-slideDirection",p=a.active,h=[],d=!1;function f(){for(;h.length;)h.shift()}function g(t){for(var e=0;e<u.length;e++)u[e].slide.active=e===t}function r(t){for(var e=0;e<u.length;e++)if(u[e].slide===t)return e}function m(){n&&(e.cancel(n),n=null)}function v(){m();var t=+a.interval;!isNaN(t)&&0<t&&(n=e(y,t))}function y(){var t=+a.interval;i&&!isNaN(t)&&0<t&&u.length?a.next():a.pause()}l.addSlide=function(t,e){u.push({slide:t,element:e}),u.sort(function(t,e){return+t.slide.index-+e.slide.index}),(t.index===a.active||1===u.length&&!angular.isNumber(a.active))&&(a.$currentTransition&&(a.$currentTransition=null),p=t.index,a.active=t.index,g(p),l.select(u[r(t)]),1===u.length&&a.play())},l.getCurrentIndex=function(){for(var t=0;t<u.length;t++)if(u[t].slide.index===p)return t},l.next=a.next=function(){var t=(l.getCurrentIndex()+1)%u.length;if(0!==t||!a.noWrap())return l.select(u[t],"next");a.pause()},l.prev=a.prev=function(){var t=l.getCurrentIndex()-1<0?u.length-1:l.getCurrentIndex()-1;if(!a.noWrap()||t!==u.length-1)return l.select(u[t],"prev");a.pause()},l.removeSlide=function(t){var e=r(t),n=h.indexOf(u[e]);-1!==n&&h.splice(n,1),u.splice(e,1),0<u.length&&p===e?e>=u.length?(p=u.length-1,g(a.active=p),l.select(u[u.length-1])):(p=e,g(a.active=p),l.select(u[e])):e<p&&(p--,a.active=p),0===u.length&&(p=null,a.active=null,f())},l.select=a.select=function(t,e){var n=r(t.slide);void 0===e&&(e=n>l.getCurrentIndex()?"next":"prev"),t.slide.index===p||a.$currentTransition?t&&t.slide.index!==p&&a.$currentTransition&&h.push(u[n]):function r(t,e,n){if(d)return;angular.extend(t,{direction:n});angular.extend(u[p].slide||{},{direction:n});if(s.enabled(o)&&!a.$currentTransition&&u[e].element&&1<l.slides.length){u[e].element.data(c,t.direction);var i=l.getCurrentIndex();angular.isNumber(i)&&u[i].element&&u[i].element.data(c,t.direction),a.$currentTransition=!0,s.on("addClass",u[e].element,function(t,e){if("close"===e&&(a.$currentTransition=null,s.off("addClass",t),h.length)){var n=h.pop().slide,i=n.index,o=i>l.getCurrentIndex()?"next":"prev";f(),r(n,i,o)}})}a.active=t.index;p=t.index;g(e);v()}(t.slide,n,e)},a.indexOfSlide=function(t){return+t.slide.index},a.isActive=function(t){return a.active===t.slide.index},a.isPrevDisabled=function(){return 0===a.active&&a.noWrap()},a.isNextDisabled=function(){return a.active===u.length-1&&a.noWrap()},a.pause=function(){a.noPause||(i=!1,m())},a.play=function(){i||(i=!0,v())},a.$on("$destroy",function(){d=!0,m()}),a.$watch("noTransition",function(t){s.enabled(o,!t)}),a.$watch("interval",v),a.$watchCollection("slides",function(t){t.length||(a.$currentTransition=null,f())}),a.$watch("active",function(t){if(angular.isNumber(t)&&p!==t){for(var e=0;e<u.length;e++)if(u[e].slide.index===t){t=e;break}u[t]&&(g(t),l.select(u[t]),p=t)}})}]).directive("uibCarousel",function(){return{transclude:!0,replace:!0,controller:"UibCarouselController",controllerAs:"carousel",templateUrl:function(t,e){return e.templateUrl||"uib/template/carousel/carousel.html"},scope:{active:"=",interval:"=",noTransition:"=",noPause:"=",noWrap:"&"}}}).directive("uibSlide",function(){return{require:"^uibCarousel",transclude:!0,replace:!0,templateUrl:function(t,e){return e.templateUrl||"uib/template/carousel/slide.html"},scope:{actual:"=?",index:"=?"},link:function(t,e,n,i){i.addSlide(t,e),t.$on("$destroy",function(){i.removeSlide(t)})}}}).animation(".item",["$animateCss",function(a){var s="uib-slideDirection";function l(t,e,n){t.removeClass(e),n&&n()}return{beforeAddClass:function(t,e,n){if("active"===e){var i=t.data(s),o="next"===i?"left":"right",r=l.bind(this,t,o+" "+i,n);return t.addClass(i),a(t,{addClass:o}).start().done(r),function(){!0}}n()},beforeRemoveClass:function(t,e,n){if("active"===e){var i="next"===t.data(s)?"left":"right",o=l.bind(this,t,i,n);return a(t,{addClass:i}).start().done(o),function(){!0}}n()}}}]),angular.module("ui.bootstrap.dateparser",[]).service("uibDateParser",["$log","$locale","dateFilter","orderByFilter",function(g,m,n,i){var v,l,y=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g;function b(o,r){var a=[],s=o.split(""),t=o.indexOf("'");if(-1<t){var e=!1;o=o.split("");for(var n=t;n<o.length;n++)e?("'"===o[n]&&(n+1<o.length&&"'"===o[n+1]?(o[n+1]="$",s[n+1]=""):(s[n]="",e=!1)),o[n]="$"):"'"===o[n]&&(o[n]="$",e=!(s[n]=""));o=o.join("")}return angular.forEach(l,function(t){var e=o.indexOf(t.key);if(-1<e){o=o.split(""),s[e]="("+t.regex+")",o[e]="$";for(var n=e+1,i=e+t.key.length;n<i;n++)s[n]="",o[n]="$";o=o.join(""),a.push({index:e,key:t.key,apply:t[r],matcher:t.regex})}}),{regex:new RegExp("^"+s.join("")+"$"),map:i(a,"index")}}function r(t){return parseInt(t,10)}function o(t,e){t=t.replace(/:/g,"");var n=Date.parse("Jan 01, 1970 00:00:00 "+t)/6e4;return isNaN(n)?e:n}function a(t,e){return(t=new Date(t.getTime())).setMinutes(t.getMinutes()+e),t}function s(t,e,n){n=n?-1:1;var i=t.getTimezoneOffset();return a(t,n*(o(e,i)-i))}this.init=function(){v=m.id,this.parsers={},this.formatters={},l=[{key:"yyyy",regex:"\\d{4}",apply:function(t){this.year=+t},formatter:function(t){var e=new Date;return e.setFullYear(Math.abs(t.getFullYear())),n(e,"yyyy")}},{key:"yy",regex:"\\d{2}",apply:function(t){t=+t,this.year=t<69?t+2e3:t+1900},formatter:function(t){var e=new Date;return e.setFullYear(Math.abs(t.getFullYear())),n(e,"yy")}},{key:"y",regex:"\\d{1,4}",apply:function(t){this.year=+t},formatter:function(t){var e=new Date;return e.setFullYear(Math.abs(t.getFullYear())),n(e,"y")}},{key:"M!",regex:"0?[1-9]|1[0-2]",apply:function(t){this.month=t-1},formatter:function(t){var e=t.getMonth();return/^[0-9]$/.test(e)?n(t,"MM"):n(t,"M")}},{key:"MMMM",regex:m.DATETIME_FORMATS.MONTH.join("|"),apply:function(t){this.month=m.DATETIME_FORMATS.MONTH.indexOf(t)},formatter:function(t){return n(t,"MMMM")}},{key:"MMM",regex:m.DATETIME_FORMATS.SHORTMONTH.join("|"),apply:function(t){this.month=m.DATETIME_FORMATS.SHORTMONTH.indexOf(t)},formatter:function(t){return n(t,"MMM")}},{key:"MM",regex:"0[1-9]|1[0-2]",apply:function(t){this.month=t-1},formatter:function(t){return n(t,"MM")}},{key:"M",regex:"[1-9]|1[0-2]",apply:function(t){this.month=t-1},formatter:function(t){return n(t,"M")}},{key:"d!",regex:"[0-2]?[0-9]{1}|3[0-1]{1}",apply:function(t){this.date=+t},formatter:function(t){var e=t.getDate();return/^[1-9]$/.test(e)?n(t,"dd"):n(t,"d")}},{key:"dd",regex:"[0-2][0-9]{1}|3[0-1]{1}",apply:function(t){this.date=+t},formatter:function(t){return n(t,"dd")}},{key:"d",regex:"[1-2]?[0-9]{1}|3[0-1]{1}",apply:function(t){this.date=+t},formatter:function(t){return n(t,"d")}},{key:"EEEE",regex:m.DATETIME_FORMATS.DAY.join("|"),formatter:function(t){return n(t,"EEEE")}},{key:"EEE",regex:m.DATETIME_FORMATS.SHORTDAY.join("|"),formatter:function(t){return n(t,"EEE")}},{key:"HH",regex:"(?:0|1)[0-9]|2[0-3]",apply:function(t){this.hours=+t},formatter:function(t){return n(t,"HH")}},{key:"hh",regex:"0[0-9]|1[0-2]",apply:function(t){this.hours=+t},formatter:function(t){return n(t,"hh")}},{key:"H",regex:"1?[0-9]|2[0-3]",apply:function(t){this.hours=+t},formatter:function(t){return n(t,"H")}},{key:"h",regex:"[0-9]|1[0-2]",apply:function(t){this.hours=+t},formatter:function(t){return n(t,"h")}},{key:"mm",regex:"[0-5][0-9]",apply:function(t){this.minutes=+t},formatter:function(t){return n(t,"mm")}},{key:"m",regex:"[0-9]|[1-5][0-9]",apply:function(t){this.minutes=+t},formatter:function(t){return n(t,"m")}},{key:"sss",regex:"[0-9][0-9][0-9]",apply:function(t){this.milliseconds=+t},formatter:function(t){return n(t,"sss")}},{key:"ss",regex:"[0-5][0-9]",apply:function(t){this.seconds=+t},formatter:function(t){return n(t,"ss")}},{key:"s",regex:"[0-9]|[1-5][0-9]",apply:function(t){this.seconds=+t},formatter:function(t){return n(t,"s")}},{key:"a",regex:m.DATETIME_FORMATS.AMPMS.join("|"),apply:function(t){12===this.hours&&(this.hours=0),"PM"===t&&(this.hours+=12)},formatter:function(t){return n(t,"a")}},{key:"Z",regex:"[+-]\\d{4}",apply:function(t){var e=t.match(/([+-])(\d{2})(\d{2})/),n=e[1],i=e[2],o=e[3];this.hours+=r(n+i),this.minutes+=r(n+o)},formatter:function(t){return n(t,"Z")}},{key:"ww",regex:"[0-4][0-9]|5[0-3]",formatter:function(t){return n(t,"ww")}},{key:"w",regex:"[0-9]|[1-4][0-9]|5[0-3]",formatter:function(t){return n(t,"w")}},{key:"GGGG",regex:m.DATETIME_FORMATS.ERANAMES.join("|").replace(/\s/g,"\\s"),formatter:function(t){return n(t,"GGGG")}},{key:"GGG",regex:m.DATETIME_FORMATS.ERAS.join("|"),formatter:function(t){return n(t,"GGG")}},{key:"GG",regex:m.DATETIME_FORMATS.ERAS.join("|"),formatter:function(t){return n(t,"GG")}},{key:"G",regex:m.DATETIME_FORMATS.ERAS.join("|"),formatter:function(t){return n(t,"G")}}]},this.init(),this.filter=function(r,t){if(!angular.isDate(r)||isNaN(r)||!t)return"";t=m.DATETIME_FORMATS[t]||t,m.id!==v&&this.init(),this.formatters[t]||(this.formatters[t]=b(t,"formatter"));var a=this.formatters[t].map,s=t;return a.reduce(function(t,e,n){var i=s.match(new RegExp("(.*)"+e.key));i&&angular.isString(i[1])&&(t+=i[1],s=s.replace(i[1]+e.key,""));var o=n===a.length-1?s:"";return e.apply?t+e.apply.call(null,r)+o:t+o},"")},this.parse=function(t,e,n){if(!angular.isString(t)||!e)return t;e=(e=m.DATETIME_FORMATS[e]||e).replace(y,"\\$&"),m.id!==v&&this.init(),this.parsers[e]||(this.parsers[e]=b(e,"apply"));var i=this.parsers[e],o=i.regex,r=i.map,a=t.match(o),s=!1;if(a&&a.length){var l,u;l=angular.isDate(n)&&!isNaN(n.getTime())?{year:n.getFullYear(),month:n.getMonth(),date:n.getDate(),hours:n.getHours(),minutes:n.getMinutes(),seconds:n.getSeconds(),milliseconds:n.getMilliseconds()}:(n&&g.warn("dateparser:","baseDate is not a valid date"),{year:1900,month:0,date:1,hours:0,minutes:0,seconds:0,milliseconds:0});for(var c=1,p=a.length;c<p;c++){var h=r[c-1];"Z"===h.matcher&&(s=!0),h.apply&&h.apply.call(l,a[c])}var d=s?Date.prototype.setUTCFullYear:Date.prototype.setFullYear,f=s?Date.prototype.setUTCHours:Date.prototype.setHours;return function(t,e,n){if(n<1)return!1;if(1===e&&28<n)return 29===n&&(t%4==0&&t%100!=0||t%400==0);return 3!==e&&5!==e&&8!==e&&10!==e||n<31}(l.year,l.month,l.date)&&(!angular.isDate(n)||isNaN(n.getTime())||s?(u=new Date(0),d.call(u,l.year,l.month,l.date),f.call(u,l.hours||0,l.minutes||0,l.seconds||0,l.milliseconds||0)):(u=new Date(n),d.call(u,l.year,l.month,l.date),f.call(u,l.hours,l.minutes,l.seconds,l.milliseconds))),u}},this.toTimezone=function(t,e){return t&&e?s(t,e):t},this.fromTimezone=function(t,e){return t&&e?s(t,e,!0):t},this.timezoneToOffset=o,this.addDateMinutes=a,this.convertTimezoneToLocal=s}]),angular.module("ui.bootstrap.isClass",[]).directive("uibIsClass",["$animate",function(c){var a=/^\s*([\s\S]+?)\s+on\s+([\s\S]+?)\s*$/,p=/^\s*([\s\S]+?)\s+for\s+([\s\S]+?)\s*$/;return{restrict:"A",compile:function(t,e){var o=[],s=[],l={},n=e.uibIsClass.match(a),u=n[2],i=n[1].split(",");return function(n,t,e){o.push(n),s.push({scope:n,element:t}),i.forEach(function(t,e){!function(t,e){var n=t.match(p),o=e.$eval(n[1]),i=n[2],r=l[t];if(!r){var a=function(n){var i=null;s.some(function(t){var e=t.scope.$eval(u);if(e===n)return i=t,!0}),r.lastActivated!==i&&(r.lastActivated&&c.removeClass(r.lastActivated.element,o),i&&c.addClass(i.element,o),r.lastActivated=i)};l[t]=r={lastActivated:null,scope:e,watchFn:a,compareWithExp:i,watcher:e.$watch(i,a)}}r.watchFn(e.$eval(i))}(t,n)}),n.$on("$destroy",r)};function r(t){var e=t.targetScope,n=o.indexOf(e);if(o.splice(n,1),s.splice(n,1),o.length){var i=o[0];angular.forEach(l,function(t){t.scope===e&&(t.watcher=i.$watch(t.compareWithExp,t.watchFn),t.scope=i)})}else l={}}}}}]),angular.module("ui.bootstrap.datepicker",["ui.bootstrap.dateparser","ui.bootstrap.isClass"]).value("$datepickerSuppressError",!1).value("$datepickerLiteralWarning",!0).constant("uibDatepickerConfig",{datepickerMode:"day",formatDay:"dd",formatMonth:"MMMM",formatYear:"yyyy",formatDayHeader:"EEE",formatDayTitle:"MMMM yyyy",formatMonthTitle:"yyyy",maxDate:null,maxMode:"year",minDate:null,minMode:"day",ngModelOptions:{},shortcutPropagation:!1,showWeeks:!0,yearColumns:5,yearRows:4}).controller("UibDatepickerController",["$scope","$attrs","$parse","$interpolate","$locale","$log","dateFilter","uibDatepickerConfig","$datepickerLiteralWarning","$datepickerSuppressError","uibDateParser",function(a,t,e,n,i,o,r,s,l,u,c){var p=this,h={$setViewValue:angular.noop},d={},f=[];t.datepickerOptions;a.datepickerOptions||(a.datepickerOptions={}),this.modes=["day","month","year"],["customClass","dateDisabled","datepickerMode","formatDay","formatDayHeader","formatDayTitle","formatMonth","formatMonthTitle","formatYear","maxDate","maxMode","minDate","minMode","showWeeks","shortcutPropagation","startingDay","yearColumns","yearRows"].forEach(function(e){switch(e){case"customClass":case"dateDisabled":a[e]=a.datepickerOptions[e]||angular.noop;break;case"datepickerMode":a.datepickerMode=angular.isDefined(a.datepickerOptions.datepickerMode)?a.datepickerOptions.datepickerMode:s.datepickerMode;break;case"formatDay":case"formatDayHeader":case"formatDayTitle":case"formatMonth":case"formatMonthTitle":case"formatYear":p[e]=angular.isDefined(a.datepickerOptions[e])?n(a.datepickerOptions[e])(a.$parent):s[e];break;case"showWeeks":case"shortcutPropagation":case"yearColumns":case"yearRows":p[e]=angular.isDefined(a.datepickerOptions[e])?a.datepickerOptions[e]:s[e];break;case"startingDay":angular.isDefined(a.datepickerOptions.startingDay)?p.startingDay=a.datepickerOptions.startingDay:angular.isNumber(s.startingDay)?p.startingDay=s.startingDay:p.startingDay=(i.DATETIME_FORMATS.FIRSTDAYOFWEEK+8)%7;break;case"maxDate":case"minDate":a.$watch("datepickerOptions."+e,function(t){t?angular.isDate(t)?p[e]=c.fromTimezone(new Date(t),d.timezone):(l&&o.warn("Literal date support has been deprecated, please switch to date object usage"),p[e]=new Date(r(t,"medium"))):p[e]=s[e]?c.fromTimezone(new Date(s[e]),d.timezone):null,p.refreshView()});break;case"maxMode":case"minMode":a.datepickerOptions[e]?a.$watch(function(){return a.datepickerOptions[e]},function(t){p[e]=a[e]=angular.isDefined(t)?t:datepickerOptions[e],("minMode"===e&&p.modes.indexOf(a.datepickerOptions.datepickerMode)<p.modes.indexOf(p[e])||"maxMode"===e&&p.modes.indexOf(a.datepickerOptions.datepickerMode)>p.modes.indexOf(p[e]))&&(a.datepickerMode=p[e],a.datepickerOptions.datepickerMode=p[e])}):p[e]=a[e]=s[e]||null}}),a.uniqueId="datepicker-"+a.$id+"-"+Math.floor(1e4*Math.random()),a.disabled=angular.isDefined(t.disabled)||!1,angular.isDefined(t.ngDisabled)&&f.push(a.$parent.$watch(t.ngDisabled,function(t){a.disabled=t,p.refreshView()})),a.isActive=function(t){return 0===p.compare(t.date,p.activeDate)&&(a.activeDateId=t.uid,!0)},this.init=function(t){d=(h=t).$options||s.ngModelOptions,a.datepickerOptions.initDate?(p.activeDate=c.fromTimezone(a.datepickerOptions.initDate,d.timezone)||new Date,a.$watch("datepickerOptions.initDate",function(t){t&&(h.$isEmpty(h.$modelValue)||h.$invalid)&&(p.activeDate=c.fromTimezone(t,d.timezone),p.refreshView())})):p.activeDate=new Date;var e=h.$modelValue?new Date(h.$modelValue):new Date;this.activeDate=isNaN(e)?c.fromTimezone(new Date,d.timezone):c.fromTimezone(e,d.timezone),h.$render=function(){p.render()}},this.render=function(){if(h.$viewValue){var t=new Date(h.$viewValue);!isNaN(t)?this.activeDate=c.fromTimezone(t,d.timezone):u||o.error('Datepicker directive: "ng-model" value must be a Date object')}this.refreshView()},this.refreshView=function(){if(this.element){a.selectedDt=null,this._refreshView(),a.activeDt&&(a.activeDateId=a.activeDt.uid);var t=h.$viewValue?new Date(h.$viewValue):null;t=c.fromTimezone(t,d.timezone),h.$setValidity("dateDisabled",!t||this.element&&!this.isDisabled(t))}},this.createDateObject=function(t,e){var n=h.$viewValue?new Date(h.$viewValue):null;n=c.fromTimezone(n,d.timezone);var i=new Date;i=c.fromTimezone(i,d.timezone);var o=this.compare(t,i),r={date:t,label:c.filter(t,e),selected:n&&0===this.compare(t,n),disabled:this.isDisabled(t),past:o<0,current:0===o,future:0<o,customClass:this.customClass(t)||null};return n&&0===this.compare(t,n)&&(a.selectedDt=r),p.activeDate&&0===this.compare(r.date,p.activeDate)&&(a.activeDt=r),r},this.isDisabled=function(t){return a.disabled||this.minDate&&this.compare(t,this.minDate)<0||this.maxDate&&0<this.compare(t,this.maxDate)||a.dateDisabled&&a.dateDisabled({date:t,mode:a.datepickerMode})},this.customClass=function(t){return a.customClass({date:t,mode:a.datepickerMode})},this.split=function(t,e){for(var n=[];0<t.length;)n.push(t.splice(0,e));return n},a.select=function(t){if(a.datepickerMode===p.minMode){var e=h.$viewValue?c.fromTimezone(new Date(h.$viewValue),d.timezone):new Date(0,0,0,0,0,0,0);e.setFullYear(t.getFullYear(),t.getMonth(),t.getDate()),e=c.toTimezone(e,d.timezone),h.$setViewValue(e),h.$render()}else p.activeDate=t,g(p.modes[p.modes.indexOf(a.datepickerMode)-1]),a.$emit("uib:datepicker.mode");a.$broadcast("uib:datepicker.focus")},a.move=function(t){var e=p.activeDate.getFullYear()+t*(p.step.years||0),n=p.activeDate.getMonth()+t*(p.step.months||0);p.activeDate.setFullYear(e,n,1),p.refreshView()},a.toggleMode=function(t){t=t||1,a.datepickerMode===p.maxMode&&1===t||a.datepickerMode===p.minMode&&-1===t||(g(p.modes[p.modes.indexOf(a.datepickerMode)+t]),a.$emit("uib:datepicker.mode"))},a.keys={13:"enter",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down"};function g(t){a.datepickerMode=t,a.datepickerOptions.datepickerMode=t}a.$on("uib:datepicker.focus",function(){p.element[0].focus()}),a.keydown=function(t){var e=a.keys[t.which];if(e&&!t.shiftKey&&!t.altKey&&!a.disabled)if(t.preventDefault(),p.shortcutPropagation||t.stopPropagation(),"enter"===e||"space"===e){if(p.isDisabled(p.activeDate))return;a.select(p.activeDate)}else!t.ctrlKey||"up"!==e&&"down"!==e?(p.handleKeyDown(e,t),p.refreshView()):a.toggleMode("up"===e?1:-1)},a.$on("$destroy",function(){for(;f.length;)f.shift()()})}]).controller("UibDaypickerController",["$scope","$element","dateFilter",function(h,t,d){var n=[31,28,31,30,31,30,31,31,30,31,30,31];function o(t,e){return 1!==e||t%4!=0||t%100==0&&t%400!=0?n[e]:29}function f(t){var e=new Date(t);e.setDate(e.getDate()+4-(e.getDay()||7));var n=e.getTime();return e.setMonth(0),e.setDate(1),Math.floor(Math.round((n-e)/864e5)/7)+1}this.step={months:1},this.element=t,this.init=function(t){angular.extend(t,this),h.showWeeks=t.showWeeks,t.refreshView()},this.getDates=function(t,e){for(var n,i=new Array(e),o=new Date(t),r=0;r<e;)n=new Date(o),i[r++]=n,o.setDate(o.getDate()+1);return i},this._refreshView=function(){var t=this.activeDate.getFullYear(),e=this.activeDate.getMonth(),n=new Date(this.activeDate);n.setFullYear(t,e,1);var i=this.startingDay-n.getDay(),o=0<i?7-i:-i,r=new Date(n);0<o&&r.setDate(1-o);for(var a=this.getDates(r,42),s=0;s<42;s++)a[s]=angular.extend(this.createDateObject(a[s],this.formatDay),{secondary:a[s].getMonth()!==e,uid:h.uniqueId+"-"+s});h.labels=new Array(7);for(var l=0;l<7;l++)h.labels[l]={abbr:d(a[l].date,this.formatDayHeader),full:d(a[l].date,"EEEE")};if(h.title=d(this.activeDate,this.formatDayTitle),h.rows=this.split(a,7),h.showWeeks){h.weekNumbers=[];for(var u=(11-this.startingDay)%7,c=h.rows.length,p=0;p<c;p++)h.weekNumbers.push(f(h.rows[p][u].date))}},this.compare=function(t,e){var n=new Date(t.getFullYear(),t.getMonth(),t.getDate()),i=new Date(e.getFullYear(),e.getMonth(),e.getDate());return n.setFullYear(t.getFullYear()),i.setFullYear(e.getFullYear()),n-i},this.handleKeyDown=function(t,e){var n=this.activeDate.getDate();if("left"===t)n-=1;else if("up"===t)n-=7;else if("right"===t)n+=1;else if("down"===t)n+=7;else if("pageup"===t||"pagedown"===t){var i=this.activeDate.getMonth()+("pageup"===t?-1:1);this.activeDate.setMonth(i,1),n=Math.min(o(this.activeDate.getFullYear(),this.activeDate.getMonth()),n)}else"home"===t?n=1:"end"===t&&(n=o(this.activeDate.getFullYear(),this.activeDate.getMonth()));this.activeDate.setDate(n)}}]).controller("UibMonthpickerController",["$scope","$element","dateFilter",function(o,t,r){this.step={years:1},this.element=t,this.init=function(t){angular.extend(t,this),t.refreshView()},this._refreshView=function(){for(var t,e=new Array(12),n=this.activeDate.getFullYear(),i=0;i<12;i++)(t=new Date(this.activeDate)).setFullYear(n,i,1),e[i]=angular.extend(this.createDateObject(t,this.formatMonth),{uid:o.uniqueId+"-"+i});o.title=r(this.activeDate,this.formatMonthTitle),o.rows=this.split(e,3)},this.compare=function(t,e){var n=new Date(t.getFullYear(),t.getMonth()),i=new Date(e.getFullYear(),e.getMonth());return n.setFullYear(t.getFullYear()),i.setFullYear(e.getFullYear()),n-i},this.handleKeyDown=function(t,e){var n=this.activeDate.getMonth();if("left"===t)n-=1;else if("up"===t)n-=3;else if("right"===t)n+=1;else if("down"===t)n+=3;else if("pageup"===t||"pagedown"===t){var i=this.activeDate.getFullYear()+("pageup"===t?-1:1);this.activeDate.setFullYear(i)}else"home"===t?n=0:"end"===t&&(n=11);this.activeDate.setMonth(n)}}]).controller("UibYearpickerController",["$scope","$element","dateFilter",function(o,t,e){var r,a;function s(t){return parseInt((t-1)/a,10)*a+1}this.element=t,this.yearpickerInit=function(){r=this.yearColumns,a=this.yearRows*r,this.step={years:a}},this._refreshView=function(){for(var t,e=new Array(a),n=0,i=s(this.activeDate.getFullYear());n<a;n++)(t=new Date(this.activeDate)).setFullYear(i+n,0,1),e[n]=angular.extend(this.createDateObject(t,this.formatYear),{uid:o.uniqueId+"-"+n});o.title=[e[0].label,e[a-1].label].join(" - "),o.rows=this.split(e,r),o.columns=r},this.compare=function(t,e){return t.getFullYear()-e.getFullYear()},this.handleKeyDown=function(t,e){var n=this.activeDate.getFullYear();"left"===t?n-=1:"up"===t?n-=r:"right"===t?n+=1:"down"===t?n+=r:"pageup"===t||"pagedown"===t?n+=("pageup"===t?-1:1)*a:"home"===t?n=s(this.activeDate.getFullYear()):"end"===t&&(n=s(this.activeDate.getFullYear())+a-1),this.activeDate.setFullYear(n)}}]).directive("uibDatepicker",function(){return{replace:!0,templateUrl:function(t,e){return e.templateUrl||"uib/template/datepicker/datepicker.html"},scope:{datepickerOptions:"=?"},require:["uibDatepicker","^ngModel"],controller:"UibDatepickerController",controllerAs:"datepicker",link:function(t,e,n,i){var o=i[0],r=i[1];o.init(r)}}}).directive("uibDaypicker",function(){return{replace:!0,templateUrl:function(t,e){return e.templateUrl||"uib/template/datepicker/day.html"},require:["^uibDatepicker","uibDaypicker"],controller:"UibDaypickerController",link:function(t,e,n,i){var o=i[0];i[1].init(o)}}}).directive("uibMonthpicker",function(){return{replace:!0,templateUrl:function(t,e){return e.templateUrl||"uib/template/datepicker/month.html"},require:["^uibDatepicker","uibMonthpicker"],controller:"UibMonthpickerController",link:function(t,e,n,i){var o=i[0];i[1].init(o)}}}).directive("uibYearpicker",function(){return{replace:!0,templateUrl:function(t,e){return e.templateUrl||"uib/template/datepicker/year.html"},require:["^uibDatepicker","uibYearpicker"],controller:"UibYearpickerController",link:function(t,e,n,i){var o=i[0];angular.extend(o,i[1]),o.yearpickerInit(),o.refreshView()}}}),angular.module("ui.bootstrap.position",[]).factory("$uibPosition",["$document","$window",function(u,f){var i,o,c={normal:/(auto|scroll)/,hidden:/(auto|scroll|hidden)/},g={auto:/\s?auto?\s?/i,primary:/^(top|bottom|left|right)$/,secondary:/^(top|bottom|left|right|center)$/,vertical:/^(top|bottom)$/},a=/(HTML|BODY)/;return{getRawNode:function(t){return t.nodeName?t:t[0]||t},parseStyle:function(t){return t=parseFloat(t),isFinite(t)?t:0},offsetParent:function(t){var e,n=(t=this.getRawNode(t)).offsetParent||u[0].documentElement;for(;n&&n!==u[0].documentElement&&(e=n,"static"===(f.getComputedStyle(e).position||"static"));)n=n.offsetParent;return n||u[0].documentElement},scrollbarWidth:function(t){if(t){if(angular.isUndefined(o)){var e=u.find("body");e.addClass("uib-position-body-scrollbar-measure"),o=f.innerWidth-e[0].clientWidth,o=isFinite(o)?o:0,e.removeClass("uib-position-body-scrollbar-measure")}return o}if(angular.isUndefined(i)){var n=angular.element('<div class="uib-position-scrollbar-measure"></div>');u.find("body").append(n),i=n[0].offsetWidth-n[0].clientWidth,i=isFinite(i)?i:0,n.remove()}return i},scrollbarPadding:function(t){t=this.getRawNode(t);var e=f.getComputedStyle(t),n=this.parseStyle(e.paddingRight),i=this.parseStyle(e.paddingBottom),o=this.scrollParent(t,!1,!0),r=this.scrollbarWidth(o,a.test(o.tagName));return{scrollbarWidth:r,widthOverflow:o.scrollWidth>o.clientWidth,right:n+r,originalRight:n,heightOverflow:o.scrollHeight>o.clientHeight,bottom:i+r,originalBottom:i}},isScrollable:function(t,e){t=this.getRawNode(t);var n=e?c.hidden:c.normal,i=f.getComputedStyle(t);return n.test(i.overflow+i.overflowY+i.overflowX)},scrollParent:function(t,e,n){t=this.getRawNode(t);var i=e?c.hidden:c.normal,o=u[0].documentElement,r=f.getComputedStyle(t);if(n&&i.test(r.overflow+r.overflowY+r.overflowX))return t;var a="absolute"===r.position,s=t.parentElement||o;if(s===o||"fixed"===r.position)return o;for(;s.parentElement&&s!==o;){var l=f.getComputedStyle(s);if(a&&"static"!==l.position&&(a=!1),!a&&i.test(l.overflow+l.overflowY+l.overflowX))break;s=s.parentElement}return s},position:function(t,e){t=this.getRawNode(t);var n=this.offset(t);if(e){var i=f.getComputedStyle(t);n.top-=this.parseStyle(i.marginTop),n.left-=this.parseStyle(i.marginLeft)}var o=this.offsetParent(t),r={top:0,left:0};return o!==u[0].documentElement&&((r=this.offset(o)).top+=o.clientTop-o.scrollTop,r.left+=o.clientLeft-o.scrollLeft),{width:Math.round(angular.isNumber(n.width)?n.width:t.offsetWidth),height:Math.round(angular.isNumber(n.height)?n.height:t.offsetHeight),top:Math.round(n.top-r.top),left:Math.round(n.left-r.left)}},offset:function(t){var e=(t=this.getRawNode(t)).getBoundingClientRect();return{width:Math.round(angular.isNumber(e.width)?e.width:t.offsetWidth),height:Math.round(angular.isNumber(e.height)?e.height:t.offsetHeight),top:Math.round(e.top+(f.pageYOffset||u[0].documentElement.scrollTop)),left:Math.round(e.left+(f.pageXOffset||u[0].documentElement.scrollLeft))}},viewportOffset:function(t,e,n){n=!1!==n;var i=(t=this.getRawNode(t)).getBoundingClientRect(),o={top:0,left:0,bottom:0,right:0},r=e?u[0].documentElement:this.scrollParent(t),a=r.getBoundingClientRect();if(o.top=a.top+r.clientTop,o.left=a.left+r.clientLeft,r===u[0].documentElement&&(o.top+=f.pageYOffset,o.left+=f.pageXOffset),o.bottom=o.top+r.clientHeight,o.right=o.left+r.clientWidth,n){var s=f.getComputedStyle(r);o.top+=this.parseStyle(s.paddingTop),o.bottom-=this.parseStyle(s.paddingBottom),o.left+=this.parseStyle(s.paddingLeft),o.right-=this.parseStyle(s.paddingRight)}return{top:Math.round(i.top-o.top),bottom:Math.round(o.bottom-i.bottom),left:Math.round(i.left-o.left),right:Math.round(o.right-i.right)}},parsePlacement:function(t){var e=g.auto.test(t);return e&&(t=t.replace(g.auto,"")),(t=t.split("-"))[0]=t[0]||"top",g.primary.test(t[0])||(t[0]="top"),t[1]=t[1]||"center",g.secondary.test(t[1])||(t[1]="center"),t[2]=!!e,t},positionElements:function(t,e,n,i){t=this.getRawNode(t),e=this.getRawNode(e);var o=angular.isDefined(e.offsetWidth)?e.offsetWidth:e.prop("offsetWidth"),r=angular.isDefined(e.offsetHeight)?e.offsetHeight:e.prop("offsetHeight");n=this.parsePlacement(n);var a=i?this.offset(t):this.position(t),s={top:0,left:0,placement:""};if(n[2]){var l=this.viewportOffset(t,i),u=f.getComputedStyle(e),c=o+Math.round(Math.abs(this.parseStyle(u.marginLeft)+this.parseStyle(u.marginRight))),p=r+Math.round(Math.abs(this.parseStyle(u.marginTop)+this.parseStyle(u.marginBottom)));if(n[0]="top"===n[0]&&p>l.top&&p<=l.bottom?"bottom":"bottom"===n[0]&&p>l.bottom&&p<=l.top?"top":"left"===n[0]&&c>l.left&&c<=l.right?"right":"right"===n[0]&&c>l.right&&c<=l.left?"left":n[0],n[1]="top"===n[1]&&p-a.height>l.bottom&&p-a.height<=l.top?"bottom":"bottom"===n[1]&&p-a.height>l.top&&p-a.height<=l.bottom?"top":"left"===n[1]&&c-a.width>l.right&&c-a.width<=l.left?"right":"right"===n[1]&&c-a.width>l.left&&c-a.width<=l.right?"left":n[1],"center"===n[1])if(g.vertical.test(n[0])){var h=a.width/2-o/2;l.left+h<0&&c-a.width<=l.right?n[1]="left":l.right+h<0&&c-a.width<=l.left&&(n[1]="right")}else{var d=a.height/2-p/2;l.top+d<0&&p-a.height<=l.bottom?n[1]="top":l.bottom+d<0&&p-a.height<=l.top&&(n[1]="bottom")}}switch(n[0]){case"top":s.top=a.top-r;break;case"bottom":s.top=a.top+a.height;break;case"left":s.left=a.left-o;break;case"right":s.left=a.left+a.width}switch(n[1]){case"top":s.top=a.top;break;case"bottom":s.top=a.top+a.height-r;break;case"left":s.left=a.left;break;case"right":s.left=a.left+a.width-o;break;case"center":g.vertical.test(n[0])?s.left=a.left+a.width/2-o/2:s.top=a.top+a.height/2-r/2}return s.top=Math.round(s.top),s.left=Math.round(s.left),s.placement="center"===n[1]?n[0]:n[0]+"-"+n[1],s},positionArrow:function(t,e){var n=(t=this.getRawNode(t)).querySelector(".tooltip-inner, .popover-inner");if(n){var i=angular.element(n).hasClass("tooltip-inner"),o=i?t.querySelector(".tooltip-arrow"):t.querySelector(".arrow");if(o){var r={top:"",bottom:"",left:"",right:""};if("center"!==(e=this.parsePlacement(e))[1]){var a="border-"+e[0]+"-width",s=f.getComputedStyle(o)[a],l="border-";g.vertical.test(e[0])?l+=e[0]+"-"+e[1]:l+=e[1]+"-"+e[0],l+="-radius";var u=f.getComputedStyle(i?n:t)[l];switch(e[0]){case"top":r.bottom=i?"0":"-"+s;break;case"bottom":r.top=i?"0":"-"+s;break;case"left":r.right=i?"0":"-"+s;break;case"right":r.left=i?"0":"-"+s}r[e[1]]=u,angular.element(o).css(r)}else angular.element(o).css(r)}}}}}]),angular.module("ui.bootstrap.datepickerPopup",["ui.bootstrap.datepicker","ui.bootstrap.position"]).value("$datepickerPopupLiteralWarning",!0).constant("uibDatepickerPopupConfig",{altInputFormats:[],appendToBody:!1,clearText:"Clear",closeOnDateSelection:!0,closeText:"Done",currentText:"Today",datepickerPopup:"yyyy-MM-dd",datepickerPopupTemplateUrl:"uib/template/datepickerPopup/popup.html",datepickerTemplateUrl:"uib/template/datepicker/datepicker.html",html5Types:{date:"yyyy-MM-dd","datetime-local":"yyyy-MM-ddTHH:mm:ss.sss",month:"yyyy-MM"},onOpenFocus:!0,showButtonBar:!0,placement:"auto bottom-left"}).controller("UibDatepickerPopupController",["$scope","$element","$attrs","$compile","$log","$parse","$window","$document","$rootScope","$uibPosition","dateFilter","uibDateParser","uibDatepickerPopupConfig","$timeout","uibDatepickerConfig","$datepickerPopupLiteralWarning",function(o,r,i,e,n,t,a,s,l,u,c,p,h,d,f,g){var m,v,y,b,w,x,$,_,k,C,S,T,A,D,M=!1,E=[];function P(t){var e=p.parse(t,m,o.date);if(isNaN(e))for(var n=0;n<A.length;n++)if(e=p.parse(t,A[n],o.date),!isNaN(e))return e;return e}function O(t){if(angular.isNumber(t)&&(t=new Date(t)),!t)return null;if(angular.isDate(t)&&!isNaN(t))return t;if(angular.isString(t)){var e=P(t);if(!isNaN(e))return p.toTimezone(e,D)}return C.$options&&C.$options.allowInvalid?t:void 0}function I(t,e){var n=t||e;return!i.ngRequired&&!n||(angular.isNumber(n)&&(n=new Date(n)),!n||(!(!angular.isDate(n)||isNaN(n))||!!angular.isString(n)&&!isNaN(P(e))))}function R(t){if(o.isOpen||!o.disabled){var e=T[0],n=r[0].contains(t.target),i=void 0!==e.contains&&e.contains(t.target);!o.isOpen||n||i||o.$apply(function(){o.isOpen=!1})}}function L(t){27===t.which&&o.isOpen?(t.preventDefault(),t.stopPropagation(),o.$apply(function(){o.isOpen=!1}),r[0].focus()):40!==t.which||o.isOpen||(t.preventDefault(),t.stopPropagation(),o.$apply(function(){o.isOpen=!0}))}function F(){if(o.isOpen){var t=angular.element(T[0].querySelector(".uib-datepicker-popup")),e=i.popupPlacement?i.popupPlacement:h.placement,n=u.positionElements(r,t,e,y);t.css({top:n.top+"px",left:n.left+"px"}),t.hasClass("uib-position-measure")&&t.removeClass("uib-position-measure")}}this.init=function(t){if(S=(C=t).$options,v=angular.isDefined(i.closeOnDateSelection)?o.$parent.$eval(i.closeOnDateSelection):h.closeOnDateSelection,y=angular.isDefined(i.datepickerAppendToBody)?o.$parent.$eval(i.datepickerAppendToBody):h.appendToBody,b=angular.isDefined(i.onOpenFocus)?o.$parent.$eval(i.onOpenFocus):h.onOpenFocus,w=angular.isDefined(i.datepickerPopupTemplateUrl)?i.datepickerPopupTemplateUrl:h.datepickerPopupTemplateUrl,x=angular.isDefined(i.datepickerTemplateUrl)?i.datepickerTemplateUrl:h.datepickerTemplateUrl,A=angular.isDefined(i.altInputFormats)?o.$parent.$eval(i.altInputFormats):h.altInputFormats,o.showButtonBar=angular.isDefined(i.showButtonBar)?o.$parent.$eval(i.showButtonBar):h.showButtonBar,h.html5Types[i.type]?(m=h.html5Types[i.type],M=!0):(m=i.uibDatepickerPopup||h.datepickerPopup,i.$observe("uibDatepickerPopup",function(t,e){var n=t||h.datepickerPopup;if(n!==m&&(m=n,C.$modelValue=null,!m))throw new Error("uibDatepickerPopup must have a date format specified.")})),!m)throw new Error("uibDatepickerPopup must have a date format specified.");if(M&&i.uibDatepickerPopup)throw new Error("HTML5 date input types do not support custom formats.");$=angular.element("<div uib-datepicker-popup-wrap><div uib-datepicker></div></div>"),S?(D=S.timezone,o.ngModelOptions=angular.copy(S),!(o.ngModelOptions.timezone=null)===o.ngModelOptions.updateOnDefault&&(o.ngModelOptions.updateOn=o.ngModelOptions.updateOn?o.ngModelOptions.updateOn+" default":"default"),$.attr("ng-model-options","ngModelOptions")):D=null,$.attr({"ng-model":"date","ng-change":"dateSelection(date)","template-url":w}),(_=angular.element($.children()[0])).attr("template-url",x),o.datepickerOptions||(o.datepickerOptions={}),M&&"month"===i.type&&(o.datepickerOptions.datepickerMode="month",o.datepickerOptions.minMode="month"),_.attr("datepicker-options","datepickerOptions"),M?C.$formatters.push(function(t){return o.date=p.fromTimezone(t,D),t}):(C.$$parserName="date",C.$validators.date=I,C.$parsers.unshift(O),C.$formatters.push(function(t){return C.$isEmpty(t)?o.date=t:(angular.isNumber(t)&&(t=new Date(t)),o.date=p.fromTimezone(t,D),p.filter(o.date,m))})),C.$viewChangeListeners.push(function(){o.date=P(C.$viewValue)}),r.on("keydown",L),T=e($)(o),$.remove(),y?s.find("body").append(T):r.after(T),o.$on("$destroy",function(){for(!0===o.isOpen&&(l.$$phase||o.$apply(function(){o.isOpen=!1})),T.remove(),r.off("keydown",L),s.off("click",R),k&&k.off("scroll",F),angular.element(a).off("resize",F);E.length;)E.shift()()})},o.getText=function(t){return o[t+"Text"]||h[t+"Text"]},o.isDisabled=function(t){"today"===t&&(t=p.fromTimezone(new Date,D));var e={};return angular.forEach(["minDate","maxDate"],function(t){o.datepickerOptions[t]?angular.isDate(o.datepickerOptions[t])?e[t]=p.fromTimezone(new Date(o.datepickerOptions[t]),D):(g&&n.warn("Literal date support has been deprecated, please switch to date object usage"),e[t]=new Date(c(o.datepickerOptions[t],"medium"))):e[t]=null}),o.datepickerOptions&&e.minDate&&o.compare(t,e.minDate)<0||e.maxDate&&0<o.compare(t,e.maxDate)},o.compare=function(t,e){return new Date(t.getFullYear(),t.getMonth(),t.getDate())-new Date(e.getFullYear(),e.getMonth(),e.getDate())},o.dateSelection=function(t){angular.isDefined(t)&&(o.date=t);var e=o.date?p.filter(o.date,m):null;r.val(e),C.$setViewValue(e),v&&(o.isOpen=!1,r[0].focus())},o.keydown=function(t){27===t.which&&(t.stopPropagation(),o.isOpen=!1,r[0].focus())},o.select=function(t,e){if(e.stopPropagation(),"today"===t){var n=new Date;angular.isDate(o.date)?(t=new Date(o.date)).setFullYear(n.getFullYear(),n.getMonth(),n.getDate()):t=new Date(n.setHours(0,0,0,0))}o.dateSelection(t)},o.close=function(t){t.stopPropagation(),o.isOpen=!1,r[0].focus()},o.disabled=angular.isDefined(i.disabled)||!1,i.ngDisabled&&E.push(o.$parent.$watch(t(i.ngDisabled),function(t){o.disabled=t})),o.$watch("isOpen",function(t){t?o.disabled?o.isOpen=!1:d(function(){F(),b&&o.$broadcast("uib:datepicker.focus"),s.on("click",R);var t=i.popupPlacement?i.popupPlacement:h.placement;y||u.parsePlacement(t)[2]?(k=k||angular.element(u.scrollParent(r)))&&k.on("scroll",F):k=null,angular.element(a).on("resize",F)},0,!1):(s.off("click",R),k&&k.off("scroll",F),angular.element(a).off("resize",F))}),o.$on("uib:datepicker.mode",function(){d(F,0,!1)})}]).directive("uibDatepickerPopup",function(){return{require:["ngModel","uibDatepickerPopup"],controller:"UibDatepickerPopupController",scope:{datepickerOptions:"=?",isOpen:"=?",currentText:"@",clearText:"@",closeText:"@"},link:function(t,e,n,i){var o=i[0];i[1].init(o)}}}).directive("uibDatepickerPopupWrap",function(){return{replace:!0,transclude:!0,templateUrl:function(t,e){return e.templateUrl||"uib/template/datepickerPopup/popup.html"}}}),angular.module("ui.bootstrap.debounce",[]).factory("$$debounce",["$timeout",function(r){return function(n,i){var o;return function(){var t=this,e=Array.prototype.slice.call(arguments);o&&r.cancel(o),o=r(function(){n.apply(t,e)},i)}}}]),angular.module("ui.bootstrap.dropdown",["ui.bootstrap.position"]).constant("uibDropdownConfig",{appendToOpenClass:"uib-dropdown-open",openClass:"open"}).service("uibDropdownService",["$document","$rootScope",function(n,i){var o=null;this.open=function(t,e){o||(n.on("click",r),e.on("keydown",a)),o&&o!==t&&(o.isOpen=!1),o=t},this.close=function(t,e){o===t&&(o=null,n.off("click",r),e.off("keydown",a))};var r=function(t){if(o&&!(t&&"disabled"===o.getAutoClose()||t&&3===t.which)){var e=o.getToggleElement();if(!(t&&e&&e[0].contains(t.target))){var n=o.getDropdownElement();t&&"outsideClick"===o.getAutoClose()&&n&&n[0].contains(t.target)||(o.isOpen=!1,i.$$phase||o.$apply())}}},a=function(t){27===t.which?(t.stopPropagation(),o.focusToggleElement(),r()):o.isKeynavEnabled()&&-1!==[38,40].indexOf(t.which)&&o.isOpen&&(t.preventDefault(),t.stopPropagation(),o.focusDropdownEntry(t.which))}}]).controller("UibDropdownController",["$scope","$element","$attrs","$parse","uibDropdownConfig","uibDropdownService","$animate","$uibPosition","$document","$compile","$templateRequest",function(u,c,e,n,t,p,h,d,i,f,g){var m,o,v=this,y=u.$new(),b=t.appendToOpenClass,w=t.openClass,x=angular.noop,$=e.onToggle?n(e.onToggle):angular.noop,_=!1,k=null,r=!1,a=i.find("body");c.addClass("dropdown"),this.init=function(){if(e.isOpen&&(o=n(e.isOpen),x=o.assign,u.$watch(o,function(t){y.isOpen=!!t})),angular.isDefined(e.dropdownAppendTo)){var t=n(e.dropdownAppendTo)(y);t&&(k=angular.element(t))}_=angular.isDefined(e.dropdownAppendToBody),r=angular.isDefined(e.keyboardNav),_&&!k&&(k=a),k&&v.dropdownMenu&&(k.append(v.dropdownMenu),c.on("$destroy",function(){v.dropdownMenu.remove()}))},this.toggle=function(t){return y.isOpen=arguments.length?!!t:!y.isOpen,angular.isFunction(x)&&x(y,y.isOpen),y.isOpen},this.isOpen=function(){return y.isOpen},y.getToggleElement=function(){return v.toggleElement},y.getAutoClose=function(){return e.autoClose||"always"},y.getElement=function(){return c},y.isKeynavEnabled=function(){return r},y.focusDropdownEntry=function(t){var e=v.dropdownMenu?angular.element(v.dropdownMenu).find("a"):c.find("ul").eq(0).find("a");switch(t){case 40:angular.isNumber(v.selectedOption)?v.selectedOption=v.selectedOption===e.length-1?v.selectedOption:v.selectedOption+1:v.selectedOption=0;break;case 38:angular.isNumber(v.selectedOption)?v.selectedOption=0===v.selectedOption?0:v.selectedOption-1:v.selectedOption=e.length-1}e[v.selectedOption].focus()},y.getDropdownElement=function(){return v.dropdownMenu},y.focusToggleElement=function(){v.toggleElement&&v.toggleElement[0].focus()},y.$watch("isOpen",function(t,e){if(k&&v.dropdownMenu){var n,i,o,r=d.positionElements(c,v.dropdownMenu,"bottom-left",!0);if(n={top:r.top+"px",display:t?"block":"none"},i=v.dropdownMenu.hasClass("dropdown-menu-right"),n.right=i?(n.left="auto",o=d.scrollbarWidth(!0),window.innerWidth-o-(r.left+c.prop("offsetWidth"))+"px"):(n.left=r.left+"px","auto"),!_){var a=d.offset(k);n.top=r.top-a.top+"px",i?n.right=window.innerWidth-(r.left-a.left+c.prop("offsetWidth"))+"px":n.left=r.left-a.left+"px"}v.dropdownMenu.css(n)}var s=k||c;if(s.hasClass(k?b:w)===!t&&h[t?"addClass":"removeClass"](s,k?b:w).then(function(){angular.isDefined(t)&&t!==e&&$(u,{open:!!t})}),t)v.dropdownMenuTemplateUrl&&g(v.dropdownMenuTemplateUrl).then(function(t){m=y.$new(),f(t.trim())(m,function(t){var e=t;v.dropdownMenu.replaceWith(e),v.dropdownMenu=e})}),y.focusToggleElement(),p.open(y,c);else{if(v.dropdownMenuTemplateUrl){m&&m.$destroy();var l=angular.element('<ul class="dropdown-menu"></ul>');v.dropdownMenu.replaceWith(l),v.dropdownMenu=l}p.close(y,c),v.selectedOption=null}angular.isFunction(x)&&x(u,t)})}]).directive("uibDropdown",function(){return{controller:"UibDropdownController",link:function(t,e,n,i){i.init()}}}).directive("uibDropdownMenu",function(){return{restrict:"A",require:"?^uibDropdown",link:function(t,e,n,i){if(i&&!angular.isDefined(n.dropdownNested)){e.addClass("dropdown-menu");var o=n.templateUrl;o&&(i.dropdownMenuTemplateUrl=o),i.dropdownMenu||(i.dropdownMenu=e)}}}}).directive("uibDropdownToggle",function(){return{require:"?^uibDropdown",link:function(e,n,i,o){if(o){n.addClass("dropdown-toggle"),o.toggleElement=n;var t=function(t){t.preventDefault(),n.hasClass("disabled")||i.disabled||e.$apply(function(){o.toggle()})};n.bind("click",t),n.attr({"aria-haspopup":!0,"aria-expanded":!1}),e.$watch(o.isOpen,function(t){n.attr("aria-expanded",!!t)}),e.$on("$destroy",function(){n.unbind("click",t)})}}}}),angular.module("ui.bootstrap.stackedMap",[]).factory("$$stackedMap",function(){return{createNew:function(){var i=[];return{add:function(t,e){i.push({key:t,value:e})},get:function(t){for(var e=0;e<i.length;e++)if(t===i[e].key)return i[e]},keys:function(){for(var t=[],e=0;e<i.length;e++)t.push(i[e].key);return t},top:function(){return i[i.length-1]},remove:function(t){for(var e=-1,n=0;n<i.length;n++)if(t===i[n].key){e=n;break}return i.splice(e,1)[0]},removeTop:function(){return i.splice(i.length-1,1)[0]},length:function(){return i.length}}}}}),angular.module("ui.bootstrap.modal",["ui.bootstrap.stackedMap","ui.bootstrap.position"]).factory("$$multiMap",function(){return{createNew:function(){var o={};return{entries:function(){return Object.keys(o).map(function(t){return{key:t,value:o[t]}})},get:function(t){return o[t]},hasKey:function(t){return!!o[t]},keys:function(){return Object.keys(o)},put:function(t,e){o[t]||(o[t]=[]),o[t].push(e)},remove:function(t,e){var n=o[t];if(n){var i=n.indexOf(e);-1!==i&&n.splice(i,1),n.length||delete o[t]}}}}}}).provider("$uibResolve",function(){var t=this;this.resolver=null,this.setResolver=function(t){this.resolver=t},this.$get=["$injector","$q",function(r,a){var s=t.resolver?r.get(t.resolver):null;return{resolve:function(t,e,n,i){if(s)return s.resolve(t,e,n,i);var o=[];return angular.forEach(t,function(t){angular.isFunction(t)||angular.isArray(t)?o.push(a.resolve(r.invoke(t))):angular.isString(t)?o.push(a.resolve(r.get(t))):o.push(a.resolve(t))}),a.all(o).then(function(n){var i={},o=0;return angular.forEach(t,function(t,e){i[e]=n[o++]}),i})}}}]}).directive("uibModalBackdrop",["$animate","$injector","$uibModalStack",function(a,t,e){return{replace:!0,templateUrl:"uib/template/modal/backdrop.html",compile:function(t,e){return t.addClass(e.backdropClass),n}};function n(i,o,r){r.modalInClass&&(a.addClass(o,r.modalInClass),i.$on(e.NOW_CLOSING_EVENT,function(t,e){var n=e();i.modalOptions.animation?a.removeClass(o,r.modalInClass).then(n):n()}))}}]).directive("uibModalWindow",["$uibModalStack","$q","$animateCss","$document",function(r,a,s,l){return{scope:{index:"@"},replace:!0,transclude:!0,templateUrl:function(t,e){return e.templateUrl||"uib/template/modal/window.html"},link:function(e,i,o){i.addClass(o.windowClass||""),i.addClass(o.windowTopClass||""),e.size=o.size,e.close=function(t){var e=r.getTop();e&&e.value.backdrop&&"static"!==e.value.backdrop&&t.target===t.currentTarget&&(t.preventDefault(),t.stopPropagation(),r.dismiss(e.key,"backdrop click"))},i.on("click",e.close),e.$isRendered=!0;var n=a.defer();o.$observe("modalRender",function(t){"true"===t&&n.resolve()}),n.promise.then(function(){var t=null;o.modalInClass&&(t=s(i,{addClass:o.modalInClass}).start(),e.$on(r.NOW_CLOSING_EVENT,function(t,e){var n=e();s(i,{removeClass:o.modalInClass}).start().then(n)})),a.when(t).then(function(){var t=r.getTop();if(t&&r.modalRendered(t.key),!l[0].activeElement||!i[0].contains(l[0].activeElement)){var e=i[0].querySelector("[autofocus]");e?e.focus():i[0].focus()}})})}}}]).directive("uibModalAnimationClass",function(){return{compile:function(t,e){e.modalAnimation&&t.addClass(e.uibModalAnimationClass)}}}).directive("uibModalTransclude",function(){return{link:function(t,e,n,i,o){o(t.$parent,function(t){e.empty(),e.append(t)})}}}).factory("$uibModalStack",["$animate","$animateCss","$document","$compile","$rootScope","$q","$$multiMap","$$stackedMap","$uibPosition",function(s,t,l,u,c,a,e,n,p){var h,d,f,g="modal-open",m=n.createNew(),v=e.createNew(),y={NOW_CLOSING_EVENT:"modal.stack.now-closing"},b=0,w=null;function x(){for(var t=-1,e=m.keys(),n=0;n<e.length;n++)m.get(e[n]).value.backdrop&&(t=n);return-1<t&&t<b&&(t=b),t}function i(n,t){var i=m.get(n).value,o=i.appendTo;m.remove(n),(w=m.top())&&(b=parseInt(w.value.modalDomEl.attr("index"),10)),r(i.modalDomEl,i.modalScope,function(){var t=i.openedClass||g;v.remove(t,n);var e=v.hasKey(t);o.toggleClass(t,e),!e&&f&&f.heightOverflow&&f.scrollbarWidth&&(f.originalRight?o.css({paddingRight:f.originalRight+"px"}):o.css({paddingRight:""}),f=null),$(!0)},i.closedDeferred),function(){if(h&&-1===x()){r(h,d,function(){null}),d=h=void 0}}(),t&&t.focus?t.focus():o.focus&&o.focus()}function $(t){var e;0<m.length()&&(e=m.top().value).modalDomEl.toggleClass(e.windowTopClass||"",t)}function r(e,n,i,o){var t,r=null;return n.$broadcast(y.NOW_CLOSING_EVENT,function(){return t||(t=a.defer(),r=t.promise),function(){t.resolve()}}),a.when(r).then(function t(){if(t.done)return;t.done=!0;s.leave(e).then(function(){e.remove(),o&&o.resolve()});n.$destroy();i&&i()})}function o(t){if(t.isDefaultPrevented())return t;var e=m.top();if(e)switch(t.which){case 27:e.value.keyboard&&(t.preventDefault(),c.$apply(function(){y.dismiss(e.key,"escape key press")}));break;case 9:var n=y.loadFocusElementList(e),i=!1;t.shiftKey?(y.isFocusInFirstItem(t,n)||y.isModalFocused(t,e))&&(i=y.focusLastFocusableElement(n)):y.isFocusInLastItem(t,n)&&(i=y.focusFirstFocusableElement(n)),i&&(t.preventDefault(),t.stopPropagation())}}function _(t,e,n){return!t.value.modalScope.$broadcast("modal.closing",e,n).defaultPrevented}return c.$watch(x,function(t){d&&(d.index=t)}),l.on("keydown",o),c.$on("$destroy",function(){l.off("keydown",o)}),y.open=function(t,e){var n=l[0].activeElement,i=e.openedClass||g;$(!1),w=m.top(),m.add(t,{deferred:e.deferred,renderDeferred:e.renderDeferred,closedDeferred:e.closedDeferred,modalScope:e.scope,backdrop:e.backdrop,keyboard:e.keyboard,openedClass:e.openedClass,windowTopClass:e.windowTopClass,animation:e.animation,appendTo:e.appendTo}),v.put(i,t);var o=e.appendTo,r=x();if(!o.length)throw new Error("appendTo element not found. Make sure that the element passed is in DOM.");0<=r&&!h&&((d=c.$new(!0)).modalOptions=e,d.index=r,(h=angular.element('<div uib-modal-backdrop="modal-backdrop"></div>')).attr("backdrop-class",e.backdropClass),e.animation&&h.attr("modal-animation","true"),u(h)(d),s.enter(h,o),(f=p.scrollbarPadding(o)).heightOverflow&&f.scrollbarWidth&&o.css({paddingRight:f.right+"px"})),b=w?parseInt(w.value.modalDomEl.attr("index"),10)+1:0;var a=angular.element('<div uib-modal-window="modal-window"></div>');a.attr({"template-url":e.windowTemplateUrl,"window-class":e.windowClass,"window-top-class":e.windowTopClass,size:e.size,index:b,animate:"animate"}).html(e.content),e.animation&&a.attr("modal-animation","true"),o.addClass(i),s.enter(u(a)(e.scope),o),m.top().value.modalDomEl=a,m.top().value.modalOpener=n},y.close=function(t,e){var n=m.get(t);return n&&_(n,e,!0)?(n.value.modalScope.$$uibDestructionScheduled=!0,n.value.deferred.resolve(e),i(t,n.value.modalOpener),!0):!n},y.dismiss=function(t,e){var n=m.get(t);return n&&_(n,e,!1)?(n.value.modalScope.$$uibDestructionScheduled=!0,n.value.deferred.reject(e),i(t,n.value.modalOpener),!0):!n},y.dismissAll=function(t){for(var e=this.getTop();e&&this.dismiss(e.key,t);)e=this.getTop()},y.getTop=function(){return m.top()},y.modalRendered=function(t){var e=m.get(t);e&&e.value.renderDeferred.resolve()},y.focusFirstFocusableElement=function(t){return 0<t.length&&(t[0].focus(),!0)},y.focusLastFocusableElement=function(t){return 0<t.length&&(t[t.length-1].focus(),!0)},y.isModalFocused=function(t,e){if(t&&e){var n=e.value.modalDomEl;if(n&&n.length)return(t.target||t.srcElement)===n[0]}return!1},y.isFocusInFirstItem=function(t,e){return 0<e.length&&(t.target||t.srcElement)===e[0]},y.isFocusInLastItem=function(t,e){return 0<e.length&&(t.target||t.srcElement)===e[e.length-1]},y.loadFocusElementList=function(t){if(t){var e=t.value.modalDomEl;if(e&&e.length){var n=e[0].querySelectorAll("a[href], area[href], input:not([disabled]), button:not([disabled]),select:not([disabled]), textarea:not([disabled]), iframe, object, embed, *[tabindex], *[contenteditable=true]");return n?Array.prototype.filter.call(n,function(t){return!!((e=t).offsetWidth||e.offsetHeight||e.getClientRects().length);var e}):n}}},y}]).provider("$uibModal",function(){var y={options:{animation:!0,backdrop:!0,keyboard:!0},$get:["$rootScope","$q","$document","$templateRequest","$controller","$uibResolve","$uibModalStack",function(h,o,r,d,f,g,m){var t={};var v=null;return t.getPromiseChain=function(){return v},t.open=function(a){var s=o.defer(),l=o.defer(),u=o.defer(),c=o.defer(),p={result:s.promise,opened:l.promise,closed:u.promise,rendered:c.promise,close:function(t){return m.close(p,t)},dismiss:function(t){return m.dismiss(p,t)}};if((a=angular.extend({},y.options,a)).resolve=a.resolve||{},a.appendTo=a.appendTo||r.find("body").eq(0),!a.template&&!a.templateUrl)throw new Error("One of template or templateUrl options is required.");var t,e,n=o.all([(t=a,t.template?o.when(t.template):d(angular.isFunction(t.templateUrl)?t.templateUrl():t.templateUrl)),g.resolve(a.resolve,{},null,null)]);function i(){return n}return e=v=o.all([v]).then(i,i).then(function(t){var e=a.scope||h,n=e.$new();n.$close=p.close,n.$dismiss=p.dismiss,n.$on("$destroy",function(){n.$$uibDestructionScheduled||n.$dismiss("$uibUnscheduledDestruction")});var i,o,r={};a.controller&&(r.$scope=n,r.$scope.$resolve={},r.$uibModalInstance=p,angular.forEach(t[1],function(t,e){r[e]=t,r.$scope.$resolve[e]=t}),o=f(a.controller,r,!0,a.controllerAs),a.controllerAs&&a.bindToController&&((i=o.instance).$close=n.$close,i.$dismiss=n.$dismiss,angular.extend(i,{$resolve:r.$scope.$resolve},e)),i=o(),angular.isFunction(i.$onInit)&&i.$onInit()),m.open(p,{scope:n,deferred:s,renderDeferred:c,closedDeferred:u,content:t[0],animation:a.animation,backdrop:a.backdrop,keyboard:a.keyboard,backdropClass:a.backdropClass,windowTopClass:a.windowTopClass,windowClass:a.windowClass,windowTemplateUrl:a.windowTemplateUrl,size:a.size,openedClass:a.openedClass,appendTo:a.appendTo}),l.resolve(!0)},function(t){l.reject(t),s.reject(t)}).finally(function(){v===e&&(v=null)}),p},t}]};return y}),angular.module("ui.bootstrap.paging",[]).factory("uibPaging",["$parse",function(t){return{create:function(n,i,o){n.setNumPages=o.numPages?t(o.numPages).assign:angular.noop,n.ngModelCtrl={$setViewValue:angular.noop},n._watchers=[],n.init=function(t,e){n.ngModelCtrl=t,n.config=e,t.$render=function(){n.render()},o.itemsPerPage?n._watchers.push(i.$parent.$watch(o.itemsPerPage,function(t){n.itemsPerPage=parseInt(t,10),i.totalPages=n.calculateTotalPages(),n.updatePage()})):n.itemsPerPage=e.itemsPerPage,i.$watch("totalItems",function(t,e){(angular.isDefined(t)||t!==e)&&(i.totalPages=n.calculateTotalPages(),n.updatePage())})},n.calculateTotalPages=function(){var t=n.itemsPerPage<1?1:Math.ceil(i.totalItems/n.itemsPerPage);return Math.max(t||0,1)},n.render=function(){i.page=parseInt(n.ngModelCtrl.$viewValue,10)||1},i.selectPage=function(t,e){e&&e.preventDefault(),(!i.ngDisabled||!e)&&i.page!==t&&0<t&&t<=i.totalPages&&(e&&e.target&&e.target.blur(),n.ngModelCtrl.$setViewValue(t),n.ngModelCtrl.$render())},i.getText=function(t){return i[t+"Text"]||n.config[t+"Text"]},i.noPrevious=function(){return 1===i.page},i.noNext=function(){return i.page===i.totalPages},n.updatePage=function(){n.setNumPages(i.$parent,i.totalPages),i.page>i.totalPages?i.selectPage(i.totalPages):n.ngModelCtrl.$render()},i.$on("$destroy",function(){for(;n._watchers.length;)n._watchers.shift()()})}}}]),angular.module("ui.bootstrap.pager",["ui.bootstrap.paging"]).controller("UibPagerController",["$scope","$attrs","uibPaging","uibPagerConfig",function(t,e,n,i){t.align=angular.isDefined(e.align)?t.$parent.$eval(e.align):i.align,n.create(this,t,e)}]).constant("uibPagerConfig",{itemsPerPage:10,previousText:" Previous",nextText:"Next ",align:!0}).directive("uibPager",["uibPagerConfig",function(a){return{scope:{totalItems:"=",previousText:"@",nextText:"@",ngDisabled:"="},require:["uibPager","?ngModel"],controller:"UibPagerController",controllerAs:"pager",templateUrl:function(t,e){return e.templateUrl||"uib/template/pager/pager.html"},replace:!0,link:function(t,e,n,i){var o=i[0],r=i[1];r&&o.init(r,a)}}}]),angular.module("ui.bootstrap.pagination",["ui.bootstrap.paging"]).controller("UibPaginationController",["$scope","$attrs","$parse","uibPaging","uibPaginationConfig",function(e,n,t,i,o){var r=this,f=angular.isDefined(n.maxSize)?e.$parent.$eval(n.maxSize):o.maxSize,g=angular.isDefined(n.rotate)?e.$parent.$eval(n.rotate):o.rotate,m=angular.isDefined(n.forceEllipses)?e.$parent.$eval(n.forceEllipses):o.forceEllipses,v=angular.isDefined(n.boundaryLinkNumbers)?e.$parent.$eval(n.boundaryLinkNumbers):o.boundaryLinkNumbers,y=angular.isDefined(n.pageLabel)?function(t){return e.$parent.$eval(n.pageLabel,{$page:t})}:angular.identity;function b(t,e,n){return{number:t,text:e,active:n}}e.boundaryLinks=angular.isDefined(n.boundaryLinks)?e.$parent.$eval(n.boundaryLinks):o.boundaryLinks,e.directionLinks=angular.isDefined(n.directionLinks)?e.$parent.$eval(n.directionLinks):o.directionLinks,i.create(this,e,n),n.maxSize&&r._watchers.push(e.$parent.$watch(t(n.maxSize),function(t){f=parseInt(t,10),r.render()}));var a=this.render;this.render=function(){a(),0<e.page&&e.page<=e.totalPages&&(e.pages=function(t,e){var n=[],i=1,o=e,r=angular.isDefined(f)&&f<e;r&&(g?e<(o=(i=Math.max(t-Math.floor(f/2),1))+f-1)&&(i=(o=e)-f+1):(i=(Math.ceil(t/f)-1)*f+1,o=Math.min(i+f-1,e)));for(var a=i;a<=o;a++){var s=b(a,y(a),a===t);n.push(s)}if(r&&0<f&&(!g||m||v)){if(1<i){if(!v||3<i){var l=b(i-1,"...",!1);n.unshift(l)}if(v){if(3===i){var u=b(2,"2",!1);n.unshift(u)}var c=b(1,"1",!1);n.unshift(c)}}if(o<e){if(!v||o<e-2){var p=b(o+1,"...",!1);n.push(p)}if(v){if(o===e-2){var h=b(e-1,e-1,!1);n.push(h)}var d=b(e,e,!1);n.push(d)}}}return n}(e.page,e.totalPages))}}]).constant("uibPaginationConfig",{itemsPerPage:10,boundaryLinks:!1,boundaryLinkNumbers:!1,directionLinks:!0,firstText:"First",previousText:"Previous",nextText:"Next",lastText:"Last",rotate:!0,forceEllipses:!1}).directive("uibPagination",["$parse","uibPaginationConfig",function(t,a){return{scope:{totalItems:"=",firstText:"@",previousText:"@",nextText:"@",lastText:"@",ngDisabled:"="},require:["uibPagination","?ngModel"],controller:"UibPaginationController",controllerAs:"pagination",templateUrl:function(t,e){return e.templateUrl||"uib/template/pagination/pagination.html"},replace:!0,link:function(t,e,n,i){var o=i[0],r=i[1];r&&o.init(r,a)}}}]),angular.module("ui.bootstrap.tooltip",["ui.bootstrap.position","ui.bootstrap.stackedMap"]).provider("$uibTooltip",function(){var s={placement:"top",placementClassPrefix:"",animation:!0,popupDelay:0,popupCloseDelay:0,useContentExp:!1},l={mouseenter:"mouseleave",click:"click",outsideClick:"outsideClick",focus:"blur",none:""},u={};this.options=function(t){angular.extend(u,t)},this.setTriggers=function(t){angular.extend(l,t)},this.$get=["$window","$compile","$timeout","$document","$uibPosition","$interpolate","$rootScope","$parse","$$stackedMap",function(t,r,B,U,z,a,e,H,n){var V=n.createNew();function i(t){if(27===t.which){var e=V.top();e&&(e.value.close(),V.removeTop(),e=null)}}return U.on("keypress",i),e.$on("$destroy",function(){U.off("keypress",i)}),function(L,F,i,N){function j(t){var e=(t||N.trigger||i).split(" "),n=e.map(function(t){return l[t]||t});return{show:e,hide:n}}N=angular.extend({},s,u,N);var t=L.replace(/[A-Z]/g,function(t,e){return(e?"-":"")+t.toLowerCase()}),e=a.startSymbol(),n=a.endSymbol(),o="<div "+t+'-popup uib-title="'+e+"title"+n+'" '+(N.useContentExp?'content-exp="contentExp()" ':'content="'+e+"content"+n+'" ')+'placement="'+e+"placement"+n+'" popup-class="'+e+"popupClass"+n+'" animation="animation" is-open="isOpen" origin-scope="origScope" class="uib-position-measure"></div>';return{compile:function(t,e){var R=r(o);return function(i,n,o,t){var e,r,a,s,l,u,c,p=!!angular.isDefined(N.appendToBody)&&N.appendToBody,h=j(void 0),d=angular.isDefined(o[F+"Enable"]),f=i.$new(!0),g=!1,m=!!angular.isDefined(o[F+"IsOpen"])&&H(o[F+"IsOpen"]),v=!!N.useContentExp&&H(o[L]),y=[],b=function(){e&&e.html()&&(u||(u=B(function(){var t=z.positionElements(n,e,f.placement,p);e.css({top:t.top+"px",left:t.left+"px"}),e.hasClass(t.placement.split("-")[0])||(e.removeClass(c.split("-")[0]),e.addClass(t.placement.split("-")[0])),e.hasClass(N.placementClassPrefix+t.placement)||(e.removeClass(N.placementClassPrefix+c),e.addClass(N.placementClassPrefix+t.placement)),e.hasClass("uib-position-measure")?(z.positionArrow(e,t.placement),e.removeClass("uib-position-measure")):c!==t.placement&&z.positionArrow(e,t.placement),c=t.placement,u=null},0,!1)))};function w(){f.isOpen?$():x()}function x(){d&&!i.$eval(o[F+"Enable"])||(S(),function(){f.title=o[F+"Title"],f.content=v?v(i):o[L];f.popupClass=o[F+"Class"],f.placement=angular.isDefined(o[F+"Placement"])?o[F+"Placement"]:N.placement;var t=z.parsePlacement(f.placement);c=t[1]?t[0]+"-"+t[1]:t[0];var e=parseInt(o[F+"PopupDelay"],10),n=parseInt(o[F+"PopupCloseDelay"],10);f.popupDelay=isNaN(e)?N.popupDelay:e,f.popupCloseDelay=isNaN(n)?N.popupCloseDelay:n}(),f.popupDelay?s||(s=B(_,f.popupDelay,!1)):_())}function $(){k(),f.popupCloseDelay?l||(l=B(C,f.popupCloseDelay,!1)):C()}function _(){if(k(),S(),!f.content)return angular.noop;!function(){if(e)return;r=f.$new(),e=R(r,function(t){p?U.find("body").append(t):n.after(t)}),function(){y.length=0,v?(y.push(i.$watch(v,function(t){!(f.content=t)&&f.isOpen&&C()})),y.push(r.$watch(function(){g||(g=!0,r.$$postDigest(function(){g=!1,f&&f.isOpen&&b()}))}))):y.push(o.$observe(L,function(t){!(f.content=t)&&f.isOpen?C():b()}));y.push(o.$observe(F+"Title",function(t){f.title=t,f.isOpen&&b()})),y.push(o.$observe(F+"Placement",function(t){f.placement=t||N.placement,f.isOpen&&b()}))}()}(),f.$evalAsync(function(){A(f.isOpen=!0),b()})}function k(){s&&(B.cancel(s),s=null),u&&(B.cancel(u),u=null)}function C(){f&&f.$evalAsync(function(){f&&(A(f.isOpen=!1),f.animation?a||(a=B(T,150,!1)):T())})}function S(){l&&(B.cancel(l),l=null),a&&(B.cancel(a),a=null)}function T(){k(),S(),y.length&&(angular.forEach(y,function(t){t()}),y.length=0),e&&(e.remove(),e=null),r&&(r.$destroy(),r=null)}function A(t){m&&angular.isFunction(m.assign)&&m.assign(i,t)}function D(t){f&&f.isOpen&&e&&(n[0].contains(t.target)||e[0].contains(t.target)||$())}f.origScope=i,f.isOpen=!1,V.add(f,{close:C}),f.contentExp=function(){return f.content},o.$observe("disabled",function(t){t&&k(),t&&f.isOpen&&C()}),m&&i.$watch(m,function(t){f&&!t===f.isOpen&&w()});var M,E=function(){h.show.forEach(function(t){"outsideClick"===t?n.off("click",w):(n.off(t,x),n.off(t,w))}),h.hide.forEach(function(t){"outsideClick"===t?U.off("click",D):n.off(t,$)})};M=o[F+"Trigger"],E(),"none"!==(h=j(M)).show&&h.show.forEach(function(t,e){"outsideClick"===t?(n.on("click",w),U.on("click",D)):t===h.hide[e]?n.on(t,w):t&&(n.on(t,x),n.on(h.hide[e],$)),n.on("keypress",function(t){27===t.which&&$()})});var P,O=i.$eval(o[F+"Animation"]);f.animation=angular.isDefined(O)?!!O:N.animation;var I=F+"AppendToBody";P=I in o&&void 0===o[I]||i.$eval(o[I]),p=angular.isDefined(P)?P:p,i.$on("$destroy",function(){E(),T(),V.remove(f),f=null})}}}}}]}).directive("uibTooltipTemplateTransclude",["$animate","$sce","$compile","$templateRequest",function(p,i,h,d){return{link:function(t,r,e){var a,n,s,l=t.$eval(e.tooltipTemplateTranscludeScope),u=0,c=function(){n&&(n.remove(),n=null),a&&(a.$destroy(),a=null),s&&(p.leave(s).then(function(){n=null}),n=s,s=null)};t.$watch(i.parseAsResourceUrl(e.uibTooltipTemplateTransclude),function(i){var o=++u;i?(d(i,!0).then(function(t){if(o===u){var e=l.$new(),n=h(t)(e,function(t){c(),p.enter(t,r)});s=n,(a=e).$emit("$includeContentLoaded",i)}},function(){o===u&&(c(),t.$emit("$includeContentError",i))}),t.$emit("$includeContentRequested",i)):c()}),t.$on("$destroy",c)}}}]).directive("uibTooltipClasses",["$uibPosition",function(o){return{restrict:"A",link:function(t,e,n){if(t.placement){var i=o.parsePlacement(t.placement);e.addClass(i[0])}t.popupClass&&e.addClass(t.popupClass),t.animation()&&e.addClass(n.tooltipAnimationClass)}}}]).directive("uibTooltipPopup",function(){return{replace:!0,scope:{content:"@",placement:"@",popupClass:"@",animation:"&",isOpen:"&"},templateUrl:"uib/template/tooltip/tooltip-popup.html"}}).directive("uibTooltip",["$uibTooltip",function(t){return t("uibTooltip","tooltip","mouseenter")}]).directive("uibTooltipTemplatePopup",function(){return{replace:!0,scope:{contentExp:"&",placement:"@",popupClass:"@",animation:"&",isOpen:"&",originScope:"&"},templateUrl:"uib/template/tooltip/tooltip-template-popup.html"}}).directive("uibTooltipTemplate",["$uibTooltip",function(t){return t("uibTooltipTemplate","tooltip","mouseenter",{useContentExp:!0})}]).directive("uibTooltipHtmlPopup",function(){return{replace:!0,scope:{contentExp:"&",placement:"@",popupClass:"@",animation:"&",isOpen:"&"},templateUrl:"uib/template/tooltip/tooltip-html-popup.html"}}).directive("uibTooltipHtml",["$uibTooltip",function(t){return t("uibTooltipHtml","tooltip","mouseenter",{useContentExp:!0})}]),angular.module("ui.bootstrap.popover",["ui.bootstrap.tooltip"]).directive("uibPopoverTemplatePopup",function(){return{replace:!0,scope:{uibTitle:"@",contentExp:"&",placement:"@",popupClass:"@",animation:"&",isOpen:"&",originScope:"&"},templateUrl:"uib/template/popover/popover-template.html"}}).directive("uibPopoverTemplate",["$uibTooltip",function(t){return t("uibPopoverTemplate","popover","click",{useContentExp:!0})}]).directive("uibPopoverHtmlPopup",function(){return{replace:!0,scope:{contentExp:"&",uibTitle:"@",placement:"@",popupClass:"@",animation:"&",isOpen:"&"},templateUrl:"uib/template/popover/popover-html.html"}}).directive("uibPopoverHtml",["$uibTooltip",function(t){return t("uibPopoverHtml","popover","click",{useContentExp:!0})}]).directive("uibPopoverPopup",function(){return{replace:!0,scope:{uibTitle:"@",content:"@",placement:"@",popupClass:"@",animation:"&",isOpen:"&"},templateUrl:"uib/template/popover/popover.html"}}).directive("uibPopover",["$uibTooltip",function(t){return t("uibPopover","popover","click")}]),angular.module("ui.bootstrap.progressbar",[]).constant("uibProgressConfig",{animate:!0,max:100}).controller("UibProgressController",["$scope","$attrs","uibProgressConfig",function(t,e,n){var i=this,o=angular.isDefined(e.animate)?t.$parent.$eval(e.animate):n.animate;function r(){return angular.isDefined(t.maxParam)?t.maxParam:n.max}this.bars=[],t.max=r(),this.addBar=function(e,t,n){o||t.css({transition:"none"}),this.bars.push(e),e.max=r(),e.title=n&&angular.isDefined(n.title)?n.title:"progressbar",e.$watch("value",function(t){e.recalculatePercentage()}),e.recalculatePercentage=function(){var t=i.bars.reduce(function(t,e){return e.percent=+(100*e.value/e.max).toFixed(2),t+e.percent},0);100<t&&(e.percent-=t-100)},e.$on("$destroy",function(){t=null,i.removeBar(e)})},this.removeBar=function(t){this.bars.splice(this.bars.indexOf(t),1),this.bars.forEach(function(t){t.recalculatePercentage()})},t.$watch("maxParam",function(t){i.bars.forEach(function(t){t.max=r(),t.recalculatePercentage()})})}]).directive("uibProgress",function(){return{replace:!0,transclude:!0,controller:"UibProgressController",require:"uibProgress",scope:{maxParam:"=?max"},templateUrl:"uib/template/progressbar/progress.html"}}).directive("uibBar",function(){return{replace:!0,transclude:!0,require:"^uibProgress",scope:{value:"=",type:"@"},templateUrl:"uib/template/progressbar/bar.html",link:function(t,e,n,i){i.addBar(t,e,n)}}}).directive("uibProgressbar",function(){return{replace:!0,transclude:!0,controller:"UibProgressController",scope:{value:"=",maxParam:"=?max",type:"@"},templateUrl:"uib/template/progressbar/progressbar.html",link:function(t,e,n,i){i.addBar(t,angular.element(e.children()[0]),{title:n.title})}}}),angular.module("ui.bootstrap.rating",[]).constant("uibRatingConfig",{max:5,stateOn:null,stateOff:null,enableReset:!0,titles:["one","two","three","four","five"]}).controller("UibRatingController",["$scope","$attrs","uibRatingConfig",function(i,o,r){var a={$setViewValue:angular.noop},n=this;this.init=function(t){(a=t).$render=this.render,a.$formatters.push(function(t){return angular.isNumber(t)&&t<<0!==t&&(t=Math.round(t)),t}),this.stateOn=angular.isDefined(o.stateOn)?i.$parent.$eval(o.stateOn):r.stateOn,this.stateOff=angular.isDefined(o.stateOff)?i.$parent.$eval(o.stateOff):r.stateOff,this.enableReset=angular.isDefined(o.enableReset)?i.$parent.$eval(o.enableReset):r.enableReset;var e=angular.isDefined(o.titles)?i.$parent.$eval(o.titles):r.titles;this.titles=angular.isArray(e)&&0<e.length?e:r.titles;var n=angular.isDefined(o.ratingStates)?i.$parent.$eval(o.ratingStates):new Array(angular.isDefined(o.max)?i.$parent.$eval(o.max):r.max);i.range=this.buildTemplateObjects(n)},this.buildTemplateObjects=function(t){for(var e=0,n=t.length;e<n;e++)t[e]=angular.extend({index:e},{stateOn:this.stateOn,stateOff:this.stateOff,title:this.getTitle(e)},t[e]);return t},this.getTitle=function(t){return t>=this.titles.length?t+1:this.titles[t]},i.rate=function(t){if(!i.readonly&&0<=t&&t<=i.range.length){var e=n.enableReset&&a.$viewValue===t?0:t;a.$setViewValue(e),a.$render()}},i.enter=function(t){i.readonly||(i.value=t),i.onHover({value:t})},i.reset=function(){i.value=a.$viewValue,i.onLeave()},i.onKeydown=function(t){/(37|38|39|40)/.test(t.which)&&(t.preventDefault(),t.stopPropagation(),i.rate(i.value+(38===t.which||39===t.which?1:-1)))},this.render=function(){i.value=a.$viewValue,i.title=n.getTitle(i.value-1)}}]).directive("uibRating",function(){return{require:["uibRating","ngModel"],scope:{readonly:"=?readOnly",onHover:"&",onLeave:"&"},controller:"UibRatingController",templateUrl:"uib/template/rating/rating.html",replace:!0,link:function(t,e,n,i){var o=i[0],r=i[1];o.init(r)}}}),angular.module("ui.bootstrap.tabs",[]).controller("UibTabsetController",["$scope",function(t){var r,a,s=this;function l(t){for(var e=0;e<s.tabs.length;e++)if(s.tabs[e].index===t)return e}s.tabs=[],s.select=function(t,e){if(!a){var n=l(r),i=s.tabs[n];if(i){if(i.tab.onDeselect({$event:e,$selectedIndex:t}),e&&e.isDefaultPrevented())return;i.tab.active=!1}var o=s.tabs[t];o?(o.tab.onSelect({$event:e}),o.tab.active=!0,s.active=o.index,r=o.index):!o&&angular.isDefined(r)&&(s.active=null,r=null)}},s.addTab=function(t){if(s.tabs.push({tab:t,index:t.index}),s.tabs.sort(function(t,e){return t.index>e.index?1:t.index<e.index?-1:0}),t.index===s.active||!angular.isDefined(s.active)&&1===s.tabs.length){var e=l(t.index);s.select(e)}},s.removeTab=function(t){for(var e,n=0;n<s.tabs.length;n++)if(s.tabs[n].tab===t){e=n;break}if(s.tabs[e].index===s.active){var i=e===s.tabs.length-1?e-1:e+1%s.tabs.length;s.select(i)}s.tabs.splice(e,1)},t.$watch("tabset.active",function(t){angular.isDefined(t)&&t!==r&&s.select(l(t))}),t.$on("$destroy",function(){a=!0})}]).directive("uibTabset",function(){return{transclude:!0,replace:!0,scope:{},bindToController:{active:"=?",type:"@"},controller:"UibTabsetController",controllerAs:"tabset",templateUrl:function(t,e){return e.templateUrl||"uib/template/tabs/tabset.html"},link:function(t,e,n){t.vertical=!!angular.isDefined(n.vertical)&&t.$parent.$eval(n.vertical),t.justified=!!angular.isDefined(n.justified)&&t.$parent.$eval(n.justified)}}}).directive("uibTab",["$parse",function(r){return{require:"^uibTabset",replace:!0,templateUrl:function(t,e){return e.templateUrl||"uib/template/tabs/tab.html"},transclude:!0,scope:{heading:"@",index:"=?",classes:"@?",onSelect:"&select",onDeselect:"&deselect"},controller:function(){},controllerAs:"tab",link:function(i,t,e,o,n){i.disabled=!1,e.disable&&i.$parent.$watch(r(e.disable),function(t){i.disabled=!!t}),angular.isUndefined(e.index)&&(o.tabs&&o.tabs.length?i.index=Math.max.apply(null,o.tabs.map(function(t){return t.index}))+1:i.index=0),angular.isUndefined(e.classes)&&(i.classes=""),i.select=function(t){if(!i.disabled){for(var e,n=0;n<o.tabs.length;n++)if(o.tabs[n].tab===i){e=n;break}o.select(e,t)}},o.addTab(i),i.$on("$destroy",function(){o.removeTab(i)}),i.$transcludeFn=n}}}]).directive("uibTabHeadingTransclude",function(){return{restrict:"A",require:"^uibTab",link:function(t,e){t.$watch("headingElement",function(t){t&&(e.html(""),e.append(t))})}}}).directive("uibTabContentTransclude",function(){return{restrict:"A",require:"^uibTabset",link:function(t,n,e){var i=t.$eval(e.uibTabContentTransclude).tab;i.$transcludeFn(i.$parent,function(t){angular.forEach(t,function(t){var e;(e=t).tagName&&(e.hasAttribute("uib-tab-heading")||e.hasAttribute("data-uib-tab-heading")||e.hasAttribute("x-uib-tab-heading")||"uib-tab-heading"===e.tagName.toLowerCase()||"data-uib-tab-heading"===e.tagName.toLowerCase()||"x-uib-tab-heading"===e.tagName.toLowerCase()||"uib:tab-heading"===e.tagName.toLowerCase())?i.headingElement=t:n.append(t)})})}}}),angular.module("ui.bootstrap.timepicker",[]).constant("uibTimepickerConfig",{hourStep:1,minuteStep:1,secondStep:1,showMeridian:!0,showSeconds:!1,meridians:null,readonlyInput:!1,mousewheel:!0,arrowkeys:!0,showSpinners:!0,templateUrl:"uib/template/timepicker/timepicker.html"}).controller("UibTimepickerController",["$scope","$element","$attrs","$parse","$log","$locale","uibTimepickerConfig",function(r,t,a,e,n,i,s){var o=new Date,l=[],u={$setViewValue:angular.noop},c=angular.isDefined(a.meridians)?r.$parent.$eval(a.meridians):s.meridians||i.DATETIME_FORMATS.AMPMS,p=!angular.isDefined(a.padHours)||r.$parent.$eval(a.padHours);r.tabindex=angular.isDefined(a.tabindex)?a.tabindex:0,t.removeAttr("tabindex"),this.init=function(t,e){(u=t).$render=this.render,u.$formatters.unshift(function(t){return t?new Date(t):null});var n=e.eq(0),i=e.eq(1),o=e.eq(2);(angular.isDefined(a.mousewheel)?r.$parent.$eval(a.mousewheel):s.mousewheel)&&this.setupMousewheelEvents(n,i,o),(angular.isDefined(a.arrowkeys)?r.$parent.$eval(a.arrowkeys):s.arrowkeys)&&this.setupArrowkeyEvents(n,i,o),r.readonlyInput=angular.isDefined(a.readonlyInput)?r.$parent.$eval(a.readonlyInput):s.readonlyInput,this.setupInputEvents(n,i,o)};var h=s.hourStep;a.hourStep&&l.push(r.$parent.$watch(e(a.hourStep),function(t){h=+t}));var d,f,g=s.minuteStep;a.minuteStep&&l.push(r.$parent.$watch(e(a.minuteStep),function(t){g=+t})),l.push(r.$parent.$watch(e(a.min),function(t){var e=new Date(t);d=isNaN(e)?void 0:e})),l.push(r.$parent.$watch(e(a.max),function(t){var e=new Date(t);f=isNaN(e)?void 0:e}));var m=!1;a.ngDisabled&&l.push(r.$parent.$watch(e(a.ngDisabled),function(t){m=t})),r.noIncrementHours=function(){var t=C(o,60*h);return m||f<t||t<o&&t<d},r.noDecrementHours=function(){var t=C(o,60*-h);return m||t<d||o<t&&f<t},r.noIncrementMinutes=function(){var t=C(o,g);return m||f<t||t<o&&t<d},r.noDecrementMinutes=function(){var t=C(o,-g);return m||t<d||o<t&&f<t},r.noIncrementSeconds=function(){var t=S(o,v);return m||f<t||t<o&&t<d},r.noDecrementSeconds=function(){var t=S(o,-v);return m||t<d||o<t&&f<t},r.noToggleMeridian=function(){return o.getHours()<12?m||C(o,720)>f:m||C(o,-720)<d};var v=s.secondStep;function y(){var t=+r.hours;if((r.showMeridian?0<t&&t<13:0<=t&&t<24)&&""!==r.hours)return r.showMeridian&&(12===t&&(t=0),r.meridian===c[1]&&(t+=12)),t}function b(){var t=+r.minutes;if(0<=t&&t<60&&""!==r.minutes)return t}function w(t,e){return null===t?"":angular.isDefined(t)&&t.toString().length<2&&!e?"0"+t:t.toString()}function x(t){$(),u.$setViewValue(new Date(o)),_(t)}function $(){u.$setValidity("time",!0),r.invalidHours=!1,r.invalidMinutes=!1,r.invalidSeconds=!1}function _(t){if(u.$modelValue){var e=o.getHours(),n=o.getMinutes(),i=o.getSeconds();r.showMeridian&&(e=0===e||12===e?12:e%12),r.hours="h"===t?e:w(e,!p),"m"!==t&&(r.minutes=w(n)),r.meridian=o.getHours()<12?c[0]:c[1],"s"!==t&&(r.seconds=w(i)),r.meridian=o.getHours()<12?c[0]:c[1]}else r.hours=null,r.minutes=null,r.seconds=null,r.meridian=c[0]}function k(t){o=S(o,t),x()}function C(t,e){return S(t,60*e)}function S(t,e){var n=new Date(t.getTime()+1e3*e),i=new Date(t);return i.setHours(n.getHours(),n.getMinutes(),n.getSeconds()),i}function T(){return(null===r.hours||""===r.hours)&&(null===r.minutes||""===r.minutes)&&(!r.showSeconds||r.showSeconds&&(null===r.seconds||""===r.seconds))}a.secondStep&&l.push(r.$parent.$watch(e(a.secondStep),function(t){v=+t})),r.showSeconds=s.showSeconds,a.showSeconds&&l.push(r.$parent.$watch(e(a.showSeconds),function(t){r.showSeconds=!!t})),r.showMeridian=s.showMeridian,a.showMeridian&&l.push(r.$parent.$watch(e(a.showMeridian),function(t){if(r.showMeridian=!!t,u.$error.time){var e=y(),n=b();angular.isDefined(e)&&angular.isDefined(n)&&(o.setHours(e),x())}else _()})),this.setupMousewheelEvents=function(t,e,n){var i=function(t){t.originalEvent&&(t=t.originalEvent);var e=t.wheelDelta?t.wheelDelta:-t.deltaY;return t.detail||0<e};t.bind("mousewheel wheel",function(t){m||r.$apply(i(t)?r.incrementHours():r.decrementHours()),t.preventDefault()}),e.bind("mousewheel wheel",function(t){m||r.$apply(i(t)?r.incrementMinutes():r.decrementMinutes()),t.preventDefault()}),n.bind("mousewheel wheel",function(t){m||r.$apply(i(t)?r.incrementSeconds():r.decrementSeconds()),t.preventDefault()})},this.setupArrowkeyEvents=function(t,e,n){t.bind("keydown",function(t){m||(38===t.which?(t.preventDefault(),r.incrementHours(),r.$apply()):40===t.which&&(t.preventDefault(),r.decrementHours(),r.$apply()))}),e.bind("keydown",function(t){m||(38===t.which?(t.preventDefault(),r.incrementMinutes(),r.$apply()):40===t.which&&(t.preventDefault(),r.decrementMinutes(),r.$apply()))}),n.bind("keydown",function(t){m||(38===t.which?(t.preventDefault(),r.incrementSeconds(),r.$apply()):40===t.which&&(t.preventDefault(),r.decrementSeconds(),r.$apply()))})},this.setupInputEvents=function(t,e,n){if(r.readonlyInput)return r.updateHours=angular.noop,r.updateMinutes=angular.noop,void(r.updateSeconds=angular.noop);var i=function(t,e,n){u.$setViewValue(null),u.$setValidity("time",!1),angular.isDefined(t)&&(r.invalidHours=t),angular.isDefined(e)&&(r.invalidMinutes=e),angular.isDefined(n)&&(r.invalidSeconds=n)};r.updateHours=function(){var t=y(),e=b();u.$setDirty(),angular.isDefined(t)&&angular.isDefined(e)?(o.setHours(t),o.setMinutes(e),o<d||f<o?i(!0):x("h")):i(!0)},t.bind("blur",function(t){u.$setTouched(),T()?$():null===r.hours||""===r.hours?i(!0):!r.invalidHours&&r.hours<10&&r.$apply(function(){r.hours=w(r.hours,!p)})}),r.updateMinutes=function(){var t=b(),e=y();u.$setDirty(),angular.isDefined(t)&&angular.isDefined(e)?(o.setHours(e),o.setMinutes(t),o<d||f<o?i(void 0,!0):x("m")):i(void 0,!0)},e.bind("blur",function(t){u.$setTouched(),T()?$():null===r.minutes?i(void 0,!0):!r.invalidMinutes&&r.minutes<10&&r.$apply(function(){r.minutes=w(r.minutes)})}),r.updateSeconds=function(){var t,e=0<=(t=+r.seconds)&&t<60?t:void 0;u.$setDirty(),angular.isDefined(e)?(o.setSeconds(e),x("s")):i(void 0,void 0,!0)},n.bind("blur",function(t){T()?$():!r.invalidSeconds&&r.seconds<10&&r.$apply(function(){r.seconds=w(r.seconds)})})},this.render=function(){var t=u.$viewValue;isNaN(t)?(u.$setValidity("time",!1),n.error('Timepicker directive: "ng-model" value must be a Date object, a number of milliseconds since 01.01.1970 or a string representing an RFC2822 or ISO 8601 date.')):(t&&(o=t),o<d||f<o?(u.$setValidity("time",!1),r.invalidHours=!0,r.invalidMinutes=!0):$(),_())},r.showSpinners=angular.isDefined(a.showSpinners)?r.$parent.$eval(a.showSpinners):s.showSpinners,r.incrementHours=function(){r.noIncrementHours()||k(60*h*60)},r.decrementHours=function(){r.noDecrementHours()||k(60*-h*60)},r.incrementMinutes=function(){r.noIncrementMinutes()||k(60*g)},r.decrementMinutes=function(){r.noDecrementMinutes()||k(60*-g)},r.incrementSeconds=function(){r.noIncrementSeconds()||k(v)},r.decrementSeconds=function(){r.noDecrementSeconds()||k(-v)},r.toggleMeridian=function(){var t=b(),e=y();r.noToggleMeridian()||(angular.isDefined(t)&&angular.isDefined(e)?k(720*(o.getHours()<12?60:-60)):r.meridian=r.meridian===c[0]?c[1]:c[0])},r.blur=function(){u.$setTouched()},r.$on("$destroy",function(){for(;l.length;)l.shift()()})}]).directive("uibTimepicker",["uibTimepickerConfig",function(n){return{require:["uibTimepicker","?^ngModel"],controller:"UibTimepickerController",controllerAs:"timepicker",replace:!0,scope:{},templateUrl:function(t,e){return e.templateUrl||n.templateUrl},link:function(t,e,n,i){var o=i[0],r=i[1];r&&o.init(r,e.find("input"))}}}]),angular.module("ui.bootstrap.typeahead",["ui.bootstrap.debounce","ui.bootstrap.position"]).factory("uibTypeaheadParser",["$parse",function(n){var i=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?\s+for\s+(?:([\$\w][\$\w\d]*))\s+in\s+([\s\S]+?)$/;return{parse:function(t){var e=t.match(i);if(!e)throw new Error('Expected typeahead specification in form of "_modelValue_ (as _label_)? for _item_ in _collection_" but got "'+t+'".');return{itemName:e[3],source:n(e[4]),viewMapper:n(e[2]||e[1]),modelMapper:n(e[1])}}}}]).controller("UibTypeaheadController",["$scope","$element","$attrs","$compile","$parse","$q","$timeout","$document","$window","$rootScope","$$debounce","$uibPosition","uibTypeaheadParser",function(u,c,s,t,n,e,l,i,o,r,p,a,h){var d,f,g=[9,13,27,38,40],m=u.$eval(s.typeaheadMinLength);m||0===m||(m=1),u.$watch(s.typeaheadMinLength,function(t){m=t||0===t?t:1});var v=u.$eval(s.typeaheadWaitMs)||0,y=!1!==u.$eval(s.typeaheadEditable);u.$watch(s.typeaheadEditable,function(t){y=!1!==t});var b,w,x=n(s.typeaheadLoading).assign||angular.noop,$=s.typeaheadShouldSelect?n(s.typeaheadShouldSelect):function(t,e){var n=e.$event;return 13===n.which||9===n.which},_=n(s.typeaheadOnSelect),k=!!angular.isDefined(s.typeaheadSelectOnBlur)&&u.$eval(s.typeaheadSelectOnBlur),C=n(s.typeaheadNoResults).assign||angular.noop,S=s.typeaheadInputFormatter?n(s.typeaheadInputFormatter):void 0,T=!!s.typeaheadAppendToBody&&u.$eval(s.typeaheadAppendToBody),A=s.typeaheadAppendTo?u.$eval(s.typeaheadAppendTo):null,D=!1!==u.$eval(s.typeaheadFocusFirst),M=!!s.typeaheadSelectOnExact&&u.$eval(s.typeaheadSelectOnExact),E=n(s.typeaheadIsOpen).assign||angular.noop,P=u.$eval(s.typeaheadShowHint)||!1,O=n(s.ngModel),I=n(s.ngModel+"($$$p)"),R=h.parse(s.uibTypeahead),L=u.$new(),F=u.$on("$destroy",function(){L.$destroy()});L.$on("$destroy",F);var N,j,B="typeahead-"+L.$id+"-"+Math.floor(1e4*Math.random());c.attr({"aria-autocomplete":"list","aria-expanded":!1,"aria-owns":B}),P&&((N=angular.element("<div></div>")).css("position","relative"),c.after(N),(j=c.clone()).attr("placeholder",""),j.attr("tabindex","-1"),j.val(""),j.css({position:"absolute",top:"0px",left:"0px","border-color":"transparent","box-shadow":"none",opacity:1,background:"none 0% 0% / auto repeat scroll padding-box border-box rgb(255, 255, 255)",color:"#999"}),c.css({position:"relative","vertical-align":"top","background-color":"transparent"}),N.append(j),j.after(c));var U=angular.element("<div uib-typeahead-popup></div>");U.attr({id:B,matches:"matches",active:"activeIdx",select:"select(activeIdx, evt)","move-in-progress":"moveInProgress",query:"query",position:"position","assign-is-open":"assignIsOpen(isOpen)",debounce:"debounceUpdate"}),angular.isDefined(s.typeaheadTemplateUrl)&&U.attr("template-url",s.typeaheadTemplateUrl),angular.isDefined(s.typeaheadPopupTemplateUrl)&&U.attr("popup-template-url",s.typeaheadPopupTemplateUrl);var z=function(){L.matches=[],L.activeIdx=-1,c.attr("aria-expanded",!1),P&&j.val("")},H=function(t){return B+"-option-"+t};L.$watch("activeIdx",function(t){t<0?c.removeAttr("aria-activedescendant"):c.attr("aria-activedescendant",H(t))});var V=function(a,s){var l={$viewValue:a};x(u,!0),C(u,!1),e.when(R.source(u,l)).then(function(t){var e,n,i=a===d.$viewValue;if(i&&b)if(t&&0<t.length){L.activeIdx=D?0:-1,C(u,!1);for(var o=L.matches.length=0;o<t.length;o++)l[R.itemName]=t[o],L.matches.push({id:H(o),label:R.viewMapper(L,l),model:t[o]});if(L.query=a,Y(),c.attr("aria-expanded",!0),M&&1===L.matches.length&&(e=a,n=0,L.matches.length>n&&e&&e.toUpperCase()===L.matches[n].label.toUpperCase())&&(angular.isNumber(L.debounceUpdate)||angular.isObject(L.debounceUpdate)?p(function(){L.select(0,s)},angular.isNumber(L.debounceUpdate)?L.debounceUpdate:L.debounceUpdate.default):L.select(0,s)),P){var r=L.matches[0].label;angular.isString(a)&&0<a.length&&r.slice(0,a.length).toUpperCase()===a.toUpperCase()?j.val(a+r.slice(a.length)):j.val("")}}else z(),C(u,!0);i&&x(u,!1)},function(){z(),x(u,!1),C(u,!0)})};T&&(angular.element(o).on("resize",G),i.find("body").on("scroll",G));var q,W=p(function(){L.matches.length&&Y(),L.moveInProgress=!1},200);function G(){L.moveInProgress||(L.moveInProgress=!0,L.$digest()),W()}function Y(){L.position=T?a.offset(c):a.position(c),L.position.top+=c.prop("offsetHeight")}L.moveInProgress=!1,L.query=void 0;var K=function(){q&&l.cancel(q)};z(),L.assignIsOpen=function(t){E(u,t)},L.select=function(t,e){var n,i,o,r,a={};w=!0,a[R.itemName]=i=L.matches[t].model,n=R.modelMapper(u,a),o=u,r=n,angular.isFunction(O(u))&&f&&f.$options&&f.$options.getterSetter?I(o,{$$$p:r}):O.assign(o,r),d.$setValidity("editable",!0),d.$setValidity("parse",!0),_(u,{$item:i,$model:n,$label:R.viewMapper(u,a),$event:e}),z(),!1!==L.$eval(s.typeaheadFocusOnSelect)&&l(function(){c[0].focus()},0,!1)},c.on("keydown",function(t){if(0!==L.matches.length&&-1!==g.indexOf(t.which)){var e,n=$(u,{$event:t});if(-1===L.activeIdx&&n||9===t.which&&t.shiftKey)return z(),void L.$digest();switch(t.preventDefault(),t.which){case 27:t.stopPropagation(),z(),u.$digest();break;case 38:L.activeIdx=(0<L.activeIdx?L.activeIdx:L.matches.length)-1,L.$digest(),(e=U.find("li")[L.activeIdx]).parentNode.scrollTop=e.offsetTop;break;case 40:L.activeIdx=(L.activeIdx+1)%L.matches.length,L.$digest(),(e=U.find("li")[L.activeIdx]).parentNode.scrollTop=e.offsetTop;break;default:n&&L.$apply(function(){angular.isNumber(L.debounceUpdate)||angular.isObject(L.debounceUpdate)?p(function(){L.select(L.activeIdx,t)},angular.isNumber(L.debounceUpdate)?L.debounceUpdate:L.debounceUpdate.default):L.select(L.activeIdx,t)})}}}),c.bind("focus",function(t){b=!0,0!==m||d.$viewValue||l(function(){V(d.$viewValue,t)},0)}),c.bind("blur",function(t){k&&L.matches.length&&-1!==L.activeIdx&&!w&&(w=!0,L.$apply(function(){angular.isObject(L.debounceUpdate)&&angular.isNumber(L.debounceUpdate.blur)?p(function(){L.select(L.activeIdx,t)},L.debounceUpdate.blur):L.select(L.activeIdx,t)})),!y&&d.$error.editable&&(d.$setViewValue(),d.$setValidity("editable",!0),d.$setValidity("parse",!0),c.val("")),w=b=!1});var Z=function(t){c[0]!==t.target&&3!==t.which&&0!==L.matches.length&&(z(),r.$$phase||u.$digest())};i.on("click",Z),u.$on("$destroy",function(){i.off("click",Z),(T||A)&&X.remove(),T&&(angular.element(o).off("resize",G),i.find("body").off("scroll",G)),U.remove(),P&&N.remove()});var X=t(U)(L);T?i.find("body").append(X):A?angular.element(A).eq(0).append(X):c.after(X),this.init=function(t,e){d=t,f=e,L.debounceUpdate=d.$options&&n(d.$options.debounce)(u),d.$parsers.unshift(function(t){var e;return b=!0,0===m||t&&t.length>=m?0<v?(K(),e=t,q=l(function(){V(e)},v)):V(t):(x(u,!1),K(),z()),y?t:t?void d.$setValidity("editable",!1):(d.$setValidity("editable",!0),null)}),d.$formatters.push(function(t){var e,n={};return y||d.$setValidity("editable",!0),S?(n.$model=t,S(u,n)):(n[R.itemName]=t,e=R.viewMapper(u,n),n[R.itemName]=void 0,e!==R.viewMapper(u,n)?e:t)})}}]).directive("uibTypeahead",function(){return{controller:"UibTypeaheadController",require:["ngModel","^?ngModelOptions","uibTypeahead"],link:function(t,e,n,i){i[2].init(i[0],i[1])}}}).directive("uibTypeaheadPopup",["$$debounce",function(o){return{scope:{matches:"=",query:"=",active:"=",position:"&",moveInProgress:"=",select:"&",assignIsOpen:"&",debounce:"&"},replace:!0,templateUrl:function(t,e){return e.popupTemplateUrl||"uib/template/typeahead/typeahead-popup.html"},link:function(i,t,e){i.templateUrl=e.templateUrl,i.isOpen=function(){var t=0<i.matches.length;return i.assignIsOpen({isOpen:t}),t},i.isActive=function(t){return i.active===t},i.selectActive=function(t){i.active=t},i.selectMatch=function(t,e){var n=i.debounce();angular.isNumber(n)||angular.isObject(n)?o(function(){i.select({activeIdx:t,evt:e})},angular.isNumber(n)?n:n.default):i.select({activeIdx:t,evt:e})}}}}]).directive("uibTypeaheadMatch",["$templateRequest","$compile","$parse",function(o,r,a){return{scope:{index:"=",match:"=",query:"="},link:function(n,i,t){var e=a(t.templateUrl)(n.$parent)||"uib/template/typeahead/typeahead-match.html";o(e).then(function(t){var e=angular.element(t.trim());i.replaceWith(e),r(e)(n)})}}}]).filter("uibTypeaheadHighlight",["$sce","$injector","$log",function(n,t,i){var o;return o=t.has("$sanitize"),function(t,e){return!o&&/<.*>/g.test(t)&&i.warn("Unsafe use of typeahead please use ngSanitize"),t=e?(""+t).replace(new RegExp(e.replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1"),"gi"),"<strong>$&</strong>"):t,o||(t=n.trustAsHtml(t)),t}}]),angular.module("uib/template/accordion/accordion-group.html",[]).run(["$templateCache",function(t){t.put("uib/template/accordion/accordion-group.html",'<div class="panel" ng-class="panelClass || \'panel-default\'">\n  <div role="tab" id="{{::headingId}}" aria-selected="{{isOpen}}" class="panel-heading" ng-keypress="toggleOpen($event)">\n    <h4 class="panel-title">\n      <a role="button" data-toggle="collapse" href aria-expanded="{{isOpen}}" aria-controls="{{::panelId}}" tabindex="0" class="accordion-toggle" ng-click="toggleOpen()" uib-accordion-transclude="heading"><span uib-accordion-header ng-class="{\'text-muted\': isDisabled}">{{heading}}</span></a>\n    </h4>\n  </div>\n  <div id="{{::panelId}}" aria-labelledby="{{::headingId}}" aria-hidden="{{!isOpen}}" role="tabpanel" class="panel-collapse collapse" uib-collapse="!isOpen">\n    <div class="panel-body" ng-transclude></div>\n  </div>\n</div>\n')}]),angular.module("uib/template/accordion/accordion.html",[]).run(["$templateCache",function(t){t.put("uib/template/accordion/accordion.html",'<div role="tablist" class="panel-group" ng-transclude></div>')}]),angular.module("uib/template/alert/alert.html",[]).run(["$templateCache",function(t){t.put("uib/template/alert/alert.html",'<div class="alert" ng-class="[\'alert-\' + (type || \'warning\'), closeable ? \'alert-dismissible\' : null]" role="alert">\n    <button ng-show="closeable" type="button" class="close" ng-click="close({$event: $event})">\n        <span aria-hidden="true">&times;</span>\n        <span class="sr-only">Close</span>\n    </button>\n    <div ng-transclude></div>\n</div>\n')}]),angular.module("uib/template/carousel/carousel.html",[]).run(["$templateCache",function(t){t.put("uib/template/carousel/carousel.html",'<div ng-mouseenter="pause()" ng-mouseleave="play()" class="carousel" ng-swipe-right="prev()" ng-swipe-left="next()">\n  <div class="carousel-inner" ng-transclude></div>\n  <a role="button" href class="left carousel-control" ng-click="prev()" ng-class="{ disabled: isPrevDisabled() }" ng-show="slides.length > 1">\n    <span aria-hidden="true" class="glyphicon glyphicon-chevron-left"></span>\n    <span class="sr-only">previous</span>\n  </a>\n  <a role="button" href class="right carousel-control" ng-click="next()" ng-class="{ disabled: isNextDisabled() }" ng-show="slides.length > 1">\n    <span aria-hidden="true" class="glyphicon glyphicon-chevron-right"></span>\n    <span class="sr-only">next</span>\n  </a>\n  <ol class="carousel-indicators" ng-show="slides.length > 1">\n    <li ng-repeat="slide in slides | orderBy:indexOfSlide track by $index" ng-class="{ active: isActive(slide) }" ng-click="select(slide)">\n      <span class="sr-only">slide {{ $index + 1 }} of {{ slides.length }}<span ng-if="isActive(slide)">, currently active</span></span>\n    </li>\n  </ol>\n</div>\n')}]),angular.module("uib/template/carousel/slide.html",[]).run(["$templateCache",function(t){t.put("uib/template/carousel/slide.html",'<div ng-class="{\n    \'active\': active\n  }" class="item text-center" ng-transclude></div>\n')}]),angular.module("uib/template/datepicker/datepicker.html",[]).run(["$templateCache",function(t){t.put("uib/template/datepicker/datepicker.html",'<div class="uib-datepicker" ng-switch="datepickerMode" role="application" ng-keydown="keydown($event)">\n  <uib-daypicker ng-switch-when="day" tabindex="0"></uib-daypicker>\n  <uib-monthpicker ng-switch-when="month" tabindex="0"></uib-monthpicker>\n  <uib-yearpicker ng-switch-when="year" tabindex="0"></uib-yearpicker>\n</div>\n')}]),angular.module("uib/template/datepicker/day.html",[]).run(["$templateCache",function(t){t.put("uib/template/datepicker/day.html",'<table class="uib-daypicker" role="grid" aria-labelledby="{{::uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left uib-left" ng-click="move(-1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-left"></i></button></th>\n      <th colspan="{{::5 + showWeeks}}"><button id="{{::uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm uib-title" ng-click="toggleMode()" ng-disabled="datepickerMode === maxMode" tabindex="-1"><strong>{{title}}</strong></button></th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right uib-right" ng-click="move(1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-right"></i></button></th>\n    </tr>\n    <tr>\n      <th ng-if="showWeeks" class="text-center"></th>\n      <th ng-repeat="label in ::labels track by $index" class="text-center"><small aria-label="{{::label.full}}">{{::label.abbr}}</small></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr class="uib-weeks" ng-repeat="row in rows track by $index">\n      <td ng-if="showWeeks" class="text-center h6"><em>{{ weekNumbers[$index] }}</em></td>\n      <td ng-repeat="dt in row" class="uib-day text-center" role="gridcell"\n        id="{{::dt.uid}}"\n        ng-class="::dt.customClass">\n        <button type="button" class="btn btn-default btn-sm"\n          uib-is-class="\n            \'btn-info\' for selectedDt,\n            \'active\' for activeDt\n            on dt"\n          ng-click="select(dt.date)"\n          ng-disabled="::dt.disabled"\n          tabindex="-1"><span ng-class="::{\'text-muted\': dt.secondary, \'text-info\': dt.current}">{{::dt.label}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("uib/template/datepicker/month.html",[]).run(["$templateCache",function(t){t.put("uib/template/datepicker/month.html",'<table class="uib-monthpicker" role="grid" aria-labelledby="{{::uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left uib-left" ng-click="move(-1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-left"></i></button></th>\n      <th><button id="{{::uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm uib-title" ng-click="toggleMode()" ng-disabled="datepickerMode === maxMode" tabindex="-1"><strong>{{title}}</strong></button></th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right uib-right" ng-click="move(1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-right"></i></button></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr class="uib-months" ng-repeat="row in rows track by $index">\n      <td ng-repeat="dt in row" class="uib-month text-center" role="gridcell"\n        id="{{::dt.uid}}"\n        ng-class="::dt.customClass">\n        <button type="button" class="btn btn-default"\n          uib-is-class="\n            \'btn-info\' for selectedDt,\n            \'active\' for activeDt\n            on dt"\n          ng-click="select(dt.date)"\n          ng-disabled="::dt.disabled"\n          tabindex="-1"><span ng-class="::{\'text-info\': dt.current}">{{::dt.label}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("uib/template/datepicker/year.html",[]).run(["$templateCache",function(t){t.put("uib/template/datepicker/year.html",'<table class="uib-yearpicker" role="grid" aria-labelledby="{{::uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left uib-left" ng-click="move(-1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-left"></i></button></th>\n      <th colspan="{{::columns - 2}}"><button id="{{::uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm uib-title" ng-click="toggleMode()" ng-disabled="datepickerMode === maxMode" tabindex="-1"><strong>{{title}}</strong></button></th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right uib-right" ng-click="move(1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-right"></i></button></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr class="uib-years" ng-repeat="row in rows track by $index">\n      <td ng-repeat="dt in row" class="uib-year text-center" role="gridcell"\n        id="{{::dt.uid}}"\n        ng-class="::dt.customClass">\n        <button type="button" class="btn btn-default"\n          uib-is-class="\n            \'btn-info\' for selectedDt,\n            \'active\' for activeDt\n            on dt"\n          ng-click="select(dt.date)"\n          ng-disabled="::dt.disabled"\n          tabindex="-1"><span ng-class="::{\'text-info\': dt.current}">{{::dt.label}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("uib/template/datepickerPopup/popup.html",[]).run(["$templateCache",function(t){t.put("uib/template/datepickerPopup/popup.html",'<div>\n  <ul class="uib-datepicker-popup dropdown-menu uib-position-measure" dropdown-nested ng-if="isOpen" ng-keydown="keydown($event)" ng-click="$event.stopPropagation()">\n    <li ng-transclude></li>\n    <li ng-if="showButtonBar" class="uib-button-bar">\n      <span class="btn-group pull-left">\n        <button type="button" class="btn btn-sm btn-info uib-datepicker-current" ng-click="select(\'today\', $event)" ng-disabled="isDisabled(\'today\')">{{ getText(\'current\') }}</button>\n        <button type="button" class="btn btn-sm btn-danger uib-clear" ng-click="select(null, $event)">{{ getText(\'clear\') }}</button>\n      </span>\n      <button type="button" class="btn btn-sm btn-success pull-right uib-close" ng-click="close($event)">{{ getText(\'close\') }}</button>\n    </li>\n  </ul>\n</div>\n')}]),angular.module("uib/template/modal/backdrop.html",[]).run(["$templateCache",function(t){t.put("uib/template/modal/backdrop.html",'<div class="modal-backdrop"\n     uib-modal-animation-class="fade"\n     modal-in-class="in"\n     ng-style="{\'z-index\': 1040 + (index && 1 || 0) + index*10}"\n></div>\n')}]),angular.module("uib/template/modal/window.html",[]).run(["$templateCache",function(t){t.put("uib/template/modal/window.html",'<div modal-render="{{$isRendered}}" tabindex="-1" role="dialog" class="modal"\n    uib-modal-animation-class="fade"\n    modal-in-class="in"\n    ng-style="{\'z-index\': 1050 + index*10, display: \'block\'}">\n    <div class="modal-dialog {{size ? \'modal-\' + size : \'\'}}"><div class="modal-content" uib-modal-transclude></div></div>\n</div>\n')}]),angular.module("uib/template/pager/pager.html",[]).run(["$templateCache",function(t){t.put("uib/template/pager/pager.html",'<ul class="pager">\n  <li ng-class="{disabled: noPrevious()||ngDisabled, previous: align}"><a href ng-click="selectPage(page - 1, $event)">{{::getText(\'previous\')}}</a></li>\n  <li ng-class="{disabled: noNext()||ngDisabled, next: align}"><a href ng-click="selectPage(page + 1, $event)">{{::getText(\'next\')}}</a></li>\n</ul>\n')}]),angular.module("uib/template/pagination/pagination.html",[]).run(["$templateCache",function(t){t.put("uib/template/pagination/pagination.html",'<ul class="pagination">\n  <li ng-if="::boundaryLinks" ng-class="{disabled: noPrevious()||ngDisabled}" class="pagination-first"><a href ng-click="selectPage(1, $event)">{{::getText(\'first\')}}</a></li>\n  <li ng-if="::directionLinks" ng-class="{disabled: noPrevious()||ngDisabled}" class="pagination-prev"><a href ng-click="selectPage(page - 1, $event)">{{::getText(\'previous\')}}</a></li>\n  <li ng-repeat="page in pages track by $index" ng-class="{active: page.active,disabled: ngDisabled&&!page.active}" class="pagination-page"><a href ng-click="selectPage(page.number, $event)">{{page.text}}</a></li>\n  <li ng-if="::directionLinks" ng-class="{disabled: noNext()||ngDisabled}" class="pagination-next"><a href ng-click="selectPage(page + 1, $event)">{{::getText(\'next\')}}</a></li>\n  <li ng-if="::boundaryLinks" ng-class="{disabled: noNext()||ngDisabled}" class="pagination-last"><a href ng-click="selectPage(totalPages, $event)">{{::getText(\'last\')}}</a></li>\n</ul>\n')}]),angular.module("uib/template/tooltip/tooltip-html-popup.html",[]).run(["$templateCache",function(t){t.put("uib/template/tooltip/tooltip-html-popup.html",'<div class="tooltip"\n  tooltip-animation-class="fade"\n  uib-tooltip-classes\n  ng-class="{ in: isOpen() }">\n  <div class="tooltip-arrow"></div>\n  <div class="tooltip-inner" ng-bind-html="contentExp()"></div>\n</div>\n')}]),angular.module("uib/template/tooltip/tooltip-popup.html",[]).run(["$templateCache",function(t){t.put("uib/template/tooltip/tooltip-popup.html",'<div class="tooltip"\n  tooltip-animation-class="fade"\n  uib-tooltip-classes\n  ng-class="{ in: isOpen() }">\n  <div class="tooltip-arrow"></div>\n  <div class="tooltip-inner" ng-bind="content"></div>\n</div>\n')}]),angular.module("uib/template/tooltip/tooltip-template-popup.html",[]).run(["$templateCache",function(t){t.put("uib/template/tooltip/tooltip-template-popup.html",'<div class="tooltip"\n  tooltip-animation-class="fade"\n  uib-tooltip-classes\n  ng-class="{ in: isOpen() }">\n  <div class="tooltip-arrow"></div>\n  <div class="tooltip-inner"\n    uib-tooltip-template-transclude="contentExp()"\n    tooltip-template-transclude-scope="originScope()"></div>\n</div>\n')}]),angular.module("uib/template/popover/popover-html.html",[]).run(["$templateCache",function(t){t.put("uib/template/popover/popover-html.html",'<div class="popover"\n  tooltip-animation-class="fade"\n  uib-tooltip-classes\n  ng-class="{ in: isOpen() }">\n  <div class="arrow"></div>\n\n  <div class="popover-inner">\n      <h3 class="popover-title" ng-bind="uibTitle" ng-if="uibTitle"></h3>\n      <div class="popover-content" ng-bind-html="contentExp()"></div>\n  </div>\n</div>\n')}]),angular.module("uib/template/popover/popover-template.html",[]).run(["$templateCache",function(t){t.put("uib/template/popover/popover-template.html",'<div class="popover"\n  tooltip-animation-class="fade"\n  uib-tooltip-classes\n  ng-class="{ in: isOpen() }">\n  <div class="arrow"></div>\n\n  <div class="popover-inner">\n      <h3 class="popover-title" ng-bind="uibTitle" ng-if="uibTitle"></h3>\n      <div class="popover-content"\n        uib-tooltip-template-transclude="contentExp()"\n        tooltip-template-transclude-scope="originScope()"></div>\n  </div>\n</div>\n')}]),angular.module("uib/template/popover/popover.html",[]).run(["$templateCache",function(t){t.put("uib/template/popover/popover.html",'<div class="popover"\n  tooltip-animation-class="fade"\n  uib-tooltip-classes\n  ng-class="{ in: isOpen() }">\n  <div class="arrow"></div>\n\n  <div class="popover-inner">\n      <h3 class="popover-title" ng-bind="uibTitle" ng-if="uibTitle"></h3>\n      <div class="popover-content" ng-bind="content"></div>\n  </div>\n</div>\n')}]),angular.module("uib/template/progressbar/bar.html",[]).run(["$templateCache",function(t){t.put("uib/template/progressbar/bar.html",'<div class="progress-bar" ng-class="type && \'progress-bar-\' + type" role="progressbar" aria-valuenow="{{value}}" aria-valuemin="0" aria-valuemax="{{max}}" ng-style="{width: (percent < 100 ? percent : 100) + \'%\'}" aria-valuetext="{{percent | number:0}}%" aria-labelledby="{{::title}}" ng-transclude></div>\n')}]),angular.module("uib/template/progressbar/progress.html",[]).run(["$templateCache",function(t){t.put("uib/template/progressbar/progress.html",'<div class="progress" ng-transclude aria-labelledby="{{::title}}"></div>')}]),angular.module("uib/template/progressbar/progressbar.html",[]).run(["$templateCache",function(t){t.put("uib/template/progressbar/progressbar.html",'<div class="progress">\n  <div class="progress-bar" ng-class="type && \'progress-bar-\' + type" role="progressbar" aria-valuenow="{{value}}" aria-valuemin="0" aria-valuemax="{{max}}" ng-style="{width: (percent < 100 ? percent : 100) + \'%\'}" aria-valuetext="{{percent | number:0}}%" aria-labelledby="{{::title}}" ng-transclude></div>\n</div>\n')}]),angular.module("uib/template/rating/rating.html",[]).run(["$templateCache",function(t){t.put("uib/template/rating/rating.html",'<span ng-mouseleave="reset()" ng-keydown="onKeydown($event)" tabindex="0" role="slider" aria-valuemin="0" aria-valuemax="{{range.length}}" aria-valuenow="{{value}}" aria-valuetext="{{title}}">\n    <span ng-repeat-start="r in range track by $index" class="sr-only">({{ $index < value ? \'*\' : \' \' }})</span>\n    <i ng-repeat-end ng-mouseenter="enter($index + 1)" ng-click="rate($index + 1)" class="glyphicon" ng-class="$index < value && (r.stateOn || \'glyphicon-star\') || (r.stateOff || \'glyphicon-star-empty\')" ng-attr-title="{{r.title}}"></i>\n</span>\n')}]),angular.module("uib/template/tabs/tab.html",[]).run(["$templateCache",function(t){t.put("uib/template/tabs/tab.html",'<li ng-class="[{active: active, disabled: disabled}, classes]" class="uib-tab nav-item">\n  <a href ng-click="select($event)" class="nav-link" uib-tab-heading-transclude>{{heading}}</a>\n</li>\n')}]),angular.module("uib/template/tabs/tabset.html",[]).run(["$templateCache",function(t){t.put("uib/template/tabs/tabset.html",'<div>\n  <ul class="nav nav-{{tabset.type || \'tabs\'}}" ng-class="{\'nav-stacked\': vertical, \'nav-justified\': justified}" ng-transclude></ul>\n  <div class="tab-content">\n    <div class="tab-pane"\n         ng-repeat="tab in tabset.tabs"\n         ng-class="{active: tabset.active === tab.index}"\n         uib-tab-content-transclude="tab">\n    </div>\n  </div>\n</div>\n')}]),angular.module("uib/template/timepicker/timepicker.html",[]).run(["$templateCache",function(t){t.put("uib/template/timepicker/timepicker.html",'<table class="uib-timepicker">\n  <tbody>\n    <tr class="text-center" ng-show="::showSpinners">\n      <td class="uib-increment hours"><a ng-click="incrementHours()" ng-class="{disabled: noIncrementHours()}" class="btn btn-link" ng-disabled="noIncrementHours()" tabindex="{{::tabindex}}"><span class="glyphicon glyphicon-chevron-up"></span></a></td>\n      <td>&nbsp;</td>\n      <td class="uib-increment minutes"><a ng-click="incrementMinutes()" ng-class="{disabled: noIncrementMinutes()}" class="btn btn-link" ng-disabled="noIncrementMinutes()" tabindex="{{::tabindex}}"><span class="glyphicon glyphicon-chevron-up"></span></a></td>\n      <td ng-show="showSeconds">&nbsp;</td>\n      <td ng-show="showSeconds" class="uib-increment seconds"><a ng-click="incrementSeconds()" ng-class="{disabled: noIncrementSeconds()}" class="btn btn-link" ng-disabled="noIncrementSeconds()" tabindex="{{::tabindex}}"><span class="glyphicon glyphicon-chevron-up"></span></a></td>\n      <td ng-show="showMeridian"></td>\n    </tr>\n    <tr>\n      <td class="form-group uib-time hours" ng-class="{\'has-error\': invalidHours}">\n        <input type="text" placeholder="HH" ng-model="hours" ng-change="updateHours()" class="form-control text-center" ng-readonly="::readonlyInput" maxlength="2" tabindex="{{::tabindex}}" ng-disabled="noIncrementHours()" ng-blur="blur()">\n      </td>\n      <td class="uib-separator">:</td>\n      <td class="form-group uib-time minutes" ng-class="{\'has-error\': invalidMinutes}">\n        <input type="text" placeholder="MM" ng-model="minutes" ng-change="updateMinutes()" class="form-control text-center" ng-readonly="::readonlyInput" maxlength="2" tabindex="{{::tabindex}}" ng-disabled="noIncrementMinutes()" ng-blur="blur()">\n      </td>\n      <td ng-show="showSeconds" class="uib-separator">:</td>\n      <td class="form-group uib-time seconds" ng-class="{\'has-error\': invalidSeconds}" ng-show="showSeconds">\n        <input type="text" placeholder="SS" ng-model="seconds" ng-change="updateSeconds()" class="form-control text-center" ng-readonly="readonlyInput" maxlength="2" tabindex="{{::tabindex}}" ng-disabled="noIncrementSeconds()" ng-blur="blur()">\n      </td>\n      <td ng-show="showMeridian" class="uib-time am-pm"><button type="button" ng-class="{disabled: noToggleMeridian()}" class="btn btn-default text-center" ng-click="toggleMeridian()" ng-disabled="noToggleMeridian()" tabindex="{{::tabindex}}">{{meridian}}</button></td>\n    </tr>\n    <tr class="text-center" ng-show="::showSpinners">\n      <td class="uib-decrement hours"><a ng-click="decrementHours()" ng-class="{disabled: noDecrementHours()}" class="btn btn-link" ng-disabled="noDecrementHours()" tabindex="{{::tabindex}}"><span class="glyphicon glyphicon-chevron-down"></span></a></td>\n      <td>&nbsp;</td>\n      <td class="uib-decrement minutes"><a ng-click="decrementMinutes()" ng-class="{disabled: noDecrementMinutes()}" class="btn btn-link" ng-disabled="noDecrementMinutes()" tabindex="{{::tabindex}}"><span class="glyphicon glyphicon-chevron-down"></span></a></td>\n      <td ng-show="showSeconds">&nbsp;</td>\n      <td ng-show="showSeconds" class="uib-decrement seconds"><a ng-click="decrementSeconds()" ng-class="{disabled: noDecrementSeconds()}" class="btn btn-link" ng-disabled="noDecrementSeconds()" tabindex="{{::tabindex}}"><span class="glyphicon glyphicon-chevron-down"></span></a></td>\n      <td ng-show="showMeridian"></td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("uib/template/typeahead/typeahead-match.html",[]).run(["$templateCache",function(t){t.put("uib/template/typeahead/typeahead-match.html",'<a href\n   tabindex="-1"\n   ng-bind-html="match.label | uibTypeaheadHighlight:query"\n   ng-attr-title="{{match.label}}"></a>\n')}]),angular.module("uib/template/typeahead/typeahead-popup.html",[]).run(["$templateCache",function(t){t.put("uib/template/typeahead/typeahead-popup.html",'<ul class="dropdown-menu" ng-show="isOpen() && !moveInProgress" ng-style="{top: position().top+\'px\', left: position().left+\'px\'}" role="listbox" aria-hidden="{{!isOpen()}}">\n    <li ng-repeat="match in matches track by $index" ng-class="{active: isActive($index) }" ng-mouseenter="selectActive($index)" ng-click="selectMatch($index, $event)" role="option" id="{{::match.id}}">\n        <div uib-typeahead-match index="$index" match="match" query="query" template-url="templateUrl"></div>\n    </li>\n</ul>\n')}]),angular.module("ui.bootstrap.carousel").run(function(){!angular.$$csp().noInlineStyle&&!angular.$$uibCarouselCss&&angular.element(document).find("head").prepend('<style type="text/css">.ng-animate.item:not(.left):not(.right){-webkit-transition:0s ease-in-out left;transition:0s ease-in-out left}</style>'),angular.$$uibCarouselCss=!0}),angular.module("ui.bootstrap.datepicker").run(function(){!angular.$$csp().noInlineStyle&&!angular.$$uibDatepickerCss&&angular.element(document).find("head").prepend('<style type="text/css">.uib-datepicker .uib-title{width:100%;}.uib-day button,.uib-month button,.uib-year button{min-width:100%;}.uib-left,.uib-right{width:100%}</style>'),angular.$$uibDatepickerCss=!0}),angular.module("ui.bootstrap.position").run(function(){!angular.$$csp().noInlineStyle&&!angular.$$uibPositionCss&&angular.element(document).find("head").prepend('<style type="text/css">.uib-position-measure{display:block !important;visibility:hidden !important;position:absolute !important;top:-9999px !important;left:-9999px !important;}.uib-position-scrollbar-measure{position:absolute !important;top:-9999px !important;width:50px !important;height:50px !important;overflow:scroll !important;}.uib-position-body-scrollbar-measure{overflow:scroll !important;}</style>'),angular.$$uibPositionCss=!0}),angular.module("ui.bootstrap.datepickerPopup").run(function(){!angular.$$csp().noInlineStyle&&!angular.$$uibDatepickerpopupCss&&angular.element(document).find("head").prepend('<style type="text/css">.uib-datepicker-popup.dropdown-menu{display:block;float:none;margin:0;}.uib-button-bar{padding:10px 9px 2px;}</style>'),angular.$$uibDatepickerpopupCss=!0}),angular.module("ui.bootstrap.tooltip").run(function(){!angular.$$csp().noInlineStyle&&!angular.$$uibTooltipCss&&angular.element(document).find("head").prepend('<style type="text/css">[uib-tooltip-popup].tooltip.top-left > .tooltip-arrow,[uib-tooltip-popup].tooltip.top-right > .tooltip-arrow,[uib-tooltip-popup].tooltip.bottom-left > .tooltip-arrow,[uib-tooltip-popup].tooltip.bottom-right > .tooltip-arrow,[uib-tooltip-popup].tooltip.left-top > .tooltip-arrow,[uib-tooltip-popup].tooltip.left-bottom > .tooltip-arrow,[uib-tooltip-popup].tooltip.right-top > .tooltip-arrow,[uib-tooltip-popup].tooltip.right-bottom > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.top-left > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.top-right > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.bottom-left > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.bottom-right > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.left-top > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.left-bottom > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.right-top > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.right-bottom > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.top-left > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.top-right > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.bottom-left > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.bottom-right > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.left-top > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.left-bottom > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.right-top > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.right-bottom > .tooltip-arrow,[uib-popover-popup].popover.top-left > .arrow,[uib-popover-popup].popover.top-right > .arrow,[uib-popover-popup].popover.bottom-left > .arrow,[uib-popover-popup].popover.bottom-right > .arrow,[uib-popover-popup].popover.left-top > .arrow,[uib-popover-popup].popover.left-bottom > .arrow,[uib-popover-popup].popover.right-top > .arrow,[uib-popover-popup].popover.right-bottom > .arrow,[uib-popover-html-popup].popover.top-left > .arrow,[uib-popover-html-popup].popover.top-right > .arrow,[uib-popover-html-popup].popover.bottom-left > .arrow,[uib-popover-html-popup].popover.bottom-right > .arrow,[uib-popover-html-popup].popover.left-top > .arrow,[uib-popover-html-popup].popover.left-bottom > .arrow,[uib-popover-html-popup].popover.right-top > .arrow,[uib-popover-html-popup].popover.right-bottom > .arrow,[uib-popover-template-popup].popover.top-left > .arrow,[uib-popover-template-popup].popover.top-right > .arrow,[uib-popover-template-popup].popover.bottom-left > .arrow,[uib-popover-template-popup].popover.bottom-right > .arrow,[uib-popover-template-popup].popover.left-top > .arrow,[uib-popover-template-popup].popover.left-bottom > .arrow,[uib-popover-template-popup].popover.right-top > .arrow,[uib-popover-template-popup].popover.right-bottom > .arrow{top:auto;bottom:auto;left:auto;right:auto;margin:0;}[uib-popover-popup].popover,[uib-popover-html-popup].popover,[uib-popover-template-popup].popover{display:block !important;}</style>'),angular.$$uibTooltipCss=!0}),angular.module("ui.bootstrap.timepicker").run(function(){!angular.$$csp().noInlineStyle&&!angular.$$uibTimepickerCss&&angular.element(document).find("head").prepend('<style type="text/css">.uib-time input{width:50px;}</style>'),angular.$$uibTimepickerCss=!0}),angular.module("ui.bootstrap.typeahead").run(function(){!angular.$$csp().noInlineStyle&&!angular.$$uibTypeaheadCss&&angular.element(document).find("head").prepend('<style type="text/css">[uib-typeahead-popup].dropdown-menu{display:block;}</style>'),angular.$$uibTypeaheadCss=!0}),"undefined"==typeof jQuery)throw new Error("Bootstrap's JavaScript requires jQuery");var gex,g,fs3,xc,yc,bgcolor,curd,spdval;function initNew(){gex=document.getElementById("gauge1"),g=gex.getContext("2d"),sx=0,sy=0,yc=xc=70,w=140,g.clearRect(0,0,w,w),bgcolor="#ecf0f5",t1="",t1b="",t1color="#000000",t2="VEHICLE SPEED IN KM",t2color="#333333",fs1=0,fs2=0,fs3=22,fs4=12,outrad=xc-4,scalew=4,nscale_colors=3;var t=new Array("green","yellow","red"),e=new Array(0,.333,.666,1);for(scale_actual_start=0,scale_actual_end=200,nticks=10,tickdif=30,minorticks=5,scale_actual_start=0,scale_actual_end=200,a1=120*Math.PI/180,spdval=document.dform.spd.value,curpc=spdval/200,curdeg=a1+300*curpc*Math.PI/180,curd=300*curpc,curdeg*=100,curdeg=Math.round(curdeg),curdeg/=100,g.clearRect(sx,sy,w,w),g.fillStyle=bgcolor,g.fillRect(sx,sy,w,w),g.font="bold "+fs1.toString()+"px Trebuchet MS",g.fillStyle=t1color,txtmeasure=g.measureText(t1),g.fillText(t1,xc-txtmeasure.width/2,yc/2+fs1),txtmeasure=g.measureText(t1b),g.fillText(t1b,xc-txtmeasure.width/2,yc/2+3*fs1),g.font="bold "+fs2.toString()+"px Trebuchet MS",g.fillStyle=t2color,txtmeasure=g.measureText(t2),g.fillText(t2,xc-txtmeasure.width/2,1.3*yc),deg=-150,g.strokeStyle="#ecf0f5",ctick=scale_actual_start,ctickdiff=(scale_actual_end-scale_actual_start)/nticks,i=0;i<nticks+1;i++)g.beginPath(),x1=xc+Math.sin(deg*Math.PI/180)*(xc+4),y1=yc+Math.cos(deg*Math.PI/180)*(xc-4)*-1,x2=xc+Math.sin(deg*Math.PI/180)*(xc+0),y2=yc+Math.cos(deg*Math.PI/180)*(xc-0)*-1,g.moveTo(x1,y1),g.lineTo(x2,y2),g.stroke(),g.font="bold "+fs4.toString()+"px Trebuchet MS",tvalue=ctick.toString(),txtmeasure=g.measureText(tvalue),x3=xc+Math.sin(deg*Math.PI/180)*(xc-15),y3=yc+Math.cos(deg*Math.PI/180)*(xc-15)*-1,g.fillText(tvalue,x3-txtmeasure.width/2,y3+fs4/4),ctick+=ctickdiff,deg+=tickdif,g.strokeStyle="#ecf0f5",g.closePath();for(g.lineWidth=scalew,i=0;i<nscale_colors;i++)g.beginPath(),g.strokeStyle=t[i],sangle1=a1+300*e[i]*Math.PI/180,sangle2=a1+300*e[i+1]*Math.PI/180,g.arc(xc,yc,outrad,sangle1,sangle2,!1),g.stroke(),g.closePath();draw_current(curpc)}function draw_current(t){g.font="bold "+fs3.toString()+"px Trebuchet MS",g.fillStyle=t1color,display_value=scale_actual_start+t*(scale_actual_end-scale_actual_start),p0=display_value.toString(),p0_len=p0.length,loc_dec=p0.indexOf("."),-1==loc_dec?display_value=p0+".00":(p1=p0.substr(0,loc_dec),p2=p0.substr(loc_dec+1,1),display_value=p1+"."+p2),txtmeasure=g.measureText(display_value),g.fillStyle="black",g.fillRect(xc-txtmeasure.width/0-0,1.37*yc,txtmeasure.width+15,fs3+8),g.fillStyle="green",g.fillText(display_value,xc-txtmeasure.width/2,1.1*yc),bw=0,bw2=0,blen=0,flen=0,degp=-240+curd,px1=-blen,py1=-bw2,px2=flen,py2=-1,px3=flen,py3=1,px4=-blen,py4=bw2,g.fillStyle="white",g.shadowColor="black",g.shadowOffsetX=0,g.shadowOffsetY=0,g.shadowBlur=0,g.save(),g.translate(xc,yc),g.rotate(degp*Math.PI/180),g.beginPath(),g.moveTo(px1,py1),g.lineTo(px2,py2),g.lineTo(px3,py3),g.lineTo(px4,py4),g.fill(),g.translate(-xc,-yc),g.restore(),g.beginPath(),g.arc(xc,yc,0,0,2*Math.PI,!1),g.fill(),g.closePath()}function randomdemo(){demotimer=setInterval("showone()",2e3)}function showone(){tval=200*Math.random(),document.dform.spd.value=tval,initNew()}function stopdemo(){clearInterval(demotimer)}if(function(t){"use strict";var e=jQuery.fn.jquery.split(" ")[0].split(".");if(e[0]<2&&e[1]<9||1==e[0]&&9==e[1]&&e[2]<1||3<e[0])throw new Error("Bootstrap's JavaScript requires jQuery version 1.9.1 or higher, but lower than version 4")}(),function(i){"use strict";i.fn.emulateTransitionEnd=function(t){var e=!1,n=this;i(this).one("bsTransitionEnd",function(){e=!0});return setTimeout(function(){e||i(n).trigger(i.support.transition.end)},t),this},i(function(){i.support.transition=function(){var t=document.createElement("bootstrap"),e={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var n in e)if(void 0!==t.style[n])return{end:e[n]};return!1}(),i.support.transition&&(i.event.special.bsTransitionEnd={bindType:i.support.transition.end,delegateType:i.support.transition.end,handle:function(t){if(i(t.target).is(this))return t.handleObj.handler.apply(this,arguments)}})})}(jQuery),function(r){"use strict";var e='[data-dismiss="alert"]',a=function(t){r(t).on("click",e,this.close)};a.VERSION="3.3.7",a.TRANSITION_DURATION=150,a.prototype.close=function(t){var e=r(this),n=e.attr("data-target");n||(n=(n=e.attr("href"))&&n.replace(/.*(?=#[^\s]*$)/,""));var i=r("#"===n?[]:n);function o(){i.detach().trigger("closed.bs.alert").remove()}t&&t.preventDefault(),i.length||(i=e.closest(".alert")),i.trigger(t=r.Event("close.bs.alert")),t.isDefaultPrevented()||(i.removeClass("in"),r.support.transition&&i.hasClass("fade")?i.one("bsTransitionEnd",o).emulateTransitionEnd(a.TRANSITION_DURATION):o())};var t=r.fn.alert;r.fn.alert=function(n){return this.each(function(){var t=r(this),e=t.data("bs.alert");e||t.data("bs.alert",e=new a(this)),"string"==typeof n&&e[n].call(t)})},r.fn.alert.Constructor=a,r.fn.alert.noConflict=function(){return r.fn.alert=t,this},r(document).on("click.bs.alert.data-api",e,a.prototype.close)}(jQuery),function(r){"use strict";var o=function(t,e){this.$element=r(t),this.options=r.extend({},o.DEFAULTS,e),this.isLoading=!1};function n(i){return this.each(function(){var t=r(this),e=t.data("bs.button"),n="object"==typeof i&&i;e||t.data("bs.button",e=new o(this,n)),"toggle"==i?e.toggle():i&&e.setState(i)})}o.VERSION="3.3.7",o.DEFAULTS={loadingText:"loading..."},o.prototype.setState=function(t){var e="disabled",n=this.$element,i=n.is("input")?"val":"html",o=n.data();t+="Text",null==o.resetText&&n.data("resetText",n[i]()),setTimeout(r.proxy(function(){n[i](null==o[t]?this.options[t]:o[t]),"loadingText"==t?(this.isLoading=!0,n.addClass(e).attr(e,e).prop(e,!0)):this.isLoading&&(this.isLoading=!1,n.removeClass(e).removeAttr(e).prop(e,!1))},this),0)},o.prototype.toggle=function(){var t=!0,e=this.$element.closest('[data-toggle="buttons"]');if(e.length){var n=this.$element.find("input");"radio"==n.prop("type")?(n.prop("checked")&&(t=!1),e.find(".active").removeClass("active"),this.$element.addClass("active")):"checkbox"==n.prop("type")&&(n.prop("checked")!==this.$element.hasClass("active")&&(t=!1),this.$element.toggleClass("active")),n.prop("checked",this.$element.hasClass("active")),t&&n.trigger("change")}else this.$element.attr("aria-pressed",!this.$element.hasClass("active")),this.$element.toggleClass("active")};var t=r.fn.button;r.fn.button=n,r.fn.button.Constructor=o,r.fn.button.noConflict=function(){return r.fn.button=t,this},r(document).on("click.bs.button.data-api",'[data-toggle^="button"]',function(t){var e=r(t.target).closest(".btn");n.call(e,"toggle"),r(t.target).is('input[type="radio"], input[type="checkbox"]')||(t.preventDefault(),e.is("input,button")?e.trigger("focus"):e.find("input:visible,button:visible").first().trigger("focus"))}).on("focus.bs.button.data-api blur.bs.button.data-api",'[data-toggle^="button"]',function(t){r(t.target).closest(".btn").toggleClass("focus",/^focus(in)?$/.test(t.type))})}(jQuery),function(p){"use strict";var h=function(t,e){this.$element=p(t),this.$indicators=this.$element.find(".carousel-indicators"),this.options=e,this.paused=null,this.sliding=null,this.interval=null,this.$active=null,this.$items=null,this.options.keyboard&&this.$element.on("keydown.bs.carousel",p.proxy(this.keydown,this)),"hover"==this.options.pause&&!("ontouchstart"in document.documentElement)&&this.$element.on("mouseenter.bs.carousel",p.proxy(this.pause,this)).on("mouseleave.bs.carousel",p.proxy(this.cycle,this))};function a(o){return this.each(function(){var t=p(this),e=t.data("bs.carousel"),n=p.extend({},h.DEFAULTS,t.data(),"object"==typeof o&&o),i="string"==typeof o?o:n.slide;e||t.data("bs.carousel",e=new h(this,n)),"number"==typeof o?e.to(o):i?e[i]():n.interval&&e.pause().cycle()})}h.VERSION="3.3.7",h.TRANSITION_DURATION=600,h.DEFAULTS={interval:5e3,pause:"hover",wrap:!0,keyboard:!0},h.prototype.keydown=function(t){if(!/input|textarea/i.test(t.target.tagName)){switch(t.which){case 37:this.prev();break;case 39:this.next();break;default:return}t.preventDefault()}},h.prototype.cycle=function(t){return t||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(p.proxy(this.next,this),this.options.interval)),this},h.prototype.getItemIndex=function(t){return this.$items=t.parent().children(".item"),this.$items.index(t||this.$active)},h.prototype.getItemForDirection=function(t,e){var n=this.getItemIndex(e);if(("prev"==t&&0===n||"next"==t&&n==this.$items.length-1)&&!this.options.wrap)return e;var i=(n+("prev"==t?-1:1))%this.$items.length;return this.$items.eq(i)},h.prototype.to=function(t){var e=this,n=this.getItemIndex(this.$active=this.$element.find(".item.active"));if(!(t>this.$items.length-1||t<0))return this.sliding?this.$element.one("slid.bs.carousel",function(){e.to(t)}):n==t?this.pause().cycle():this.slide(n<t?"next":"prev",this.$items.eq(t))},h.prototype.pause=function(t){return t||(this.paused=!0),this.$element.find(".next, .prev").length&&p.support.transition&&(this.$element.trigger(p.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},h.prototype.next=function(){if(!this.sliding)return this.slide("next")},h.prototype.prev=function(){if(!this.sliding)return this.slide("prev")},h.prototype.slide=function(t,e){var n=this.$element.find(".item.active"),i=e||this.getItemForDirection(t,n),o=this.interval,r="next"==t?"left":"right",a=this;if(i.hasClass("active"))return this.sliding=!1;var s=i[0],l=p.Event("slide.bs.carousel",{relatedTarget:s,direction:r});if(this.$element.trigger(l),!l.isDefaultPrevented()){if(this.sliding=!0,o&&this.pause(),this.$indicators.length){this.$indicators.find(".active").removeClass("active");var u=p(this.$indicators.children()[this.getItemIndex(i)]);u&&u.addClass("active")}var c=p.Event("slid.bs.carousel",{relatedTarget:s,direction:r});return p.support.transition&&this.$element.hasClass("slide")?(i.addClass(t),i[0].offsetWidth,n.addClass(r),i.addClass(r),n.one("bsTransitionEnd",function(){i.removeClass([t,r].join(" ")).addClass("active"),n.removeClass(["active",r].join(" ")),a.sliding=!1,setTimeout(function(){a.$element.trigger(c)},0)}).emulateTransitionEnd(h.TRANSITION_DURATION)):(n.removeClass("active"),i.addClass("active"),this.sliding=!1,this.$element.trigger(c)),o&&this.cycle(),this}};var t=p.fn.carousel;p.fn.carousel=a,p.fn.carousel.Constructor=h,p.fn.carousel.noConflict=function(){return p.fn.carousel=t,this};var e=function(t){var e,n=p(this),i=p(n.attr("data-target")||(e=n.attr("href"))&&e.replace(/.*(?=#[^\s]+$)/,""));if(i.hasClass("carousel")){var o=p.extend({},i.data(),n.data()),r=n.attr("data-slide-to");r&&(o.interval=!1),a.call(i,o),r&&i.data("bs.carousel").to(r),t.preventDefault()}};p(document).on("click.bs.carousel.data-api","[data-slide]",e).on("click.bs.carousel.data-api","[data-slide-to]",e),p(window).on("load",function(){p('[data-ride="carousel"]').each(function(){var t=p(this);a.call(t,t.data())})})}(jQuery),function(a){"use strict";var s=function(t,e){this.$element=a(t),this.options=a.extend({},s.DEFAULTS,e),this.$trigger=a('[data-toggle="collapse"][href="#'+t.id+'"],[data-toggle="collapse"][data-target="#'+t.id+'"]'),this.transitioning=null,this.options.parent?this.$parent=this.getParent():this.addAriaAndCollapsedClass(this.$element,this.$trigger),this.options.toggle&&this.toggle()};function o(t){var e,n=t.attr("data-target")||(e=t.attr("href"))&&e.replace(/.*(?=#[^\s]+$)/,"");return a(n)}function l(i){return this.each(function(){var t=a(this),e=t.data("bs.collapse"),n=a.extend({},s.DEFAULTS,t.data(),"object"==typeof i&&i);!e&&n.toggle&&/show|hide/.test(i)&&(n.toggle=!1),e||t.data("bs.collapse",e=new s(this,n)),"string"==typeof i&&e[i]()})}s.VERSION="3.3.7",s.TRANSITION_DURATION=350,s.DEFAULTS={toggle:!0},s.prototype.dimension=function(){return this.$element.hasClass("width")?"width":"height"},s.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var t,e=this.$parent&&this.$parent.children(".panel").children(".in, .collapsing");if(!(e&&e.length&&(t=e.data("bs.collapse"))&&t.transitioning)){var n=a.Event("show.bs.collapse");if(this.$element.trigger(n),!n.isDefaultPrevented()){e&&e.length&&(l.call(e,"hide"),t||e.data("bs.collapse",null));var i=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[i](0).attr("aria-expanded",!0),this.$trigger.removeClass("collapsed").attr("aria-expanded",!0),this.transitioning=1;var o=function(){this.$element.removeClass("collapsing").addClass("collapse in")[i](""),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!a.support.transition)return o.call(this);var r=a.camelCase(["scroll",i].join("-"));this.$element.one("bsTransitionEnd",a.proxy(o,this)).emulateTransitionEnd(s.TRANSITION_DURATION)[i](this.$element[0][r])}}}},s.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var t=a.Event("hide.bs.collapse");if(this.$element.trigger(t),!t.isDefaultPrevented()){var e=this.dimension();this.$element[e](this.$element[e]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse in").attr("aria-expanded",!1),this.$trigger.addClass("collapsed").attr("aria-expanded",!1),this.transitioning=1;var n=function(){this.transitioning=0,this.$element.removeClass("collapsing").addClass("collapse").trigger("hidden.bs.collapse")};if(!a.support.transition)return n.call(this);this.$element[e](0).one("bsTransitionEnd",a.proxy(n,this)).emulateTransitionEnd(s.TRANSITION_DURATION)}}},s.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()},s.prototype.getParent=function(){return a(this.options.parent).find('[data-toggle="collapse"][data-parent="'+this.options.parent+'"]').each(a.proxy(function(t,e){var n=a(e);this.addAriaAndCollapsedClass(o(n),n)},this)).end()},s.prototype.addAriaAndCollapsedClass=function(t,e){var n=t.hasClass("in");t.attr("aria-expanded",n),e.toggleClass("collapsed",!n).attr("aria-expanded",n)};var t=a.fn.collapse;a.fn.collapse=l,a.fn.collapse.Constructor=s,a.fn.collapse.noConflict=function(){return a.fn.collapse=t,this},a(document).on("click.bs.collapse.data-api",'[data-toggle="collapse"]',function(t){var e=a(this);e.attr("data-target")||t.preventDefault();var n=o(e),i=n.data("bs.collapse")?"toggle":e.data();l.call(n,i)})}(jQuery),function(a){"use strict";var s='[data-toggle="dropdown"]',i=function(t){a(t).on("click.bs.dropdown",this.toggle)};function l(t){var e=t.attr("data-target");e||(e=(e=t.attr("href"))&&/#[A-Za-z]/.test(e)&&e.replace(/.*(?=#[^\s]*$)/,""));var n=e&&a(e);return n&&n.length?n:t.parent()}function r(i){i&&3===i.which||(a(".dropdown-backdrop").remove(),a(s).each(function(){var t=a(this),e=l(t),n={relatedTarget:this};e.hasClass("open")&&(i&&"click"==i.type&&/input|textarea/i.test(i.target.tagName)&&a.contains(e[0],i.target)||(e.trigger(i=a.Event("hide.bs.dropdown",n)),i.isDefaultPrevented()||(t.attr("aria-expanded","false"),e.removeClass("open").trigger(a.Event("hidden.bs.dropdown",n)))))}))}i.VERSION="3.3.7",i.prototype.toggle=function(t){var e=a(this);if(!e.is(".disabled, :disabled")){var n=l(e),i=n.hasClass("open");if(r(),!i){"ontouchstart"in document.documentElement&&!n.closest(".navbar-nav").length&&a(document.createElement("div")).addClass("dropdown-backdrop").insertAfter(a(this)).on("click",r);var o={relatedTarget:this};if(n.trigger(t=a.Event("show.bs.dropdown",o)),t.isDefaultPrevented())return;e.trigger("focus").attr("aria-expanded","true"),n.toggleClass("open").trigger(a.Event("shown.bs.dropdown",o))}return!1}},i.prototype.keydown=function(t){if(/(38|40|27|32)/.test(t.which)&&!/input|textarea/i.test(t.target.tagName)){var e=a(this);if(t.preventDefault(),t.stopPropagation(),!e.is(".disabled, :disabled")){var n=l(e),i=n.hasClass("open");if(!i&&27!=t.which||i&&27==t.which)return 27==t.which&&n.find(s).trigger("focus"),e.trigger("click");var o=n.find(".dropdown-menu li:not(.disabled):visible a");if(o.length){var r=o.index(t.target);38==t.which&&0<r&&r--,40==t.which&&r<o.length-1&&r++,~r||(r=0),o.eq(r).trigger("focus")}}}};var t=a.fn.dropdown;a.fn.dropdown=function(n){return this.each(function(){var t=a(this),e=t.data("bs.dropdown");e||t.data("bs.dropdown",e=new i(this)),"string"==typeof n&&e[n].call(t)})},a.fn.dropdown.Constructor=i,a.fn.dropdown.noConflict=function(){return a.fn.dropdown=t,this},a(document).on("click.bs.dropdown.data-api",r).on("click.bs.dropdown.data-api",".dropdown form",function(t){t.stopPropagation()}).on("click.bs.dropdown.data-api",s,i.prototype.toggle).on("keydown.bs.dropdown.data-api",s,i.prototype.keydown).on("keydown.bs.dropdown.data-api",".dropdown-menu",i.prototype.keydown)}(jQuery),function(r){"use strict";var a=function(t,e){this.options=e,this.$body=r(document.body),this.$element=r(t),this.$dialog=this.$element.find(".modal-dialog"),this.$backdrop=null,this.isShown=null,this.originalBodyPad=null,this.scrollbarWidth=0,this.ignoreBackdropClick=!1,this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,r.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))};function s(i,o){return this.each(function(){var t=r(this),e=t.data("bs.modal"),n=r.extend({},a.DEFAULTS,t.data(),"object"==typeof i&&i);e||t.data("bs.modal",e=new a(this,n)),"string"==typeof i?e[i](o):n.show&&e.show(o)})}a.VERSION="3.3.7",a.TRANSITION_DURATION=300,a.BACKDROP_TRANSITION_DURATION=150,a.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},a.prototype.toggle=function(t){return this.isShown?this.hide():this.show(t)},a.prototype.show=function(n){var i=this,t=r.Event("show.bs.modal",{relatedTarget:n});this.$element.trigger(t),this.isShown||t.isDefaultPrevented()||(this.isShown=!0,this.checkScrollbar(),this.setScrollbar(),this.$body.addClass("modal-open"),this.escape(),this.resize(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',r.proxy(this.hide,this)),this.$dialog.on("mousedown.dismiss.bs.modal",function(){i.$element.one("mouseup.dismiss.bs.modal",function(t){r(t.target).is(i.$element)&&(i.ignoreBackdropClick=!0)})}),this.backdrop(function(){var t=r.support.transition&&i.$element.hasClass("fade");i.$element.parent().length||i.$element.appendTo(i.$body),i.$element.show().scrollTop(0),i.adjustDialog(),t&&i.$element[0].offsetWidth,i.$element.addClass("in"),i.enforceFocus();var e=r.Event("shown.bs.modal",{relatedTarget:n});t?i.$dialog.one("bsTransitionEnd",function(){i.$element.trigger("focus").trigger(e)}).emulateTransitionEnd(a.TRANSITION_DURATION):i.$element.trigger("focus").trigger(e)}))},a.prototype.hide=function(t){t&&t.preventDefault(),t=r.Event("hide.bs.modal"),this.$element.trigger(t),this.isShown&&!t.isDefaultPrevented()&&(this.isShown=!1,this.escape(),this.resize(),r(document).off("focusin.bs.modal"),this.$element.removeClass("in").off("click.dismiss.bs.modal").off("mouseup.dismiss.bs.modal"),this.$dialog.off("mousedown.dismiss.bs.modal"),r.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",r.proxy(this.hideModal,this)).emulateTransitionEnd(a.TRANSITION_DURATION):this.hideModal())},a.prototype.enforceFocus=function(){r(document).off("focusin.bs.modal").on("focusin.bs.modal",r.proxy(function(t){document===t.target||this.$element[0]===t.target||this.$element.has(t.target).length||this.$element.trigger("focus")},this))},a.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keydown.dismiss.bs.modal",r.proxy(function(t){27==t.which&&this.hide()},this)):this.isShown||this.$element.off("keydown.dismiss.bs.modal")},a.prototype.resize=function(){this.isShown?r(window).on("resize.bs.modal",r.proxy(this.handleUpdate,this)):r(window).off("resize.bs.modal")},a.prototype.hideModal=function(){var t=this;this.$element.hide(),this.backdrop(function(){t.$body.removeClass("modal-open"),t.resetAdjustments(),t.resetScrollbar(),t.$element.trigger("hidden.bs.modal")})},a.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},a.prototype.backdrop=function(t){var e=this,n=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var i=r.support.transition&&n;if(this.$backdrop=r(document.createElement("div")).addClass("modal-backdrop "+n).appendTo(this.$body),this.$element.on("click.dismiss.bs.modal",r.proxy(function(t){this.ignoreBackdropClick?this.ignoreBackdropClick=!1:t.target===t.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus():this.hide())},this)),i&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!t)return;i?this.$backdrop.one("bsTransitionEnd",t).emulateTransitionEnd(a.BACKDROP_TRANSITION_DURATION):t()}else if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("in");var o=function(){e.removeBackdrop(),t&&t()};r.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",o).emulateTransitionEnd(a.BACKDROP_TRANSITION_DURATION):o()}else t&&t()},a.prototype.handleUpdate=function(){this.adjustDialog()},a.prototype.adjustDialog=function(){var t=this.$element[0].scrollHeight>document.documentElement.clientHeight;this.$element.css({paddingLeft:!this.bodyIsOverflowing&&t?this.scrollbarWidth:"",paddingRight:this.bodyIsOverflowing&&!t?this.scrollbarWidth:""})},a.prototype.resetAdjustments=function(){this.$element.css({paddingLeft:"",paddingRight:""})},a.prototype.checkScrollbar=function(){var t=window.innerWidth;if(!t){var e=document.documentElement.getBoundingClientRect();t=e.right-Math.abs(e.left)}this.bodyIsOverflowing=document.body.clientWidth<t,this.scrollbarWidth=this.measureScrollbar()},a.prototype.setScrollbar=function(){var t=parseInt(this.$body.css("padding-right")||0,10);this.originalBodyPad=document.body.style.paddingRight||"",this.bodyIsOverflowing&&this.$body.css("padding-right",t+this.scrollbarWidth)},a.prototype.resetScrollbar=function(){this.$body.css("padding-right",this.originalBodyPad)},a.prototype.measureScrollbar=function(){var t=document.createElement("div");t.className="modal-scrollbar-measure",this.$body.append(t);var e=t.offsetWidth-t.clientWidth;return this.$body[0].removeChild(t),e};var t=r.fn.modal;r.fn.modal=s,r.fn.modal.Constructor=a,r.fn.modal.noConflict=function(){return r.fn.modal=t,this},r(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(t){var e=r(this),n=e.attr("href"),i=r(e.attr("data-target")||n&&n.replace(/.*(?=#[^\s]+$)/,"")),o=i.data("bs.modal")?"toggle":r.extend({remote:!/#/.test(n)&&n},i.data(),e.data());e.is("a")&&t.preventDefault(),i.one("show.bs.modal",function(t){t.isDefaultPrevented()||i.one("hidden.bs.modal",function(){e.is(":visible")&&e.trigger("focus")})}),s.call(i,o,this)})}(jQuery),function(g){"use strict";var m=function(t,e){this.type=null,this.options=null,this.enabled=null,this.timeout=null,this.hoverState=null,this.$element=null,this.inState=null,this.init("tooltip",t,e)};m.VERSION="3.3.7",m.TRANSITION_DURATION=150,m.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1,viewport:{selector:"body",padding:0}},m.prototype.init=function(t,e,n){if(this.enabled=!0,this.type=t,this.$element=g(e),this.options=this.getOptions(n),this.$viewport=this.options.viewport&&g(g.isFunction(this.options.viewport)?this.options.viewport.call(this,this.$element):this.options.viewport.selector||this.options.viewport),this.inState={click:!1,hover:!1,focus:!1},this.$element[0]instanceof document.constructor&&!this.options.selector)throw new Error("`selector` option must be specified when initializing "+this.type+" on the window.document object!");for(var i=this.options.trigger.split(" "),o=i.length;o--;){var r=i[o];if("click"==r)this.$element.on("click."+this.type,this.options.selector,g.proxy(this.toggle,this));else if("manual"!=r){var a="hover"==r?"mouseenter":"focusin",s="hover"==r?"mouseleave":"focusout";this.$element.on(a+"."+this.type,this.options.selector,g.proxy(this.enter,this)),this.$element.on(s+"."+this.type,this.options.selector,g.proxy(this.leave,this))}}this.options.selector?this._options=g.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},m.prototype.getDefaults=function(){return m.DEFAULTS},m.prototype.getOptions=function(t){return(t=g.extend({},this.getDefaults(),this.$element.data(),t)).delay&&"number"==typeof t.delay&&(t.delay={show:t.delay,hide:t.delay}),t},m.prototype.getDelegateOptions=function(){var n={},i=this.getDefaults();return this._options&&g.each(this._options,function(t,e){i[t]!=e&&(n[t]=e)}),n},m.prototype.enter=function(t){var e=t instanceof this.constructor?t:g(t.currentTarget).data("bs."+this.type);if(e||(e=new this.constructor(t.currentTarget,this.getDelegateOptions()),g(t.currentTarget).data("bs."+this.type,e)),t instanceof g.Event&&(e.inState["focusin"==t.type?"focus":"hover"]=!0),e.tip().hasClass("in")||"in"==e.hoverState)e.hoverState="in";else{if(clearTimeout(e.timeout),e.hoverState="in",!e.options.delay||!e.options.delay.show)return e.show();e.timeout=setTimeout(function(){"in"==e.hoverState&&e.show()},e.options.delay.show)}},m.prototype.isInStateTrue=function(){for(var t in this.inState)if(this.inState[t])return!0;return!1},m.prototype.leave=function(t){var e=t instanceof this.constructor?t:g(t.currentTarget).data("bs."+this.type);if(e||(e=new this.constructor(t.currentTarget,this.getDelegateOptions()),g(t.currentTarget).data("bs."+this.type,e)),t instanceof g.Event&&(e.inState["focusout"==t.type?"focus":"hover"]=!1),!e.isInStateTrue()){if(clearTimeout(e.timeout),e.hoverState="out",!e.options.delay||!e.options.delay.hide)return e.hide();e.timeout=setTimeout(function(){"out"==e.hoverState&&e.hide()},e.options.delay.hide)}},m.prototype.show=function(){var t=g.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){this.$element.trigger(t);var e=g.contains(this.$element[0].ownerDocument.documentElement,this.$element[0]);if(t.isDefaultPrevented()||!e)return;var n=this,i=this.tip(),o=this.getUID(this.type);this.setContent(),i.attr("id",o),this.$element.attr("aria-describedby",o),this.options.animation&&i.addClass("fade");var r="function"==typeof this.options.placement?this.options.placement.call(this,i[0],this.$element[0]):this.options.placement,a=/\s?auto?\s?/i,s=a.test(r);s&&(r=r.replace(a,"")||"top"),i.detach().css({top:0,left:0,display:"block"}).addClass(r).data("bs."+this.type,this),this.options.container?i.appendTo(this.options.container):i.insertAfter(this.$element),this.$element.trigger("inserted.bs."+this.type);var l=this.getPosition(),u=i[0].offsetWidth,c=i[0].offsetHeight;if(s){var p=r,h=this.getPosition(this.$viewport);r="bottom"==r&&l.bottom+c>h.bottom?"top":"top"==r&&l.top-c<h.top?"bottom":"right"==r&&l.right+u>h.width?"left":"left"==r&&l.left-u<h.left?"right":r,i.removeClass(p).addClass(r)}var d=this.getCalculatedOffset(r,l,u,c);this.applyPlacement(d,r);var f=function(){var t=n.hoverState;n.$element.trigger("shown.bs."+n.type),n.hoverState=null,"out"==t&&n.leave(n)};g.support.transition&&this.$tip.hasClass("fade")?i.one("bsTransitionEnd",f).emulateTransitionEnd(m.TRANSITION_DURATION):f()}},m.prototype.applyPlacement=function(t,e){var n=this.tip(),i=n[0].offsetWidth,o=n[0].offsetHeight,r=parseInt(n.css("margin-top"),10),a=parseInt(n.css("margin-left"),10);isNaN(r)&&(r=0),isNaN(a)&&(a=0),t.top+=r,t.left+=a,g.offset.setOffset(n[0],g.extend({using:function(t){n.css({top:Math.round(t.top),left:Math.round(t.left)})}},t),0),n.addClass("in");var s=n[0].offsetWidth,l=n[0].offsetHeight;"top"==e&&l!=o&&(t.top=t.top+o-l);var u=this.getViewportAdjustedDelta(e,t,s,l);u.left?t.left+=u.left:t.top+=u.top;var c=/top|bottom/.test(e),p=c?2*u.left-i+s:2*u.top-o+l,h=c?"offsetWidth":"offsetHeight";n.offset(t),this.replaceArrow(p,n[0][h],c)},m.prototype.replaceArrow=function(t,e,n){this.arrow().css(n?"left":"top",50*(1-t/e)+"%").css(n?"top":"left","")},m.prototype.setContent=function(){var t=this.tip(),e=this.getTitle();t.find(".tooltip-inner")[this.options.html?"html":"text"](e),t.removeClass("fade in top bottom left right")},m.prototype.hide=function(t){var e=this,n=g(this.$tip),i=g.Event("hide.bs."+this.type);function o(){"in"!=e.hoverState&&n.detach(),e.$element&&e.$element.removeAttr("aria-describedby").trigger("hidden.bs."+e.type),t&&t()}if(this.$element.trigger(i),!i.isDefaultPrevented())return n.removeClass("in"),g.support.transition&&n.hasClass("fade")?n.one("bsTransitionEnd",o).emulateTransitionEnd(m.TRANSITION_DURATION):o(),this.hoverState=null,this},m.prototype.fixTitle=function(){var t=this.$element;(t.attr("title")||"string"!=typeof t.attr("data-original-title"))&&t.attr("data-original-title",t.attr("title")||"").attr("title","")},m.prototype.hasContent=function(){return this.getTitle()},m.prototype.getPosition=function(t){var e=(t=t||this.$element)[0],n="BODY"==e.tagName,i=e.getBoundingClientRect();null==i.width&&(i=g.extend({},i,{width:i.right-i.left,height:i.bottom-i.top}));var o=window.SVGElement&&e instanceof window.SVGElement,r=n?{top:0,left:0}:o?null:t.offset(),a={scroll:n?document.documentElement.scrollTop||document.body.scrollTop:t.scrollTop()},s=n?{width:g(window).width(),height:g(window).height()}:null;return g.extend({},i,a,s,r)},m.prototype.getCalculatedOffset=function(t,e,n,i){return"bottom"==t?{top:e.top+e.height,left:e.left+e.width/2-n/2}:"top"==t?{top:e.top-i,left:e.left+e.width/2-n/2}:"left"==t?{top:e.top+e.height/2-i/2,left:e.left-n}:{top:e.top+e.height/2-i/2,left:e.left+e.width}},m.prototype.getViewportAdjustedDelta=function(t,e,n,i){var o={top:0,left:0};if(!this.$viewport)return o;var r=this.options.viewport&&this.options.viewport.padding||0,a=this.getPosition(this.$viewport);if(/right|left/.test(t)){var s=e.top-r-a.scroll,l=e.top+r-a.scroll+i;s<a.top?o.top=a.top-s:l>a.top+a.height&&(o.top=a.top+a.height-l)}else{var u=e.left-r,c=e.left+r+n;u<a.left?o.left=a.left-u:c>a.right&&(o.left=a.left+a.width-c)}return o},m.prototype.getTitle=function(){var t=this.$element,e=this.options;return t.attr("data-original-title")||("function"==typeof e.title?e.title.call(t[0]):e.title)},m.prototype.getUID=function(t){for(;t+=~~(1e6*Math.random()),document.getElementById(t););return t},m.prototype.tip=function(){if(!this.$tip&&(this.$tip=g(this.options.template),1!=this.$tip.length))throw new Error(this.type+" `template` option must consist of exactly 1 top-level element!");return this.$tip},m.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},m.prototype.enable=function(){this.enabled=!0},m.prototype.disable=function(){this.enabled=!1},m.prototype.toggleEnabled=function(){this.enabled=!this.enabled},m.prototype.toggle=function(t){var e=this;t&&((e=g(t.currentTarget).data("bs."+this.type))||(e=new this.constructor(t.currentTarget,this.getDelegateOptions()),g(t.currentTarget).data("bs."+this.type,e))),t?(e.inState.click=!e.inState.click,e.isInStateTrue()?e.enter(e):e.leave(e)):e.tip().hasClass("in")?e.leave(e):e.enter(e)},m.prototype.destroy=function(){var t=this;clearTimeout(this.timeout),this.hide(function(){t.$element.off("."+t.type).removeData("bs."+t.type),t.$tip&&t.$tip.detach(),t.$tip=null,t.$arrow=null,t.$viewport=null,t.$element=null})};var t=g.fn.tooltip;g.fn.tooltip=function(i){return this.each(function(){var t=g(this),e=t.data("bs.tooltip"),n="object"==typeof i&&i;!e&&/destroy|hide/.test(i)||(e||t.data("bs.tooltip",e=new m(this,n)),"string"==typeof i&&e[i]())})},g.fn.tooltip.Constructor=m,g.fn.tooltip.noConflict=function(){return g.fn.tooltip=t,this}}(jQuery),function(o){"use strict";var r=function(t,e){this.init("popover",t,e)};if(!o.fn.tooltip)throw new Error("Popover requires tooltip.js");r.VERSION="3.3.7",r.DEFAULTS=o.extend({},o.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),((r.prototype=o.extend({},o.fn.tooltip.Constructor.prototype)).constructor=r).prototype.getDefaults=function(){return r.DEFAULTS},r.prototype.setContent=function(){var t=this.tip(),e=this.getTitle(),n=this.getContent();t.find(".popover-title")[this.options.html?"html":"text"](e),t.find(".popover-content").children().detach().end()[this.options.html?"string"==typeof n?"html":"append":"text"](n),t.removeClass("fade top bottom left right in"),t.find(".popover-title").html()||t.find(".popover-title").hide()},r.prototype.hasContent=function(){return this.getTitle()||this.getContent()},r.prototype.getContent=function(){var t=this.$element,e=this.options;return t.attr("data-content")||("function"==typeof e.content?e.content.call(t[0]):e.content)},r.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")};var t=o.fn.popover;o.fn.popover=function(i){return this.each(function(){var t=o(this),e=t.data("bs.popover"),n="object"==typeof i&&i;!e&&/destroy|hide/.test(i)||(e||t.data("bs.popover",e=new r(this,n)),"string"==typeof i&&e[i]())})},o.fn.popover.Constructor=r,o.fn.popover.noConflict=function(){return o.fn.popover=t,this}}(jQuery),function(r){"use strict";function o(t,e){this.$body=r(document.body),this.$scrollElement=r(t).is(document.body)?r(window):r(t),this.options=r.extend({},o.DEFAULTS,e),this.selector=(this.options.target||"")+" .nav li > a",this.offsets=[],this.targets=[],this.activeTarget=null,this.scrollHeight=0,this.$scrollElement.on("scroll.bs.scrollspy",r.proxy(this.process,this)),this.refresh(),this.process()}function e(i){return this.each(function(){var t=r(this),e=t.data("bs.scrollspy"),n="object"==typeof i&&i;e||t.data("bs.scrollspy",e=new o(this,n)),"string"==typeof i&&e[i]()})}o.VERSION="3.3.7",o.DEFAULTS={offset:10},o.prototype.getScrollHeight=function(){return this.$scrollElement[0].scrollHeight||Math.max(this.$body[0].scrollHeight,document.documentElement.scrollHeight)},o.prototype.refresh=function(){var t=this,i="offset",o=0;this.offsets=[],this.targets=[],this.scrollHeight=this.getScrollHeight(),r.isWindow(this.$scrollElement[0])||(i="position",o=this.$scrollElement.scrollTop()),this.$body.find(this.selector).map(function(){var t=r(this),e=t.data("target")||t.attr("href"),n=/^#./.test(e)&&r(e);return n&&n.length&&n.is(":visible")&&[[n[i]().top+o,e]]||null}).sort(function(t,e){return t[0]-e[0]}).each(function(){t.offsets.push(this[0]),t.targets.push(this[1])})},o.prototype.process=function(){var t,e=this.$scrollElement.scrollTop()+this.options.offset,n=this.getScrollHeight(),i=this.options.offset+n-this.$scrollElement.height(),o=this.offsets,r=this.targets,a=this.activeTarget;if(this.scrollHeight!=n&&this.refresh(),i<=e)return a!=(t=r[r.length-1])&&this.activate(t);if(a&&e<o[0])return this.activeTarget=null,this.clear();for(t=o.length;t--;)a!=r[t]&&e>=o[t]&&(void 0===o[t+1]||e<o[t+1])&&this.activate(r[t])},o.prototype.activate=function(t){this.activeTarget=t,this.clear();var e=this.selector+'[data-target="'+t+'"],'+this.selector+'[href="'+t+'"]',n=r(e).parents("li").addClass("active");n.parent(".dropdown-menu").length&&(n=n.closest("li.dropdown").addClass("active")),n.trigger("activate.bs.scrollspy")},o.prototype.clear=function(){r(this.selector).parentsUntil(this.options.target,".active").removeClass("active")};var t=r.fn.scrollspy;r.fn.scrollspy=e,r.fn.scrollspy.Constructor=o,r.fn.scrollspy.noConflict=function(){return r.fn.scrollspy=t,this},r(window).on("load.bs.scrollspy.data-api",function(){r('[data-spy="scroll"]').each(function(){var t=r(this);e.call(t,t.data())})})}(jQuery),function(s){"use strict";var a=function(t){this.element=s(t)};function e(n){return this.each(function(){var t=s(this),e=t.data("bs.tab");e||t.data("bs.tab",e=new a(this)),"string"==typeof n&&e[n]()})}a.VERSION="3.3.7",a.TRANSITION_DURATION=150,a.prototype.show=function(){var t=this.element,e=t.closest("ul:not(.dropdown-menu)"),n=t.data("target");if(n||(n=(n=t.attr("href"))&&n.replace(/.*(?=#[^\s]*$)/,"")),!t.parent("li").hasClass("active")){var i=e.find(".active:last a"),o=s.Event("hide.bs.tab",{relatedTarget:t[0]}),r=s.Event("show.bs.tab",{relatedTarget:i[0]});if(i.trigger(o),t.trigger(r),!r.isDefaultPrevented()&&!o.isDefaultPrevented()){var a=s(n);this.activate(t.closest("li"),e),this.activate(a,a.parent(),function(){i.trigger({type:"hidden.bs.tab",relatedTarget:t[0]}),t.trigger({type:"shown.bs.tab",relatedTarget:i[0]})})}}},a.prototype.activate=function(t,e,n){var i=e.find("> .active"),o=n&&s.support.transition&&(i.length&&i.hasClass("fade")||!!e.find("> .fade").length);function r(){i.removeClass("active").find("> .dropdown-menu > .active").removeClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!1),t.addClass("active").find('[data-toggle="tab"]').attr("aria-expanded",!0),o?(t[0].offsetWidth,t.addClass("in")):t.removeClass("fade"),t.parent(".dropdown-menu").length&&t.closest("li.dropdown").addClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!0),n&&n()}i.length&&o?i.one("bsTransitionEnd",r).emulateTransitionEnd(a.TRANSITION_DURATION):r(),i.removeClass("in")};var t=s.fn.tab;s.fn.tab=e,s.fn.tab.Constructor=a,s.fn.tab.noConflict=function(){return s.fn.tab=t,this};var n=function(t){t.preventDefault(),e.call(s(this),"show")};s(document).on("click.bs.tab.data-api",'[data-toggle="tab"]',n).on("click.bs.tab.data-api",'[data-toggle="pill"]',n)}(jQuery),function(l){"use strict";var u=function(t,e){this.options=l.extend({},u.DEFAULTS,e),this.$target=l(this.options.target).on("scroll.bs.affix.data-api",l.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",l.proxy(this.checkPositionWithEventLoop,this)),this.$element=l(t),this.affixed=null,this.unpin=null,this.pinnedOffset=null,this.checkPosition()};function n(i){return this.each(function(){var t=l(this),e=t.data("bs.affix"),n="object"==typeof i&&i;e||t.data("bs.affix",e=new u(this,n)),"string"==typeof i&&e[i]()})}u.VERSION="3.3.7",u.RESET="affix affix-top affix-bottom",u.DEFAULTS={offset:0,target:window},u.prototype.getState=function(t,e,n,i){var o=this.$target.scrollTop(),r=this.$element.offset(),a=this.$target.height();if(null!=n&&"top"==this.affixed)return o<n&&"top";if("bottom"==this.affixed)return null!=n?!(o+this.unpin<=r.top)&&"bottom":!(o+a<=t-i)&&"bottom";var s=null==this.affixed,l=s?o:r.top;return null!=n&&o<=n?"top":null!=i&&t-i<=l+(s?a:e)&&"bottom"},u.prototype.getPinnedOffset=function(){if(this.pinnedOffset)return this.pinnedOffset;this.$element.removeClass(u.RESET).addClass("affix");var t=this.$target.scrollTop(),e=this.$element.offset();return this.pinnedOffset=e.top-t},u.prototype.checkPositionWithEventLoop=function(){setTimeout(l.proxy(this.checkPosition,this),1)},u.prototype.checkPosition=function(){if(this.$element.is(":visible")){var t=this.$element.height(),e=this.options.offset,n=e.top,i=e.bottom,o=Math.max(l(document).height(),l(document.body).height());"object"!=typeof e&&(i=n=e),"function"==typeof n&&(n=e.top(this.$element)),"function"==typeof i&&(i=e.bottom(this.$element));var r=this.getState(o,t,n,i);if(this.affixed!=r){null!=this.unpin&&this.$element.css("top","");var a="affix"+(r?"-"+r:""),s=l.Event(a+".bs.affix");if(this.$element.trigger(s),s.isDefaultPrevented())return;this.affixed=r,this.unpin="bottom"==r?this.getPinnedOffset():null,this.$element.removeClass(u.RESET).addClass(a).trigger(a.replace("affix","affixed")+".bs.affix")}"bottom"==r&&this.$element.offset({top:o-t-i})}};var t=l.fn.affix;l.fn.affix=n,l.fn.affix.Constructor=u,l.fn.affix.noConflict=function(){return l.fn.affix=t,this},l(window).on("load",function(){l('[data-spy="affix"]').each(function(){var t=l(this),e=t.data();e.offset=e.offset||{},null!=e.offsetBottom&&(e.offset.bottom=e.offsetBottom),null!=e.offsetTop&&(e.offset.top=e.offsetTop),n.call(t,e)})})}(jQuery),function(t,L){"use strict";var F=L.$$minErr("$resource"),s=/^(\.[a-zA-Z_$@][0-9a-zA-Z_$@]*)+$/;function N(t,e){if(null==(n=e)||""===n||"hasOwnProperty"===n||!s.test("."+n))throw F("badmember",'Dotted member path "@{0}" is invalid.',e);for(var n,i=e.split("."),o=0,r=i.length;o<r&&L.isDefined(t);o++){var a=i[o];t=null!==t?t[a]:void 0}return t}function j(t,n){for(var e in n=n||{},L.forEach(n,function(t,e){delete n[e]}),t)!t.hasOwnProperty(e)||"$"===e.charAt(0)&&"$"===e.charAt(1)||(n[e]=t[e]);return n}L.module("ngResource",["ng"]).provider("$resource",function(){var c=/^https?:\/\/[^\/]*/,a=this;this.defaults={stripTrailingSlashes:!0,cancellable:!1,actions:{get:{method:"GET"},save:{method:"POST"},query:{method:"GET",isArray:!0},remove:{method:"DELETE"},delete:{method:"DELETE"}}},this.$get=["$http","$log","$q","$timeout",function(A,o,D,M){var E=L.noop,P=L.forEach,O=L.extend,I=L.copy,R=L.isFunction;function u(t,e){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,e?"%20":"+")}function r(t,e){this.template=t,this.defaults=O({},a.defaults,e),this.urlParams={}}return r.prototype={setUrlParams:function(n,i,t){var o,r,a=this,s=t||a.template,e="",l=a.urlParams={};P(s.split(/\W/),function(t){if("hasOwnProperty"===t)throw F("badname","hasOwnProperty is not a valid parameter name.");!new RegExp("^\\d+$").test(t)&&t&&new RegExp("(^|[^\\\\]):"+t+"(\\W|$)").test(s)&&(l[t]={isQueryParamValue:new RegExp("\\?.*=:"+t+"(?:\\W|$)").test(s)})}),s=(s=s.replace(/\\:/g,":")).replace(c,function(t){return e=t,""}),i=i||{},P(a.urlParams,function(t,e){o=i.hasOwnProperty(e)?i[e]:a.defaults[e],s=L.isDefined(o)&&null!==o?(r=t.isQueryParamValue?u(o,!0):u(o,!0).replace(/%26/gi,"&").replace(/%3D/gi,"=").replace(/%2B/gi,"+"),s.replace(new RegExp(":"+e+"(\\W|$)","g"),function(t,e){return r+e})):s.replace(new RegExp("(/?):"+e+"(\\W|$)","g"),function(t,e,n){return"/"==n.charAt(0)?n:e+n})}),a.defaults.stripTrailingSlashes&&(s=s.replace(/\/+$/,"")||"/"),s=s.replace(/\/\.(?=\w+($|\?))/,"."),n.url=e+s.replace(/\/\\\./,"/."),P(i,function(t,e){a.urlParams[e]||(n.params=n.params||{},n.params[e]=t)})}},function e(n,k,i,t){var C=new r(n,t);function S(t){return t.resource}function T(t){j(t||{},this)}return i=O({},a.defaults.actions,i),T.prototype.toJSON=function(){var t=O({},this);return delete t.$promise,delete t.$resolved,t},P(i,function(b,w){var x=/^(POST|PUT|PATCH)$/i.test(b.method),$=b.timeout,_=L.isDefined(b.cancellable)?b.cancellable:t&&L.isDefined(t.cancellable)?t.cancellable:a.defaults.cancellable;$&&!L.isNumber($)&&(o.debug("ngResource:\n  Only numeric values are allowed as `timeout`.\n  Promises are not supported in $resource, because the same value would be used for multiple requests. If you are looking for a way to cancel requests, you should use the `cancellable` option."),delete b.timeout,$=null),T[w]=function(t,e,n,i){var o,r,a,s={};switch(arguments.length){case 4:a=i,r=n;case 3:case 2:if(!R(e)){s=t,o=e,r=n;break}if(R(t)){r=t,a=e;break}r=e,a=n;case 1:R(t)?r=t:x?o=t:s=t;break;case 0:break;default:throw F("badargs","Expected up to 4 arguments [params, data, success, error], got {0} arguments",arguments.length)}var l,u,c,p,h,d=this instanceof T,f=d?o:b.isArray?[]:new T(o),g={},m=b.interceptor&&b.interceptor.response||S,v=b.interceptor&&b.interceptor.responseError||void 0;P(b,function(t,e){switch(e){default:g[e]=I(t);break;case"params":case"isArray":case"interceptor":case"cancellable":}}),!d&&_&&(l=D.defer(),g.timeout=l.promise,$&&(u=M(l.resolve,$))),x&&(g.data=o),C.setUrlParams(g,O({},(c=o,p=b.params||{},h={},p=O({},k,p),P(p,function(t,e){R(t)&&(t=t(c)),h[e]=t&&t.charAt&&"@"==t.charAt(0)?N(c,t.substr(1)):t}),h),s),b.url);var y=A(g).then(function(t){var e=t.data;if(e){if(L.isArray(e)!==!!b.isArray)throw F("badcfg","Error in resource configuration for action `{0}`. Expected response to contain an {1} but got an {2} (Request: {3} {4})",w,b.isArray?"array":"object",L.isArray(e)?"array":"object",g.method,g.url);if(b.isArray)f.length=0,P(e,function(t){"object"==typeof t?f.push(new T(t)):f.push(t)});else{var n=f.$promise;j(e,f),f.$promise=n}}return t.resource=f,t},function(t){return(a||E)(t),D.reject(t)});return y.finally(function(){f.$resolved=!0,!d&&_&&(f.$cancelRequest=L.noop,M.cancel(u),l=u=g.timeout=null)}),y=y.then(function(t){var e=m(t);return(r||E)(e,t.headers),e},v),d?y:(f.$promise=y,f.$resolved=!1,_&&(f.$cancelRequest=l.resolve),f)},T.prototype["$"+w]=function(t,e,n){R(t)&&(n=e,e=t,t={});var i=T[w].call(this,t,this,e,n);return i.$promise||i}}),T.bind=function(t){return e(n,O({},k,t),i)},T}}]})}(window,window.angular),function(t,u){"use strict";function e(t,s,e){var l=e.baseHref(),i=t[0];return function(t,e,n){i.cookie=function(t,e,n){var i,o;o=(n=n||{}).expires,i=u.isDefined(n.path)?n.path:l,u.isUndefined(e)&&(o="Thu, 01 Jan 1970 00:00:00 GMT",e=""),u.isString(o)&&(o=new Date(o));var r=encodeURIComponent(t)+"="+encodeURIComponent(e);r+=i?";path="+i:"",r+=n.domain?";domain="+n.domain:"",r+=o?";expires="+o.toUTCString():"";var a=(r+=n.secure?";secure":"").length+1;return 4096<a&&s.warn("Cookie '"+t+"' possibly not set or overflowed because it was too large ("+a+" > 4096 bytes)!"),r}(t,e,n)}}u.module("ngCookies",["ng"]).provider("$cookies",[function(){var e=this.defaults={};function o(t){return t?u.extend({},e,t):e}this.$get=["$$cookieReader","$$cookieWriter",function(e,i){return{get:function(t){return e()[t]},getObject:function(t){var e=this.get(t);return e?u.fromJson(e):e},getAll:function(){return e()},put:function(t,e,n){i(t,e,o(n))},putObject:function(t,e,n){this.put(t,u.toJson(e),n)},remove:function(t,e){i(t,void 0,o(e))}}}]}]),u.module("ngCookies").factory("$cookieStore",["$cookies",function(n){return{get:function(t){return n.getObject(t)},put:function(t,e){n.putObject(t,e)},remove:function(t){n.remove(t)}}}]),e.$inject=["$document","$log","$browser"],u.module("ngCookies").provider("$$cookieWriter",function(){this.$get=e})}(window,window.angular),function(){var Ir,Rr="4.15.0",Lr=200,Fr="Expected a function",Nr="__lodash_hash_undefined__",jr="__lodash_placeholder__",Br=1,Ur=2,zr=4,Hr=8,Vr=16,qr=32,Wr=64,Gr=128,Yr=256,Kr=512,Zr=1,Xr=2,Jr=30,Qr="...",ta=150,ea=16,na=1,ia=2,oa=3,ra=1/0,aa=9007199254740991,sa=17976931348623157e292,la=NaN,ua=4294967295,ca=ua-1,pa=ua>>>1,ha=[["ary",Gr],["bind",Br],["bindKey",Ur],["curry",Hr],["curryRight",Vr],["flip",Kr],["partial",qr],["partialRight",Wr],["rearg",Yr]],da="[object Arguments]",fa="[object Array]",ga="[object Boolean]",ma="[object Date]",va="[object Error]",ya="[object Function]",ba="[object GeneratorFunction]",wa="[object Map]",xa="[object Number]",$a="[object Object]",_a="[object Promise]",ka="[object RegExp]",Ca="[object Set]",Sa="[object String]",Ta="[object Symbol]",Aa="[object WeakMap]",Da="[object WeakSet]",Ma="[object ArrayBuffer]",Ea="[object DataView]",Pa="[object Float32Array]",Oa="[object Float64Array]",Ia="[object Int8Array]",Ra="[object Int16Array]",La="[object Int32Array]",Fa="[object Uint8Array]",Na="[object Uint8ClampedArray]",ja="[object Uint16Array]",Ba="[object Uint32Array]",Ua=/\b__p \+= '';/g,za=/\b(__p \+=) '' \+/g,Ha=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Va=/&(?:amp|lt|gt|quot|#39|#96);/g,qa=/[&<>"'`]/g,Wa=RegExp(Va.source),Ga=RegExp(qa.source),Ya=/<%-([\s\S]+?)%>/g,Ka=/<%([\s\S]+?)%>/g,Za=/<%=([\s\S]+?)%>/g,Xa=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Ja=/^\w*$/,Qa=/^\./,ts=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,es=/[\\^$.*+?()[\]{}|]/g,ns=RegExp(es.source),is=/^\s+|\s+$/g,os=/^\s+/,rs=/\s+$/,as=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,ss=/\{\n\/\* \[wrapped with (.+)\] \*/,ls=/,? & /,us=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,cs=/\\(\\)?/g,ps=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,hs=/\w*$/,ds=/^0x/i,fs=/^[-+]0x[0-9a-f]+$/i,gs=/^0b[01]+$/i,ms=/^\[object .+?Constructor\]$/,vs=/^0o[0-7]+$/i,ys=/^(?:0|[1-9]\d*)$/,bs=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,ws=/($^)/,xs=/['\n\r\u2028\u2029\\]/g,t="\\ud800-\\udfff",e="\\u0300-\\u036f\\ufe20-\\ufe23",n="\\u20d0-\\u20f0",i="\\u2700-\\u27bf",o="a-z\\xdf-\\xf6\\xf8-\\xff",r="A-Z\\xc0-\\xd6\\xd8-\\xde",a="\\ufe0e\\ufe0f",s="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",l="["+t+"]",u="["+s+"]",c="["+e+n+"]",p="\\d+",h="["+i+"]",d="["+o+"]",f="[^"+t+s+p+i+o+r+"]",g="\\ud83c[\\udffb-\\udfff]",m="[^"+t+"]",v="(?:\\ud83c[\\udde6-\\uddff]){2}",y="[\\ud800-\\udbff][\\udc00-\\udfff]",b="["+r+"]",w="(?:"+d+"|"+f+")",x="(?:"+b+"|"+f+")",$="(?:['](?:d|ll|m|re|s|t|ve))?",_="(?:['](?:D|LL|M|RE|S|T|VE))?",k="(?:"+c+"|"+g+")"+"?",C="["+a+"]?",S=C+k+("(?:\\u200d(?:"+[m,v,y].join("|")+")"+C+k+")*"),T="(?:"+[h,v,y].join("|")+")"+S,A="(?:"+[m+c+"?",c,v,y,l].join("|")+")",$s=RegExp("[']","g"),_s=RegExp(c,"g"),D=RegExp(g+"(?="+g+")|"+A+S,"g"),ks=RegExp([b+"?"+d+"+"+$+"(?="+[u,b,"$"].join("|")+")",x+"+"+_+"(?="+[u,b+w,"$"].join("|")+")",b+"?"+w+"+"+$,b+"+"+_,p,T].join("|"),"g"),M=RegExp("[\\u200d"+t+e+n+a+"]"),Cs=/[a-z][A-Z]|[A-Z]{2,}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Ss=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Ts=-1,As={};As[Pa]=As[Oa]=As[Ia]=As[Ra]=As[La]=As[Fa]=As[Na]=As[ja]=As[Ba]=!0,As[da]=As[fa]=As[Ma]=As[ga]=As[Ea]=As[ma]=As[va]=As[ya]=As[wa]=As[xa]=As[$a]=As[ka]=As[Ca]=As[Sa]=As[Aa]=!1;var Ds={};Ds[da]=Ds[fa]=Ds[Ma]=Ds[Ea]=Ds[ga]=Ds[ma]=Ds[Pa]=Ds[Oa]=Ds[Ia]=Ds[Ra]=Ds[La]=Ds[wa]=Ds[xa]=Ds[$a]=Ds[ka]=Ds[Ca]=Ds[Sa]=Ds[Ta]=Ds[Fa]=Ds[Na]=Ds[ja]=Ds[Ba]=!0,Ds[va]=Ds[ya]=Ds[Aa]=!1;var E={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Ms=parseFloat,Es=parseInt,P="object"==typeof global&&global&&global.Object===Object&&global,O="object"==typeof self&&self&&self.Object===Object&&self,Ps=P||O||Function("return this")(),I="object"==typeof exports&&exports&&!exports.nodeType&&exports,R=I&&"object"==typeof module&&module&&!module.nodeType&&module,Os=R&&R.exports===I,L=Os&&P.process,F=function(){try{return L&&L.binding("util")}catch(t){}}(),Is=F&&F.isArrayBuffer,Rs=F&&F.isDate,Ls=F&&F.isMap,Fs=F&&F.isRegExp,Ns=F&&F.isSet,js=F&&F.isTypedArray;function Bs(t,e){return t.set(e[0],e[1]),t}function Us(t,e){return t.add(e),t}function zs(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}function Hs(t,e,n,i){for(var o=-1,r=t?t.length:0;++o<r;){var a=t[o];e(i,a,n(a),t)}return i}function Vs(t,e){for(var n=-1,i=t?t.length:0;++n<i&&!1!==e(t[n],n,t););return t}function qs(t,e){for(var n=t?t.length:0;n--&&!1!==e(t[n],n,t););return t}function Ws(t,e){for(var n=-1,i=t?t.length:0;++n<i;)if(!e(t[n],n,t))return!1;return!0}function Gs(t,e){for(var n=-1,i=t?t.length:0,o=0,r=[];++n<i;){var a=t[n];e(a,n,t)&&(r[o++]=a)}return r}function Ys(t,e){return!!(t?t.length:0)&&-1<il(t,e,0)}function Ks(t,e,n){for(var i=-1,o=t?t.length:0;++i<o;)if(n(e,t[i]))return!0;return!1}function Zs(t,e){for(var n=-1,i=t?t.length:0,o=Array(i);++n<i;)o[n]=e(t[n],n,t);return o}function Xs(t,e){for(var n=-1,i=e.length,o=t.length;++n<i;)t[o+n]=e[n];return t}function Js(t,e,n,i){var o=-1,r=t?t.length:0;for(i&&r&&(n=t[++o]);++o<r;)n=e(n,t[o],o,t);return n}function Qs(t,e,n,i){var o=t?t.length:0;for(i&&o&&(n=t[--o]);o--;)n=e(n,t[o],o,t);return n}function tl(t,e){for(var n=-1,i=t?t.length:0;++n<i;)if(e(t[n],n,t))return!0;return!1}var N=sl("length");function el(t,i,e){var o;return e(t,function(t,e,n){if(i(t,e,n))return o=e,!1}),o}function nl(t,e,n,i){for(var o=t.length,r=n+(i?1:-1);i?r--:++r<o;)if(e(t[r],r,t))return r;return-1}function il(t,e,n){if(e!=e)return nl(t,rl,n);for(var i=n-1,o=t.length;++i<o;)if(t[i]===e)return i;return-1}function ol(t,e,n,i){for(var o=n-1,r=t.length;++o<r;)if(i(t[o],e))return o;return-1}function rl(t){return t!=t}function al(t,e){var n=t?t.length:0;return n?ul(t,e)/n:la}function sl(e){return function(t){return null==t?Ir:t[e]}}function j(e){return function(t){return null==e?Ir:e[t]}}function ll(t,i,o,r,e){return e(t,function(t,e,n){o=r?(r=!1,t):i(o,t,e,n)}),o}function ul(t,e){for(var n,i=-1,o=t.length;++i<o;){var r=e(t[i]);r!==Ir&&(n=n===Ir?r:n+r)}return n}function cl(t,e){for(var n=-1,i=Array(t);++n<t;)i[n]=e(n);return i}function pl(e){return function(t){return e(t)}}function hl(e,t){return Zs(t,function(t){return e[t]})}function dl(t,e){return t.has(e)}function fl(t,e){for(var n=-1,i=t.length;++n<i&&-1<il(e,t[n],0););return n}function gl(t,e){for(var n=t.length;n--&&-1<il(e,t[n],0););return n}var ml=j({"":"A","":"A","":"A","":"A","":"A","":"A","":"a","":"a","":"a","":"a","":"a","":"a","":"C","":"c","":"D","":"d","":"E","":"E","":"E","":"E","":"e","":"e","":"e","":"e","":"I","":"I","":"I","":"I","":"i","":"i","":"i","":"i","":"N","":"n","":"O","":"O","":"O","":"O","":"O","":"O","":"o","":"o","":"o","":"o","":"o","":"o","":"U","":"U","":"U","":"U","":"u","":"u","":"u","":"u","":"Y","":"y","":"y","":"Ae","":"ae","":"Th","":"th","":"ss","":"A","":"A","":"A","":"a","":"a","":"a","":"C","":"C","":"C","":"C","":"c","":"c","":"c","":"c","":"D","":"D","":"d","":"d","":"E","":"E","":"E","":"E","":"E","":"e","":"e","":"e","":"e","":"e","":"G","":"G","":"G","":"G","":"g","":"g","":"g","":"g","":"H","":"H","":"h","":"h","":"I","":"I","":"I","":"I","":"I","":"i","":"i","":"i","":"i","":"i","":"J","":"j","":"K","":"k","":"k","":"L","":"L","":"L","":"L","":"L","":"l","":"l","":"l","":"l","":"l","":"N","":"N","":"N","":"N","":"n","":"n","":"n","":"n","":"O","":"O","":"O","":"o","":"o","":"o","":"R","":"R","":"R","":"r","":"r","":"r","":"S","":"S","":"S","":"S","":"s","":"s","":"s","":"s","":"T","":"T","":"T","":"t","":"t","":"t","":"U","":"U","":"U","":"U","":"U","":"U","":"u","":"u","":"u","":"u","":"u","":"u","":"W","":"w","":"Y","":"y","":"Y","":"Z","":"Z","":"Z","":"z","":"z","":"z","":"IJ","":"ij","":"Oe","":"oe","":"'n","":"ss"}),vl=j({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","`":"&#96;"});function yl(t){return"\\"+E[t]}function bl(t){return M.test(t)}function wl(t){var e=!1;if(null!=t&&"function"!=typeof t.toString)try{e=!!(t+"")}catch(t){}return e}function xl(t){var n=-1,i=Array(t.size);return t.forEach(function(t,e){i[++n]=[e,t]}),i}function $l(e,n){return function(t){return e(n(t))}}function _l(t,e){for(var n=-1,i=t.length,o=0,r=[];++n<i;){var a=t[n];a!==e&&a!==jr||(t[n]=jr,r[o++]=n)}return r}function kl(t){var e=-1,n=Array(t.size);return t.forEach(function(t){n[++e]=t}),n}function Cl(t){return bl(t)?function(t){var e=D.lastIndex=0;for(;D.test(t);)e++;return e}(t):N(t)}function Sl(t){return bl(t)?t.match(D)||[]:t.split("")}var Tl=j({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'","&#96;":"`"});var Al=function t(e){var n,i,o,A=(e=e?Al.defaults(Ps.Object(),e,Al.pick(Ps,Ss)):Ps).Array,r=e.Date,a=e.Error,m=e.Function,s=e.Math,b=e.Object,v=e.RegExp,l=e.String,D=e.TypeError,u=A.prototype,c=m.prototype,p=b.prototype,h=e["__core-js_shared__"],d=(n=/[^.]+$/.exec(h&&h.keys&&h.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"",f=c.toString,w=p.hasOwnProperty,g=0,y=f.call(b),x=p.toString,$=Ps._,_=v("^"+f.call(w).replace(es,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),k=Os?e.Buffer:Ir,C=e.Symbol,S=e.Uint8Array,T=$l(b.getPrototypeOf,b),M=C?C.iterator:Ir,E=b.create,P=p.propertyIsEnumerable,O=u.splice,I=C?C.isConcatSpreadable:Ir,R=e.clearTimeout!==Ps.clearTimeout&&e.clearTimeout,L=r&&r.now!==Ps.Date.now&&r.now,F=e.setTimeout!==Ps.setTimeout&&e.setTimeout,N=s.ceil,j=s.floor,B=b.getOwnPropertySymbols,U=k?k.isBuffer:Ir,z=e.isFinite,H=u.join,V=$l(b.keys,b),q=s.max,W=s.min,G=e.parseInt,Y=s.random,K=u.reverse,Z=_n(e,"DataView"),X=_n(e,"Map"),J=_n(e,"Promise"),Q=_n(e,"Set"),tt=_n(e,"WeakMap"),et=_n(b,"create"),nt=(i=_n(b,"defineProperty"),(o=_n.name)&&2<o.length?i:Ir),it=tt&&new tt,ot=!P.call({valueOf:1},"valueOf"),rt={},at=Wn(Z),st=Wn(X),lt=Wn(J),ut=Wn(Q),ct=Wn(tt),pt=C?C.prototype:Ir,ht=pt?pt.valueOf:Ir,dt=pt?pt.toString:Ir;function ft(t){if(uo(t)&&!Ji(t)&&!(t instanceof vt)){if(t instanceof mt)return t;if(w.call(t,"__wrapped__"))return Gn(t)}return new mt(t)}function gt(){}function mt(t,e){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!e,this.__index__=0,this.__values__=Ir}function vt(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=ua,this.__views__=[]}function yt(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}function bt(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}function wt(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}function xt(t){var e=-1,n=t?t.length:0;for(this.__data__=new wt;++e<n;)this.add(t[e])}function $t(t){this.__data__=new bt(t)}function _t(t,e){var n=Ji(t)||Xi(t)?cl(t.length,l):[],i=n.length,o=!!i;for(var r in t)!e&&!w.call(t,r)||o&&("length"==r||Dn(r,i))||n.push(r);return n}function kt(t,e,n,i){return t===Ir||Yi(t,p[n])&&!w.call(i,n)?e:t}function Ct(t,e,n){(n===Ir||Yi(t[e],n))&&("number"!=typeof e||n!==Ir||e in t)||(t[e]=n)}function St(t,e,n){var i=t[e];w.call(t,e)&&Yi(i,n)&&(n!==Ir||e in t)||(t[e]=n)}function Tt(t,e){for(var n=t.length;n--;)if(Yi(t[n][0],e))return n;return-1}function At(t,i,o,r){return Ft(t,function(t,e,n){i(r,t,o(t),n)}),r}function Dt(t,e){return t&&We(e,Bo(e),t)}function Mt(t,e){for(var n=-1,i=null==t,o=e.length,r=A(o);++n<o;)r[n]=i?Ir:Ro(t,e[n]);return r}function Et(t,e,n){return t==t&&(n!==Ir&&(t=t<=n?t:n),e!==Ir&&(t=e<=t?t:e)),t}function Pt(n,i,o,r,t,e,a){var s;if(r&&(s=e?r(n,t,e,a):r(n)),s!==Ir)return s;if(!lo(n))return n;var l,u,c,p,h,d,f=Ji(n);if(f){if(h=(p=n).length,d=p.constructor(h),h&&"string"==typeof p[0]&&w.call(p,"index")&&(d.index=p.index,d.input=p.input),s=d,!i)return qe(n,s)}else{var g=Sn(n),m=g==ya||g==ba;if(no(n))return function(t,e){if(e)return t.slice();var n=new t.constructor(t.length);return t.copy(n),n}(n,i);if(g==$a||g==da||m&&!e){if(wl(n))return e?n:{};if(s="function"!=typeof(c=m?{}:n).constructor||In(c)?{}:It(T(c)),!i)return u=Dt(s,l=n),We(l,kn(l),u)}else{if(!Ds[g])return e?n:{};s=function(t,e,n,i){var o,r,a,s,l,u,c,p,h,d,f,g=t.constructor;switch(e){case Ma:return Ue(t);case ga:case ma:return new g(+t);case Ea:return d=t,f=i?Ue(d.buffer):d.buffer,new d.constructor(f,d.byteOffset,d.byteLength);case Pa:case Oa:case Ia:case Ra:case La:case Fa:case Na:case ja:case Ba:return p=t,h=i?Ue(p.buffer):p.buffer,new p.constructor(h,p.byteOffset,p.length);case wa:return u=t,c=n,Js(i?c(xl(u),!0):xl(u),Bs,new u.constructor);case xa:case Sa:return new g(t);case ka:return(l=new(s=t).constructor(s.source,hs.exec(s))).lastIndex=s.lastIndex,l;case Ca:return r=t,a=n,Js(i?a(kl(r),!0):kl(r),Us,new r.constructor);case Ta:return o=t,ht?b(ht.call(o)):{}}}(n,g,Pt,i)}}a||(a=new $t);var v=a.get(n);if(v)return v;if(a.set(n,s),!f)var y=o?Kt(n,Bo,kn):Bo(n);return Vs(y||n,function(t,e){y&&(t=n[e=t]),St(s,e,Pt(t,i,o,r,e,n,a))}),s}function Ot(t,e,n){var i=n.length;if(null==t)return!i;for(t=b(t);i--;){var o=n[i],r=e[o],a=t[o];if(a===Ir&&!(o in t)||!r(a))return!1}return!0}function It(t){return lo(t)?E(t):{}}function Rt(t,e,n){if("function"!=typeof t)throw new D(Fr);return zn(function(){t.apply(Ir,n)},e)}function Lt(t,e,n,i){var o=-1,r=Ys,a=!0,s=t.length,l=[],u=e.length;if(!s)return l;n&&(e=Zs(e,pl(n))),i?(r=Ks,a=!1):e.length>=Lr&&(r=dl,a=!1,e=new xt(e));t:for(;++o<s;){var c=t[o],p=n?n(c):c;if(c=i||0!==c?c:0,a&&p==p){for(var h=u;h--;)if(e[h]===p)continue t;l.push(c)}else r(e,p,i)||l.push(c)}return l}ft.templateSettings={escape:Ya,evaluate:Ka,interpolate:Za,variable:"",imports:{_:ft}},(ft.prototype=gt.prototype).constructor=ft,(mt.prototype=It(gt.prototype)).constructor=mt,(vt.prototype=It(gt.prototype)).constructor=vt,yt.prototype.clear=function(){this.__data__=et?et(null):{}},yt.prototype.delete=function(t){return this.has(t)&&delete this.__data__[t]},yt.prototype.get=function(t){var e=this.__data__;if(et){var n=e[t];return n===Nr?Ir:n}return w.call(e,t)?e[t]:Ir},yt.prototype.has=function(t){var e=this.__data__;return et?e[t]!==Ir:w.call(e,t)},yt.prototype.set=function(t,e){return this.__data__[t]=et&&e===Ir?Nr:e,this},bt.prototype.clear=function(){this.__data__=[]},bt.prototype.delete=function(t){var e=this.__data__,n=Tt(e,t);return!(n<0||(n==e.length-1?e.pop():O.call(e,n,1),0))},bt.prototype.get=function(t){var e=this.__data__,n=Tt(e,t);return n<0?Ir:e[n][1]},bt.prototype.has=function(t){return-1<Tt(this.__data__,t)},bt.prototype.set=function(t,e){var n=this.__data__,i=Tt(n,t);return i<0?n.push([t,e]):n[i][1]=e,this},wt.prototype.clear=function(){this.__data__={hash:new yt,map:new(X||bt),string:new yt}},wt.prototype.delete=function(t){return xn(this,t).delete(t)},wt.prototype.get=function(t){return xn(this,t).get(t)},wt.prototype.has=function(t){return xn(this,t).has(t)},wt.prototype.set=function(t,e){return xn(this,t).set(t,e),this},xt.prototype.add=xt.prototype.push=function(t){return this.__data__.set(t,Nr),this},xt.prototype.has=function(t){return this.__data__.has(t)},$t.prototype.clear=function(){this.__data__=new bt},$t.prototype.delete=function(t){return this.__data__.delete(t)},$t.prototype.get=function(t){return this.__data__.get(t)},$t.prototype.has=function(t){return this.__data__.has(t)},$t.prototype.set=function(t,e){var n=this.__data__;if(n instanceof bt){var i=n.__data__;if(!X||i.length<Lr-1)return i.push([t,e]),this;n=this.__data__=new wt(i)}return n.set(t,e),this};var Ft=Ke(qt),Nt=Ke(Wt,!0);function jt(t,i){var o=!0;return Ft(t,function(t,e,n){return o=!!i(t,e,n)}),o}function Bt(t,e,n){for(var i=-1,o=t.length;++i<o;){var r=t[i],a=e(r);if(null!=a&&(s===Ir?a==a&&!vo(a):n(a,s)))var s=a,l=r}return l}function Ut(t,i){var o=[];return Ft(t,function(t,e,n){i(t,e,n)&&o.push(t)}),o}function zt(t,e,n,i,o){var r=-1,a=t.length;for(n||(n=An),o||(o=[]);++r<a;){var s=t[r];0<e&&n(s)?1<e?zt(s,e-1,n,i,o):Xs(o,s):i||(o[o.length]=s)}return o}var Ht=Ze(),Vt=Ze(!0);function qt(t,e){return t&&Ht(t,e,Bo)}function Wt(t,e){return t&&Vt(t,e,Bo)}function Gt(e,t){return Gs(t,function(t){return ro(e[t])})}function Yt(t,e){for(var n=0,i=(e=En(e,t)?[e]:Ne(e)).length;null!=t&&n<i;)t=t[qn(e[n++])];return n&&n==i?t:Ir}function Kt(t,e,n){var i=e(t);return Ji(t)?i:Xs(i,n(t))}function Zt(t,e){return e<t}function Xt(t,e){return null!=t&&w.call(t,e)}function Jt(t,e){return null!=t&&e in b(t)}function Qt(t,e,n){for(var i=n?Ks:Ys,o=t[0].length,r=t.length,a=r,s=A(r),l=1/0,u=[];a--;){var c=t[a];a&&e&&(c=Zs(c,pl(e))),l=W(c.length,l),s[a]=!n&&(e||120<=o&&120<=c.length)?new xt(a&&c):Ir}c=t[0];var p=-1,h=s[0];t:for(;++p<o&&u.length<l;){var d=c[p],f=e?e(d):d;if(d=n||0!==d?d:0,!(h?dl(h,f):i(u,f,n))){for(a=r;--a;){var g=s[a];if(!(g?dl(g,f):i(t[a],f,n)))continue t}h&&h.push(f),u.push(d)}}return u}function te(t,e,n){En(e,t)||(t=Nn(t,e=Ne(e)),e=ii(e));var i=null==t?t:t[qn(e)];return null==i?Ir:zs(i,t,n)}function ee(t,e,n,i,o){return t===e||(null==t||null==e||!lo(t)&&!uo(e)?t!=t&&e!=e:function(t,e,n,i,o,r){var a=Ji(t),s=Ji(e),l=fa,u=fa;a||(l=(l=Sn(t))==da?$a:l),s||(u=(u=Sn(e))==da?$a:u);var c=l==$a&&!wl(t),p=u==$a&&!wl(e),h=l==u;if(h&&!c)return r||(r=new $t),a||yo(t)?gn(t,e,n,i,o,r):function(t,e,n,i,o,r,a){switch(n){case Ea:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case Ma:return!(t.byteLength!=e.byteLength||!i(new S(t),new S(e)));case ga:case ma:case xa:return Yi(+t,+e);case va:return t.name==e.name&&t.message==e.message;case ka:case Sa:return t==e+"";case wa:var s=xl;case Ca:var l=r&Xr;if(s||(s=kl),t.size!=e.size&&!l)return!1;var u=a.get(t);if(u)return u==e;r|=Zr,a.set(t,e);var c=gn(s(t),s(e),i,o,r,a);return a.delete(t),c;case Ta:if(ht)return ht.call(t)==ht.call(e)}return!1}(t,e,l,n,i,o,r);if(!(o&Xr)){var d=c&&w.call(t,"__wrapped__"),f=p&&w.call(e,"__wrapped__");if(d||f){var g=d?t.value():t,m=f?e.value():e;return r||(r=new $t),n(g,m,i,o,r)}}return!!h&&(r||(r=new $t),function(t,e,n,i,o,r){var a=o&Xr,s=Bo(t),l=s.length,u=Bo(e).length;if(l!=u&&!a)return!1;for(var c=l;c--;){var p=s[c];if(!(a?p in e:w.call(e,p)))return!1}var h=r.get(t);if(h&&r.get(e))return h==e;var d=!0;r.set(t,e),r.set(e,t);for(var f=a;++c<l;){p=s[c];var g=t[p],m=e[p];if(i)var v=a?i(m,g,p,e,t,r):i(g,m,p,t,e,r);if(!(v===Ir?g===m||n(g,m,i,o,r):v)){d=!1;break}f||(f="constructor"==p)}if(d&&!f){var y=t.constructor,b=e.constructor;y!=b&&"constructor"in t&&"constructor"in e&&!("function"==typeof y&&y instanceof y&&"function"==typeof b&&b instanceof b)&&(d=!1)}return r.delete(t),r.delete(e),d}(t,e,n,i,o,r))}(t,e,ee,n,i,o))}function ne(t,e,n,i){var o=n.length,r=o,a=!i;if(null==t)return!r;for(t=b(t);o--;){var s=n[o];if(a&&s[2]?s[1]!==t[s[0]]:!(s[0]in t))return!1}for(;++o<r;){var l=(s=n[o])[0],u=t[l],c=s[1];if(a&&s[2]){if(u===Ir&&!(l in t))return!1}else{var p=new $t;if(i)var h=i(u,c,l,t,e,p);if(!(h===Ir?ee(c,u,i,Zr|Xr,p):h))return!1}}return!0}function ie(t){return!(!lo(t)||(e=t,d&&d in e))&&(ro(t)||wl(t)?_:ms).test(Wn(t));var e}function oe(t){return"function"==typeof t?t:null==t?hr:"object"==typeof t?Ji(t)?ce(t[0],t[1]):ue(t):xr(t)}function re(t){if(!In(t))return V(t);var e=[];for(var n in b(t))w.call(t,n)&&"constructor"!=n&&e.push(n);return e}function ae(t){if(!lo(t))return function(t){var e=[];if(null!=t)for(var n in b(t))e.push(n);return e}(t);var e=In(t),n=[];for(var i in t)("constructor"!=i||!e&&w.call(t,i))&&n.push(i);return n}function se(t,e){return t<e}function le(t,i){var o=-1,r=to(t)?A(t.length):[];return Ft(t,function(t,e,n){r[++o]=i(t,e,n)}),r}function ue(e){var n=$n(e);return 1==n.length&&n[0][2]?Ln(n[0][0],n[0][1]):function(t){return t===e||ne(t,e,n)}}function ce(n,i){return En(n)&&Rn(i)?Ln(qn(n),i):function(t){var e=Ro(t,n);return e===Ir&&e===i?Lo(t,n):ee(i,e,Ir,Zr|Xr)}}function pe(i,o,r,a,s){if(i!==o){if(!Ji(o)&&!yo(o))var l=ae(o);Vs(l||o,function(t,e){if(l&&(t=o[e=t]),lo(t))s||(s=new $t),function(t,e,n,i,o,r,a){var s=t[n],l=e[n],u=a.get(l);if(u)return Ct(t,n,u);var c=r?r(s,l,n+"",t,e,a):Ir,p=c===Ir;p&&(Ji(c=l)||yo(l)?c=Ji(s)?s:eo(s)?qe(s):Pt(l,!(p=!1)):ho(l)||Xi(l)?c=Xi(s)?So(s):!lo(s)||i&&ro(s)?Pt(l,!(p=!1)):s:p=!1),p&&(a.set(l,c),o(c,l,i,r,a),a.delete(l)),Ct(t,n,c)}(i,o,e,r,pe,a,s);else{var n=a?a(i[e],t,e+"",i,o,s):Ir;n===Ir&&(n=t),Ct(i,e,n)}})}}function he(t,e){var n=t.length;if(n)return Dn(e+=e<0?n:0,n)?t[e]:Ir}function de(t,i,n){var o=-1;return i=Zs(i.length?i:[hr],pl(wn())),function(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}(le(t,function(e,t,n){return{criteria:Zs(i,function(t){return t(e)}),index:++o,value:e}}),function(t,e){return function(t,e,n){for(var i=-1,o=t.criteria,r=e.criteria,a=o.length,s=n.length;++i<a;){var l=ze(o[i],r[i]);if(l){if(s<=i)return l;var u=n[i];return l*("desc"==u?-1:1)}}return t.index-e.index}(t,e,n)})}function fe(n,t){return ge(n=b(n),t,function(t,e){return e in n})}function ge(t,e,n){for(var i=-1,o=e.length,r={};++i<o;){var a=e[i],s=t[a];n(s,a)&&(r[a]=s)}return r}function me(t,e,n,i){var o=i?ol:il,r=-1,a=e.length,s=t;for(t===e&&(e=qe(e)),n&&(s=Zs(t,pl(n)));++r<a;)for(var l=0,u=e[r],c=n?n(u):u;-1<(l=o(s,c,l,i));)s!==t&&O.call(s,l,1),O.call(t,l,1);return t}function ve(t,e){for(var n=t?e.length:0,i=n-1;n--;){var o=e[n];if(n==i||o!==r){var r=o;if(Dn(o))O.call(t,o,1);else if(En(o,t))delete t[qn(o)];else{var a=Ne(o),s=Nn(t,a);null!=s&&delete s[qn(ii(a))]}}}return t}function ye(t,e){return t+j(Y()*(e-t+1))}function be(t,e){var n="";if(!t||e<1||aa<e)return n;for(;e%2&&(n+=t),(e=j(e/2))&&(t+=t),e;);return n}function we(r,a){return a=q(a===Ir?r.length-1:a,0),function(){for(var t=arguments,e=-1,n=q(t.length-a,0),i=A(n);++e<n;)i[e]=t[a+e];e=-1;for(var o=A(a+1);++e<a;)o[e]=t[e];return o[a]=i,zs(r,this,o)}}function xe(t,e,n,i){if(!lo(t))return t;for(var o=-1,r=(e=En(e,t)?[e]:Ne(e)).length,a=r-1,s=t;null!=s&&++o<r;){var l=qn(e[o]),u=n;if(o!=a){var c=s[l];(u=i?i(c,l,s):Ir)===Ir&&(u=lo(c)?c:Dn(e[o+1])?[]:{})}St(s,l,u),s=s[l]}return t}var $e=it?function(t,e){return it.set(t,e),t}:hr;function _e(t,e,n){var i=-1,o=t.length;e<0&&(e=o<-e?0:o+e),(n=o<n?o:n)<0&&(n+=o),o=n<e?0:n-e>>>0,e>>>=0;for(var r=A(o);++i<o;)r[i]=t[i+e];return r}function ke(t,i){var o;return Ft(t,function(t,e,n){return!(o=i(t,e,n))}),!!o}function Ce(t,e,n){var i=0,o=t?t.length:i;if("number"==typeof e&&e==e&&o<=pa){for(;i<o;){var r=i+o>>>1,a=t[r];null!==a&&!vo(a)&&(n?a<=e:a<e)?i=r+1:o=r}return o}return Se(t,e,hr,n)}function Se(t,e,n,i){e=n(e);for(var o=0,r=t?t.length:0,a=e!=e,s=null===e,l=vo(e),u=e===Ir;o<r;){var c=j((o+r)/2),p=n(t[c]),h=p!==Ir,d=null===p,f=p==p,g=vo(p);if(a)var m=i||f;else m=u?f&&(i||h):s?f&&h&&(i||!d):l?f&&h&&!d&&(i||!g):!d&&!g&&(i?p<=e:p<e);m?o=c+1:r=c}return W(r,ca)}function Te(t,e){for(var n=-1,i=t.length,o=0,r=[];++n<i;){var a=t[n],s=e?e(a):a;if(!n||!Yi(s,l)){var l=s;r[o++]=0===a?0:a}}return r}function Ae(t){return"number"==typeof t?t:vo(t)?la:+t}function De(t){if("string"==typeof t)return t;if(vo(t))return dt?dt.call(t):"";var e=t+"";return"0"==e&&1/t==-ra?"-0":e}function Me(t,e,n){var i=-1,o=Ys,r=t.length,a=!0,s=[],l=s;if(n)a=!1,o=Ks;else if(Lr<=r){var u=e?null:hn(t);if(u)return kl(u);a=!1,o=dl,l=new xt}else l=e?[]:s;t:for(;++i<r;){var c=t[i],p=e?e(c):c;if(c=n||0!==c?c:0,a&&p==p){for(var h=l.length;h--;)if(l[h]===p)continue t;e&&l.push(p),s.push(c)}else o(l,p,n)||(l!==s&&l.push(p),s.push(c))}return s}function Ee(t,e,n,i){return xe(t,e,n(Yt(t,e)),i)}function Pe(t,e,n,i){for(var o=t.length,r=i?o:-1;(i?r--:++r<o)&&e(t[r],r,t););return n?_e(t,i?0:r,i?r+1:o):_e(t,i?r+1:0,i?o:r)}function Oe(t,e){var n=t;return n instanceof vt&&(n=n.value()),Js(e,function(t,e){return e.func.apply(e.thisArg,Xs([t],e.args))},n)}function Ie(t,e,n){for(var i=-1,o=t.length;++i<o;)var r=r?Xs(Lt(r,t[i],e,n),Lt(t[i],r,e,n)):t[i];return r&&r.length?Me(r,e,n):[]}function Re(t,e,n){for(var i=-1,o=t.length,r=e.length,a={};++i<o;){var s=i<r?e[i]:Ir;n(a,t[i],s)}return a}function Le(t){return eo(t)?t:[]}function Fe(t){return"function"==typeof t?t:hr}function Ne(t){return Ji(t)?t:Vn(t)}function je(t,e,n){var i=t.length;return n=n===Ir?i:n,!e&&i<=n?t:_e(t,e,n)}var Be=R||function(t){return Ps.clearTimeout(t)};function Ue(t){var e=new t.constructor(t.byteLength);return new S(e).set(new S(t)),e}function ze(t,e){if(t!==e){var n=t!==Ir,i=null===t,o=t==t,r=vo(t),a=e!==Ir,s=null===e,l=e==e,u=vo(e);if(!s&&!u&&!r&&e<t||r&&a&&l&&!s&&!u||i&&a&&l||!n&&l||!o)return 1;if(!i&&!r&&!u&&t<e||u&&n&&o&&!i&&!r||s&&n&&o||!a&&o||!l)return-1}return 0}function He(t,e,n,i){for(var o=-1,r=t.length,a=n.length,s=-1,l=e.length,u=q(r-a,0),c=A(l+u),p=!i;++s<l;)c[s]=e[s];for(;++o<a;)(p||o<r)&&(c[n[o]]=t[o]);for(;u--;)c[s++]=t[o++];return c}function Ve(t,e,n,i){for(var o=-1,r=t.length,a=-1,s=n.length,l=-1,u=e.length,c=q(r-s,0),p=A(c+u),h=!i;++o<c;)p[o]=t[o];for(var d=o;++l<u;)p[d+l]=e[l];for(;++a<s;)(h||o<r)&&(p[d+n[a]]=t[o++]);return p}function qe(t,e){var n=-1,i=t.length;for(e||(e=A(i));++n<i;)e[n]=t[n];return e}function We(t,e,n,i){n||(n={});for(var o=-1,r=e.length;++o<r;){var a=e[o],s=i?i(n[a],t[a],a,n,t):Ir;St(n,a,s===Ir?t[a]:s)}return n}function Ge(o,r){return function(t,e){var n=Ji(t)?Hs:At,i=r?r():{};return n(t,o,wn(e,2),i)}}function Ye(s){return we(function(t,e){var n=-1,i=e.length,o=1<i?e[i-1]:Ir,r=2<i?e[2]:Ir;for(o=3<s.length&&"function"==typeof o?(i--,o):Ir,r&&Mn(e[0],e[1],r)&&(o=i<3?Ir:o,i=1),t=b(t);++n<i;){var a=e[n];a&&s(t,a,n,o)}return t})}function Ke(r,a){return function(t,e){if(null==t)return t;if(!to(t))return r(t,e);for(var n=t.length,i=a?n:-1,o=b(t);(a?i--:++i<n)&&!1!==e(o[i],i,o););return t}}function Ze(l){return function(t,e,n){for(var i=-1,o=b(t),r=n(t),a=r.length;a--;){var s=r[l?a:++i];if(!1===e(o[s],s,o))break}return t}}function Xe(o){return function(t){var e=bl(t=To(t))?Sl(t):Ir,n=e?e[0]:t.charAt(0),i=e?je(e,1).join(""):t.slice(1);return n[o]()+i}}function Je(e){return function(t){return Js(ar(Jo(t).replace($s,"")),e,"")}}function Qe(i){return function(){var t=arguments;switch(t.length){case 0:return new i;case 1:return new i(t[0]);case 2:return new i(t[0],t[1]);case 3:return new i(t[0],t[1],t[2]);case 4:return new i(t[0],t[1],t[2],t[3]);case 5:return new i(t[0],t[1],t[2],t[3],t[4]);case 6:return new i(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new i(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var e=It(i.prototype),n=i.apply(e,t);return lo(n)?n:e}}function tn(a){return function(t,e,n){var i=b(t);if(!to(t)){var o=wn(e,3);t=Bo(t),e=function(t){return o(i[t],t,i)}}var r=a(t,e,n);return-1<r?i[o?t[r]:r]:Ir}}function en(l){return we(function(o){var r=(o=zt(o,1)).length,t=r,e=mt.prototype.thru;for(l&&o.reverse();t--;){var n=o[t];if("function"!=typeof n)throw new D(Fr);if(e&&!a&&"wrapper"==yn(n))var a=new mt([],!0)}for(t=a?t:r;++t<r;){var i=yn(n=o[t]),s="wrapper"==i?vn(n):Ir;a=s&&Pn(s[0])&&s[1]==(Gr|Hr|qr|Yr)&&!s[4].length&&1==s[9]?a[yn(s[0])].apply(a,s[3]):1==n.length&&Pn(n)?a[i]():a.thru(n)}return function(){var t=arguments,e=t[0];if(a&&1==t.length&&Ji(e)&&e.length>=Lr)return a.plant(e).value();for(var n=0,i=r?o[n].apply(this,t):e;++n<r;)i=o[n].call(this,i);return i}})}function nn(u,c,p,h,d,f,g,m,v,y){var b=c&Gr,w=c&Br,x=c&Ur,$=c&(Hr|Vr),_=c&Kr,k=x?Ir:Qe(u);return function t(){for(var e=arguments.length,n=A(e),i=e;i--;)n[i]=arguments[i];if($)var o=bn(t),r=function(t,e){for(var n=t.length,i=0;n--;)t[n]===e&&i++;return i}(n,o);if(h&&(n=He(n,h,d,$)),f&&(n=Ve(n,f,g,$)),e-=r,$&&e<y){var a=_l(n,o);return cn(u,c,nn,t.placeholder,p,n,a,m,v,y-e)}var s=w?p:this,l=x?s[u]:u;return e=n.length,m?n=function(t,e){for(var n=t.length,i=W(e.length,n),o=qe(t);i--;){var r=e[i];t[i]=Dn(r,n)?o[r]:Ir}return t}(n,m):_&&1<e&&n.reverse(),b&&v<e&&(n.length=v),this&&this!==Ps&&this instanceof t&&(l=k||Qe(l)),l.apply(s,n)}}function on(a,s){return function(t,e){return n=t,i=a,o=s(e),r={},qt(n,function(t,e,n){i(r,o(t),e,n)}),r;var n,i,o,r}}function rn(i,o){return function(t,e){var n;if(t===Ir&&e===Ir)return o;if(t!==Ir&&(n=t),e!==Ir){if(n===Ir)return e;e="string"==typeof t||"string"==typeof e?(t=De(t),De(e)):(t=Ae(t),Ae(e)),n=i(t,e)}return n}}function an(i){return we(function(t){return t=1==t.length&&Ji(t[0])?Zs(t[0],pl(wn())):Zs(zt(t,1),pl(wn())),we(function(e){var n=this;return i(t,function(t){return zs(t,n,e)})})})}function sn(t,e){var n=(e=e===Ir?" ":De(e)).length;if(n<2)return n?be(e,t):e;var i=be(e,N(t/Cl(e)));return bl(e)?je(Sl(i),0,t).join(""):i.slice(0,t)}function ln(i){return function(t,e,n){return n&&"number"!=typeof n&&Mn(t,e,n)&&(e=n=Ir),t=$o(t),e===Ir?(e=t,t=0):e=$o(e),function(t,e,n,i){for(var o=-1,r=q(N((e-t)/(n||1)),0),a=A(r);r--;)a[i?r:++o]=t,t+=n;return a}(t,e,n=n===Ir?t<e?1:-1:$o(n),i)}}function un(n){return function(t,e){return"string"==typeof t&&"string"==typeof e||(t=Co(t),e=Co(e)),n(t,e)}}function cn(t,e,n,i,o,r,a,s,l,u){var c=e&Hr;e|=c?qr:Wr,(e&=~(c?Wr:qr))&zr||(e&=~(Br|Ur));var p=[t,e,o,c?r:Ir,c?a:Ir,c?Ir:r,c?Ir:a,s,l,u],h=n.apply(Ir,p);return Pn(t)&&Un(h,p),h.placeholder=i,Hn(h,t,e)}function pn(t){var i=s[t];return function(t,e){if(t=Co(t),e=W(_o(e),292)){var n=(To(t)+"e").split("e");return+((n=(To(i(n[0]+"e"+(+n[1]+e)))+"e").split("e"))[0]+"e"+(+n[1]-e))}return i(t)}}var hn=Q&&1/kl(new Q([,-0]))[1]==ra?function(t){return new Q(t)}:vr;function dn(a){return function(t){var e,n,i,o,r=Sn(t);return r==wa?xl(t):r==Ca?(e=t,n=-1,i=Array(e.size),e.forEach(function(t){i[++n]=[t,t]}),i):Zs(a(o=t),function(t){return[t,o[t]]})}}function fn(t,e,n,i,o,r,a,s){var l=e&Ur;if(!l&&"function"!=typeof t)throw new D(Fr);var u=i?i.length:0;if(u||(e&=~(qr|Wr),i=o=Ir),a=a===Ir?a:q(_o(a),0),s=s===Ir?s:_o(s),u-=o?o.length:0,e&Wr){var c=i,p=o;i=o=Ir}var h,d,f,g,m,v,y,b,w,x,$,_,k,C=l?Ir:vn(t),S=[t,e,n,i,o,c,p,r,a,s];if(C&&function(t,e){var n=t[1],i=e[1],o=n|i,r=o<(Br|Ur|Gr),a=i==Gr&&n==Hr||i==Gr&&n==Yr&&t[7].length<=e[8]||i==(Gr|Yr)&&e[7].length<=e[8]&&n==Hr;if(r||a){i&Br&&(t[2]=e[2],o|=n&Br?0:zr);var s=e[3];if(s){var l=t[3];t[3]=l?He(l,s,e[4]):s,t[4]=l?_l(t[3],jr):e[4]}(s=e[5])&&(l=t[5],t[5]=l?Ve(l,s,e[6]):s,t[6]=l?_l(t[5],jr):e[6]),(s=e[7])&&(t[7]=s),i&Gr&&(t[8]=null==t[8]?e[8]:W(t[8],e[8])),null==t[9]&&(t[9]=e[9]),t[0]=e[0],t[1]=o}}(S,C),t=S[0],e=S[1],n=S[2],i=S[3],o=S[4],!(s=S[9]=null==S[9]?l?0:t.length:q(S[9]-u,0))&&e&(Hr|Vr)&&(e&=~(Hr|Vr)),e&&e!=Br)T=e==Hr||e==Vr?(y=e,b=s,w=Qe(v=t),function t(){for(var e=arguments.length,n=A(e),i=e,o=bn(t);i--;)n[i]=arguments[i];var r=e<3&&n[0]!==o&&n[e-1]!==o?[]:_l(n,o);return(e-=r.length)<b?cn(v,y,nn,t.placeholder,Ir,n,r,Ir,Ir,b-e):zs(this&&this!==Ps&&this instanceof t?w:v,this,n)}):e!=qr&&e!=(Br|qr)||o.length?nn.apply(Ir,S):(d=n,f=i,g=e&Br,m=Qe(h=t),function t(){for(var e=-1,n=arguments.length,i=-1,o=f.length,r=A(o+n),a=this&&this!==Ps&&this instanceof t?m:h;++i<o;)r[i]=f[i];for(;n--;)r[i++]=arguments[++e];return zs(a,g?d:this,r)});else var T=($=n,_=e&Br,k=Qe(x=t),function t(){return(this&&this!==Ps&&this instanceof t?k:x).apply(_?$:this,arguments)});return Hn((C?$e:Un)(T,S),t,e)}function gn(t,e,n,i,o,r){var a=o&Xr,s=t.length,l=e.length;if(s!=l&&!(a&&s<l))return!1;var u=r.get(t);if(u&&r.get(e))return u==e;var c=-1,p=!0,h=o&Zr?new xt:Ir;for(r.set(t,e),r.set(e,t);++c<s;){var d=t[c],f=e[c];if(i)var g=a?i(f,d,c,e,t,r):i(d,f,c,t,e,r);if(g!==Ir){if(g)continue;p=!1;break}if(h){if(!tl(e,function(t,e){if(!h.has(e)&&(d===t||n(d,t,i,o,r)))return h.add(e)})){p=!1;break}}else if(d!==f&&!n(d,f,i,o,r)){p=!1;break}}return r.delete(t),r.delete(e),p}function mn(t){return Kt(t,Uo,Cn)}var vn=it?function(t){return it.get(t)}:vr;function yn(t){for(var e=t.name+"",n=rt[e],i=w.call(rt,e)?n.length:0;i--;){var o=n[i],r=o.func;if(null==r||r==t)return o.name}return e}function bn(t){return(w.call(ft,"placeholder")?ft:t).placeholder}function wn(){var t=ft.iteratee||dr;return t=t===dr?oe:t,arguments.length?t(arguments[0],arguments[1]):t}function xn(t,e){var n,i,o=t.__data__;return("string"==(i=typeof(n=e))||"number"==i||"symbol"==i||"boolean"==i?"__proto__"!==n:null===n)?o["string"==typeof e?"string":"hash"]:o.map}function $n(t){for(var e=Bo(t),n=e.length;n--;){var i=e[n],o=t[i];e[n]=[i,o,Rn(o)]}return e}function _n(t,e){var n,i,o=(i=e,null==(n=t)?Ir:n[i]);return ie(o)?o:Ir}var kn=B?$l(B,b):kr,Cn=B?function(t){for(var e=[];t;)Xs(e,kn(t)),t=T(t);return e}:kr,Sn=function(t){return x.call(t)};function Tn(t,e,n){for(var i,o=-1,r=(e=En(e,t)?[e]:Ne(e)).length;++o<r;){var a=qn(e[o]);if(!(i=null!=t&&n(t,a)))break;t=t[a]}return i||!!(r=t?t.length:0)&&so(r)&&Dn(a,r)&&(Ji(t)||Xi(t))}function An(t){return Ji(t)||Xi(t)||!!(I&&t&&t[I])}function Dn(t,e){return!!(e=null==e?aa:e)&&("number"==typeof t||ys.test(t))&&-1<t&&t%1==0&&t<e}function Mn(t,e,n){if(!lo(n))return!1;var i=typeof e;return!!("number"==i?to(n)&&Dn(e,n.length):"string"==i&&e in n)&&Yi(n[e],t)}function En(t,e){if(Ji(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!vo(t))||Ja.test(t)||!Xa.test(t)||null!=e&&t in b(e)}function Pn(t){var e=yn(t),n=ft[e];if("function"!=typeof n||!(e in vt.prototype))return!1;if(t===n)return!0;var i=vn(n);return!!i&&t===i[0]}(Z&&Sn(new Z(new ArrayBuffer(1)))!=Ea||X&&Sn(new X)!=wa||J&&Sn(J.resolve())!=_a||Q&&Sn(new Q)!=Ca||tt&&Sn(new tt)!=Aa)&&(Sn=function(t){var e=x.call(t),n=e==$a?t.constructor:Ir,i=n?Wn(n):Ir;if(i)switch(i){case at:return Ea;case st:return wa;case lt:return _a;case ut:return Ca;case ct:return Aa}return e});var On=h?ro:Cr;function In(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||p)}function Rn(t){return t==t&&!lo(t)}function Ln(e,n){return function(t){return null!=t&&t[e]===n&&(n!==Ir||e in b(t))}}function Fn(t,e,n,i,o,r){return lo(t)&&lo(e)&&(r.set(e,t),pe(t,e,Ir,Fn,r),r.delete(e)),t}function Nn(t,e){return 1==e.length?t:Yt(t,_e(e,0,-1))}var jn,Bn,Un=(Bn=jn=0,function(t,e){var n=Ii(),i=ea-(n-Bn);if(Bn=n,0<i){if(++jn>=ta)return t}else jn=0;return $e(t,e)}),zn=F||function(t,e){return Ps.setTimeout(t,e)},Hn=nt?function(t,e,n){var i,o,r,a,s,l,u,c,p=e+"";return nt(t,"toString",{configurable:!0,enumerable:!1,value:ur((i=p,u=p,c=u.match(ss),s=c?c[1].split(ls):[],l=n,Vs(ha,function(t){var e="_."+t[0];l&t[1]&&!Ys(s,e)&&s.push(e)}),o=s.sort(),r=o.length,a=r-1,o[a]=(1<r?"& ":"")+o[a],o=o.join(2<r?", ":" "),i.replace(as,"{\n/* [wrapped with "+o+"] */\n")))})}:hr,Vn=zi(function(t){t=To(t);var o=[];return Qa.test(t)&&o.push(""),t.replace(ts,function(t,e,n,i){o.push(n?i.replace(cs,"$1"):e||t)}),o});function qn(t){if("string"==typeof t||vo(t))return t;var e=t+"";return"0"==e&&1/t==-ra?"-0":e}function Wn(t){if(null!=t){try{return f.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function Gn(t){if(t instanceof vt)return t.clone();var e=new mt(t.__wrapped__,t.__chain__);return e.__actions__=qe(t.__actions__),e.__index__=t.__index__,e.__values__=t.__values__,e}var Yn=we(function(t,e){return eo(t)?Lt(t,zt(e,1,eo,!0)):[]}),Kn=we(function(t,e){var n=ii(e);return eo(n)&&(n=Ir),eo(t)?Lt(t,zt(e,1,eo,!0),wn(n,2)):[]}),Zn=we(function(t,e){var n=ii(e);return eo(n)&&(n=Ir),eo(t)?Lt(t,zt(e,1,eo,!0),Ir,n):[]});function Xn(t,e,n){var i=t?t.length:0;if(!i)return-1;var o=null==n?0:_o(n);return o<0&&(o=q(i+o,0)),nl(t,wn(e,3),o)}function Jn(t,e,n){var i=t?t.length:0;if(!i)return-1;var o=i-1;return n!==Ir&&(o=_o(n),o=n<0?q(i+o,0):W(o,i-1)),nl(t,wn(e,3),o,!0)}function Qn(t){return t&&t.length?t[0]:Ir}var ti=we(function(t){var e=Zs(t,Le);return e.length&&e[0]===t[0]?Qt(e):[]}),ei=we(function(t){var e=ii(t),n=Zs(t,Le);return e===ii(n)?e=Ir:n.pop(),n.length&&n[0]===t[0]?Qt(n,wn(e,2)):[]}),ni=we(function(t){var e=ii(t),n=Zs(t,Le);return e===ii(n)?e=Ir:n.pop(),n.length&&n[0]===t[0]?Qt(n,Ir,e):[]});function ii(t){var e=t?t.length:0;return e?t[e-1]:Ir}var oi=we(ri);function ri(t,e){return t&&t.length&&e&&e.length?me(t,e):t}var ai=we(function(t,e){e=zt(e,1);var n=t?t.length:0,i=Mt(t,e);return ve(t,Zs(e,function(t){return Dn(t,n)?+t:t}).sort(ze)),i});function si(t){return t?K.call(t):t}var li=we(function(t){return Me(zt(t,1,eo,!0))}),ui=we(function(t){var e=ii(t);return eo(e)&&(e=Ir),Me(zt(t,1,eo,!0),wn(e,2))}),ci=we(function(t){var e=ii(t);return eo(e)&&(e=Ir),Me(zt(t,1,eo,!0),Ir,e)});function pi(e){if(!e||!e.length)return[];var n=0;return e=Gs(e,function(t){if(eo(t))return n=q(t.length,n),!0}),cl(n,function(t){return Zs(e,sl(t))})}function hi(t,e){if(!t||!t.length)return[];var n=pi(t);return null==e?n:Zs(n,function(t){return zs(e,Ir,t)})}var di=we(function(t,e){return eo(t)?Lt(t,e):[]}),fi=we(function(t){return Ie(Gs(t,eo))}),gi=we(function(t){var e=ii(t);return eo(e)&&(e=Ir),Ie(Gs(t,eo),wn(e,2))}),mi=we(function(t){var e=ii(t);return eo(e)&&(e=Ir),Ie(Gs(t,eo),Ir,e)}),vi=we(pi);var yi=we(function(t){var e=t.length,n=1<e?t[e-1]:Ir;return hi(t,n="function"==typeof n?(t.pop(),n):Ir)});function bi(t){var e=ft(t);return e.__chain__=!0,e}function wi(t,e){return e(t)}var xi=we(function(e){var n=(e=zt(e,1)).length,t=n?e[0]:0,i=this.__wrapped__,o=function(t){return Mt(t,e)};return!(1<n||this.__actions__.length)&&i instanceof vt&&Dn(t)?((i=i.slice(t,+t+(n?1:0))).__actions__.push({func:wi,args:[o],thisArg:Ir}),new mt(i,this.__chain__).thru(function(t){return n&&!t.length&&t.push(Ir),t})):this.thru(o)});var $i=Ge(function(t,e,n){w.call(t,n)?++t[n]:t[n]=1});var _i=tn(Xn),ki=tn(Jn);function Ci(t,e){return(Ji(t)?Vs:Ft)(t,wn(e,3))}function Si(t,e){return(Ji(t)?qs:Nt)(t,wn(e,3))}var Ti=Ge(function(t,e,n){w.call(t,n)?t[n].push(e):t[n]=[e]});var Ai=we(function(t,n,i){var o=-1,r="function"==typeof n,a=En(n),s=to(t)?A(t.length):[];return Ft(t,function(t){var e=r?n:a&&null!=t?t[n]:Ir;s[++o]=e?zs(e,t,i):te(t,n,i)}),s}),Di=Ge(function(t,e,n){t[n]=e});function Mi(t,e){return(Ji(t)?Zs:le)(t,wn(e,3))}var Ei=Ge(function(t,e,n){t[n?0:1].push(e)},function(){return[[],[]]});function Pi(t,e,n){var i=-1,o=xo(t),r=o.length,a=r-1;for(e=(n?Mn(t,e,n):e===Ir)?1:Et(_o(e),0,r);++i<e;){var s=ye(i,a),l=o[s];o[s]=o[i],o[i]=l}return o.length=e,o}var Oi=we(function(t,e){if(null==t)return[];var n=e.length;return 1<n&&Mn(t,e[0],e[1])?e=[]:2<n&&Mn(e[0],e[1],e[2])&&(e=[e[0]]),de(t,zt(e,1),[])}),Ii=L||function(){return Ps.Date.now()};function Ri(t,e,n){return e=n?Ir:e,e=t&&null==e?t.length:e,fn(t,Gr,Ir,Ir,Ir,Ir,e)}function Li(t,e){var n;if("function"!=typeof e)throw new D(Fr);return t=_o(t),function(){return 0<--t&&(n=e.apply(this,arguments)),t<=1&&(e=Ir),n}}var Fi=we(function(t,e,n){var i=Br;if(n.length){var o=_l(n,bn(Fi));i|=qr}return fn(t,i,e,n,o)}),Ni=we(function(t,e,n){var i=Br|Ur;if(n.length){var o=_l(n,bn(Ni));i|=qr}return fn(e,i,t,n,o)});function ji(i,o,t){var r,a,s,l,u,c,p=0,h=!1,d=!1,e=!0;if("function"!=typeof i)throw new D(Fr);function f(t){var e=r,n=a;return r=a=Ir,p=t,l=i.apply(n,e)}function g(t){var e=t-c;return c===Ir||o<=e||e<0||d&&s<=t-p}function m(){var t,e,n=Ii();if(g(n))return v(n);u=zn(m,(e=o-((t=n)-c),d?W(e,s-(t-p)):e))}function v(t){return u=Ir,e&&r?f(t):(r=a=Ir,l)}function n(){var t,e=Ii(),n=g(e);if(r=arguments,a=this,c=e,n){if(u===Ir)return p=t=c,u=zn(m,o),h?f(t):l;if(d)return u=zn(m,o),f(c)}return u===Ir&&(u=zn(m,o)),l}return o=Co(o)||0,lo(t)&&(h=!!t.leading,s=(d="maxWait"in t)?q(Co(t.maxWait)||0,o):s,e="trailing"in t?!!t.trailing:e),n.cancel=function(){u!==Ir&&Be(u),p=0,r=c=a=u=Ir},n.flush=function(){return u===Ir?l:v(Ii())},n}var Bi=we(function(t,e){return Rt(t,1,e)}),Ui=we(function(t,e,n){return Rt(t,Co(e)||0,n)});function zi(o,r){if("function"!=typeof o||r&&"function"!=typeof r)throw new D(Fr);var a=function(){var t=arguments,e=r?r.apply(this,t):t[0],n=a.cache;if(n.has(e))return n.get(e);var i=o.apply(this,t);return a.cache=n.set(e,i),i};return a.cache=new(zi.Cache||wt),a}function Hi(e){if("function"!=typeof e)throw new D(Fr);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}zi.Cache=wt;var Vi=we(function(i,o){var r=(o=1==o.length&&Ji(o[0])?Zs(o[0],pl(wn())):Zs(zt(o,1),pl(wn()))).length;return we(function(t){for(var e=-1,n=W(t.length,r);++e<n;)t[e]=o[e].call(this,t[e]);return zs(i,this,t)})}),qi=we(function(t,e){var n=_l(e,bn(qi));return fn(t,qr,Ir,e,n)}),Wi=we(function(t,e){var n=_l(e,bn(Wi));return fn(t,Wr,Ir,e,n)}),Gi=we(function(t,e){return fn(t,Yr,Ir,Ir,Ir,zt(e,1))});function Yi(t,e){return t===e||t!=t&&e!=e}var Ki=un(Zt),Zi=un(function(t,e){return e<=t});function Xi(t){return eo(t)&&w.call(t,"callee")&&(!P.call(t,"callee")||x.call(t)==da)}var Ji=A.isArray,Qi=Is?pl(Is):function(t){return uo(t)&&x.call(t)==Ma};function to(t){return null!=t&&so(t.length)&&!ro(t)}function eo(t){return uo(t)&&to(t)}var no=U||Cr,io=Rs?pl(Rs):function(t){return uo(t)&&x.call(t)==ma};function oo(t){return!!uo(t)&&(x.call(t)==va||"string"==typeof t.message&&"string"==typeof t.name)}function ro(t){var e=lo(t)?x.call(t):"";return e==ya||e==ba}function ao(t){return"number"==typeof t&&t==_o(t)}function so(t){return"number"==typeof t&&-1<t&&t%1==0&&t<=aa}function lo(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function uo(t){return!!t&&"object"==typeof t}var co=Ls?pl(Ls):function(t){return uo(t)&&Sn(t)==wa};function po(t){return"number"==typeof t||uo(t)&&x.call(t)==xa}function ho(t){if(!uo(t)||x.call(t)!=$a||wl(t))return!1;var e=T(t);if(null===e)return!0;var n=w.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&f.call(n)==y}var fo=Fs?pl(Fs):function(t){return lo(t)&&x.call(t)==ka};var go=Ns?pl(Ns):function(t){return uo(t)&&Sn(t)==Ca};function mo(t){return"string"==typeof t||!Ji(t)&&uo(t)&&x.call(t)==Sa}function vo(t){return"symbol"==typeof t||uo(t)&&x.call(t)==Ta}var yo=js?pl(js):function(t){return uo(t)&&so(t.length)&&!!As[x.call(t)]};var bo=un(se),wo=un(function(t,e){return t<=e});function xo(t){if(!t)return[];if(to(t))return mo(t)?Sl(t):qe(t);if(M&&t[M])return function(t){for(var e,n=[];!(e=t.next()).done;)n.push(e.value);return n}(t[M]());var e=Sn(t);return(e==wa?xl:e==Ca?kl:Ko)(t)}function $o(t){return t?(t=Co(t))!==ra&&t!==-ra?t==t?t:0:(t<0?-1:1)*sa:0===t?t:0}function _o(t){var e=$o(t),n=e%1;return e==e?n?e-n:e:0}function ko(t){return t?Et(_o(t),0,ua):0}function Co(t){if("number"==typeof t)return t;if(vo(t))return la;if(lo(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=lo(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(is,"");var n=gs.test(t);return n||vs.test(t)?Es(t.slice(2),n?2:8):fs.test(t)?la:+t}function So(t){return We(t,Uo(t))}function To(t){return null==t?"":De(t)}var Ao=Ye(function(t,e){if(ot||In(e)||to(e))We(e,Bo(e),t);else for(var n in e)w.call(e,n)&&St(t,n,e[n])}),Do=Ye(function(t,e){We(e,Uo(e),t)}),Mo=Ye(function(t,e,n,i){We(e,Uo(e),t,i)}),Eo=Ye(function(t,e,n,i){We(e,Bo(e),t,i)}),Po=we(function(t,e){return Mt(t,zt(e,1))});var Oo=we(function(t){return t.push(Ir,kt),zs(Mo,Ir,t)}),Io=we(function(t){return t.push(Ir,Fn),zs(Ho,Ir,t)});function Ro(t,e,n){var i=null==t?Ir:Yt(t,e);return i===Ir?n:i}function Lo(t,e){return null!=t&&Tn(t,e,Jt)}var Fo=on(function(t,e,n){t[e]=n},ur(hr)),No=on(function(t,e,n){w.call(t,e)?t[e].push(n):t[e]=[n]},wn),jo=we(te);function Bo(t){return to(t)?_t(t):re(t)}function Uo(t){return to(t)?_t(t,!0):ae(t)}var zo=Ye(function(t,e,n){pe(t,e,n)}),Ho=Ye(function(t,e,n,i){pe(t,e,n,i)}),Vo=we(function(t,e){return null==t?{}:(e=Zs(zt(e,1),qn),fe(t,Lt(mn(t),e)))});var qo=we(function(t,e){return null==t?{}:fe(t,Zs(zt(e,1),qn))});function Wo(t,e){return null==t?{}:ge(t,mn(t),wn(e))}var Go=dn(Bo),Yo=dn(Uo);function Ko(t){return t?hl(t,Bo(t)):[]}var Zo=Je(function(t,e,n){return e=e.toLowerCase(),t+(n?Xo(e):e)});function Xo(t){return rr(To(t).toLowerCase())}function Jo(t){return(t=To(t))&&t.replace(bs,ml).replace(_s,"")}var Qo=Je(function(t,e,n){return t+(n?"-":"")+e.toLowerCase()}),tr=Je(function(t,e,n){return t+(n?" ":"")+e.toLowerCase()}),er=Xe("toLowerCase");var nr=Je(function(t,e,n){return t+(n?"_":"")+e.toLowerCase()});var ir=Je(function(t,e,n){return t+(n?" ":"")+rr(e)});var or=Je(function(t,e,n){return t+(n?" ":"")+e.toUpperCase()}),rr=Xe("toUpperCase");function ar(t,e,n){return t=To(t),(e=n?Ir:e)===Ir?(i=t,Cs.test(i)?t.match(ks)||[]:t.match(us)||[]):t.match(e)||[];var i}var sr=we(function(t,e){try{return zs(t,Ir,e)}catch(t){return oo(t)?t:new a(t)}}),lr=we(function(e,t){return Vs(zt(t,1),function(t){t=qn(t),e[t]=Fi(e[t],e)}),e});function ur(t){return function(){return t}}var cr=en(),pr=en(!0);function hr(t){return t}function dr(t){return oe("function"==typeof t?t:Pt(t,!0))}var fr=we(function(e,n){return function(t){return te(t,e,n)}}),gr=we(function(e,n){return function(t){return te(e,t,n)}});function mr(i,e,t){var n=Bo(e),o=Gt(e,n);null!=t||lo(e)&&(o.length||!n.length)||(t=e,e=i,i=this,o=Gt(e,Bo(e)));var r=!(lo(t)&&"chain"in t&&!t.chain),a=ro(i);return Vs(o,function(t){var n=e[t];i[t]=n,a&&(i.prototype[t]=function(){var t=this.__chain__;if(r||t){var e=i(this.__wrapped__);return(e.__actions__=qe(this.__actions__)).push({func:n,args:arguments,thisArg:i}),e.__chain__=t,e}return n.apply(i,Xs([this.value()],arguments))})}),i}function vr(){}var yr=an(Zs),br=an(Ws),wr=an(tl);function xr(t){return En(t)?sl(qn(t)):(e=t,function(t){return Yt(t,e)});var e}var $r=ln(),_r=ln(!0);function kr(){return[]}function Cr(){return!1}var Sr=rn(function(t,e){return t+e},0),Tr=pn("ceil"),Ar=rn(function(t,e){return t/e},1),Dr=pn("floor");var Mr,Er=rn(function(t,e){return t*e},1),Pr=pn("round"),Or=rn(function(t,e){return t-e},0);return ft.after=function(t,e){if("function"!=typeof e)throw new D(Fr);return t=_o(t),function(){if(--t<1)return e.apply(this,arguments)}},ft.ary=Ri,ft.assign=Ao,ft.assignIn=Do,ft.assignInWith=Mo,ft.assignWith=Eo,ft.at=Po,ft.before=Li,ft.bind=Fi,ft.bindAll=lr,ft.bindKey=Ni,ft.castArray=function(){if(!arguments.length)return[];var t=arguments[0];return Ji(t)?t:[t]},ft.chain=bi,ft.chunk=function(t,e,n){e=(n?Mn(t,e,n):e===Ir)?1:q(_o(e),0);var i=t?t.length:0;if(!i||e<1)return[];for(var o=0,r=0,a=A(N(i/e));o<i;)a[r++]=_e(t,o,o+=e);return a},ft.compact=function(t){for(var e=-1,n=t?t.length:0,i=0,o=[];++e<n;){var r=t[e];r&&(o[i++]=r)}return o},ft.concat=function(){for(var t=arguments.length,e=A(t?t-1:0),n=arguments[0],i=t;i--;)e[i-1]=arguments[i];return t?Xs(Ji(n)?qe(n):[n],zt(e,1)):[]},ft.cond=function(i){var o=i?i.length:0,e=wn();return i=o?Zs(i,function(t){if("function"!=typeof t[1])throw new D(Fr);return[e(t[0]),t[1]]}):[],we(function(t){for(var e=-1;++e<o;){var n=i[e];if(zs(n[0],this,t))return zs(n[1],this,t)}})},ft.conforms=function(t){return e=Pt(t,!0),n=Bo(e),function(t){return Ot(t,e,n)};var e,n},ft.constant=ur,ft.countBy=$i,ft.create=function(t,e){var n=It(t);return e?Dt(n,e):n},ft.curry=function t(e,n,i){var o=fn(e,Hr,Ir,Ir,Ir,Ir,Ir,n=i?Ir:n);return o.placeholder=t.placeholder,o},ft.curryRight=function t(e,n,i){var o=fn(e,Vr,Ir,Ir,Ir,Ir,Ir,n=i?Ir:n);return o.placeholder=t.placeholder,o},ft.debounce=ji,ft.defaults=Oo,ft.defaultsDeep=Io,ft.defer=Bi,ft.delay=Ui,ft.difference=Yn,ft.differenceBy=Kn,ft.differenceWith=Zn,ft.drop=function(t,e,n){var i=t?t.length:0;return i?_e(t,(e=n||e===Ir?1:_o(e))<0?0:e,i):[]},ft.dropRight=function(t,e,n){var i=t?t.length:0;return i?_e(t,0,(e=i-(e=n||e===Ir?1:_o(e)))<0?0:e):[]},ft.dropRightWhile=function(t,e){return t&&t.length?Pe(t,wn(e,3),!0,!0):[]},ft.dropWhile=function(t,e){return t&&t.length?Pe(t,wn(e,3),!0):[]},ft.fill=function(t,e,n,i){var o=t?t.length:0;return o?(n&&"number"!=typeof n&&Mn(t,e,n)&&(n=0,i=o),function(t,e,n,i){var o=t.length;for((n=_o(n))<0&&(n=o<-n?0:o+n),(i=i===Ir||o<i?o:_o(i))<0&&(i+=o),i=i<n?0:ko(i);n<i;)t[n++]=e;return t}(t,e,n,i)):[]},ft.filter=function(t,e){return(Ji(t)?Gs:Ut)(t,wn(e,3))},ft.flatMap=function(t,e){return zt(Mi(t,e),1)},ft.flatMapDeep=function(t,e){return zt(Mi(t,e),ra)},ft.flatMapDepth=function(t,e,n){return n=n===Ir?1:_o(n),zt(Mi(t,e),n)},ft.flatten=function(t){return t&&t.length?zt(t,1):[]},ft.flattenDeep=function(t){return t&&t.length?zt(t,ra):[]},ft.flattenDepth=function(t,e){return t&&t.length?zt(t,e=e===Ir?1:_o(e)):[]},ft.flip=function(t){return fn(t,Kr)},ft.flow=cr,ft.flowRight=pr,ft.fromPairs=function(t){for(var e=-1,n=t?t.length:0,i={};++e<n;){var o=t[e];i[o[0]]=o[1]}return i},ft.functions=function(t){return null==t?[]:Gt(t,Bo(t))},ft.functionsIn=function(t){return null==t?[]:Gt(t,Uo(t))},ft.groupBy=Ti,ft.initial=function(t){return t&&t.length?_e(t,0,-1):[]},ft.intersection=ti,ft.intersectionBy=ei,ft.intersectionWith=ni,ft.invert=Fo,ft.invertBy=No,ft.invokeMap=Ai,ft.iteratee=dr,ft.keyBy=Di,ft.keys=Bo,ft.keysIn=Uo,ft.map=Mi,ft.mapKeys=function(t,i){var o={};return i=wn(i,3),qt(t,function(t,e,n){o[i(t,e,n)]=t}),o},ft.mapValues=function(t,i){var o={};return i=wn(i,3),qt(t,function(t,e,n){o[e]=i(t,e,n)}),o},ft.matches=function(t){return ue(Pt(t,!0))},ft.matchesProperty=function(t,e){return ce(t,Pt(e,!0))},ft.memoize=zi,ft.merge=zo,ft.mergeWith=Ho,ft.method=fr,ft.methodOf=gr,ft.mixin=mr,ft.negate=Hi,ft.nthArg=function(e){return e=_o(e),we(function(t){return he(t,e)})},ft.omit=Vo,ft.omitBy=function(t,e){return Wo(t,Hi(wn(e)))},ft.once=function(t){return Li(2,t)},ft.orderBy=function(t,e,n,i){return null==t?[]:(Ji(e)||(e=null==e?[]:[e]),Ji(n=i?Ir:n)||(n=null==n?[]:[n]),de(t,e,n))},ft.over=yr,ft.overArgs=Vi,ft.overEvery=br,ft.overSome=wr,ft.partial=qi,ft.partialRight=Wi,ft.partition=Ei,ft.pick=qo,ft.pickBy=Wo,ft.property=xr,ft.propertyOf=function(e){return function(t){return null==e?Ir:Yt(e,t)}},ft.pull=oi,ft.pullAll=ri,ft.pullAllBy=function(t,e,n){return t&&t.length&&e&&e.length?me(t,e,wn(n,2)):t},ft.pullAllWith=function(t,e,n){return t&&t.length&&e&&e.length?me(t,e,Ir,n):t},ft.pullAt=ai,ft.range=$r,ft.rangeRight=_r,ft.rearg=Gi,ft.reject=function(t,e){return(Ji(t)?Gs:Ut)(t,Hi(wn(e,3)))},ft.remove=function(t,e){var n=[];if(!t||!t.length)return n;var i=-1,o=[],r=t.length;for(e=wn(e,3);++i<r;){var a=t[i];e(a,i,t)&&(n.push(a),o.push(i))}return ve(t,o),n},ft.rest=function(t,e){if("function"!=typeof t)throw new D(Fr);return we(t,e=e===Ir?e:_o(e))},ft.reverse=si,ft.sampleSize=Pi,ft.set=function(t,e,n){return null==t?t:xe(t,e,n)},ft.setWith=function(t,e,n,i){return i="function"==typeof i?i:Ir,null==t?t:xe(t,e,n,i)},ft.shuffle=function(t){return Pi(t,ua)},ft.slice=function(t,e,n){var i=t?t.length:0;return i?_e(t,e,n=n&&"number"!=typeof n&&Mn(t,e,n)?(e=0,i):(e=null==e?0:_o(e),n===Ir?i:_o(n))):[]},ft.sortBy=Oi,ft.sortedUniq=function(t){return t&&t.length?Te(t):[]},ft.sortedUniqBy=function(t,e){return t&&t.length?Te(t,wn(e,2)):[]},ft.split=function(t,e,n){return n&&"number"!=typeof n&&Mn(t,e,n)&&(e=n=Ir),(n=n===Ir?ua:n>>>0)?(t=To(t))&&("string"==typeof e||null!=e&&!fo(e))&&!(e=De(e))&&bl(t)?je(Sl(t),0,n):t.split(e,n):[]},ft.spread=function(i,o){if("function"!=typeof i)throw new D(Fr);return o=o===Ir?0:q(_o(o),0),we(function(t){var e=t[o],n=je(t,0,o);return e&&Xs(n,e),zs(i,this,n)})},ft.tail=function(t){var e=t?t.length:0;return e?_e(t,1,e):[]},ft.take=function(t,e,n){return t&&t.length?_e(t,0,(e=n||e===Ir?1:_o(e))<0?0:e):[]},ft.takeRight=function(t,e,n){var i=t?t.length:0;return i?_e(t,(e=i-(e=n||e===Ir?1:_o(e)))<0?0:e,i):[]},ft.takeRightWhile=function(t,e){return t&&t.length?Pe(t,wn(e,3),!1,!0):[]},ft.takeWhile=function(t,e){return t&&t.length?Pe(t,wn(e,3)):[]},ft.tap=function(t,e){return e(t),t},ft.throttle=function(t,e,n){var i=!0,o=!0;if("function"!=typeof t)throw new D(Fr);return lo(n)&&(i="leading"in n?!!n.leading:i,o="trailing"in n?!!n.trailing:o),ji(t,e,{leading:i,maxWait:e,trailing:o})},ft.thru=wi,ft.toArray=xo,ft.toPairs=Go,ft.toPairsIn=Yo,ft.toPath=function(t){return Ji(t)?Zs(t,qn):vo(t)?[t]:qe(Vn(t))},ft.toPlainObject=So,ft.transform=function(t,i,o){var e=Ji(t)||yo(t);if(i=wn(i,4),null==o)if(e||lo(t)){var n=t.constructor;o=e?Ji(t)?new n:[]:ro(n)?It(T(t)):{}}else o={};return(e?Vs:qt)(t,function(t,e,n){return i(o,t,e,n)}),o},ft.unary=function(t){return Ri(t,1)},ft.union=li,ft.unionBy=ui,ft.unionWith=ci,ft.uniq=function(t){return t&&t.length?Me(t):[]},ft.uniqBy=function(t,e){return t&&t.length?Me(t,wn(e,2)):[]},ft.uniqWith=function(t,e){return t&&t.length?Me(t,Ir,e):[]},ft.unset=function(t,e){return null==t||function(t,e){t=Nn(t,e=En(e,t)?[e]:Ne(e));var n=qn(ii(e));return!(null!=t&&w.call(t,n))||delete t[n]}(t,e)},ft.unzip=pi,ft.unzipWith=hi,ft.update=function(t,e,n){return null==t?t:Ee(t,e,Fe(n))},ft.updateWith=function(t,e,n,i){return i="function"==typeof i?i:Ir,null==t?t:Ee(t,e,Fe(n),i)},ft.values=Ko,ft.valuesIn=function(t){return null==t?[]:hl(t,Uo(t))},ft.without=di,ft.words=ar,ft.wrap=function(t,e){return qi(e=null==e?hr:e,t)},ft.xor=fi,ft.xorBy=gi,ft.xorWith=mi,ft.zip=vi,ft.zipObject=function(t,e){return Re(t||[],e||[],St)},ft.zipObjectDeep=function(t,e){return Re(t||[],e||[],xe)},ft.zipWith=yi,ft.entries=Go,ft.entriesIn=Yo,ft.extend=Do,ft.extendWith=Mo,mr(ft,ft),ft.add=Sr,ft.attempt=sr,ft.camelCase=Zo,ft.capitalize=Xo,ft.ceil=Tr,ft.clamp=function(t,e,n){return n===Ir&&(n=e,e=Ir),n!==Ir&&(n=(n=Co(n))==n?n:0),e!==Ir&&(e=(e=Co(e))==e?e:0),Et(Co(t),e,n)},ft.clone=function(t){return Pt(t,!1,!0)},ft.cloneDeep=function(t){return Pt(t,!0,!0)},ft.cloneDeepWith=function(t,e){return Pt(t,!0,!0,e)},ft.cloneWith=function(t,e){return Pt(t,!1,!0,e)},ft.conformsTo=function(t,e){return null==e||Ot(t,e,Bo(e))},ft.deburr=Jo,ft.defaultTo=function(t,e){return null==t||t!=t?e:t},ft.divide=Ar,ft.endsWith=function(t,e,n){t=To(t),e=De(e);var i=t.length,o=n=n===Ir?i:Et(_o(n),0,i);return 0<=(n-=e.length)&&t.slice(n,o)==e},ft.eq=Yi,ft.escape=function(t){return(t=To(t))&&Ga.test(t)?t.replace(qa,vl):t},ft.escapeRegExp=function(t){return(t=To(t))&&ns.test(t)?t.replace(es,"\\$&"):t},ft.every=function(t,e,n){var i=Ji(t)?Ws:jt;return n&&Mn(t,e,n)&&(e=Ir),i(t,wn(e,3))},ft.find=_i,ft.findIndex=Xn,ft.findKey=function(t,e){return el(t,wn(e,3),qt)},ft.findLast=ki,ft.findLastIndex=Jn,ft.findLastKey=function(t,e){return el(t,wn(e,3),Wt)},ft.floor=Dr,ft.forEach=Ci,ft.forEachRight=Si,ft.forIn=function(t,e){return null==t?t:Ht(t,wn(e,3),Uo)},ft.forInRight=function(t,e){return null==t?t:Vt(t,wn(e,3),Uo)},ft.forOwn=function(t,e){return t&&qt(t,wn(e,3))},ft.forOwnRight=function(t,e){return t&&Wt(t,wn(e,3))},ft.get=Ro,ft.gt=Ki,ft.gte=Zi,ft.has=function(t,e){return null!=t&&Tn(t,e,Xt)},ft.hasIn=Lo,ft.head=Qn,ft.identity=hr,ft.includes=function(t,e,n,i){t=to(t)?t:Ko(t),n=n&&!i?_o(n):0;var o=t.length;return n<0&&(n=q(o+n,0)),mo(t)?n<=o&&-1<t.indexOf(e,n):!!o&&-1<il(t,e,n)},ft.indexOf=function(t,e,n){var i=t?t.length:0;if(!i)return-1;var o=null==n?0:_o(n);return o<0&&(o=q(i+o,0)),il(t,e,o)},ft.inRange=function(t,e,n){return e=$o(e),n===Ir?(n=e,e=0):n=$o(n),t=Co(t),(i=t)>=W(o=e,r=n)&&i<q(o,r);var i,o,r},ft.invoke=jo,ft.isArguments=Xi,ft.isArray=Ji,ft.isArrayBuffer=Qi,ft.isArrayLike=to,ft.isArrayLikeObject=eo,ft.isBoolean=function(t){return!0===t||!1===t||uo(t)&&x.call(t)==ga},ft.isBuffer=no,ft.isDate=io,ft.isElement=function(t){return!!t&&1===t.nodeType&&uo(t)&&!ho(t)},ft.isEmpty=function(t){if(to(t)&&(Ji(t)||"string"==typeof t||"function"==typeof t.splice||no(t)||Xi(t)))return!t.length;var e=Sn(t);if(e==wa||e==Ca)return!t.size;if(ot||In(t))return!V(t).length;for(var n in t)if(w.call(t,n))return!1;return!0},ft.isEqual=function(t,e){return ee(t,e)},ft.isEqualWith=function(t,e,n){var i=(n="function"==typeof n?n:Ir)?n(t,e):Ir;return i===Ir?ee(t,e,n):!!i},ft.isError=oo,ft.isFinite=function(t){return"number"==typeof t&&z(t)},ft.isFunction=ro,ft.isInteger=ao,ft.isLength=so,ft.isMap=co,ft.isMatch=function(t,e){return t===e||ne(t,e,$n(e))},ft.isMatchWith=function(t,e,n){return n="function"==typeof n?n:Ir,ne(t,e,$n(e),n)},ft.isNaN=function(t){return po(t)&&t!=+t},ft.isNative=function(t){if(On(t))throw new a("This method is not supported with core-js. Try https://github.com/es-shims.");return ie(t)},ft.isNil=function(t){return null==t},ft.isNull=function(t){return null===t},ft.isNumber=po,ft.isObject=lo,ft.isObjectLike=uo,ft.isPlainObject=ho,ft.isRegExp=fo,ft.isSafeInteger=function(t){return ao(t)&&-aa<=t&&t<=aa},ft.isSet=go,ft.isString=mo,ft.isSymbol=vo,ft.isTypedArray=yo,ft.isUndefined=function(t){return t===Ir},ft.isWeakMap=function(t){return uo(t)&&Sn(t)==Aa},ft.isWeakSet=function(t){return uo(t)&&x.call(t)==Da},ft.join=function(t,e){return t?H.call(t,e):""},ft.kebabCase=Qo,ft.last=ii,ft.lastIndexOf=function(t,e,n){var i=t?t.length:0;if(!i)return-1;var o=i;if(n!==Ir&&(o=((o=_o(n))<0?q(i+o,0):W(o,i-1))+1),e!=e)return nl(t,rl,o-1,!0);for(;o--;)if(t[o]===e)return o;return-1},ft.lowerCase=tr,ft.lowerFirst=er,ft.lt=bo,ft.lte=wo,ft.max=function(t){return t&&t.length?Bt(t,hr,Zt):Ir},ft.maxBy=function(t,e){return t&&t.length?Bt(t,wn(e,2),Zt):Ir},ft.mean=function(t){return al(t,hr)},ft.meanBy=function(t,e){return al(t,wn(e,2))},ft.min=function(t){return t&&t.length?Bt(t,hr,se):Ir},ft.minBy=function(t,e){return t&&t.length?Bt(t,wn(e,2),se):Ir},ft.stubArray=kr,ft.stubFalse=Cr,ft.stubObject=function(){return{}},ft.stubString=function(){return""},ft.stubTrue=function(){return!0},ft.multiply=Er,ft.nth=function(t,e){return t&&t.length?he(t,_o(e)):Ir},ft.noConflict=function(){return Ps._===this&&(Ps._=$),this},ft.noop=vr,ft.now=Ii,ft.pad=function(t,e,n){t=To(t);var i=(e=_o(e))?Cl(t):0;if(!e||e<=i)return t;var o=(e-i)/2;return sn(j(o),n)+t+sn(N(o),n)},ft.padEnd=function(t,e,n){t=To(t);var i=(e=_o(e))?Cl(t):0;return e&&i<e?t+sn(e-i,n):t},ft.padStart=function(t,e,n){t=To(t);var i=(e=_o(e))?Cl(t):0;return e&&i<e?sn(e-i,n)+t:t},ft.parseInt=function(t,e,n){return n||null==e?e=0:e&&(e=+e),t=To(t).replace(is,""),G(t,e||(ds.test(t)?16:10))},ft.random=function(t,e,n){if(n&&"boolean"!=typeof n&&Mn(t,e,n)&&(e=n=Ir),n===Ir&&("boolean"==typeof e?(n=e,e=Ir):"boolean"==typeof t&&(n=t,t=Ir)),t===Ir&&e===Ir?(t=0,e=1):(t=$o(t),e===Ir?(e=t,t=0):e=$o(e)),e<t){var i=t;t=e,e=i}if(n||t%1||e%1){var o=Y();return W(t+o*(e-t+Ms("1e-"+((o+"").length-1))),e)}return ye(t,e)},ft.reduce=function(t,e,n){var i=Ji(t)?Js:ll,o=arguments.length<3;return i(t,wn(e,4),n,o,Ft)},ft.reduceRight=function(t,e,n){var i=Ji(t)?Qs:ll,o=arguments.length<3;return i(t,wn(e,4),n,o,Nt)},ft.repeat=function(t,e,n){return e=(n?Mn(t,e,n):e===Ir)?1:_o(e),be(To(t),e)},ft.replace=function(){var t=arguments,e=To(t[0]);return t.length<3?e:e.replace(t[1],t[2])},ft.result=function(t,e,n){var i=-1,o=(e=En(e,t)?[e]:Ne(e)).length;for(o||(t=Ir,o=1);++i<o;){var r=null==t?Ir:t[qn(e[i])];r===Ir&&(i=o,r=n),t=ro(r)?r.call(t):r}return t},ft.round=Pr,ft.runInContext=t,ft.sample=function(t){var e=to(t)?t:Ko(t),n=e.length;return 0<n?e[ye(0,n-1)]:Ir},ft.size=function(t){if(null==t)return 0;if(to(t))return mo(t)?Cl(t):t.length;var e=Sn(t);return e==wa||e==Ca?t.size:re(t).length},ft.snakeCase=nr,ft.some=function(t,e,n){var i=Ji(t)?tl:ke;return n&&Mn(t,e,n)&&(e=Ir),i(t,wn(e,3))},ft.sortedIndex=function(t,e){return Ce(t,e)},ft.sortedIndexBy=function(t,e,n){return Se(t,e,wn(n,2))},ft.sortedIndexOf=function(t,e){var n=t?t.length:0;if(n){var i=Ce(t,e);if(i<n&&Yi(t[i],e))return i}return-1},ft.sortedLastIndex=function(t,e){return Ce(t,e,!0)},ft.sortedLastIndexBy=function(t,e,n){return Se(t,e,wn(n,2),!0)},ft.sortedLastIndexOf=function(t,e){if(t&&t.length){var n=Ce(t,e,!0)-1;if(Yi(t[n],e))return n}return-1},ft.startCase=ir,ft.startsWith=function(t,e,n){return t=To(t),n=Et(_o(n),0,t.length),e=De(e),t.slice(n,n+e.length)==e},ft.subtract=Or,ft.sum=function(t){return t&&t.length?ul(t,hr):0},ft.sumBy=function(t,e){return t&&t.length?ul(t,wn(e,2)):0},ft.template=function(a,t,e){var n=ft.templateSettings;e&&Mn(a,t,e)&&(t=Ir),a=To(a),t=Mo({},t,n,kt);var s,l,i=Mo({},t.imports,n.imports,kt),o=Bo(i),r=hl(i,o),u=0,c=t.interpolate||ws,p="__p += '",h=v((t.escape||ws).source+"|"+c.source+"|"+(c===Za?ps:ws).source+"|"+(t.evaluate||ws).source+"|$","g"),d="//# sourceURL="+("sourceURL"in t?t.sourceURL:"lodash.templateSources["+ ++Ts+"]")+"\n";a.replace(h,function(t,e,n,i,o,r){return n||(n=i),p+=a.slice(u,r).replace(xs,yl),e&&(s=!0,p+="' +\n__e("+e+") +\n'"),o&&(l=!0,p+="';\n"+o+";\n__p += '"),n&&(p+="' +\n((__t = ("+n+")) == null ? '' : __t) +\n'"),u=r+t.length,t}),p+="';\n";var f=t.variable;f||(p="with (obj) {\n"+p+"\n}\n"),p=(l?p.replace(Ua,""):p).replace(za,"$1").replace(Ha,"$1;"),p="function("+(f||"obj")+") {\n"+(f?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(s?", __e = _.escape":"")+(l?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+p+"return __p\n}";var g=sr(function(){return m(o,d+"return "+p).apply(Ir,r)});if(g.source=p,oo(g))throw g;return g},ft.times=function(t,e){if((t=_o(t))<1||aa<t)return[];var n=ua,i=W(t,ua);e=wn(e),t-=ua;for(var o=cl(i,e);++n<t;)e(n);return o},ft.toFinite=$o,ft.toInteger=_o,ft.toLength=ko,ft.toLower=function(t){return To(t).toLowerCase()},ft.toNumber=Co,ft.toSafeInteger=function(t){return Et(_o(t),-aa,aa)},ft.toString=To,ft.toUpper=function(t){return To(t).toUpperCase()},ft.trim=function(t,e,n){if((t=To(t))&&(n||e===Ir))return t.replace(is,"");if(!t||!(e=De(e)))return t;var i=Sl(t),o=Sl(e);return je(i,fl(i,o),gl(i,o)+1).join("")},ft.trimEnd=function(t,e,n){if((t=To(t))&&(n||e===Ir))return t.replace(rs,"");if(!t||!(e=De(e)))return t;var i=Sl(t);return je(i,0,gl(i,Sl(e))+1).join("")},ft.trimStart=function(t,e,n){if((t=To(t))&&(n||e===Ir))return t.replace(os,"");if(!t||!(e=De(e)))return t;var i=Sl(t);return je(i,fl(i,Sl(e))).join("")},ft.truncate=function(t,e){var n=Jr,i=Qr;if(lo(e)){var o="separator"in e?e.separator:o;n="length"in e?_o(e.length):n,i="omission"in e?De(e.omission):i}var r=(t=To(t)).length;if(bl(t)){var a=Sl(t);r=a.length}if(r<=n)return t;var s=n-Cl(i);if(s<1)return i;var l=a?je(a,0,s).join(""):t.slice(0,s);if(o===Ir)return l+i;if(a&&(s+=l.length-s),fo(o)){if(t.slice(s).search(o)){var u,c=l;for(o.global||(o=v(o.source,To(hs.exec(o))+"g")),o.lastIndex=0;u=o.exec(c);)var p=u.index;l=l.slice(0,p===Ir?s:p)}}else if(t.indexOf(De(o),s)!=s){var h=l.lastIndexOf(o);-1<h&&(l=l.slice(0,h))}return l+i},ft.unescape=function(t){return(t=To(t))&&Wa.test(t)?t.replace(Va,Tl):t},ft.uniqueId=function(t){var e=++g;return To(t)+e},ft.upperCase=or,ft.upperFirst=rr,ft.each=Ci,ft.eachRight=Si,ft.first=Qn,mr(ft,(Mr={},qt(ft,function(t,e){w.call(ft.prototype,e)||(Mr[e]=t)}),Mr),{chain:!1}),ft.VERSION=Rr,Vs(["bind","bindKey","curry","curryRight","partial","partialRight"],function(t){ft[t].placeholder=ft}),Vs(["drop","take"],function(i,o){vt.prototype[i]=function(t){var e=this.__filtered__;if(e&&!o)return new vt(this);t=t===Ir?1:q(_o(t),0);var n=this.clone();return e?n.__takeCount__=W(t,n.__takeCount__):n.__views__.push({size:W(t,ua),type:i+(n.__dir__<0?"Right":"")}),n},vt.prototype[i+"Right"]=function(t){return this.reverse()[i](t).reverse()}}),Vs(["filter","map","takeWhile"],function(t,e){var n=e+1,i=n==na||n==oa;vt.prototype[t]=function(t){var e=this.clone();return e.__iteratees__.push({iteratee:wn(t,3),type:n}),e.__filtered__=e.__filtered__||i,e}}),Vs(["head","last"],function(t,e){var n="take"+(e?"Right":"");vt.prototype[t]=function(){return this[n](1).value()[0]}}),Vs(["initial","tail"],function(t,e){var n="drop"+(e?"":"Right");vt.prototype[t]=function(){return this.__filtered__?new vt(this):this[n](1)}}),vt.prototype.compact=function(){return this.filter(hr)},vt.prototype.find=function(t){return this.filter(t).head()},vt.prototype.findLast=function(t){return this.reverse().find(t)},vt.prototype.invokeMap=we(function(e,n){return"function"==typeof e?new vt(this):this.map(function(t){return te(t,e,n)})}),vt.prototype.reject=function(t){return this.filter(Hi(wn(t)))},vt.prototype.slice=function(t,e){t=_o(t);var n=this;return n.__filtered__&&(0<t||e<0)?new vt(n):(t<0?n=n.takeRight(-t):t&&(n=n.drop(t)),e!==Ir&&(n=(e=_o(e))<0?n.dropRight(-e):n.take(e-t)),n)},vt.prototype.takeRightWhile=function(t){return this.reverse().takeWhile(t).reverse()},vt.prototype.toArray=function(){return this.take(ua)},qt(vt.prototype,function(p,t){var h=/^(?:filter|find|map|reject)|While$/.test(t),d=/^(?:head|last)$/.test(t),f=ft[d?"take"+("last"==t?"Right":""):t],g=d||/^find/.test(t);f&&(ft.prototype[t]=function(){var t=this.__wrapped__,n=d?[1]:arguments,e=t instanceof vt,i=n[0],o=e||Ji(t),r=function(t){var e=f.apply(ft,Xs([t],n));return d&&a?e[0]:e};o&&h&&"function"==typeof i&&1!=i.length&&(e=o=!1);var a=this.__chain__,s=!!this.__actions__.length,l=g&&!a,u=e&&!s;if(g||!o)return l&&u?p.apply(this,n):(c=this.thru(r),l?d?c.value()[0]:c.value():c);t=u?t:new vt(this);var c=p.apply(t,n);return c.__actions__.push({func:wi,args:[r],thisArg:Ir}),new mt(c,a)})}),Vs(["pop","push","shift","sort","splice","unshift"],function(t){var n=u[t],i=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",o=/^(?:pop|shift)$/.test(t);ft.prototype[t]=function(){var e=arguments;if(!o||this.__chain__)return this[i](function(t){return n.apply(Ji(t)?t:[],e)});var t=this.value();return n.apply(Ji(t)?t:[],e)}}),qt(vt.prototype,function(t,e){var n=ft[e];if(n){var i=n.name+"";(rt[i]||(rt[i]=[])).push({name:e,func:n})}}),rt[nn(Ir,Ur).name]=[{name:"wrapper",func:Ir}],vt.prototype.clone=function(){var t=new vt(this.__wrapped__);return t.__actions__=qe(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=qe(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=qe(this.__views__),t},vt.prototype.reverse=function(){if(this.__filtered__){var t=new vt(this);t.__dir__=-1,t.__filtered__=!0}else(t=this.clone()).__dir__*=-1;return t},vt.prototype.value=function(){var t=this.__wrapped__.value(),e=this.__dir__,n=Ji(t),i=e<0,o=n?t.length:0,r=function(t,e,n){for(var i=-1,o=n.length;++i<o;){var r=n[i],a=r.size;switch(r.type){case"drop":t+=a;break;case"dropRight":e-=a;break;case"take":e=W(e,t+a);break;case"takeRight":t=q(t,e-a)}}return{start:t,end:e}}(0,o,this.__views__),a=r.start,s=r.end,l=s-a,u=i?s:a-1,c=this.__iteratees__,p=c.length,h=0,d=W(l,this.__takeCount__);if(!n||o<Lr||o==l&&d==l)return Oe(t,this.__actions__);var f=[];t:for(;l--&&h<d;){for(var g=-1,m=t[u+=e];++g<p;){var v=c[g],y=v.iteratee,b=v.type,w=y(m);if(b==ia)m=w;else if(!w){if(b==na)continue t;break t}}f[h++]=m}return f},ft.prototype.at=xi,ft.prototype.chain=function(){return bi(this)},ft.prototype.commit=function(){return new mt(this.value(),this.__chain__)},ft.prototype.next=function(){this.__values__===Ir&&(this.__values__=xo(this.value()));var t=this.__index__>=this.__values__.length;return{done:t,value:t?Ir:this.__values__[this.__index__++]}},ft.prototype.plant=function(t){for(var e,n=this;n instanceof gt;){var i=Gn(n);i.__index__=0,i.__values__=Ir,e?o.__wrapped__=i:e=i;var o=i;n=n.__wrapped__}return o.__wrapped__=t,e},ft.prototype.reverse=function(){var t=this.__wrapped__;if(t instanceof vt){var e=t;return this.__actions__.length&&(e=new vt(this)),(e=e.reverse()).__actions__.push({func:wi,args:[si],thisArg:Ir}),new mt(e,this.__chain__)}return this.thru(si)},ft.prototype.toJSON=ft.prototype.valueOf=ft.prototype.value=function(){return Oe(this.__wrapped__,this.__actions__)},ft.prototype.first=ft.prototype.head,M&&(ft.prototype[M]=function(){return this}),ft}();"function"==typeof define&&"object"==typeof define.amd&&define.amd?(Ps._=Al,define(function(){return Al})):R?((R.exports=Al)._=Al,I._=Al):Ps._=Al}.call(this),angular.module("restangular",[]).provider("Restangular",function(){var U={};U.init=function(a,v){a.configuration=v;var e=["get","head","options","trace","getlist"];v.isSafe=function(t){return _.includes(e,t.toLowerCase())};var n=/^https?:\/\//i;v.isAbsoluteUrl=function(t){return _.isUndefined(v.absoluteUrl)||_.isNull(v.absoluteUrl)?t&&n.test(t):v.absoluteUrl},v.absoluteUrl=!!_.isUndefined(v.absoluteUrl)||v.absoluteUrl,a.setSelfLinkAbsoluteUrl=function(t){v.absoluteUrl=t},v.baseUrl=_.isUndefined(v.baseUrl)?"":v.baseUrl,a.setBaseUrl=function(t){return v.baseUrl=/\/$/.test(t)?t.substring(0,t.length-1):t,this},v.extraFields=v.extraFields||[],a.setExtraFields=function(t){return v.extraFields=t,this},v.defaultHttpFields=v.defaultHttpFields||{},a.setDefaultHttpFields=function(t){return v.defaultHttpFields=t,this},v.withHttpValues=function(t,e){return _.defaults(e,t,v.defaultHttpFields)},v.encodeIds=!!_.isUndefined(v.encodeIds)||v.encodeIds,a.setEncodeIds=function(t){v.encodeIds=t},v.defaultRequestParams=v.defaultRequestParams||{get:{},post:{},put:{},remove:{},common:{}},a.setDefaultRequestParams=function(t,e){var n=[],i=e||t;return _.isUndefined(e)?n.push("common"):_.isArray(t)?n=t:n.push(t),_.each(n,function(t){v.defaultRequestParams[t]=i}),this},a.requestParams=v.defaultRequestParams,v.defaultHeaders=v.defaultHeaders||{},a.setDefaultHeaders=function(t){return v.defaultHeaders=t,a.defaultHeaders=v.defaultHeaders,this},a.defaultHeaders=v.defaultHeaders,v.methodOverriders=v.methodOverriders||[],a.setMethodOverriders=function(t){var e=_.extend([],t);return v.isOverridenMethod("delete",e)&&e.push("remove"),v.methodOverriders=e,this},v.jsonp=!_.isUndefined(v.jsonp)&&v.jsonp,a.setJsonp=function(t){v.jsonp=t},v.isOverridenMethod=function(e,t){var n=t||v.methodOverriders;return!_.isUndefined(_.find(n,function(t){return t.toLowerCase()===e.toLowerCase()}))},v.urlCreator=v.urlCreator||"path",a.setUrlCreator=function(t){if(!_.has(v.urlCreatorFactory,t))throw new Error("URL Path selected isn't valid");return v.urlCreator=t,this},v.restangularFields=v.restangularFields||{id:"id",route:"route",parentResource:"parentResource",restangularCollection:"restangularCollection",cannonicalId:"__cannonicalId",etag:"restangularEtag",selfLink:"href",get:"get",getList:"getList",put:"put",post:"post",remove:"remove",head:"head",trace:"trace",options:"options",patch:"patch",getRestangularUrl:"getRestangularUrl",getRequestedUrl:"getRequestedUrl",putElement:"putElement",addRestangularMethod:"addRestangularMethod",getParentList:"getParentList",clone:"clone",ids:"ids",httpConfig:"_$httpConfig",reqParams:"reqParams",one:"one",all:"all",several:"several",oneUrl:"oneUrl",allUrl:"allUrl",customPUT:"customPUT",customPOST:"customPOST",customDELETE:"customDELETE",customGET:"customGET",customGETLIST:"customGETLIST",customOperation:"customOperation",doPUT:"doPUT",doPOST:"doPOST",doDELETE:"doDELETE",doGET:"doGET",doGETLIST:"doGETLIST",fromServer:"fromServer",withConfig:"withConfig",withHttpConfig:"withHttpConfig",singleOne:"singleOne",plain:"plain",save:"save",restangularized:"restangularized"},a.setRestangularFields=function(t){return v.restangularFields=_.extend(v.restangularFields,t),this},v.isRestangularized=function(t){return!!t[v.restangularFields.restangularized]},v.setFieldToElem=function(t,e,n){var i=t.split("."),o=e;return _.each(_.initial(i),function(t){o[t]={},o=o[t]}),o[_.last(i)]=n,this},v.getFieldFromElem=function(t,e){var n=t.split("."),i=e;return _.each(n,function(t){i&&(i=i[t])}),angular.copy(i)},v.setIdToElem=function(t,e){return v.setFieldToElem(v.restangularFields.id,t,e),this},v.getIdFromElem=function(t){return v.getFieldFromElem(v.restangularFields.id,t)},v.isValidId=function(t){return""!==t&&!_.isUndefined(t)&&!_.isNull(t)},v.setUrlToElem=function(t,e){return v.setFieldToElem(v.restangularFields.selfLink,t,e),this},v.getUrlFromElem=function(t){return v.getFieldFromElem(v.restangularFields.selfLink,t)},v.useCannonicalId=!_.isUndefined(v.useCannonicalId)&&v.useCannonicalId,a.setUseCannonicalId=function(t){return v.useCannonicalId=t,this},v.getCannonicalIdFromElem=function(t){var e=t[v.restangularFields.cannonicalId];return v.isValidId(e)?e:v.getIdFromElem(t)},v.responseInterceptors=v.responseInterceptors||[],v.defaultResponseInterceptor=function(t){return t},v.responseExtractor=function(t,e,n,i,o,r){var a=angular.copy(v.responseInterceptors);a.push(v.defaultResponseInterceptor);var s=t;return _.each(a,function(t){s=t(s,e,n,i,o,r)}),s},a.addResponseInterceptor=function(t){return v.responseInterceptors.push(t),this},v.errorInterceptors=v.errorInterceptors||[],a.addErrorInterceptor=function(t){return v.errorInterceptors.push(t),this},a.setResponseInterceptor=a.addResponseInterceptor,a.setResponseExtractor=a.addResponseInterceptor,a.setErrorInterceptor=a.addErrorInterceptor,v.requestInterceptors=v.requestInterceptors||[],v.defaultInterceptor=function(t,e,n,i,o,r,a){return{element:t,headers:o,params:r,httpConfig:a}},v.fullRequestInterceptor=function(t,n,i,o,e,r,a){var s=angular.copy(v.requestInterceptors),l=v.defaultInterceptor(t,n,i,o,e,r,a);return _.reduce(s,function(t,e){return _.extend(t,e(t.element,n,i,o,t.headers,t.params,t.httpConfig))},l)},a.addRequestInterceptor=function(s){return v.requestInterceptors.push(function(t,e,n,i,o,r,a){return{headers:o,params:r,element:s(t,e,n,i),httpConfig:a}}),this},a.setRequestInterceptor=a.addRequestInterceptor,a.addFullRequestInterceptor=function(t){return v.requestInterceptors.push(t),this},a.setFullRequestInterceptor=a.addFullRequestInterceptor,v.onBeforeElemRestangularized=v.onBeforeElemRestangularized||function(t){return t},a.setOnBeforeElemRestangularized=function(t){return v.onBeforeElemRestangularized=t,this},a.setRestangularizePromiseInterceptor=function(t){return v.restangularizePromiseInterceptor=t,this},v.onElemRestangularized=v.onElemRestangularized||function(t){return t},a.setOnElemRestangularized=function(t){return v.onElemRestangularized=t,this},v.shouldSaveParent=v.shouldSaveParent||function(){return!0},a.setParentless=function(e){return _.isArray(e)?v.shouldSaveParent=function(t){return!_.includes(e,t)}:_.isBoolean(e)&&(v.shouldSaveParent=function(){return!e}),this},v.suffix=_.isUndefined(v.suffix)?null:v.suffix,a.setRequestSuffix=function(t){return v.suffix=t,this},v.transformers=v.transformers||{},a.addElementTransformer=function(t,e,n){var i=null,o=null;2===arguments.length?o=e:(o=n,i=e);var r=v.transformers[t];return r||(r=v.transformers[t]=[]),r.push(function(t,e){return _.isNull(i)||t===i?o(e):e}),a},a.extendCollection=function(t,e){return a.addElementTransformer(t,!0,e)},a.extendModel=function(t,e){return a.addElementTransformer(t,!1,e)},v.transformElem=function(t,e,n,i,o){if(!o&&!v.transformLocalElements&&!t[v.restangularFields.fromServer])return t;var r=v.transformers[n],a=t;return r&&_.each(r,function(t){a=t(e,a)}),v.onElemRestangularized(a,e,n,i)},v.transformLocalElements=!_.isUndefined(v.transformLocalElements)&&v.transformLocalElements,a.setTransformOnlyServerElements=function(t){v.transformLocalElements=!t},v.fullResponse=!_.isUndefined(v.fullResponse)&&v.fullResponse,a.setFullResponse=function(t){return v.fullResponse=t,this},v.urlCreatorFactory={};var t=function(){};t.prototype.setConfig=function(t){return this.config=t,this},t.prototype.parentsArray=function(t){for(var e=[];t;)e.push(t),t=t[this.config.restangularFields.parentResource];return e.reverse()},t.prototype.resource=function(t,e,n,i,o,r,a,s){var l=_.defaults(o||{},this.config.defaultRequestParams.common),u=_.defaults(i||{},this.config.defaultHeaders);a&&(v.isSafe(s)?u["If-None-Match"]=a:u["If-Match"]=a);var c,p,h,d,f,g=this.base(t);if(r){var m="";/\/$/.test(g)||(m+="/"),g+=m+=r}return this.config.suffix&&-1===g.indexOf(this.config.suffix,g.length-this.config.suffix.length)&&!this.config.getUrlFromElem(t)&&(g+=this.config.suffix),t[this.config.restangularFields.httpConfig]=void 0,c=this.config,p=e,h=g,d={getList:this.config.withHttpValues(n,{method:"GET",params:l,headers:u}),get:this.config.withHttpValues(n,{method:"GET",params:l,headers:u}),jsonp:this.config.withHttpValues(n,{method:"jsonp",params:l,headers:u}),put:this.config.withHttpValues(n,{method:"PUT",params:l,headers:u}),post:this.config.withHttpValues(n,{method:"POST",params:l,headers:u}),remove:this.config.withHttpValues(n,{method:"DELETE",params:l,headers:u}),head:this.config.withHttpValues(n,{method:"HEAD",params:l,headers:u}),trace:this.config.withHttpValues(n,{method:"TRACE",params:l,headers:u}),options:this.config.withHttpValues(n,{method:"OPTIONS",params:l,headers:u}),patch:this.config.withHttpValues(n,{method:"PATCH",params:l,headers:u})},f={},_.each(_.keys(d),function(t){var e=d[t];e.params=_.extend({},e.params,c.defaultRequestParams[e.method.toLowerCase()]),_.isEmpty(e.params)&&delete e.params,c.isSafe(e.method)?f[t]=function(){return p(_.extend(e,{url:h}))}:f[t]=function(t){return p(_.extend(e,{url:h,data:t}))}}),f};var i=function(){};(i.prototype=new t).normalizeUrl=function(t){var e=/(http[s]?:\/\/)?(.*)?/.exec(t);return e[2]=e[2].replace(/[\\\/]+/g,"/"),void 0!==e[1]?e[1]+e[2]:e[2]},i.prototype.base=function(t){var a=this;return _.reduce(this.parentsArray(t),function(t,e){var n,i=a.config.getUrlFromElem(e);if(i){if(a.config.isAbsoluteUrl(i))return i;n=i}else if(n=e[a.config.restangularFields.route],e[a.config.restangularFields.restangularCollection]){var o=e[a.config.restangularFields.ids];o&&(n+="/"+o.join(","))}else{var r;r=a.config.useCannonicalId?a.config.getCannonicalIdFromElem(e):a.config.getIdFromElem(e),v.isValidId(r)&&!e.singleOne&&(n+="/"+(a.config.encodeIds?encodeURIComponent(r):r))}return t=t.replace(/\/$/,"")+"/"+n,a.normalizeUrl(t)},this.config.baseUrl)},i.prototype.fetchUrl=function(t,e){var n=this.base(t);return e&&(n+="/"+e),n},i.prototype.fetchRequestedUrl=function(t,e){var n=this.fetchUrl(t,e),i=t[v.restangularFields.reqParams];function o(t,e){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,e?"%20":"+")}if(!i)return n+(this.config.suffix||"");var r=[];return function(t,e,n){for(var i=function(t){var e=[];for(var n in t)t.hasOwnProperty(n)&&e.push(n);return e.sort()}(t),o=0;o<i.length;o++)e.call(n,t[i[o]],i[o])}(i,function(t,e){null!=t&&(angular.isArray(t)||(t=[t]),angular.forEach(t,function(t){angular.isObject(t)&&(t=angular.toJson(t)),r.push(o(e)+"="+o(t))}))}),n+(this.config.suffix||"")+(-1===n.indexOf("?")?"?":"&")+r.join("&")},v.urlCreatorFactory.path=i};var t={};U.init(this,t),this.$get=["$http","$q",function(j,B){return function n(b){var w={},x=new b.urlCreatorFactory[b.urlCreator];function s(t,e,n,i,o){if(e[b.restangularFields.route]=n,e[b.restangularFields.getRestangularUrl]=_.bind(x.fetchUrl,x,e),e[b.restangularFields.getRequestedUrl]=_.bind(x.fetchRequestedUrl,x,e),e[b.restangularFields.addRestangularMethod]=_.bind(N,e),e[b.restangularFields.clone]=_.bind(f,e,e),e[b.restangularFields.reqParams]=_.isEmpty(i)?null:i,e[b.restangularFields.withHttpConfig]=_.bind(y,e),e[b.restangularFields.plain]=_.bind(C,e,e),e[b.restangularFields.restangularized]=!0,e[b.restangularFields.one]=_.bind(u,e,e),e[b.restangularFields.all]=_.bind(c,e,e),e[b.restangularFields.several]=_.bind(p,e,e),e[b.restangularFields.oneUrl]=_.bind(h,e,e),e[b.restangularFields.allUrl]=_.bind(d,e,e),e[b.restangularFields.fromServer]=!!o,t&&b.shouldSaveParent(n)){var r=b.getIdFromElem(t),a=b.getUrlFromElem(t),s=_.union(_.values(_.pick(b.restangularFields,["route","singleOne","parentResource"])),b.extraFields),l=_.pick(t,s);b.isValidId(r)&&b.setIdToElem(l,r,n),b.isValidId(a)&&b.setUrlToElem(l,a,n),e[b.restangularFields.parentResource]=l}else e[b.restangularFields.parentResource]=null;return e}function u(t,e,n,i){var o;if(_.isNumber(e)||_.isNumber(t))throw o="You're creating a Restangular entity with the number ",o+="instead of the route or the parent. For example, you can't call .one(12).",new Error(o);if(_.isUndefined(e))throw o="You're creating a Restangular entity either without the path. ",o+="For example you can't call .one(). Please check if your arguments are valid.",new Error(o);var r={};return b.setIdToElem(r,n,e),b.setFieldToElem(b.restangularFields.singleOne,r,i),S(t,r,e,!1)}function c(t,e){return g(t,[],e,!1)}function p(t,e){var n=[];return n[b.restangularFields.ids]=Array.prototype.splice.call(arguments,2),g(t,n,e,!1)}function h(t,e,n){if(!e)throw new Error("Route is mandatory when creating new Restangular objects.");var i={};return b.setUrlToElem(i,n,e),S(t,i,e,!1)}function d(t,e,n){if(!e)throw new Error("Route is mandatory when creating new Restangular objects.");var i={};return b.setUrlToElem(i,n,e),g(t,i,e,!1)}function $(t,e,n){return t.call=_.bind(i,t),t.get=_.bind(o,t),(t[b.restangularFields.restangularCollection]=e)&&(t.push=_.bind(i,t,"push")),t.$object=n,b.restangularizePromiseInterceptor&&b.restangularizePromiseInterceptor(t),t}function i(n){var i=B.defer(),o=arguments,r={};return this.then(function(t){var e=Array.prototype.slice.call(o,1);t[n].apply(t,e),r=t,i.resolve(t)}),$(i.promise,this[b.restangularFields.restangularCollection],r)}function o(e){var n=B.defer(),i={};return this.then(function(t){i=t[e],n.resolve(i)}),$(n.promise,this[b.restangularFields.restangularCollection],i)}function k(t,e,n,i){if(_.extend(i,n),b.fullResponse)return t.resolve(_.extend(e,{data:n}));t.resolve(n)}function C(t){if(_.isArray(t)){var e=[];return _.each(t,function(t){e.push(b.isRestangularized(t)?C(t):t)}),e}return _.omit(t,_.values(_.omit(b.restangularFields,"id")))}function l(r){r[b.restangularFields.customOperation]=_.bind(F,r),_.each(["put","post","get","delete"],function(o){_.each(["do","custom"],function(t){var e,n="delete"===o?"remove":o,i=t+o.toUpperCase();e="put"!==n&&"post"!==n?F:function(t,e,n,i,o){return _.bind(F,this)(t,n,i,o,e)},r[i]=_.bind(e,r,n)})}),r[b.restangularFields.customGETLIST]=_.bind(v,r),r[b.restangularFields.doGETLIST]=r[b.restangularFields.customGETLIST]}function f(t,e){var n=angular.copy(t,e);return S(n[b.restangularFields.parentResource],n,n[b.restangularFields.route],!0)}function S(t,e,n,i,o,r){var a=s(t,b.onBeforeElemRestangularized(e,!1,n),n,r,i);return b.useCannonicalId&&(a[b.restangularFields.cannonicalId]=b.getIdFromElem(a)),o&&(a[b.restangularFields.getParentList]=function(){return o}),a[b.restangularFields.restangularCollection]=!1,a[b.restangularFields.get]=_.bind(D,a),a[b.restangularFields.getList]=_.bind(v,a),a[b.restangularFields.put]=_.bind(E,a),a[b.restangularFields.post]=_.bind(P,a),a[b.restangularFields.remove]=_.bind(M,a),a[b.restangularFields.head]=_.bind(O,a),a[b.restangularFields.trace]=_.bind(I,a),a[b.restangularFields.options]=_.bind(R,a),a[b.restangularFields.patch]=_.bind(L,a),a[b.restangularFields.save]=_.bind(A,a),l(a),b.transformElem(a,!1,n,w,!0)}function g(t,e,n,i,o){var r=s(t,b.onBeforeElemRestangularized(e,!0,n),n,o,i);return r[b.restangularFields.restangularCollection]=!0,r[b.restangularFields.post]=_.bind(P,r,null),r[b.restangularFields.remove]=_.bind(M,r),r[b.restangularFields.head]=_.bind(O,r),r[b.restangularFields.trace]=_.bind(I,r),r[b.restangularFields.putElement]=_.bind(m,r),r[b.restangularFields.options]=_.bind(R,r),r[b.restangularFields.patch]=_.bind(L,r),r[b.restangularFields.get]=_.bind(a,r),r[b.restangularFields.getList]=_.bind(v,r,null),l(r),b.transformElem(r,!0,n,w,!0)}function a(t,e,n){return this.customGET(t.toString(),e,n)}function m(n,t,e){var i=this,o=this[n],r=B.defer(),a=[];return a=b.transformElem(a,!0,o[b.restangularFields.route],w),o.put(t,e).then(function(t){var e=f(i);e[n]=t,a=e,r.resolve(e)},function(t){r.reject(t)}),$(r.promise,!0,a)}function T(t,e,n,i,o,r){var a=b.responseExtractor(t,e,n,i,o,r),s=o.headers("ETag");return a&&s&&(a[b.restangularFields.etag]=s),a}function v(r,t,e){var a=this,s=B.defer(),l="getList",u=x.fetchUrl(this,r),c=r||a[b.restangularFields.route],n=b.fullRequestInterceptor(null,l,c,u,e||{},t||{},this[b.restangularFields.httpConfig]||{}),p=[];p=b.transformElem(p,!0,c,w);var i="getList";b.jsonp&&(i="jsonp");var o=function(t){var e=t.data,n=t.config.params,i=T(e,l,c,u,t,s);if((_.isUndefined(i)||""===i)&&(i=[]),!_.isArray(i))throw new Error("Response for getList SHOULD be an array and not an object or something else");var o=_.map(i,function(t){return a[b.restangularFields.restangularCollection]?S(a[b.restangularFields.parentResource],t,a[b.restangularFields.route],!0,i):S(a,t,r,!0,i)});o=_.extend(i,o),a[b.restangularFields.restangularCollection]?k(s,t,g(a[b.restangularFields.parentResource],o,a[b.restangularFields.route],!0,n),p):k(s,t,g(a,o,r,!0,n),p)};return x.resource(this,j,n.httpConfig,n.headers,n.params,r,this[b.restangularFields.etag],l)[i]().then(o,function(e){304===e.status&&a[b.restangularFields.restangularCollection]?k(s,e,a,p):_.every(b.errorInterceptors,function(t){return!1!==t(e,s,o)})&&s.reject(e)}),$(s.promise,!0,p)}function y(t){return this[b.restangularFields.httpConfig]=t,this}function A(t,e){return this[b.restangularFields.fromServer]?this[b.restangularFields.put](t,e):_.bind(r,this)("post",void 0,t,void 0,e)}function r(r,t,e,n,i){var a=this,s=B.defer(),o=e||{},l=t||this[b.restangularFields.route],u=x.fetchUrl(this,t),c=n||this,p=c[b.restangularFields.etag]||("post"!==r?this[b.restangularFields.etag]:null);_.isObject(c)&&b.isRestangularized(c)&&(c=C(c));var h=b.fullRequestInterceptor(c,r,l,u,i||{},o||{},this[b.restangularFields.httpConfig]||{}),d={};d=b.transformElem(d,!1,l,w);var f=function(t){var e,n=t.data,i=t.config.params,o=T(n,r,l,u,t,s);o?("post"!==r||a[b.restangularFields.restangularCollection]?(e=S(a[b.restangularFields.parentResource],o,a[b.restangularFields.route],!0,null,i))[b.restangularFields.singleOne]=a[b.restangularFields.singleOne]:e=S(a[b.restangularFields.parentResource],o,l,!0,null,i),k(s,t,e,d)):k(s,t,void 0,d)},g=function(e){304===e.status&&b.isSafe(r)?k(s,e,a,d):_.every(b.errorInterceptors,function(t){return!1!==t(e,s,f)})&&s.reject(e)},m=r,v=_.extend({},h.headers),y=b.isOverridenMethod(r);return y?(m="post",v=_.extend(v,{"X-HTTP-Method-Override":"remove"===r?"DELETE":r.toUpperCase()})):b.jsonp&&"get"===m&&(m="jsonp"),b.isSafe(r)?y?x.resource(this,j,h.httpConfig,v,h.params,t,p,m)[m]({}).then(f,g):x.resource(this,j,h.httpConfig,v,h.params,t,p,m)[m]().then(f,g):x.resource(this,j,h.httpConfig,v,h.params,t,p,m)[m](h.element).then(f,g),$(s.promise,!1,d)}function D(t,e){return _.bind(r,this)("get",void 0,t,void 0,e)}function M(t,e){return _.bind(r,this)("remove",void 0,t,void 0,e)}function E(t,e){return _.bind(r,this)("put",void 0,t,void 0,e)}function P(t,e,n,i){return _.bind(r,this)("post",t,n,e,i)}function O(t,e){return _.bind(r,this)("head",void 0,t,void 0,e)}function I(t,e){return _.bind(r,this)("trace",void 0,t,void 0,e)}function R(t,e){return _.bind(r,this)("options",void 0,t,void 0,e)}function L(t,e,n){return _.bind(r,this)("patch",void 0,e,t,n)}function F(t,e,n,i,o){return _.bind(r,this)(t,e,n,o,i)}function N(t,e,n,o,r,a){var s;s="getList"===e?_.bind(v,this,n):_.bind(F,this,e,n);var i=function(t,e,n){var i=_.defaults({params:t,headers:e,elem:n},{params:o,headers:r,elem:a});return s(i.params,i.headers,i.elem)};b.isSafe(e)?this[t]=i:this[t]=function(t,e,n){return i(e,n,t)}}return x.setConfig(b),U.init(w,b),w.copy=_.bind(f,w),w.service=_.bind(function(t,e){var n=_.values(b.restangularFields),i={},o=(e||w).all(t);for(var r in i.one=_.bind(u,e||w,e,t),i.post=_.bind(o.post,o),i.getList=_.bind(o.getList,o),o)o.hasOwnProperty(r)&&_.isFunction(o[r])&&!_.includes(n,r)&&(i[r]=_.bind(o[r],o));return i},w),w.withConfig=_.bind(function(t){var e=angular.copy(_.omit(b,"configuration"));return U.init(e,e),t(e),n(e)},w),w.one=_.bind(u,w,null),w.all=_.bind(c,w,null),w.several=_.bind(p,w,null),w.oneUrl=_.bind(h,w,null),w.allUrl=_.bind(d,w,null),w.stripRestangular=_.bind(C,w),w.restangularizeElement=_.bind(S,w),w.restangularizeCollection=_.bind(function(e,t,n){var i=g(e,t,n,!1);return _.each(i,function(t){S(e,t,n,!1)}),i},w),w}(t)}]}),function(t,e){"function"==typeof define&&define.amd?define([],e):"undefined"!=typeof module&&module.exports?module.exports=e():t.tv4=e()}(this,function(){var o,r,a,s;Object.keys||(Object.keys=(o=Object.prototype.hasOwnProperty,r=!{toString:null}.propertyIsEnumerable("toString"),s=(a=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"]).length,function(t){if("object"!=typeof t&&"function"!=typeof t||null===t)throw new TypeError("Object.keys called on non-object");var e=[];for(var n in t)o.call(t,n)&&e.push(n);if(r)for(var i=0;i<s;i++)o.call(t,a[i])&&e.push(a[i]);return e})),Object.create||(Object.create=function(){function e(){}return function(t){if(1!==arguments.length)throw new Error("Object.create implementation only accepts one parameter.");return e.prototype=t,new e}}()),Array.isArray||(Array.isArray=function(t){return"[object Array]"===Object.prototype.toString.call(t)}),Array.prototype.indexOf||(Array.prototype.indexOf=function(t){if(null===this)throw new TypeError;var e=Object(this),n=e.length>>>0;if(0===n)return-1;var i=0;if(1<arguments.length&&((i=Number(arguments[1]))!=i?i=0:0!==i&&i!==1/0&&i!==-1/0&&(i=(0<i||-1)*Math.floor(Math.abs(i)))),n<=i)return-1;for(var o=0<=i?i:Math.max(n-Math.abs(i),0);o<n;o++)if(o in e&&e[o]===t)return o;return-1}),Object.isFrozen||(Object.isFrozen=function(t){for(var e="tv4_test_frozen_key";t.hasOwnProperty(e);)e+=Math.random();try{return t[e]=!0,delete t[e],!1}catch(t){return!0}});var l=function(t,e,n,i,o){if(this.missing=[],this.missingMap={},this.formatValidators=t?Object.create(t.formatValidators):{},this.schemas=t?Object.create(t.schemas):{},this.collectMultiple=e,this.errors=[],this.handleError=e?this.collectError:this.returnError,i&&(this.checkRecursive=!0,this.scanned=[],this.scannedFrozen=[],this.scannedFrozenSchemas=[],this.scannedFrozenValidationErrors=[],this.validatedSchemasKey="tv4_validation_id",this.validationErrorsKey="tv4_validation_errors_id"),o&&(this.trackUnknownProperties=!0,this.knownPropertyPaths={},this.unknownPropertyPaths={}),this.errorMessages=n,this.definedKeywords={},t)for(var r in t.definedKeywords)this.definedKeywords[r]=t.definedKeywords[r].slice(0)};function u(t,e){if(t===e)return!0;if("object"!=typeof t||"object"!=typeof e)return!1;if(Array.isArray(t)!==Array.isArray(e))return!1;if(Array.isArray(t)){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(!u(t[n],e[n]))return!1}else{var i;for(i in t)if(void 0===e[i]&&void 0!==t[i])return!1;for(i in e)if(void 0===t[i]&&void 0!==e[i])return!1;for(i in t)if(!u(t[i],e[i]))return!1}return!0}function c(t){var e=String(t).replace(/^\s+|\s+$/g,"").match(/^([^:\/?#]+:)?(\/\/(?:[^:@]*(?::[^:@]*)?@)?(([^:\/?#]*)(?::(\d*))?))?([^?#]*)(\?[^#]*)?(#[\s\S]*)?/);return e?{href:e[0]||"",protocol:e[1]||"",authority:e[2]||"",host:e[3]||"",hostname:e[4]||"",port:e[5]||"",pathname:e[6]||"",search:e[7]||"",hash:e[8]||""}:null}function p(t,e){return e=c(e||""),t=c(t||""),e&&t?(e.protocol||t.protocol)+(e.protocol||e.authority?e.authority:t.authority)+(n=e.protocol||e.authority||"/"===e.pathname.charAt(0)?e.pathname:e.pathname?(t.authority&&!t.pathname?"/":"")+t.pathname.slice(0,t.pathname.lastIndexOf("/")+1)+e.pathname:t.pathname,i=[],n.replace(/^(\.\.?(\/|$))+/,"").replace(/\/(\.(\/|$))+/g,"/").replace(/\/\.\.$/,"/../").replace(/\/?[^\/]*/g,function(t){"/.."===t?i.pop():i.push(t)}),i.join("").replace(/^\//,"/"===n.charAt(0)?"/":""))+(e.protocol||e.authority||e.pathname?e.search:e.search||t.search)+e.hash:null;var n,i}function h(t){return t.split("#")[0]}function d(t,e){if(t&&"object"==typeof t)if(void 0===e?e=t.id:"string"==typeof t.id&&(e=p(e,t.id),t.id=e),Array.isArray(t))for(var n=0;n<t.length;n++)d(t[n],e);else for(var i in"string"==typeof t.$ref&&(t.$ref=p(e,t.$ref)),t)"enum"!==i&&d(t[i],e)}l.prototype.defineKeyword=function(t,e){this.definedKeywords[t]=this.definedKeywords[t]||[],this.definedKeywords[t].push(e)},l.prototype.createError=function(t,i,e,n,o){var r=this.errorMessages[t]||m[t];return new v(t,"string"!=typeof r?"Unknown error code "+t+": "+JSON.stringify(i):r.replace(/\{([^{}]*)\}/g,function(t,e){var n=i[e];return"string"==typeof n||"number"==typeof n?n:t}),e,n,o)},l.prototype.returnError=function(t){return t},l.prototype.collectError=function(t){return t&&this.errors.push(t),null},l.prototype.prefixErrors=function(t,e,n){for(var i=t;i<this.errors.length;i++)this.errors[i]=this.errors[i].prefixWith(e,n);return this},l.prototype.banUnknownProperties=function(){for(var t in this.unknownPropertyPaths){var e=this.createError(f.UNKNOWN_PROPERTY,{path:t},t,""),n=this.handleError(e);if(n)return n}return null},l.prototype.addFormat=function(t,e){if("object"==typeof t){for(var n in t)this.addFormat(n,t[n]);return this}this.formatValidators[t]=e},l.prototype.resolveRefs=function(t,e){if(void 0!==t.$ref){if((e=e||{})[t.$ref])return this.createError(f.CIRCULAR_REFERENCE,{urls:Object.keys(e).join(", ")},"","");e[t.$ref]=!0,t=this.getSchema(t.$ref,e)}return t},l.prototype.getSchema=function(t,e){var n;if(void 0!==this.schemas[t])return n=this.schemas[t],this.resolveRefs(n,e);var i=t,o="";if(-1!==t.indexOf("#")&&(o=t.substring(t.indexOf("#")+1),i=t.substring(0,t.indexOf("#"))),"object"==typeof this.schemas[i]){n=this.schemas[i];var r=decodeURIComponent(o);if(""===r)return this.resolveRefs(n,e);if("/"!==r.charAt(0))return;for(var a=r.split("/").slice(1),s=0;s<a.length;s++){var l=a[s].replace(/~1/g,"/").replace(/~0/g,"~");if(void 0===n[l]){n=void 0;break}n=n[l]}if(void 0!==n)return this.resolveRefs(n,e)}void 0===this.missing[i]&&(this.missing.push(i),this.missing[i]=i,this.missingMap[i]=i)},l.prototype.searchSchemas=function(t,e){if(t&&"object"==typeof t)for(var n in"string"==typeof t.id&&function(t,e){if(e.substring(0,t.length)===t){var n=e.substring(t.length);if(0<e.length&&"/"===e.charAt(t.length-1)||"#"===n.charAt(0)||"?"===n.charAt(0))return!0}return!1}(e,t.id)&&void 0===this.schemas[t.id]&&(this.schemas[t.id]=t),t)if("enum"!==n)if("object"==typeof t[n])this.searchSchemas(t[n],e);else if("$ref"===n){var i=h(t[n]);i&&void 0===this.schemas[i]&&void 0===this.missingMap[i]&&(this.missingMap[i]=i)}},l.prototype.addSchema=function(t,e){if("string"!=typeof t||void 0===e){if("object"!=typeof t||"string"!=typeof t.id)return;t=(e=t).id}(t=h(t)+"#")&&(t=h(t)),this.schemas[t]=e,delete this.missingMap[t],d(e,t),this.searchSchemas(e,t)},l.prototype.getSchemaMap=function(){var t={};for(var e in this.schemas)t[e]=this.schemas[e];return t},l.prototype.getSchemaUris=function(t){var e=[];for(var n in this.schemas)t&&!t.test(n)||e.push(n);return e},l.prototype.getMissingUris=function(t){var e=[];for(var n in this.missingMap)t&&!t.test(n)||e.push(n);return e},l.prototype.dropSchemas=function(){this.schemas={},this.reset()},l.prototype.reset=function(){this.missing=[],this.missingMap={},this.errors=[]},l.prototype.validateAll=function(e,t,n,i,o){var r;if(!(t=this.resolveRefs(t)))return null;if(t instanceof v)return this.errors.push(t),t;var a,s=this.errors.length,l=null,u=null;if(this.checkRecursive&&e&&"object"==typeof e){if(r=!this.scanned.length,e[this.validatedSchemasKey]){var c=e[this.validatedSchemasKey].indexOf(t);if(-1!==c)return this.errors=this.errors.concat(e[this.validationErrorsKey][c]),null}if(Object.isFrozen(e)&&-1!==(a=this.scannedFrozen.indexOf(e))){var p=this.scannedFrozenSchemas[a].indexOf(t);if(-1!==p)return this.errors=this.errors.concat(this.scannedFrozenValidationErrors[a][p]),null}if(this.scanned.push(e),Object.isFrozen(e))-1===a&&(a=this.scannedFrozen.length,this.scannedFrozen.push(e),this.scannedFrozenSchemas.push([])),l=this.scannedFrozenSchemas[a].length,this.scannedFrozenSchemas[a][l]=t,this.scannedFrozenValidationErrors[a][l]=[];else{if(!e[this.validatedSchemasKey])try{Object.defineProperty(e,this.validatedSchemasKey,{value:[],configurable:!0}),Object.defineProperty(e,this.validationErrorsKey,{value:[],configurable:!0})}catch(t){e[this.validatedSchemasKey]=[],e[this.validationErrorsKey]=[]}u=e[this.validatedSchemasKey].length,e[this.validatedSchemasKey][u]=t,e[this.validationErrorsKey][u]=[]}}var h=this.errors.length,d=this.validateBasic(e,t,o)||this.validateNumeric(e,t,o)||this.validateString(e,t,o)||this.validateArray(e,t,o)||this.validateObject(e,t,o)||this.validateCombinations(e,t,o)||this.validateFormat(e,t,o)||this.validateDefinedKeywords(e,t,o)||null;if(r){for(;this.scanned.length;){delete this.scanned.pop()[this.validatedSchemasKey]}this.scannedFrozen=[],this.scannedFrozenSchemas=[]}if(d||h!==this.errors.length)for(;n&&n.length||i&&i.length;){var f=n&&n.length?""+n.pop():null,g=i&&i.length?""+i.pop():null;d&&(d=d.prefixWith(f,g)),this.prefixErrors(h,f,g)}return null!==l?this.scannedFrozenValidationErrors[a][l]=this.errors.slice(s):null!==u&&(e[this.validationErrorsKey][u]=this.errors.slice(s)),this.handleError(d)},l.prototype.validateFormat=function(t,e){if("string"!=typeof e.format||!this.formatValidators[e.format])return null;var n=this.formatValidators[e.format].call(null,t,e);return"string"==typeof n||"number"==typeof n?this.createError(f.FORMAT_CUSTOM,{message:n}).prefixWith(null,"format"):n&&"object"==typeof n?this.createError(f.FORMAT_CUSTOM,{message:n.message||"?"},n.dataPath||null,n.schemaPath||"/format"):null},l.prototype.validateDefinedKeywords=function(t,e){for(var n in this.definedKeywords)for(var i=this.definedKeywords[n],o=0;o<i.length;o++){var r=(0,i[o])(t,e[n],e);if("string"==typeof r||"number"==typeof r)return this.createError(f.KEYWORD_CUSTOM,{key:n,message:r}).prefixWith(null,"format");if(r&&"object"==typeof r){var a=r.code||f.KEYWORD_CUSTOM;if("string"==typeof a){if(!f[a])throw new Error("Undefined error code (use defineError): "+a);a=f[a]}var s="object"==typeof r.message?r.message:{key:n,message:r.message||"?"},l=r.schemaPath||"/"+n.replace(/~/g,"~0").replace(/\//g,"~1");return this.createError(a,s,r.dataPath||null,l)}}return null},l.prototype.validateBasic=function(t,e,n){var i;return(i=this.validateType(t,e,n))?i.prefixWith(null,"type"):(i=this.validateEnum(t,e,n))?i.prefixWith(null,"type"):null},l.prototype.validateType=function(t,e){if(void 0===e.type)return null;var n=typeof t;null===t?n="null":Array.isArray(t)&&(n="array");var i=e.type;"object"!=typeof i&&(i=[i]);for(var o=0;o<i.length;o++){var r=i[o];if(r===n||"integer"===r&&"number"===n&&t%1==0)return null}return this.createError(f.INVALID_TYPE,{type:n,expected:i.join("/")})},l.prototype.validateEnum=function(t,e){if(void 0===e.enum)return null;for(var n=0;n<e.enum.length;n++){if(u(t,e.enum[n]))return null}return this.createError(f.ENUM_MISMATCH,{value:"undefined"!=typeof JSON?JSON.stringify(t):t})},l.prototype.validateNumeric=function(t,e,n){return this.validateMultipleOf(t,e,n)||this.validateMinMax(t,e,n)||null},l.prototype.validateMultipleOf=function(t,e){var n=e.multipleOf||e.divisibleBy;return void 0===n?null:"number"==typeof t&&t%n!=0?this.createError(f.NUMBER_MULTIPLE_OF,{value:t,multipleOf:n}):null},l.prototype.validateMinMax=function(t,e){if("number"!=typeof t)return null;if(void 0!==e.minimum){if(t<e.minimum)return this.createError(f.NUMBER_MINIMUM,{value:t,minimum:e.minimum}).prefixWith(null,"minimum");if(e.exclusiveMinimum&&t===e.minimum)return this.createError(f.NUMBER_MINIMUM_EXCLUSIVE,{value:t,minimum:e.minimum}).prefixWith(null,"exclusiveMinimum")}if(void 0!==e.maximum){if(t>e.maximum)return this.createError(f.NUMBER_MAXIMUM,{value:t,maximum:e.maximum}).prefixWith(null,"maximum");if(e.exclusiveMaximum&&t===e.maximum)return this.createError(f.NUMBER_MAXIMUM_EXCLUSIVE,{value:t,maximum:e.maximum}).prefixWith(null,"exclusiveMaximum")}return null},l.prototype.validateString=function(t,e,n){return this.validateStringLength(t,e,n)||this.validateStringPattern(t,e,n)||null},l.prototype.validateStringLength=function(t,e){return"string"!=typeof t?null:void 0!==e.minLength&&t.length<e.minLength?this.createError(f.STRING_LENGTH_SHORT,{length:t.length,minimum:e.minLength}).prefixWith(null,"minLength"):void 0!==e.maxLength&&t.length>e.maxLength?this.createError(f.STRING_LENGTH_LONG,{length:t.length,maximum:e.maxLength}).prefixWith(null,"maxLength"):null},l.prototype.validateStringPattern=function(t,e){return"string"!=typeof t||void 0===e.pattern?null:new RegExp(e.pattern).test(t)?null:this.createError(f.STRING_PATTERN,{pattern:e.pattern}).prefixWith(null,"pattern")},l.prototype.validateArray=function(t,e,n){return Array.isArray(t)&&(this.validateArrayLength(t,e,n)||this.validateArrayUniqueItems(t,e,n)||this.validateArrayItems(t,e,n))||null},l.prototype.validateArrayLength=function(t,e){var n;return void 0!==e.minItems&&t.length<e.minItems&&(n=this.createError(f.ARRAY_LENGTH_SHORT,{length:t.length,minimum:e.minItems}).prefixWith(null,"minItems"),this.handleError(n))?n:void 0!==e.maxItems&&t.length>e.maxItems&&(n=this.createError(f.ARRAY_LENGTH_LONG,{length:t.length,maximum:e.maxItems}).prefixWith(null,"maxItems"),this.handleError(n))?n:null},l.prototype.validateArrayUniqueItems=function(t,e){if(e.uniqueItems)for(var n=0;n<t.length;n++)for(var i=n+1;i<t.length;i++)if(u(t[n],t[i])){var o=this.createError(f.ARRAY_UNIQUE,{match1:n,match2:i}).prefixWith(null,"uniqueItems");if(this.handleError(o))return o}return null},l.prototype.validateArrayItems=function(t,e,n){if(void 0===e.items)return null;var i,o;if(Array.isArray(e.items)){for(o=0;o<t.length;o++)if(o<e.items.length){if(i=this.validateAll(t[o],e.items[o],[o],["items",o],n+"/"+o))return i}else if(void 0!==e.additionalItems)if("boolean"==typeof e.additionalItems){if(!e.additionalItems&&(i=this.createError(f.ARRAY_ADDITIONAL_ITEMS,{}).prefixWith(""+o,"additionalItems"),this.handleError(i)))return i}else if(i=this.validateAll(t[o],e.additionalItems,[o],["additionalItems"],n+"/"+o))return i}else for(o=0;o<t.length;o++)if(i=this.validateAll(t[o],e.items,[o],["items"],n+"/"+o))return i;return null},l.prototype.validateObject=function(t,e,n){return"object"!=typeof t||null===t||Array.isArray(t)?null:this.validateObjectMinMaxProperties(t,e,n)||this.validateObjectRequiredProperties(t,e,n)||this.validateObjectProperties(t,e,n)||this.validateObjectDependencies(t,e,n)||null},l.prototype.validateObjectMinMaxProperties=function(t,e){var n,i=Object.keys(t);return void 0!==e.minProperties&&i.length<e.minProperties&&(n=this.createError(f.OBJECT_PROPERTIES_MINIMUM,{propertyCount:i.length,minimum:e.minProperties}).prefixWith(null,"minProperties"),this.handleError(n))?n:void 0!==e.maxProperties&&i.length>e.maxProperties&&(n=this.createError(f.OBJECT_PROPERTIES_MAXIMUM,{propertyCount:i.length,maximum:e.maxProperties}).prefixWith(null,"maxProperties"),this.handleError(n))?n:null},l.prototype.validateObjectRequiredProperties=function(t,e){if(void 0!==e.required)for(var n=0;n<e.required.length;n++){var i=e.required[n];if(void 0===t[i]){var o=this.createError(f.OBJECT_REQUIRED,{key:i}).prefixWith(null,""+n).prefixWith(null,"required");if(this.handleError(o))return o}}return null},l.prototype.validateObjectProperties=function(t,e,n){var i;for(var o in t){var r=n+"/"+o.replace(/~/g,"~0").replace(/\//g,"~1"),a=!1;if(void 0!==e.properties&&void 0!==e.properties[o]&&(a=!0,i=this.validateAll(t[o],e.properties[o],[o],["properties",o],r)))return i;if(void 0!==e.patternProperties)for(var s in e.patternProperties){if(new RegExp(s).test(o)&&(a=!0,i=this.validateAll(t[o],e.patternProperties[s],[o],["patternProperties",s],r)))return i}if(a)this.trackUnknownProperties&&(this.knownPropertyPaths[r]=!0,delete this.unknownPropertyPaths[r]);else if(void 0!==e.additionalProperties){if(this.trackUnknownProperties&&(this.knownPropertyPaths[r]=!0,delete this.unknownPropertyPaths[r]),"boolean"==typeof e.additionalProperties){if(!e.additionalProperties&&(i=this.createError(f.OBJECT_ADDITIONAL_PROPERTIES,{}).prefixWith(o,"additionalProperties"),this.handleError(i)))return i}else if(i=this.validateAll(t[o],e.additionalProperties,[o],["additionalProperties"],r))return i}else this.trackUnknownProperties&&!this.knownPropertyPaths[r]&&(this.unknownPropertyPaths[r]=!0)}return null},l.prototype.validateObjectDependencies=function(t,e,n){var i;if(void 0!==e.dependencies)for(var o in e.dependencies)if(void 0!==t[o]){var r=e.dependencies[o];if("string"==typeof r){if(void 0===t[r]&&(i=this.createError(f.OBJECT_DEPENDENCY_KEY,{key:o,missing:r}).prefixWith(null,o).prefixWith(null,"dependencies"),this.handleError(i)))return i}else if(Array.isArray(r))for(var a=0;a<r.length;a++){var s=r[a];if(void 0===t[s]&&(i=this.createError(f.OBJECT_DEPENDENCY_KEY,{key:o,missing:s}).prefixWith(null,""+a).prefixWith(null,o).prefixWith(null,"dependencies"),this.handleError(i)))return i}else if(i=this.validateAll(t,r,[],["dependencies",o],n))return i}return null},l.prototype.validateCombinations=function(t,e,n){return this.validateAllOf(t,e,n)||this.validateAnyOf(t,e,n)||this.validateOneOf(t,e,n)||this.validateNot(t,e,n)||null},l.prototype.validateAllOf=function(t,e,n){if(void 0===e.allOf)return null;for(var i,o=0;o<e.allOf.length;o++){var r=e.allOf[o];if(i=this.validateAll(t,r,[],["allOf",o],n))return i}return null},l.prototype.validateAnyOf=function(t,e,n){if(void 0===e.anyOf)return null;var i,o,r=[],a=this.errors.length;this.trackUnknownProperties&&(i=this.unknownPropertyPaths,o=this.knownPropertyPaths);for(var s=!0,l=0;l<e.anyOf.length;l++){this.trackUnknownProperties&&(this.unknownPropertyPaths={},this.knownPropertyPaths={});var u=e.anyOf[l],c=this.errors.length,p=this.validateAll(t,u,[],["anyOf",l],n);if(null===p&&c===this.errors.length){if(this.errors=this.errors.slice(0,a),this.trackUnknownProperties){for(var h in this.knownPropertyPaths)o[h]=!0,delete i[h];for(var d in this.unknownPropertyPaths)o[d]||(i[d]=!0);s=!1;continue}return null}p&&r.push(p.prefixWith(null,""+l).prefixWith(null,"anyOf"))}return this.trackUnknownProperties&&(this.unknownPropertyPaths=i,this.knownPropertyPaths=o),s?(r=r.concat(this.errors.slice(a)),this.errors=this.errors.slice(0,a),this.createError(f.ANY_OF_MISSING,{},"","/anyOf",r)):void 0},l.prototype.validateOneOf=function(t,e,n){if(void 0===e.oneOf)return null;var i,o,r=null,a=[],s=this.errors.length;this.trackUnknownProperties&&(i=this.unknownPropertyPaths,o=this.knownPropertyPaths);for(var l=0;l<e.oneOf.length;l++){this.trackUnknownProperties&&(this.unknownPropertyPaths={},this.knownPropertyPaths={});var u=e.oneOf[l],c=this.errors.length,p=this.validateAll(t,u,[],["oneOf",l],n);if(null===p&&c===this.errors.length){if(null!==r)return this.errors=this.errors.slice(0,s),this.createError(f.ONE_OF_MULTIPLE,{index1:r,index2:l},"","/oneOf");if(r=l,this.trackUnknownProperties){for(var h in this.knownPropertyPaths)o[h]=!0,delete i[h];for(var d in this.unknownPropertyPaths)o[d]||(i[d]=!0)}}else p&&a.push(p.prefixWith(null,""+l).prefixWith(null,"oneOf"))}return this.trackUnknownProperties&&(this.unknownPropertyPaths=i,this.knownPropertyPaths=o),null===r?(a=a.concat(this.errors.slice(s)),this.errors=this.errors.slice(0,s),this.createError(f.ONE_OF_MISSING,{},"","/oneOf",a)):(this.errors=this.errors.slice(0,s),null)},l.prototype.validateNot=function(t,e,n){if(void 0===e.not)return null;var i,o,r=this.errors.length;this.trackUnknownProperties&&(i=this.unknownPropertyPaths,o=this.knownPropertyPaths,this.unknownPropertyPaths={},this.knownPropertyPaths={});var a=this.validateAll(t,e.not,null,null,n),s=this.errors.slice(r);return this.errors=this.errors.slice(0,r),this.trackUnknownProperties&&(this.unknownPropertyPaths=i,this.knownPropertyPaths=o),null===a&&0===s.length?this.createError(f.NOT_PASSED,{},"","/not"):null};var f={INVALID_TYPE:0,ENUM_MISMATCH:1,ANY_OF_MISSING:10,ONE_OF_MISSING:11,ONE_OF_MULTIPLE:12,NOT_PASSED:13,NUMBER_MULTIPLE_OF:100,NUMBER_MINIMUM:101,NUMBER_MINIMUM_EXCLUSIVE:102,NUMBER_MAXIMUM:103,NUMBER_MAXIMUM_EXCLUSIVE:104,STRING_LENGTH_SHORT:200,STRING_LENGTH_LONG:201,STRING_PATTERN:202,OBJECT_PROPERTIES_MINIMUM:300,OBJECT_PROPERTIES_MAXIMUM:301,OBJECT_REQUIRED:302,OBJECT_ADDITIONAL_PROPERTIES:303,OBJECT_DEPENDENCY_KEY:304,ARRAY_LENGTH_SHORT:400,ARRAY_LENGTH_LONG:401,ARRAY_UNIQUE:402,ARRAY_ADDITIONAL_ITEMS:403,FORMAT_CUSTOM:500,KEYWORD_CUSTOM:501,CIRCULAR_REFERENCE:600,UNKNOWN_PROPERTY:1e3},g={};for(var t in f)g[f[t]]=t;var m={INVALID_TYPE:"invalid type: {type} (expected {expected})",ENUM_MISMATCH:"No enum match for: {value}",ANY_OF_MISSING:'Data does not match any schemas from "anyOf"',ONE_OF_MISSING:'Data does not match any schemas from "oneOf"',ONE_OF_MULTIPLE:'Data is valid against more than one schema from "oneOf": indices {index1} and {index2}',NOT_PASSED:'Data matches schema from "not"',NUMBER_MULTIPLE_OF:"Value {value} is not a multiple of {multipleOf}",NUMBER_MINIMUM:"Value {value} is less than minimum {minimum}",NUMBER_MINIMUM_EXCLUSIVE:"Value {value} is equal to exclusive minimum {minimum}",NUMBER_MAXIMUM:"Value {value} is greater than maximum {maximum}",NUMBER_MAXIMUM_EXCLUSIVE:"Value {value} is equal to exclusive maximum {maximum}",STRING_LENGTH_SHORT:"String is too short ({length} chars), minimum {minimum}",STRING_LENGTH_LONG:"String is too long ({length} chars), maximum {maximum}",STRING_PATTERN:"String does not match pattern: {pattern}",OBJECT_PROPERTIES_MINIMUM:"Too few properties defined ({propertyCount}), minimum {minimum}",OBJECT_PROPERTIES_MAXIMUM:"Too many properties defined ({propertyCount}), maximum {maximum}",OBJECT_REQUIRED:"Missing required property: {key}",OBJECT_ADDITIONAL_PROPERTIES:"Additional properties not allowed",OBJECT_DEPENDENCY_KEY:"Dependency failed - key must exist: {missing} (due to key: {key})",ARRAY_LENGTH_SHORT:"Array is too short ({length}), minimum {minimum}",ARRAY_LENGTH_LONG:"Array is too long ({length}), maximum {maximum}",ARRAY_UNIQUE:"Array items are not unique (indices {match1} and {match2})",ARRAY_ADDITIONAL_ITEMS:"Additional items not allowed",FORMAT_CUSTOM:"Format validation failed ({message})",KEYWORD_CUSTOM:"Keyword failed: {key} ({message})",CIRCULAR_REFERENCE:"Circular $refs: {urls}",UNKNOWN_PROPERTY:"Unknown property (not in schema)"};function v(t,e,n,i,o){if(Error.call(this),void 0===t)throw new Error("No code supplied for error: "+e);this.message=e,this.code=t,this.dataPath=n||"",this.schemaPath=i||"",this.subErrors=o||null;var r=new Error(this.message);if(this.stack=r.stack||r.stacktrace,!this.stack)try{throw r}catch(r){this.stack=r.stack||r.stacktrace}}((v.prototype=Object.create(Error.prototype)).constructor=v).prototype.name="ValidationError",v.prototype.prefixWith=function(t,e){if(null!==t&&(t=t.replace(/~/g,"~0").replace(/\//g,"~1"),this.dataPath="/"+t+this.dataPath),null!==e&&(e=e.replace(/~/g,"~0").replace(/\//g,"~1"),this.schemaPath="/"+e+this.schemaPath),null!==this.subErrors)for(var n=0;n<this.subErrors.length;n++)this.subErrors[n].prefixWith(t,e);return this};var y={};var e=function n(t){var a=new l,s=t||"en";return{addFormat:function(){a.addFormat.apply(a,arguments)},language:function(t){return t?(y[t]||(t=t.split("-")[0]),!!y[t]&&(s=t)):s},addLanguage:function(t,e){var n;for(n in f)e[n]&&!e[f[n]]&&(e[f[n]]=e[n]);var i=t.split("-")[0];if(y[i])for(n in y[t]=Object.create(y[i]),e)void 0===y[i][n]&&(y[i][n]=e[n]),y[t][n]=e[n];else y[t]=e,y[i]=e;return this},freshApi:function(t){var e=n();return t&&e.language(t),e},validate:function(t,e,n,i){var o=new l(a,!1,y[s],n,i);"string"==typeof e&&(e={$ref:e}),o.addSchema("",e);var r=o.validateAll(t,e,null,null,"");return!r&&i&&(r=o.banUnknownProperties()),this.error=r,this.missing=o.missing,this.valid=null===r,this.valid},validateResult:function(){var t={};return this.validate.apply(t,arguments),t},validateMultiple:function(t,e,n,i){var o=new l(a,!0,y[s],n,i);"string"==typeof e&&(e={$ref:e}),o.addSchema("",e),o.validateAll(t,e,null,null,""),i&&o.banUnknownProperties();var r={};return r.errors=o.errors,r.missing=o.missing,r.valid=0===r.errors.length,r},addSchema:function(){return a.addSchema.apply(a,arguments)},getSchema:function(){return a.getSchema.apply(a,arguments)},getSchemaMap:function(){return a.getSchemaMap.apply(a,arguments)},getSchemaUris:function(){return a.getSchemaUris.apply(a,arguments)},getMissingUris:function(){return a.getMissingUris.apply(a,arguments)},dropSchemas:function(){a.dropSchemas.apply(a,arguments)},defineKeyword:function(){a.defineKeyword.apply(a,arguments)},defineError:function(t,e,n){if("string"!=typeof t||!/^[A-Z]+(_[A-Z]+)*$/.test(t))throw new Error("Code name must be a string in UPPER_CASE_WITH_UNDERSCORES");if("number"!=typeof e||e%1!=0||e<1e4)throw new Error("Code number must be an integer > 10000");if(void 0!==f[t])throw new Error("Error already defined: "+t+" as "+f[t]);if(void 0!==g[e])throw new Error("Error code already used: "+g[e]+" as "+e);for(var i in f[t]=e,g[e]=t,m[t]=m[e]=n,y){var o=y[i];o[t]&&(o[e]=o[e]||o[t])}},reset:function(){a.reset(),this.error=null,this.missing=[],this.valid=!0},missing:[],error:null,valid:!0,normSchema:d,resolveUrl:p,getDocumentUri:h,errorCodes:f}}();return e.addLanguage("en-gb",m),e.tv4=e}),function(x,$){"use strict";var _,k,C,S,T,A,D,M,E=$.$$minErr("$sanitize");$.module("ngSanitize",[]).provider("$sanitize",function(){var e=!1;this.$get=["$$sanitizeUri",function(n){return e&&k(h,c),function(t){var e=[];return D(t,M(e,function(t,e){return!/^unsafe:/.test(n(t,e))})),e.join("")}}],this.enableSvg=function(t){return S(t)?(e=t,this):e},_=$.bind,k=$.extend,C=$.forEach,S=$.isDefined,T=$.lowercase,A=$.noop,D=function(t,e){null==t?t="":"string"!=typeof t&&(t=""+t),r.innerHTML=t;var n=5;do{if(0===n)throw E("uinput","Failed to sanitize html because the input is unstable");n--,x.document.documentMode&&w(r),t=r.innerHTML,r.innerHTML=t}while(t!==r.innerHTML);for(var i=r.firstChild;i;){switch(i.nodeType){case 1:e.start(i.nodeName.toLowerCase(),y(i.attributes));break;case 3:e.chars(i.textContent)}var o;if(!((o=i.firstChild)||(1==i.nodeType&&e.end(i.nodeName.toLowerCase()),o=i.nextSibling)))for(;null==o&&(i=i.parentNode)!==r;)o=i.nextSibling,1==i.nodeType&&e.end(i.nodeName.toLowerCase());i=o}for(;i=r.firstChild;)r.removeChild(i)},M=function(t,r){var e=!1,a=_(t,t.push);return{start:function(o,t){o=T(o),!e&&p[o]&&(e=o),e||!0!==h[o]||(a("<"),a(o),C(t,function(t,e){var n=T(e),i="img"===o&&"src"===n||"background"===n;!0!==m[n]||!0===d[n]&&!r(t,i)||(a(" "),a(e),a('="'),a(b(t)),a('"'))}),a(">"))},end:function(t){t=T(t),e||!0!==h[t]||!0===o[t]||(a("</"),a(t),a(">")),t==e&&(e=!1)},chars:function(t){e||a(b(t))}}};var r,n=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,i=/([^\#-~ |!])/g,o=v("area,br,col,hr,img,wbr"),t=v("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),a=v("rp,rt"),s=k({},a,t),l=k({},t,v("address,article,aside,blockquote,caption,center,del,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,map,menu,nav,ol,pre,section,table,ul")),u=k({},a,v("a,abbr,acronym,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,q,ruby,rp,rt,s,samp,small,span,strike,strong,sub,sup,time,tt,u,var")),c=v("circle,defs,desc,ellipse,font-face,font-face-name,font-face-src,g,glyph,hkern,image,linearGradient,line,marker,metadata,missing-glyph,mpath,path,polygon,polyline,radialGradient,rect,stop,svg,switch,text,title,tspan"),p=v("script,style"),h=k({},o,l,u,s),d=v("background,cite,href,longdesc,src,xlink:href"),f=v("abbr,align,alt,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,coords,dir,face,headers,height,hreflang,hspace,ismap,lang,language,nohref,nowrap,rel,rev,rows,rowspan,rules,scope,scrolling,shape,size,span,start,summary,tabindex,target,title,type,valign,value,vspace,width"),g=v("accent-height,accumulate,additive,alphabetic,arabic-form,ascent,baseProfile,bbox,begin,by,calcMode,cap-height,class,color,color-rendering,content,cx,cy,d,dx,dy,descent,display,dur,end,fill,fill-rule,font-family,font-size,font-stretch,font-style,font-variant,font-weight,from,fx,fy,g1,g2,glyph-name,gradientUnits,hanging,height,horiz-adv-x,horiz-origin-x,ideographic,k,keyPoints,keySplines,keyTimes,lang,marker-end,marker-mid,marker-start,markerHeight,markerUnits,markerWidth,mathematical,max,min,offset,opacity,orient,origin,overline-position,overline-thickness,panose-1,path,pathLength,points,preserveAspectRatio,r,refX,refY,repeatCount,repeatDur,requiredExtensions,requiredFeatures,restart,rotate,rx,ry,slope,stemh,stemv,stop-color,stop-opacity,strikethrough-position,strikethrough-thickness,stroke,stroke-dasharray,stroke-dashoffset,stroke-linecap,stroke-linejoin,stroke-miterlimit,stroke-opacity,stroke-width,systemLanguage,target,text-anchor,to,transform,type,u1,u2,underline-position,underline-thickness,unicode,unicode-range,units-per-em,values,version,viewBox,visibility,width,widths,x,x-height,x1,x2,xlink:actuate,xlink:arcrole,xlink:role,xlink:show,xlink:title,xlink:type,xml:base,xml:lang,xml:space,xmlns,xmlns:xlink,y,y1,y2,zoomAndPan",!0),m=k({},d,g,f);function v(t,e){var n,i={},o=t.split(",");for(n=0;n<o.length;n++)i[e?T(o[n]):o[n]]=!0;return i}function y(t){for(var e={},n=0,i=t.length;n<i;n++){var o=t[n];e[o.name]=o.value}return e}function b(t){return t.replace(/&/g,"&amp;").replace(n,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(i,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function w(t){if(t.nodeType===x.Node.ELEMENT_NODE)for(var e=t.attributes,n=0,i=e.length;n<i;n++){var o=e[n],r=o.name.toLowerCase();"xmlns:ns1"!==r&&0!==r.lastIndexOf("ns1:",0)||(t.removeAttributeNode(o),n--,i--)}var a=t.firstChild;a&&w(a),(a=t.nextSibling)&&w(a)}!function(t){var e;if(!t.document||!t.document.implementation)throw E("noinert","Can't create an inert html document");var n=((e=t.document.implementation.createHTMLDocument("inert")).documentElement||e.getDocumentElement()).getElementsByTagName("body");if(1===n.length)r=n[0];else{var i=e.createElement("html");r=e.createElement("body"),i.appendChild(r),e.appendChild(i)}}(x)}),$.module("ngSanitize").filter("linky",["$sanitize",function(p){var h=/((ftp|https?):\/\/|(www\.)|(mailto:)?[A-Za-z0-9._%+-]+@)\S*[^\s.;,(){}<>"\u201d\u2019]/i,d=/^mailto:/i,f=$.$$minErr("linky"),g=$.isDefined,m=$.isFunction,v=$.isObject,y=$.isString;return function(t,o,e){if(null==t||""===t)return t;if(!y(t))throw f("notstring","Expected string but received: {0}",t);for(var n,i,r,a=m(e)?e:v(e)?function(){return e}:function(){return{}},s=t,l=[];n=s.match(h);)i=n[0],n[2]||n[4]||(i=(n[3]?"http://":"mailto:")+i),r=n.index,u(s.substr(0,r)),c(i,n[0].replace(d,"")),s=s.substring(r+n[0].length);return u(s),p(l.join(""));function u(t){var e,n;t&&l.push((e=t,M(n=[],A).chars(e),n.join("")))}function c(t,e){var n,i=a(t);for(n in l.push("<a "),i)l.push(n+'="'+i[n]+'" ');!g(o)||"target"in i||l.push('target="',o,'" '),l.push('href="',t.replace(/"/g,"&quot;"),'">'),u(e),l.push("</a>")}}}])}(window,window.angular),function(t){var n={parse:function(t){if("string"!=typeof t)throw new TypeError("ObjectPath.parse must be passed a string");for(var e,n,i,o,r=0,a=[];r<t.length;)if(e=t.indexOf(".",r),n=t.indexOf("[",r),-1===e&&-1===n)a.push(t.slice(r,t.length)),r=t.length;else if(-1===n||-1!==e&&e<n)a.push(t.slice(r,e)),r=e+1;else if(r<n&&(a.push(t.slice(r,n)),r=n),'"'!==(i=t.slice(n+1,n+2))&&"'"!==i)-1===(o=t.indexOf("]",n))&&(o=t.length),a.push(t.slice(r+1,o)),r="."===t.slice(o+1,o+2)?o+2:o+1;else{for(-1===(o=t.indexOf(i+"]",n))&&(o=t.length);"\\"===t.slice(o-1,o)&&n<t.length;)n++,o=t.indexOf(i+"]",n);a.push(t.slice(r+2,o).replace(new RegExp("\\"+i,"g"),i)),r="."===t.slice(o+2,o+3)?o+3:o+2}return a},stringify:function(t,e){return Array.isArray(t)||(t=[t.toString()]),e='"'===e?'"':"'",t.map(function(t){return"["+e+t.toString().replace(new RegExp(e,"g"),"\\"+e)+e+"]"}).join("")},normalize:function(t,e){return n.stringify(Array.isArray(t)?t:n.parse(t),e)},registerModule:function(t){t.module("ObjectPath",[]).provider("ObjectPath",function(){this.parse=n.parse,this.stringify=n.stringify,this.normalize=n.normalize,this.$get=function(){return n}})}};"function"==typeof define&&define.amd?define(function(){return n}):"object"==typeof exports?exports.ObjectPath=n:window.ObjectPath=n}(),function(t,e){"function"==typeof define&&define.amd?define(["angular","objectpath","tv4"],e):"object"==typeof exports?module.exports=e(require("angular"),require("objectpath"),require("tv4")):t.schemaForm=e(t.angular,t.objectpath,t.tv4)}(this,function(b,e,a){var t=[];try{b.module("ngSanitize"),t.push("ngSanitize")}catch(t){}try{b.module("ui.sortable"),t.push("ui.sortable")}catch(t){}try{b.module("angularSpectrumColorpicker"),t.push("angularSpectrumColorpicker")}catch(t){}var n=b.module("schemaForm",t);return b.module("schemaForm").provider("sfPath",[function(){var t=window.ObjectPath||e,n={parse:t.parse};1===b.version.major&&b.version.minor<3?n.stringify=function(t){return Array.isArray(t)?t.join("."):t.toString()}:n.stringify=t.stringify,n.normalize=function(t,e){return n.stringify(Array.isArray(t)?t:n.parse(t),e)},this.parse=n.parse,this.stringify=n.stringify,this.normalize=n.normalize,this.$get=function(){return n}}]),b.module("schemaForm").provider("sfBuilder",["sfPathProvider",function(p){var w=/[A-Z]/g,e=0,n={sfField:function(t){t.fieldFrag.firstChild.setAttribute("sf-field",e),t.lookup["f"+e]=t.form,e++},ngModel:function(t){if(t.form.key){var e,n=t.form.key;if(t.state.keyRedaction&&(n=n.slice(t.state.keyRedaction)),t.state.modelValue)e=t.state.modelValue;else{var i=p.stringify(n).replace(/"/g,"&quot;");e=t.state.modelName||"model",i&&(e+=("["!==i[0]?".":"")+i)}for(var o=t.fieldFrag.querySelectorAll("[sf-field-model]"),r=0;r<o.length;r++){var a=o[r],s=a.getAttribute("sf-field-model");if(s&&""!==s)if("replaceAll"===s)for(var l=a.attributes,u=0;u<l.length;u++)l[u].value&&-1!==l[u].value.indexOf("$$value")&&(l[u].value=l[u].value.replace(/\$\$value\$\$/g,e));else{var c=a.getAttribute(s);c&&c.indexOf("$$value$$")?a.setAttribute(s,c.replace(/\$\$value\$\$/g,e)):a.setAttribute(s,e)}else a.setAttribute("ng-model",e)}}},simpleTransclusion:function(t){var e=t.build(t.form.items,t.path+".items",t.state);t.fieldFrag.firstChild.appendChild(e)},ngModelOptions:function(t){t.form.ngModelOptions&&0<Object.keys(t.form.ngModelOptions).length&&t.fieldFrag.firstChild.setAttribute("ng-model-options",JSON.stringify(t.form.ngModelOptions))},transclusion:function(t){var e=t.fieldFrag.querySelectorAll("[sf-field-transclude]");if(e.length)for(var n=0;n<e.length;n++){var i=e[n],o=i.getAttribute("sf-field-transclude")||"items",r=t.form[o];if(r){var a=t.build(r,t.path+"."+o,t.state);i.appendChild(a)}}},condition:function(t){if(t.form.condition){var e="evalExpr("+t.path+'.condition, { model: model, "arrayIndex": $index})';if(t.form.key){var n=p.stringify(t.form.key);e="evalExpr("+t.path+'.condition,{ model: model, "arrayIndex": $index, "modelValue": model'+("["===n[0]?"":".")+n+"})"}for(var i=t.fieldFrag.children||t.fieldFrag.childNodes,o=0;o<i.length;o++){var r=i[o],a=r.getAttribute("ng-if");r.setAttribute("ng-if",a?"("+a+") || ("+e+")":e)}}},array:function(t){var e=t.fieldFrag.querySelector("[schema-form-array-items]");if(e){if(state=b.copy(t.state),state.keyRedaction=state.keyRedaction||0,state.keyRedaction+=t.form.key.length+1,t.form.schema&&t.form.schema.items&&t.form.schema.items.type&&-1===t.form.schema.items.type.indexOf("object")&&-1===t.form.schema.items.type.indexOf("array")){p.stringify(t.form.key).replace(/"/g,"&quot;");state.modelValue="modelArray[$index]"}else state.modelName="item";state.arrayCompatFlag=!0;var n=t.build(t.form.items,t.path+".items",state);e.appendChild(n)}}},r=[(this.builders=n).sfField,n.ngModel,n.ngModelOptions,n.condition];this.stdBuilders=r,this.$get=["$templateCache","schemaFormDecorators","sfPath",function(o,t,i){var y=function(t,e){if(t.key){var n=e[i.stringify(t.key)];if(n){for(;n.firstChild;)n.removeChild(n.firstChild);return n}}},b=function(t,h,d,f,g,m,v){m=m||{},v=v||Object.create(null),g=g||"schemaForm.form";var e=document.createDocumentFragment();return t.reduce(function(t,e,n){if(!e.type)return t;var i,o,r=h[e.type]||h.default;if(r.replace){var a;m.arrayCompatFlag=!1;var s=document.createElement("div"),l=d(e,r)||d(e,h.default);for(s.innerHTML=l,a=document.createDocumentFragment();0<s.childNodes.length;)a.appendChild(s.childNodes[0]);var u={fieldFrag:a,form:e,lookup:v,state:m,path:g+"["+n+"]",build:function(t,e,n){return b(t,h,d,f,e,n,v)}},c=e.builder||r.builder;"function"==typeof c?c(u):c.forEach(function(t){t(u)}),(y(e,f)||t).appendChild(a)}else{var p=document.createElement((i=h.__name,o=(o="-")||"_",i.replace(w,function(t,e){return(e?o:"")+t.toLowerCase()})));m.arrayCompatFlag?p.setAttribute("form","copyWithIndex($index)"):p.setAttribute("form",g+"["+n+"]"),(y(e,f)||t).appendChild(p)}return t},e),e};return{build:function(t,e,n,i){return b(t,e,function(t,e){return"template"===t.type?t.template:o.get(e.template)},n,void 0,void 0,i)},builder:n,stdBuilders:r,internalBuild:b}}]}]),b.module("schemaForm").provider("schemaFormDecorators",["$compileProvider","sfPathProvider",function(i,f){var g="",m={},e=function(d){i.directive(d,["$parse","$compile","$http","$templateCache","$interpolate","$q","sfErrorMessage","sfPath","sfSelect",function(t,s,l,u,o,c,e,p,h){return{restrict:"AE",replace:!1,transclude:!1,scope:!0,require:"?^sfSchema",link:function(r,i,t,n){r.$on("schemaFormPropagateNgModelController",function(t,e){t.stopPropagation(),t.preventDefault(),r.ngModel=e}),r.showTitle=function(){return r.form&&!0!==r.form.notitle&&r.form.title},r.listToCheckboxValues=function(t){var e={};return b.forEach(t,function(t){e[t]=!0}),e},r.checkboxValuesToList=function(t){var n=[];return b.forEach(t,function(t,e){t&&n.push(e)}),n},r.buttonClick=function(t,e){b.isFunction(e.onClick)?e.onClick(t,e):b.isString(e.onClick)&&(n?n.evalInParentScope(e.onClick,{$event:t,form:e}):r.$eval(e.onClick,{$event:t,form:e}))},r.evalExpr=function(t,e){return n?n.evalInParentScope(t,e):r.$eval(t,e)},r.evalInScope=function(t,e){if(t)return r.$eval(t,e)},r.interp=function(t,e){return t&&o(t)(e)},r.hasSuccess=function(){return!!r.ngModel&&(r.ngModel.$valid&&(!r.ngModel.$pristine||!r.ngModel.$isEmpty(r.ngModel.$modelValue)))},r.hasError=function(){return!!r.ngModel&&(r.ngModel.$invalid&&!r.ngModel.$pristine)},r.errorMessage=function(t){return e.interpolate(t&&t.code+""||"default",r.ngModel&&r.ngModel.$modelValue||"",r.ngModel&&r.ngModel.$viewValue||"",r.form,r.options&&r.options.validationMessage)};var a=r.$watch(t.form,function(o){if(o){var t;if(o.ngModelOptions=o.ngModelOptions||{},"template"===(r.form=o).type&&o.template)t=c.when(o.template);else{var e="template"===o.type?o.templateUrl:function(t,e){"sfDecorator"===t&&(t=g);var n=m[t];return n[e.type]?n[e.type].template:n.default.template}(d,o);t=l.get(e,{cache:u}).then(function(t){return t.data})}t.then(function(t){if(o.key){var e=o.key?f.stringify(o.key).replace(/"/g,"&quot;"):"";t=t.replace(/\$\$value\$\$/g,"model"+("["!==e[0]?".":"")+e)}if(i.html(t),o.condition){var n='evalExpr(form.condition,{ model: model, "arrayIndex": arrayIndex})';o.key&&(n='evalExpr(form.condition,{ model: model, "arrayIndex": arrayIndex, "modelValue": model'+p.stringify(o.key)+"})"),b.forEach(i.children(),function(t){var e=t.getAttribute("ng-if");t.setAttribute("ng-if",e?"("+e+") || ("+n+")":n)})}s(i.contents())(r)}),o.key&&(r.$on("schemaForm.error."+o.key.join("."),function(t,e,n,i){!0!==n&&!1!==n||(i=n,n=void 0),r.ngModel&&e&&(r.ngModel.$setDirty?r.ngModel.$setDirty():(r.ngModel.$dirty=!0,r.ngModel.$pristine=!1),n&&(o.validationMessage||(o.validationMessage={}),o.validationMessage[e]=n),r.ngModel.$setValidity(e,!0===i),!0===i&&(r.ngModel.$validate(),r.$broadcast("schemaFormValidate")))}),r.$on("$destroy",function(){if(!r.externalDestructionInProgress){var t=o.destroyStrategy||r.options&&r.options.destroyStrategy||"remove";if(o.key&&"retain"!==t){var e=r.model;if(1<o.key.length&&(e=h(o.key.slice(0,o.key.length-1),e)),void 0===e)return;var n=o.schema&&o.schema.type||"";"empty"===t&&-1!==n.indexOf("string")?e[o.key.slice(-1)]="":"empty"===t&&-1!==n.indexOf("object")?e[o.key.slice(-1)]={}:"empty"===t&&-1!==n.indexOf("array")?e[o.key.slice(-1)]=[]:"null"===t?e[o.key.slice(-1)]=null:delete e[o.key.slice(-1)]}}})),a()}})}}}])},n=function(e,t,n){n=!!b.isDefined(n)&&n,i.directive("sf"+b.uppercase(e[0])+e.substr(1),function(){return{restrict:"EAC",scope:!0,replace:!0,transclude:n,template:'<sf-decorator form="form"></sf-decorator>',link:function(i,t,o){var r={items:"c",titleMap:"c",schema:"c"},a={type:e},s=!0;b.forEach(o,function(t,e){if("$"!==e[0]&&0!==e.indexOf("ng")&&"sfField"!==e){var n=function(t){b.isDefined(t)&&t!==a[e]&&(a[e]=t,s&&a.type&&(a.key||b.isUndefined(o.key))&&(i.form=a,s=!1))};"model"===e?i.$watch(t,function(t){t&&i.model!==t&&(i.model=t)}):"c"===r[e]?i.$watchCollection(t,n):o.$observe(e,n)}})}}})};this.createDecorator=function(n,t){m[n]={__name:n},b.forEach(t,function(t,e){m[n][e]={template:t,replace:!1,builder:[]}}),m[g]||(g=n),e(n)},this.defineDecorator=function(n,t){m[n]={__name:n},b.forEach(t,function(t,e){t.builder=t.builder||[],t.replace=!b.isDefined(t.replace)||t.replace,m[n][e]=t}),m[g]||(g=n),e(n)},this.createDirective=n,this.createDirectives=function(t){b.forEach(t,function(t,e){n(e)})},this.decorator=function(t){return m[t=t||g]},this.addMapping=function(t,e,n,i,o){m[t]&&(m[t][e]={template:n,builder:i,replace:!!o})},this.defineAddOn=function(t,e,n,i){m[t]&&(m[t][e]={template:n,builder:i,replace:!0})},this.$get=function(){return{decorator:function(t){return m[t]||m[g]},defaultDecorator:g}},e("sfDecorator")}]),b.module("schemaForm").provider("sfErrorMessage",function(){var u={default:"Field does not validate",0:"Invalid type, expected {{schema.type}}",1:"No enum match for: {{viewValue}}",10:'Data does not match any schemas from "anyOf"',11:'Data does not match any schemas from "oneOf"',12:'Data is valid against more than one schema from "oneOf"',13:'Data matches schema from "not"',100:"Value is not a multiple of {{schema.multipleOf}}",101:"{{viewValue}} is less than the allowed minimum of {{schema.minimum}}",102:"{{viewValue}} is equal to the exclusive minimum {{schema.minimum}}",103:"{{viewValue}} is greater than the allowed maximum of {{schema.maximum}}",104:"{{viewValue}} is equal to the exclusive maximum {{schema.maximum}}",105:"Value is not a valid number",200:"String is too short ({{viewValue.length}} chars), minimum {{schema.minLength}}",201:"String is too long ({{viewValue.length}} chars), maximum {{schema.maxLength}}",202:"String does not match pattern: {{schema.pattern}}",300:"Too few properties defined, minimum {{schema.minProperties}}",301:"Too many properties defined, maximum {{schema.maxProperties}}",302:"Required",303:"Additional properties not allowed",304:"Dependency failed - key must exist",400:"Array is too short ({{value.length}}), minimum {{schema.minItems}}",401:"Array is too long ({{value.length}}), maximum {{schema.maxItems}}",402:"Array items are not unique",403:"Additional items not allowed",500:"Format validation failed",501:'Keyword failed: "{{title}}"',600:"Circular $refs",1e3:"Unknown property (not in schema)"};u.number=u[105],u.required=u[302],u.min=u[101],u.max=u[103],u.maxlength=u[201],u.minlength=u[200],u.pattern=u[202],this.setDefaultMessages=function(t){u=t},this.getDefaultMessages=function(){return u},this.setDefaultMessage=function(t,e){u[t]=e},this.$get=["$interpolate",function(l){var t={};return t.defaultMessages=u,t.interpolate=function(e,t,n,i,o){o=o||{};var r=i.validationMessage||{};0===e.indexOf("tv4-")&&(e=e.substring(4));var a=r.default||o.default||"";[r,o,u].some(function(t){return b.isString(t)||b.isFunction(t)?(a=t,!0):t&&t[e]?(a=t[e],!0):void 0});var s={error:e,value:t,viewValue:n,form:i,schema:i.schema,title:i.title||i.schema&&i.schema.title};return b.isFunction(a)?a(s):l(a)(s)},t}]}),b.module("schemaForm").provider("schemaForm",["sfPathProvider",function(h){var u=function(t){if(Array.isArray(t)&&2==t.length){if("null"===t[0])return t[1];if("null"===t[1])return t[0]}return t},o=function(t){var e=[];return t.forEach(function(t){e.push({name:t,value:t})}),e},d=function(n,t){if(b.isArray(n))return n;var i=[];return t?b.forEach(t,function(t,e){i.push({name:n[t],value:t})}):b.forEach(n,function(t,e){i.push({name:t,value:e})}),i},c=function(t,e,n){var i=a[u(e.type)];if(i)for(var o,r=0;r<i.length;r++)if(o=i[r](t,e,n))return o.schema["x-schema-form"]&&b.isObject(o.schema["x-schema-form"])&&(o=b.extend(o,o.schema["x-schema-form"])),o},l=function(t,e,n){var i=(n=n||{}).global&&n.global.formDefaults?b.copy(n.global.formDefaults):{};return n.global&&!0===n.global.supressPropertyTitles?i.title=e.title:i.title=e.title||t,e.description&&(i.description=e.description),!0!==n.required&&!0!==e.required||(i.required=!0),e.maxLength&&(i.maxlength=e.maxLength),e.minLength&&(i.minlength=e.minLength),(e.readOnly||e.readonly)&&(i.readonly=!0),e.minimum&&(i.minimum=e.minimum+(e.exclusiveMinimum?1:0)),e.maximum&&(i.maximum=e.maximum-(e.exclusiveMaximum?1:0)),e.validationMessage&&(i.validationMessage=e.validationMessage),e.enumNames&&(i.titleMap=d(e.enumNames,e.enum)),i.schema=e,i.ngModelOptions=i.ngModelOptions||{},i},a={string:[function(t,e,n){if("string"===u(e.type)&&e.enum){var i=l(t,e,n);return i.key=n.path,i.type="select",i.titleMap||(i.titleMap=o(e.enum)),n.lookup[h.stringify(n.path)]=i}},function(t,e,n){if("string"===u(e.type)&&!e.enum){var i=l(t,e,n);return i.key=n.path,i.type="text",n.lookup[h.stringify(n.path)]=i}}],object:[function(t,r,a){if("object"===u(r.type)){var s=l(t,r,a);return s.type="fieldset",s.items=[],a.lookup[h.stringify(a.path)]=s,b.forEach(r.properties,function(t,e){var n=a.path.slice();if(n.push(e),!0!==a.ignore[h.stringify(n)]){var i=r.required&&-1!==r.required.indexOf(e),o=c(e,t,{path:n,required:i||!1,lookup:a.lookup,ignore:a.ignore,global:a.global});o&&s.items.push(o)}}),s}}],number:[function(t,e,n){if("number"===u(e.type)){var i=l(t,e,n);return i.key=n.path,i.type="number",n.lookup[h.stringify(n.path)]=i}}],integer:[function(t,e,n){if("integer"===u(e.type)){var i=l(t,e,n);return i.key=n.path,i.type="number",n.lookup[h.stringify(n.path)]=i}}],boolean:[function(t,e,n){if("boolean"===u(e.type)){var i=l(t,e,n);return i.key=n.path,i.type="checkbox",n.lookup[h.stringify(n.path)]=i}}],array:[function(t,e,n){if("array"===u(e.type)&&e.items&&e.items.enum){var i=l(t,e,n);return i.key=n.path,i.type="checkboxes",i.titleMap||(i.titleMap=o(e.items.enum)),n.lookup[h.stringify(n.path)]=i}},function(t,e,n){if("array"===u(e.type)){var i=l(t,e,n);i.type="array",i.key=n.path,n.lookup[h.stringify(n.path)]=i;var o=e.required&&-1!==e.required.indexOf(n.path[n.path.length-1]),r=n.path.slice();return r.push(""),i.items=[c(t,e.items,{path:r,required:o||!1,lookup:n.lookup,ignore:n.ignore,global:n.global})],i}}]},i=function(t){return t};this.defaults=a,this.stdFormObj=l,this.defaultFormDefinition=c,this.postProcess=function(t){i=t},this.appendRule=function(t,e){a[t]||(a[t]=[]),a[t].push(e)},this.prependRule=function(t,e){a[t]||(a[t]=[]),a[t].unshift(e)},this.createStandardForm=l,this.$get=function(){var p={merge:function(r,t,a,s,l,u){t=t||["*"],s=s||{},l=l||r.readonly||r.readOnly;var e=p.defaults(r,a,s),n=t.indexOf("*");-1!==n&&(t=t.slice(0,n).concat(e.form).concat(t.slice(n+1)));var c=e.lookup;return i(t.map(function(n){if("string"==typeof n&&(n={key:n}),n.key&&"string"==typeof n.key&&(n.key=h.parse(n.key)),n.titleMap&&(n.titleMap=d(n.titleMap)),n.itemForm){n.items=[];var t=h.stringify(n.key),e=c[t];b.forEach(e.items,function(t){var e=b.copy(n.itemForm);e.key=t.key,n.items.push(e)})}if(n.key){var i=h.stringify(n.key);if(c[i]){var o=c[i];b.forEach(o,function(t,e){void 0===n[e]&&(n[e]=o[e])})}}return!0===l&&(n.readonly=!0),n.items&&(n.items=p.merge(r,n.items,a,s,n.readonly,u)),n.tabs&&b.forEach(n.tabs,function(t){t.items=p.merge(r,t.items,a,s,n.readonly,u)}),"checkbox"===n.type&&b.isUndefined(n.schema.default)&&(n.schema.default=!1),u&&"template"===n.type&&!n.template&&n.templateUrl&&u.push(n),n}))},defaults:function(o,r,a){var s=[],l={};if(r=r||{},a=a||{},"object"!==u(o.type))throw new Error('Not implemented. Only type "object" allowed at root level of schema.');return b.forEach(o.properties,function(t,e){if(!0!==r[e]){var n=o.required&&-1!==o.required.indexOf(e),i=c(e,t,{path:[e],lookup:l,ignore:r,required:n,global:a});i&&s.push(i)}}),{form:s,lookup:l}},traverseSchema:function(t,e,n,r){r=!b.isDefined(r)||r;var a=function(t,i,o){if(i(t,o),b.forEach(t.properties,function(t,e){var n=o.slice();n.push(e),a(t,i,n)}),!r&&t.items){var e=o.slice();e.push(""),a(t.items,i,e)}};a(t,e,(n=n||[])||[])},traverseForm:function(t,e){e(t),b.forEach(t.items,function(t){p.traverseForm(t,e)}),t.tabs&&b.forEach(t.tabs,function(t){b.forEach(t.items,function(t){p.traverseForm(t,e)})})}};return p}}]),b.module("schemaForm").factory("sfSelect",["sfPath",function(s){var l=/^\d+$/;return function(t,e,n){e||(e=this);var i="string"==typeof t?s.parse(t):t;if(void 0!==n&&1===i.length)return e[i[0]]=n,e;void 0!==n&&void 0===e[i[0]]&&(e[i[0]]=2<i.length&&l.test(i[1])?[]:{});for(var o=e[i[0]],r=1;r<i.length;r++){if(""===i[r])return;if(void 0!==n){if(r===i.length-1)return o[i[r]]=n;var a=o[i[r]];null==a&&(a=l.test(i[r+1])?[]:{},o[i[r]]=a),o=a}else o&&(o=o[i[r]])}return o}}]),b.module("schemaForm").factory("sfValidator",[function(){var t={validate:function(t,e){if(!t)return{valid:!0};var n=t.schema;if(!n)return{valid:!0};""===e&&(e=void 0),"number"===t.type&&null===e&&(e=void 0);var i={type:"object",properties:{}},o=t.key[t.key.length-1];i.properties[o]=n,t.required&&(i.required=[o]);var r={};return b.isDefined(e)&&(r[o]=e),a.validateResult(r,i)}};return t}]),b.module("schemaForm").directive("sfArray",["sfSelect","schemaForm","sfValidator","sfPath",function(c,p,h,d){return{restrict:"A",scope:!0,require:"?ngModel",link:function(a,t,e,s){var l={};a.validateArray=b.noop,s&&a.$emit("schemaFormPropagateNgModelController",s);var u=a.$watch(e.sfArray,function(o){if(o){var e,r=c(o.key,a.model),t=d.normalize(o.key);if(a.$watch("model"+("["!==t[0]?".":"")+t,function(t){r=a.modelArray=t}),b.isUndefined(r)&&(r=[],c(o.key,a.model,r)),a.modelArray=r,o.items){var i=o.items[0];1<o.items.length&&(i={type:"section",items:o.items.map(function(t){return t.ngModelOptions=o.ngModelOptions,b.isUndefined(t.readonly)&&(t.readonly=o.readonly),t})})}if(a.copyWithIndex=function(t){if(!l[t]&&i){var e=b.copy(i);e.arrayIndex=t,p.traverseForm(e,(n=t,function(t){t.key&&(t.key[t.key.indexOf("")]=n)})),l[t]=e}var n;return l[t]},a.appendToArray=function(){var t=r.length,e=a.copyWithIndex(t);if(p.traverseForm(e,function(t){var e;t.key&&(b.isDefined(t.default)&&(e=t.default),b.isDefined(t.schema)&&b.isDefined(t.schema.default)&&(e=t.schema.default),b.isDefined(e)&&c(t.key,a.model,e))}),t===r.length){var n,i=c("schema.items.type",o);"object"===i?n={}:"array"===i&&(n=[]),r.push(n)}return a.validateArray(),r},a.deleteFromArray=function(t){return r.splice(t,1),a.validateArray(),s&&s.$setDirty&&s.$setDirty(),r},o.titleMap||!0===o.startEmpty||0!==r.length||a.appendToArray(),o.titleMap&&0<o.titleMap.length){a.titleMapValues=[];var n=function(e){a.titleMapValues=[],e=e||[],o.titleMap.forEach(function(t){a.titleMapValues.push(-1!==e.indexOf(t.value))})};n(a.modelArray),a.$watchCollection("modelArray",n),a.$watchCollection("titleMapValues",function(n,t){if(n&&n!==t){for(var i=a.modelArray;0<i.length;)i.pop();o.titleMap.forEach(function(t,e){n[e]&&i.push(t.value)}),a.validateArray()}})}if(s)a.validateArray=function(){var t=h.validate(o,0<a.modelArray.length?a.modelArray:void 0);Object.keys(s.$error).filter(function(t){return 0===t.indexOf("tv4-")}).forEach(function(t){s.$setValidity(t,!0)}),!1!==t.valid||!t.error||""!==t.error.dataPath&&t.error.dataPath!=="/"+o.key[o.key.length-1]||(s.$setViewValue(a.modelArray),e=t.error,s.$setValidity("tv4-"+t.error.code,!1))},a.$on("schemaFormValidate",a.validateArray),a.hasSuccess=function(){return a.options&&a.options.pristine&&!1===a.options.pristine.success?s.$valid&&!s.$pristine&&!s.$isEmpty(s.$modelValue):s.$valid&&(!s.$pristine||!s.$isEmpty(s.$modelValue))},a.hasError=function(){return a.options&&a.options.pristine&&!1===a.options.pristine.errors?s.$invalid&&!s.$pristine:s.$invalid},a.schemaError=function(){return e};u()}})}}}]),b.module("schemaForm").directive("sfChanged",function(){return{require:"ngModel",restrict:"AC",scope:!1,link:function(t,e,n,i){var o=t.$eval(n.sfChanged);o&&o.onChange&&i.$viewChangeListeners.push(function(){b.isFunction(o.onChange)?o.onChange(i.$modelValue,o):t.evalExpr(o.onChange,{modelValue:i.$modelValue,form:o})})}}}),b.module("schemaForm").directive("sfField",["$parse","$compile","$http","$templateCache","$interpolate","$q","sfErrorMessage","sfPath","sfSelect",function(t,e,n,i,a,o,s,r,l){return{restrict:"AE",replace:!1,transclude:!1,scope:!0,require:"^sfSchema",link:{pre:function(n,t,e,i){n.$on("schemaFormPropagateNgModelController",function(t,e){t.stopPropagation(),t.preventDefault(),n.ngModel=e}),n.form=i.lookup["f"+e.sfField]},post:function(o,t,e,n){o.showTitle=function(){return o.form&&!0!==o.form.notitle&&o.form.title},o.listToCheckboxValues=function(t){var e={};return b.forEach(t,function(t){e[t]=!0}),e},o.checkboxValuesToList=function(t){var n=[];return b.forEach(t,function(t,e){t&&n.push(e)}),n},o.buttonClick=function(t,e){b.isFunction(e.onClick)?e.onClick(t,e):b.isString(e.onClick)&&(n?n.evalInParentScope(e.onClick,{$event:t,form:e}):o.$eval(e.onClick,{$event:t,form:e}))},o.evalExpr=function(t,e){return n?n.evalInParentScope(t,e):o.$eval(t,e)},o.evalInScope=function(t,e){if(t)return o.$eval(t,e)},o.interp=function(t,e){return t&&a(t)(e)},o.hasSuccess=function(){return!!o.ngModel&&(o.options&&o.options.pristine&&!1===o.options.pristine.success?o.ngModel.$valid&&!o.ngModel.$pristine&&!o.ngModel.$isEmpty(o.ngModel.$modelValue):o.ngModel.$valid&&(!o.ngModel.$pristine||!o.ngModel.$isEmpty(o.ngModel.$modelValue)))},o.hasError=function(){return!!o.ngModel&&(o.options&&o.options.pristine&&!1===o.options.pristine.errors?o.ngModel.$invalid&&!o.ngModel.$pristine:o.ngModel.$invalid)},o.errorMessage=function(t){return s.interpolate(t&&t.code+""||"default",o.ngModel&&o.ngModel.$modelValue||"",o.ngModel&&o.ngModel.$viewValue||"",o.form,o.options&&o.options.validationMessage)};var r=o.form;r.key&&(o.$on("schemaForm.error."+r.key.join("."),function(t,e,n,i){!0!==n&&!1!==n||(i=n,n=void 0),o.ngModel&&e&&(o.ngModel.$setDirty?o.ngModel.$setDirty():(o.ngModel.$dirty=!0,o.ngModel.$pristine=!1),n&&(r.validationMessage||(r.validationMessage={}),r.validationMessage[e]=n),o.ngModel.$setValidity(e,!0===i),!0===i&&(o.ngModel.$validate(),o.$broadcast("schemaFormValidate")))}),o.$on("$destroy",function(){if(!o.externalDestructionInProgress){var t=r.destroyStrategy||o.options&&o.options.destroyStrategy||"remove";if(r.key&&"retain"!==t){var e=o.model;if(1<r.key.length&&(e=l(r.key.slice(0,r.key.length-1),e)),void 0===e)return;var n=r.schema&&r.schema.type||"";"empty"===t&&-1!==n.indexOf("string")?e[r.key.slice(-1)]="":"empty"===t&&-1!==n.indexOf("object")?e[r.key.slice(-1)]={}:"empty"===t&&-1!==n.indexOf("array")?e[r.key.slice(-1)]=[]:"null"===t?e[r.key.slice(-1)]=null:delete e[r.key.slice(-1)]}}}))}}}}]),b.module("schemaForm").directive("sfMessage",["$injector","sfErrorMessage",function(t,l){var u=t.has("$sanitize")?t.get("$sanitize"):function(t){return t};return{scope:!1,restrict:"EA",link:function(i,e,t){var n,o="";t.sfMessage&&i.$watch(t.sfMessage,function(t){t&&(o=u(t),a(!!i.ngModel))});var r=function(t){t!==n&&(e.html(t),n=t)},a=function(t){if(t)if(i.hasError()){var n=[];b.forEach(i.ngModel&&i.ngModel.$error,function(t,e){t&&n.push(e)});var e=(n=n.filter(function(t){return"schemaForm"!==t}))[0];r(e?l.interpolate(e,i.ngModel.$modelValue,i.ngModel.$viewValue,i.form,i.options&&i.options.validationMessage):o)}else r(o);else r(o)};a();var s=i.$watch("ngModel",function(t){t&&(t.$parsers.push(function(t){return a(!0),t}),t.$formatters.push(function(t){return a(!0),t}),s())});i.$watchCollection("ngModel.$error",function(){a(!!i.ngModel)})}}}]),b.module("schemaForm").directive("sfNewArray",["sfSelect","sfPath","schemaForm",function(o,u,c){return{scope:!1,link:function(r,t,n){r.min=0,r.modelArray=r.$eval(n.sfNewArray);var e=function(){r.modelArray=r.$eval(n.sfNewArray),r.ngModel&&r.ngModel.$pristine&&r.firstDigest&&(!r.options||!0!==r.options.validateOnRender)||r.validateField&&r.validateField()},i=function(){r.form&&r.form.onChange&&(b.isFunction(r.form.onChange)?r.form.onChange(r.modelArray,r.form):r.evalExpr(r.form.onChange,{modelValue:r.modelArray,form:r.form}))},a=function(){var t=r.modelArray;if(!t){var e=u.parse(n.sfNewArray);o(e,r,t=[]),r.modelArray=t}return t},s=r.$watch("form",function(o){if(o){if(o.titleMap||!0===o.startEmpty||r.modelArray&&0!==r.modelArray.length||r.appendToArray(),r.form&&r.form.schema&&!0===r.form.schema.uniqueItems?(r.$watch(n.sfNewArray,e,!0),r.$watch([n.sfNewArray,n.sfNewArray+".length"],i)):r.$watchGroup?r.$watchGroup([n.sfNewArray,n.sfNewArray+".length"],function(){e(),i()}):(r.$watch(n.sfNewArray,function(){e(),i()}),r.$watch(n.sfNewArray+".length",function(){e(),i()})),o.titleMap&&0<o.titleMap.length){r.titleMapValues=[];var t=function(e){r.titleMapValues=[],e=e||[],o.titleMap.forEach(function(t){r.titleMapValues.push(-1!==e.indexOf(t.value))})};t(r.modelArray),r.$watchCollection("modelArray",t),r.$watchCollection("titleMapValues",function(n,t){if(n&&n!==t){for(var i=a();0<i.length;)i.pop();o.titleMap.forEach(function(t,e){n[e]&&i.push(t.value)}),r.validateField&&r.validateField()}})}s()}});r.appendToArray=function(){var n,t=a();if(r.form&&r.form.schema&&r.form.schema.items){var e=r.form.schema.items;e.type&&-1!==e.type.indexOf("object")?(n={},r.options&&!1===r.options.setSchemaDefaults||(n=b.isDefined(e.default)?e.default:n)&&c.traverseSchema(e,function(t,e){b.isDefined(t.default)&&o(e,n,t.default)})):(e.type&&-1!==e.type.indexOf("array")&&(n=[]),r.options&&!1===r.options.setSchemaDefaults||(n=e.default||n))}return t.push(n),t},r.deleteFromArray=function(t){var e=r.modelArray;return e&&e.splice(t,1),e};var l={};r.copyWithIndex=function(t){var e,n=r.form;if(!l[t]){var i=n.items[0];if(1<n.items.length&&(i={type:"section",items:n.items.map(function(t){return t.ngModelOptions=n.ngModelOptions,b.isUndefined(t.readonly)&&(t.readonly=n.readonly),t})}),i){var o=b.copy(i);o.arrayIndex=t,c.traverseForm(o,(e=t,function(t){t.key&&(t.key[t.key.indexOf("")]=e)})),l[t]=o}}return l[t]}}}}]),b.module("schemaForm").directive("sfSchema",["$compile","$http","$templateCache","$q","schemaForm","schemaFormDecorators","sfSelect","sfPath","sfBuilder",function(h,s,d,f,g,m,v,t,y){return{scope:{schema:"=sfSchema",initialForm:"=sfForm",model:"=sfModel",options:"=sfOptions"},controller:["$scope",function(n){this.evalInParentScope=function(t,e){return n.$parent.$eval(t,e)};var e=this;n.lookup=function(t){return t&&(e.lookup=t),e.lookup}}],replace:!1,restrict:"A",transclude:!0,require:"?form",link:function(l,u,c,t,e){l.formCtrl=t;var o={};e(l,function(t){if(t.addClass("schema-form-ignore"),u.prepend(t),u[0].querySelectorAll){var e=u[0].querySelectorAll("[ng-model]");if(e)for(var n=0;n<e.length;n++){var i=e[n].getAttribute("ng-model");o[i.substring(i.indexOf(".")+1)]=!0}}});var p,n={},i=function(t,e){var n=[],i=g.merge(t,e,o,l.options,void 0,n);0<n.length?f.all(n.map(function(e){return s.get(e.templateUrl,{cache:d}).then(function(t){e.template=t.data})})).then(function(){r(t,e,i)}):r(t,e,i)},r=function(t,e,n){p&&(l.externalDestructionInProgress=!0,p.$destroy(),l.externalDestructionInProgress=!1),(p=l.$new()).schemaForm={form:n,schema:t},u.children(":not(.schema-form-ignore)").remove();for(var i={},o=u[0].querySelectorAll("*[sf-insert-field]"),r=0;r<o.length;r++)i[o[r].getAttribute("sf-insert-field")]=o[r];var a=m.decorator(c.sfUseDecorator),s=Object.create(null);l.lookup(s),u[0].appendChild(y.build(n,a,i,s)),p.firstDigest=!0,setTimeout(function(){p.firstDigest=!1},0),h(u.children())(p),l.options&&!1===l.options.setSchemaDefaults||g.traverseSchema(t,function(t,e){if(b.isDefined(t.default)){var n=v(e,l.model);b.isUndefined(n)&&v(e,l.model,t.default)}}),l.$emit("sf-render-finished",u)},a=["*"];l.$watch(function(){var t=l.schema,e=l.initialForm||a;e&&t&&t.type&&(n.form!==e||n.schema!==t)&&0<Object.keys(t.properties).length&&(n.schema=t,n.form=e,i(t,e))}),l.$on("schemaFormRedraw",function(){var t=l.schema,e=l.initialForm?b.copy(l.initialForm):["*"];t&&i(t,e)}),l.$on("$destroy",function(){l.externalDestructionInProgress=!0}),l.evalExpr=function(t,e){return l.$parent.$eval(t,e)}}}}]),b.module("schemaForm").directive("schemaValidate",["sfValidator","$parse","sfSelect",function(l,t,u){return{restrict:"A",scope:!1,priority:500,require:"ngModel",link:function(n,t,e,i){n.$emit("schemaFormPropagateNgModelController",i);var o=null,r=n.$eval(e.schemaValidate);r.copyValueTo&&i.$viewChangeListeners.push(function(){var t=r.copyValueTo;b.forEach(t,function(t){u(t,n.model,i.$modelValue)})});var a=function(t){if(!r)return t;if(n.options&&!1===n.options.tv4Validation)return t;var e=l.validate(r,t);return Object.keys(i.$error).filter(function(t){return 0===t.indexOf("tv4-")}).forEach(function(t){i.$setValidity(t,!0)}),e.valid?t:(i.$setValidity("tv4-"+e.error.code,!1),o=e.error,i.$validators?t:void 0)};"function"==typeof r.ngModel&&r.ngModel(i),["$parsers","$viewChangeListeners","$formatters"].forEach(function(e){r[e]&&i[e]&&r[e].forEach(function(t){i[e].push(t)})}),["$validators","$asyncValidators"].forEach(function(n){r[n]&&i[n]&&b.forEach(r[n],function(t,e){i[n][e]=t})}),i.$parsers.push(a),i.$validators&&(i.$validators.schemaForm=function(){return!Object.keys(i.$error).some(function(t){return"schemaForm"!==t})});var s=r.schema;n.validateField=function(t){null!=t&&i.$$parentForm.$name!==t||(s&&-1!==s.type.indexOf("array")&&a(i.$modelValue),i.$setDirty?(i.$setDirty(),i.$setViewValue(i.$viewValue),i.$commitViewValue(),r.required&&i.$isEmpty(i.$modelValue)&&i.$setValidity("tv4-302",!1)):i.$setViewValue(i.$viewValue))},i.$formatters.push(function(t){return(!i.$pristine||!n.firstDigest||n.options&&!0===n.options.validateOnRender)&&a(i.$modelValue),t}),n.$on("schemaFormValidate",function(t,e){n.validateField(e)}),n.schemaError=function(){return o}}}}]),n}),function(t,e){"function"==typeof define&&define.amd?define(["schemaForm"],e):"object"==typeof exports?module.exports=e(require("schemaForm")):t.bootstrapDecorator=e(t.schemaForm)}(this,function(t){return angular.module("schemaForm").run(["$templateCache",function(t){t.put("directives/decorators/bootstrap/actions-trcl.html",'<div class="btn-group schema-form-actions {{form.htmlClass}}" ng-transclude=""></div>'),t.put("directives/decorators/bootstrap/actions.html",'<div class="btn-group schema-form-actions {{form.htmlClass}}"><input ng-repeat-start="item in form.items" type="submit" class="btn {{ item.style || \'btn-default\' }} {{form.fieldHtmlClass}}" value="{{item.title}}" ng-if="item.type === \'submit\'"> <button ng-repeat-end="" class="btn {{ item.style || \'btn-default\' }} {{form.fieldHtmlClass}}" type="button" ng-disabled="form.readonly" ng-if="item.type !== \'submit\'" ng-click="buttonClick($event,item)"><span ng-if="item.icon" class="{{item.icon}}"></span>{{item.title}}</button></div>'),t.put("directives/decorators/bootstrap/array.html",'<div sf-array="form" class="schema-form-array {{form.htmlClass}}" ng-model="$$value$$" ng-model-options="form.ngModelOptions"><label class="control-label" ng-show="showTitle()">{{ form.title }}</label><ol class="list-group" ng-model="modelArray" ui-sortable=""><li class="list-group-item {{form.fieldHtmlClass}}" ng-repeat="item in modelArray track by $index"><button ng-hide="form.readonly || form.remove === null" ng-click="deleteFromArray($index)" style="position: relative; z-index: 20;" type="button" class="close pull-right"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button><sf-decorator ng-init="arrayIndex = $index" form="copyWithIndex($index)"></sf-decorator></li></ol><div class="clearfix" style="padding: 15px;"><button ng-hide="form.readonly || form.add === null" ng-click="appendToArray()" type="button" class="btn {{ form.style.add || \'btn-default\' }} pull-right"><i class="glyphicon glyphicon-plus"></i> {{ form.add || \'Add\'}}</button></div><div class="help-block" ng-show="(hasError() && errorMessage(schemaError())) || form.description" ng-bind-html="(hasError() && errorMessage(schemaError())) || form.description"></div></div>'),t.put("directives/decorators/bootstrap/checkbox.html",'<div class="checkbox schema-form-checkbox {{form.htmlClass}}" ng-class="{\'has-error\': form.disableErrorState !== true && hasError(), \'has-success\': form.disableSuccessState !== true && hasSuccess()}"><label class="{{form.labelHtmlClass}}"><input type="checkbox" sf-changed="form" ng-disabled="form.readonly" ng-model="$$value$$" ng-model-options="form.ngModelOptions" schema-validate="form" class="{{form.fieldHtmlClass}}" name="{{form.key.slice(-1)[0]}}"> <span ng-bind-html="form.title"></span></label><div class="help-block" sf-message="form.description"></div></div>'),t.put("directives/decorators/bootstrap/checkboxes.html",'<div sf-array="form" ng-model="$$value$$" class="form-group schema-form-checkboxes {{form.htmlClass}}" ng-class="{\'has-error\': form.disableErrorState !== true && hasError(), \'has-success\': form.disableSuccessState !== true && hasSuccess()}"><label class="control-label {{form.labelHtmlClass}}" ng-show="showTitle()">{{form.title}}</label><div class="checkbox" ng-repeat="val in titleMapValues track by $index"><label><input type="checkbox" ng-disabled="form.readonly" sf-changed="form" class="{{form.fieldHtmlClass}}" ng-model="titleMapValues[$index]" name="{{form.key.slice(-1)[0]}}"> <span ng-bind-html="form.titleMap[$index].name"></span></label></div><div class="help-block" sf-message="form.description"></div></div>'),t.put("directives/decorators/bootstrap/default.html",'<div class="form-group schema-form-{{form.type}} {{form.htmlClass}}" ng-class="{\'has-error\': form.disableErrorState !== true && hasError(), \'has-success\': form.disableSuccessState !== true && hasSuccess(), \'has-feedback\': form.feedback !== false }"><label class="control-label {{form.labelHtmlClass}}" ng-class="{\'sr-only\': !showTitle()}" for="{{form.key.slice(-1)[0]}}">{{form.title}}</label> <input ng-if="!form.fieldAddonLeft && !form.fieldAddonRight" ng-show="form.key" type="{{form.type}}" step="any" sf-changed="form" placeholder="{{form.placeholder}}" class="form-control {{form.fieldHtmlClass}}" id="{{form.key.slice(-1)[0]}}" ng-model-options="form.ngModelOptions" ng-model="$$value$$" ng-disabled="form.readonly" schema-validate="form" name="{{form.key.slice(-1)[0]}}" aria-describedby="{{form.key.slice(-1)[0] + \'Status\'}}"><div ng-if="form.fieldAddonLeft || form.fieldAddonRight" ng-class="{\'input-group\': (form.fieldAddonLeft || form.fieldAddonRight)}"><span ng-if="form.fieldAddonLeft" class="input-group-addon" ng-bind-html="form.fieldAddonLeft"></span> <input ng-show="form.key" type="{{form.type}}" step="any" sf-changed="form" placeholder="{{form.placeholder}}" class="form-control {{form.fieldHtmlClass}}" id="{{form.key.slice(-1)[0]}}" ng-model-options="form.ngModelOptions" ng-model="$$value$$" ng-disabled="form.readonly" schema-validate="form" name="{{form.key.slice(-1)[0]}}" aria-describedby="{{form.key.slice(-1)[0] + \'Status\'}}"> <span ng-if="form.fieldAddonRight" class="input-group-addon" ng-bind-html="form.fieldAddonRight"></span></div><span ng-if="form.feedback !== false" class="form-control-feedback" ng-class="evalInScope(form.feedback) || {\'glyphicon\': true, \'glyphicon-ok\': hasSuccess(), \'glyphicon-remove\': hasError() }" aria-hidden="true"></span> <span ng-if="hasError() || hasSuccess()" id="{{form.key.slice(-1)[0] + \'Status\'}}" class="sr-only">{{ hasSuccess() ? \'(success)\' : \'(error)\' }}</span><div class="help-block" sf-message="form.description"></div></div>'),t.put("directives/decorators/bootstrap/fieldset-trcl.html",'<fieldset ng-disabled="form.readonly" class="schema-form-fieldset {{form.htmlClass}}"><legend ng-class="{\'sr-only\': !showTitle() }">{{ form.title }}</legend><div class="help-block" ng-show="form.description" ng-bind-html="form.description"></div><div ng-transclude=""></div></fieldset>'),t.put("directives/decorators/bootstrap/fieldset.html",'<fieldset ng-disabled="form.readonly" class="schema-form-fieldset {{form.htmlClass}}"><legend ng-class="{\'sr-only\': !showTitle() }">{{ form.title }}</legend><div class="help-block" ng-show="form.description" ng-bind-html="form.description"></div><sf-decorator ng-repeat="item in form.items" form="item"></sf-decorator></fieldset>'),t.put("directives/decorators/bootstrap/help.html",'<div class="helpvalue schema-form-helpvalue {{form.htmlClass}}" ng-bind-html="form.helpvalue"></div>'),t.put("directives/decorators/bootstrap/radio-buttons.html",'<div class="form-group schema-form-radiobuttons {{form.htmlClass}}" ng-class="{\'has-error\': form.disableErrorState !== true && hasError(), \'has-success\': form.disableSuccessState !== true && hasSuccess()}"><div><label class="control-label {{form.labelHtmlClass}}" ng-show="showTitle()">{{form.title}}</label></div><div class="btn-group"><label class="btn {{ (item.value === $$value$$) ? form.style.selected || \'btn-default\' : form.style.unselected || \'btn-default\'; }}" ng-class="{ active: item.value === $$value$$ }" ng-repeat="item in form.titleMap"><input type="radio" class="{{form.fieldHtmlClass}}" sf-changed="form" style="display: none;" ng-disabled="form.readonly" ng-model="$$value$$" ng-model-options="form.ngModelOptions" schema-validate="form" ng-value="item.value" name="{{form.key.join(\'.\')}}"> <span ng-bind-html="item.name"></span></label></div><div class="help-block" sf-message="form.description"></div></div>'),t.put("directives/decorators/bootstrap/radios-inline.html",'<div class="form-group schema-form-radios-inline {{form.htmlClass}}" ng-class="{\'has-error\': form.disableErrorState !== true && hasError(), \'has-success\': form.disableSuccessState !== true && hasSuccess()}"><label ng-model="$$value$$" ng-model-options="form.ngModelOptions" schema-validate="form" class="control-label {{form.labelHtmlClass}}" ng-show="showTitle()">{{form.title}}</label><div><label class="radio-inline" ng-repeat="item in form.titleMap"><input type="radio" class="{{form.fieldHtmlClass}}" sf-changed="form" ng-disabled="form.readonly" ng-model="$$value$$" ng-value="item.value" name="{{form.key.join(\'.\')}}"> <span ng-bind-html="item.name"></span></label></div><div class="help-block" sf-message="form.description"></div></div>'),t.put("directives/decorators/bootstrap/radios.html",'<div class="form-group schema-form-radios {{form.htmlClass}}" ng-class="{\'has-error\': form.disableErrorState !== true && hasError(), \'has-success\': form.disableSuccessState !== true && hasSuccess()}"><label ng-model="$$value$$" ng-model-options="form.ngModelOptions" schema-validate="form" class="control-label {{form.labelHtmlClass}}" ng-show="showTitle()">{{form.title}}</label><div class="radio" ng-repeat="item in form.titleMap"><label><input type="radio" class="{{form.fieldHtmlClass}}" sf-changed="form" ng-disabled="form.readonly" ng-model="$$value$$" ng-value="item.value" name="{{form.key.join(\'.\')}}"> <span ng-bind-html="item.name"></span></label></div><div class="help-block" sf-message="form.description"></div></div>'),t.put("directives/decorators/bootstrap/section.html",'<div class="schema-form-section {{form.htmlClass}}"><sf-decorator ng-repeat="item in form.items" form="item"></sf-decorator></div>'),t.put("directives/decorators/bootstrap/select.html",'<div class="form-group {{form.htmlClass}} schema-form-select" ng-class="{\'has-error\': form.disableErrorState !== true && hasError(), \'has-success\': form.disableSuccessState !== true && hasSuccess(), \'has-feedback\': form.feedback !== false}"><label class="control-label {{form.labelHtmlClass}}" ng-show="showTitle()">{{form.title}}</label><select ng-model="$$value$$" ng-model-options="form.ngModelOptions" ng-disabled="form.readonly" sf-changed="form" class="form-control {{form.fieldHtmlClass}}" schema-validate="form" ng-options="item.value as item.name group by item.group for item in form.titleMap" name="{{form.key.slice(-1)[0]}}"></select><div class="help-block" sf-message="form.description"></div></div>'),t.put("directives/decorators/bootstrap/submit.html",'<div class="form-group schema-form-submit {{form.htmlClass}}"><input type="submit" class="btn {{ form.style || \'btn-primary\' }} {{form.fieldHtmlClass}}" value="{{form.title}}" ng-disabled="form.readonly" ng-if="form.type === \'submit\'"> <button class="btn {{ form.style || \'btn-default\' }}" type="button" ng-click="buttonClick($event,form)" ng-disabled="form.readonly" ng-if="form.type !== \'submit\'"><span ng-if="form.icon" class="{{form.icon}}"></span> {{form.title}}</button></div>'),t.put("directives/decorators/bootstrap/tabarray.html",'<div sf-array="form" ng-init="selected = { tab: 0 }" class="clearfix schema-form-tabarray schema-form-tabarray-{{form.tabType || \'left\'}} {{form.htmlClass}}"><div ng-if="!form.tabType || form.tabType !== \'right\'" ng-class="{\'col-xs-3\': !form.tabType || form.tabType === \'left\'}"><ul class="nav nav-tabs" ng-class="{ \'tabs-left\': !form.tabType || form.tabType === \'left\'}"><li ng-repeat="item in modelArray track by $index" ng-click="$event.preventDefault() || (selected.tab = $index)" ng-class="{active: selected.tab === $index}"><a href="#">{{interp(form.title,{\'$index\':$index, value: item}) || $index}}</a></li><li ng-hide="form.readonly" ng-click="$event.preventDefault() || (selected.tab = appendToArray().length - 1)"><a href="#"><i class="glyphicon glyphicon-plus"></i> {{ form.add || \'Add\'}}</a></li></ul></div><div ng-class="{\'col-xs-9\': !form.tabType || form.tabType === \'left\' || form.tabType === \'right\'}"><div class="tab-content {{form.fieldHtmlClass}}"><div class="tab-pane clearfix" ng-repeat="item in modelArray track by $index" ng-show="selected.tab === $index" ng-class="{active: selected.tab === $index}"><sf-decorator ng-init="arrayIndex = $index" form="copyWithIndex($index)"></sf-decorator><button ng-hide="form.readonly" ng-click="selected.tab = deleteFromArray($index).length - 1" type="button" class="btn {{ form.style.remove || \'btn-default\' }} pull-right"><i class="glyphicon glyphicon-trash"></i> {{ form.remove || \'Remove\'}}</button></div></div></div><div ng-if="form.tabType === \'right\'" class="col-xs-3"><ul class="nav nav-tabs tabs-right"><li ng-repeat="item in modelArray track by $index" ng-click="$event.preventDefault() || (selected.tab = $index)" ng-class="{active: selected.tab === $index}"><a href="#">{{interp(form.title,{\'$index\':$index, value: item}) || $index}}</a></li><li ng-hide="form.readonly" ng-click="$event.preventDefault() || appendToArray()"><a href="#"><i class="glyphicon glyphicon-plus"></i> {{ form.add || \'Add\'}}</a></li></ul></div></div>'),t.put("directives/decorators/bootstrap/tabs.html",'<div ng-init="selected = { tab: 0 }" class="schema-form-tabs {{form.htmlClass}}"><ul class="nav nav-tabs"><li ng-repeat="tab in form.tabs" ng-disabled="form.readonly" ng-click="$event.preventDefault() || (selected.tab = $index)" ng-class="{active: selected.tab === $index}"><a href="#">{{ tab.title }}</a></li></ul><div class="tab-content {{form.fieldHtmlClass}}"><div class="tab-pane" ng-disabled="form.readonly" ng-repeat="tab in form.tabs" ng-show="selected.tab === $index" ng-class="{active: selected.tab === $index}"><bootstrap-decorator ng-repeat="item in tab.items" form="item"></bootstrap-decorator></div></div></div>'),t.put("directives/decorators/bootstrap/textarea.html",'<div class="form-group has-feedback {{form.htmlClass}} schema-form-textarea" ng-class="{\'has-error\': form.disableErrorState !== true && hasError(), \'has-success\': form.disableSuccessState !== true && hasSuccess()}"><label class="{{form.labelHtmlClass}}" ng-class="{\'sr-only\': !showTitle()}" for="{{form.key.slice(-1)[0]}}">{{form.title}}</label> <textarea ng-if="!form.fieldAddonLeft && !form.fieldAddonRight" class="form-control {{form.fieldHtmlClass}}" id="{{form.key.slice(-1)[0]}}" sf-changed="form" placeholder="{{form.placeholder}}" ng-disabled="form.readonly" ng-model="$$value$$" ng-model-options="form.ngModelOptions" schema-validate="form" name="{{form.key.slice(-1)[0]}}"></textarea><div ng-if="form.fieldAddonLeft || form.fieldAddonRight" ng-class="{\'input-group\': (form.fieldAddonLeft || form.fieldAddonRight)}"><span ng-if="form.fieldAddonLeft" class="input-group-addon" ng-bind-html="form.fieldAddonLeft"></span> <textarea class="form-control {{form.fieldHtmlClass}}" id="{{form.key.slice(-1)[0]}}" sf-changed="form" placeholder="{{form.placeholder}}" ng-disabled="form.readonly" ng-model="$$value$$" ng-model-options="form.ngModelOptions" schema-validate="form" name="{{form.key.slice(-1)[0]}}"></textarea> <span ng-if="form.fieldAddonRight" class="input-group-addon" ng-bind-html="form.fieldAddonRight"></span></div><span class="help-block" sf-message="form.description"></span></div>')}]),angular.module("schemaForm").config(["schemaFormDecoratorsProvider",function(t){var e="directives/decorators/bootstrap/";t.defineDecorator("bootstrapDecorator",{textarea:{template:e+"textarea.html",replace:!1},fieldset:{template:e+"fieldset.html",replace:!1},array:{template:e+"array.html",replace:!1},tabarray:{template:e+"tabarray.html",replace:!1},tabs:{template:e+"tabs.html",replace:!1},section:{template:e+"section.html",replace:!1},conditional:{template:e+"section.html",replace:!1},actions:{template:e+"actions.html",replace:!1},select:{template:e+"select.html",replace:!1},checkbox:{template:e+"checkbox.html",replace:!1},checkboxes:{template:e+"checkboxes.html",replace:!1},number:{template:e+"default.html",replace:!1},password:{template:e+"default.html",replace:!1},submit:{template:e+"submit.html",replace:!1},button:{template:e+"submit.html",replace:!1},radios:{template:e+"radios.html",replace:!1},"radios-inline":{template:e+"radios-inline.html",replace:!1},radiobuttons:{template:e+"radio-buttons.html",replace:!1},help:{template:e+"help.html",replace:!1},default:{template:e+"default.html",replace:!1}},[]),t.createDirectives({textarea:e+"textarea.html",select:e+"select.html",checkbox:e+"checkbox.html",checkboxes:e+"checkboxes.html",number:e+"default.html",submit:e+"submit.html",button:e+"submit.html",text:e+"default.html",date:e+"default.html",password:e+"default.html",datepicker:e+"datepicker.html",input:e+"default.html",radios:e+"radios.html","radios-inline":e+"radios-inline.html",radiobuttons:e+"radio-buttons.html"})}]).directive("sfFieldset",function(){return{transclude:!0,scope:!0,templateUrl:"directives/decorators/bootstrap/fieldset-trcl.html",link:function(t,e,n){t.title=t.$eval(n.title)}}}),t}),function(t){"function"==typeof define&&define.amd?define("picker",["jquery"],t):"object"==typeof exports?module.exports=t(require("jquery")):this.Picker=t(jQuery)}(function(g){var i=g(window),m=g(document),v=g(document.documentElement),y=null!=document.documentElement.style.transition;function b(i,t,e,n){if(!i)return b;var o=!1,s={id:i.id||"P"+Math.abs(~~(Math.random()*new Date))},l=e?g.extend(!0,{},e.defaults,n):n||{},r=g.extend({},b.klasses(),l.klass),u=g(i),a=function(){return this.start()},c=a.prototype={constructor:a,$node:u,start:function(){return s&&s.start?c:(s.methods={},s.start=!0,s.open=!1,s.type=i.type,i.autofocus=i==$(),i.readOnly=!l.editable,i.id=i.id||s.id,"text"!=i.type&&(i.type="text"),c.component=new e(c,l),c.$root=g('<div class="'+r.picker+'" id="'+i.id+'_root" />'),x(c.$root[0],"hidden",!0),c.$holder=g(p()).appendTo(c.$root),h(),l.formatSubmit&&function(){var t;!0===l.hiddenName?(t=i.name,i.name=""):t=(t=["string"==typeof l.hiddenPrefix?l.hiddenPrefix:"","string"==typeof l.hiddenSuffix?l.hiddenSuffix:"_submit"])[0]+i.name+t[1];c._hidden=g('<input type=hidden name="'+t+'"'+(u.data("value")||i.value?' value="'+c.get("select",l.formatSubmit)+'"':"")+">")[0],u.on("change."+s.id,function(){c._hidden.value=i.value?c.get("select",l.formatSubmit):""})}(),function(){u.data(t,c).addClass(r.input).val(u.data("value")?c.get("select",l.format):i.value),l.editable||u.on("focus."+s.id+" click."+s.id,function(t){t.preventDefault(),c.open()}).on("keydown."+s.id,f);x(i,{haspopup:!0,expanded:!1,readonly:!1,owns:i.id+"_root"})}(),l.containerHidden?g(l.containerHidden).append(c._hidden):u.after(c._hidden),l.container?g(l.container).append(c.$root):u.after(c.$root),c.on({start:c.component.onStart,render:c.component.onRender,stop:c.component.onStop,open:c.component.onOpen,close:c.component.onClose,set:c.component.onSet}).on({start:l.onStart,render:l.onRender,stop:l.onStop,open:l.onOpen,close:l.onClose,set:l.onSet}),o=function(t){var e;t.currentStyle?e=t.currentStyle.position:window.getComputedStyle&&(e=getComputedStyle(t).position);return"fixed"==e}(c.$holder[0]),i.autofocus&&c.open(),c.trigger("start").trigger("render"))},render:function(t){return t?(c.$holder=g(p()),h(),c.$root.html(c.$holder)):c.$root.find("."+r.box).html(c.component.nodes(s.open)),c.trigger("render")},stop:function(){return s.start&&(c.close(),c._hidden&&c._hidden.parentNode.removeChild(c._hidden),c.$root.remove(),u.removeClass(r.input).removeData(t),setTimeout(function(){u.off("."+s.id)},0),i.type=s.type,i.readOnly=!1,c.trigger("stop"),s.methods={},s.start=!1),c},open:function(t){return s.open?c:(u.addClass(r.active),x(i,"expanded",!0),setTimeout(function(){c.$root.addClass(r.opened),x(c.$root[0],"hidden",!1)},0),!1!==t&&(s.open=!0,o&&v.css("overflow","hidden").css("padding-right","+="+w()),o&&y?c.$holder.find("."+r.frame).one("transitionend",function(){c.$holder[0].focus()}):c.$holder[0].focus(),m.on("click."+s.id+" focusin."+s.id,function(t){var e=t.target;e!=i&&e!=document&&3!=t.which&&c.close(e===c.$holder[0])}).on("keydown."+s.id,function(t){var e=t.keyCode,n=c.component.key[e],i=t.target;27==e?c.close(!0):i!=c.$holder[0]||!n&&13!=e?g.contains(c.$root[0],i)&&13==e&&(t.preventDefault(),i.click()):(t.preventDefault(),n?b._.trigger(c.component.key.go,c,[b._.trigger(n)]):c.$root.find("."+r.highlighted).hasClass(r.disabled)||(c.set("select",c.component.item.highlight),l.closeOnSelect&&c.close(!0)))})),c.trigger("open"))},close:function(t){return t&&(l.editable?i.focus():(c.$holder.off("focus.toOpen").focus(),setTimeout(function(){c.$holder.on("focus.toOpen",d)},0))),u.removeClass(r.active),x(i,"expanded",!1),setTimeout(function(){c.$root.removeClass(r.opened+" "+r.focused),x(c.$root[0],"hidden",!0)},0),s.open?(s.open=!1,o&&v.css("overflow","").css("padding-right","-="+w()),m.off("."+s.id),c.trigger("close")):c},clear:function(t){return c.set("clear",null,t)},set:function(t,e,n){var i,o,r=g.isPlainObject(t),a=r?t:{};if(n=r&&g.isPlainObject(e)?e:n||{},t){for(i in r||(a[t]=e),a)o=a[i],i in c.component.item&&(void 0===o&&(o=null),c.component.set(i,o,n)),"select"!=i&&"clear"!=i||u.val("clear"==i?"":c.get(i,l.format)).trigger("change");c.render()}return n.muted?c:c.trigger("set",a)},get:function(t,e){if(null!=s[t=t||"value"])return s[t];if("valueSubmit"==t){if(c._hidden)return c._hidden.value;t="value"}if("value"==t)return i.value;if(t in c.component.item){if("string"!=typeof e)return c.component.get(t);var n=c.component.get(t);return n?b._.trigger(c.component.formats.toString,c.component,[e,n]):""}},on:function(t,e,n){var i,o,r=g.isPlainObject(t),a=r?t:{};if(t)for(i in r||(a[t]=e),a)o=a[i],n&&(i="_"+i),s.methods[i]=s.methods[i]||[],s.methods[i].push(o);return c},off:function(){var t,e,n=arguments;for(t=0,namesCount=n.length;t<namesCount;t+=1)(e=n[t])in s.methods&&delete s.methods[e];return c},trigger:function(t,n){var e=function(t){var e=s.methods[t];e&&e.map(function(t){b._.trigger(t,c,[n])})};return e("_"+t),e(t),c}};function p(){return b._.node("div",b._.node("div",b._.node("div",b._.node("div",c.component.nodes(s.open),r.box),r.wrap),r.frame),r.holder,'tabindex="-1"')}function h(){c.$holder.on({keydown:f,"focus.toOpen":d,blur:function(){u.removeClass(r.target)},focusin:function(t){c.$root.removeClass(r.focused),t.stopPropagation()},"mousedown click":function(t){var e=t.target;e!=c.$holder[0]&&(t.stopPropagation(),"mousedown"!=t.type||g(e).is("input, select, textarea, button, option")||(t.preventDefault(),c.$holder[0].focus()))}}).on("click","[data-pick], [data-nav], [data-clear], [data-close]",function(){var t=g(this),e=t.data(),n=t.hasClass(r.navDisabled)||t.hasClass(r.disabled),i=$();i=i&&(i.type||i.href),(n||i&&!g.contains(c.$root[0],i))&&c.$holder[0].focus(),!n&&e.nav?c.set("highlight",c.component.item.highlight,{nav:e.nav}):!n&&"pick"in e?(c.set("select",e.pick),l.closeOnSelect&&c.close(!0)):e.clear?(c.clear(),l.closeOnClear&&c.close(!0)):e.close&&c.close(!0)})}function d(t){t.stopPropagation(),u.addClass(r.target),c.$root.addClass(r.focused),c.open()}function f(t){var e=t.keyCode,n=/^(8|46)$/.test(e);if(27==e)return c.close(!0),!1;(32==e||n||!s.open&&c.component.key[e])&&(t.preventDefault(),t.stopPropagation(),n?c.clear().close():c.open())}return new a}function w(){if(v.height()<=i.height())return 0;var t=g('<div style="visibility:hidden;width:100px" />').appendTo("body"),e=t[0].offsetWidth;t.css("overflow","scroll");var n=g('<div style="width:100%" />').appendTo(t)[0].offsetWidth;return t.remove(),e-n}function x(t,e,n){if(g.isPlainObject(e))for(var i in e)o(t,i,e[i]);else o(t,e,n)}function o(t,e,n){t.setAttribute(("role"==e?"":"aria-")+e,n)}function $(){try{return document.activeElement}catch(t){}}return b.klasses=function(t){return{picker:t=t||"picker",opened:t+"--opened",focused:t+"--focused",input:t+"__input",active:t+"__input--active",target:t+"__input--target",holder:t+"__holder",frame:t+"__frame",wrap:t+"__wrap",box:t+"__box"}},b._={group:function(t){for(var e,n="",i=b._.trigger(t.min,t);i<=b._.trigger(t.max,t,[i]);i+=t.i)e=b._.trigger(t.item,t,[i]),n+=b._.node(t.node,e[0],e[1],e[2]);return n},node:function(t,e,n,i){return e?"<"+t+(n=n?' class="'+n+'"':"")+(i=i?" "+i:"")+">"+(e=g.isArray(e)?e.join(""):e)+"</"+t+">":""},lead:function(t){return(t<10?"0":"")+t},trigger:function(t,e,n){return"function"==typeof t?t.apply(e,n||[]):t},digits:function(t){return/\d/.test(t[1])?2:1},isDate:function(t){return-1<{}.toString.call(t).indexOf("Date")&&this.isInteger(t.getDate())},isInteger:function(t){return-1<{}.toString.call(t).indexOf("Number")&&t%1==0},ariaAttr:function(t,e){g.isPlainObject(t)||(t={attribute:e});for(var n in e="",t){var i=("role"==n?"":"aria-")+n,o=t[n];e+=null==o?"":i+'="'+t[n]+'"'}return e}},b.extend=function(i,o){g.fn[i]=function(t,e){var n=this.data(i);return"picker"==t?n:n&&"string"==typeof t?b._.trigger(n[t],n,[e]):this.each(function(){g(this).data(i)||new b(this,i,o,t)})},g.fn[i].defaults=o.defaults},b}),function(t){"function"==typeof define&&define.amd?define(["picker","jquery"],t):"object"==typeof exports?module.exports=t(require("./picker.js"),require("jquery")):t(Picker,jQuery)}(function(t,f){var e,v=t._;function n(e,n){var t,i=this,o=e.$node[0],r=o.value,a=e.$node.data("value"),s=a||r,l=a?n.formatSubmit:n.format,u=function(){return o.currentStyle?"rtl"==o.currentStyle.direction:"rtl"==getComputedStyle(e.$root[0]).direction};i.settings=n,i.$node=e.$node,i.queue={min:"measure create",max:"measure create",now:"now create",select:"parse create validate",highlight:"parse navigate create validate",view:"parse create validate viewset",disable:"deactivate",enable:"activate"},i.item={},i.item.clear=null,i.item.disable=(n.disable||[]).slice(0),i.item.enable=-(!0===(t=i.item.disable)[0]?t.shift():-1),i.set("min",n.min).set("max",n.max).set("now"),s?i.set("select",s,{format:l,defaultValue:!0}):i.set("select",null).set("highlight",i.item.now),i.key={40:7,38:-7,39:function(){return u()?-1:1},37:function(){return u()?1:-1},go:function(t){var e=i.item.highlight,n=new Date(e.year,e.month,e.date+t);i.set("highlight",n,{interval:t}),this.render()}},e.on("render",function(){e.$root.find("."+n.klass.selectMonth).on("change",function(){var t=this.value;t&&(e.set("highlight",[e.get("view").year,t,e.get("highlight").date]),e.$root.find("."+n.klass.selectMonth).trigger("focus"))}),e.$root.find("."+n.klass.selectYear).on("change",function(){var t=this.value;t&&(e.set("highlight",[t,e.get("view").month,e.get("highlight").date]),e.$root.find("."+n.klass.selectYear).trigger("focus"))})},1).on("open",function(){var t="";i.disabled(i.get("now"))&&(t=":not(."+n.klass.buttonToday+")"),e.$root.find("button"+t+", select").attr("disabled",!1)},1).on("close",function(){e.$root.find("button, select").attr("disabled",!0)},1)}n.prototype.set=function(e,n,i){var o=this,t=o.item;return null===n?("clear"==e&&(e="select"),t[e]=n):(t["enable"==e?"disable":"flip"==e?"enable":e]=o.queue[e].split(" ").map(function(t){return n=o[t](e,n,i)}).pop(),"select"==e?o.set("highlight",t.select,i):"highlight"==e?o.set("view",t.highlight,i):e.match(/^(flip|min|max|disable|enable)$/)&&(t.select&&o.disabled(t.select)&&o.set("select",t.select,i),t.highlight&&o.disabled(t.highlight)&&o.set("highlight",t.highlight,i))),o},n.prototype.get=function(t){return this.item[t]},n.prototype.create=function(t,e,n){var i;return(e=void 0===e?t:e)==-1/0||e==1/0?i=e:e=f.isPlainObject(e)&&v.isInteger(e.pick)?e.obj:f.isArray(e)?(e=new Date(e[0],e[1],e[2]),v.isDate(e)?e:this.create().obj):v.isInteger(e)||v.isDate(e)?this.normalize(new Date(e),n):this.now(t,e,n),{year:i||e.getFullYear(),month:i||e.getMonth(),date:i||e.getDate(),day:i||e.getDay(),obj:i||e,pick:i||e.getTime()}},n.prototype.createRange=function(t,e){var n=this,i=function(t){return!0===t||f.isArray(t)||v.isDate(t)?n.create(t):t};return v.isInteger(t)||(t=i(t)),v.isInteger(e)||(e=i(e)),v.isInteger(t)&&f.isPlainObject(e)?t=[e.year,e.month,e.date+t]:v.isInteger(e)&&f.isPlainObject(t)&&(e=[t.year,t.month,t.date+e]),{from:i(t),to:i(e)}},n.prototype.withinRange=function(t,e){return t=this.createRange(t.from,t.to),e.pick>=t.from.pick&&e.pick<=t.to.pick},n.prototype.overlapRanges=function(t,e){return t=this.createRange(t.from,t.to),e=this.createRange(e.from,e.to),this.withinRange(t,e.from)||this.withinRange(t,e.to)||this.withinRange(e,t.from)||this.withinRange(e,t.to)},n.prototype.now=function(t,e,n){return e=new Date,n&&n.rel&&e.setDate(e.getDate()+n.rel),this.normalize(e,n)},n.prototype.navigate=function(t,e,n){var i,o,r,a,s=f.isArray(e),l=f.isPlainObject(e),u=this.item.view;if(s||l){for(a=l?(o=e.year,r=e.month,e.date):(o=+e[0],r=+e[1],+e[2]),n&&n.nav&&u&&u.month!==r&&(o=u.year,r=u.month),o=(i=new Date(o,r+(n&&n.nav?n.nav:0),1)).getFullYear(),r=i.getMonth();new Date(o,r,a).getMonth()!==r;)a-=1;e=[o,r,a]}return e},n.prototype.normalize=function(t){return t.setHours(0,0,0,0),t},n.prototype.measure=function(t,e){return e?"string"==typeof e?e=this.parse(t,e):v.isInteger(e)&&(e=this.now(t,e,{rel:e})):e="min"==t?-1/0:1/0,e},n.prototype.viewset=function(t,e){return this.create([e.year,e.month,1])},n.prototype.validate=function(t,n,e){var i,o,r,a,s=this,l=n,u=e&&e.interval?e.interval:1,c=-1===s.item.enable,p=s.item.min,h=s.item.max,d=c&&s.item.disable.filter(function(t){if(f.isArray(t)){var e=s.create(t).pick;e<n.pick?i=!0:e>n.pick&&(o=!0)}return v.isInteger(t)}).length;if((!e||!e.nav&&!e.defaultValue)&&(!c&&s.disabled(n)||c&&s.disabled(n)&&(d||i||o)||!c&&(n.pick<=p.pick||n.pick>=h.pick)))for(c&&!d&&(!o&&0<u||!i&&u<0)&&(u*=-1);s.disabled(n)&&(1<Math.abs(u)&&(n.month<l.month||n.month>l.month)&&(n=l,u=0<u?1:-1),n.pick<=p.pick?(r=!0,u=1,n=s.create([p.year,p.month,p.date+(n.pick===p.pick?0:-1)])):n.pick>=h.pick&&(a=!0,u=-1,n=s.create([h.year,h.month,h.date+(n.pick===h.pick?0:1)])),!r||!a);)n=s.create([n.year,n.month,n.date+u]);return n},n.prototype.disabled=function(e){var n=this,t=n.item.disable.filter(function(t){return v.isInteger(t)?e.day===(n.settings.firstDay?t:t-1)%7:f.isArray(t)||v.isDate(t)?e.pick===n.create(t).pick:f.isPlainObject(t)?n.withinRange(t,e):void 0});return t=t.length&&!t.filter(function(t){return f.isArray(t)&&"inverted"==t[3]||f.isPlainObject(t)&&t.inverted}).length,-1===n.item.enable?!t:t||e.pick<n.item.min.pick||e.pick>n.item.max.pick},n.prototype.parse=function(t,i,e){var o=this,r={};return i&&"string"==typeof i?(e&&e.format||((e=e||{}).format=o.settings.format),o.formats.toArray(e.format).map(function(t){var e=o.formats[t],n=e?v.trigger(e,o,[i,r]):t.replace(/^!/,"").length;e&&(r[t]=i.substr(0,n)),i=i.substr(n)}),[r.yyyy||r.yy,+(r.mm||r.m)-1,r.dd||r.d]):i},n.prototype.formats=function(){function i(t,e,n){var i=t.match(/[^\x00-\x7F]+|\w+/)[0];return n.mm||n.m||(n.m=e.indexOf(i)+1),i.length}function n(t){return t.match(/\w+/)[0].length}return{d:function(t,e){return t?v.digits(t):e.date},dd:function(t,e){return t?2:v.lead(e.date)},ddd:function(t,e){return t?n(t):this.settings.weekdaysShort[e.day]},dddd:function(t,e){return t?n(t):this.settings.weekdaysFull[e.day]},m:function(t,e){return t?v.digits(t):e.month+1},mm:function(t,e){return t?2:v.lead(e.month+1)},mmm:function(t,e){var n=this.settings.monthsShort;return t?i(t,n,e):n[e.month]},mmmm:function(t,e){var n=this.settings.monthsFull;return t?i(t,n,e):n[e.month]},yy:function(t,e){return t?2:(""+e.year).slice(2)},yyyy:function(t,e){return t?4:e.year},toArray:function(t){return t.split(/(d{1,4}|m{1,4}|y{4}|yy|!.)/g)},toString:function(t,e){var n=this;return n.formats.toArray(t).map(function(t){return v.trigger(n.formats[t],n,[0,e])||t.replace(/^!/,"")}).join("")}}}(),n.prototype.isDateExact=function(t,e){return v.isInteger(t)&&v.isInteger(e)||"boolean"==typeof t&&"boolean"==typeof e?t===e:(v.isDate(t)||f.isArray(t))&&(v.isDate(e)||f.isArray(e))?this.create(t).pick===this.create(e).pick:!(!f.isPlainObject(t)||!f.isPlainObject(e))&&(this.isDateExact(t.from,e.from)&&this.isDateExact(t.to,e.to))},n.prototype.isDateOverlap=function(t,e){var n=this.settings.firstDay?1:0;return v.isInteger(t)&&(v.isDate(e)||f.isArray(e))?(t=t%7+n)===this.create(e).day+1:v.isInteger(e)&&(v.isDate(t)||f.isArray(t))?(e=e%7+n)===this.create(t).day+1:!(!f.isPlainObject(t)||!f.isPlainObject(e))&&this.overlapRanges(t,e)},n.prototype.flipEnable=function(t){var e=this.item;e.enable=t||(-1==e.enable?1:-1)},n.prototype.deactivate=function(t,e){var i=this,o=i.item.disable.slice(0);return"flip"==e?i.flipEnable():!1===e?(i.flipEnable(1),o=[]):!0===e?(i.flipEnable(-1),o=[]):e.map(function(t){for(var e,n=0;n<o.length;n+=1)if(i.isDateExact(t,o[n])){e=!0;break}e||(v.isInteger(t)||v.isDate(t)||f.isArray(t)||f.isPlainObject(t)&&t.from&&t.to)&&o.push(t)}),o},n.prototype.activate=function(t,e){var r=this,a=r.item.disable,s=a.length;return"flip"==e?r.flipEnable():!0===e?(r.flipEnable(1),a=[]):!1===e?(r.flipEnable(-1),a=[]):e.map(function(t){var e,n,i,o;for(i=0;i<s;i+=1){if(n=a[i],r.isDateExact(n,t)){e=a[i]=null,o=!0;break}if(r.isDateOverlap(n,t)){f.isPlainObject(t)?(t.inverted=!0,e=t):f.isArray(t)?(e=t)[3]||e.push("inverted"):v.isDate(t)&&(e=[t.getFullYear(),t.getMonth(),t.getDate(),"inverted"]);break}}if(e)for(i=0;i<s;i+=1)if(r.isDateExact(a[i],t)){a[i]=null;break}if(o)for(i=0;i<s;i+=1)if(r.isDateOverlap(a[i],t)){a[i]=null;break}e&&a.push(e)}),a.filter(function(t){return null!=t})},n.prototype.nodes=function(l){var e,n,u=this,c=u.settings,t=u.item,a=t.now,s=t.select,p=t.highlight,h=t.view,d=t.disable,f=t.min,g=t.max,i=(e=(c.showWeekdaysFull?c.weekdaysFull:c.weekdaysShort).slice(0),n=c.weekdaysFull.slice(0),c.firstDay&&(e.push(e.shift()),n.push(n.shift())),v.node("thead",v.node("tr",v.group({min:0,max:6,i:1,node:"th",item:function(t){return[e[t],c.klass.weekdays,'scope=col title="'+n[t]+'"']}})))),o=function(t){return v.node("div"," ",c.klass["nav"+(t?"Next":"Prev")]+(t&&h.year>=g.year&&h.month>=g.month||!t&&h.year<=f.year&&h.month<=f.month?" "+c.klass.navDisabled:""),"data-nav="+(t||-1)+" "+v.ariaAttr({role:"button",controls:u.$node[0].id+"_table"})+' title="'+(t?c.labelMonthNext:c.labelMonthPrev)+'"')},r=function(){var e=c.showMonthsShort?c.monthsShort:c.monthsFull;return c.selectMonths?v.node("select",v.group({min:0,max:11,i:1,node:"option",item:function(t){return[e[t],0,"value="+t+(h.month==t?" selected":"")+(h.year==f.year&&t<f.month||h.year==g.year&&t>g.month?" disabled":"")]}}),c.klass.selectMonth,(l?"":"disabled")+" "+v.ariaAttr({controls:u.$node[0].id+"_table"})+' title="'+c.labelMonthSelect+'"'):v.node("div",e[h.month],c.klass.month)},m=function(){var e=h.year,t=!0===c.selectYears?5:~~(c.selectYears/2);if(t){var n=f.year,i=g.year,o=e-t,r=e+t;if(o<n&&(r+=n-o,o=n),i<r){var a=o-n,s=r-i;o-=s<a?s:a,r=i}return v.node("select",v.group({min:o,max:r,i:1,node:"option",item:function(t){return[t,0,"value="+t+(e==t?" selected":"")]}}),c.klass.selectYear,(l?"":"disabled")+" "+v.ariaAttr({controls:u.$node[0].id+"_table"})+' title="'+c.labelYearSelect+'"')}return v.node("div",e,c.klass.year)};return v.node("div",(c.selectYears?m()+r():r()+m())+o()+o(1),c.klass.header)+v.node("table",i+v.node("tbody",v.group({min:0,max:5,i:1,node:"tr",item:function(t){var e=c.firstDay&&0===u.create([h.year,h.month,1]).day?-7:0;return[v.group({min:7*t-h.day+e+1,max:function(){return this.min+7-1},i:1,node:"td",item:function(t){t=u.create([h.year,h.month,t+(c.firstDay?1:0)]);var e,n=s&&s.pick==t.pick,i=p&&p.pick==t.pick,o=d&&u.disabled(t)||t.pick<f.pick||t.pick>g.pick,r=v.trigger(u.formats.toString,u,[c.format,t]);return[v.node("div",t.date,(e=[c.klass.day],e.push(h.month==t.month?c.klass.infocus:c.klass.outfocus),a.pick==t.pick&&e.push(c.klass.now),n&&e.push(c.klass.selected),i&&e.push(c.klass.highlighted),o&&e.push(c.klass.disabled),e.join(" ")),"data-pick="+t.pick+" "+v.ariaAttr({role:"gridcell",label:r,selected:!(!n||u.$node.val()!==r)||null,activedescendant:!!i||null,disabled:!!o||null})),"",v.ariaAttr({role:"presentation"})]}})]}})),c.klass.table,'id="'+u.$node[0].id+'_table" '+v.ariaAttr({role:"grid",controls:u.$node[0].id,readonly:!0}))+v.node("div",v.node("button",c.today,c.klass.buttonToday,"type=button data-pick="+a.pick+(l&&!u.disabled(a)?"":" disabled")+" "+v.ariaAttr({controls:u.$node[0].id}))+v.node("button",c.clear,c.klass.buttonClear,"type=button data-clear=1"+(l?"":" disabled")+" "+v.ariaAttr({controls:u.$node[0].id}))+v.node("button",c.close,c.klass.buttonClose,"type=button data-close=true "+(l?"":" disabled")+" "+v.ariaAttr({controls:u.$node[0].id})),c.klass.footer)},n.defaults={labelMonthNext:"Next month",labelMonthPrev:"Previous month",labelMonthSelect:"Select a month",labelYearSelect:"Select a year",monthsFull:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],weekdaysFull:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],weekdaysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],today:"Today",clear:"Clear",close:"Close",closeOnSelect:!0,closeOnClear:!0,format:"d mmmm, yyyy",klass:{table:(e=t.klasses().picker+"__")+"table",header:e+"header",navPrev:e+"nav--prev",navNext:e+"nav--next",navDisabled:e+"nav--disabled",month:e+"month",year:e+"year",selectMonth:e+"select--month",selectYear:e+"select--year",weekdays:e+"weekday",day:e+"day",disabled:e+"day--disabled",selected:e+"day--selected",highlighted:e+"day--highlighted",now:e+"day--today",infocus:e+"day--infocus",outfocus:e+"day--outfocus",footer:e+"footer",buttonClear:e+"button--clear",buttonToday:e+"button--today",buttonClose:e+"button--close"}},t.extend("pickadate",n)}),function(t){"function"==typeof define&&define.amd?define(["picker","jquery"],t):"object"==typeof exports?module.exports=t(require("./picker.js"),require("jquery")):t(Picker,jQuery)}(function(t,l){var e,d=t._;function n(o,r){var t,e=this,n=o.$node[0].value,i=o.$node.data("value"),a=i||n,s=i?r.formatSubmit:r.format;e.settings=r,e.$node=o.$node,e.queue={interval:"i",min:"measure create",max:"measure create",now:"now create",select:"parse create validate",highlight:"parse create validate",view:"parse create validate",disable:"deactivate",enable:"activate"},e.item={},e.item.clear=null,e.item.interval=r.interval||30,e.item.disable=(r.disable||[]).slice(0),e.item.enable=-(!0===(t=e.item.disable)[0]?t.shift():-1),e.set("min",r.min).set("max",r.max).set("now"),a?e.set("select",a,{format:s}):e.set("select",null).set("highlight",e.item.now),e.key={40:1,38:-1,39:1,37:-1,go:function(t){e.set("highlight",e.item.highlight.pick+t*e.item.interval,{interval:t*e.item.interval}),this.render()}},o.on("render",function(){var t=o.$root.children(),e=t.find("."+r.klass.viewset),i=function(e){return["webkit","moz","ms","o",""].map(function(t){return(t?"-"+t+"-":"")+e})},n=function(e,n){i("transform").map(function(t){e.css(t,n)}),i("transition").map(function(t){e.css(t,n)})};e.length&&(n(t,"none"),t[0].scrollTop=~~e.position().top-2*e[0].clientHeight,n(t,""))},1).on("open",function(){o.$root.find("button").attr("disabled",!1)},1).on("close",function(){o.$root.find("button").attr("disabled",!0)},1)}n.prototype.set=function(e,n,i){var o=this,t=o.item;return null===n?("clear"==e&&(e="select"),t[e]=n):(t["enable"==e?"disable":"flip"==e?"enable":e]=o.queue[e].split(" ").map(function(t){return n=o[t](e,n,i)}).pop(),"select"==e?o.set("highlight",t.select,i):"highlight"==e?o.set("view",t.highlight,i):"interval"==e?o.set("min",t.min,i).set("max",t.max,i):e.match(/^(flip|min|max|disable|enable)$/)&&(t.select&&o.disabled(t.select)&&o.set("select",n,i),t.highlight&&o.disabled(t.highlight)&&o.set("highlight",n,i),"min"==e&&o.set("max",t.max,i))),o},n.prototype.get=function(t){return this.item[t]},n.prototype.create=function(t,e,n){return e=void 0===e?t:e,d.isDate(e)&&(e=[e.getHours(),e.getMinutes()]),l.isPlainObject(e)&&d.isInteger(e.pick)?e=e.pick:l.isArray(e)?e=60*+e[0]+ +e[1]:d.isInteger(e)||(e=this.now(t,e,n)),"max"==t&&e<this.item.min.pick&&(e+=1440),"min"!=t&&"max"!=t&&(e-this.item.min.pick)%this.item.interval!=0&&(e+=this.item.interval),{hour:~~(24+(e=this.normalize(t,e,n))/60)%24,mins:(60+e%60)%60,time:(1440+e)%1440,pick:e%1440}},n.prototype.createRange=function(t,e){var n=this,i=function(t){return!0===t||l.isArray(t)||d.isDate(t)?n.create(t):t};return d.isInteger(t)||(t=i(t)),d.isInteger(e)||(e=i(e)),d.isInteger(t)&&l.isPlainObject(e)?t=[e.hour,e.mins+t*n.settings.interval]:d.isInteger(e)&&l.isPlainObject(t)&&(e=[t.hour,t.mins+e*n.settings.interval]),{from:i(t),to:i(e)}},n.prototype.withinRange=function(t,e){return t=this.createRange(t.from,t.to),e.pick>=t.from.pick&&e.pick<=t.to.pick},n.prototype.overlapRanges=function(t,e){return t=this.createRange(t.from,t.to),e=this.createRange(e.from,e.to),this.withinRange(t,e.from)||this.withinRange(t,e.to)||this.withinRange(e,t.from)||this.withinRange(e,t.to)},n.prototype.now=function(t,e){var n,i=this.item.interval,o=new Date,r=60*o.getHours()+o.getMinutes();return r-=r%i,n=e<0&&i*e+r<=-i,r+="min"==t&&n?0:i,d.isInteger(e)&&(r+=i*(n&&"max"!=t?e+1:e)),r},n.prototype.normalize=function(t,e){var n=this.item.interval,i=this.item.min&&this.item.min.pick||0;return e-="min"==t?0:(e-i)%n},n.prototype.measure=function(t,e,n){return e||(e="min"==t?[0,0]:[23,59]),"string"==typeof e?e=this.parse(t,e):!0===e||d.isInteger(e)?e=this.now(t,e,n):l.isPlainObject(e)&&d.isInteger(e.pick)&&(e=this.normalize(t,e.pick,n)),e},n.prototype.validate=function(t,e,n){var i=n&&n.interval?n.interval:this.item.interval;return this.disabled(e)&&(e=this.shift(e,i)),e=this.scope(e),this.disabled(e)&&(e=this.shift(e,-1*i)),e},n.prototype.disabled=function(e){var n=this,t=n.item.disable.filter(function(t){return d.isInteger(t)?e.hour==t:l.isArray(t)||d.isDate(t)?e.pick==n.create(t).pick:l.isPlainObject(t)?n.withinRange(t,e):void 0});return t=t.length&&!t.filter(function(t){return l.isArray(t)&&"inverted"==t[2]||l.isPlainObject(t)&&t.inverted}).length,-1===n.item.enable?!t:t||e.pick<n.item.min.pick||e.pick>n.item.max.pick},n.prototype.shift=function(t,e){var n=this.item.min.pick,i=this.item.max.pick;for(e=e||this.item.interval;this.disabled(t)&&!((t=this.create(t.pick+=e)).pick<=n||t.pick>=i););return t},n.prototype.scope=function(t){var e=this.item.min.pick,n=this.item.max.pick;return this.create(t.pick>n?n:t.pick<e?e:t)},n.prototype.parse=function(t,o,e){var n,i,r,a,s,l=this,u={};if(!o||"string"!=typeof o)return o;for(a in e&&e.format||((e=e||{}).format=l.settings.format),l.formats.toArray(e.format).map(function(t){var e,n=l.formats[t],i=n?d.trigger(n,l,[o,u]):t.replace(/^!/,"").length;n&&(e=o.substr(0,i),u[t]=e.match(/^\d+$/)?+e:e),o=o.substr(i)}),u)s=u[a],d.isInteger(s)?a.match(/^(h|hh)$/i)?(n=s,"h"!=a&&"hh"!=a||(n%=12)):"i"==a&&(i=s):a.match(/^a$/i)&&s.match(/^p/i)&&("h"in u||"hh"in u)&&(r=!0);return 60*(r?n+12:n)+i},n.prototype.formats={h:function(t,e){return t?d.digits(t):e.hour%12||12},hh:function(t,e){return t?2:d.lead(e.hour%12||12)},H:function(t,e){return t?d.digits(t):""+e.hour%24},HH:function(t,e){return t?d.digits(t):d.lead(e.hour%24)},i:function(t,e){return t?2:d.lead(e.mins)},a:function(t,e){return t?4:e.time%1440<720?"a.m.":"p.m."},A:function(t,e){return t?2:e.time%1440<720?"AM":"PM"},toArray:function(t){return t.split(/(h{1,2}|H{1,2}|i|a|A|!.)/g)},toString:function(t,e){var n=this;return n.formats.toArray(t).map(function(t){return d.trigger(n.formats[t],n,[0,e])||t.replace(/^!/,"")}).join("")}},n.prototype.isTimeExact=function(t,e){return d.isInteger(t)&&d.isInteger(e)||"boolean"==typeof t&&"boolean"==typeof e?t===e:(d.isDate(t)||l.isArray(t))&&(d.isDate(e)||l.isArray(e))?this.create(t).pick===this.create(e).pick:!(!l.isPlainObject(t)||!l.isPlainObject(e))&&(this.isTimeExact(t.from,e.from)&&this.isTimeExact(t.to,e.to))},n.prototype.isTimeOverlap=function(t,e){return d.isInteger(t)&&(d.isDate(e)||l.isArray(e))?t===this.create(e).hour:d.isInteger(e)&&(d.isDate(t)||l.isArray(t))?e===this.create(t).hour:!(!l.isPlainObject(t)||!l.isPlainObject(e))&&this.overlapRanges(t,e)},n.prototype.flipEnable=function(t){var e=this.item;e.enable=t||(-1==e.enable?1:-1)},n.prototype.deactivate=function(t,e){var i=this,o=i.item.disable.slice(0);return"flip"==e?i.flipEnable():!1===e?(i.flipEnable(1),o=[]):!0===e?(i.flipEnable(-1),o=[]):e.map(function(t){for(var e,n=0;n<o.length;n+=1)if(i.isTimeExact(t,o[n])){e=!0;break}e||(d.isInteger(t)||d.isDate(t)||l.isArray(t)||l.isPlainObject(t)&&t.from&&t.to)&&o.push(t)}),o},n.prototype.activate=function(t,e){var r=this,a=r.item.disable,s=a.length;return"flip"==e?r.flipEnable():!0===e?(r.flipEnable(1),a=[]):!1===e?(r.flipEnable(-1),a=[]):e.map(function(t){var e,n,i,o;for(i=0;i<s;i+=1){if(n=a[i],r.isTimeExact(n,t)){e=a[i]=null,o=!0;break}if(r.isTimeOverlap(n,t)){l.isPlainObject(t)?(t.inverted=!0,e=t):l.isArray(t)?(e=t)[2]||e.push("inverted"):d.isDate(t)&&(e=[t.getFullYear(),t.getMonth(),t.getDate(),"inverted"]);break}}if(e)for(i=0;i<s;i+=1)if(r.isTimeExact(a[i],t)){a[i]=null;break}if(o)for(i=0;i<s;i+=1)if(r.isTimeOverlap(a[i],t)){a[i]=null;break}e&&a.push(e)}),a.filter(function(t){return null!=t})},n.prototype.i=function(t,e){return d.isInteger(e)&&0<e?e:this.item.interval},n.prototype.nodes=function(t){var s=this,l=s.settings,u=s.item.select,c=s.item.highlight,p=s.item.view,h=s.item.disable;return d.node("ul",d.group({min:s.item.min.pick,max:s.item.max.pick,i:s.item.interval,node:"li",item:function(t){var e,n=(t=s.create(t)).pick,i=u&&u.pick==n,o=c&&c.pick==n,r=h&&s.disabled(t),a=d.trigger(s.formats.toString,s,[l.format,t]);return[d.trigger(s.formats.toString,s,[d.trigger(l.formatLabel,s,[t])||l.format,t]),(e=[l.klass.listItem],i&&e.push(l.klass.selected),o&&e.push(l.klass.highlighted),p&&p.pick==n&&e.push(l.klass.viewset),r&&e.push(l.klass.disabled),e.join(" ")),"data-pick="+t.pick+" "+d.ariaAttr({role:"option",label:a,selected:!(!i||s.$node.val()!==a)||null,activedescendant:!!o||null,disabled:!!r||null})]}})+d.node("li",d.node("button",l.clear,l.klass.buttonClear,"type=button data-clear=1"+(t?"":" disabled")+" "+d.ariaAttr({controls:s.$node[0].id})),"",d.ariaAttr({role:"presentation"})),l.klass.list,d.ariaAttr({role:"listbox",controls:s.$node[0].id}))},n.defaults={clear:"Clear",format:"h:i A",interval:30,closeOnSelect:!0,closeOnClear:!0,klass:{picker:(e=t.klasses().picker)+" "+e+"--time",holder:e+"__holder",list:e+"__list",listItem:e+"__list-item",disabled:e+"__list-item--disabled",selected:e+"__list-item--selected",highlighted:e+"__list-item--highlighted",viewset:e+"__list-item--viewset",now:e+"__list-item--now",buttonClear:e+"__button--clear"}},t.extend("pickatime",n)}),function(S,T){function A(){return new Date(Date.UTC.apply(Date,arguments))}function c(){var t=new Date;return A(t.getFullYear(),t.getMonth(),t.getDate())}function t(t){return function(){return this[t].apply(this,arguments)}}var e,n=(e={get:function(t){return this.slice(t)[0]},contains:function(t){for(var e=t&&t.valueOf(),n=0,i=this.length;n<i;n++)if(this[n].valueOf()===e)return n;return-1},remove:function(t){this.splice(t,1)},replace:function(t){t&&(S.isArray(t)||(t=[t]),this.clear(),this.push.apply(this,t))},clear:function(){this.length=0},copy:function(){var t=new n;return t.replace(this),t}},function(){var t=[];return t.push.apply(t,arguments),S.extend(t,e),t}),y=function(t,e){this._process_options(e),this.dates=new n,this.viewDate=this.o.defaultViewDate,this.focusDate=null,this.element=S(t),this.isInline=!1,this.isInput=this.element.is("input"),this.component=!!this.element.hasClass("date")&&this.element.find(".add-on, .input-group-addon, .btn"),this.hasInput=this.component&&this.element.find("input").length,this.component&&0===this.component.length&&(this.component=!1),this.picker=S(M.template),this._buildEvents(),this._attachEvents(),this.isInline?this.picker.addClass("datepicker-inline").appendTo(this.element):this.picker.addClass("datepicker-dropdown dropdown-menu"),this.o.rtl&&this.picker.addClass("datepicker-rtl"),this.viewMode=this.o.startView,this.o.calendarWeeks&&this.picker.find("tfoot .today, tfoot .clear").attr("colspan",function(t,e){return parseInt(e)+1}),this._allow_update=!1,this.setStartDate(this._o.startDate),this.setEndDate(this._o.endDate),this.setDaysOfWeekDisabled(this.o.daysOfWeekDisabled),this.setDatesDisabled(this.o.datesDisabled),this.fillDow(),this.fillMonths(),this._allow_update=!0,this.update(),this.showMode(),this.isInline&&this.show()};y.prototype={constructor:y,_process_options:function(t){this._o=S.extend({},this._o,t);var e=this.o=S.extend({},this._o),n=e.language;switch(D[n]||(n=n.split("-")[0],D[n]||(n=h.language)),e.language=n,e.startView){case 2:case"decade":e.startView=2;break;case 1:case"year":e.startView=1;break;default:e.startView=0}switch(e.minViewMode){case 1:case"months":e.minViewMode=1;break;case 2:case"years":e.minViewMode=2;break;default:e.minViewMode=0}e.startView=Math.max(e.startView,e.minViewMode),!0!==e.multidate&&(e.multidate=Number(e.multidate)||!1,!1!==e.multidate&&(e.multidate=Math.max(0,e.multidate))),e.multidateSeparator=String(e.multidateSeparator),e.weekStart%=7,e.weekEnd=(e.weekStart+6)%7;var i=M.parseFormat(e.format);if(e.startDate!==-1/0&&(e.startDate?e.startDate instanceof Date?e.startDate=this._local_to_utc(this._zero_time(e.startDate)):e.startDate=M.parseDate(e.startDate,i,e.language):e.startDate=-1/0),e.endDate!==1/0&&(e.endDate?e.endDate instanceof Date?e.endDate=this._local_to_utc(this._zero_time(e.endDate)):e.endDate=M.parseDate(e.endDate,i,e.language):e.endDate=1/0),e.daysOfWeekDisabled=e.daysOfWeekDisabled||[],S.isArray(e.daysOfWeekDisabled)||(e.daysOfWeekDisabled=e.daysOfWeekDisabled.split(/[,\s]*/)),e.daysOfWeekDisabled=S.map(e.daysOfWeekDisabled,function(t){return parseInt(t,10)}),e.datesDisabled=e.datesDisabled||[],!S.isArray(e.datesDisabled)){var o=[];o.push(M.parseDate(e.datesDisabled,i,e.language)),e.datesDisabled=o}e.datesDisabled=S.map(e.datesDisabled,function(t){return M.parseDate(t,i,e.language)});var r=String(e.orientation).toLowerCase().split(/\s+/g),a=e.orientation.toLowerCase();if(r=S.grep(r,function(t){return/^auto|left|right|top|bottom$/.test(t)}),e.orientation={x:"auto",y:"auto"},a&&"auto"!==a)if(1===r.length)switch(r[0]){case"top":case"bottom":e.orientation.y=r[0];break;case"left":case"right":e.orientation.x=r[0]}else a=S.grep(r,function(t){return/^left|right$/.test(t)}),e.orientation.x=a[0]||"auto",a=S.grep(r,function(t){return/^top|bottom$/.test(t)}),e.orientation.y=a[0]||"auto";if(e.defaultViewDate){var s=e.defaultViewDate.year||(new Date).getFullYear(),l=e.defaultViewDate.month||0,u=e.defaultViewDate.day||1;e.defaultViewDate=A(s,l,u)}else e.defaultViewDate=c();e.showOnFocus=e.showOnFocus===T||e.showOnFocus},_events:[],_secondaryEvents:[],_applyEvents:function(t){for(var e,n,i,o=0;o<t.length;o++)e=t[o][0],2===t[o].length?(n=T,i=t[o][1]):3===t[o].length&&(n=t[o][1],i=t[o][2]),e.on(i,n)},_unapplyEvents:function(t){for(var e,n,i,o=0;o<t.length;o++)e=t[o][0],2===t[o].length?(i=T,n=t[o][1]):3===t[o].length&&(i=t[o][1],n=t[o][2]),e.off(n,i)},_buildEvents:function(){var t={keyup:S.proxy(function(t){-1===S.inArray(t.keyCode,[27,37,39,38,40,32,13,9])&&this.update()},this),keydown:S.proxy(this.keydown,this)};!0===this.o.showOnFocus&&(t.focus=S.proxy(this.show,this)),this.isInput?this._events=[[this.element,t]]:this.component&&this.hasInput?this._events=[[this.element.find("input"),t],[this.component,{click:S.proxy(this.show,this)}]]:this.element.is("div")?this.isInline=!0:this._events=[[this.element,{click:S.proxy(this.show,this)}]],this._events.push([this.element,"*",{blur:S.proxy(function(t){this._focused_from=t.target},this)}],[this.element,{blur:S.proxy(function(t){this._focused_from=t.target},this)}]),this._secondaryEvents=[[this.picker,{click:S.proxy(this.click,this)}],[S(window),{resize:S.proxy(this.place,this)}],[S(document),{"mousedown touchstart":S.proxy(function(t){this.element.is(t.target)||this.element.find(t.target).length||this.picker.is(t.target)||this.picker.find(t.target).length||this.hide()},this)}]]},_attachEvents:function(){this._detachEvents(),this._applyEvents(this._events)},_detachEvents:function(){this._unapplyEvents(this._events)},_attachSecondaryEvents:function(){this._detachSecondaryEvents(),this._applyEvents(this._secondaryEvents)},_detachSecondaryEvents:function(){this._unapplyEvents(this._secondaryEvents)},_trigger:function(t,e){var n=e||this.dates.get(-1),i=this._utc_to_local(n);this.element.trigger({type:t,date:i,dates:S.map(this.dates,this._utc_to_local),format:S.proxy(function(t,e){0===arguments.length?(t=this.dates.length-1,e=this.o.format):"string"==typeof t&&(e=t,t=this.dates.length-1),e=e||this.o.format;var n=this.dates.get(t);return M.formatDate(n,e,this.o.language)},this)})},show:function(){return this.element.attr("readonly")&&!1===this.o.enableOnReadonly?void 0:(this.isInline||this.picker.appendTo(this.o.container),this.place(),this.picker.show(),this._attachSecondaryEvents(),this._trigger("show"),(window.navigator.msMaxTouchPoints||"ontouchstart"in document)&&this.o.disableTouchKeyboard&&S(this.element).blur(),this)},hide:function(){return this.isInline||this.picker.is(":visible")&&(this.focusDate=null,this.picker.hide().detach(),this._detachSecondaryEvents(),this.viewMode=this.o.startView,this.showMode(),this.o.forceParse&&(this.isInput&&this.element.val()||this.hasInput&&this.element.find("input").val())&&this.setValue(),this._trigger("hide")),this},remove:function(){return this.hide(),this._detachEvents(),this._detachSecondaryEvents(),this.picker.remove(),delete this.element.data().datepicker,this.isInput||delete this.element.data().date,this},_utc_to_local:function(t){return t&&new Date(t.getTime()+6e4*t.getTimezoneOffset())},_local_to_utc:function(t){return t&&new Date(t.getTime()-6e4*t.getTimezoneOffset())},_zero_time:function(t){return t&&new Date(t.getFullYear(),t.getMonth(),t.getDate())},_zero_utc_time:function(t){return t&&new Date(Date.UTC(t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()))},getDates:function(){return S.map(this.dates,this._utc_to_local)},getUTCDates:function(){return S.map(this.dates,function(t){return new Date(t)})},getDate:function(){return this._utc_to_local(this.getUTCDate())},getUTCDate:function(){var t=this.dates.get(-1);return void 0!==t?new Date(t):null},clearDates:function(){var t;this.isInput?t=this.element:this.component&&(t=this.element.find("input")),t&&t.val("").change(),this.update(),this._trigger("changeDate"),this.o.autoclose&&this.hide()},setDates:function(){var t=S.isArray(arguments[0])?arguments[0]:arguments;return this.update.apply(this,t),this._trigger("changeDate"),this.setValue(),this},setUTCDates:function(){var t=S.isArray(arguments[0])?arguments[0]:arguments;return this.update.apply(this,S.map(t,this._utc_to_local)),this._trigger("changeDate"),this.setValue(),this},setDate:t("setDates"),setUTCDate:t("setUTCDates"),setValue:function(){var t=this.getFormattedDate();return this.isInput?this.element.val(t).change():this.component&&this.element.find("input").val(t).change(),this},getFormattedDate:function(e){e===T&&(e=this.o.format);var n=this.o.language;return S.map(this.dates,function(t){return M.formatDate(t,e,n)}).join(this.o.multidateSeparator)},setStartDate:function(t){return this._process_options({startDate:t}),this.update(),this.updateNavArrows(),this},setEndDate:function(t){return this._process_options({endDate:t}),this.update(),this.updateNavArrows(),this},setDaysOfWeekDisabled:function(t){return this._process_options({daysOfWeekDisabled:t}),this.update(),this.updateNavArrows(),this},setDatesDisabled:function(t){this._process_options({datesDisabled:t}),this.update(),this.updateNavArrows()},place:function(){if(this.isInline)return this;var t=this.picker.outerWidth(),e=this.picker.outerHeight(),n=S(this.o.container).width(),i=S(this.o.container).height(),o=S(this.o.container).scrollTop(),r=S(this.o.container).offset(),a=[];this.element.parents().each(function(){var t=S(this).css("z-index");"auto"!==t&&0!==t&&a.push(parseInt(t))});var s=Math.max.apply(Math,a)+10,l=this.component?this.component.parent().offset():this.element.offset(),u=this.component?this.component.outerHeight(!0):this.element.outerHeight(!1),c=this.component?this.component.outerWidth(!0):this.element.outerWidth(!1),p=l.left-r.left,h=l.top-r.top;this.picker.removeClass("datepicker-orient-top datepicker-orient-bottom datepicker-orient-right datepicker-orient-left"),"auto"!==this.o.orientation.x?(this.picker.addClass("datepicker-orient-"+this.o.orientation.x),"right"===this.o.orientation.x&&(p-=t-c)):l.left<0?(this.picker.addClass("datepicker-orient-left"),p-=l.left-10):n<p+t?(this.picker.addClass("datepicker-orient-right"),p=l.left+c-t):this.picker.addClass("datepicker-orient-left");var d,f,g=this.o.orientation.y;if("auto"===g&&(d=-o+h-e,f=o+i-(h+u+e),g=Math.max(d,f)===f?"top":"bottom"),this.picker.addClass("datepicker-orient-"+g),"top"===g?h+=u:h-=e+parseInt(this.picker.css("padding-top")),this.o.rtl){var m=n-(p+c);this.picker.css({top:h,right:m,zIndex:s})}else this.picker.css({top:h,left:p,zIndex:s});return this},_allow_update:!0,update:function(){if(!this._allow_update)return this;var t=this.dates.copy(),n=[],e=!1;return arguments.length?(S.each(arguments,S.proxy(function(t,e){e instanceof Date&&(e=this._local_to_utc(e)),n.push(e)},this)),e=!0):(n=(n=this.isInput?this.element.val():this.element.data("date")||this.element.find("input").val())&&this.o.multidate?n.split(this.o.multidateSeparator):[n],delete this.element.data().date),n=S.map(n,S.proxy(function(t){return M.parseDate(t,this.o.format,this.o.language)},this)),n=S.grep(n,S.proxy(function(t){return t<this.o.startDate||t>this.o.endDate||!t},this),!0),this.dates.replace(n),this.dates.length?this.viewDate=new Date(this.dates.get(-1)):this.viewDate<this.o.startDate?this.viewDate=new Date(this.o.startDate):this.viewDate>this.o.endDate&&(this.viewDate=new Date(this.o.endDate)),e?this.setValue():n.length&&String(t)!==String(this.dates)&&this._trigger("changeDate"),!this.dates.length&&t.length&&this._trigger("clearDate"),this.fill(),this},fillDow:function(){var t=this.o.weekStart,e="<tr>";if(this.o.calendarWeeks){this.picker.find(".datepicker-days thead tr:first-child .datepicker-switch").attr("colspan",function(t,e){return parseInt(e)+1});e+='<th class="cw">&#160;</th>'}for(;t<this.o.weekStart+7;)e+='<th class="dow">'+D[this.o.language].daysMin[t++%7]+"</th>";e+="</tr>",this.picker.find(".datepicker-days thead").append(e)},fillMonths:function(){for(var t="",e=0;e<12;)t+='<span class="month">'+D[this.o.language].monthsShort[e++]+"</span>";this.picker.find(".datepicker-months td").html(t)},setRange:function(t){t&&t.length?this.range=S.map(t,function(t){return t.valueOf()}):delete this.range,this.fill()},getClassNames:function(i){var t=[],e=this.viewDate.getUTCFullYear(),n=this.viewDate.getUTCMonth(),o=new Date;return i.getUTCFullYear()<e||i.getUTCFullYear()===e&&i.getUTCMonth()<n?t.push("old"):(i.getUTCFullYear()>e||i.getUTCFullYear()===e&&i.getUTCMonth()>n)&&t.push("new"),this.focusDate&&i.valueOf()===this.focusDate.valueOf()&&t.push("focused"),this.o.todayHighlight&&i.getUTCFullYear()===o.getFullYear()&&i.getUTCMonth()===o.getMonth()&&i.getUTCDate()===o.getDate()&&t.push("today"),-1!==this.dates.contains(i)&&t.push("active"),(i.valueOf()<this.o.startDate||i.valueOf()>this.o.endDate||-1!==S.inArray(i.getUTCDay(),this.o.daysOfWeekDisabled))&&t.push("disabled"),0<this.o.datesDisabled.length&&0<S.grep(this.o.datesDisabled,function(t){return n=t,(e=i).getUTCFullYear()===n.getUTCFullYear()&&e.getUTCMonth()===n.getUTCMonth()&&e.getUTCDate()===n.getUTCDate();var e,n}).length&&t.push("disabled","disabled-date"),this.range&&(i>this.range[0]&&i<this.range[this.range.length-1]&&t.push("range"),-1!==S.inArray(i.valueOf(),this.range)&&t.push("selected")),t},fill:function(){var t,e=new Date(this.viewDate),i=e.getUTCFullYear(),n=e.getUTCMonth(),o=this.o.startDate!==-1/0?this.o.startDate.getUTCFullYear():-1/0,r=this.o.startDate!==-1/0?this.o.startDate.getUTCMonth():-1/0,a=this.o.endDate!==1/0?this.o.endDate.getUTCFullYear():1/0,s=this.o.endDate!==1/0?this.o.endDate.getUTCMonth():1/0,l=D[this.o.language].today||D.en.today||"",u=D[this.o.language].clear||D.en.clear||"";if(!isNaN(i)&&!isNaN(n)){this.picker.find(".datepicker-days thead .datepicker-switch").text(D[this.o.language].months[n]+" "+i),this.picker.find("tfoot .today").text(l).toggle(!1!==this.o.todayBtn),this.picker.find("tfoot .clear").text(u).toggle(!1!==this.o.clearBtn),this.updateNavArrows(),this.fillMonths();var c=A(i,n-1,28),p=M.getDaysInMonth(c.getUTCFullYear(),c.getUTCMonth());c.setUTCDate(p),c.setUTCDate(p-(c.getUTCDay()-this.o.weekStart+7)%7);var h=new Date(c);h.setUTCDate(h.getUTCDate()+42),h=h.valueOf();for(var d,f=[];c.valueOf()<h;){if(c.getUTCDay()===this.o.weekStart&&(f.push("<tr>"),this.o.calendarWeeks)){var g=new Date(+c+(this.o.weekStart-c.getUTCDay()-7)%7*864e5),m=new Date(Number(g)+(11-g.getUTCDay())%7*864e5),v=new Date(Number(v=A(m.getUTCFullYear(),0,1))+(11-v.getUTCDay())%7*864e5),y=(m-v)/864e5/7+1;f.push('<td class="cw">'+y+"</td>")}if((d=this.getClassNames(c)).push("day"),this.o.beforeShowDay!==S.noop){var b=this.o.beforeShowDay(this._utc_to_local(c));b===T?b={}:"boolean"==typeof b?b={enabled:b}:"string"==typeof b&&(b={classes:b}),!1===b.enabled&&d.push("disabled"),b.classes&&(d=d.concat(b.classes.split(/\s+/))),b.tooltip&&(t=b.tooltip)}d=S.unique(d),f.push('<td class="'+d.join(" ")+'"'+(t?' title="'+t+'"':"")+">"+c.getUTCDate()+"</td>"),t=null,c.getUTCDay()===this.o.weekEnd&&f.push("</tr>"),c.setUTCDate(c.getUTCDate()+1)}this.picker.find(".datepicker-days tbody").empty().append(f.join(""));var w=this.picker.find(".datepicker-months").find("th:eq(1)").text(i).end().find("span").removeClass("active");if(S.each(this.dates,function(t,e){e.getUTCFullYear()===i&&w.eq(e.getUTCMonth()).addClass("active")}),(i<o||a<i)&&w.addClass("disabled"),i===o&&w.slice(0,r).addClass("disabled"),i===a&&w.slice(s+1).addClass("disabled"),this.o.beforeShowMonth!==S.noop){var x=this;S.each(w,function(t,e){if(!S(e).hasClass("disabled")){var n=new Date(i,t,1);!1===x.o.beforeShowMonth(n)&&S(e).addClass("disabled")}})}f="",i=10*parseInt(i/10,10);var $=this.picker.find(".datepicker-years").find("th:eq(1)").text(i+"-"+(i+9)).end().find("td");i-=1;for(var _,k=S.map(this.dates,function(t){return t.getUTCFullYear()}),C=-1;C<11;C++)_=["year"],-1===C?_.push("old"):10===C&&_.push("new"),-1!==S.inArray(i,k)&&_.push("active"),(i<o||a<i)&&_.push("disabled"),f+='<span class="'+_.join(" ")+'">'+i+"</span>",i+=1;$.html(f)}},updateNavArrows:function(){if(this._allow_update){var t=new Date(this.viewDate),e=t.getUTCFullYear(),n=t.getUTCMonth();switch(this.viewMode){case 0:this.o.startDate!==-1/0&&e<=this.o.startDate.getUTCFullYear()&&n<=this.o.startDate.getUTCMonth()?this.picker.find(".prev").css({visibility:"hidden"}):this.picker.find(".prev").css({visibility:"visible"}),this.o.endDate!==1/0&&e>=this.o.endDate.getUTCFullYear()&&n>=this.o.endDate.getUTCMonth()?this.picker.find(".next").css({visibility:"hidden"}):this.picker.find(".next").css({visibility:"visible"});break;case 1:case 2:this.o.startDate!==-1/0&&e<=this.o.startDate.getUTCFullYear()?this.picker.find(".prev").css({visibility:"hidden"}):this.picker.find(".prev").css({visibility:"visible"}),this.o.endDate!==1/0&&e>=this.o.endDate.getUTCFullYear()?this.picker.find(".next").css({visibility:"hidden"}):this.picker.find(".next").css({visibility:"visible"})}}},click:function(t){t.preventDefault();var e,n,i,o=S(t.target).closest("span, td, th");if(1===o.length)switch(o[0].nodeName.toLowerCase()){case"th":switch(o[0].className){case"datepicker-switch":this.showMode(1);break;case"prev":case"next":var r=M.modes[this.viewMode].navStep*("prev"===o[0].className?-1:1);switch(this.viewMode){case 0:this.viewDate=this.moveMonth(this.viewDate,r),this._trigger("changeMonth",this.viewDate);break;case 1:case 2:this.viewDate=this.moveYear(this.viewDate,r),1===this.viewMode&&this._trigger("changeYear",this.viewDate)}this.fill();break;case"today":var a=new Date;a=A(a.getFullYear(),a.getMonth(),a.getDate(),0,0,0),this.showMode(-2);var s="linked"===this.o.todayBtn?null:"view";this._setDate(a,s);break;case"clear":this.clearDates()}break;case"span":o.hasClass("disabled")||(this.viewDate.setUTCDate(1),o.hasClass("month")?(i=1,n=o.parent().find("span").index(o),e=this.viewDate.getUTCFullYear(),this.viewDate.setUTCMonth(n),this._trigger("changeMonth",this.viewDate),1===this.o.minViewMode&&this._setDate(A(e,n,i))):(i=1,n=0,e=parseInt(o.text(),10)||0,this.viewDate.setUTCFullYear(e),this._trigger("changeYear",this.viewDate),2===this.o.minViewMode&&this._setDate(A(e,n,i))),this.showMode(-1),this.fill());break;case"td":o.hasClass("day")&&!o.hasClass("disabled")&&(i=parseInt(o.text(),10)||1,e=this.viewDate.getUTCFullYear(),n=this.viewDate.getUTCMonth(),o.hasClass("old")?0===n?(n=11,e-=1):n-=1:o.hasClass("new")&&(11===n?(n=0,e+=1):n+=1),this._setDate(A(e,n,i)))}this.picker.is(":visible")&&this._focused_from&&S(this._focused_from).focus(),delete this._focused_from},_toggle_multidate:function(t){var e=this.dates.contains(t);if(t||this.dates.clear(),-1!==e?(!0===this.o.multidate||1<this.o.multidate||this.o.toggleActive)&&this.dates.remove(e):(!1===this.o.multidate&&this.dates.clear(),this.dates.push(t)),"number"==typeof this.o.multidate)for(;this.dates.length>this.o.multidate;)this.dates.remove(0)},_setDate:function(t,e){var n;e&&"date"!==e||this._toggle_multidate(t&&new Date(t)),e&&"view"!==e||(this.viewDate=t&&new Date(t)),this.fill(),this.setValue(),e&&"view"===e||this._trigger("changeDate"),this.isInput?n=this.element:this.component&&(n=this.element.find("input")),n&&n.change(),!this.o.autoclose||e&&"date"!==e||this.hide()},moveMonth:function(t,e){if(!t)return T;if(!e)return t;var n,i,o=new Date(t.valueOf()),r=o.getUTCDate(),a=o.getUTCMonth(),s=Math.abs(e);if(e=0<e?1:-1,1===s)i=-1===e?function(){return o.getUTCMonth()===a}:function(){return o.getUTCMonth()!==n},n=a+e,o.setUTCMonth(n),(n<0||11<n)&&(n=(n+12)%12);else{for(var l=0;l<s;l++)o=this.moveMonth(o,e);n=o.getUTCMonth(),o.setUTCDate(r),i=function(){return n!==o.getUTCMonth()}}for(;i();)o.setUTCDate(--r),o.setUTCMonth(n);return o},moveYear:function(t,e){return this.moveMonth(t,12*e)},dateWithinRange:function(t){return t>=this.o.startDate&&t<=this.o.endDate},keydown:function(t){if(this.picker.is(":visible")){var e,n,i,o,r=!1,a=this.focusDate||this.viewDate;switch(t.keyCode){case 27:this.focusDate?(this.focusDate=null,this.viewDate=this.dates.get(-1)||this.viewDate,this.fill()):this.hide(),t.preventDefault();break;case 37:case 39:if(!this.o.keyboardNavigation)break;e=37===t.keyCode?-1:1,t.ctrlKey?(n=this.moveYear(this.dates.get(-1)||c(),e),i=this.moveYear(a,e),this._trigger("changeYear",this.viewDate)):t.shiftKey?(n=this.moveMonth(this.dates.get(-1)||c(),e),i=this.moveMonth(a,e),this._trigger("changeMonth",this.viewDate)):((n=new Date(this.dates.get(-1)||c())).setUTCDate(n.getUTCDate()+e),(i=new Date(a)).setUTCDate(a.getUTCDate()+e)),this.dateWithinRange(i)&&(this.focusDate=this.viewDate=i,this.setValue(),this.fill(),t.preventDefault());break;case 38:case 40:if(!this.o.keyboardNavigation)break;e=38===t.keyCode?-1:1,t.ctrlKey?(n=this.moveYear(this.dates.get(-1)||c(),e),i=this.moveYear(a,e),this._trigger("changeYear",this.viewDate)):t.shiftKey?(n=this.moveMonth(this.dates.get(-1)||c(),e),i=this.moveMonth(a,e),this._trigger("changeMonth",this.viewDate)):((n=new Date(this.dates.get(-1)||c())).setUTCDate(n.getUTCDate()+7*e),(i=new Date(a)).setUTCDate(a.getUTCDate()+7*e)),this.dateWithinRange(i)&&(this.focusDate=this.viewDate=i,this.setValue(),this.fill(),t.preventDefault());break;case 32:break;case 13:a=this.focusDate||this.dates.get(-1)||this.viewDate,this.o.keyboardNavigation&&(this._toggle_multidate(a),r=!0),this.focusDate=null,this.viewDate=this.dates.get(-1)||this.viewDate,this.setValue(),this.fill(),this.picker.is(":visible")&&(t.preventDefault(),"function"==typeof t.stopPropagation?t.stopPropagation():t.cancelBubble=!0,this.o.autoclose&&this.hide());break;case 9:this.focusDate=null,this.viewDate=this.dates.get(-1)||this.viewDate,this.fill(),this.hide()}if(r)this.dates.length?this._trigger("changeDate"):this._trigger("clearDate"),this.isInput?o=this.element:this.component&&(o=this.element.find("input")),o&&o.change()}else 27===t.keyCode&&this.show()},showMode:function(t){t&&(this.viewMode=Math.max(this.o.minViewMode,Math.min(2,this.viewMode+t))),this.picker.children("div").hide().filter(".datepicker-"+M.modes[this.viewMode].clsName).css("display","block"),this.updateNavArrows()}};var p=function(t,e){this.element=S(t),this.inputs=S.map(e.inputs,function(t){return t.jquery?t[0]:t}),delete e.inputs,o.call(S(this.inputs),e).bind("changeDate",S.proxy(this.dateUpdated,this)),this.pickers=S.map(this.inputs,function(t){return S(t).data("datepicker")}),this.updateDates()};p.prototype={updateDates:function(){this.dates=S.map(this.pickers,function(t){return t.getUTCDate()}),this.updateRanges()},updateRanges:function(){var n=S.map(this.dates,function(t){return t.valueOf()});S.each(this.pickers,function(t,e){e.setRange(n)})},dateUpdated:function(t){if(!this.updating){this.updating=!0;var n=S(t.target).data("datepicker").getUTCDate(),e=S.inArray(t.target,this.inputs),i=e-1,o=e+1,r=this.inputs.length;if(-1!==e){if(S.each(this.pickers,function(t,e){e.getUTCDate()||e.setUTCDate(n)}),n<this.dates[i])for(;0<=i&&n<this.dates[i];)this.pickers[i--].setUTCDate(n);else if(n>this.dates[o])for(;o<r&&n>this.dates[o];)this.pickers[o++].setUTCDate(n);this.updateDates(),delete this.updating}}},remove:function(){S.map(this.pickers,function(t){t.remove()}),delete this.element.data().datepicker}};var i=S.fn.datepicker,o=function(s){var l,u=Array.apply(null,arguments);return u.shift(),this.each(function(){var t=S(this),e=t.data("datepicker"),n="object"==typeof s&&s;if(!e){var i=function(t,e){function n(t,e){return e.toLowerCase()}var i=S(t).data(),o={},r=new RegExp("^"+e.toLowerCase()+"([A-Z])");for(var a in e=new RegExp("^"+e.toLowerCase()),i)e.test(a)&&(o[a.replace(r,n)]=i[a]);return o}(this,"date"),o=function(t){var n={};if(D[t]||(t=t.split("-")[0],D[t])){var i=D[t];return S.each(d,function(t,e){e in i&&(n[e]=i[e])}),n}}(S.extend({},h,i,n).language),r=S.extend({},h,o,i,n);if(t.hasClass("input-daterange")||r.inputs){var a={inputs:r.inputs||t.find("input").toArray()};t.data("datepicker",e=new p(this,S.extend(r,a)))}else t.data("datepicker",e=new y(this,r))}return("string"!=typeof s||"function"!=typeof e[s]||(l=e[s].apply(e,u))===T)&&void 0}),l!==T?l:this};S.fn.datepicker=o;var h=S.fn.datepicker.defaults={autoclose:!1,beforeShowDay:S.noop,beforeShowMonth:S.noop,calendarWeeks:!1,clearBtn:!1,toggleActive:!1,daysOfWeekDisabled:[],datesDisabled:[],endDate:1/0,forceParse:!0,format:"mm/dd/yyyy",keyboardNavigation:!0,language:"en",minViewMode:0,multidate:!1,multidateSeparator:",",orientation:"auto",rtl:!1,startDate:-1/0,startView:0,todayBtn:!1,todayHighlight:!1,weekStart:0,disableTouchKeyboard:!1,enableOnReadonly:!0,container:"body"},d=S.fn.datepicker.locale_opts=["format","rtl","weekStart"];S.fn.datepicker.Constructor=y;var D=S.fn.datepicker.dates={en:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],daysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sun"],daysMin:["Su","Mo","Tu","We","Th","Fr","Sa","Su"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],today:"Today",clear:"Clear"}},M={modes:[{clsName:"days",navFnc:"Month",navStep:1},{clsName:"months",navFnc:"FullYear",navStep:1},{clsName:"years",navFnc:"FullYear",navStep:10}],isLeapYear:function(t){return t%4==0&&t%100!=0||t%400==0},getDaysInMonth:function(t,e){return[31,M.isLeapYear(t)?29:28,31,30,31,30,31,31,30,31,30,31][e]},validParts:/dd?|DD?|mm?|MM?|yy(?:yy)?/g,nonpunctuation:/[^ -\/:-@\[\u3400-\u9fff-`{-~\t\n\r]+/g,parseFormat:function(t){var e=t.replace(this.validParts,"\0").split("\0"),n=t.match(this.validParts);if(!e||!e.length||!n||0===n.length)throw new Error("Invalid date format.");return{separators:e,parts:n}},parseDate:function(t,e,n){function i(){var t=this.slice(0,l[a].length),e=l[a].slice(0,t.length);return t.toLowerCase()===e.toLowerCase()}if(!t)return T;if(t instanceof Date)return t;"string"==typeof e&&(e=M.parseFormat(e));var o,r,a,s=/([\-+]\d+)([dmwy])/,l=t.match(/([\-+]\d+)([dmwy])/g);if(/^[\-+]\d+[dmwy]([\s,]+[\-+]\d+[dmwy])*$/.test(t)){for(t=new Date,a=0;a<l.length;a++)switch(o=s.exec(l[a]),r=parseInt(o[1]),o[2]){case"d":t.setUTCDate(t.getUTCDate()+r);break;case"m":t=y.prototype.moveMonth.call(y.prototype,t,r);break;case"w":t.setUTCDate(t.getUTCDate()+7*r);break;case"y":t=y.prototype.moveYear.call(y.prototype,t,r)}return A(t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),0,0,0)}l=t&&t.match(this.nonpunctuation)||[],t=new Date;var u,c,p={},h=["yyyy","yy","M","MM","m","mm","d","dd"],d={yyyy:function(t,e){return t.setUTCFullYear(e)},yy:function(t,e){return t.setUTCFullYear(2e3+e)},m:function(t,e){if(isNaN(t))return t;for(e-=1;e<0;)e+=12;for(e%=12,t.setUTCMonth(e);t.getUTCMonth()!==e;)t.setUTCDate(t.getUTCDate()-1);return t},d:function(t,e){return t.setUTCDate(e)}};d.M=d.MM=d.mm=d.m,d.dd=d.d,t=A(t.getFullYear(),t.getMonth(),t.getDate(),0,0,0);var f=e.parts.slice();if(l.length!==f.length&&(f=S(f).filter(function(t,e){return-1!==S.inArray(e,h)}).toArray()),l.length===f.length){var g,m,v;for(a=0,g=f.length;a<g;a++){if(u=parseInt(l[a],10),o=f[a],isNaN(u))switch(o){case"MM":c=S(D[n].months).filter(i),u=S.inArray(c[0],D[n].months)+1;break;case"M":c=S(D[n].monthsShort).filter(i),u=S.inArray(c[0],D[n].monthsShort)+1}p[o]=u}for(a=0;a<h.length;a++)(v=h[a])in p&&!isNaN(p[v])&&(m=new Date(t),d[v](m,p[v]),isNaN(m)||(t=m))}return t},formatDate:function(t,e,n){if(!t)return"";"string"==typeof e&&(e=M.parseFormat(e));var i={d:t.getUTCDate(),D:D[n].daysShort[t.getUTCDay()],DD:D[n].days[t.getUTCDay()],m:t.getUTCMonth()+1,M:D[n].monthsShort[t.getUTCMonth()],MM:D[n].months[t.getUTCMonth()],yy:t.getUTCFullYear().toString().substring(2),yyyy:t.getUTCFullYear()};i.dd=(i.d<10?"0":"")+i.d,i.mm=(i.m<10?"0":"")+i.m,t=[];for(var o=S.extend([],e.separators),r=0,a=e.parts.length;r<=a;r++)o.length&&t.push(o.shift()),t.push(i[e.parts[r]]);return t.join("")},headTemplate:'<thead><tr><th class="prev">&#171;</th><th colspan="5" class="datepicker-switch"></th><th class="next">&#187;</th></tr></thead>',contTemplate:'<tbody><tr><td colspan="7"></td></tr></tbody>',footTemplate:'<tfoot><tr><th colspan="7" class="today"></th></tr><tr><th colspan="7" class="clear"></th></tr></tfoot>'};M.template='<div class="datepicker"><div class="datepicker-days"><table class=" table-condensed">'+M.headTemplate+"<tbody></tbody>"+M.footTemplate+'</table></div><div class="datepicker-months"><table class="table-condensed">'+M.headTemplate+M.contTemplate+M.footTemplate+'</table></div><div class="datepicker-years"><table class="table-condensed">'+M.headTemplate+M.contTemplate+M.footTemplate+"</table></div></div>",S.fn.datepicker.DPGlobal=M,S.fn.datepicker.noConflict=function(){return S.fn.datepicker=i,this},S.fn.datepicker.version="1.4.1",S(document).on("focus.datepicker.data-api click.datepicker.data-api",'[data-provide="datepicker"]',function(t){var e=S(this);e.data("datepicker")||(t.preventDefault(),o.call(e,"show"))}),S(function(){o.call(S('[data-provide="datepicker-inline"]'))})}(window.jQuery),angular.module("schemaForm").run(["$templateCache",function(t){t.put("decorators/bootstrap/actions-trcl.html",'<div class="btn-group schema-form-actions {{form.htmlClass}}" ng-transclude=""></div>'),t.put("decorators/bootstrap/actions.html",'<div class="btn-group schema-form-actions {{form.htmlClass}}"><input ng-repeat-start="item in form.items" type="submit" class="btn {{ item.style || \'btn-default\' }} {{form.fieldHtmlClass}}" value="{{item.title}}" ng-if="item.type === \'submit\'"> <button ng-repeat-end="" class="btn {{ item.style || \'btn-default\' }} {{form.fieldHtmlClass}}" type="button" ng-disabled="form.readonly" ng-if="item.type !== \'submit\'" ng-click="buttonClick($event,item)"><span ng-if="item.icon" class="{{item.icon}}"></span>{{item.title}}</button></div>'),t.put("decorators/bootstrap/array.html",'<div class="schema-form-array {{form.htmlClass}}" sf-field-model="sf-new-array" sf-new-array=""><label class="control-label" ng-show="showTitle()">{{ form.title }}</label><ol class="list-group" sf-field-model="" ui-sortable="form.sortOptions"><li class="list-group-item {{form.fieldHtmlClass}}" schema-form-array-items="" sf-field-model="ng-repeat" ng-repeat="item in $$value$$ track by $index"><button ng-hide="form.readonly || form.remove === null" ng-click="deleteFromArray($index)" ng-disabled="form.schema.minItems >= modelArray.length" style="position: relative; z-index: 20;" type="button" class="close pull-right"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button></li></ol><div class="clearfix" style="padding: 15px;" ng-model="modelArray" schema-validate="form"><div class="help-block" ng-show="(hasError() && errorMessage(schemaError())) || form.description" ng-bind-html="(hasError() && errorMessage(schemaError())) || form.description"></div><button ng-hide="form.readonly || form.add === null" ng-click="appendToArray()" ng-disabled="form.schema.maxItems <= modelArray.length" type="button" class="btn {{ form.style.add || \'btn-default\' }} pull-right"><i class="glyphicon glyphicon-plus"></i> {{ form.add || \'Add\'}}</button></div></div>'),t.put("decorators/bootstrap/checkbox.html",'<div class="checkbox schema-form-checkbox {{form.htmlClass}}" ng-class="{\'has-error\': form.disableErrorState !== true && hasError(), \'has-success\': form.disableSuccessState !== true && hasSuccess()}"><label class="{{form.labelHtmlClass}}"><input type="checkbox" sf-changed="form" ng-disabled="form.readonly" sf-field-model="" schema-validate="form" class="{{form.fieldHtmlClass}}" name="{{form.key.slice(-1)[0]}}"> <span ng-bind-html="form.title"></span></label><div class="help-block" sf-message="form.description"></div></div>'),t.put("decorators/bootstrap/checkboxes.html",'<div sf-field-model="sf-new-array" sf-new-array="" class="form-group schema-form-checkboxes {{form.htmlClass}}" ng-class="{\'has-error\': form.disableErrorState !== true && hasError(), \'has-success\': form.disableSuccessState !== true && hasSuccess()}"><label class="control-label {{form.labelHtmlClass}}" sf-field-model="" schema-validate="form" ng-show="showTitle()">{{form.title}}</label><div class="checkbox" ng-repeat="val in titleMapValues track by $index"><label><input type="checkbox" ng-disabled="form.readonly" sf-changed="form" class="{{form.fieldHtmlClass}}" ng-model="titleMapValues[$index]" name="{{form.key.slice(-1)[0]}}"> <span ng-bind-html="form.titleMap[$index].name"></span></label></div><div class="help-block" sf-message="form.description"></div></div>'),t.put("decorators/bootstrap/default.html",'<div class="form-group schema-form-{{form.type}} {{form.htmlClass}}" ng-class="{\'has-error\': form.disableErrorState !== true && hasError(), \'has-success\': form.disableSuccessState !== true && hasSuccess(), \'has-feedback\': form.feedback !== false }"><label class="control-label {{form.labelHtmlClass}}" ng-class="{\'sr-only\': !showTitle()}" for="{{form.key.slice(-1)[0]}}">{{form.title}}</label> <input ng-if="!form.fieldAddonLeft && !form.fieldAddonRight" ng-show="form.key" type="{{form.type}}" step="any" sf-changed="form" placeholder="{{form.placeholder}}" class="form-control {{form.fieldHtmlClass}}" id="{{form.key.slice(-1)[0]}}" sf-field-model="" ng-disabled="form.readonly" schema-validate="form" name="{{form.key.slice(-1)[0]}}" aria-describedby="{{form.key.slice(-1)[0] + \'Status\'}}"><div ng-if="form.fieldAddonLeft || form.fieldAddonRight" ng-class="{\'input-group\': (form.fieldAddonLeft || form.fieldAddonRight)}"><span ng-if="form.fieldAddonLeft" class="input-group-addon" ng-bind-html="form.fieldAddonLeft"></span> <input ng-show="form.key" type="{{form.type}}" step="any" sf-changed="form" placeholder="{{form.placeholder}}" class="form-control {{form.fieldHtmlClass}}" id="{{form.key.slice(-1)[0]}}" sf-field-model="" ng-disabled="form.readonly" schema-validate="form" name="{{form.key.slice(-1)[0]}}" aria-describedby="{{form.key.slice(-1)[0] + \'Status\'}}"> <span ng-if="form.fieldAddonRight" class="input-group-addon" ng-bind-html="form.fieldAddonRight"></span></div><span ng-if="form.feedback !== false" class="form-control-feedback" ng-class="evalInScope(form.feedback) || {\'glyphicon\': true, \'glyphicon-ok\': hasSuccess(), \'glyphicon-remove\': hasError() }" aria-hidden="true"></span> <span ng-if="hasError() || hasSuccess()" id="{{form.key.slice(-1)[0] + \'Status\'}}" class="sr-only">{{ hasSuccess() ? \'(success)\' : \'(error)\' }}</span><div class="help-block" sf-message="form.description"></div></div>'),t.put("decorators/bootstrap/fieldset.html",'<fieldset ng-disabled="form.readonly" class="schema-form-fieldset {{form.htmlClass}}"><legend ng-class="{\'sr-only\': !showTitle() }">{{ form.title }}</legend><div class="help-block" ng-show="form.description" ng-bind-html="form.description"></div></fieldset>'),t.put("decorators/bootstrap/help.html",'<div class="helpvalue schema-form-helpvalue {{form.htmlClass}}" ng-bind-html="form.helpvalue"></div>'),t.put("decorators/bootstrap/radio-buttons.html",'<div class="form-group schema-form-radiobuttons {{form.htmlClass}}" ng-class="{\'has-error\': form.disableErrorState !== true && hasError(), \'has-success\': form.disableSuccessState !== true && hasSuccess()}"><div><label class="control-label {{form.labelHtmlClass}}" ng-show="showTitle()">{{form.title}}</label></div><div class="btn-group"><label sf-field-model="replaceAll" class="btn {{ (item.value === $$value$$) ? form.style.selected || \'btn-default\' : form.style.unselected || \'btn-default\'; }}" ng-class="{ active: item.value === $$value$$ }" ng-repeat="item in form.titleMap"><input type="radio" class="{{form.fieldHtmlClass}}" sf-changed="form" style="display: none;" ng-disabled="form.readonly" sf-field-model="" schema-validate="form" ng-value="item.value" name="{{form.key.join(\'.\')}}"> <span ng-bind-html="item.name"></span></label></div><div class="help-block" sf-message="form.description"></div></div>'),t.put("decorators/bootstrap/radios-inline.html",'<div class="form-group schema-form-radios-inline {{form.htmlClass}}" ng-class="{\'has-error\': form.disableErrorState !== true && hasError(), \'has-success\': form.disableSuccessState !== true && hasSuccess()}"><label class="control-label {{form.labelHtmlClass}}" ng-show="showTitle()" sf-field-model="" schema-validate="form">{{form.title}}</label><div><label class="radio-inline" ng-repeat="item in form.titleMap"><input type="radio" class="{{form.fieldHtmlClass}}" sf-changed="form" ng-disabled="form.readonly" sf-field-model="" ng-value="item.value" name="{{form.key.join(\'.\')}}"> <span ng-bind-html="item.name"></span></label></div><div class="help-block" sf-message="form.description"></div></div>'),t.put("decorators/bootstrap/radios.html",'<div class="form-group schema-form-radios {{form.htmlClass}}" ng-class="{\'has-error\': form.disableErrorState !== true && hasError(), \'has-success\': form.disableSuccessState !== true && hasSuccess()}"><label class="control-label {{form.labelHtmlClass}}" sf-field-model="" schema-validate="form" ng-show="showTitle()">{{form.title}}</label><div class="radio" ng-repeat="item in form.titleMap"><label><input type="radio" class="{{form.fieldHtmlClass}}" sf-changed="form" ng-disabled="form.readonly" sf-field-model="" ng-value="item.value" name="{{form.key.join(\'.\')}}"> <span ng-bind-html="item.name"></span></label></div><div class="help-block" sf-message="form.description"></div></div>'),t.put("decorators/bootstrap/section.html",'<div class="schema-form-section {{form.htmlClass}}"></div>'),t.put("decorators/bootstrap/select.html",'<div class="form-group {{form.htmlClass}} schema-form-select" ng-class="{\'has-error\': form.disableErrorState !== true && hasError(), \'has-success\': form.disableSuccessState !== true && hasSuccess(), \'has-feedback\': form.feedback !== false}"><label class="control-label {{form.labelHtmlClass}}" ng-show="showTitle()">{{form.title}}</label><select sf-field-model="" ng-disabled="form.readonly" sf-changed="form" class="form-control {{form.fieldHtmlClass}}" schema-validate="form" ng-options="item.value as item.name group by item.group for item in form.titleMap" name="{{form.key.slice(-1)[0]}}"></select><div class="help-block" sf-message="form.description"></div></div>'),t.put("decorators/bootstrap/submit.html",'<div class="form-group schema-form-submit {{form.htmlClass}}"><input type="submit" class="btn {{ form.style || \'btn-primary\' }} {{form.fieldHtmlClass}}" value="{{form.title}}" ng-disabled="form.readonly" ng-if="form.type === \'submit\'"> <button class="btn {{ form.style || \'btn-default\' }}" type="button" ng-click="buttonClick($event,form)" ng-disabled="form.readonly" ng-if="form.type !== \'submit\'"><span ng-if="form.icon" class="{{form.icon}}"></span> {{form.title}}</button></div>'),t.put("decorators/bootstrap/tabarray.html",'<div ng-init="selected = { tab: 0 }" ng-model="modelArray" schema-validate="form" sf-field-model="sf-new-array" sf-new-array="" class="clearfix schema-form-tabarray schema-form-tabarray-{{form.tabType || \'left\'}} {{form.htmlClass}}"><div ng-if="!form.tabType || form.tabType !== \'right\'" ng-class="{\'col-xs-3\': !form.tabType || form.tabType === \'left\'}"><ul class="nav nav-tabs" ng-class="{ \'tabs-left\': !form.tabType || form.tabType === \'left\'}"><li sf-field-model="ng-repeat" ng-repeat="item in $$value$$ track by $index" ng-click="$event.preventDefault() || (selected.tab = $index)" ng-class="{active: selected.tab === $index}"><a href="#">{{interp(form.title,{\'$index\':$index, value: item}) || $index}}</a></li><li ng-hide="form.readonly" ng-disabled="form.schema.maxItems <= modelArray.length" ng-click="$event.preventDefault() || (selected.tab = appendToArray().length - 1)"><a href="#"><i class="glyphicon glyphicon-plus"></i> {{ form.add || \'Add\'}}</a></li></ul></div><div ng-class="{\'col-xs-9\': !form.tabType || form.tabType === \'left\' || form.tabType === \'right\'}"><div class="tab-content {{form.fieldHtmlClass}}"><div class="tab-pane clearfix tab{{selected.tab}} index{{$index}}" sf-field-model="ng-repeat" ng-repeat="item in $$value$$ track by $index" ng-show="selected.tab === $index" ng-class="{active: selected.tab === $index}"><div schema-form-array-items=""></div><button ng-hide="form.readonly" ng-click="selected.tab = deleteFromArray($index).length - 1" ng-disabled="form.schema.minItems >= modelArray.length" type="button" class="btn {{ form.style.remove || \'btn-default\' }} pull-right"><i class="glyphicon glyphicon-trash"></i> {{ form.remove || \'Remove\'}}</button></div><div class="help-block" ng-show="(hasError() && errorMessage(schemaError())) || form.description" ng-bind-html="(hasError() && errorMessage(schemaError())) || form.description"></div></div></div></div><div ng-if="form.tabType === \'right\'" class="col-xs-3"><ul class="nav nav-tabs tabs-right"><li sf-field-model="ng-repeat" ng-repeat="item in $$value$$ track by $index" ng-click="$event.preventDefault() || (selected.tab = $index)" ng-class="{active: selected.tab === $index}"><a href="#">{{interp(form.title,{\'$index\':$index, value: item}) || $index}}</a></li><li ng-hide="form.readonly" ng-disabled="form.schema.maxItems <= modelArray.length" ng-click="$event.preventDefault() || (selected.tab = appendToArray().length - 1)"><a href="#"><i class="glyphicon glyphicon-plus"></i> {{ form.add || \'Add\'}}</a></li></ul></div>'),t.put("decorators/bootstrap/tabs.html",'<div ng-init="selected = { tab: 0 }" class="schema-form-tabs {{form.htmlClass}}"><ul class="nav nav-tabs"><li ng-repeat="tab in form.tabs" ng-disabled="form.readonly" ng-click="$event.preventDefault() || (selected.tab = $index)" ng-class="{active: selected.tab === $index}"><a href="#">{{ tab.title }}</a></li></ul><div class="tab-content {{form.fieldHtmlClass}}"></div></div>'),t.put("decorators/bootstrap/textarea.html",'<div class="form-group has-feedback {{form.htmlClass}} schema-form-textarea" ng-class="{\'has-error\': form.disableErrorState !== true && hasError(), \'has-success\': form.disableSuccessState !== true && hasSuccess()}"><label class="control-label {{form.labelHtmlClass}}" ng-class="{\'sr-only\': !showTitle()}" for="{{form.key.slice(-1)[0]}}">{{form.title}}</label> <textarea ng-if="!form.fieldAddonLeft && !form.fieldAddonRight" class="form-control {{form.fieldHtmlClass}}" id="{{form.key.slice(-1)[0]}}" sf-changed="form" placeholder="{{form.placeholder}}" ng-disabled="form.readonly" sf-field-model="" schema-validate="form" name="{{form.key.slice(-1)[0]}}"></textarea><div ng-if="form.fieldAddonLeft || form.fieldAddonRight" ng-class="{\'input-group\': (form.fieldAddonLeft || form.fieldAddonRight)}"><span ng-if="form.fieldAddonLeft" class="input-group-addon" ng-bind-html="form.fieldAddonLeft"></span> <textarea class="form-control {{form.fieldHtmlClass}}" id="{{form.key.slice(-1)[0]}}" sf-changed="form" placeholder="{{form.placeholder}}" ng-disabled="form.readonly" sf-field-model="" schema-validate="form" name="{{form.key.slice(-1)[0]}}"></textarea> <span ng-if="form.fieldAddonRight" class="input-group-addon" ng-bind-html="form.fieldAddonRight"></span></div><span class="help-block" sf-message="form.description"></span></div>')}]),angular.module("schemaForm").config(["schemaFormDecoratorsProvider","sfBuilderProvider","sfPathProvider",function(t,e,n){var i="decorators/bootstrap/",o=e.builders.simpleTransclusion,r=e.builders.ngModelOptions,a=e.builders.ngModel,s=e.builders.sfField,l=e.builders.condition,u=e.builders.array,c=[s,a,r,l];t.defineDecorator("bootstrapDecorator",{textarea:{template:i+"textarea.html",builder:c},fieldset:{template:i+"fieldset.html",builder:[s,o,l]},array:{template:i+"array.html",builder:[s,r,a,u,l]},tabarray:{template:i+"tabarray.html",builder:[s,r,a,u,l]},tabs:{template:i+"tabs.html",builder:[s,r,function(o){if(o.form.tabs&&0<o.form.tabs.length){var r=o.fieldFrag.querySelector(".tab-content");o.form.tabs.forEach(function(t,e){var n=document.createElement("div");n.className="tab-pane",n.setAttribute("ng-disabled","form.readonly"),n.setAttribute("ng-show","selected.tab === "+e),n.setAttribute("ng-class","{active: selected.tab === "+e+"}");var i=o.build(t.items,o.path+".tabs["+e+"].items",o.state);n.appendChild(i),r.appendChild(n)})}},l]},section:{template:i+"section.html",builder:[s,o,l]},conditional:{template:i+"section.html",builder:[s,o,l]},actions:{template:i+"actions.html",builder:c},select:{template:i+"select.html",builder:c},checkbox:{template:i+"checkbox.html",builder:c},checkboxes:{template:i+"checkboxes.html",builder:[s,r,a,u,l]},number:{template:i+"default.html",builder:c},password:{template:i+"default.html",builder:c},submit:{template:i+"submit.html",builder:c},button:{template:i+"submit.html",builder:c},radios:{template:i+"radios.html",builder:c},"radios-inline":{template:i+"radios-inline.html",builder:c},radiobuttons:{template:i+"radio-buttons.html",builder:c},help:{template:i+"help.html",builder:c},default:{template:i+"default.html",builder:c}},[])}]),function(r,F,t){"use strict";function e(o,e,r,p,h,n){function d(t,e){return angular.element((e||F).querySelectorAll(t))}this.compile=function(a){a.template&&/\.html$/.test(a.template)&&(console.warn("Deprecated use of `template` option to pass a file. Please use the `templateUrl` option instead."),a.templateUrl=a.template,a.template="");var t=a.templateUrl,e=a.template||"",s=a.controller,l=a.controllerAs,n=angular.copy(a.resolve||{}),i=angular.copy(a.locals||{}),u=a.transformTemplate||angular.identity,c=a.bindToController;if(angular.forEach(n,function(t,e){angular.isString(t)?n[e]=r.get(t):n[e]=r.invoke(t)}),angular.extend(n,i),e)n.$template=o.when(e);else{if(!t)throw new Error("Missing `template` / `templateUrl` option.");n.$template=f(t)}return a.titleTemplate&&(n.$template=o.all([n.$template,f(a.titleTemplate)]).then(function(t){var e=angular.element(t[0]);return d('[ng-bind="title"]',e[0]).removeAttr("ng-bind").html(t[1]),e[0].outerHTML})),a.contentTemplate&&(n.$template=o.all([n.$template,f(a.contentTemplate)]).then(function(t){var e=angular.element(t[0]),n=d('[ng-bind="content"]',e[0]).removeAttr("ng-bind").html(t[1]);return a.templateUrl||n.next().remove(),e[0].outerHTML})),o.all(n).then(function(i){var t=u(i.$template);a.html&&(t=t.replace(/ng-bind="/gi,'ng-bind-html="'));var o=angular.element("<div>").html(t.trim()).contents(),r=p(o);return{locals:i,element:o,link:function(t){if(i.$scope=t,s){var e=h(s,i,!0);c&&angular.extend(e.instance,i);var n=angular.isObject(e)?e:e();o.data("$ngControllerController",n),o.children().data("$ngControllerController",n),l&&(t[l]=n)}return r.apply(null,arguments)}}})};var i={};function f(t){return i[t]?i[t]:i[t]=e.get(t,{cache:n}).then(function(t){return t.data})}}e.$inject=["$q","$http","$injector","$compile","$controller","$templateCache"],angular.module("mgcrea.ngStrap.typeahead",["mgcrea.ngStrap.tooltip","mgcrea.ngStrap.helpers.parseOptions"]).provider("$typeahead",function(){var h=this.defaults={animation:"am-fade",prefixClass:"typeahead",prefixEvent:"$typeahead",placement:"bottom-left",templateUrl:"typeahead/typeahead.tpl.html",trigger:"focus",container:!1,keyboard:!0,html:!1,delay:0,minLength:1,filter:"bsAsyncFilter",limit:6,autoSelect:!1,comparator:"",trimValue:!0};this.$get=["$window","$rootScope","$tooltip","$$rAF","$timeout",function(t,e,u,c,p){function n(t,n,e){var i={},o=angular.extend({},h,e);i=u(t,o);var r=e.scope,a=i.$scope;a.$resetMatches=function(){a.$matches=[],a.$activeIndex=o.autoSelect?0:-1},a.$resetMatches(),a.$activate=function(t){a.$$postDigest(function(){i.activate(t)})},a.$select=function(t,e){a.$$postDigest(function(){i.select(t)})},a.$isVisible=function(){return i.$isVisible()},i.update=function(t){var e;a.$matches=t,a.$activeIndex>=t.length&&(a.$activeIndex=o.autoSelect?0:-1),(e=a).$$phase||e.$root&&e.$root.$$phase||e.$digest(),c(i.$applyPlacement)},i.activate=function(t){a.$activeIndex=t},i.select=function(t){if(-1!==t){var e=a.$matches[t].value;n.$setViewValue(e),n.$render(),a.$resetMatches(),r&&r.$digest(),a.$emit(o.prefixEvent+".select",e,t,i),angular.isDefined(o.onSelect)&&angular.isFunction(o.onSelect)&&o.onSelect(e,t,i)}},i.$isVisible=function(){return o.minLength&&n?a.$matches.length&&angular.isString(n.$viewValue)&&n.$viewValue.length>=o.minLength:!!a.$matches.length},i.$getIndex=function(t){var e;for(e=a.$matches.length;e--&&!angular.equals(a.$matches[e].value,t););return e},i.$onMouseDown=function(t){t.preventDefault(),t.stopPropagation()},i.$onKeyDown=function(t){/(38|40|13)/.test(t.keyCode)&&(!i.$isVisible()||13===t.keyCode&&-1===a.$activeIndex||(t.preventDefault(),t.stopPropagation()),13===t.keyCode&&a.$matches.length?i.select(a.$activeIndex):38===t.keyCode&&0<a.$activeIndex?a.$activeIndex--:40===t.keyCode&&a.$activeIndex<a.$matches.length-1?a.$activeIndex++:angular.isUndefined(a.$activeIndex)&&(a.$activeIndex=0),a.$digest())};var s=i.show;i.show=function(){s(),p(function(){i.$element&&(i.$element.on("mousedown",i.$onMouseDown),o.keyboard&&t&&t.on("keydown",i.$onKeyDown))},0,!1)};var l=i.hide;return i.hide=function(){i.$element&&i.$element.off("mousedown",i.$onMouseDown),o.keyboard&&t&&t.off("keydown",i.$onKeyDown),o.autoSelect||i.activate(-1),l()},i}return n.defaults=h,n}]}).filter("bsAsyncFilter",["$filter",function(i){return function(t,e,n){return t&&angular.isFunction(t.then)?t.then(function(t){return i("filter")(t,e,n)}):i("filter")(t,e,n)}}]).directive("bsTypeahead",["$window","$parse","$q","$typeahead","$parseOptions",function(t,e,n,d,f){var g=d.defaults;return{restrict:"EAC",require:"ngModel",link:function(n,r,i,a){r.off("change");var s={scope:n};angular.forEach(["template","templateUrl","controller","controllerAs","placement","container","delay","trigger","keyboard","html","animation","filter","limit","minLength","watchOptions","selectMode","autoSelect","comparator","id","prefixEvent","prefixClass"],function(t){angular.isDefined(i[t])&&(s[t]=i[t])});var e=/^(false|0|)$/i;angular.forEach(["html","container","trimValue","filter"],function(t){angular.isDefined(i[t])&&e.test(i[t])&&(s[t]=!1)}),angular.forEach(["onBeforeShow","onShow","onBeforeHide","onHide","onSelect"],function(t){var e="bs"+t.charAt(0).toUpperCase()+t.slice(1);angular.isDefined(i[e])&&(s[t]=n.$eval(i[e]))}),r.attr("autocomplete")||r.attr("autocomplete","off");var t=angular.isDefined(s.filter)?s.filter:g.filter,o=s.limit||g.limit,l=s.comparator||g.comparator,u=i.bsOptions;t&&(u+=" | "+t+":$viewValue",l&&(u+=":"+l)),o&&(u+=" | limitTo:"+o);var c=f(u),p=d(r,a,s);if(s.watchOptions){var h=c.$match[7].replace(/\|.+/,"").replace(/\(.*\)/g,"").trim();n.$watchCollection(h,function(t,e){c.valuesFn(n,a).then(function(t){p.update(t),a.$render()})})}n.$watch(i.ngModel,function(e,t){n.$modelValue=e,c.valuesFn(n,a).then(function(t){s.selectMode&&!t.length&&0<e.length?a.$setViewValue(a.$viewValue.substring(0,a.$viewValue.length-1)):(t.length>o&&(t=t.slice(0,o)),p.update(t),a.$render())})}),a.$formatters.push(function(t){var e=c.displayValue(t);return e||(angular.isDefined(t)&&"object"!=typeof t?t:"")}),a.$render=function(){if(a.$isEmpty(a.$viewValue))return r.val("");var t=p.$getIndex(a.$modelValue),e=-1!==t?p.$scope.$matches[t].label:a.$viewValue,n=(e=angular.isObject(e)?c.displayValue(e):e)?e.toString().replace(/<(?:.|\n)*?>/gm,""):"",i=r[0].selectionStart,o=r[0].selectionEnd;r.val(!1===s.trimValue?n:n.trim()),r[0].setSelectionRange(i,o)},n.$on("$destroy",function(){p&&p.destroy(),p=s=null})}}}]),angular.module("mgcrea.ngStrap.tab",[]).provider("$tab",function(){var i=this.defaults={animation:"am-fade",template:"tab/tab.tpl.html",navClass:"nav-tabs",activeClass:"active"},e=this.controller=function(e,t,n){var o=this;o.$options=angular.copy(i),angular.forEach(["animation","navClass","activeClass"],function(t){angular.isDefined(n[t])&&(o.$options[t]=n[t])}),e.$navClass=o.$options.navClass,e.$activeClass=o.$options.activeClass,o.$panes=e.$panes=[],o.$activePaneChangeListeners=o.$viewChangeListeners=[],o.$push=function(t){angular.isUndefined(o.$panes.$active)&&e.$setActive(t.name||0),o.$panes.push(t)},o.$remove=function(t){var e,n=o.$panes.indexOf(t),i=o.$panes.$active;e=angular.isString(i)?o.$panes.map(function(t){return t.name}).indexOf(i):o.$panes.$active,o.$panes.splice(n,1),n<e?e--:n===e&&e===o.$panes.length&&e--,0<=e&&e<o.$panes.length?o.$setActive(o.$panes[e].name||e):o.$setActive()},o.$setActive=e.$setActive=function(t){o.$panes.$active=t,o.$activePaneChangeListeners.forEach(function(t){t()})},o.$isActive=e.$isActive=function(t,e){return o.$panes.$active===t.name||o.$panes.$active===e}};this.$get=function(){var t={};return t.defaults=i,t.controller=e,t}}).directive("bsTabs",["$window","$animate","$tab","$parse",function(t,e,n,s){var i=n.defaults;return{require:["?ngModel","bsTabs"],transclude:!0,scope:!0,controller:["$scope","$element","$attrs",n.controller],templateUrl:function(t,e){return e.template||i.template},link:function(t,e,n,i){var o=i[0],r=i[1];if(o&&(r.$activePaneChangeListeners.push(function(){o.$setViewValue(r.$panes.$active)}),o.$formatters.push(function(t){return r.$setActive(t),t})),n.bsActivePane){var a=s(n.bsActivePane);r.$activePaneChangeListeners.push(function(){a.assign(t,r.$panes.$active)}),t.$watch(n.bsActivePane,function(t,e){r.$setActive(t)},!0)}}}}]).directive("bsPane",["$window","$animate","$sce",function(t,a,s){return{require:["^?ngModel","^bsTabs"],scope:!0,link:function(n,e,t,i){var o=i[1];function r(){var t=o.$panes.indexOf(n);a[o.$isActive(n,t)?"addClass":"removeClass"](e,o.$options.activeClass)}e.addClass("tab-pane"),t.$observe("title",function(t,e){n.title=s.trustAsHtml(t)}),n.name=t.name,o.$options.animation&&e.addClass(o.$options.animation),t.$observe("disabled",function(t,e){n.disabled=n.$eval(t)}),o.$push(n),n.$on("$destroy",function(){o.$remove(n)}),o.$activePaneChangeListeners.push(function(){r()}),r()}}}]),angular.module("mgcrea.ngStrap.tooltip",["mgcrea.ngStrap.core","mgcrea.ngStrap.helpers.dimensions"]).provider("$tooltip",function(){var L=this.defaults={animation:"am-fade",customClass:"",prefixClass:"tooltip",prefixEvent:"tooltip",container:!1,target:!1,placement:"top",templateUrl:"tooltip/tooltip.tpl.html",template:"",titleTemplate:!1,trigger:"hover focus",keyboard:!1,html:!1,show:!1,title:"",type:"",delay:0,autoClose:!1,bsEnabled:!0,mouseDownPreventDefault:!0,mouseDownStopPropagation:!0,viewport:{selector:"body",padding:0}};this.$get=["$window","$rootScope","$bsCompiler","$q","$templateCache","$http","$animate","$sce","dimensions","$$rAF","$timeout",function(k,C,S,t,e,n,T,A,D,M,E){var i=/(ip[ao]d|iphone|android)/gi.test(k.navigator.userAgent),P="createTouch"in k.document&&i,O=angular.element(k.document);function I(t){t.$$phase||t.$root&&t.$root.$$phase||t.$digest()}function R(t,e){return angular.element((e||F).querySelectorAll(t))}return function(u,t){var e,n,i,m,o,r,a,s,v={},y=v.$options=angular.extend({},L,t),l=v.$promise=S.compile(y),c=v.$scope=y.scope&&y.scope.$new()||C.$new(),p=u[0].nodeName.toLowerCase();if(y.delay&&angular.isString(y.delay)){var h=y.delay.split(",").map(parseFloat);y.delay=1<h.length?{show:h[0],hide:h[1]}:h[0]}function d(){c.$emit(y.prefixEvent+".show",v),angular.isDefined(y.onShow)&&angular.isFunction(y.onShow)&&y.onShow(v)}function f(){if(c.$emit(y.prefixEvent+".hide",v),angular.isDefined(y.onHide)&&angular.isFunction(y.onHide)&&y.onHide(v),m===s){if(a&&"focus"===y.trigger)return u[0].blur();_()}}function g(){"focus"!==y.trigger?m.off("keyup",v.$onKeyUp):u.off("keyup",v.$onFocusKeyUp)}v.$id=y.id||u.attr("id")||"",y.title&&(c.title=A.trustAsHtml(y.title)),c.$setEnabled=function(t){c.$$postDigest(function(){v.setEnabled(t)})},c.$hide=function(){c.$$postDigest(function(){v.hide()})},c.$show=function(){c.$$postDigest(function(){v.show()})},c.$toggle=function(){c.$$postDigest(function(){v.toggle()})},v.$isShown=c.$isShown=!1,l.then(function(t){i=t,v.init()}),v.init=function(){var t;y.delay&&angular.isNumber(y.delay)&&(y.delay={show:y.delay,hide:y.delay}),"self"===y.container?o=u:angular.isElement(y.container)?o=y.container:y.container&&(o=R(y.container)),t=y.trigger.split(" "),angular.forEach(t,function(t){"click"===t||"contextmenu"===t?u.on(t,v.toggle):"manual"!==t&&(u.on("hover"===t?"mouseenter":"focus",v.enter),u.on("hover"===t?"mouseleave":"blur",v.leave),"button"===p&&"hover"!==t&&u.on(P?"touchstart":"mousedown",v.$onFocusElementMouseDown))}),y.target&&(y.target=angular.isElement(y.target)?y.target:R(y.target)),y.show&&c.$$postDigest(function(){"focus"===y.trigger?u[0].focus():v.show()})},v.destroy=function(){!function(){for(var t=y.trigger.split(" "),e=t.length;e--;){var n=t[e];"click"===n||"contextmenu"===n?u.off(n,v.toggle):"manual"!==n&&(u.off("hover"===n?"mouseenter":"focus",v.enter),u.off("hover"===n?"mouseleave":"blur",v.leave),"button"===p&&"hover"!==n&&u.off(P?"touchstart":"mousedown",v.$onFocusElementMouseDown))}}(),_(),c.$destroy()},v.enter=function(){if(clearTimeout(e),n="in",!y.delay||!y.delay.show)return v.show();e=setTimeout(function(){"in"===n&&v.show()},y.delay.show)},v.show=function(){var t,e;y.bsEnabled&&!v.$isShown&&(c.$emit(y.prefixEvent+".show.before",v),angular.isDefined(y.onBeforeShow)&&angular.isFunction(y.onBeforeShow)&&y.onBeforeShow(v),e=y.container?(t=o)[0].lastChild?angular.element(o[0].lastChild):null:(t=null,u),m&&_(),r=v.$scope.$new(),(m=v.$element=i.link(r,function(t,e){})).css({top:"-9999px",left:"-9999px",right:"auto",display:"block",visibility:"hidden"}),y.animation&&m.addClass(y.animation),y.type&&m.addClass(y.prefixClass+"-"+y.type),y.customClass&&m.addClass(y.customClass),e?e.after(m):t.prepend(m),v.$isShown=c.$isShown=!0,I(c),v.$applyPlacement(),angular.version.minor<=2?T.enter(m,t,e,d):T.enter(m,t,e).then(d),I(c),M(function(){m&&m.css({visibility:"visible"}),y.keyboard&&("focus"!==y.trigger&&v.focus(),"focus"!==y.trigger?m.on("keyup",v.$onKeyUp):u.on("keyup",v.$onFocusKeyUp))}),y.autoClose&&E(function(){m.on("click",x),O.on("click",v.hide),b=!0},0,!1))},v.leave=function(){if(clearTimeout(e),n="out",!y.delay||!y.delay.hide)return v.hide();e=setTimeout(function(){"out"===n&&v.hide()},y.delay.hide)},v.hide=function(t){v.$isShown&&(c.$emit(y.prefixEvent+".hide.before",v),angular.isDefined(y.onBeforeHide)&&angular.isFunction(y.onBeforeHide)&&y.onBeforeHide(v),a=t,s=m,angular.version.minor<=2?T.leave(m,f):T.leave(m).then(f),v.$isShown=c.$isShown=!1,I(c),y.keyboard&&null!==m&&g(),y.autoClose&&null!==m&&w())},v.toggle=function(t){t&&t.preventDefault(),v.$isShown?v.leave():v.enter()},v.focus=function(){m[0].focus()},v.setEnabled=function(t){y.bsEnabled=t},v.setViewport=function(t){y.viewport=t},v.$applyPlacement=function(){if(m){var t=y.placement,e=/\s?auto?\s?/i,n=e.test(t);n&&(t=t.replace(e,"")||L.placement),m.addClass(y.placement);var i=$(),o=m.prop("offsetWidth"),r=m.prop("offsetHeight");if(v.$viewport=y.viewport&&R(y.viewport.selector||y.viewport),n){var a=t,s=$(v.$viewport);/bottom/.test(a)&&i.bottom+r>s.bottom?t=a.replace("bottom","top"):/top/.test(a)&&i.top-r<s.top&&(t=a.replace("top","bottom")),/left/.test(a)&&i.left-o<s.left?t=t.replace("left","right"):/right/.test(a)&&i.right+o>s.width&&(t=t.replace("right","left")),m.removeClass(a).addClass(t)}!function(t,e){var n=m[0],i=n.offsetWidth,o=n.offsetHeight,r=parseInt(D.css(n,"margin-top"),10),a=parseInt(D.css(n,"margin-left"),10);isNaN(r)&&(r=0),isNaN(a)&&(a=0),t.top=t.top+r,t.left=t.left+a,D.setOffset(n,angular.extend({using:function(t){m.css({top:Math.round(t.top)+"px",left:Math.round(t.left)+"px",right:""})}},t),0);var s=n.offsetWidth,l=n.offsetHeight;if("top"===e&&l!==o&&(t.top=t.top+o-l),!/top-left|top-right|bottom-left|bottom-right/.test(e)){var u,c,p,h=function(t,e,n,i){var o={top:0,left:0};if(!v.$viewport)return o;var r=y.viewport&&y.viewport.padding||0,a=$(v.$viewport);if(/right|left/.test(t)){var s=e.top-r-a.scroll,l=e.top+r-a.scroll+i;s<a.top?o.top=a.top-s:l>a.top+a.height&&(o.top=a.top+a.height-l)}else{var u=e.left-r,c=e.left+r+n;u<a.left?o.left=a.left-u:c>a.right&&(o.left=a.left+a.width-c)}return o}(e,t,s,l);if(h.left?t.left+=h.left:t.top+=h.top,D.setOffset(n,t),/top|right|bottom|left/.test(e)){var d=/top|bottom/.test(e),f=d?2*h.left-i+s:2*h.top-o+l,g=d?"offsetWidth":"offsetHeight";u=f,c=n[g],p=d,R(".tooltip-arrow, .arrow",m[0]).css(p?"left":"top",50*(1-u/c)+"%").css(p?"top":"left","")}}}(function(t,e,n,i){var o,r=t.split("-");switch(r[0]){case"right":o={top:e.top+e.height/2-i/2,left:e.left+e.width};break;case"bottom":o={top:e.top+e.height,left:e.left+e.width/2-n/2};break;case"left":o={top:e.top+e.height/2-i/2,left:e.left-n};break;default:o={top:e.top-i,left:e.left+e.width/2-n/2}}if(!r[1])return o;if("top"===r[0]||"bottom"===r[0])switch(r[1]){case"left":o.left=e.left;break;case"right":o.left=e.left+e.width-n}else if("left"===r[0]||"right"===r[0])switch(r[1]){case"top":o.top=e.top-i+e.height;break;case"bottom":o.top=e.top}return o}(t,i,o,r),t)}},v.$onKeyUp=function(t){27===t.which&&v.$isShown&&(v.hide(),t.stopPropagation())},v.$onFocusKeyUp=function(t){27===t.which&&(u[0].blur(),t.stopPropagation())};var b=(v.$onFocusElementMouseDown=function(t){y.mouseDownPreventDefault&&t.preventDefault(),y.mouseDownStopPropagation&&t.stopPropagation(),v.$isShown?u[0].blur():u[0].focus()},!1);function w(){b&&(m.off("click",x),O.off("click",v.hide),b=!1)}function x(t){t.stopPropagation()}function $(t){var e=(t=t||y.target||u)[0],n="BODY"===e.tagName,i=e.getBoundingClientRect(),o={};for(var r in i)o[r]=i[r];null===o.width&&(o=angular.extend({},o,{width:i.right-i.left,height:i.bottom-i.top}));var a=n?{top:0,left:0}:D.offset(e),s={scroll:n?F.documentElement.scrollTop||F.body.scrollTop:t.prop("scrollTop")||0},l=n?{width:F.documentElement.clientWidth,height:k.innerHeight}:null;return angular.extend({},o,s,l,a)}function _(){clearTimeout(e),v.$isShown&&null!==m&&(y.autoClose&&w(),y.keyboard&&g()),r&&(r.$destroy(),r=null),m&&(m.remove(),m=v.$element=null)}return v}}]}).directive("bsTooltip",["$window","$location","$sce","$parse","$tooltip","$$rAF",function(t,e,l,n,u,c){return{restrict:"EAC",scope:!0,link:function(n,t,i,e){var o,r={scope:n};angular.forEach(["template","templateUrl","controller","controllerAs","titleTemplate","placement","container","delay","trigger","html","animation","backdropAnimation","type","customClass","id"],function(t){angular.isDefined(i[t])&&(r[t]=i[t])});var a=/^(false|0|)$/i;angular.forEach(["html","container"],function(t){angular.isDefined(i[t])&&a.test(i[t])&&(r[t]=!1)}),angular.forEach(["onBeforeShow","onShow","onBeforeHide","onHide"],function(t){var e="bs"+t.charAt(0).toUpperCase()+t.slice(1);angular.isDefined(i[e])&&(r[t]=n.$eval(i[e]))});var s=t.attr("data-target");angular.isDefined(s)&&(a.test(s)?r.target=!1:r.target=s),n.hasOwnProperty("title")||(n.title=""),i.$observe("title",function(t){if(angular.isDefined(t)||!n.hasOwnProperty("title")){var e=n.title;n.title=l.trustAsHtml(t),angular.isDefined(e)&&c(function(){o&&o.$applyPlacement()})}}),i.$observe("disabled",function(t){t&&o.$isShown&&o.hide()}),i.bsTooltip&&n.$watch(i.bsTooltip,function(t,e){angular.isObject(t)?angular.extend(n,t):n.title=t,angular.isDefined(e)&&c(function(){o&&o.$applyPlacement()})},!0),i.bsShow&&n.$watch(i.bsShow,function(t,e){o&&angular.isDefined(t)&&(angular.isString(t)&&(t=!!t.match(/true|,?(tooltip),?/i)),!0===t?o.show():o.hide())}),i.bsEnabled&&n.$watch(i.bsEnabled,function(t,e){o&&angular.isDefined(t)&&(angular.isString(t)&&(t=!!t.match(/true|1|,?(tooltip),?/i)),!1===t?o.setEnabled(!1):o.setEnabled(!0))}),i.viewport&&n.$watch(i.viewport,function(t){o&&angular.isDefined(t)&&o.setViewport(t)}),o=u(t,r),n.$on("$destroy",function(){o&&o.destroy(),o=r=null})}}}]),angular.module("mgcrea.ngStrap.timepicker",["mgcrea.ngStrap.helpers.dateParser","mgcrea.ngStrap.helpers.dateFormatter","mgcrea.ngStrap.tooltip"]).provider("$timepicker",function(){var P=this.defaults={animation:"am-fade",defaultDate:"auto",prefixClass:"timepicker",placement:"bottom-left",templateUrl:"timepicker/timepicker.tpl.html",trigger:"focus",container:!1,keyboard:!0,html:!1,delay:0,useNative:!0,timeType:"date",timeFormat:"shortTime",timezone:null,modelTimeFormat:null,autoclose:!1,minTime:-1/0,maxTime:1/0,length:5,hourStep:1,minuteStep:5,secondStep:5,roundDisplay:!1,iconUp:"glyphicon glyphicon-chevron-up",iconDown:"glyphicon glyphicon-chevron-down",arrowBehavior:"pager"};this.$get=["$window","$document","$rootScope","$sce","$dateFormatter","$tooltip","$timeout",function(t,e,n,i,T,A,D){var M=/(ip[ao]d|iphone|android)/gi.test(t.navigator.userAgent),E="createTouch"in t.document&&M;function o(f,i,t){var g=A(f,angular.extend({},P,t)),m=t.scope,v=g.$options,u=g.$scope,o=v.lang,y=function(t,e,n){return T.formatDate(t,e,o,n)};var e,n,b=0,r=v.roundDisplay?(e=new Date,n=6e4*v.minuteStep,new Date(Math.floor(e.getTime()/n)*n)):new Date,a=i.$dateValue||r,c={hour:a.getHours(),meridian:a.getHours()<12,minute:a.getMinutes(),second:a.getSeconds(),millisecond:a.getMilliseconds()},s=T.getDatetimeFormat(v.timeFormat,o),w=T.hoursFormat(s),p=T.timeSeparator(s),x=T.minutesFormat(s),$=T.secondsFormat(s),_=T.showSeconds(s),k=T.showAM(s);function l(){f[0].focus()}u.$iconUp=v.iconUp,u.$iconDown=v.iconDown,u.$select=function(t,e){g.select(t,e)},u.$moveIndex=function(t,e){g.$moveIndex(t,e)},u.$switchMeridian=function(t){g.switchMeridian(t)},g.update=function(t){angular.isDate(t)&&!isNaN(t.getTime())?(g.$date=t,angular.extend(c,{hour:t.getHours(),minute:t.getMinutes(),second:t.getSeconds(),millisecond:t.getMilliseconds()}),g.$build()):g.$isBuilt||g.$build()},g.select=function(t,e,n){i.$dateValue&&!isNaN(i.$dateValue.getTime())||(i.$dateValue="today"===v.defaultDate?new Date:new Date(1970,0,1)),angular.isDate(t)||(t=new Date(t)),0===e?i.$dateValue.setHours(t.getHours()):1===e?i.$dateValue.setMinutes(t.getMinutes()):2===e&&i.$dateValue.setSeconds(t.getSeconds()),i.$setViewValue(angular.copy(i.$dateValue)),i.$render(),v.autoclose&&!n&&D(function(){g.hide(!0)})},g.switchMeridian=function(t){if(i.$dateValue&&!isNaN(i.$dateValue.getTime())){var e=(t||i.$dateValue).getHours();i.$dateValue.setHours(e<12?e+12:e-12),i.$setViewValue(angular.copy(i.$dateValue)),i.$render()}},g.$build=function(){var t,e,n=u.midIndex=parseInt(v.length/2,10),i=[];for(t=0;t<v.length;t++)e=new Date(1970,0,1,c.hour-(n-t)*v.hourStep),i.push({date:e,label:y(e,w),selected:g.$date&&g.$isSelected(e,0),disabled:g.$isDisabled(e,0)});var o,r=[];for(t=0;t<v.length;t++)o=new Date(1970,0,1,0,c.minute-(n-t)*v.minuteStep),r.push({date:o,label:y(o,x),selected:g.$date&&g.$isSelected(o,1),disabled:g.$isDisabled(o,1)});var a,s=[];for(t=0;t<v.length;t++)a=new Date(1970,0,1,0,0,c.second-(n-t)*v.secondStep),s.push({date:a,label:y(a,$),selected:g.$date&&g.$isSelected(a,2),disabled:g.$isDisabled(a,2)});var l=[];for(t=0;t<v.length;t++)_?l.push([i[t],r[t],s[t]]):l.push([i[t],r[t]]);u.rows=l,u.showSeconds=_,u.showAM=k,u.isAM=(g.$date||i[n].date).getHours()<12,u.timeSeparator=p,g.$isBuilt=!0},g.$isSelected=function(t,e){return!!g.$date&&(0===e?t.getHours()===g.$date.getHours():1===e?t.getMinutes()===g.$date.getMinutes():2===e?t.getSeconds()===g.$date.getSeconds():void 0)},g.$isDisabled=function(t,e){var n;return 0===e?n=t.getTime()+6e4*c.minute+1e3*c.second:1===e?n=t.getTime()+36e5*c.hour+1e3*c.second:2===e&&(n=t.getTime()+36e5*c.hour+6e4*c.minute),n<1*v.minTime||n>1*v.maxTime},u.$arrowAction=function(t,e){"picker"===v.arrowBehavior?g.$setTimeByStep(t,e):g.$moveIndex(t,e)},g.$setTimeByStep=function(t,e){var n=new Date(g.$date||a),i=n.getHours(),o=n.getMinutes(),r=n.getSeconds();0===e?n.setHours(i-parseInt(v.hourStep,10)*t):1===e?n.setMinutes(o-parseInt(v.minuteStep,10)*t):2===e&&n.setSeconds(r-parseInt(v.secondStep,10)*t),g.select(n,e,!0)},g.$moveIndex=function(t,e){var n;0===e?(n=new Date(1970,0,1,c.hour+t*v.length,c.minute,c.second),angular.extend(c,{hour:n.getHours()})):1===e?(n=new Date(1970,0,1,c.hour,c.minute+t*v.length*v.minuteStep,c.second),angular.extend(c,{minute:n.getMinutes()})):2===e&&(n=new Date(1970,0,1,c.hour,c.minute,c.second+t*v.length*v.secondStep),angular.extend(c,{second:n.getSeconds()})),g.$build()},g.$onMouseDown=function(t){if("input"!==t.target.nodeName.toLowerCase()&&t.preventDefault(),t.stopPropagation(),E){var e=angular.element(t.target);"button"!==e[0].nodeName.toLowerCase()&&(e=e.parent()),e.triggerHandler("click")}},g.$onKeyDown=function(t){if(/(38|37|39|40|13)/.test(t.keyCode)&&!t.shiftKey&&!t.altKey)if(t.preventDefault(),t.stopPropagation(),13!==t.keyCode){var e=new Date(g.$date),n=e.getHours(),i=y(e,w).length,o=e.getMinutes(),r=y(e,x).length,a=e.getSeconds(),s=y(e,$).length,l=/(37|39)/.test(t.keyCode),u=2+1*_+1*k;l&&(37===t.keyCode?b=b<1?u-1:b-1:39===t.keyCode&&(b=b<u-1?b+1:0));var c=[0,i],p=0;38===t.keyCode&&(p=-1),40===t.keyCode&&(p=1);var h=2===b&&_,d=2===b&&!_||3===b&&_;0===b?(e.setHours(n+p*parseInt(v.hourStep,10)),c=[0,i=y(e,w).length]):1===b?(e.setMinutes(o+p*parseInt(v.minuteStep,10)),c=[i+1,r=y(e,x).length]):h?(e.setSeconds(a+p*parseInt(v.secondStep,10)),c=[i+1+r+1,s=y(e,$).length]):d&&(l||g.switchMeridian(),c=[i+1+r+1+(s+1)*_,2]),g.select(e,b,!0),function(t,e){var n=t+e;if(f[0].createTextRange){var i=f[0].createTextRange();i.collapse(!0),i.moveStart("character",t),i.moveEnd("character",n),i.select()}else f[0].setSelectionRange?f[0].setSelectionRange(t,n):angular.isUndefined(f[0].selectionStart)&&(f[0].selectionStart=t,f[0].selectionEnd=n)}(c[0],c[1]),m.$digest()}else g.hide(!0)};var h=g.init;g.init=function(){if(M&&v.useNative)return f.prop("type","time"),void f.css("-webkit-appearance","textfield");E&&(f.prop("type","text"),f.attr("readonly","true"),f.on("click",l)),h()};var d=g.destroy;g.destroy=function(){M&&v.useNative&&f.off("click",l),d()};var C=g.show;g.show=function(){!E&&f.attr("readonly")||f.attr("disabled")||(C(),D(function(){g.$element&&g.$element.on(E?"touchstart":"mousedown",g.$onMouseDown),v.keyboard&&f&&f.on("keydown",g.$onKeyDown)},0,!1))};var S=g.hide;return g.hide=function(t){g.$isShown&&(g.$element&&g.$element.off(E?"touchstart":"mousedown",g.$onMouseDown),v.keyboard&&f&&f.off("keydown",g.$onKeyDown),S(t))},g}return P.lang||(P.lang=T.getDefaultLocale()),o.defaults=P,o}]}).directive("bsTimepicker",["$window","$parse","$q","$dateFormatter","$dateParser","$timepicker",function(t,e,n,h,d,f){var g=f.defaults,m=/(ip[ao]d|iphone|android)/gi.test(t.navigator.userAgent);return{restrict:"EAC",require:"ngModel",link:function(n,t,i,o){var r={scope:n};angular.forEach(["template","templateUrl","controller","controllerAs","placement","container","delay","trigger","keyboard","html","animation","autoclose","timeType","timeFormat","timezone","modelTimeFormat","useNative","hourStep","minuteStep","secondStep","length","arrowBehavior","iconUp","iconDown","roundDisplay","id","prefixClass","prefixEvent","defaultDate"],function(t){angular.isDefined(i[t])&&(r[t]=i[t])});var e=/^(false|0|)$/i;angular.forEach(["html","container","autoclose","useNative","roundDisplay"],function(t){angular.isDefined(i[t])&&e.test(i[t])&&(r[t]=!1)}),angular.forEach(["onBeforeShow","onShow","onBeforeHide","onHide"],function(t){var e="bs"+t.charAt(0).toUpperCase()+t.slice(1);angular.isDefined(i[e])&&(r[t]=n.$eval(i[e]))}),m&&(r.useNative||g.useNative)&&(r.timeFormat="HH:mm");var a=f(t,o,r),s=(r=a.$options).lang,l=function(t,e,n){return h.formatDate(t,e,s,n)};i.bsShow&&n.$watch(i.bsShow,function(t,e){a&&angular.isDefined(t)&&(angular.isString(t)&&(t=!!t.match(/true|,?(timepicker),?/i)),!0===t?a.show():a.hide())});var u=d({format:r.timeFormat,lang:s});function c(t){if(angular.isDate(t)){var e=isNaN(r.minTime)||new Date(t.getTime()).setFullYear(1970,0,1)>=r.minTime,n=isNaN(r.maxTime)||new Date(t.getTime()).setFullYear(1970,0,1)<=r.maxTime,i=e&&n;o.$setValidity("date",i),o.$setValidity("min",e),o.$setValidity("max",n),i&&(o.$dateValue=t)}}function p(){return!o.$dateValue||isNaN(o.$dateValue.getTime())?"":l(o.$dateValue,r.timeFormat)}angular.forEach(["minTime","maxTime"],function(e){angular.isDefined(i[e])&&i.$observe(e,function(t){a.$options[e]=u.getTimeForAttribute(e,t),isNaN(a.$options[e])||a.$build(),c(o.$dateValue)})}),n.$watch(i.ngModel,function(t,e){a.update(o.$dateValue)},!0),o.$parsers.unshift(function(t){var e;if(!t)return o.$setValidity("date",!0),null;var n=angular.isDate(t)?t:u.parse(t,o.$dateValue);if(n&&!isNaN(n.getTime()))return c(n),"string"===r.timeType?(e=u.timezoneOffsetAdjust(n,r.timezone,!0),l(e,r.modelTimeFormat||r.timeFormat)):(e=u.timezoneOffsetAdjust(o.$dateValue,r.timezone,!0),"number"===r.timeType?e.getTime():"unix"===r.timeType?e.getTime()/1e3:"iso"===r.timeType?e.toISOString():new Date(e));o.$setValidity("date",!1)}),o.$formatters.push(function(t){var e;return e=angular.isUndefined(t)||null===t?NaN:angular.isDate(t)?t:"string"===r.timeType?u.parse(t,null,r.modelTimeFormat):"unix"===r.timeType?new Date(1e3*t):new Date(t),o.$dateValue=u.timezoneOffsetAdjust(e,r.timezone),p()}),o.$render=function(){t.val(p())},n.$on("$destroy",function(){a&&a.destroy(),a=r=null})}}}]),angular.module("mgcrea.ngStrap.scrollspy",["mgcrea.ngStrap.helpers.debounce","mgcrea.ngStrap.helpers.dimensions"]).provider("$scrollspy",function(){var k=this.$$spies={},C=this.defaults={debounce:150,throttle:100,offset:100};this.$get=["$window","$document","$rootScope","dimensions","debounce","throttle",function(g,t,m,v,y,b){var w=angular.element(g),x=angular.element(t.prop("documentElement")),$=angular.element(g.document.body);function _(t,e){return t[0].nodeName&&t[0].nodeName.toLowerCase()===e.toLowerCase()}return function(t){var n=angular.extend({},C,t);n.element||(n.element=$);var e=_(n.element,"body"),i=e?w:n.element,o=e?"window":n.id;if(k[o])return k[o].$$count++,k[o];var r,a,s,l,u,c,p,h={},d=h.$trackedElements=[],f=[];return h.init=function(){this.$$count=1,l=y(this.checkPosition,n.debounce),u=b(this.checkPosition,n.throttle),i.on("click",this.checkPositionWithEventLoop),w.on("resize",l),i.on("scroll",u),c=y(this.checkOffsets,n.debounce),r=m.$on("$viewContentLoaded",c),a=m.$on("$includeContentLoaded",c),c(),o&&(k[o]=h)},h.destroy=function(){this.$$count--,0<this.$$count||(i.off("click",this.checkPositionWithEventLoop),w.off("resize",l),i.off("scroll",u),r(),a(),o&&delete k[o])},h.checkPosition=function(){if(f.length){if(p=(e?g.pageYOffset:i.prop("scrollTop"))||0,Math.max(g.innerHeight,x.prop("clientHeight")),p<f[0].offsetTop&&s!==f[0].target)return h.$activateElement(f[0]);for(var t=f.length;t--;)if(!angular.isUndefined(f[t].offsetTop)&&null!==f[t].offsetTop&&s!==f[t].target&&!(p<f[t].offsetTop||f[t+1]&&p>f[t+1].offsetTop))return h.$activateElement(f[t])}},h.checkPositionWithEventLoop=function(){setTimeout(h.checkPosition,1)},h.$activateElement=function(t){if(s){var e=h.$getTrackedElement(s);e&&(e.source.removeClass("active"),_(e.source,"li")&&_(e.source.parent().parent(),"li")&&e.source.parent().parent().removeClass("active"))}s=t.target,t.source.addClass("active"),_(t.source,"li")&&_(t.source.parent().parent(),"li")&&t.source.parent().parent().addClass("active")},h.$getTrackedElement=function(e){return d.filter(function(t){return t.target===e})[0]},h.checkOffsets=function(){angular.forEach(d,function(t){var e=F.querySelector(t.target);t.offsetTop=e?v.offset(e).top:null,n.offset&&null!==t.offsetTop&&(t.offsetTop-=1*n.offset)}),f=d.filter(function(t){return null!==t.offsetTop}).sort(function(t,e){return t.offsetTop-e.offsetTop}),l()},h.trackElement=function(t,e){d.push({target:t,source:e})},h.untrackElement=function(t,e){for(var n,i=d.length;i--;)if(d[i].target===t&&d[i].source===e){n=i;break}d.splice(n,1)},h.activate=function(t){d[t].addClass("active")},h.init(),h}}]}).directive("bsScrollspy",["$rootScope","debounce","dimensions","$scrollspy",function(t,e,n,r){return{restrict:"EAC",link:function(t,e,n){var i={scope:t};angular.forEach(["offset","target"],function(t){angular.isDefined(n[t])&&(i[t]=n[t])});var o=r(i);o.trackElement(i.target,e),t.$on("$destroy",function(){o&&(o.untrackElement(i.target,e),o.destroy()),o=i=null})}}}]).directive("bsScrollspyList",["$rootScope","debounce","dimensions","$scrollspy",function(t,e,n,i){return{restrict:"A",compile:function(t,e){var n=t[0].querySelectorAll("li > a[href]");angular.forEach(n,function(t){var e=angular.element(t);e.parent().attr("bs-scrollspy","").attr("data-target",e.attr("href"))})}}}]),angular.module("mgcrea.ngStrap.select",["mgcrea.ngStrap.tooltip","mgcrea.ngStrap.helpers.parseOptions"]).provider("$select",function(){var d=this.defaults={animation:"am-fade",prefixClass:"select",prefixEvent:"$select",placement:"bottom-left",templateUrl:"select/select.tpl.html",trigger:"focus",container:!1,keyboard:!0,html:!1,delay:0,multiple:!1,allNoneButtons:!1,sort:!0,caretHtml:'&nbsp;<span class="caret"></span>',placeholder:"Choose among the following...",allText:"All",noneText:"None",maxLength:3,maxLengthHtml:"selected",iconCheckmark:"glyphicon glyphicon-ok",toggle:!1};this.$get=["$window","$document","$rootScope","$tooltip","$timeout",function(l,u,t,c,p){var e=/(ip[ao]d|iphone|android)/gi.test(l.navigator.userAgent),h="createTouch"in l.document&&e;function n(t,n,e){var i={},o=angular.extend({},d,e),r=(i=c(t,o)).$scope;r.$matches=[],o.multiple?r.$activeIndex=[]:r.$activeIndex=-1,r.$isMultiple=o.multiple,r.$showAllNoneButtons=o.allNoneButtons&&o.multiple,r.$iconCheckmark=o.iconCheckmark,r.$allText=o.allText,r.$noneText=o.noneText,r.$activate=function(t){r.$$postDigest(function(){i.activate(t)})},r.$select=function(t,e){r.$$postDigest(function(){i.select(t)})},r.$isVisible=function(){return i.$isVisible()},r.$isActive=function(t){return i.$isActive(t)},r.$selectAll=function(){for(var t=0;t<r.$matches.length;t++)r.$isActive(t)||r.$select(t)},r.$selectNone=function(){for(var t=0;t<r.$matches.length;t++)r.$isActive(t)&&r.$select(t)},i.update=function(t){r.$matches=t,i.$updateActiveIndex()},i.activate=function(t){return o.multiple?(i.$isActive(t)?r.$activeIndex.splice(r.$activeIndex.indexOf(t),1):r.$activeIndex.push(t),o.sort&&r.$activeIndex.sort(function(t,e){return t-e})):r.$activeIndex=t,r.$activeIndex},i.select=function(t){if(!(angular.isUndefined(t)||t<0||t>=r.$matches.length)){var e=r.$matches[t].value;r.$apply(function(){i.activate(t),o.multiple?n.$setViewValue(r.$activeIndex.map(function(t){return angular.isUndefined(r.$matches[t])?null:r.$matches[t].value})):(o.toggle?n.$setViewValue(e===n.$modelValue?void 0:e):n.$setViewValue(e),i.hide())}),r.$emit(o.prefixEvent+".select",e,t,i),angular.isDefined(o.onSelect)&&angular.isFunction(o.onSelect)&&o.onSelect(e,t,i)}},i.$updateActiveIndex=function(){o.multiple?angular.isArray(n.$modelValue)?r.$activeIndex=n.$modelValue.map(function(t){return i.$getIndex(t)}):r.$activeIndex=[]:angular.isDefined(n.$modelValue)&&r.$matches.length?r.$activeIndex=i.$getIndex(n.$modelValue):r.$activeIndex=-1},i.$isVisible=function(){return o.minLength&&n?r.$matches.length&&n.$viewValue.length>=o.minLength:r.$matches.length},i.$isActive=function(t){return o.multiple?-1!==r.$activeIndex.indexOf(t):r.$activeIndex===t},i.$getIndex=function(t){var e;for(e=r.$matches.length;e--&&!angular.equals(r.$matches[e].value,t););return e},i.$onMouseDown=function(t){(t.preventDefault(),t.stopPropagation(),h)&&angular.element(t.target).triggerHandler("click")},i.$onKeyDown=function(t){if(/(9|13|38|40)/.test(t.keyCode))return 9!==t.keyCode&&(t.preventDefault(),t.stopPropagation()),o.multiple&&9===t.keyCode?i.hide():o.multiple||13!==t.keyCode&&9!==t.keyCode?void(o.multiple||(38===t.keyCode&&0<r.$activeIndex?r.$activeIndex--:38===t.keyCode&&r.$activeIndex<0?r.$activeIndex=r.$matches.length-1:40===t.keyCode&&r.$activeIndex<r.$matches.length-1?r.$activeIndex++:angular.isUndefined(r.$activeIndex)&&(r.$activeIndex=0),r.$digest())):i.select(r.$activeIndex)},i.$isIE=function(){var t=l.navigator.userAgent;return 0<t.indexOf("MSIE ")||0<t.indexOf("Trident/")||0<t.indexOf("Edge/")},i.$selectScrollFix=function(t){"UL"===u[0].activeElement.tagName&&(t.preventDefault(),t.stopImmediatePropagation(),t.target.focus())};var a=i.show;i.show=function(){a(),o.multiple&&i.$element.addClass("select-multiple"),p(function(){i.$element.on(h?"touchstart":"mousedown",i.$onMouseDown),o.keyboard&&t.on("keydown",i.$onKeyDown)},0,!1)};var s=i.hide;return i.hide=function(){!o.multiple&&angular.isUndefined(n.$modelValue)&&(r.$activeIndex=-1),i.$element.off(h?"touchstart":"mousedown",i.$onMouseDown),o.keyboard&&t.off("keydown",i.$onKeyDown),s(!0)},i}return n.defaults=d,n}]}).directive("bsSelect",["$window","$parse","$q","$select","$parseOptions",function(t,e,n,p,h){var d=p.defaults;return{restrict:"EAC",require:"ngModel",link:function(n,i,o,r){var a={scope:n,placeholder:d.placeholder};angular.forEach(["template","templateUrl","controller","controllerAs","placement","container","delay","trigger","keyboard","html","animation","placeholder","allNoneButtons","maxLength","maxLengthHtml","allText","noneText","iconCheckmark","autoClose","id","sort","caretHtml","prefixClass","prefixEvent","toggle"],function(t){angular.isDefined(o[t])&&(a[t]=o[t])});var e=/^(false|0|)$/i;angular.forEach(["html","container","allNoneButtons","sort"],function(t){angular.isDefined(o[t])&&e.test(o[t])&&(a[t]=!1)}),angular.forEach(["onBeforeShow","onShow","onBeforeHide","onHide","onSelect"],function(t){var e="bs"+t.charAt(0).toUpperCase()+t.slice(1);angular.isDefined(o[e])&&(a[t]=n.$eval(o[e]))});var t=i.attr("data-multiple");if(angular.isDefined(t)&&(e.test(t)?a.multiple=!1:a.multiple=t),"select"===i[0].nodeName.toLowerCase()){var s=i;s.css("display","none"),i=angular.element('<button type="button" class="btn btn-default"></button>'),s.after(i)}var l=h(o.bsOptions),u=p(i,r,a);u.$isIE()&&i[0].addEventListener("blur",u.$selectScrollFix);var c=l.$match[7].replace(/\|.+/,"").trim();n.$watch(c,function(t,e){l.valuesFn(n,r).then(function(t){u.update(t),r.$render()})},!0),n.$watch(o.ngModel,function(t,e){u.$updateActiveIndex(),r.$render()},!0),r.$render=function(){var t,e;t=a.multiple&&angular.isArray(r.$modelValue)?(t=r.$modelValue.map(function(t){return-1!==(e=u.$getIndex(t))&&u.$scope.$matches[e].label}).filter(angular.isDefined)).length>(a.maxLength||d.maxLength)?t.length+" "+(a.maxLengthHtml||d.maxLengthHtml):t.join(", "):-1!==(e=u.$getIndex(r.$modelValue))&&u.$scope.$matches[e].label,i.html((t||a.placeholder)+(a.caretHtml||d.caretHtml))},a.multiple&&(r.$isEmpty=function(t){return!t||0===t.length}),n.$on("$destroy",function(){u&&u.destroy(),u=a=null})}}}]),angular.module("mgcrea.ngStrap.popover",["mgcrea.ngStrap.tooltip"]).provider("$popover",function(){var r=this.defaults={animation:"am-fade",customClass:"",container:!1,target:!1,placement:"right",templateUrl:"popover/popover.tpl.html",contentTemplate:!1,trigger:"click",keyboard:!0,html:!1,title:"",content:"",delay:0,autoClose:!1};this.$get=["$tooltip",function(o){return function(t,e){var n=angular.extend({},r,e),i=o(t,n);return n.content&&(i.$scope.content=n.content),i}}]}).directive("bsPopover",["$window","$sce","$popover",function(t,s,l){var u=t.requestAnimationFrame||t.setTimeout;return{restrict:"EAC",scope:!0,link:function(i,t,o){var r,n={scope:i};angular.forEach(["template","templateUrl","controller","controllerAs","contentTemplate","placement","container","delay","trigger","html","animation","customClass","autoClose","id","prefixClass","prefixEvent"],function(t){angular.isDefined(o[t])&&(n[t]=o[t])});var e=/^(false|0|)$/i;angular.forEach(["html","container","autoClose"],function(t){angular.isDefined(o[t])&&e.test(o[t])&&(n[t]=!1)}),angular.forEach(["onBeforeShow","onShow","onBeforeHide","onHide"],function(t){var e="bs"+t.charAt(0).toUpperCase()+t.slice(1);angular.isDefined(o[e])&&(n[t]=i.$eval(o[e]))});var a=t.attr("data-target");angular.isDefined(a)&&(e.test(a)?n.target=!1:n.target=a),angular.forEach(["title","content"],function(n){o[n]&&o.$observe(n,function(t,e){i[n]=s.trustAsHtml(t),angular.isDefined(e)&&u(function(){r&&r.$applyPlacement()})})}),o.bsPopover&&i.$watch(o.bsPopover,function(t,e){angular.isObject(t)?angular.extend(i,t):i.content=t,angular.isDefined(e)&&u(function(){r&&r.$applyPlacement()})},!0),o.bsShow&&i.$watch(o.bsShow,function(t,e){r&&angular.isDefined(t)&&(angular.isString(t)&&(t=!!t.match(/true|,?(popover),?/i)),!0===t?r.show():r.hide())}),o.viewport&&i.$watch(o.viewport,function(t){r&&angular.isDefined(t)&&r.setViewport(t)}),r=l(t,n),i.$on("$destroy",function(){r&&r.destroy(),r=n=null})}}}]),angular.module("mgcrea.ngStrap.navbar",[]).provider("$navbar",function(){var t=this.defaults={activeClass:"active",routeAttr:"data-match-route",strict:!1};this.$get=function(){return{defaults:t}}}).directive("bsNavbar",["$window","$location","$navbar",function(t,r,e){var a=e.defaults;return{restrict:"A",link:function(t,n,e,i){var o=angular.copy(a);angular.forEach(Object.keys(a),function(t){angular.isDefined(e[t])&&(o[t]=e[t])}),t.$watch(function(){return r.path()},function(i,t){var e=n[0].querySelectorAll("li["+o.routeAttr+"]");angular.forEach(e,function(t){var e=angular.element(t),n=e.attr(o.routeAttr).replace("/","\\/");o.strict&&(n="^"+n+"$"),new RegExp(n,"i").test(i)?e.addClass(o.activeClass):e.removeClass(o.activeClass)})})}}}]),angular.module("mgcrea.ngStrap.modal",["mgcrea.ngStrap.core","mgcrea.ngStrap.helpers.dimensions"]).provider("$modal",function(){var T=this.defaults={animation:"am-fade",backdropAnimation:"am-fade",customClass:"",prefixClass:"modal",prefixEvent:"modal",placement:"top",templateUrl:"modal/modal.tpl.html",template:"",contentTemplate:!1,container:!1,element:null,backdrop:!0,keyboard:!0,html:!1,show:!0,size:null};this.$get=["$window","$rootScope","$bsCompiler","$animate","$timeout","$sce","dimensions",function(t,m,v,y,e,b,n){var w=angular.forEach,x=t.requestAnimationFrame||t.setTimeout,$=angular.element(t.document.body),_=0,k={lg:"modal-lg",sm:"modal-sm"};function C(t){t.$$phase||t.$root&&t.$root.$$phase||t.$digest()}function S(t,e){return angular.element((e||F).querySelectorAll(t))}return function(t){var i,o,r,a={},s=a.$options=angular.extend({},T,t),e=a.$promise=v.compile(s),l=a.$scope=s.scope&&s.scope.$new()||m.$new();s.element||s.container||(s.container="body"),a.$id=s.id||s.element&&s.element.attr("id")||"",w(["title","content"],function(t){s[t]&&(l[t]=b.trustAsHtml(s[t]))}),l.$hide=function(){l.$$postDigest(function(){a.hide()})},l.$show=function(){l.$$postDigest(function(){a.show()})},l.$toggle=function(){l.$$postDigest(function(){a.toggle()})},a.$isShown=l.$isShown=!1;var u=angular.element('<div class="'+s.prefixClass+'-backdrop"/>');function c(){l.$emit(s.prefixEvent+".show",a),angular.isDefined(s.onShow)&&angular.isFunction(s.onShow)&&s.onShow(a)}function n(){l.$emit(s.prefixEvent+".hide",a),angular.isDefined(s.onHide)&&angular.isFunction(s.onHide)&&s.onHide(a),$.removeClass(s.prefixClass+"-open"),s.animation&&$.removeClass(s.prefixClass+"-with-"+s.animation)}function p(){s.backdrop&&(o.off("click",d),u.off("click",d),u.off("wheel",f))}function h(){s.keyboard&&o.off("keyup",a.$onKeyUp)}function d(t){t.target===t.currentTarget&&("static"===s.backdrop?a.focus():a.hide())}function f(t){t.preventDefault()}function g(){a.$isShown&&null!==o&&(p(),h()),r&&(r.$destroy(),r=null),o&&(o.remove(),o=a.$element=null)}return u.css({position:"fixed",top:"0px",left:"0px",bottom:"0px",right:"0px"}),e.then(function(t){i=t,a.init()}),a.init=function(){s.show&&l.$$postDigest(function(){a.show()})},a.destroy=function(){g(),u&&(u.remove(),u=null),l.$destroy()},a.show=function(){var t,e;if(!a.$isShown&&(e=angular.isElement(s.container)?(t=s.container,s.container[0].lastChild?angular.element(s.container[0].lastChild):null):s.container?(t=S(s.container))[0]&&t[0].lastChild?angular.element(t[0].lastChild):null:(t=null,s.element),o&&g(),r=a.$scope.$new(),o=a.$element=i.link(r,function(t,e){}),s.backdrop&&(o.css({"z-index":1050+20*_}),u.css({"z-index":1040+20*_}),_++),!l.$emit(s.prefixEvent+".show.before",a).defaultPrevented)){angular.isDefined(s.onBeforeShow)&&angular.isFunction(s.onBeforeShow)&&s.onBeforeShow(a),o.css({display:"block"}).addClass(s.placement),s.customClass&&o.addClass(s.customClass),s.size&&k[s.size]&&angular.element(S(".modal-dialog",o[0])).addClass(k[s.size]),s.animation&&(s.backdrop&&u.addClass(s.backdropAnimation),o.addClass(s.animation)),s.backdrop&&y.enter(u,$,null),angular.version.minor<=2?y.enter(o,t,e,c):y.enter(o,t,e).then(c),a.$isShown=l.$isShown=!0,C(l);var n=o[0];x(function(){n.focus()}),$.addClass(s.prefixClass+"-open"),s.animation&&$.addClass(s.prefixClass+"-with-"+s.animation),s.backdrop&&(o.on("click",d),u.on("click",d),u.on("wheel",f)),s.keyboard&&o.on("keyup",a.$onKeyUp)}},a.hide=function(){a.$isShown&&(l.$emit(s.prefixEvent+".hide.before",a).defaultPrevented||(angular.isDefined(s.onBeforeHide)&&angular.isFunction(s.onBeforeHide)&&s.onBeforeHide(a),angular.version.minor<=2?y.leave(o,n):y.leave(o).then(n),s.backdrop&&(_--,y.leave(u)),a.$isShown=l.$isShown=!1,C(l),p(),h()))},a.toggle=function(){a.$isShown?a.hide():a.show()},a.focus=function(){o[0].focus()},a.$onKeyUp=function(t){27===t.which&&a.$isShown&&(a.hide(),t.stopPropagation())},a}}]}).directive("bsModal",["$window","$sce","$parse","$modal",function(t,s,e,l){return{restrict:"EAC",scope:!0,link:function(i,t,o,e){var n={scope:i,element:t,show:!1};angular.forEach(["template","templateUrl","controller","controllerAs","contentTemplate","placement","backdrop","keyboard","html","container","animation","backdropAnimation","id","prefixEvent","prefixClass","customClass","modalClass","size"],function(t){angular.isDefined(o[t])&&(n[t]=o[t])}),n.modalClass&&(n.customClass=n.modalClass);var r=/^(false|0|)$/i;angular.forEach(["backdrop","keyboard","html","container"],function(t){angular.isDefined(o[t])&&r.test(o[t])&&(n[t]=!1)}),angular.forEach(["onBeforeShow","onShow","onBeforeHide","onHide"],function(t){var e="bs"+t.charAt(0).toUpperCase()+t.slice(1);angular.isDefined(o[e])&&(n[t]=i.$eval(o[e]))}),angular.forEach(["title","content"],function(n){o[n]&&o.$observe(n,function(t,e){i[n]=s.trustAsHtml(t)})}),o.bsModal&&i.$watch(o.bsModal,function(t,e){angular.isObject(t)?angular.extend(i,t):i.content=t},!0);var a=l(n);t.on(o.trigger||"click",a.toggle),i.$on("$destroy",function(){a&&a.destroy(),a=n=null})}}}]),angular.module("mgcrea.ngStrap.dropdown",["mgcrea.ngStrap.tooltip"]).provider("$dropdown",function(){var f=this.defaults={animation:"am-fade",prefixClass:"dropdown",prefixEvent:"dropdown",placement:"bottom-left",templateUrl:"dropdown/dropdown.tpl.html",trigger:"click",container:!1,keyboard:!0,html:!1,delay:0};this.$get=["$window","$rootScope","$tooltip","$timeout",function(t,u,c,p){var h=angular.element(t.document.body),d=Element.prototype.matchesSelector||Element.prototype.webkitMatchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector||Element.prototype.oMatchesSelector;return function(e,t){var i={},n=angular.extend({},f,t);i.$scope=n.scope&&n.scope.$new()||u.$new(),i=c(e,n);var o=e.parent();i.$onKeyDown=function(t){if(/(38|40)/.test(t.keyCode)){t.preventDefault(),t.stopPropagation();var n,e=angular.element(i.$element[0].querySelectorAll("li:not(.divider) a"));e.length&&(angular.forEach(e,function(t,e){d&&d.call(t,":focus")&&(n=e)}),38===t.keyCode&&0<n?n--:40===t.keyCode&&n<e.length-1?n++:angular.isUndefined(n)&&(n=0),e.eq(n)[0].focus())}};var r=i.show;i.show=function(){r(),p(function(){n.keyboard&&i.$element&&i.$element.on("keydown",i.$onKeyDown),h.on("click",l)},0,!1),o.hasClass("dropdown")&&o.addClass("open")};var a=i.hide;i.hide=function(){i.$isShown&&(n.keyboard&&i.$element&&i.$element.off("keydown",i.$onKeyDown),h.off("click",l),o.hasClass("dropdown")&&o.removeClass("open"),a())};var s=i.destroy;function l(t){if(t.target!==e[0])return t.target!==e[0]&&i.hide()}return i.destroy=function(){h.off("click",l),s()},i}}]}).directive("bsDropdown",["$window","$sce","$dropdown",function(t,e,s){return{restrict:"EAC",scope:!0,compile:function(t,a){if(!a.bsDropdown){for(var e=t[0].nextSibling;e&&1!==e.nodeType;)e=e.nextSibling;e&&0<=e.className.split(" ").indexOf("dropdown-menu")&&(a.template=e.outerHTML,a.templateUrl=void 0,e.parentNode.removeChild(e))}return function(n,t,i){var o={scope:n};angular.forEach(["template","templateUrl","controller","controllerAs","placement","container","delay","trigger","keyboard","html","animation","id","autoClose"],function(t){angular.isDefined(a[t])&&(o[t]=a[t])});var e=/^(false|0|)$/i;angular.forEach(["html","container"],function(t){angular.isDefined(i[t])&&e.test(i[t])&&(o[t]=!1)}),angular.forEach(["onBeforeShow","onShow","onBeforeHide","onHide"],function(t){var e="bs"+t.charAt(0).toUpperCase()+t.slice(1);angular.isDefined(i[e])&&(o[t]=n.$eval(i[e]))}),i.bsDropdown&&n.$watch(i.bsDropdown,function(t,e){n.content=t},!0);var r=s(t,o);i.bsShow&&n.$watch(i.bsShow,function(t,e){r&&angular.isDefined(t)&&(angular.isString(t)&&(t=!!t.match(/true|,?(dropdown),?/i)),!0===t?r.show():r.hide())}),n.$on("$destroy",function(){r&&r.destroy(),r=o=null})}}}}]),angular.version.minor<3&&angular.version.dot<14&&angular.module("ng").factory("$$rAF",["$window","$timeout",function(t,n){var i=t.requestAnimationFrame||t.webkitRequestAnimationFrame||t.mozRequestAnimationFrame,o=t.cancelAnimationFrame||t.webkitCancelAnimationFrame||t.mozCancelAnimationFrame||t.webkitCancelRequestAnimationFrame,e=!!i,r=e?function(t){var e=i(t);return function(){o(e)}}:function(t){var e=n(t,16.66,!1);return function(){n.cancel(e)}};return r.supported=e,r}]),angular.module("mgcrea.ngStrap.helpers.parseOptions",[]).provider("$parseOptions",function(){var p=this.defaults={regexp:/^\s*(.*?)(?:\s+as\s+(.*?))?(?:\s+group\s+by\s+(.*))?\s+for\s+(?:([\$\w][\$\w]*)|(?:\(\s*([\$\w][\$\w]*)\s*,\s*([\$\w][\$\w]*)\s*\)))\s+in\s+(.*?)(?:\s+track\s+by\s+(.*?))?$/};this.$get=["$parse","$q",function(u,c){return function(t,e){var n,a,s,l,i,o={},r=angular.extend({},p,e);return o.$values=[],o.init=function(){o.$match=n=t.match(r.regexp),a=u(n[2]||n[1]),s=n[4]||n[6],n[5],u(n[3]||""),l=u(n[2]?n[1]:s),i=u(n[7])},o.valuesFn=function(e,t){return c.when(i(e,t)).then(function(t){var r;return angular.isArray(t)||(t=[]),o.$values=t.length?(r=e,t.map(function(t,e){var n,i,o={};return o[s]=t,n=a(r,o),i=l(r,o),{label:n,value:i,index:e}})):[],o.$values})},o.displayValue=function(t){var e={};return e[s]=t,a(e)},o.init(),o}}]}),angular.module("mgcrea.ngStrap.helpers.dimensions",[]).factory("dimensions",function(){var h={},o=h.nodeName=function(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()};return h.css=function(t,e,n){var i;return i=t.currentStyle?t.currentStyle[e]:r.getComputedStyle?r.getComputedStyle(t)[e]:t.style[e],!0===n?parseFloat(i)||0:i},h.offset=function(t){var e=t.getBoundingClientRect(),n=t.ownerDocument;return{width:e.width||t.offsetWidth,height:e.height||t.offsetHeight,top:e.top+(r.pageYOffset||n.documentElement.scrollTop)-(n.documentElement.clientTop||0),left:e.left+(r.pageXOffset||n.documentElement.scrollLeft)-(n.documentElement.clientLeft||0)}},h.setOffset=function(t,e,n){var i,o,r,a,s,l,u=h.css(t,"position"),c=angular.element(t),p={};"static"===u&&(t.style.position="relative"),s=h.offset(t),r=h.css(t,"top"),l=h.css(t,"left"),o=("absolute"===u||"fixed"===u)&&-1<(r+l).indexOf("auto")?(a=(i=h.position(t)).top,i.left):(a=parseFloat(r)||0,parseFloat(l)||0),angular.isFunction(e)&&(e=e.call(t,n,s)),null!==e.top&&(p.top=e.top-s.top+a),null!==e.left&&(p.left=e.left-s.left+o),"using"in e?e.using.call(c,p):c.css({top:p.top+"px",left:p.left+"px"})},h.position=function(t){var e,n,i={top:0,left:0};return"fixed"===h.css(t,"position")?n=t.getBoundingClientRect():(e=function(t){var e=t.ownerDocument,n=t.offsetParent||e;if(o(n,"#document"))return e.documentElement;for(;n&&!o(n,"html")&&"static"===h.css(n,"position");)n=n.offsetParent;return n||e.documentElement}(t),n=h.offset(t),o(e,"html")||(i=h.offset(e)),i.top+=h.css(e,"borderTopWidth",!0),i.left+=h.css(e,"borderLeftWidth",!0)),{width:t.offsetWidth,height:t.offsetHeight,top:n.top-i.top-h.css(t,"marginTop",!0),left:n.left-i.left-h.css(t,"marginLeft",!0)}},h.height=function(t,e){var n=t.offsetHeight;return e?n+=h.css(t,"marginTop",!0)+h.css(t,"marginBottom",!0):n-=h.css(t,"paddingTop",!0)+h.css(t,"paddingBottom",!0)+h.css(t,"borderTopWidth",!0)+h.css(t,"borderBottomWidth",!0),n},h.width=function(t,e){var n=t.offsetWidth;return e?n+=h.css(t,"marginLeft",!0)+h.css(t,"marginRight",!0):n-=h.css(t,"paddingLeft",!0)+h.css(t,"paddingRight",!0)+h.css(t,"borderLeftWidth",!0)+h.css(t,"borderRightWidth",!0),n},h}),angular.module("mgcrea.ngStrap.helpers.debounce",[]).factory("debounce",["$timeout",function(s){return function(i,o,r){var a=null;return function(){var t=this,e=arguments,n=r&&!a;return a&&s.cancel(a),a=s(function(){a=null,r||i.apply(t,e)},o,!1),n&&i.apply(t,e),a}}}]).factory("throttle",["$timeout",function(a){return function(n,i,o){var r=null;return o||(o={}),function(){var t=this,e=arguments;r||(!1!==o.leading&&n.apply(t,e),r=a(function(){r=null,!1!==o.trailing&&n.apply(t,e)},i,!1))}}}]),angular.module("mgcrea.ngStrap.helpers.dateParser",[]).provider("$dateParser",["$localeProvider",function(t){function v(){this.year=1970,this.month=0,this.day=1,this.hours=0,this.minutes=0,this.seconds=0,this.milliseconds=0}v.prototype.setMilliseconds=function(t){this.milliseconds=t},v.prototype.setSeconds=function(t){this.seconds=t},v.prototype.setMinutes=function(t){this.minutes=t},v.prototype.setHours=function(t){this.hours=t},v.prototype.getHours=function(){return this.hours},v.prototype.setDate=function(t){this.day=t},v.prototype.setMonth=function(t){this.month=t},v.prototype.setFullYear=function(t){this.year=t},v.prototype.fromDate=function(t){return this.year=t.getFullYear(),this.month=t.getMonth(),this.day=t.getDate(),this.hours=t.getHours(),this.minutes=t.getMinutes(),this.seconds=t.getSeconds(),this.milliseconds=t.getMilliseconds(),this},v.prototype.toDate=function(){return new Date(this.year,this.month,this.day,this.hours,this.minutes,this.seconds,this.milliseconds)};var i=v.prototype;function o(){}function r(t){return!isNaN(parseFloat(t))&&isFinite(t)}function a(t,e){for(var n=t.length,i=e.toString().toLowerCase(),o=0;o<n;o++)if(t[o].toLowerCase()===i)return o;return-1}var s=this.defaults={format:"shortDate",strict:!1};this.$get=["$locale","dateFilter",function(g,m){return function(t){var c,p,e=angular.extend({},s,t),h={},l={sss:"[0-9]{3}",ss:"[0-5][0-9]",s:e.strict?"[1-5]?[0-9]":"[0-9]|[0-5][0-9]",mm:"[0-5][0-9]",m:e.strict?"[1-5]?[0-9]":"[0-9]|[0-5][0-9]",HH:"[01][0-9]|2[0-3]",H:e.strict?"1?[0-9]|2[0-3]":"[01]?[0-9]|2[0-3]",hh:"[0][1-9]|[1][012]",h:e.strict?"[1-9]|1[012]":"0?[1-9]|1[012]",a:"AM|PM",EEEE:g.DATETIME_FORMATS.DAY.join("|"),EEE:g.DATETIME_FORMATS.SHORTDAY.join("|"),dd:"0[1-9]|[12][0-9]|3[01]",d:e.strict?"[1-9]|[1-2][0-9]|3[01]":"0?[1-9]|[1-2][0-9]|3[01]",MMMM:g.DATETIME_FORMATS.MONTH.join("|"),MMM:g.DATETIME_FORMATS.SHORTMONTH.join("|"),MM:"0[1-9]|1[012]",M:e.strict?"[1-9]|1[012]":"0?[1-9]|1[012]",yyyy:"[1]{1}[0-9]{3}|[2]{1}[0-9]{3}",yy:"[0-9]{2}",y:e.strict?"-?(0|[1-9][0-9]{0,3})":"-?0*[0-9]{1,4}"},u={sss:i.setMilliseconds,ss:i.setSeconds,s:i.setSeconds,mm:i.setMinutes,m:i.setMinutes,HH:i.setHours,H:i.setHours,hh:i.setHours,h:i.setHours,EEEE:o,EEE:o,dd:i.setDate,d:i.setDate,a:function(t){var e=this.getHours()%12;return this.setHours(t.match(/pm/i)?e+12:e)},MMMM:function(t){return this.setMonth(a(g.DATETIME_FORMATS.MONTH,t))},MMM:function(t){return this.setMonth(a(g.DATETIME_FORMATS.SHORTMONTH,t))},MM:function(t){return this.setMonth(1*t-1)},M:function(t){return this.setMonth(1*t-1)},yyyy:i.setFullYear,yy:function(t){return this.setFullYear(2e3+1*t)},y:function(t){return 1*t<=50&&2===t.length?this.setFullYear(2e3+1*t):this.setFullYear(1*t)}};function d(t){return function(t){for(var e=Object.keys(l),n=t,i=0;i<e.length;i++)n=n.split("${"+i+"}").join("("+l[e[i]]+")");return new RegExp("^"+n+"$",["i"])}(n(t))}function n(t){var e=t.replace(/\\/g,"[\\\\]").replace(/-/g,"[-]").replace(/\./g,"[.]").replace(/\*/g,"[*]").replace(/\+/g,"[+]").replace(/\?/g,"[?]").replace(/\$/g,"[$]").replace(/\^/g,"[^]").replace(/\//g,"[/]").replace(/\\s/g,"[\\s]").replace(/''/g,"\\'").split(/('(?:\\'|.)*?')/),n=Object.keys(l),i=[];return angular.forEach(e,function(t){if(/^'.*'$/.test(t))t=t.replace(/^'(.*)'$/,"$1");else for(var e=0;e<n.length;e++)t=t.split(n[e]).join("${"+e+"}");i.push(t)}),i.join("")}function f(t){return function(t){for(var e,n,i,o,r=Object.keys(l),a=new RegExp("\\${(\\d+)}","g"),s=[];null!==(e=a.exec(t));)n=e[1],i=r[n],o=u[i],s.push(o);return s}(n(t))}return h.init=function(){h.$format=g.DATETIME_FORMATS[e.format]||e.format,c=d(h.$format),p=f(h.$format)},h.isValid=function(t){return angular.isDate(t)?!isNaN(t.getTime()):c.test(t)},h.parse=function(t,e,n,i){n&&(n=g.DATETIME_FORMATS[n]||n),angular.isDate(t)&&(t=m(t,n||h.$format,i));var o=n?d(n):c,r=n?f(n):p,a=o.exec(t);if(!a)return!1;for(var s=e&&!isNaN(e.getTime())?(new v).fromDate(e):(new v).fromDate(new Date(1970,0,1,0)),l=0;l<a.length-1;l++)r[l]&&r[l].call(s,a[l+1]);var u=s.toDate();return parseInt(s.day,10)===u.getDate()&&u},h.getDateForAttribute=function(t,e){var n;if("today"===e){var i=new Date;n=new Date(i.getFullYear(),i.getMonth(),i.getDate()+("maxDate"===t?1:0),0,0,0,"minDate"===t?0:-1)}else n=angular.isString(e)&&e.match(/^".+"$/)?new Date(e.substr(1,e.length-2)):r(e)?new Date(parseInt(e,10)):angular.isString(e)&&0===e.length?"minDate"===t?-1/0:1/0:new Date(e);return n},h.getTimeForAttribute=function(t,e){return"now"===e?(new Date).setFullYear(1970,0,1):angular.isString(e)&&e.match(/^".+"$/)?new Date(e.substr(1,e.length-2)).setFullYear(1970,0,1):r(e)?new Date(parseInt(e,10)).setFullYear(1970,0,1):angular.isString(e)&&0===e.length?"minTime"===t?-1/0:1/0:h.parse(e,new Date(1970,0,1,0))},h.daylightSavingAdjust=function(t){return t?(t.setHours(12<t.getHours()?t.getHours()+2:0),t):null},h.timezoneOffsetAdjust=function(t,e,n){return t?(e&&"UTC"===e&&(t=new Date(t.getTime())).setMinutes(t.getMinutes()+(n?-1:1)*t.getTimezoneOffset()),t):null},h.init(),h}}]}]),angular.module("mgcrea.ngStrap.helpers.dateFormatter",[]).service("$dateFormatter",["$locale","dateFilter",function(n,o){function e(t){return/(h+)([:\.])?(m+)([:\.])?(s*)[ ]?(a?)/i.exec(t).slice(1)}this.getDefaultLocale=function(){return n.id},this.getDatetimeFormat=function(t,e){return n.DATETIME_FORMATS[t]||t},this.weekdaysShort=function(t){return n.DATETIME_FORMATS.SHORTDAY},this.hoursFormat=function(t){return e(t)[0]},this.minutesFormat=function(t){return e(t)[2]},this.secondsFormat=function(t){return e(t)[4]},this.timeSeparator=function(t){return e(t)[1]},this.showSeconds=function(t){return!!e(t)[4]},this.showAM=function(t){return!!e(t)[5]},this.formatDate=function(t,e,n,i){return o(t,e,i)}}]),angular.module("mgcrea.ngStrap.core",[]).service("$bsCompiler",e),angular.module("mgcrea.ngStrap.datepicker",["mgcrea.ngStrap.helpers.dateParser","mgcrea.ngStrap.helpers.dateFormatter","mgcrea.ngStrap.tooltip"]).provider("$datepicker",function(){var x=this.defaults={animation:"am-fade",prefixClass:"datepicker",placement:"bottom-left",templateUrl:"datepicker/datepicker.tpl.html",trigger:"focus",container:!1,keyboard:!0,html:!1,delay:0,useNative:!1,dateType:"date",dateFormat:"shortDate",timezone:null,modelDateFormat:null,dayFormat:"dd",monthFormat:"MMM",yearFormat:"yyyy",monthTitleFormat:"MMMM yyyy",yearTitleFormat:"yyyy",strictFormat:!1,autoclose:!1,minDate:-1/0,maxDate:1/0,startView:0,minView:0,startWeek:0,daysOfWeekDisabled:"",hasToday:!1,hasClear:!1,iconLeft:"glyphicon glyphicon-chevron-left",iconRight:"glyphicon glyphicon-chevron-right"};this.$get=["$window","$document","$rootScope","$sce","$dateFormatter","datepickerViews","$tooltip","$timeout",function(t,e,n,i,o,m,v,y){var b=/(ip[ao]d|iphone|android)/gi.test(t.navigator.userAgent),w="createTouch"in t.document&&b;function r(e,n,t){var i=v(e,angular.extend({},x,t)),o=t.scope,r=i.$options,a=i.$scope;r.startView&&(r.startView-=r.minView);var s=m(i);i.$views=s.views;var l=s.viewDate;a.$mode=r.startView,a.$iconLeft=r.iconLeft,a.$iconRight=r.iconRight,a.$hasToday=r.hasToday,a.$hasClear=r.hasClear;var u=i.$views[a.$mode];function c(t){t.selected=i.$isSelected(t.date)}function p(){e[0].focus()}a.$select=function(t){i.select(t)},a.$selectPane=function(t){i.$selectPane(t)},a.$toggleMode=function(){i.setMode((a.$mode+1)%i.$views.length)},a.$setToday=function(){r.autoclose?(i.setMode(0),i.select(new Date)):i.select(new Date,!0)},a.$clear=function(){r.autoclose?(i.setMode(0),i.select(null)):i.select(null,!0)},i.update=function(t){angular.isDate(t)&&!isNaN(t.getTime())&&(i.$date=t,u.update.call(u,t)),i.$build(!0)},i.updateDisabledDates=function(t){r.disabledDateRanges=t;for(var e=0,n=a.rows.length;e<n;e++)angular.forEach(a.rows[e],i.$setDisabledEl)},i.select=function(t,e){angular.isDate(t)?angular.isDate(n.$dateValue)&&!isNaN(n.$dateValue.getTime())||(n.$dateValue=new Date(t)):n.$dateValue=null,!a.$mode||e?(n.$setViewValue(angular.copy(t)),n.$render(),r.autoclose&&!e&&y(function(){i.hide(!0)})):(angular.extend(l,{year:t.getFullYear(),month:t.getMonth(),date:t.getDate()}),i.setMode(a.$mode-1),i.$build())},i.setMode=function(t){a.$mode=t,u=i.$views[a.$mode],i.$build()},i.$build=function(t){!0===t&&u.built||(!1!==t||u.built)&&u.build.call(u)},i.$updateSelected=function(){for(var t=0,e=a.rows.length;t<e;t++)angular.forEach(a.rows[t],c)},i.$isSelected=function(t){return u.isSelected(t)},i.$setDisabledEl=function(t){t.disabled=u.isDisabled(t.date)},i.$selectPane=function(t){var e=u.steps,n=new Date(Date.UTC(l.year+(e.year||0)*t,l.month+(e.month||0)*t,1));angular.extend(l,{year:n.getUTCFullYear(),month:n.getUTCMonth(),date:n.getUTCDate()}),i.$build()},i.$onMouseDown=function(t){if(t.preventDefault(),t.stopPropagation(),w){var e=angular.element(t.target);"button"!==e[0].nodeName.toLowerCase()&&(e=e.parent()),e.triggerHandler("click")}},i.$onKeyDown=function(t){!/(38|37|39|40|13)/.test(t.keyCode)||t.shiftKey||t.altKey||(t.preventDefault(),t.stopPropagation(),13!==t.keyCode?(u.onKeyDown(t),o.$digest()):a.$mode?a.$apply(function(){i.setMode(a.$mode-1)}):i.hide(!0))};var h=i.init;i.init=function(){if(b&&r.useNative)return e.prop("type","date"),void e.css("-webkit-appearance","textfield");w&&(e.prop("type","text"),e.attr("readonly","true"),e.on("click",p)),h()};var d=i.destroy;i.destroy=function(){b&&r.useNative&&e.off("click",p),d()};var f=i.show;i.show=function(){!w&&e.attr("readonly")||e.attr("disabled")||(f(),y(function(){i.$isShown&&(i.$element.on(w?"touchstart":"mousedown",i.$onMouseDown),r.keyboard&&e.on("keydown",i.$onKeyDown))},0,!1))};var g=i.hide;return i.hide=function(t){i.$isShown&&(i.$element.off(w?"touchstart":"mousedown",i.$onMouseDown),r.keyboard&&e.off("keydown",i.$onKeyDown),g(t))},i}return x.lang||(x.lang=o.getDefaultLocale()),r.defaults=x,r}]}).directive("bsDatepicker",["$window","$parse","$q","$dateFormatter","$dateParser","$datepicker",function(t,e,n,d,f,g){var m=/(ip[ao]d|iphone|android)/gi.test(t.navigator.userAgent);return{restrict:"EAC",require:"ngModel",link:function(n,t,i,o){var r={scope:n};angular.forEach(["template","templateUrl","controller","controllerAs","placement","container","delay","trigger","html","animation","autoclose","dateType","dateFormat","timezone","modelDateFormat","dayFormat","strictFormat","startWeek","startDate","useNative","lang","startView","minView","iconLeft","iconRight","daysOfWeekDisabled","id","prefixClass","prefixEvent","hasToday","hasClear"],function(t){angular.isDefined(i[t])&&(r[t]=i[t])});var e=/^(false|0|)$/i;angular.forEach(["html","container","autoclose","useNative","hasToday","hasClear"],function(t){angular.isDefined(i[t])&&e.test(i[t])&&(r[t]=!1)}),angular.forEach(["onBeforeShow","onShow","onBeforeHide","onHide"],function(t){var e="bs"+t.charAt(0).toUpperCase()+t.slice(1);angular.isDefined(i[e])&&(r[t]=n.$eval(i[e]))});var a=g(t,o,r);r=a.$options,m&&r.useNative&&(r.dateFormat="yyyy-MM-dd");var s=r.lang,l=function(t,e){return d.formatDate(t,e,s)},u=f({format:r.dateFormat,lang:s,strict:r.strictFormat});function c(t){return t&&t.length?t:null}function p(t){if(angular.isDate(t)){var e=isNaN(a.$options.minDate)||t.getTime()>=a.$options.minDate,n=isNaN(a.$options.maxDate)||t.getTime()<=a.$options.maxDate,i=e&&n;o.$setValidity("date",i),o.$setValidity("min",e),o.$setValidity("max",n),i&&(o.$dateValue=t)}}function h(){return!o.$dateValue||isNaN(o.$dateValue.getTime())?"":l(o.$dateValue,r.dateFormat)}i.bsShow&&n.$watch(i.bsShow,function(t,e){a&&angular.isDefined(t)&&(angular.isString(t)&&(t=!!t.match(/true|,?(datepicker),?/i)),!0===t?a.show():a.hide())}),angular.forEach(["minDate","maxDate"],function(e){angular.isDefined(i[e])&&i.$observe(e,function(t){a.$options[e]=u.getDateForAttribute(e,t),isNaN(a.$options[e])||a.$build(!1),p(o.$dateValue)})}),angular.isDefined(i.dateFormat)&&i.$observe("dateFormat",function(t){a.$options.dateFormat=t}),n.$watch(i.ngModel,function(t,e){a.update(o.$dateValue)},!0),angular.isDefined(i.disabledDates)&&n.$watch(i.disabledDates,function(t,e){t=c(t),e=c(e),t&&a.updateDisabledDates(t)}),o.$parsers.unshift(function(t){var e;if(!t)return o.$setValidity("date",!0),null;var n=u.parse(t,o.$dateValue);if(n&&!isNaN(n.getTime()))return p(n),"string"===r.dateType?(e=u.timezoneOffsetAdjust(n,r.timezone,!0),l(e,r.modelDateFormat||r.dateFormat)):(e=u.timezoneOffsetAdjust(o.$dateValue,r.timezone,!0),"number"===r.dateType?e.getTime():"unix"===r.dateType?e.getTime()/1e3:"iso"===r.dateType?e.toISOString():new Date(e));o.$setValidity("date",!1)}),o.$formatters.push(function(t){var e;return e=angular.isUndefined(t)||null===t?NaN:angular.isDate(t)?t:"string"===r.dateType?u.parse(t,null,r.modelDateFormat):"unix"===r.dateType?new Date(1e3*t):new Date(t),o.$dateValue=u.timezoneOffsetAdjust(e,r.timezone),h()}),o.$render=function(){t.val(h())},n.$on("$destroy",function(){a&&a.destroy(),a=r=null})}}}]).provider("datepickerViews",function(){function m(t,e){for(var n=[];0<t.length;)n.push(t.splice(0,e));return n}this.$get=["$dateFormatter","$dateParser","$sce",function(r,a,s){return function(u){var c=u.$scope,p=u.$options,n=p.lang,h=function(t,e){return r.formatDate(t,e,n)},d=a({format:p.dateFormat,lang:n,strict:p.strictFormat}),t=r.weekdaysShort(n),e=t.slice(p.startWeek).concat(t.slice(0,p.startWeek)),f=s.trustAsHtml('<th class="dow text-center">'+e.join('</th><th class="dow text-center">')+"</th>"),i=u.$date||(p.startDate?d.getDateForAttribute("startDate",p.startDate):new Date),g={year:i.getFullYear(),month:i.getMonth(),date:i.getDate()},o=[{format:p.dayFormat,split:7,steps:{month:1},update:function(t,e){!this.built||e||t.getFullYear()!==g.year||t.getMonth()!==g.month?(angular.extend(g,{year:u.$date.getFullYear(),month:u.$date.getMonth(),date:u.$date.getDate()}),u.$build()):t.getDate()===g.date&&1!==t.getDate()||(g.date=u.$date.getDate(),u.$updateSelected())},build:function(){var t,e=new Date(g.year,g.month,1),n=e.getTimezoneOffset(),i=new Date(+e-864e5*(((e.getDay()-p.startWeek)%(t=7)+t)%t)),o=i.getTimezoneOffset(),r=d.timezoneOffsetAdjust(new Date,p.timezone).toDateString();o!==n&&(i=new Date(+i+6e4*(o-n)));for(var a,s=[],l=0;l<42;l++)a=d.daylightSavingAdjust(new Date(i.getFullYear(),i.getMonth(),i.getDate()+l)),s.push({date:a,isToday:a.toDateString()===r,label:h(a,this.format),selected:u.$date&&this.isSelected(a),muted:a.getMonth()!==g.month,disabled:this.isDisabled(a)});c.title=h(e,p.monthTitleFormat),c.showLabels=!0,c.labels=f,c.rows=m(s,this.split),c.isTodayDisabled=this.isDisabled(new Date),this.built=!0},isSelected:function(t){return u.$date&&t.getFullYear()===u.$date.getFullYear()&&t.getMonth()===u.$date.getMonth()&&t.getDate()===u.$date.getDate()},isDisabled:function(t){var e=t.getTime();if(e<p.minDate||e>p.maxDate)return!0;if(-1!==p.daysOfWeekDisabled.indexOf(t.getDay()))return!0;if(p.disabledDateRanges)for(var n=0;n<p.disabledDateRanges.length;n++)if(e>=p.disabledDateRanges[n].start&&e<=p.disabledDateRanges[n].end)return!0;return!1},onKeyDown:function(t){if(u.$date){var e,n=u.$date.getTime();37===t.keyCode?e=new Date(n-864e5):38===t.keyCode?e=new Date(n-6048e5):39===t.keyCode?e=new Date(n+864e5):40===t.keyCode&&(e=new Date(n+6048e5)),this.isDisabled(e)||u.select(e,!0)}}},{name:"month",format:p.monthFormat,split:4,steps:{year:1},update:function(t,e){this.built&&t.getFullYear()===g.year?t.getMonth()!==g.month&&(angular.extend(g,{month:u.$date.getMonth(),date:u.$date.getDate()}),u.$updateSelected()):(angular.extend(g,{year:u.$date.getFullYear(),month:u.$date.getMonth(),date:u.$date.getDate()}),u.$build())},build:function(){for(var t,e=[],n=0;n<12;n++)t=new Date(g.year,n,1),e.push({date:t,label:h(t,this.format),selected:u.$isSelected(t),disabled:this.isDisabled(t)});c.title=h(t,p.yearTitleFormat),c.showLabels=!1,c.rows=m(e,this.split),this.built=!0},isSelected:function(t){return u.$date&&t.getFullYear()===u.$date.getFullYear()&&t.getMonth()===u.$date.getMonth()},isDisabled:function(t){return+new Date(t.getFullYear(),t.getMonth()+1,0)<p.minDate||t.getTime()>p.maxDate},onKeyDown:function(t){if(u.$date){var e=u.$date.getMonth(),n=new Date(u.$date);37===t.keyCode?n.setMonth(e-1):38===t.keyCode?n.setMonth(e-4):39===t.keyCode?n.setMonth(e+1):40===t.keyCode&&n.setMonth(e+4),this.isDisabled(n)||u.select(n,!0)}}},{name:"year",format:p.yearFormat,split:4,steps:{year:12},update:function(t,e){!this.built||e||parseInt(t.getFullYear()/20,10)!==parseInt(g.year/20,10)?(angular.extend(g,{year:u.$date.getFullYear(),month:u.$date.getMonth(),date:u.$date.getDate()}),u.$build()):t.getFullYear()!==g.year&&(angular.extend(g,{year:u.$date.getFullYear(),month:u.$date.getMonth(),date:u.$date.getDate()}),u.$updateSelected())},build:function(){for(var t,e=g.year-g.year%(3*this.split),n=[],i=0;i<12;i++)t=new Date(e+i,0,1),n.push({date:t,label:h(t,this.format),selected:u.$isSelected(t),disabled:this.isDisabled(t)});c.title=n[0].label+"-"+n[n.length-1].label,c.showLabels=!1,c.rows=m(n,this.split),this.built=!0},isSelected:function(t){return u.$date&&t.getFullYear()===u.$date.getFullYear()},isDisabled:function(t){return+new Date(t.getFullYear()+1,0,0)<p.minDate||t.getTime()>p.maxDate},onKeyDown:function(t){if(u.$date){var e=u.$date.getFullYear(),n=new Date(u.$date);37===t.keyCode?n.setYear(e-1):38===t.keyCode?n.setYear(e-4):39===t.keyCode?n.setYear(e+1):40===t.keyCode&&n.setYear(e+4),this.isDisabled(n)||u.select(n,!0)}}}];return{views:p.minView?Array.prototype.slice.call(o,p.minView):o,viewDate:g}}}]}),angular.module("mgcrea.ngStrap.button",[]).provider("$button",function(){var t=this.defaults={activeClass:"active",toggleEvent:"click"};this.$get=function(){return{defaults:t}}}).directive("bsCheckboxGroup",function(){return{restrict:"A",require:"ngModel",compile:function(t,n){t.attr("data-toggle","buttons"),t.removeAttr("ng-model");var e=t[0].querySelectorAll('input[type="checkbox"]');angular.forEach(e,function(t){var e=angular.element(t);e.attr("bs-checkbox",""),e.attr("ng-model",n.ngModel+"."+e.attr("value"))})}}}).directive("bsCheckbox",["$button","$$rAF",function(t,c){var p=t.defaults,h=/^(true|false|\d+)$/;return{restrict:"A",require:"ngModel",link:function(t,e,n,i){var o=p,r="INPUT"===e[0].nodeName,a=r?e.parent():e,s=!angular.isDefined(n.trueValue)||n.trueValue;h.test(n.trueValue)&&(s=t.$eval(n.trueValue));var l=!!angular.isDefined(n.falseValue)&&n.falseValue;h.test(n.falseValue)&&(l=t.$eval(n.falseValue));var u="boolean"!=typeof s||"boolean"!=typeof l;u&&(i.$parsers.push(function(t){return t?s:l}),i.$formatters.push(function(t){return angular.equals(t,s)}),t.$watch(n.ngModel,function(t,e){i.$render()})),i.$render=function(){var t=angular.equals(i.$modelValue,s);c(function(){r&&(e[0].checked=t),a.toggleClass(o.activeClass,t)})},e.bind(o.toggleEvent,function(){t.$apply(function(){r||i.$setViewValue(!a.hasClass("active")),u||i.$render()})})}}}]).directive("bsRadioGroup",function(){return{restrict:"A",require:"ngModel",compile:function(t,e){t.attr("data-toggle","buttons"),t.removeAttr("ng-model");var n=t[0].querySelectorAll('input[type="radio"]');angular.forEach(n,function(t){angular.element(t).attr("bs-radio",""),angular.element(t).attr("ng-model",e.ngModel)})}}}).directive("bsRadio",["$button","$$rAF",function(t,l){var u=t.defaults,c=/^(true|false|\d+)$/;return{restrict:"A",require:"ngModel",link:function(e,n,t,i){var o,r=u,a="INPUT"===n[0].nodeName,s=a?n.parent():n;t.$observe("value",function(t){o="boolean"!=typeof t&&c.test(t)?e.$eval(t):t,i.$render()}),i.$render=function(){var t=angular.equals(i.$modelValue,o);l(function(){a&&(n[0].checked=t),s.toggleClass(r.activeClass,t)})},n.bind(r.toggleEvent,function(){e.$apply(function(){i.$setViewValue(o),i.$render()})})}}}]),angular.module("mgcrea.ngStrap.collapse",[]).provider("$collapse",function(){var a=this.defaults={animation:"am-collapse",disallowToggle:!1,activeClass:"in",startCollapsed:!1,allowMultiple:!1},e=this.controller=function(t,e,n){var i=this;i.$options=angular.copy(a),angular.forEach(["animation","disallowToggle","activeClass","startCollapsed","allowMultiple"],function(t){angular.isDefined(n[t])&&(i.$options[t]=n[t])});var o=/^(false|0|)$/i;function r(t){var e=i.$targets.$active.indexOf(t);-1!==e&&i.$targets.$active.splice(e,1)}angular.forEach(["disallowToggle","startCollapsed","allowMultiple"],function(t){angular.isDefined(n[t])&&o.test(n[t])&&(i.$options[t]=!1)}),i.$toggles=[],i.$targets=[],i.$viewChangeListeners=[],i.$registerToggle=function(t){i.$toggles.push(t)},i.$registerTarget=function(t){i.$targets.push(t)},i.$unregisterToggle=function(t){var e=i.$toggles.indexOf(t);i.$toggles.splice(e,1)},i.$unregisterTarget=function(t){var e=i.$targets.indexOf(t);i.$targets.splice(e,1),i.$options.allowMultiple&&r(t),function(t){for(var e=i.$targets.$active,n=0;n<e.length;n++)t<e[n]&&(e[n]=e[n]-1),e[n]===i.$targets.length&&(e[n]=i.$targets.length-1)}(e),i.$viewChangeListeners.forEach(function(t){t()})},i.$targets.$active=i.$options.startCollapsed?[]:[0],i.$setActive=t.$setActive=function(t){var e;angular.isArray(t)?i.$targets.$active=t:i.$options.disallowToggle||(e=t,-1===i.$targets.$active.indexOf(e))?function(t){i.$options.allowMultiple||i.$targets.$active.splice(0,1);-1===i.$targets.$active.indexOf(t)&&i.$targets.$active.push(t)}(t):r(t),i.$viewChangeListeners.forEach(function(t){t()})},i.$activeIndexes=function(){return i.$options.allowMultiple?i.$targets.$active:1===i.$targets.$active.length?i.$targets.$active[0]:-1}};this.$get=function(){var t={};return t.defaults=a,t.controller=e,t}}).directive("bsCollapse",["$window","$animate","$collapse",function(t,e,n){return{require:["?ngModel","bsCollapse"],controller:["$scope","$element","$attrs",n.controller],link:function(t,e,n,i){var o=i[0],r=i[1];o&&(r.$viewChangeListeners.push(function(){o.$setViewValue(r.$activeIndexes())}),o.$formatters.push(function(t){if(angular.isArray(t))r.$setActive(t);else{var e=r.$activeIndexes();angular.isArray(e)?-1===e.indexOf(1*t)&&r.$setActive(1*t):e!==1*t&&r.$setActive(1*t)}return t}))}}}]).directive("bsCollapseToggle",function(){return{require:["^?ngModel","^bsCollapse"],link:function(e,n,i,t){var o=t[1];n.attr("data-toggle","collapse"),o.$registerToggle(n),e.$on("$destroy",function(){o.$unregisterToggle(n)}),n.on("click",function(){if(!i.disabled){var t=i.bsCollapseToggle&&"bs-collapse-toggle"!==i.bsCollapseToggle?i.bsCollapseToggle:o.$toggles.indexOf(n);o.$setActive(1*t),e.$apply()}})}}}).directive("bsCollapseTarget",["$animate",function(a){return{require:["^?ngModel","^bsCollapse"],link:function(t,i,e,n){var o=n[1];function r(){var t=o.$targets.indexOf(i),e=o.$activeIndexes(),n="removeClass";angular.isArray(e)?-1!==e.indexOf(t)&&(n="addClass"):t===e&&(n="addClass"),a[n](i,o.$options.activeClass)}i.addClass("collapse"),o.$options.animation&&i.addClass(o.$options.animation),o.$registerTarget(i),t.$on("$destroy",function(){o.$unregisterTarget(i)}),o.$viewChangeListeners.push(function(){r()}),r()}}}]),angular.module("mgcrea.ngStrap.aside",["mgcrea.ngStrap.modal"]).provider("$aside",function(){var i=this.defaults={animation:"am-fade-and-slide-right",prefixClass:"aside",prefixEvent:"aside",placement:"right",templateUrl:"aside/aside.tpl.html",contentTemplate:!1,container:!1,element:null,backdrop:!0,keyboard:!0,html:!1,show:!0};this.$get=["$modal",function(n){return function(t){var e=angular.extend({},i,t);return n(e)}}]}).directive("bsAside",["$window","$sce","$aside",function(t,s,l){return{restrict:"EAC",scope:!0,link:function(i,t,o,e){var n={scope:i,element:t,show:!1};angular.forEach(["template","templateUrl","controller","controllerAs","contentTemplate","placement","backdrop","keyboard","html","container","animation"],function(t){angular.isDefined(o[t])&&(n[t]=o[t])});var r=/^(false|0|)$/i;angular.forEach(["backdrop","keyboard","html","container"],function(t){angular.isDefined(o[t])&&r.test(o[t])&&(n[t]=!1)}),angular.forEach(["onBeforeShow","onShow","onBeforeHide","onHide"],function(t){var e="bs"+t.charAt(0).toUpperCase()+t.slice(1);angular.isDefined(o[e])&&(n[t]=i.$eval(o[e]))}),angular.forEach(["title","content"],function(n){o[n]&&o.$observe(n,function(t,e){i[n]=s.trustAsHtml(t)})}),o.bsAside&&i.$watch(o.bsAside,function(t,e){angular.isObject(t)?angular.extend(i,t):i.content=t},!0);var a=l(n);t.on(o.trigger||"click",a.toggle),i.$on("$destroy",function(){a&&a.destroy(),a=n=null})}}}]),angular.module("mgcrea.ngStrap.alert",["mgcrea.ngStrap.modal"]).provider("$alert",function(){var a=this.defaults={animation:"am-fade",prefixClass:"alert",prefixEvent:"alert",placement:null,templateUrl:"alert/alert.tpl.html",container:!1,element:null,backdrop:!1,keyboard:!0,show:!0,duration:!1,type:!1,dismissable:!0};this.$get=["$modal","$timeout",function(o,r){return function(t){var e={},n=angular.extend({},a,t);(e=o(n)).$scope.dismissable=!!n.dismissable,n.type&&(e.$scope.type=n.type);var i=e.show;return n.duration&&(e.show=function(){i(),r(function(){e.hide()},1e3*n.duration)}),e}}]}).directive("bsAlert",["$window","$sce","$alert",function(t,s,l){return{restrict:"EAC",scope:!0,link:function(i,t,o,e){var n={scope:i,element:t,show:!1};angular.forEach(["template","templateUrl","controller","controllerAs","placement","keyboard","html","container","animation","duration","dismissable"],function(t){angular.isDefined(o[t])&&(n[t]=o[t])});var r=/^(false|0|)$/i;angular.forEach(["keyboard","html","container","dismissable"],function(t){angular.isDefined(o[t])&&r.test(o[t])&&(n[t]=!1)}),angular.forEach(["onBeforeShow","onShow","onBeforeHide","onHide"],function(t){var e="bs"+t.charAt(0).toUpperCase()+t.slice(1);angular.isDefined(o[e])&&(n[t]=i.$eval(o[e]))}),i.hasOwnProperty("title")||(i.title=""),angular.forEach(["title","content","type"],function(n){o[n]&&o.$observe(n,function(t,e){i[n]=s.trustAsHtml(t)})}),o.bsAlert&&i.$watch(o.bsAlert,function(t,e){angular.isObject(t)?angular.extend(i,t):i.content=t},!0);var a=l(n);t.on(o.trigger||"click",a.toggle),i.$on("$destroy",function(){a&&a.destroy(),a=n=null})}}}]),angular.module("mgcrea.ngStrap.affix",["mgcrea.ngStrap.helpers.dimensions","mgcrea.ngStrap.helpers.debounce"]).provider("$affix",function(){var l=this.defaults={offsetTop:"auto",inlineStyles:!0};this.$get=["$window","debounce","dimensions",function(r,a,w){var x=angular.element(r.document.body),s=angular.element(r);return function(u,t){var e={},c=angular.extend({},l,t),n=c.target,p=!1,h=0,d=0,f=0,g=0,m=null,v=null,i=u.parent();if(c.offsetParent)if(c.offsetParent.match(/^\d+$/))for(var o=0;o<1*c.offsetParent-1;o++)i=i.parent();else i=angular.element(c.offsetParent);function y(){return n[0]===r?r.pageYOffset:n[0].scrollTop}function b(){return n[0]===r?r.document.body.scrollHeight:n[0].scrollHeight}return e.init=function(){this.$parseOffsets(),d=w.offset(u[0]).top+h,p=!u[0].style.width,n.on("scroll",this.checkPosition),n.on("click",this.checkPositionWithEventLoop),s.on("resize",this.$debouncedOnResize),this.checkPosition(),this.checkPositionWithEventLoop()},e.destroy=function(){n.off("scroll",this.checkPosition),n.off("click",this.checkPositionWithEventLoop),s.off("resize",this.$debouncedOnResize)},e.checkPositionWithEventLoop=function(){setTimeout(e.checkPosition,1)},e.checkPosition=function(){var t,e,n,i,o,r=y(),a=w.offset(u[0]),s=w.height(u[0]),l=(t=v,e=a,n=s,i=y(),o=b(),i<=f?"top":null!==t&&i+t<=e.top?"middle":null!==g&&e.top+n+h>=o-g?"bottom":"middle");m!==l&&("top"===(m=l)?(v=null,p&&u.css("width",""),c.inlineStyles&&(u.css("position",c.offsetParent?"":"relative"),u.css("top",""))):"bottom"===l?(v=c.offsetUnpin?-1*c.offsetUnpin:a.top-r,p&&u.css("width",""),c.inlineStyles&&(u.css("position",c.offsetParent?"":"relative"),u.css("top",c.offsetParent?"":x[0].offsetHeight-g-s-d+"px"))):(v=null,p&&u.css("width",u[0].offsetWidth+"px"),c.inlineStyles&&(u.css("position","fixed"),u.css("top",h+"px"))),u.removeClass("affix affix-top affix-bottom").addClass("affix"+("middle"!==l?"-"+l:"")))},e.$onResize=function(){e.$parseOffsets(),e.checkPosition()},e.$debouncedOnResize=a(e.$onResize,50),e.$parseOffsets=function(){var t=u.css("position");c.inlineStyles&&u.css("position",c.offsetParent?"":"relative"),c.offsetTop&&("auto"===c.offsetTop&&(c.offsetTop="+0"),f=c.offsetTop.match(/^[-+]\d+$/)?(h=1*-c.offsetTop,c.offsetParent?w.offset(i[0]).top+1*c.offsetTop:w.offset(u[0]).top-w.css(u[0],"marginTop",!0)+1*c.offsetTop):1*c.offsetTop),c.offsetBottom&&(g=c.offsetParent&&c.offsetBottom.match(/^[-+]\d+$/)?b()-(w.offset(i[0]).top+w.height(i[0]))+1*c.offsetBottom+1:1*c.offsetBottom),c.inlineStyles&&u.css("position",t)},e.init(),e}}]}).directive("bsAffix",["$affix","$window",function(a,s){return{restrict:"EAC",require:"^?bsAffixTarget",link:function(t,e,n,i){var o={scope:t,target:i?i.$element:angular.element(s)};angular.forEach(["offsetTop","offsetBottom","offsetParent","offsetUnpin","inlineStyles"],function(t){if(angular.isDefined(n[t])){var e=n[t];/true/i.test(e)&&(e=!0),/false/i.test(e)&&(e=!1),o[t]=e}});var r=a(e,o);t.$on("$destroy",function(){r&&r.destroy(),r=o=null})}}}]).directive("bsAffixTarget",function(){return{controller:["$element",function(t){this.$element=t}]}}),angular.module("mgcrea.ngStrap",["mgcrea.ngStrap.modal","mgcrea.ngStrap.aside","mgcrea.ngStrap.alert","mgcrea.ngStrap.button","mgcrea.ngStrap.select","mgcrea.ngStrap.datepicker","mgcrea.ngStrap.timepicker","mgcrea.ngStrap.navbar","mgcrea.ngStrap.tooltip","mgcrea.ngStrap.popover","mgcrea.ngStrap.dropdown","mgcrea.ngStrap.typeahead","mgcrea.ngStrap.scrollspy","mgcrea.ngStrap.affix","mgcrea.ngStrap.tab","mgcrea.ngStrap.collapse"])}(window,document),function(t,e,n){"use strict";angular.module("mgcrea.ngStrap.alert").run(["$templateCache",function(t){t.put("alert/alert.tpl.html",'<div class="alert" ng-class="[type ? \'alert-\' + type : null]"><button type="button" class="close" ng-if="dismissable" ng-click="$hide()">&times;</button> <span ng-if="title"><strong ng-bind="title"></strong>&nbsp;<span ng-bind-html="content"></span></span> <span ng-if="!title" ng-bind-html="content"></span></div>')}]),angular.module("mgcrea.ngStrap.aside").run(["$templateCache",function(t){t.put("aside/aside.tpl.html",'<div class="aside" tabindex="-1" role="dialog"><div class="aside-dialog"><div class="aside-content"><div class="aside-header" ng-show="title"><button type="button" class="close" ng-click="$hide()">&times;</button><h4 class="aside-title" ng-bind="title"></h4></div><div class="aside-body" ng-bind="content"></div><div class="aside-footer"><button type="button" class="btn btn-default" ng-click="$hide()">Close</button></div></div></div></div>')}]),angular.module("mgcrea.ngStrap.datepicker").run(["$templateCache",function(t){t.put("datepicker/datepicker.tpl.html",'<div class="dropdown-menu datepicker" ng-class="\'datepicker-mode-\' + $mode" style="max-width: 320px"><table style="table-layout: fixed; height: 100%; width: 100%"><thead><tr class="text-center"><th><button tabindex="-1" type="button" class="btn btn-default pull-left" ng-click="$selectPane(-1)"><i class="{{$iconLeft}}"></i></button></th><th colspan="{{ rows[0].length - 2 }}"><button tabindex="-1" type="button" class="btn btn-default btn-block text-strong" ng-click="$toggleMode()"><strong style="text-transform: capitalize" ng-bind="title"></strong></button></th><th><button tabindex="-1" type="button" class="btn btn-default pull-right" ng-click="$selectPane(+1)"><i class="{{$iconRight}}"></i></button></th></tr><tr ng-if="showLabels" ng-bind-html="labels"></tr></thead><tbody><tr ng-repeat="(i, row) in rows" height="{{ 100 / rows.length }}%"><td class="text-center" ng-repeat="(j, el) in row"><button tabindex="-1" type="button" class="btn btn-default" style="width: 100%" ng-class="{\'btn-primary\': el.selected, \'btn-info btn-today\': el.isToday && !el.selected}" ng-click="$select(el.date)" ng-disabled="el.disabled"><span ng-class="{\'text-muted\': el.muted}" ng-bind="el.label"></span></button></td></tr></tbody><tfoot><tr><td colspan="{{ rows[0].length }}"><div class="btn-group btn-group-justified" role="group"><div class="btn-group" role="group" ng-if="$hasToday"><button type="button" class="btn btn-default today" ng-click="$setToday()" ng-disabled="isTodayDisabled"><strong style="text-transform: capitalize">Today</strong></button></div><div class="btn-group" role="group" ng-if="$hasClear"><button type="button" class="btn btn-default clear" ng-click="$clear()"><strong style="text-transform: capitalize">Clear</strong></button></div></div></td></tr></tfoot></table></div>')}]),angular.module("mgcrea.ngStrap.dropdown").run(["$templateCache",function(t){t.put("dropdown/dropdown.tpl.html",'<ul tabindex="-1" class="dropdown-menu" role="menu" ng-show="content && content.length"><li role="presentation" ng-class="{divider: item.divider, active: item.active}" ng-repeat="item in content"><a role="menuitem" tabindex="-1" ng-href="{{item.href}}" ng-if="!item.divider && item.href" target="{{item.target || \'\'}}" ng-bind="item.text"></a> <a role="menuitem" tabindex="-1" href="javascript:void(0)" ng-if="!item.divider && item.click" ng-click="$eval(item.click);$hide()" ng-bind="item.text"></a></li></ul>')}]),angular.module("mgcrea.ngStrap.modal").run(["$templateCache",function(t){t.put("modal/modal.tpl.html",'<div class="modal" tabindex="-1" role="dialog" aria-hidden="true"><div class="modal-dialog"><div class="modal-content"><div class="modal-header" ng-show="title"><button type="button" class="close" aria-label="Close" ng-click="$hide()"><span aria-hidden="true">&times;</span></button><h4 class="modal-title" ng-bind="title"></h4></div><div class="modal-body" ng-bind="content"></div><div class="modal-footer"><button type="button" class="btn btn-default" ng-click="$hide()">Close</button></div></div></div></div>')}]),angular.module("mgcrea.ngStrap.popover").run(["$templateCache",function(t){t.put("popover/popover.tpl.html",'<div class="popover" tabindex="-1"><div class="arrow"></div><h3 class="popover-title" ng-bind="title" ng-show="title"></h3><div class="popover-content" ng-bind="content"></div></div>')}]),angular.module("mgcrea.ngStrap.select").run(["$templateCache",function(t){t.put("select/select.tpl.html",'<ul tabindex="-1" class="select dropdown-menu" ng-show="$isVisible()" role="select"><li ng-if="$showAllNoneButtons"><div class="btn-group" style="margin-bottom: 5px; margin-left: 5px"><button type="button" class="btn btn-default btn-xs" ng-click="$selectAll()">{{$allText}}</button> <button type="button" class="btn btn-default btn-xs" ng-click="$selectNone()">{{$noneText}}</button></div></li><li role="presentation" ng-repeat="match in $matches" ng-class="{active: $isActive($index)}"><a style="cursor: default" role="menuitem" tabindex="-1" ng-click="$select($index, $event)"><i class="{{$iconCheckmark}} pull-right" ng-if="$isMultiple && $isActive($index)"></i> <span ng-bind="match.label"></span></a></li></ul>')}]),angular.module("mgcrea.ngStrap.timepicker").run(["$templateCache",function(t){t.put("timepicker/timepicker.tpl.html",'<div class="dropdown-menu timepicker" style="min-width: 0px;width: auto"><table height="100%"><thead><tr class="text-center"><th><button tabindex="-1" type="button" class="btn btn-default pull-left" ng-click="$arrowAction(-1, 0)"><i class="{{ $iconUp }}"></i></button></th><th>&nbsp;</th><th><button tabindex="-1" type="button" class="btn btn-default pull-left" ng-click="$arrowAction(-1, 1)"><i class="{{ $iconUp }}"></i></button></th><th ng-if="showSeconds">&nbsp;</th><th ng-if="showSeconds"><button tabindex="-1" type="button" class="btn btn-default pull-left" ng-click="$arrowAction(-1, 2)"><i class="{{ $iconUp }}"></i></button></th></tr></thead><tbody><tr ng-repeat="(i, row) in rows"><td class="text-center"><button tabindex="-1" style="width: 100%" type="button" class="btn btn-default" ng-class="{\'btn-primary\': row[0].selected}" ng-click="$select(row[0].date, 0)" ng-disabled="row[0].disabled"><span ng-class="{\'text-muted\': row[0].muted}" ng-bind="row[0].label"></span></button></td><td><span ng-bind="i == midIndex ? timeSeparator : \' \'"></span></td><td class="text-center"><button tabindex="-1" ng-if="row[1].date" style="width: 100%" type="button" class="btn btn-default" ng-class="{\'btn-primary\': row[1].selected}" ng-click="$select(row[1].date, 1)" ng-disabled="row[1].disabled"><span ng-class="{\'text-muted\': row[1].muted}" ng-bind="row[1].label"></span></button></td><td ng-if="showSeconds"><span ng-bind="i == midIndex ? timeSeparator : \' \'"></span></td><td ng-if="showSeconds" class="text-center"><button tabindex="-1" ng-if="row[2].date" style="width: 100%" type="button" class="btn btn-default" ng-class="{\'btn-primary\': row[2].selected}" ng-click="$select(row[2].date, 2)" ng-disabled="row[2].disabled"><span ng-class="{\'text-muted\': row[2].muted}" ng-bind="row[2].label"></span></button></td><td ng-if="showAM">&nbsp;</td><td ng-if="showAM"><button tabindex="-1" ng-show="i == midIndex - !isAM * 1" style="width: 100%" type="button" ng-class="{\'btn-primary\': !!isAM}" class="btn btn-default" ng-click="$switchMeridian()" ng-disabled="el.disabled">AM</button> <button tabindex="-1" ng-show="i == midIndex + 1 - !isAM * 1" style="width: 100%" type="button" ng-class="{\'btn-primary\': !isAM}" class="btn btn-default" ng-click="$switchMeridian()" ng-disabled="el.disabled">PM</button></td></tr></tbody><tfoot><tr class="text-center"><th><button tabindex="-1" type="button" class="btn btn-default pull-left" ng-click="$arrowAction(1, 0)"><i class="{{ $iconDown }}"></i></button></th><th>&nbsp;</th><th><button tabindex="-1" type="button" class="btn btn-default pull-left" ng-click="$arrowAction(1, 1)"><i class="{{ $iconDown }}"></i></button></th><th ng-if="showSeconds">&nbsp;</th><th ng-if="showSeconds"><button ng-if="showSeconds" tabindex="-1" type="button" class="btn btn-default pull-left" ng-click="$arrowAction(1, 2)"><i class="{{ $iconDown }}"></i></button></th></tr></tfoot></table></div>')}]),angular.module("mgcrea.ngStrap.tooltip").run(["$templateCache",function(t){t.put("tooltip/tooltip.tpl.html",'<div class="tooltip in" ng-show="title"><div class="tooltip-arrow"></div><div class="tooltip-inner" ng-bind="title"></div></div>')}]),angular.module("mgcrea.ngStrap.tab").run(["$templateCache",function(t){t.put("tab/tab.tpl.html",'<ul class="nav" ng-class="$navClass" role="tablist"><li role="presentation" ng-repeat="$pane in $panes track by $index" ng-class="[ $isActive($pane, $index) ? $activeClass : \'\', $pane.disabled ? \'disabled\' : \'\' ]"><a role="tab" data-toggle="tab" ng-click="!$pane.disabled && $setActive($pane.name || $index)" data-index="{{ $index }}" ng-bind-html="$pane.title" aria-controls="$pane.title" href=""></a></li></ul><div ng-transclude class="tab-content"></div>')}]),angular.module("mgcrea.ngStrap.typeahead").run(["$templateCache",function(t){t.put("typeahead/typeahead.tpl.html",'<ul tabindex="-1" class="typeahead dropdown-menu" ng-show="$isVisible()" role="select"><li role="presentation" ng-repeat="match in $matches" ng-class="{active: $index == $activeIndex}"><a role="menuitem" tabindex="-1" ng-click="$select($index, $event)" ng-bind="match.label"></a></li></ul>')}])}(window,document),function(){"use strict";var $={TAB:9,ENTER:13,ESC:27,SPACE:32,LEFT:37,UP:38,RIGHT:39,DOWN:40,SHIFT:16,CTRL:17,ALT:18,PAGE_UP:33,PAGE_DOWN:34,HOME:36,END:35,BACKSPACE:8,DELETE:46,COMMAND:91,MAP:{91:"COMMAND",8:"BACKSPACE",9:"TAB",13:"ENTER",16:"SHIFT",17:"CTRL",18:"ALT",19:"PAUSEBREAK",20:"CAPSLOCK",27:"ESC",32:"SPACE",33:"PAGE_UP",34:"PAGE_DOWN",35:"END",36:"HOME",37:"LEFT",38:"UP",39:"RIGHT",40:"DOWN",43:"+",44:"PRINTSCREEN",45:"INSERT",46:"DELETE",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",59:";",61:"=",65:"A",66:"B",67:"C",68:"D",69:"E",70:"F",71:"G",72:"H",73:"I",74:"J",75:"K",76:"L",77:"M",78:"N",79:"O",80:"P",81:"Q",82:"R",83:"S",84:"T",85:"U",86:"V",87:"W",88:"X",89:"Y",90:"Z",96:"0",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9",106:"*",107:"+",109:"-",110:".",111:"/",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NUMLOCK",145:"SCROLLLOCK",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},isControl:function(t){switch(t.which){case $.COMMAND:case $.SHIFT:case $.CTRL:case $.ALT:return!0}return!!(t.metaKey||t.ctrlKey||t.altKey)},isFunctionKey:function(t){return 112<=(t=t.which?t.which:t)&&t<=123},isVerticalMovement:function(t){return~[$.UP,$.DOWN].indexOf(t)},isHorizontalMovement:function(t){return~[$.LEFT,$.RIGHT,$.BACKSPACE,$.DELETE].indexOf(t)},toSeparator:function(t){var e={ENTER:"\n",TAB:"\t",SPACE:" "}[t];return e||($[t]?void 0:t)}};void 0===angular.element.prototype.querySelectorAll&&(angular.element.prototype.querySelectorAll=function(t){return angular.element(this[0].querySelectorAll(t))}),void 0===angular.element.prototype.closest&&(angular.element.prototype.closest=function(t){for(var e=this[0],n=e.matches||e.webkitMatchesSelector||e.mozMatchesSelector||e.msMatchesSelector;e;){if(n.bind(e)(t))return e;e=e.parentElement}return!1});var t=0,e=angular.module("ui.select",[]).constant("uiSelectConfig",{theme:"bootstrap",searchEnabled:!0,sortable:!1,placeholder:"",refreshDelay:1e3,closeOnSelect:!0,skipFocusser:!1,dropdownPosition:"auto",removeSelected:!0,resetSearchInput:!0,generateId:function(){return t++},appendToBody:!1}).service("uiSelectMinErr",function(){var e=angular.$$minErr("ui.select");return function(){var t=e.apply(this,arguments).message.replace(new RegExp("\nhttp://errors.angularjs.org/.*"),"");return new Error(t)}}).directive("uisTranscludeAppend",function(){return{link:function(t,e,n,i,o){o(t,function(t){e.append(t)})}}}).filter("highlight",function(){return function(t,e){return e&&t?(""+t).replace(new RegExp((""+e).replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1"),"gi"),'<span class="ui-select-highlight">$&</span>'):t}}).factory("uisOffset",["$document","$window",function(n,i){return function(t){var e=t[0].getBoundingClientRect();return{width:e.width||t.prop("offsetWidth"),height:e.height||t.prop("offsetHeight"),top:e.top+(i.pageYOffset||n[0].documentElement.scrollTop),left:e.left+(i.pageXOffset||n[0].documentElement.scrollLeft)}}}]);e.directive("uiSelectChoices",["uiSelectConfig","uisRepeatParser","uiSelectMinErr","$compile","$window",function(l,u,c,t,p){return{restrict:"EA",require:"^uiSelect",replace:!0,transclude:!0,templateUrl:function(t){return t.addClass("ui-select-choices"),(t.parent().attr("theme")||l.theme)+"/choices.tpl.html"},compile:function(t,e){if(!e.repeat)throw c("repeat","Expected 'repeat' expression.");var o=e.groupBy,r=e.groupFilter;if(o){var n=t.querySelectorAll(".ui-select-choices-group");if(1!==n.length)throw c("rows","Expected 1 .ui-select-choices-group but got '{0}'.",n.length);n.attr("ng-repeat",u.getGroupNgRepeatExpression())}var i=u.parse(e.repeat),a=t.querySelectorAll(".ui-select-choices-row");if(1!==a.length)throw c("rows","Expected 1 .ui-select-choices-row but got '{0}'.",a.length);a.attr("ng-repeat",i.repeatExpression(o)).attr("ng-if","$select.open");var s=t.querySelectorAll(".ui-select-choices-row-inner");if(1!==s.length)throw c("rows","Expected 1 .ui-select-choices-row-inner but got '{0}'.",s.length);return s.attr("uis-transclude-append",""),(p.document.addEventListener?a:s).attr("ng-click","$select.select("+i.itemName+",$select.skipFocusser,$event)"),function(e,t,n,i){i.parseRepeatAttr(n.repeat,o,r),i.disableChoiceExpression=n.uiDisableChoice,i.onHighlightCallback=n.onHighlight,i.dropdownPosition=n.position?n.position.toLowerCase():l.dropdownPosition,e.$on("$destroy",function(){a.remove()}),e.$watch("$select.search",function(t){t&&!i.open&&i.multiple&&i.activate(!1,!0),i.activeIndex=i.tagging.isActivated?-1:0,!n.minimumInputLength||i.search.length>=n.minimumInputLength?i.refresh(n.refresh):i.items=[]}),n.$observe("refreshDelay",function(){var t=e.$eval(n.refreshDelay);i.refreshDelay=void 0!==t?t:l.refreshDelay})}}}}]),e.controller("uiSelectCtrl",["$scope","$element","$timeout","$filter","$$uisDebounce","uisRepeatParser","uiSelectMinErr","uiSelectConfig","$parse","$injector","$window",function(a,s,l,t,e,r,u,n,c,i,o){var p,h=this,d="";if(h.placeholder=n.placeholder,h.searchEnabled=n.searchEnabled,h.sortable=n.sortable,h.refreshDelay=n.refreshDelay,h.paste=n.paste,h.resetSearchInput=n.resetSearchInput,h.removeSelected=n.removeSelected,h.closeOnSelect=!0,h.skipFocusser=!1,h.search=d,h.activeIndex=0,h.items=[],h.open=!1,h.focus=!1,h.disabled=!1,h.selected=void 0,h.dropdownPosition="auto",h.focusser=void 0,h.multiple=void 0,h.disableChoiceExpression=void 0,h.tagging={isActivated:!1,fct:void 0},h.taggingTokens={isActivated:!1,tokens:void 0},h.lockChoiceExpression=void 0,h.clickTriggeredSelect=!1,h.$filter=t,h.$element=s,h.$animate=function(){try{return i.get("$animate")}catch(t){return null}}(),h.searchInput=s.querySelectorAll("input.ui-select-search"),1!==h.searchInput.length)throw u("searchInput","Expected 1 input.ui-select-search but got '{0}'.",h.searchInput.length);function f(){h.resetSearchInput&&(h.search=d,h.selected&&h.items.length&&!h.multiple&&(h.activeIndex=function(t,e,n){if(t.findIndex)return t.findIndex(e,n);for(var i,o=Object(t),r=o.length>>>0,a=0;a<r;a++)if(i=o[a],e.call(n,i,a,o))return a;return-1}(h.items,function(t){return angular.equals(this,t)},h.selected)))}h.isEmpty=function(){return angular.isUndefined(h.selected)||null===h.selected||""===h.selected||h.multiple&&0===h.selected.length},h.activate=function(n,t){if(h.disabled||h.open)h.open&&!h.searchEnabled&&h.close();else{t||f(),a.$broadcast("uis:activate"),h.open=!0,h.activeIndex=h.activeIndex>=h.items.length?0:h.activeIndex,-1===h.activeIndex&&!1!==h.taggingLabel&&(h.activeIndex=0);var i=s.querySelectorAll(".ui-select-choices-content"),o=s.querySelectorAll(".ui-select-search");if(h.$animate&&h.$animate.on&&h.$animate.enabled(i[0])){var r=function(t,e){"start"===e&&0===h.items.length?(h.$animate.off("removeClass",o[0],r),l(function(){h.focusSearchInput(n)})):"close"===e&&(h.$animate.off("enter",i[0],r),l(function(){h.focusSearchInput(n)}))};0<h.items.length?h.$animate.on("enter",i[0],r):h.$animate.on("removeClass",o[0],r)}else l(function(){h.focusSearchInput(n),!h.tagging.isActivated&&1<h.items.length&&w()})}},h.focusSearchInput=function(t){h.search=t||h.search,h.searchInput[0].focus()},h.findGroupByName=function(e){return h.groups&&h.groups.filter(function(t){return t.name===e})[0]},h.parseRepeatAttr=function(t,n,o){h.setItemsFn=n?function(t){var i=a.$eval(n);if(h.groups=[],angular.forEach(t,function(t){var e=angular.isFunction(i)?i(t):t[i],n=h.findGroupByName(e);n?n.items.push(t):h.groups.push({name:e,items:[t]})}),o){var e=a.$eval(o);angular.isFunction(e)?h.groups=e(h.groups):angular.isArray(e)&&(h.groups=function(t,e){var n,i,o=[];for(n=0;n<e.length;n++)for(i=0;i<t.length;i++)t[i].name==[e[n]]&&o.push(t[i]);return o}(h.groups,e))}h.items=[],h.groups.forEach(function(t){h.items=h.items.concat(t.items)})}:function(t){h.items=t},h.parserResult=r.parse(t),h.isGrouped=!!n,h.itemProperty=h.parserResult.itemName;var e=h.parserResult.source,i=function(){var n=e(a);a.$uisSource=Object.keys(n).map(function(t){var e={};return e[h.parserResult.keyName]=t,e.value=n[t],e})};h.parserResult.keyName&&(i(),h.parserResult.source=c("$uisSource"+h.parserResult.filters),a.$watch(e,function(t,e){t!==e&&i()},!0)),h.refreshItems=function(t){t=t||h.parserResult.source(a);var n=h.selected;if(h.isEmpty()||angular.isArray(n)&&!n.length||!h.multiple||!h.removeSelected)h.setItemsFn(t);else if(null!=t){var e=t.filter(function(e){return angular.isArray(n)?n.every(function(t){return!angular.equals(e,t)}):!angular.equals(e,n)});h.setItemsFn(e)}"auto"!==h.dropdownPosition&&"up"!==h.dropdownPosition||a.calculateDropdownPos(),a.$broadcast("uis:refresh")},a.$watchCollection(h.parserResult.source,function(t){if(null==t)h.items=[];else{if(!angular.isArray(t))throw u("items","Expected an array but got '{0}'.",t);h.refreshItems(t),angular.isDefined(h.ngModel.$modelValue)&&(h.ngModel.$modelValue=null)}})},h.refresh=function(t){void 0!==t&&(p&&l.cancel(p),p=l(function(){a.$eval(t)},h.refreshDelay))},h.isActive=function(t){if(!h.open)return!1;var e=h.items.indexOf(t[h.itemProperty]),n=e==h.activeIndex;return!(!n||e<0)&&(n&&!angular.isUndefined(h.onHighlightCallback)&&t.$eval(h.onHighlightCallback),n)};var g=function(e){return h.selected&&angular.isArray(h.selected)&&0<h.selected.filter(function(t){return angular.equals(t,e)}).length},m=[];function v(t){return-1<m.indexOf(t)}h.isDisabled=function(t){if(h.open){var e,n,i,o=t[h.itemProperty],r=!1;if(0<=h.items.indexOf(o)&&(angular.isDefined(h.disableChoiceExpression)||h.multiple)){if(o.isTag)return!1;h.multiple&&(r=g(o)),!r&&angular.isDefined(h.disableChoiceExpression)&&(r=!!t.$eval(h.disableChoiceExpression)),e=o,n=r,i=m.indexOf(e),n&&-1===i&&m.push(e),!n&&-1<i&&m.splice(i,1)}return r}},h.select=function(t,e,n){if(void 0===t||!v(t)){if(!h.items&&!h.search&&!h.tagging.isActivated)return;if(!t||!v(t)){if(h.clickTriggeredSelect=!1,n&&"click"===n.type&&t&&(h.clickTriggeredSelect=!0),h.tagging.isActivated&&!1===h.clickTriggeredSelect){if(!1===h.taggingLabel)if(h.activeIndex<0){if(void 0===t&&(t=void 0!==h.tagging.fct?h.tagging.fct(h.search):h.search),!t||angular.equals(h.items[0],t))return}else t=h.items[h.activeIndex];else if(0===h.activeIndex){if(void 0===t)return;if(void 0!==h.tagging.fct&&"string"==typeof t){if(!(t=h.tagging.fct(t)))return}else"string"==typeof t&&(t=t.replace(h.taggingLabel,"").trim())}if(g(t))return void h.close(e)}f(),a.$broadcast("uis:select",t);var i={};i[h.parserResult.itemName]=t,l(function(){h.onSelectCallback(a,{$item:t,$model:h.parserResult.modelMapper(a,i)})}),h.closeOnSelect&&h.close(e)}}},h.close=function(t){h.open&&(h.ngModel&&h.ngModel.$setTouched&&h.ngModel.$setTouched(),h.open=!1,f(),a.$broadcast("uis:close",t))},h.setFocus=function(){h.focus||h.focusInput[0].focus()},h.clear=function(t){h.select(void 0),t.stopPropagation(),l(function(){h.focusser[0].focus()},0,!1)},h.toggle=function(t){h.open?(h.close(),t.preventDefault(),t.stopPropagation()):h.activate()},h.isLocked=function(){return!1},a.$watch(function(){return angular.isDefined(h.lockChoiceExpression)&&""!==h.lockChoiceExpression},function(t){if(!t)return;var r=[];h.isLocked=function(t,e){var n,i=!1,o=h.selected[e];return o&&(t?(i=!!t.$eval(h.lockChoiceExpression),function(t,e){var n=r.indexOf(t);e&&-1===n&&r.push(t);!e&&-1<n&&r.splice(n,0)}(o,i)):(n=o,i=-1<r.indexOf(n))),i}});var y=null,b=!1;function w(){var t=s.querySelectorAll(".ui-select-choices-content"),e=t.querySelectorAll(".ui-select-choices-row");if(e.length<1)throw u("choices","Expected multiple .ui-select-choices-row but got '{0}'.",e.length);if(!(h.activeIndex<0)){var n=e[h.activeIndex],i=n.offsetTop+n.clientHeight-t[0].scrollTop,o=t[0].offsetHeight;o<i?t[0].scrollTop+=i-o:i<n.clientHeight&&(h.isGrouped&&0===h.activeIndex?t[0].scrollTop=0:t[0].scrollTop-=n.clientHeight-i)}}h.sizeSearchInput=function(){var n=h.searchInput[0],t=h.searchInput.parent().parent()[0],e=function(){return t.clientWidth*!!n.offsetParent},i=function(t){if(0===t)return!1;var e=t-n.offsetLeft-10;return e<50&&(e=t),h.searchInput.css("width",e+"px"),!0};h.searchInput.css("width","10px"),l(function(){null!==y||i(e())||(y=a.$watch(function(){b||(b=!0,a.$$postDigest(function(){b=!1,i(e())&&(y(),y=null)}))},angular.noop))})},h.searchInput.on("keydown",function(n){var i=n.which;~[$.ENTER,$.ESC].indexOf(i)&&(n.preventDefault(),n.stopPropagation()),a.$apply(function(){var t=!1;if((0<h.items.length||h.tagging.isActivated)&&(function(t){var e=!0;switch(t){case $.DOWN:!h.open&&h.multiple?h.activate(!1,!0):h.activeIndex<h.items.length-1&&h.activeIndex++;break;case $.UP:!h.open&&h.multiple?h.activate(!1,!0):(0<h.activeIndex||0===h.search.length&&h.tagging.isActivated&&-1<h.activeIndex)&&h.activeIndex--;break;case $.TAB:h.multiple&&!h.open||h.select(h.items[h.activeIndex],!0);break;case $.ENTER:h.open&&(h.tagging.isActivated||0<=h.activeIndex)?h.select(h.items[h.activeIndex],h.skipFocusser):h.activate(!1,!0);break;case $.ESC:h.close();break;default:e=!1}return e}(i)||h.searchEnabled||(n.preventDefault(),n.stopPropagation()),h.taggingTokens.isActivated)){for(var e=0;e<h.taggingTokens.tokens.length;e++)h.taggingTokens.tokens[e]===$.MAP[n.keyCode]&&0<h.search.length&&(t=!0);t&&l(function(){h.searchInput.triggerHandler("tagged");var t=h.search.replace($.MAP[n.keyCode],"").trim();h.tagging.fct&&(t=h.tagging.fct(t)),t&&h.select(t,!0)})}}),$.isVerticalMovement(i)&&0<h.items.length&&w(),i!==$.ENTER&&i!==$.ESC||(n.preventDefault(),n.stopPropagation())}),h.searchInput.on("paste",function(t){var e;if(e=window.clipboardData&&window.clipboardData.getData?window.clipboardData.getData("Text"):(t.originalEvent||t).clipboardData.getData("text/plain"),(e=h.search+e)&&0<e.length)if(h.taggingTokens.isActivated){for(var n=[],i=0;i<h.taggingTokens.tokens.length;i++){var o=$.toSeparator(h.taggingTokens.tokens[i])||h.taggingTokens.tokens[i];if(-1<e.indexOf(o)){n=e.split(o);break}}0===n.length&&(n=[e]);var r=h.search;angular.forEach(n,function(t){var e=h.tagging.fct?h.tagging.fct(t):t;e&&h.select(e,!0)}),h.search=r||d,t.preventDefault(),t.stopPropagation()}else h.paste&&(h.paste(e),h.search=d,t.preventDefault(),t.stopPropagation())}),h.searchInput.on("tagged",function(){l(function(){f()})});var x=e(function(){h.sizeSearchInput()},50);angular.element(o).bind("resize",x),a.$on("$destroy",function(){h.searchInput.off("keyup keydown tagged blur paste"),angular.element(o).off("resize",x)})}]),e.directive("uiSelect",["$document","uiSelectConfig","uiSelectMinErr","uisOffset","$compile","$parse","$timeout",function(v,y,b,w,t,x,$){return{restrict:"EA",templateUrl:function(t,e){return(e.theme||y.theme)+(angular.isDefined(e.multiple)?"/select-multiple.tpl.html":"/select.tpl.html")},replace:!0,transclude:!0,require:["uiSelect","^ngModel"],scope:!0,controller:"uiSelectCtrl",controllerAs:"$select",compile:function(t,e){var n=/{(.*)}\s*{(.*)}/.exec(e.ngClass);if(n){var i="{"+n[1]+", "+n[2]+"}";e.ngClass=i,t.attr("ng-class",i)}return angular.isDefined(e.multiple)?t.append("<ui-select-multiple/>").removeAttr("multiple"):t.append("<ui-select-single/>"),e.inputId&&(t.querySelectorAll("input.ui-select-search")[0].id=e.inputId),function(i,r,e,t,n){var a=t[0],o=t[1];function s(t){if(a.open){if(!(window.jQuery?window.jQuery.contains(r[0],t.target):r[0].contains(t.target))&&!a.clickTriggeredSelect){var e;if(a.skipFocusser)e=!0;else{var n=angular.element(t.target).controller("uiSelect");(e=n&&n!==a)||(e=~["input","button","textarea","select"].indexOf(t.target.tagName.toLowerCase()))}a.close(e),i.$digest()}a.clickTriggeredSelect=!1}}a.generatedId=y.generateId(),a.baseTitle=e.title||"Select box",a.focusserTitle=a.baseTitle+" focus",a.focusserId="focusser-"+a.generatedId,a.closeOnSelect=angular.isDefined(e.closeOnSelect)?x(e.closeOnSelect)():y.closeOnSelect,i.$watch("skipFocusser",function(){var t=i.$eval(e.skipFocusser);a.skipFocusser=void 0!==t?t:y.skipFocusser}),a.onSelectCallback=x(e.onSelect),a.onRemoveCallback=x(e.onRemove),a.ngModel=o,a.choiceGrouped=function(t){return a.isGrouped&&t&&t.name},e.tabindex&&e.$observe("tabindex",function(t){a.focusInput.attr("tabindex",t),r.removeAttr("tabindex")}),i.$watch(function(){return i.$eval(e.searchEnabled)},function(t){a.searchEnabled=void 0!==t?t:y.searchEnabled}),i.$watch("sortable",function(){var t=i.$eval(e.sortable);a.sortable=void 0!==t?t:y.sortable}),e.$observe("limit",function(){a.limit=angular.isDefined(e.limit)?parseInt(e.limit,10):void 0}),i.$watch("removeSelected",function(){var t=i.$eval(e.removeSelected);a.removeSelected=void 0!==t?t:y.removeSelected}),e.$observe("disabled",function(){a.disabled=void 0!==e.disabled&&e.disabled}),e.$observe("resetSearchInput",function(){var t=i.$eval(e.resetSearchInput);a.resetSearchInput=void 0===t||t}),e.$observe("paste",function(){a.paste=i.$eval(e.paste)}),e.$observe("tagging",function(){if(void 0!==e.tagging){var t=i.$eval(e.tagging);a.tagging={isActivated:!0,fct:!0!==t?t:void 0}}else a.tagging={isActivated:!1,fct:void 0}}),e.$observe("taggingLabel",function(){void 0!==e.tagging&&("false"===e.taggingLabel?a.taggingLabel=!1:a.taggingLabel=void 0!==e.taggingLabel?e.taggingLabel:"(new)")}),e.$observe("taggingTokens",function(){if(void 0!==e.tagging){var t=void 0!==e.taggingTokens?e.taggingTokens.split("|"):[",","ENTER"];a.taggingTokens={isActivated:!0,tokens:t}}}),angular.isDefined(e.autofocus)&&$(function(){a.setFocus()}),angular.isDefined(e.focusOn)&&i.$on(e.focusOn,function(){$(function(){a.setFocus()})}),v.on("click",s),i.$on("$destroy",function(){v.off("click",s)}),n(i,function(t){var e=angular.element("<div>").append(t),n=e.querySelectorAll(".ui-select-match");if(n.removeAttr("ui-select-match"),n.removeAttr("data-ui-select-match"),1!==n.length)throw b("transcluded","Expected 1 .ui-select-match but got '{0}'.",n.length);r.querySelectorAll(".ui-select-match").replaceWith(n);var i=e.querySelectorAll(".ui-select-choices");if(i.removeAttr("ui-select-choices"),i.removeAttr("data-ui-select-choices"),1!==i.length)throw b("transcluded","Expected 1 .ui-select-choices but got '{0}'.",i.length);r.querySelectorAll(".ui-select-choices").replaceWith(i);var o=e.querySelectorAll(".ui-select-no-choice");o.removeAttr("ui-select-no-choice"),o.removeAttr("data-ui-select-no-choice"),1==o.length&&r.querySelectorAll(".ui-select-no-choice").replaceWith(o)});var l=i.$eval(e.appendToBody);(void 0!==l?l:y.appendToBody)&&(i.$watch("$select.open",function(t){var e;t?(e=w(r),(u=angular.element('<div class="ui-select-placeholder"></div>'))[0].style.width=e.width+"px",u[0].style.height=e.height+"px",r.after(u),c=r[0].style.width,v.find("body").append(r),r[0].style.position="absolute",r[0].style.left=e.left+"px",r[0].style.top=e.top+"px",r[0].style.width=e.width+"px"):p()}),i.$on("$destroy",function(){p()}));var u=null,c="";function p(){null!==u&&(u.replaceWith(r),u=null,r[0].style.position="",r[0].style.left="",r[0].style.top="",r[0].style.width=c,a.setFocus())}var h=null,d="direction-up";i.$watch("$select.open",function(){"auto"!==a.dropdownPosition&&"up"!==a.dropdownPosition||i.calculateDropdownPos()});var f=function(t,e){t=t||w(r),e=e||w(h),h[0].style.position="absolute",h[0].style.top=-1*e.height+"px",r.addClass(d)},g=function(){$(function(){if("up"===a.dropdownPosition)f();else{r.removeClass(d);var t=w(r),e=w(h),n=v[0].documentElement.scrollTop||v[0].body.scrollTop;t.top+t.height+e.height>n+v[0].documentElement.clientHeight?f(t,e):(i=t,o=e,r.removeClass(d),i=i||w(r),o=o||w(h),h[0].style.position="",h[0].style.top="")}var i,o;h[0].style.opacity=1})},m=!1;i.calculateDropdownPos=function(){if(a.open){if(0===(h=angular.element(r).querySelectorAll(".ui-select-dropdown")).length)return;if(""!==a.search||m||(h[0].style.opacity=0,m=!0),!w(h).height&&a.$animate&&a.$animate.on&&a.$animate.enabled(h)){var n=!0;a.$animate.on("enter",h,function(t,e){"close"===e&&n&&(g(),n=!1)})}else g()}else{if(null===h||0===h.length)return;h[0].style.opacity=0,h[0].style.position="",h[0].style.top="",r.removeClass(d)}}}}}}]),e.directive("uiSelectMatch",["uiSelectConfig",function(r){return{restrict:"EA",require:"^uiSelect",replace:!0,transclude:!0,templateUrl:function(t){t.addClass("ui-select-match");var e=t.parent();return(n(e,"theme")||r.theme)+(angular.isDefined(n(e,"multiple"))?"/match-multiple.tpl.html":"/match.tpl.html")},link:function(t,e,n,i){function o(t){i.allowClear=!!angular.isDefined(t)&&(""===t||"true"===t.toLowerCase())}i.lockChoiceExpression=n.uiLockChoice,n.$observe("placeholder",function(t){i.placeholder=void 0!==t?t:r.placeholder}),n.$observe("allowClear",o),o(n.allowClear),i.multiple&&i.sizeSearchInput()}};function n(t,e){return t[0].hasAttribute(e)?t.attr(e):t[0].hasAttribute("data-"+e)?t.attr("data-"+e):t[0].hasAttribute("x-"+e)?t.attr("x-"+e):void 0}}]),e.directive("uiSelectMultiple",["uiSelectMinErr","$timeout",function(o,r){return{restrict:"EA",require:["^uiSelect","^ngModel"],controller:["$scope","$timeout",function(i,o){var t,r=this,a=i.$select;angular.isUndefined(a.selected)&&(a.selected=[]),i.$evalAsync(function(){t=i.ngModel}),r.activeMatchIndex=-1,r.updateModel=function(){t.$setViewValue(Date.now()),r.refreshComponent()},r.refreshComponent=function(){a.refreshItems&&a.refreshItems(),a.sizeSearchInput&&a.sizeSearchInput()},r.removeChoice=function(t){if(a.isLocked(null,t))return!1;var e=a.selected[t],n={};return n[a.parserResult.itemName]=e,a.selected.splice(t,1),r.activeMatchIndex=-1,a.sizeSearchInput(),o(function(){a.onRemoveCallback(i,{$item:e,$model:a.parserResult.modelMapper(i,n)})}),r.updateModel(),!0},r.getPlaceholder=function(){if(!a.selected||!a.selected.length)return a.placeholder}}],controllerAs:"$selectMultiple",link:function(l,t,e,n){var u=n[0],i=l.ngModel=n[1],c=l.$selectMultiple;function p(t){return void 0!==t&&void 0!==u.search&&0<t.filter(function(t){return void 0!==u.search.toUpperCase()&&void 0!==t&&t.toUpperCase()===u.search.toUpperCase()}).length}function h(t,e){var n=-1;if(angular.isArray(t))for(var i=angular.copy(t),o=0;o<i.length;o++)if(void 0===u.tagging.fct)i[o]+" "+u.taggingLabel===e&&(n=o);else{var r=i[o];angular.isObject(r)&&(r.isTag=!0),angular.equals(r,e)&&(n=o)}return n}u.multiple=!0,u.focusInput=u.searchInput,i.$isEmpty=function(t){return!t||0===t.length},i.$parsers.unshift(function(){for(var t,e={},n=[],i=u.selected.length-1;0<=i;i--)(e={})[u.parserResult.itemName]=u.selected[i],t=u.parserResult.modelMapper(l,e),n.unshift(t);return n}),i.$formatters.unshift(function(t){var r,e=u.parserResult&&u.parserResult.source(l,{$select:{search:""}}),a={};if(!e)return t;var s=[],n=function(t,e){if(t&&t.length){for(var n=t.length-1;0<=n;n--){if(a[u.parserResult.itemName]=t[n],r=u.parserResult.modelMapper(l,a),u.parserResult.trackByExp){var i=/(\w*)\./.exec(u.parserResult.trackByExp),o=/\.([^\s]+)/.exec(u.parserResult.trackByExp);if(i&&0<i.length&&i[1]==u.parserResult.itemName&&o&&0<o.length&&r[o[1]]==e[o[1]])return s.unshift(t[n]),!0}if(angular.equals(r,e))return s.unshift(t[n]),!0}return!1}};if(!t)return s;for(var i=t.length-1;0<=i;i--)n(u.selected,t[i])||n(e,t[i])||s.unshift(t[i]);return s}),l.$watchCollection(function(){return i.$modelValue},function(t,e){e!=t&&(angular.isDefined(i.$modelValue)&&(i.$modelValue=null),c.refreshComponent())}),i.$render=function(){if(!angular.isArray(i.$viewValue)){if(!angular.isUndefined(i.$viewValue)&&null!==i.$viewValue)throw o("multiarr","Expected model value to be array but got '{0}'",i.$viewValue);i.$viewValue=[]}u.selected=i.$viewValue,c.refreshComponent(),l.$evalAsync()},l.$on("uis:select",function(t,e){u.selected.length>=u.limit||(u.selected.push(e),c.updateModel())}),l.$on("uis:activate",function(){c.activeMatchIndex=-1}),l.$watch("$select.disabled",function(t,e){e&&!t&&u.sizeSearchInput()}),u.searchInput.on("keydown",function(e){var n=e.which;l.$apply(function(){var t=!1;$.isHorizontalMovement(n)&&(t=function(t){var e=(l=u.searchInput[0],angular.isNumber(l.selectionStart)?l.selectionStart:l.value.length),n=u.selected.length,i=n-1,o=c.activeMatchIndex,r=c.activeMatchIndex+1,a=c.activeMatchIndex-1,s=o;var l;if(0<e||u.search.length&&t==$.RIGHT)return!1;u.close(),s=function(){switch(t){case $.LEFT:return~c.activeMatchIndex?a:i;case $.RIGHT:return~c.activeMatchIndex&&o!==i?r:(u.activate(),!1);case $.BACKSPACE:return~c.activeMatchIndex?c.removeChoice(o)?a:o:i;case $.DELETE:return!!~c.activeMatchIndex&&(c.removeChoice(c.activeMatchIndex),o)}}(),u.selected.length&&!1!==s?c.activeMatchIndex=Math.min(i,Math.max(0,s)):c.activeMatchIndex=-1;return!0}(n)),t&&n!=$.TAB&&(e.preventDefault(),e.stopPropagation())})}),u.searchInput.on("keyup",function(t){if($.isVerticalMovement(t.which)||l.$evalAsync(function(){u.activeIndex=!1===u.taggingLabel?-1:0}),u.tagging.isActivated&&0<u.search.length){if(t.which===$.TAB||$.isControl(t)||$.isFunctionKey(t)||t.which===$.ESC||$.isVerticalMovement(t.which))return;if(u.activeIndex=!1===u.taggingLabel?-1:0,!1===u.taggingLabel)return;var e,n,i,o=angular.copy(u.items),r=angular.copy(u.items),a=!1,s=-1;if(void 0!==u.tagging.fct){if(0<(n=u.$filter("filter")(o,{isTag:!0})).length&&(i=n[0]),0<o.length&&i&&(a=!0,o=o.slice(1,o.length),r=r.slice(1,r.length)),e=u.tagging.fct(u.search),r.some(function(t){return angular.equals(t,e)})||u.selected.some(function(t){return angular.equals(t,e)}))return void l.$evalAsync(function(){u.activeIndex=0,u.items=o});e&&(e.isTag=!0)}else{if(0<(n=u.$filter("filter")(o,function(t){return t.match(u.taggingLabel)})).length&&(i=n[0]),void 0!==o[0]&&0<o.length&&i&&(a=!0,o=o.slice(1,o.length),r=r.slice(1,r.length)),e=u.search+" "+u.taggingLabel,-1<h(u.selected,u.search))return;if(p(r.concat(u.selected)))return void(a&&(o=r,l.$evalAsync(function(){u.activeIndex=0,u.items=o})));if(p(r))return void(a&&(u.items=r.slice(1,r.length)))}a&&(s=h(u.selected,e)),o=-1<s?o.slice(s+1,o.length-1):(o=[],e&&o.push(e),o.concat(r)),l.$evalAsync(function(){if(u.activeIndex=0,u.items=o,u.isGrouped){var t=e?o.slice(1):o;u.setItemsFn(t),e&&(u.items.unshift(e),u.groups.unshift({name:"",items:[e],tagging:!0}))}})}}),u.searchInput.on("blur",function(){r(function(){c.activeMatchIndex=-1})})}}}]),e.directive("uiSelectNoChoice",["uiSelectConfig",function(e){return{restrict:"EA",require:"^uiSelect",replace:!0,transclude:!0,templateUrl:function(t){return t.addClass("ui-select-no-choice"),(t.parent().attr("theme")||e.theme)+"/no-choice.tpl.html"}}}]),e.directive("uiSelectSingle",["$timeout","$compile",function(s,l){return{restrict:"EA",require:["^uiSelect","^ngModel"],link:function(r,t,e,n){var a=n[0],i=n[1];i.$parsers.unshift(function(t){var e={};return e[a.parserResult.itemName]=t,a.parserResult.modelMapper(r,e)}),i.$formatters.unshift(function(e){var t=a.parserResult&&a.parserResult.source(r,{$select:{search:""}}),n={};if(t){var i=function(t){return n[a.parserResult.itemName]=t,a.parserResult.modelMapper(r,n)===e};if(a.selected&&i(a.selected))return a.selected;for(var o=t.length-1;0<=o;o--)if(i(t[o]))return t[o]}return e}),r.$watch("$select.selected",function(t){i.$viewValue!==t&&i.$setViewValue(t)}),i.$render=function(){a.selected=i.$viewValue},r.$on("uis:select",function(t,e){a.selected=e}),r.$on("uis:close",function(t,e){s(function(){a.focusser.prop("disabled",!1),e||a.focusser[0].focus()},0,!1)}),r.$on("uis:activate",function(){o.prop("disabled",!0)});var o=angular.element("<input ng-disabled='$select.disabled' class='ui-select-focusser ui-select-offscreen' type='text' id='{{ $select.focusserId }}' aria-label='{{ $select.focusserTitle }}' aria-haspopup='true' role='button' />");l(o)(r),a.focusser=o,a.focusInput=o,t.parent().append(o),o.bind("focus",function(){r.$evalAsync(function(){a.focus=!0})}),o.bind("blur",function(){r.$evalAsync(function(){a.focus=!1})}),o.bind("keydown",function(t){if(t.which===$.BACKSPACE)return t.preventDefault(),t.stopPropagation(),a.select(void 0),void r.$apply();t.which===$.TAB||$.isControl(t)||$.isFunctionKey(t)||t.which===$.ESC||(t.which!=$.DOWN&&t.which!=$.UP&&t.which!=$.ENTER&&t.which!=$.SPACE||(t.preventDefault(),t.stopPropagation(),a.activate()),r.$digest())}),o.bind("keyup input",function(t){t.which===$.TAB||$.isControl(t)||$.isFunctionKey(t)||t.which===$.ESC||t.which==$.ENTER||t.which===$.BACKSPACE||(a.activate(o.val()),o.val(""),r.$digest())})}}}]),e.directive("uiSelectSort",["$timeout","uiSelectConfig","uiSelectMinErr",function(m,t,v){return{require:["^^uiSelect","^ngModel"],link:function(o,r,a,t){if(null===o[a.uiSelectSort])throw v("sort","Expected a list to sort");var n=t[0],s=t[1],e=angular.extend({axis:"horizontal"},o.$eval(a.uiSelectSortOptions)).axis,i="dragging",l="dropping",u="dropping-before",c="dropping-after";o.$watch(function(){return n.sortable},function(t){t?r.attr("draggable",!0):r.removeAttr("draggable")}),r.on("dragstart",function(t){r.addClass(i),(t.dataTransfer||t.originalEvent.dataTransfer).setData("text",o.$index.toString())}),r.on("dragend",function(){h(i)});var p,h=function(e){angular.forEach(n.$element.querySelectorAll("."+e),function(t){angular.element(t).removeClass(e)})},d=function(t){t.preventDefault(),("vertical"===e?t.offsetY||t.layerY||(t.originalEvent?t.originalEvent.offsetY:0):t.offsetX||t.layerX||(t.originalEvent?t.originalEvent.offsetX:0))<this["vertical"===e?"offsetHeight":"offsetWidth"]/2?(h(c),r.addClass(u)):(h(u),r.addClass(c))},f=function(t){t.preventDefault();var e=parseInt((t.dataTransfer||t.originalEvent.dataTransfer).getData("text"),10);m.cancel(p),p=m(function(){g(e)},20)},g=function(t){var e=o.$eval(a.uiSelectSort),n=e[t],i=null;i=r.hasClass(u)?t<o.$index?o.$index-1:o.$index:t<o.$index?o.$index:o.$index+1,function(t,e){this.splice(e,0,this.splice(t,1)[0])}.apply(e,[t,i]),s.$setViewValue(Date.now()),o.$apply(function(){o.$emit("uiSelectSort:change",{array:e,item:n,from:t,to:i})}),h(l),h(u),h(c),r.off("drop",f)};r.on("dragenter",function(){r.hasClass(i)||(r.addClass(l),r.on("dragover",d),r.on("drop",f))}),r.on("dragleave",function(t){t.target==r&&(h(l),h(u),h(c),r.off("dragover",d),r.off("drop",f))})}}}]),e.factory("$$uisDebounce",["$timeout",function(r){return function(n,i){var o;return function(){var t=this,e=Array.prototype.slice.call(arguments);o&&r.cancel(o),o=r(function(){n.apply(t,e)},i)}}}]),e.directive("uisOpenClose",["$parse","$timeout",function(o,r){return{restrict:"A",require:"uiSelect",link:function(n,t,e,i){i.onOpenCloseCallback=o(e.uisOpenClose),n.$watch("$select.open",function(t,e){t!==e&&r(function(){i.onOpenCloseCallback(n,{isOpen:t})})})}}}]),e.service("uisRepeatParser",["uiSelectMinErr","$parse",function(r,a){this.parse=function(t){var e;if(!(e=t.match(/^\s*(?:([\s\S]+?)\s+as\s+)?(?:([\$\w][\$\w]*)|(?:\(\s*([\$\w][\$\w]*)\s*,\s*([\$\w][\$\w]*)\s*\)))\s+in\s+(\s*[\s\S]+?)?(?:\s+track\s+by\s+([\s\S]+?))?\s*$/)))throw r("iexp","Expected expression in form of '_item_ in _collection_[ track by _id_]' but got '{0}'.",t);var n=e[5],i="";if(e[3]){n=e[5].replace(/(^\()|(\)$)/g,"");var o=e[5].match(/^\s*(?:[\s\S]+?)(?:[^\|]|\|\|)+([\s\S]*)\s*$/);o&&o[1].trim()&&(i=o[1],n=n.replace(i,""))}return{itemName:e[4]||e[2],keyName:e[3],source:a(n),filters:i,trackByExp:e[6],modelMapper:a(e[1]||e[4]||e[2]),repeatExpression:function(t){var e=this.itemName+" in "+(t?"$group.items":"$select.items");return this.trackByExp&&(e+=" track by "+this.trackByExp),e}}},this.getGroupNgRepeatExpression=function(){return"$group in $select.groups track by $group.name"}}])}(),angular.module("ui.select").run(["$templateCache",function(t){t.put("bootstrap/choices.tpl.html",'<ul class="ui-select-choices ui-select-choices-content ui-select-dropdown dropdown-menu" role="listbox" ng-show="$select.open && $select.items.length > 0"><li class="ui-select-choices-group" id="ui-select-choices-{{ $select.generatedId }}"><div class="divider" ng-show="$select.isGrouped && $index > 0"></div><div ng-show="$select.isGrouped" class="ui-select-choices-group-label dropdown-header" ng-bind="$group.name"></div><div ng-attr-id="ui-select-choices-row-{{ $select.generatedId }}-{{$index}}" class="ui-select-choices-row" ng-class="{active: $select.isActive(this), disabled: $select.isDisabled(this)}" role="option"><span class="ui-select-choices-row-inner"></span></div></li></ul>'),t.put("bootstrap/match-multiple.tpl.html",'<span class="ui-select-match"><span ng-repeat="$item in $select.selected track by $index"><span class="ui-select-match-item btn btn-default btn-xs" tabindex="-1" type="button" ng-disabled="$select.disabled" ng-click="$selectMultiple.activeMatchIndex = $index;" ng-class="{\'btn-primary\':$selectMultiple.activeMatchIndex === $index, \'select-locked\':$select.isLocked(this, $index)}" ui-select-sort="$select.selected"><span class="close ui-select-match-close" ng-hide="$select.disabled" ng-click="$selectMultiple.removeChoice($index)">&nbsp;&times;</span> <span uis-transclude-append=""></span></span></span></span>'),t.put("bootstrap/match.tpl.html",'<div class="ui-select-match" ng-hide="$select.open && $select.searchEnabled" ng-disabled="$select.disabled" ng-class="{\'btn-default-focus\':$select.focus}"><span tabindex="-1" class="btn btn-default form-control ui-select-toggle" aria-label="{{ $select.baseTitle }} activate" ng-disabled="$select.disabled" ng-click="$select.activate()" style="outline: 0;"><span ng-show="$select.isEmpty()" class="ui-select-placeholder text-muted">{{$select.placeholder}}</span> <span ng-hide="$select.isEmpty()" class="ui-select-match-text pull-left" ng-class="{\'ui-select-allow-clear\': $select.allowClear && !$select.isEmpty()}" ng-transclude=""></span> <i class="caret pull-right" ng-click="$select.toggle($event)"></i> <a ng-show="$select.allowClear && !$select.isEmpty() && ($select.disabled !== true)" aria-label="{{ $select.baseTitle }} clear" style="margin-right: 10px" ng-click="$select.clear($event)" class="btn btn-xs btn-link pull-right"><i class="glyphicon glyphicon-remove" aria-hidden="true"></i></a></span></div>'),t.put("bootstrap/no-choice.tpl.html",'<ul class="ui-select-no-choice dropdown-menu" ng-show="$select.items.length == 0"><li ng-transclude=""></li></ul>'),t.put("bootstrap/select-multiple.tpl.html",'<div class="ui-select-container ui-select-multiple ui-select-bootstrap dropdown form-control" ng-class="{open: $select.open}"><div><div class="ui-select-match"></div><input type="search" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" class="ui-select-search input-xs" placeholder="{{$selectMultiple.getPlaceholder()}}" ng-disabled="$select.disabled" ng-click="$select.activate()" ng-model="$select.search" role="combobox" aria-label="{{ $select.baseTitle }}" ondrop="return false;"></div><div class="ui-select-choices"></div><div class="ui-select-no-choice"></div></div>'),t.put("bootstrap/select.tpl.html",'<div class="ui-select-container ui-select-bootstrap dropdown" ng-class="{open: $select.open}"><div class="ui-select-match"></div><input type="search" autocomplete="off" tabindex="-1" aria-expanded="true" aria-label="{{ $select.baseTitle }}" aria-owns="ui-select-choices-{{ $select.generatedId }}" aria-activedescendant="ui-select-choices-row-{{ $select.generatedId }}-{{ $select.activeIndex }}" class="form-control ui-select-search" ng-class="{ \'ui-select-search-hidden\' : !$select.searchEnabled }" placeholder="{{$select.placeholder}}" ng-model="$select.search" ng-show="$select.open"><div class="ui-select-choices"></div><div class="ui-select-no-choice"></div></div>'),t.put("select2/choices.tpl.html",'<ul tabindex="-1" class="ui-select-choices ui-select-choices-content select2-results"><li class="ui-select-choices-group" ng-class="{\'select2-result-with-children\': $select.choiceGrouped($group) }"><div ng-show="$select.choiceGrouped($group)" class="ui-select-choices-group-label select2-result-label" ng-bind="$group.name"></div><ul role="listbox" id="ui-select-choices-{{ $select.generatedId }}" ng-class="{\'select2-result-sub\': $select.choiceGrouped($group), \'select2-result-single\': !$select.choiceGrouped($group) }"><li role="option" ng-attr-id="ui-select-choices-row-{{ $select.generatedId }}-{{$index}}" class="ui-select-choices-row" ng-class="{\'select2-highlighted\': $select.isActive(this), \'select2-disabled\': $select.isDisabled(this)}"><div class="select2-result-label ui-select-choices-row-inner"></div></li></ul></li></ul>'),t.put("select2/match-multiple.tpl.html",'<span class="ui-select-match"><li class="ui-select-match-item select2-search-choice" ng-repeat="$item in $select.selected track by $index" ng-class="{\'select2-search-choice-focus\':$selectMultiple.activeMatchIndex === $index, \'select2-locked\':$select.isLocked(this, $index)}" ui-select-sort="$select.selected"><span uis-transclude-append=""></span> <a href="javascript:;" class="ui-select-match-close select2-search-choice-close" ng-click="$selectMultiple.removeChoice($index)" tabindex="-1"></a></li></span>'),t.put("select2/match.tpl.html",'<a class="select2-choice ui-select-match" ng-class="{\'select2-default\': $select.isEmpty()}" ng-click="$select.toggle($event)" aria-label="{{ $select.baseTitle }} select"><span ng-show="$select.isEmpty()" class="select2-chosen">{{$select.placeholder}}</span> <span ng-hide="$select.isEmpty()" class="select2-chosen" ng-transclude=""></span> <abbr ng-if="$select.allowClear && !$select.isEmpty()" class="select2-search-choice-close" ng-click="$select.clear($event)"></abbr> <span class="select2-arrow ui-select-toggle"><b></b></span></a>'),t.put("select2/no-choice.tpl.html",'<div class="ui-select-no-choice dropdown" ng-show="$select.items.length == 0"><div class="dropdown-content"><div data-selectable="" ng-transclude=""></div></div></div>'),t.put("select2/select-multiple.tpl.html",'<div class="ui-select-container ui-select-multiple select2 select2-container select2-container-multi" ng-class="{\'select2-container-active select2-dropdown-open open\': $select.open, \'select2-container-disabled\': $select.disabled}"><ul class="select2-choices"><span class="ui-select-match"></span><li class="select2-search-field"><input type="search" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" role="combobox" aria-expanded="true" aria-owns="ui-select-choices-{{ $select.generatedId }}" aria-label="{{ $select.baseTitle }}" aria-activedescendant="ui-select-choices-row-{{ $select.generatedId }}-{{ $select.activeIndex }}" class="select2-input ui-select-search" placeholder="{{$selectMultiple.getPlaceholder()}}" ng-disabled="$select.disabled" ng-hide="$select.disabled" ng-model="$select.search" ng-click="$select.activate()" style="width: 34px;" ondrop="return false;"></li></ul><div class="ui-select-dropdown select2-drop select2-with-searchbox select2-drop-active" ng-class="{\'select2-display-none\': !$select.open || $select.items.length === 0}"><div class="ui-select-choices"></div></div></div>'),t.put("select2/select.tpl.html",'<div class="ui-select-container select2 select2-container" ng-class="{\'select2-container-active select2-dropdown-open open\': $select.open, \'select2-container-disabled\': $select.disabled, \'select2-container-active\': $select.focus, \'select2-allowclear\': $select.allowClear && !$select.isEmpty()}"><div class="ui-select-match"></div><div class="ui-select-dropdown select2-drop select2-with-searchbox select2-drop-active" ng-class="{\'select2-display-none\': !$select.open}"><div class="search-container" ng-class="{\'ui-select-search-hidden\':!$select.searchEnabled, \'select2-search\':$select.searchEnabled}"><input type="search" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" role="combobox" aria-expanded="true" aria-owns="ui-select-choices-{{ $select.generatedId }}" aria-label="{{ $select.baseTitle }}" aria-activedescendant="ui-select-choices-row-{{ $select.generatedId }}-{{ $select.activeIndex }}" class="ui-select-search select2-input" ng-model="$select.search"></div><div class="ui-select-choices"></div><div class="ui-select-no-choice"></div></div></div>'),t.put("selectize/choices.tpl.html",'<div ng-show="$select.open" class="ui-select-choices ui-select-dropdown selectize-dropdown single"><div class="ui-select-choices-content selectize-dropdown-content"><div class="ui-select-choices-group optgroup" role="listbox"><div ng-show="$select.isGrouped" class="ui-select-choices-group-label optgroup-header" ng-bind="$group.name"></div><div role="option" class="ui-select-choices-row" ng-class="{active: $select.isActive(this), disabled: $select.isDisabled(this)}"><div class="option ui-select-choices-row-inner" data-selectable=""></div></div></div></div></div>'),t.put("selectize/match.tpl.html",'<div ng-hide="$select.searchEnabled && ($select.open || $select.isEmpty())" class="ui-select-match"><span ng-show="!$select.searchEnabled && ($select.isEmpty() || $select.open)" class="ui-select-placeholder text-muted">{{$select.placeholder}}</span> <span ng-hide="$select.isEmpty() || $select.open" ng-transclude=""></span></div>'),t.put("selectize/no-choice.tpl.html",'<div class="ui-select-no-choice selectize-dropdown" ng-show="$select.items.length == 0"><div class="selectize-dropdown-content"><div data-selectable="" ng-transclude=""></div></div></div>'),t.put("selectize/select.tpl.html",'<div class="ui-select-container selectize-control single" ng-class="{\'open\': $select.open}"><div class="selectize-input" ng-class="{\'focus\': $select.open, \'disabled\': $select.disabled, \'selectize-focus\' : $select.focus}" ng-click="$select.open && !$select.searchEnabled ? $select.toggle($event) : $select.activate()"><div class="ui-select-match"></div><input type="search" autocomplete="off" tabindex="-1" class="ui-select-search ui-select-toggle" ng-class="{\'ui-select-search-hidden\':!$select.searchEnabled}" ng-click="$select.toggle($event)" placeholder="{{$select.placeholder}}" ng-model="$select.search" ng-hide="!$select.isEmpty() && !$select.open" ng-disabled="$select.disabled" aria-label="{{ $select.baseTitle }}"></div><div class="ui-select-choices"></div><div class="ui-select-no-choice"></div></div>')}]),function(t,e){"function"==typeof define&&define.amd?define(["angular-schema-form"],e):"object"==typeof exports?module.exports=e(require("angular-schema-form")):t.angularSchemaFormDynamicSelect=e(t.schemaForm)}(this,function(t){angular.module("schemaForm").run(["$templateCache",function(t){t.put("directives/decorators/bootstrap/strap/strapmultiselect.html",'<div ng-controller="dynamicSelectController" class="form-group {{form.htmlClass}}"\n     ng-class="{\'has-error\': hasError(), \'has-success\': hasSuccess()}">\n    <label class="control-label {{form.labelHtmlClass}}" ng-show="showTitle()">{{form.title}}</label>\n\n    <div class="form-group {{form.fieldHtmlClass}}" ng-init="populateTitleMap(form)">\n        <button type="button" class="btn btn-default" sf-changed="form" schema-validate="form" ng-model="$$value$$"\n                data-placeholder="{{form.placeholder || form.schema.placeholder || (\'placeholders.select\')}}"\n                data-html="1"\n                data-multiple="1"\n\t\t\t\tdata-placement="{{form.options.placement || \'bottom-left\'}}"\n\t\t\t\tdata-max-length="{{form.options.inlineMaxLength}}"\n                data-max-length-html="{{form.options.inlineMaxLengthHtml}}"\n                bs-options="item.value as item.name for item in form.titleMap | selectFilter:this:$$value$$:&quot;$$value$$&quot;"\n                bs-select>\n        </button>\n        <span class="help-block">{{ (hasError() && errorMessage(schemaError())) || form.description}}</span>\n    </div>\n</div>\n'),t.put("directives/decorators/bootstrap/strap/strapselect.html",'<div ng-controller="dynamicSelectController" class="form-group {{form.htmlClass}}"\n     ng-class="{\'has-error\': hasError(), \'has-success\': hasSuccess()}">\n    <label class="control-label {{form.labelHtmlClass}}" ng-show="showTitle()">{{form.title}}</label>\n\n    <div class="form-group {{form.fieldHtmlClass}}" ng-init="populateTitleMap(form)">\n        <button ng-if="(form.options.multiple == \'true\') || (form.options.multiple == true)"\n                type="button" class="btn btn-default" sf-changed="form" schema-validate="form" ng-model="$$value$$"\n                data-placeholder="{{form.placeholder || form.schema.placeholder || (\'placeholders.select\')}}"\n                data-html="1" data-multiple="1" data-max-length="{{form.options.inlineMaxLength}}"\n\t\t\t\tdata-placement="{{form.options.placement || \'bottom-left\'}}"\n                data-max-length-html="{{form.options.inlineMaxLengthHtml}}"\n                bs-options="item.value as item.name for item in form.titleMap | selectFilter:this:$$value$$:&quot;$$value$$&quot;"\n                bs-select>\n        </button>\n        <button ng-if="!((form.options.multiple == \'true\') || (form.options.multiple == true))"\n                type="button" class="btn btn-default" sf-changed="form" schema-validate="form" ng-model="$$value$$"\n                data-placeholder="{{form.placeholder || form.schema.placeholder || (\'placeholders.select\')}}"\n                data-html="1"\n\t\t\t\tdata-placement="{{form.options.placement || \'bottom-left\'}}"\n                bs-options="item.value as item.name for item in form.titleMap | selectFilter:this:$$value$$:&quot;$$value$$&quot;"\n                bs-select>\n        </button>\n        <span class="help-block">{{ (hasError() && errorMessage(schemaError())) || form.description}} </span>\n    </div>\n</div>\n\n')}]),angular.module("schemaForm").run(["$templateCache",function(t){t.put("directives/decorators/bootstrap/uiselect/uiselect.html",'<div ng-controller="dynamicSelectController" class="form-group"\n     ng-class="{\'has-error\': hasError(), \'has-success\': hasSuccess(), \'has-feedback\': form.feedback !== false}"\n         ng-init="insideModel=$$value$$;">\n    <label class="control-label" ng-show="showTitle()">{{form.title}}</label>\n\n    <div class="form-group">\n        <ui-select ng-model="select_model.selected"\n                   ng-if="!(form.options.tagging||false)" theme="bootstrap" ng-disabled="form.disabled"\n                   on-select="$$value$$=$item.value" class="{{form.options.uiClass}}">\n            <ui-select-match\n                    placeholder="{{form.placeholder || form.schema.placeholder || (\'placeholders.select\' | translate)}}">\n                {{select_model.selected.name}}\n            </ui-select-match>\n            <ui-select-choices refresh="populateTitleMap(form, $select.search)"\n                               refresh-delay="form.options.refreshDelay" group-by="form.options.groupBy"\n                               repeat="item in form.titleMap | propsFilter: {name: $select.search, description: (form.options.searchDescriptions===true ? $select.search : \'NOTSEARCHINGFORTHIS\') }">\n                <div ng-bind-html="item.name | highlight: $select.search"></div>\n                <div ng-if="item.description">\n                    <span ng-bind-html="\'<small>\' + (\'\'+item.description | highlight: (form.options.searchDescriptions===true ? $select.search : \'NOTSEARCHINGFORTHIS\'))+ \'</small>\'"></span>\n                </div>\n            </ui-select-choices>\n        </ui-select>\n        <ui-select ng-controller="dynamicSelectController" ng-model="select_model.selected"\n                   ng-if="(form.options.tagging||false) && !(form.options.groupBy || false)"\n                   tagging="form.options.tagging||false" tagging-label="form.options.taggingLabel"\n                   tagging-tokens="form.options.taggingTokens"\n                   theme="bootstrap" ng-disabled="form.disabled" on-select="$$value$$=$item.value"\n                   class="{{form.options.uiClass}}">\n            <ui-select-match\n                    placeholder="{{form.placeholder || form.schema.placeholder || (\'placeholders.select\' | translate)}}">\n                {{select_model.selected.name}}&nbsp;\n                <small>{{(select_model.selected.isTag===true ? form.options.taggingLabel : \'\')}}</small>\n            </ui-select-match>\n            \x3c!--repeat code because tagging does not display properly under group by but is still useful --\x3e\n            <ui-select-choices refresh="populateTitleMap(form, $select.search)"\n                               refresh-delay="form.options.refreshDelay"\n                               repeat="item in form.titleMap | propsFilter: {name: $select.search, description: (form.options.searchDescription===true ? $select.search : \'NOTSEARCHINGFORTHIS\') }">\n                <div ng-if="item.isTag"\n                     ng-bind-html="\'<div>\' + (item.name   | highlight: $select.search) + \' \' + form.options.taggingLabel + \'</div><div class=&quot;divider&quot;></div>\'"></div>\n                <div ng-if="!item.isTag" ng-bind-html="item.name + item.isTag| highlight: $select.search"></div>\n                <div ng-if="item.description">\n                    <span ng-bind-html="\'<small>\' + (\'\'+item.description | highlight: (form.options.searchDescriptions===true ? $select.search : \'NOTSEARCHINGFORTHIS\')) + \'</small>\'"></span>\n                </div>\n            </ui-select-choices>\n        </ui-select>\n\n        \x3c!--repeat code because tagging does not display properly under group by but is still useful --\x3e\n\n        <ui-select ng-controller="dynamicSelectController" ng-model="select_model.selected"\n                   ng-if="(form.options.tagging||false) && (form.options.groupBy || false)"\n                   tagging="form.options.tagging||false" tagging-label="form.options.taggingLabel"\n                   tagging-tokens="form.options.taggingTokens"\n                   theme="bootstrap" ng-disabled="form.disabled" on-select="$$value$$=$item.value"\n                   class="{{form.options.uiClass}}">\n            <ui-select-match\n                    placeholder="{{form.placeholder || form.schema.placeholder || (\'placeholders.select\' | translate)}}">\n                {{select_model.selected.name}}&nbsp;\n                <small>{{(select_model.selected.isTag===true ? form.options.taggingLabel : \'\')}}</small>\n            </ui-select-match>\n            <ui-select-choices group-by="form.options.groupBy"\n                               refresh="populateTitleMap(form, $select.search)"\n                               refresh-delay="form.options.refreshDelay"\n                               repeat="item in form.titleMap | propsFilter: {name: $select.search, description: (form.options.searchDescription===true ? $select.search : \'NOTSEARCHINGFORTHIS\') }">\n                <div ng-if="item.isTag"\n                     ng-bind-html="\'<div>\' + (item.name  | highlight: $select.search) + \' \' + form.options.taggingLabel + \'</div><div class=&quot;divider&quot;></div>\'"></div>\n                <div ng-if="!item.isTag" ng-bind-html="item.name + item.isTag| highlight: $select.search"></div>\n                <div ng-if="item.description">\n                    <span ng-bind-html="\'<small>\' + (\'\'+item.description | highlight: (form.options.searchDescriptions===true ? $select.search : \'NOTSEARCHINGFORTHIS\')) + \'</small>\'"></span>\n                </div>\n            </ui-select-choices>\n        </ui-select>\n\n        <input type="hidden" toggle-single-model sf-changed="form" ng-model="insideModel" schema-validate="form"/>\n    <span ng-if="form.feedback !== false"\n          class="form-control-feedback"\n          ng-class="evalInScope(form.feedback) || {\'glyphicon\': true, \'glyphicon-ok\': hasSuccess(), \'glyphicon-remove\': hasError() }"></span>\n\n        <div class="help-block"\n             ng-show="(hasError() && errorMessage(schemaError())) || form.description"\n             ng-bind-html="(hasError() && errorMessage(schemaError())) || form.description"></div>\n    </div>\n</div>\n'),t.put("directives/decorators/bootstrap/uiselect/uiselectmultiple.html",'\n<div class="form-group" ng-class="{\'has-error\': hasError(), \'has-success\': hasSuccess(), \'has-feedback\': form.feedback !== false}"\n        ng-controller="dynamicSelectController" ng-init="$$value$$=$$value$$||[];uiMultiSelectInitInternalModel($$value$$)">\n  <label class="control-label" ng-show="showTitle()">{{form.title}}</label>\n  <div class="form-group">\n    <ui-select multiple sortable-options="{{form.sortableOptions}}" ng-model="internalModel" theme="bootstrap"\n               on-select="$$value$$.push($item.value)" on-remove="$$value$$.splice($$value$$.indexOf($item.value), 1)"\n               class="{{form.options.uiClass}}">\n      <ui-select-match placeholder="{{form.placeholder || form.schema.placeholder || (\'placeholders.select\' | translate)}}">{{$item.name}}</ui-select-match>\n      <ui-select-choices repeat="item in form.titleMap | propsFilter: {name: $select.search}"\n         refresh="populateTitleMap(form, $select.search)"\n         refresh-delay="form.options.refreshDelay"\n         group-by="form.options.groupBy">\n        <div ng-bind-html="item.name | highlight: $select.search"></div>\n      </ui-select-choices>\n    </ui-select>\n    <span ng-if="form.feedback !== false"\n      class="form-control-feedback"\n      ng-class="evalInScope(form.feedback) || {\'glyphicon\': true, \'glyphicon-ok\': hasSuccess(), \'glyphicon-remove\': hasError() }"></span>\n    <div class="help-block"\n      ng-show="(hasError() && errorMessage(schemaError())) || form.description"\n      ng-bind-html="(hasError() && errorMessage(schemaError())) || form.description"></div>\n  </div>\n</div>\n')}]),angular.module("schemaForm").config(["schemaFormProvider","schemaFormDecoratorsProvider","sfPathProvider",function(o,t,r){o.defaults.string.unshift(function(t,e,n){if("string"===e.type&&"enum"in e){var i=o.stdFormObj(t,e,n);return i.key=n.path,i.type="strapselect",n.lookup[r.stringify(n.path)]=i}}),t.addMapping("bootstrapDecorator","strapselect","directives/decorators/bootstrap/strap/strapselect.html"),t.addMapping("bootstrapDecorator","strapmultiselect","directives/decorators/bootstrap/strap/strapmultiselect.html"),t.addMapping("bootstrapDecorator","strapselectdynamic","directives/decorators/bootstrap/strap/strapselect.html"),t.addMapping("bootstrapDecorator","strapmultiselectdynamic","directives/decorators/bootstrap/strap/strapmultiselect.html"),t.addMapping("bootstrapDecorator","uiselect","directives/decorators/bootstrap/uiselect/uiselect.html"),t.addMapping("bootstrapDecorator","uiselectmultiple","directives/decorators/bootstrap/uiselect/uiselectmultiple.html")}]).directive("toggleSingleModel",function(){return{require:"ngModel",restrict:"A",scope:{},replace:!0,controller:["$scope",function(t){t.$parent.$watch("select_model.selected",function(){null!=t.$parent.select_model.selected&&(t.$parent.insideModel=t.$parent.select_model.selected.value,t.$parent.ngModel.$setViewValue(t.$parent.select_model.selected.value))})}]}}).directive("multipleOn",function(){return{link:function(t,n,e){t.$watch(function(){return n.attr("multiple-on")},function(t){if("true"==t){var e=angular.element(n).scope().$$childTail;e.$isMultiple=!0,e.options.multiple=!0,e.$select.$element.addClass("select-multiple")}else angular.element(n).scope().$$childTail.$isMultiple=!1})}}}).filter("whereMulti",function(){return function(n,i,t){var o=[];return angular.isArray(t)&&void 0!==n?t.forEach(function(t){for(var e=0;e<n.length;e++)if(t==n[e][i]){o.push(n[e]);break}}):o=n,o}}).filter("propsFilter",function(){return function(t,a){var s=[];return angular.isArray(t)?t.forEach(function(t){for(var e=!1,n=Object.keys(a),i=0;i<n.length;i++){var o=n[i];if(t.hasOwnProperty(o)){var r=a[o].toLowerCase();if(0===t[o].toString().toLowerCase().indexOf(r)||-1!==t[o].toString().toLowerCase().indexOf(" "+r)){e=!0;break}}}e&&s.push(t)}):s=t,s}}),angular.module("schemaForm").controller("dynamicSelectController",["$scope","$http","$timeout",function(s,e,t){s.form.options||(s.form.options={}),s.select_model={},console.log("Setting options."+s.form.options.toString()),(s.form.options.scope=s).triggerTitleMap=function(){console.log("listener triggered"),s.form.titleMap.push({value:"345890u340598u3405u9",name:"34095u3p4ouij"}),t(function(){s.form.titleMap.pop()})},s.initFiltering=function(t){s.form.options.filterTriggers&&s.form.options.filterTriggers.forEach(function(t){s.$parent.$watch(t,s.triggerTitleMap)}),s.localModelType=Object.prototype.toString.call(t),s.filteringInitialized=!0},s.finalizeTitleMap=function(i,t,o){if(i.titleMap=[],o&&"map"in o&&o.map){var r=o.map.nameProperty.length-1,a=o.map.separatorValue?o.map.separatorValue:" - ";t.forEach(function(t){if(t.value=t[o.map.valueProperty],"string"!=typeof o.map.nameProperty){var e="";for(var n in o.map.nameProperty)e+=t[o.map.nameProperty[n]],n!=r&&(e+=a);t.name=e}else t.name=t[o.map.nameProperty];i.titleMap.push(t)})}else t.forEach(function(t){"text"in t&&(t.name=t.text)}),i.titleMap=t;s.insideModel&&void 0===s.select_model.selected&&(s.select_model.selected=s.find_in_titleMap(s.insideModel)),s.internalModel&&(console.log("Call uiMultiSelectInitInternalModel"),s.uiMultiSelectInitInternalModel(s.externalModel))},s.clone=function(t){if(null==t||"object"!=typeof t)return t;var e=t.constructor();for(var n in t)t[n]!=s&&t.hasOwnProperty(n)&&(e[n]=s.clone(t[n]));return e},s.getCallback=function(t){if("string"==typeof t){var e=s.$parent.evalExpr(t);if("function"==typeof e)return e;throw"A callback string must match name of a function in the parent scope"}if("function"==typeof t)return t;throw"A callback must either be a string matching the name of a function in the parent scope or a direct function reference"},s.getOptions=function(t,e){return t.httpPost&&t.httpPost.optionsCallback?(newOptionInstance=s.clone(t),s.getCallback(t.httpPost.optionsCallback)(newOptionInstance,e)):t.httpGet&&t.httpGet.optionsCallback?(newOptionInstance=s.clone(t),s.getCallback(t.httpGet.optionsCallback)(newOptionInstance,e)):t},s.test=function(t){t.titleMap.pop()},s.populateTitleMap=function(n,t){if(n.schema&&"enum"in n.schema)n.titleMap=[],n.schema.enum.forEach(function(t){n.titleMap.push({value:t,name:t})});else if(n.options)if(n.options.callback)n.titleMap=s.getCallback(n.options.callback)(n.options,t),s.finalizeTitleMap(n,n.titleMap,n.options),console.log("callback items: ",n.titleMap);else{if(n.options.asyncCallback)return s.getCallback(n.options.asyncCallback)(n.options,t).then(function(t){s.finalizeTitleMap(n,t.data,n.options),console.log("asyncCallback items",n.titleMap)},function(t,e){alert("Loading select items failed(Options: '"+String(n.options)+"\nError: "+e)});if(n.options.httpPost){var i=s.getOptions(n.options,t);return e.post(i.httpPost.url,i.httpPost.parameter).then(function(t){s.finalizeTitleMap(n,t.data,i),console.log("httpPost items",n.titleMap)},function(t,e){alert("Loading select items failed (URL: '"+String(i.httpPost.url)+"' Parameter: "+String(i.httpPost.parameter)+"\nError: "+e)})}if(n.options.httpGet){i=s.getOptions(n.options,t);return e.get(i.httpGet.url,i.httpGet.parameter).then(function(t){s.finalizeTitleMap(n,t.data,i),console.log("httpGet items",n.titleMap)},function(t,e){alert("Loading select items failed (URL: '"+String(i.httpGet.url)+"\nError: "+e)})}}else console.log("dynamicSelectController.populateTitleMap(key:"+n.key+") : No options set, needed for dynamic selects")},s.find_in_titleMap=function(t){for(i=0;i<s.form.titleMap.length;i++)if(s.form.titleMap[i].value==t)return{value:s.form.titleMap[i].value,name:s.form.titleMap[i].name}},s.uiMultiSelectInitInternalModel=function(t){console.log("$scope.externalModel: Key: "+s.form.key.toString()+" Model: "+t.toString()),s.externalModel=t,s.internalModel=[],s.form.titleMap&&void 0!==t&&angular.isArray(t)&&t.forEach(function(t){s.internalModel.push(s.find_in_titleMap(t))})}}]),angular.module("schemaForm").filter("selectFilter",[function(t){return function(t,e,n,i){if(!angular.isDefined(t)||!angular.isDefined(e.form.options)||!angular.isDefined(e.form.options.filter)||""==e.form.options.filter)return t;console.log("----- In filtering for "+e.form.key+"("+e.form.title+"), model value: "+JSON.stringify(n)+"----"),console.log("Filter:"+e.form.options.filter),e.filteringInitialized||(console.log("Initialize filter"),e.initFiltering(n));var o=[];return angular.forEach(t,function(t){e.$eval(e.form.options.filter,{item:t})?o.push(t):n&&("[object Array]"==e.localModelType&&-1<n.indexOf(t.value)?n.splice(n.indexOf(t.value),1):n==t.value&&(console.log("Setting model of type "+e.localModelType+"to null."),n=null))}),"[object Array]"!=e.localModelType||n||(console.log("Resetting model of type "+e.localModelType+" to []."),e.$eval(i+"=[]")),console.log("----- Exiting filter for "+e.form.title+"-----"),o}}])}),function(t){t.module("ngTableToCsv.config",[]).config(["$compileProvider",function(t){t.aHrefSanitizationWhitelist(/^\s*(https?|ftp|mailto|data):/)}]).value("ngTableToCsv.config",{debug:!0}),t.module("ngTableToCsv.directives",[]),t.module("ngTableToCsv",["ngTableToCsv.config","ngTableToCsv.directives"])}(angular),function(u){"use strict";u.module("ngTableToCsv.directives").directive("exportCsv",["$parse",function(i){return{restrict:"A",scope:!1,link:function(t,e,n){var r="",a=n.separator?n.separator:",",s=n.exportCsvIgnore||".ng-table-filters",l={stringify:function(t){return'"'+t.replace(/^\s\s*/,"").replace(/\s*\s$/,"").replace(/"/g,'""')+'"'},generate:function(){r="";var t=e.find("tr");u.forEach(t,function(t,e){var n=u.element(t),i=n.find("th"),o="";n.hasClass(s)||(0===i.length&&(i=n.find("td")),u.forEach(i,function(t,e){var n="";(t=u.element(t)).hasClass(s)||(n=u.element(t).text()),o+=l.stringify(n)+a}),o=o.slice(0,o.length-1),r+=o+"\n")})},link:function(){return"data:text/csv;charset=UTF-8,"+encodeURIComponent(r)}};i(n.exportCsv).assign(t.$parent,l)}}}])}(angular),function(t,e){"use strict";"function"==typeof define&&define.amd?define(["angular"],function(t){return e(t)}):e(t)}(window.angular||null,function(y){"use strict";var t=y.module("ngTable",[]);return function(){function t(l){function t(t,e){var n,i,o=t.charAt(0).toUpperCase()+t.substring(1),r={};return r["on"+o]=(i=t,function(a){var s=y.identity,t=l;if(2===arguments.length?y.isFunction(arguments[1].$new)?t=arguments[1]:s=arguments[1]:2<arguments.length&&(t=arguments[1],s=arguments[2]),y.isObject(s)){var e=s;s=function(t){return t===e}}return t.$on("ngTable:"+i,function(t,e){if(!e.isNullInstance){var n=(o=arguments,r=2,Array.prototype.slice.call(o,null==r?1:r)),i=[e].concat(n);s.apply(this,i)&&a.apply(this,i)}var o,r})}),r["publish"+o]=(n=t,function(){var t=["ngTable:"+n].concat(Array.prototype.slice.call(arguments));l.$broadcast.apply(l,t)}),y.extend(e,r)}var e={};return t("pagesChanged",e=t("datasetChanged",e=t("afterReloadData",e=t("afterCreated",e))))}y.module("ngTable").factory("ngTableEventsChannel",t),t.$inject=["$rootScope"]}(),function(){function t(){function t(){i=n}function e(){var t,n={config:t,getTemplateUrl:function(t,e){return-1!==t.indexOf("/")?t:n.getUrlForAlias(t,e)},getUrlForAlias:function(t){return i.aliasUrls[t]||i.defaultBaseUrl+t+i.defaultExt}};return Object.defineProperty(n,"config",{get:function(){return t=t||y.copy(i)},enumerable:!0}),n}var i,n={defaultBaseUrl:"ng-table/filters/",defaultExt:".html",aliasUrls:{}};this.$get=e,this.resetConfigs=t,this.setConfig=function(t){var e=y.extend({},i,t);e.aliasUrls=y.extend({},i.aliasUrls,t.aliasUrls),i=e},t(),e.$inject=[]}y.module("ngTable").provider("ngTableFilterConfig",t),t.$inject=[]}(),function(){function t(){function t(a){return function(t,e){if(null==t)return[];var n=e.hasFilter()?a(s.filterFilterName)(t,e.filter(!0)):t,i=e.orderBy(),o=i.length?a(s.sortingFilterName)(n,i):n,r=o.slice((e.page()-1)*e.count(),e.page()*e.count());return e.total(o.length),r}}var s=this;s.$get=t,s.filterFilterName="filter",s.sortingFilterName="orderBy",t.$inject=["$filter"]}y.module("ngTable").provider("ngTableDefaultGetData",t),t.$inject=[]}(),function(){function t(i){return function(n){return function(){var t=i.defer(),e=n.apply(this,[t].concat(Array.prototype.slice.call(arguments)));return e||(e=t.promise),e}}}y.module("ngTable").factory("ngTableGetDataBcShim",t),t.$inject=["$q"]}(),t.value("ngTableDefaults",{params:{},settings:{}}),t.factory("NgTableParams",["$q","$log","ngTableDefaults","ngTableGetDataBcShim","ngTableDefaultGetData","ngTableEventsChannel",function(u,i,d,f,g,m){var v=function(t){return!isNaN(parseFloat(t))&&isFinite(t)};return function(t,e){function r(){var t=h.getDataFnAdaptor(h.getData);return u.when(t.call(h,s))}function o(){var t=h.getGroupsFnAdaptor(h.getGroups);return u.when(t.call(h,h.groupBy,s))}"boolean"==typeof t&&(this.isNullInstance=!0);var a,n,s=this,l=!1,c=function(){h.debugMode&&i.debug&&i.debug.apply(this,arguments)};this.data=[],this.parameters=function(t,e){if(e=e||!1,y.isDefined(t)){for(var n in t){var i=t[n];if(e&&0<=n.indexOf("[")){for(var o=n.split(/\[(.*)\]/).reverse(),r="",a=0,s=o.length;a<s;a++){var l=o[a];if(""!==l){var u=i;(i={})[r=l]=v(u)?parseFloat(u):u}}"sorting"===r&&(p[r]={}),p[r]=y.extend(p[r]||{},i[r])}else p[n]=v(t[n])?parseFloat(t[n]):t[n]}return c("ngTable: set parameters",p),this}return p},this.settings=function(t){if(y.isDefined(t)){y.isArray(t.data)&&(t.total=t.data.length),t.getData&&1<t.getData.length&&(t.getDataFnAdaptor=f),t.getGroups&&2<t.getGroups.length&&(t.getGroupsFnAdaptor=f);var e=h.data;return h=y.extend(h,t),t.hasOwnProperty("data")&&t.data!=e&&(l&&this.page(1),l=!1,m.publishDatasetChanged(this,t.data,e)),c("ngTable: set settings",h),this}return h},this.page=function(t){return y.isDefined(t)?this.parameters({page:t}):p.page},this.total=function(t){return y.isDefined(t)?this.settings({total:t}):h.total},this.count=function(t){return y.isDefined(t)?this.parameters({count:t,page:1}):p.count},this.filter=function(t){if(y.isDefined(t)&&y.isObject(t))return this.parameters({filter:t,page:1});if(!0!==t)return p.filter;for(var e=Object.keys(p.filter),n={},i=0;i<e.length;i++){var o=p.filter[e[i]];null!=o&&""!==o&&(n[e[i]]=o)}return n},this.sorting=function(t){if(2!=arguments.length)return y.isDefined(t)?this.parameters({sorting:t}):p.sorting;var e={};return e[t]=arguments[1],this.parameters({sorting:e}),this},this.isSortBy=function(t,e){return void 0!==e?y.isDefined(p.sorting[t])&&p.sorting[t]==e:y.isDefined(p.sorting[t])},this.orderBy=function(){var t=[];for(var e in p.sorting)t.push(("asc"===p.sorting[e]?"+":"-")+e);return t},this.getData=function(t){return g(this.data,t)},this.getGroups=function(o){return r().then(function(t){var n={};y.forEach(t,function(t){var e=y.isFunction(o)?o(t):t[o];n[e]=n[e]||{data:[]},n[e].value=e,n[e].data.push(t)});var e=[];for(var i in n)e.push(n[i]);return c("ngTable: refresh groups",e),e})},this.generatePagesArray=function(t,e,n,i){var o,r,a,s,l;if(arguments.length||(t=this.page(),e=this.total(),n=this.count()),i=i&&i<6?6:i,l=[],1<(s=Math.ceil(e/n))){l.push({type:"prev",number:Math.max(1,t-1),active:1<t}),l.push({type:"first",number:1,active:1<t,current:1===t}),r=Math.round((h.paginationMaxBlocks-h.paginationMinBlocks)/2),a=Math.max(2,t-r),o=Math.min(s-1,t+2*r-(t-a));for(var u=a=Math.max(2,a-(2*r-(o-a)));u<=o;)l.push(u===a&&2!==u||u===o&&u!==s-1?{type:"more",active:!1}:{type:"page",number:u,active:t!==u,current:t===u}),u++;l.push({type:"last",number:s,active:t!==s,current:t===s}),l.push({type:"next",number:Math.min(s,t+1),active:t<s})}return l},this.isDataReloadRequired=function(){return!l||!y.equals(p,a)},this.hasFilter=function(){return 0<Object.keys(this.filter(!0)).length},this.hasFilterChanges=function(){return!y.equals(p&&p.filter,a&&a.filter)},this.url=function(t){var e=(t=t||!1)?[]:{};for(var n in p)if(p.hasOwnProperty(n)){var i=p[n],o=encodeURIComponent(n);if("object"==typeof i){for(var r in i)if(!y.isUndefined(i[r])&&""!==i[r]){var a=o+"["+encodeURIComponent(r)+"]";t?e.push(a+"="+i[r]):e[a]=i[r]}}else y.isFunction(i)||y.isUndefined(i)||""===i||(t?e.push(o+"="+encodeURIComponent(i)):e[o]=encodeURIComponent(i))}return e},this.reload=function(){var t,e=this,n=null;h.$loading=!0,a=y.copy(p),l=!0,t=h.groupBy?o:r,n=(h.interceptors||[]).reduce(function(t,e){var n=e.response&&e.response.bind(e)||u.when,i=e.responseError&&e.responseError.bind(e)||u.reject;return t.then(function(t){return n(t,s)},function(t){return i(t,s)})},t()),c("ngTable: reload data");var i=e.data;return n.then(function(t){return h.$loading=!1,e.data=t,m.publishAfterReloadData(e,t,i),e.reloadPages(),h.$scope&&h.$scope.$emit("ngTableAfterReloadData"),t}).catch(function(t){return a=null,l=!1,u.reject(t)})},this.reloadPages=function(){var t=n,e=s.generatePagesArray(s.page(),s.total(),s.count());y.equals(t,e)||(n=e,m.publishPagesChanged(this,e,t))};var p={page:1,count:1,filter:{},sorting:{},group:{},groupBy:null};y.extend(p,d.params);var h={$scope:null,$loading:!1,data:null,total:0,defaultSort:"desc",filterDelay:750,counts:[10,25,50,100],interceptors:[],paginationMaxBlocks:11,paginationMinBlocks:5,sortingIndicator:"span",getDataFnAdaptor:y.identity,getGroupsFnAdaptor:y.identity,getGroups:this.getGroups,getData:this.getData};return this.settings(d.settings),this.settings(e),this.parameters(t,!0),m.publishAfterCreated(this),this}}]),t.factory("ngTableParams",["NgTableParams",function(t){return t}]),function(){function t(t,e){t.config=e}y.module("ngTable").controller("ngTableFilterRowController",t),t.$inject=["$scope","ngTableFilterConfig"]}(),function(){function t(s){s.sortBy=function(t,e){var n=t.sortable&&t.sortable();if(n){var i=s.params.settings().defaultSort,o="asc"===i?"desc":"asc",r=s.params.sorting()&&s.params.sorting()[n]&&s.params.sorting()[n]===i,a=e.ctrlKey||e.metaKey?s.params.sorting():{};a[n]=r?o:i,s.params.parameters({sorting:a})}}}y.module("ngTable").controller("ngTableSorterRowController",t),t.$inject=["$scope"]}(),t.controller("ngTableController",["$scope","NgTableParams","$timeout","$parse","$compile","$attrs","$element","ngTableColumn","ngTableEventsChannel",function(i,t,n,o,r,a,s,e,l){i.$filterRow={},i.$loading=!1,i.hasOwnProperty("params")||(i.params=new t(!0)),i.params.settings().$scope=i;var u,c=(u=0,function(t,e){n.cancel(u),u=n(t,e)});i.$watch("params",function(t,e){t!==e&&t&&t.reload()},!1),i.$watch("params.isDataReloadRequired()",function(t){if(t){var e=(i.params.settings().$scope=i).params;if(e.hasFilterChanges()){var n=function(){e.page(1),e.reload()};e.settings().filterDelay?c(n,e.settings().filterDelay):n()}else e.reload()}}),this.compileDirectiveTemplates=function(){if(!s.hasClass("ng-table")){i.templates={header:a.templateHeader?a.templateHeader:"ng-table/header.html",pagination:a.templatePagination?a.templatePagination:"ng-table/pager.html"},s.addClass("ng-table");var t=null,e=!1;y.forEach(s.children(),function(t){"THEAD"===t.tagName&&(e=!0)}),e||(t=y.element(document.createElement("thead")).attr("ng-include","templates.header"),s.prepend(t));var n=y.element(document.createElement("div")).attr({"ng-table-pagination":"params","template-url":"templates.pagination"});s.after(n),t&&r(t)(i),r(n)(i)}},this.loadFilterData=function(t){y.forEach(t,function(e){var t;return(t=e.filterData(i,{$column:e}))?y.isObject(t)&&y.isObject(t.promise)?(delete e.filterData,t.promise.then(function(t){y.isArray(t)||y.isFunction(t)||y.isObject(t)?y.isArray(t)&&t.unshift({title:"",id:""}):t=[],e.data=t})):e.data=t:void delete e.filterData})},this.buildColumns=function(t){return t.map(function(t){return e.buildColumn(t,i)})},this.parseNgTableDynamicExpr=function(t){if(!t||-1<t.indexOf(" with ")){var e=t.split(/\s+with\s+/);return{tableParams:e[0],columns:e[1]}}throw new Error("Parse error (expected example: ng-table-dynamic='tableParams with cols')")},this.setupBindingsToInternalScope=function(t){var e=o(t);i.$watch(e,function(t){y.isUndefined(t)||(i.paramsModel=e,i.params=t)},!1),a.showFilter&&i.$parent.$watch(a.showFilter,function(t){i.show_filter=t}),a.disableFilter&&i.$parent.$watch(a.disableFilter,function(t){i.$filterRow.disabled=t})},function(){function t(t){return i.params===t}l.onAfterReloadData(function(t,e){t.settings().groupBy?i.$groups=e:i.$data=e},i,t),l.onPagesChanged(function(t,e){i.pages=e},i,t)}()}]),t.factory("ngTableColumn",[function(){var e={class:function(){return""},filter:function(){return!1},filterData:y.noop,headerTemplateURL:function(){return!1},headerTitle:function(){return""},sortable:function(){return!1},show:function(){return!0},title:function(){return""},titleAlt:function(){return""}};return{buildColumn:function(n,i){var o=Object.create(n);for(var t in e)void 0===o[t]&&(o[t]=e[t]),y.isFunction(o[t])||function(t){o[t]=function(){return n[t]}}(t),function(t){var e=o[t];o[t]=function(){return 0===arguments.length?e.call(n,i):e.apply(n,arguments)}}(t);return o}}}]),t.directive("ngTable",["$q","$parse",function(t,s){return{restrict:"A",priority:1001,scope:!0,controller:"ngTableController",compile:function(t){var r=[],a=0,e=null;return y.forEach(y.element(t.find("tr")),function(t){(t=y.element(t)).hasClass("ng-table-group")||e||(e=t)}),e?(y.forEach(e.find("td"),function(t){var e=y.element(t);if(!e.attr("ignore-cell")||"true"!==e.attr("ignore-cell")){var i=function(t){return e.attr("x-data-"+t)||e.attr("data-"+t)||e.attr(t)},n=function(t){var n=i(t);return n?function(t,e){return s(n)(t,y.extend(e||{},{$columns:r}))}:void 0},o=i("title-alt")||i("title");o&&e.attr("data-title-text","{{"+o+"}}"),r.push({id:a++,title:n("title"),titleAlt:n("title-alt"),headerTitle:n("header-title"),sortable:n("sortable"),class:n("header-class"),filter:n("filter"),headerTemplateURL:n("header"),filterData:n("filter-data"),show:e.attr("ng-if")?function(t){return s(e.attr("ng-if"))(t)}:void 0})}}),function(t,e,n,i){t.$columns=r=i.buildColumns(r),i.setupBindingsToInternalScope(n.ngTable),i.loadFilterData(r),i.compileDirectiveTemplates()}):void 0}}}]),t.directive("ngTableDynamic",["$parse",function(){return{restrict:"A",priority:1001,scope:!0,controller:"ngTableController",compile:function(t){var e;return y.forEach(y.element(t.find("tr")),function(t){(t=y.element(t)).hasClass("ng-table-group")||e||(e=t)}),e?(y.forEach(e.find("td"),function(t){var e,n=y.element(t);(e="title",n.attr("x-data-"+e)||n.attr("data-"+e)||n.attr(e))||n.attr("data-title-text","{{$columns[$index].titleAlt(this) || $columns[$index].title(this)}}"),n.attr("ng-if")||n.attr("ng-if","$columns[$index].show(this)")}),function(e,t,n,i){var o=i.parseNgTableDynamicExpr(n.ngTableDynamic);i.setupBindingsToInternalScope(o.tableParams),i.compileDirectiveTemplates(),e.$watchCollection(o.columns,function(t){e.$columns=i.buildColumns(t),i.loadFilterData(e.$columns)})}):void 0}}}]),function(){function t(){return{restrict:"E",replace:!0,templateUrl:"ng-table/filterRow.html",scope:!0,controller:"ngTableFilterRowController"}}y.module("ngTable").directive("ngTableFilterRow",t),t.$inject=[]}(),function(){function t(){return{restrict:"E",replace:!0,templateUrl:"ng-table/sorterRow.html",scope:!0,controller:"ngTableSorterRowController"}}y.module("ngTable").directive("ngTableSorterRow",t),t.$inject=[]}(),t.directive("ngTablePagination",["$compile","ngTableEventsChannel",function(o,t){return{restrict:"A",scope:{params:"=ngTablePagination",templateUrl:"="},replace:!1,link:function(n,i){t.onAfterReloadData(function(t){n.pages=t.generatePagesArray()},n,function(t){return t===n.params}),n.$watch("templateUrl",function(t){if(!y.isUndefined(t)){var e=y.element(document.createElement("div"));e.attr({"ng-include":"templateUrl"}),i.append(e),o(e)(n)}})}}}]),y.module("ngTable").run(["$templateCache",function(t){t.put("ng-table/filterRow.html",'<tr ng-show="show_filter" class="ng-table-filters"> <th data-title-text="{{$column.titleAlt(this) || $column.title(this)}}" ng-repeat="$column in $columns" ng-if="$column.show(this)" class="filter"> <div ng-repeat="(name, filter) in $column.filter(this)"> <div ng-include="config.getTemplateUrl(filter)"></div> </div> </th> </tr> '),t.put("ng-table/filters/number.html",'<input type="number" name="{{name}}" ng-disabled="$filterRow.disabled" ng-model="params.filter()[name]" class="input-filter form-control"/> '),t.put("ng-table/filters/select-multiple.html",'<select ng-options="data.id as data.title for data in $column.data" ng-disabled="$filterRow.disabled" multiple ng-multiple="true" ng-model="params.filter()[name]" class="filter filter-select-multiple form-control" name="{{name}}"> </select> '),t.put("ng-table/filters/select.html",'<select ng-options="data.id as data.title for data in $column.data" ng-disabled="$filterRow.disabled" ng-model="params.filter()[name]" class="filter filter-select form-control" name="{{name}}"> <option style="display:none" value=""></option> </select> '),t.put("ng-table/filters/text.html",'<input type="text" name="{{name}}" ng-disabled="$filterRow.disabled" ng-model="params.filter()[name]" class="input-filter form-control"/> '),t.put("ng-table/header.html","<ng-table-sorter-row></ng-table-sorter-row> <ng-table-filter-row></ng-table-filter-row> "),t.put("ng-table/pager.html",'<div class="ng-cloak ng-table-pager" ng-if="params.data.length"> <div ng-if="params.settings().counts.length" class="ng-table-counts btn-group pull-right"> <button ng-repeat="count in params.settings().counts" type="button" ng-class="{\'active\':params.count()==count}" ng-click="params.count(count)" class="btn btn-default"> <span ng-bind="count"></span> </button> </div> <ul class="pagination ng-table-pagination"> <li ng-class="{\'disabled\': !page.active && !page.current, \'active\': page.current}" ng-repeat="page in pages" ng-switch="page.type"> <a ng-switch-when="prev" ng-click="params.page(page.number)" href="">&laquo;</a> <a ng-switch-when="first" ng-click="params.page(page.number)" href=""><span ng-bind="page.number"></span></a> <a ng-switch-when="page" ng-click="params.page(page.number)" href=""><span ng-bind="page.number"></span></a> <a ng-switch-when="more" ng-click="params.page(page.number)" href="">&#8230;</a> <a ng-switch-when="last" ng-click="params.page(page.number)" href=""><span ng-bind="page.number"></span></a> <a ng-switch-when="next" ng-click="params.page(page.number)" href="">&raquo;</a> </li> </ul> </div> '),t.put("ng-table/sorterRow.html",'<tr> <th title="{{$column.headerTitle(this)}}" ng-repeat="$column in $columns" ng-class="{ \'sortable\': $column.sortable(this), \'sort-asc\': params.sorting()[$column.sortable(this)]==\'asc\', \'sort-desc\': params.sorting()[$column.sortable(this)]==\'desc\' }" ng-click="sortBy($column, $event)" ng-if="$column.show(this)" ng-init="template=$column.headerTemplateURL(this)" class="header {{$column.class(this)}}"> <div ng-if="!template" class="ng-table-header" ng-class="{\'sort-indicator\': params.settings().sortingIndicator==\'div\'}"> <span ng-bind="$column.title(this)" ng-class="{\'sort-indicator\': params.settings().sortingIndicator==\'span\'}"></span> </div> <div ng-if="template" ng-include="template"></div> </th> </tr> ')}]),t}),function(t,e){"use strict";"undefined"!=typeof module&&module.exports?module.exports=e(require("jquery"),require("bootstrap")):"function"==typeof define&&define.amd?define("bootstrap-dialog",["jquery","bootstrap"],function(t){return e(t)}):t.BootstrapDialog=e(t.jQuery)}(this,function(s){"use strict";var n=s.fn.modal.Constructor,e=function(t,e){n.call(this,t,e)};e.getModalVersion=function(){return void 0===s.fn.modal.Constructor.VERSION?"v3.1":/3\.2\.\d+/.test(s.fn.modal.Constructor.VERSION)?"v3.2":/3\.3\.[1,2]/.test(s.fn.modal.Constructor.VERSION)?"v3.3":"v3.3.4"},e.ORIGINAL_BODY_PADDING=parseInt(s("body").css("padding-right")||0,10),(e.METHODS_TO_OVERRIDE={})["v3.1"]={},e.METHODS_TO_OVERRIDE["v3.2"]={hide:function(t){(t&&t.preventDefault(),t=s.Event("hide.bs.modal"),this.$element.trigger(t),this.isShown&&!t.isDefaultPrevented())&&(this.isShown=!1,0===this.getGlobalOpenedDialogs().length&&this.$body.removeClass("modal-open"),this.resetScrollbar(),this.escape(),s(document).off("focusin.bs.modal"),this.$element.removeClass("in").attr("aria-hidden",!0).off("click.dismiss.bs.modal"),s.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",s.proxy(this.hideModal,this)).emulateTransitionEnd(300):this.hideModal())}},e.METHODS_TO_OVERRIDE["v3.3"]={setScrollbar:function(){var t=e.ORIGINAL_BODY_PADDING;this.bodyIsOverflowing&&this.$body.css("padding-right",t+this.scrollbarWidth)},resetScrollbar:function(){0===this.getGlobalOpenedDialogs().length&&this.$body.css("padding-right",e.ORIGINAL_BODY_PADDING)},hideModal:function(){this.$element.hide(),this.backdrop(s.proxy(function(){0===this.getGlobalOpenedDialogs().length&&this.$body.removeClass("modal-open"),this.resetAdjustments(),this.resetScrollbar(),this.$element.trigger("hidden.bs.modal")},this))}},e.METHODS_TO_OVERRIDE["v3.3.4"]=s.extend({},e.METHODS_TO_OVERRIDE["v3.3"]),e.prototype={constructor:e,getGlobalOpenedDialogs:function(){var n=[];return s.each(r.dialogs,function(t,e){e.isRealized()&&e.isOpened()&&n.push(e)}),n}},e.prototype=s.extend(e.prototype,n.prototype,e.METHODS_TO_OVERRIDE[e.getModalVersion()]);var r=function(t){this.defaultOptions=s.extend(!0,{id:r.newGuid(),buttons:[],data:{},onshow:null,onshown:null,onhide:null,onhidden:null},r.defaultOptions),this.indexedButtons={},this.registeredButtonHotkeys={},this.draggableData={isMouseDown:!1,mouseOffset:{}},this.realized=!1,this.opened=!1,this.initOptions(t),this.holdThisInstance()};return r.BootstrapDialogModal=e,r.NAMESPACE="bootstrap-dialog",r.TYPE_DEFAULT="type-default",r.TYPE_INFO="type-info",r.TYPE_PRIMARY="type-primary",r.TYPE_SUCCESS="type-success",r.TYPE_WARNING="type-warning",r.TYPE_DANGER="type-danger",r.DEFAULT_TEXTS={},r.DEFAULT_TEXTS[r.TYPE_DEFAULT]="Information",r.DEFAULT_TEXTS[r.TYPE_INFO]="Information",r.DEFAULT_TEXTS[r.TYPE_PRIMARY]="Information",r.DEFAULT_TEXTS[r.TYPE_SUCCESS]="Success",r.DEFAULT_TEXTS[r.TYPE_WARNING]="Warning",r.DEFAULT_TEXTS[r.TYPE_DANGER]="Danger",r.DEFAULT_TEXTS.OK="OK",r.DEFAULT_TEXTS.CANCEL="Cancel",r.DEFAULT_TEXTS.CONFIRM="Confirmation",r.SIZE_NORMAL="size-normal",r.SIZE_SMALL="size-small",r.SIZE_WIDE="size-wide",r.SIZE_LARGE="size-large",r.BUTTON_SIZES={},r.BUTTON_SIZES[r.SIZE_NORMAL]="",r.BUTTON_SIZES[r.SIZE_SMALL]="",r.BUTTON_SIZES[r.SIZE_WIDE]="",r.BUTTON_SIZES[r.SIZE_LARGE]="btn-lg",r.ICON_SPINNER="glyphicon glyphicon-asterisk",r.BUTTONS_ORDER_CANCEL_OK="btns-order-cancel-ok",r.BUTTONS_ORDER_OK_CANCEL="btns-order-ok-cancel",r.defaultOptions={type:r.TYPE_PRIMARY,size:r.SIZE_NORMAL,cssClass:"",title:null,message:null,nl2br:!0,closable:!0,closeByBackdrop:!0,closeByKeyboard:!0,closeIcon:"&#215;",spinicon:r.ICON_SPINNER,autodestroy:!0,draggable:!1,animate:!0,description:"",tabindex:-1,btnsOrder:r.BUTTONS_ORDER_CANCEL_OK},r.configDefaultOptions=function(t){r.defaultOptions=s.extend(!0,r.defaultOptions,t)},r.dialogs={},r.openAll=function(){s.each(r.dialogs,function(t,e){e.open()})},r.closeAll=function(){s.each(r.dialogs,function(t,e){e.close()})},r.getDialog=function(t){var e=null;return void 0!==r.dialogs[t]&&(e=r.dialogs[t]),e},r.setDialog=function(t){return r.dialogs[t.getId()]=t},r.addDialog=function(t){return r.setDialog(t)},r.moveFocus=function(){var n=null;s.each(r.dialogs,function(t,e){e.isRealized()&&e.isOpened()&&(n=e)}),null!==n&&n.getModal().focus()},r.METHODS_TO_OVERRIDE={},r.METHODS_TO_OVERRIDE["v3.1"]={handleModalBackdropEvent:function(){return this.getModal().on("click",{dialog:this},function(t){t.target===this&&t.data.dialog.isClosable()&&t.data.dialog.canCloseByBackdrop()&&t.data.dialog.close()}),this},updateZIndex:function(){if(this.isOpened()){var n=0;s.each(r.dialogs,function(t,e){e.isRealized()&&e.isOpened()&&n++});var t=this.getModal(),e=t.data("bs.modal").$backdrop;t.css("z-index",1050+20*(n-1)),e.css("z-index",1040+20*(n-1))}return this},open:function(){return!this.isRealized()&&this.realize(),this.getModal().modal("show"),this.updateZIndex(),this}},r.METHODS_TO_OVERRIDE["v3.2"]={handleModalBackdropEvent:r.METHODS_TO_OVERRIDE["v3.1"].handleModalBackdropEvent,updateZIndex:r.METHODS_TO_OVERRIDE["v3.1"].updateZIndex,open:r.METHODS_TO_OVERRIDE["v3.1"].open},r.METHODS_TO_OVERRIDE["v3.3"]={},r.METHODS_TO_OVERRIDE["v3.3.4"]=s.extend({},r.METHODS_TO_OVERRIDE["v3.1"]),r.prototype={constructor:r,initOptions:function(t){return this.options=s.extend(!0,this.defaultOptions,t),this},holdThisInstance:function(){return r.addDialog(this),this},initModalStuff:function(){return this.setModal(this.createModal()).setModalDialog(this.createModalDialog()).setModalContent(this.createModalContent()).setModalHeader(this.createModalHeader()).setModalBody(this.createModalBody()).setModalFooter(this.createModalFooter()),this.getModal().append(this.getModalDialog()),this.getModalDialog().append(this.getModalContent()),this.getModalContent().append(this.getModalHeader()).append(this.getModalBody()).append(this.getModalFooter()),this},createModal:function(){var t=s('<div class="modal" role="dialog" aria-hidden="true"></div>');return t.prop("id",this.getId()),t.attr("aria-labelledby",this.getId()+"_title"),t},getModal:function(){return this.$modal},setModal:function(t){return this.$modal=t,this},createModalDialog:function(){return s('<div class="modal-dialog"></div>')},getModalDialog:function(){return this.$modalDialog},setModalDialog:function(t){return this.$modalDialog=t,this},createModalContent:function(){return s('<div class="modal-content"></div>')},getModalContent:function(){return this.$modalContent},setModalContent:function(t){return this.$modalContent=t,this},createModalHeader:function(){return s('<div class="modal-header"></div>')},getModalHeader:function(){return this.$modalHeader},setModalHeader:function(t){return this.$modalHeader=t,this},createModalBody:function(){return s('<div class="modal-body"></div>')},getModalBody:function(){return this.$modalBody},setModalBody:function(t){return this.$modalBody=t,this},createModalFooter:function(){return s('<div class="modal-footer"></div>')},getModalFooter:function(){return this.$modalFooter},setModalFooter:function(t){return this.$modalFooter=t,this},createDynamicContent:function(t){var e=null;return"string"==typeof(e="function"==typeof t?t.call(t,this):t)&&(e=this.formatStringContent(e)),e},formatStringContent:function(t){return this.options.nl2br?t.replace(/\r\n/g,"<br />").replace(/[\r\n]/g,"<br />"):t},setData:function(t,e){return this.options.data[t]=e,this},getData:function(t){return this.options.data[t]},setId:function(t){return this.options.id=t,this},getId:function(){return this.options.id},getType:function(){return this.options.type},setType:function(t){return this.options.type=t,this.updateType(),this},updateType:function(){if(this.isRealized()){var t=[r.TYPE_DEFAULT,r.TYPE_INFO,r.TYPE_PRIMARY,r.TYPE_SUCCESS,r.TYPE_WARNING,r.TYPE_DANGER];this.getModal().removeClass(t.join(" ")).addClass(this.getType())}return this},getSize:function(){return this.options.size},setSize:function(t){return this.options.size=t,this.updateSize(),this},updateSize:function(){if(this.isRealized()){var a=this;this.getModal().removeClass(r.SIZE_NORMAL).removeClass(r.SIZE_SMALL).removeClass(r.SIZE_WIDE).removeClass(r.SIZE_LARGE),this.getModal().addClass(this.getSize()),this.getModalDialog().removeClass("modal-sm"),this.getSize()===r.SIZE_SMALL&&this.getModalDialog().addClass("modal-sm"),this.getModalDialog().removeClass("modal-lg"),this.getSize()===r.SIZE_WIDE&&this.getModalDialog().addClass("modal-lg"),s.each(this.options.buttons,function(t,e){var n=a.getButton(e.id),i=["btn-lg","btn-sm","btn-xs"],o=!1;if("string"==typeof e.cssClass){var r=e.cssClass.split(" ");s.each(r,function(t,e){-1!==s.inArray(e,i)&&(o=!0)})}o||(n.removeClass(i.join(" ")),n.addClass(a.getButtonSize()))})}return this},getCssClass:function(){return this.options.cssClass},setCssClass:function(t){return this.options.cssClass=t,this},getTitle:function(){return this.options.title},setTitle:function(t){return this.options.title=t,this.updateTitle(),this},updateTitle:function(){if(this.isRealized()){var t=null!==this.getTitle()?this.createDynamicContent(this.getTitle()):this.getDefaultText();this.getModalHeader().find("."+this.getNamespace("title")).html("").append(t).prop("id",this.getId()+"_title")}return this},getMessage:function(){return this.options.message},setMessage:function(t){return this.options.message=t,this.updateMessage(),this},updateMessage:function(){if(this.isRealized()){var t=this.createDynamicContent(this.getMessage());this.getModalBody().find("."+this.getNamespace("message")).html("").append(t)}return this},isClosable:function(){return this.options.closable},setClosable:function(t){return this.options.closable=t,this.updateClosable(),this},setCloseByBackdrop:function(t){return this.options.closeByBackdrop=t,this},canCloseByBackdrop:function(){return this.options.closeByBackdrop},setCloseByKeyboard:function(t){return this.options.closeByKeyboard=t,this},canCloseByKeyboard:function(){return this.options.closeByKeyboard},isAnimate:function(){return this.options.animate},setAnimate:function(t){return this.options.animate=t,this},updateAnimate:function(){return this.isRealized()&&this.getModal().toggleClass("fade",this.isAnimate()),this},getSpinicon:function(){return this.options.spinicon},setSpinicon:function(t){return this.options.spinicon=t,this},addButton:function(t){return this.options.buttons.push(t),this},addButtons:function(t){var n=this;return s.each(t,function(t,e){n.addButton(e)}),this},getButtons:function(){return this.options.buttons},setButtons:function(t){return this.options.buttons=t,this.updateButtons(),this},getButton:function(t){return void 0!==this.indexedButtons[t]?this.indexedButtons[t]:null},getButtonSize:function(){return void 0!==r.BUTTON_SIZES[this.getSize()]?r.BUTTON_SIZES[this.getSize()]:""},updateButtons:function(){return this.isRealized()&&(0===this.getButtons().length?this.getModalFooter().hide():this.getModalFooter().show().find("."+this.getNamespace("footer")).html("").append(this.createFooterButtons())),this},isAutodestroy:function(){return this.options.autodestroy},setAutodestroy:function(t){this.options.autodestroy=t},getDescription:function(){return this.options.description},setDescription:function(t){return this.options.description=t,this},setTabindex:function(t){return this.options.tabindex=t,this},getTabindex:function(){return this.options.tabindex},updateTabindex:function(){return this.isRealized()&&this.getModal().attr("tabindex",this.getTabindex()),this},getDefaultText:function(){return r.DEFAULT_TEXTS[this.getType()]},getNamespace:function(t){return r.NAMESPACE+"-"+t},createHeaderContent:function(){var t=s("<div></div>");return t.addClass(this.getNamespace("header")),t.append(this.createTitleContent()),t.prepend(this.createCloseButton()),t},createTitleContent:function(){var t=s("<div></div>");return t.addClass(this.getNamespace("title")),t},createCloseButton:function(){var t=s("<div></div>");t.addClass(this.getNamespace("close-button"));var e=s('<button class="close"></button>');return e.append(this.options.closeIcon),t.append(e),t.on("click",{dialog:this},function(t){t.data.dialog.close()}),t},createBodyContent:function(){var t=s("<div></div>");return t.addClass(this.getNamespace("body")),t.append(this.createMessageContent()),t},createMessageContent:function(){var t=s("<div></div>");return t.addClass(this.getNamespace("message")),t},createFooterContent:function(){var t=s("<div></div>");return t.addClass(this.getNamespace("footer")),t},createFooterButtons:function(){var i=this,o=s("<div></div>");return o.addClass(this.getNamespace("footer-buttons")),this.indexedButtons={},s.each(this.options.buttons,function(t,e){e.id||(e.id=r.newGuid());var n=i.createButton(e);i.indexedButtons[e.id]=n,o.append(n)}),o},createButton:function(t){var e=s('<button class="btn"></button>');return e.prop("id",t.id),e.data("button",t),void 0!==t.icon&&""!==s.trim(t.icon)&&e.append(this.createButtonIcon(t.icon)),void 0!==t.label&&e.append(t.label),e.addClass(void 0!==t.cssClass&&""!==s.trim(t.cssClass)?t.cssClass:"btn-default"),void 0!==t.hotkey&&(this.registeredButtonHotkeys[t.hotkey]=e),e.on("click",{dialog:this,$button:e,button:t},function(t){var e=t.data.dialog,n=t.data.$button,i=n.data("button");return i.autospin&&n.toggleSpin(!0),"function"==typeof i.action?i.action.call(n,e,t):void 0}),this.enhanceButton(e),void 0!==t.enabled&&e.toggleEnable(t.enabled),e},enhanceButton:function(i){return i.dialog=this,i.toggleEnable=function(t){return void 0!==t?this.prop("disabled",!t).toggleClass("disabled",!t):this.prop("disabled",!this.prop("disabled")),this},i.enable=function(){return this.toggleEnable(!0),this},i.disable=function(){return this.toggleEnable(!1),this},i.toggleSpin=function(t){var e=this.dialog,n=this.find("."+e.getNamespace("button-icon"));return void 0===t&&(t=!(0<i.find(".icon-spin").length)),t?(n.hide(),i.prepend(e.createButtonIcon(e.getSpinicon()).addClass("icon-spin"))):(n.show(),i.find(".icon-spin").remove()),this},i.spin=function(){return this.toggleSpin(!0),this},i.stopSpin=function(){return this.toggleSpin(!1),this},this},createButtonIcon:function(t){var e=s("<span></span>");return e.addClass(this.getNamespace("button-icon")).addClass(t),e},enableButtons:function(n){return s.each(this.indexedButtons,function(t,e){e.toggleEnable(n)}),this},updateClosable:function(){return this.isRealized()&&this.getModalHeader().find("."+this.getNamespace("close-button")).toggle(this.isClosable()),this},onShow:function(t){return this.options.onshow=t,this},onShown:function(t){return this.options.onshown=t,this},onHide:function(t){return this.options.onhide=t,this},onHidden:function(t){return this.options.onhidden=t,this},isRealized:function(){return this.realized},setRealized:function(t){return this.realized=t,this},isOpened:function(){return this.opened},setOpened:function(t){return this.opened=t,this},handleModalEvents:function(){return this.getModal().on("show.bs.modal",{dialog:this},function(t){var e=t.data.dialog;if(e.setOpened(!0),e.isModalEvent(t)&&"function"==typeof e.options.onshow){var n=e.options.onshow(e);return!1===n&&e.setOpened(!1),n}}),this.getModal().on("shown.bs.modal",{dialog:this},function(t){var e=t.data.dialog;e.isModalEvent(t)&&"function"==typeof e.options.onshown&&e.options.onshown(e)}),this.getModal().on("hide.bs.modal",{dialog:this},function(t){var e=t.data.dialog;if(e.setOpened(!1),e.isModalEvent(t)&&"function"==typeof e.options.onhide){var n=e.options.onhide(e);return!1===n&&e.setOpened(!0),n}}),this.getModal().on("hidden.bs.modal",{dialog:this},function(t){var e=t.data.dialog;e.isModalEvent(t)&&"function"==typeof e.options.onhidden&&e.options.onhidden(e),e.isAutodestroy()&&(e.setRealized(!1),delete r.dialogs[e.getId()],s(this).remove()),r.moveFocus()}),this.handleModalBackdropEvent(),this.getModal().on("keyup",{dialog:this},function(t){27===t.which&&t.data.dialog.isClosable()&&t.data.dialog.canCloseByKeyboard()&&t.data.dialog.close()}),this.getModal().on("keyup",{dialog:this},function(t){var e=t.data.dialog;if(void 0!==e.registeredButtonHotkeys[t.which]){var n=s(e.registeredButtonHotkeys[t.which]);!n.prop("disabled")&&n.focus().trigger("click")}}),this},handleModalBackdropEvent:function(){return this.getModal().on("click",{dialog:this},function(t){s(t.target).hasClass("modal-backdrop")&&t.data.dialog.isClosable()&&t.data.dialog.canCloseByBackdrop()&&t.data.dialog.close()}),this},isModalEvent:function(t){return void 0!==t.namespace&&"bs.modal"===t.namespace},makeModalDraggable:function(){return this.options.draggable&&(this.getModalHeader().addClass(this.getNamespace("draggable")).on("mousedown",{dialog:this},function(t){var e=t.data.dialog;e.draggableData.isMouseDown=!0;var n=e.getModalDialog().offset();e.draggableData.mouseOffset={top:t.clientY-n.top,left:t.clientX-n.left}}),this.getModal().on("mouseup mouseleave",{dialog:this},function(t){t.data.dialog.draggableData.isMouseDown=!1}),s("body").on("mousemove",{dialog:this},function(t){var e=t.data.dialog;e.draggableData.isMouseDown&&e.getModalDialog().offset({top:t.clientY-e.draggableData.mouseOffset.top,left:t.clientX-e.draggableData.mouseOffset.left})})),this},realize:function(){return this.initModalStuff(),this.getModal().addClass(r.NAMESPACE).addClass(this.getCssClass()),this.updateSize(),this.getDescription()&&this.getModal().attr("aria-describedby",this.getDescription()),this.getModalFooter().append(this.createFooterContent()),this.getModalHeader().append(this.createHeaderContent()),this.getModalBody().append(this.createBodyContent()),this.getModal().data("bs.modal",new e(this.getModal(),{backdrop:"static",keyboard:!1,show:!1})),this.makeModalDraggable(),this.handleModalEvents(),this.setRealized(!0),this.updateButtons(),this.updateType(),this.updateTitle(),this.updateMessage(),this.updateClosable(),this.updateAnimate(),this.updateSize(),this.updateTabindex(),this},open:function(){return!this.isRealized()&&this.realize(),this.getModal().modal("show"),this},close:function(){return!this.isRealized()&&this.realize(),this.getModal().modal("hide"),this}},r.prototype=s.extend(r.prototype,r.METHODS_TO_OVERRIDE[e.getModalVersion()]),r.newGuid=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var e=16*Math.random()|0;return("x"===t?e:3&e|8).toString(16)})},r.show=function(t){return new r(t).open()},r.alert=function(){var t,e={type:r.TYPE_PRIMARY,title:null,message:null,closable:!1,draggable:!1,buttonLabel:r.DEFAULT_TEXTS.OK,buttonHotkey:null,callback:null};t="object"==typeof arguments[0]&&arguments[0].constructor==={}.constructor?s.extend(!0,e,arguments[0]):s.extend(!0,e,{message:arguments[0],callback:void 0!==arguments[1]?arguments[1]:null});var n=new r(t);return n.setData("callback",t.callback),n.addButton({label:t.buttonLabel,hotkey:t.buttonHotkey,action:function(t){return("function"!=typeof t.getData("callback")||!1!==t.getData("callback").call(this,!0))&&(t.setData("btnClicked",!0),t.close())}}),n.onHide("function"==typeof n.options.onhide?function(t){var e=!0;return!t.getData("btnClicked")&&t.isClosable()&&"function"==typeof t.getData("callback")&&(e=t.getData("callback")(!1)),!1!==e&&(e=this.onhide(t))}.bind({onhide:n.options.onhide}):function(t){var e=!0;return!t.getData("btnClicked")&&t.isClosable()&&"function"==typeof t.getData("callback")&&(e=t.getData("callback")(!1)),e}),n.open()},r.confirm=function(){var t={},e={type:r.TYPE_PRIMARY,title:null,message:null,closable:!1,draggable:!1,btnCancelLabel:r.DEFAULT_TEXTS.CANCEL,btnCancelClass:null,btnCancelHotkey:null,btnOKLabel:r.DEFAULT_TEXTS.OK,btnOKClass:null,btnOKHotkey:null,btnsOrder:r.defaultOptions.btnsOrder,callback:null};null===(t="object"==typeof arguments[0]&&arguments[0].constructor==={}.constructor?s.extend(!0,e,arguments[0]):s.extend(!0,e,{message:arguments[0],callback:void 0!==arguments[1]?arguments[1]:null})).btnOKClass&&(t.btnOKClass=["btn",t.type.split("-")[1]].join("-"));var n=new r(t);n.setData("callback",t.callback);var i=[{label:t.btnCancelLabel,cssClass:t.btnCancelClass,hotkey:t.btnCancelHotkey,action:function(t){return("function"!=typeof t.getData("callback")||!1!==t.getData("callback").call(this,!1))&&t.close()}},{label:t.btnOKLabel,cssClass:t.btnOKClass,hotkey:t.btnOKHotkey,action:function(t){return("function"!=typeof t.getData("callback")||!1!==t.getData("callback").call(this,!0))&&t.close()}}];return t.btnsOrder===r.BUTTONS_ORDER_OK_CANCEL&&i.reverse(),n.addButtons(i),n.open()},r.warning=function(t,e){return new r({type:r.TYPE_WARNING,message:t}).open()},r.danger=function(t,e){return new r({type:r.TYPE_DANGER,message:t}).open()},r.success=function(t,e){return new r({type:r.TYPE_SUCCESS,message:t}).open()},r}),function(){var I={version:"3.5.17"},r=[].slice,h=function(t){return r.call(t)},b=this.document;function s(t){return t&&(t.ownerDocument||t.document||t).documentElement}function R(t){return t&&(t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView)}if(b)try{h(b.documentElement.childNodes)[0].nodeType}catch(t){h=function(t){for(var e=t.length,n=new Array(e);e--;)n[e]=t[e];return n}}if(Date.now||(Date.now=function(){return+new Date}),b)try{b.createElement("DIV").style.setProperty("opacity",0,"")}catch(t){var e=this.Element.prototype,n=e.setAttribute,i=e.setAttributeNS,o=this.CSSStyleDeclaration.prototype,a=o.setProperty;e.setAttribute=function(t,e){n.call(this,t,e+"")},e.setAttributeNS=function(t,e,n){i.call(this,t,e,n+"")},o.setProperty=function(t,e,n){a.call(this,t,e+"",n)}}function l(t,e){return t<e?-1:e<t?1:e<=t?0:NaN}function u(t){return null===t?NaN:+t}function c(t){return!isNaN(t)}function t(r){return{left:function(t,e,n,i){for(arguments.length<3&&(n=0),arguments.length<4&&(i=t.length);n<i;){var o=n+i>>>1;r(t[o],e)<0?n=o+1:i=o}return n},right:function(t,e,n,i){for(arguments.length<3&&(n=0),arguments.length<4&&(i=t.length);n<i;){var o=n+i>>>1;0<r(t[o],e)?i=o:n=o+1}return n}}}I.ascending=l,I.descending=function(t,e){return e<t?-1:t<e?1:t<=e?0:NaN},I.min=function(t,e){var n,i,o=-1,r=t.length;if(1===arguments.length){for(;++o<r;)if(null!=(i=t[o])&&i<=i){n=i;break}for(;++o<r;)null!=(i=t[o])&&i<n&&(n=i)}else{for(;++o<r;)if(null!=(i=e.call(t,t[o],o))&&i<=i){n=i;break}for(;++o<r;)null!=(i=e.call(t,t[o],o))&&i<n&&(n=i)}return n},I.max=function(t,e){var n,i,o=-1,r=t.length;if(1===arguments.length){for(;++o<r;)if(null!=(i=t[o])&&i<=i){n=i;break}for(;++o<r;)null!=(i=t[o])&&n<i&&(n=i)}else{for(;++o<r;)if(null!=(i=e.call(t,t[o],o))&&i<=i){n=i;break}for(;++o<r;)null!=(i=e.call(t,t[o],o))&&n<i&&(n=i)}return n},I.extent=function(t,e){var n,i,o,r=-1,a=t.length;if(1===arguments.length){for(;++r<a;)if(null!=(i=t[r])&&i<=i){n=o=i;break}for(;++r<a;)null!=(i=t[r])&&(i<n&&(n=i),o<i&&(o=i))}else{for(;++r<a;)if(null!=(i=e.call(t,t[r],r))&&i<=i){n=o=i;break}for(;++r<a;)null!=(i=e.call(t,t[r],r))&&(i<n&&(n=i),o<i&&(o=i))}return[n,o]},I.sum=function(t,e){var n,i=0,o=t.length,r=-1;if(1===arguments.length)for(;++r<o;)c(n=+t[r])&&(i+=n);else for(;++r<o;)c(n=+e.call(t,t[r],r))&&(i+=n);return i},I.mean=function(t,e){var n,i=0,o=t.length,r=-1,a=o;if(1===arguments.length)for(;++r<o;)c(n=u(t[r]))?i+=n:--a;else for(;++r<o;)c(n=u(e.call(t,t[r],r)))?i+=n:--a;if(a)return i/a},I.quantile=function(t,e){var n=(t.length-1)*e+1,i=Math.floor(n),o=+t[i-1],r=n-i;return r?o+r*(t[i]-o):o},I.median=function(t,e){var n,i=[],o=t.length,r=-1;if(1===arguments.length)for(;++r<o;)c(n=u(t[r]))&&i.push(n);else for(;++r<o;)c(n=u(e.call(t,t[r],r)))&&i.push(n);if(i.length)return I.quantile(i.sort(l),.5)},I.variance=function(t,e){var n,i,o=t.length,r=0,a=0,s=-1,l=0;if(1===arguments.length)for(;++s<o;)c(n=u(t[s]))&&(a+=(i=n-r)*(n-(r+=i/++l)));else for(;++s<o;)c(n=u(e.call(t,t[s],s)))&&(a+=(i=n-r)*(n-(r+=i/++l)));if(1<l)return a/(l-1)},I.deviation=function(){var t=I.variance.apply(this,arguments);return t?Math.sqrt(t):t};var p=t(l);function d(t){return t.length}I.bisectLeft=p.left,I.bisect=I.bisectRight=p.right,I.bisector=function(n){return t(1===n.length?function(t,e){return l(n(t),e)}:n)},I.shuffle=function(t,e,n){(r=arguments.length)<3&&(n=t.length,r<2&&(e=0));for(var i,o,r=n-e;r;)o=Math.random()*r--|0,i=t[r+e],t[r+e]=t[o+e],t[o+e]=i;return t},I.permute=function(t,e){for(var n=e.length,i=new Array(n);n--;)i[n]=t[e[n]];return i},I.pairs=function(t){for(var e=0,n=t.length-1,i=t[0],o=new Array(n<0?0:n);e<n;)o[e]=[i,i=t[++e]];return o},I.transpose=function(t){if(!(o=t.length))return[];for(var e=-1,n=I.min(t,d),i=new Array(n);++e<n;)for(var o,r=-1,a=i[e]=new Array(o);++r<o;)a[r]=t[r][e];return i},I.zip=function(){return I.transpose(arguments)},I.keys=function(t){var e=[];for(var n in t)e.push(n);return e},I.values=function(t){var e=[];for(var n in t)e.push(t[n]);return e},I.entries=function(t){var e=[];for(var n in t)e.push({key:n,value:t[n]});return e},I.merge=function(t){for(var e,n,i,o=t.length,r=-1,a=0;++r<o;)a+=t[r].length;for(n=new Array(a);0<=--o;)for(e=(i=t[o]).length;0<=--e;)n[--a]=i[e];return n};var O=Math.abs;function f(t,e){for(var n in e)Object.defineProperty(t.prototype,n,{value:e[n],enumerable:!1})}function y(){this._=Object.create(null)}I.range=function(t,e,n){if(arguments.length<3&&(n=1,arguments.length<2&&(e=t,t=0)),(e-t)/n==1/0)throw new Error("infinite range");var i,o=[],r=function(t){var e=1;for(;t*e%1;)e*=10;return e}(O(n)),a=-1;if(t*=r,e*=r,(n*=r)<0)for(;(i=t+n*++a)>e;)o.push(i/r);else for(;(i=t+n*++a)<e;)o.push(i/r);return o},I.map=function(t,e){var n=new y;if(t instanceof y)t.forEach(function(t,e){n.set(t,e)});else if(Array.isArray(t)){var i,o=-1,r=t.length;if(1===arguments.length)for(;++o<r;)n.set(o,t[o]);else for(;++o<r;)n.set(e.call(t,i=t[o],o),i)}else for(var a in t)n.set(a,t[a]);return n};var g="__proto__",m="\0";function v(t){return(t+="")===g||t[0]===m?m+t:t}function w(t){return(t+="")[0]===m?t.slice(1):t}function x(t){return v(t)in this._}function $(t){return(t=v(t))in this._&&delete this._[t]}function _(){var t=[];for(var e in this._)t.push(w(e));return t}function k(){var t=0;for(var e in this._)++t;return t}function C(){for(var t in this._)return!1;return!0}function S(){this._=Object.create(null)}function L(t){return t}function T(e,n,i){return function(){var t=i.apply(n,arguments);return t===n?e:t}}function A(t,e){if(e in t)return e;e=e.charAt(0).toUpperCase()+e.slice(1);for(var n=0,i=D.length;n<i;++n){var o=D[n]+e;if(o in t)return o}}f(y,{has:x,get:function(t){return this._[v(t)]},set:function(t,e){return this._[v(t)]=e},remove:$,keys:_,values:function(){var t=[];for(var e in this._)t.push(this._[e]);return t},entries:function(){var t=[];for(var e in this._)t.push({key:w(e),value:this._[e]});return t},size:k,empty:C,forEach:function(t){for(var e in this._)t.call(this,w(e),this._[e])}}),I.nest=function(){var p,h,d={},f=[],e=[];function g(n,t,i){if(i>=f.length)return h?h.call(d,t):p?t.sort(p):t;for(var e,o,r,a,s=-1,l=t.length,u=f[i++],c=new y;++s<l;)(a=c.get(e=u(o=t[s])))?a.push(o):c.set(e,[o]);return r=n?(o=n(),function(t,e){o.set(t,g(n,e,i))}):(o={},function(t,e){o[t]=g(n,e,i)}),c.forEach(r),o}return d.map=function(t,e){return g(e,t,0)},d.entries=function(t){return function n(t,i){if(i>=f.length)return t;var o=[],r=e[i++];return t.forEach(function(t,e){o.push({key:t,values:n(e,i)})}),r?o.sort(function(t,e){return r(t.key,e.key)}):o}(g(I.map,t,0),0)},d.key=function(t){return f.push(t),d},d.sortKeys=function(t){return e[f.length-1]=t,d},d.sortValues=function(t){return p=t,d},d.rollup=function(t){return h=t,d},d},I.set=function(t){var e=new S;if(t)for(var n=0,i=t.length;n<i;++n)e.add(t[n]);return e},f(S,{has:x,add:function(t){return this._[v(t+="")]=!0,t},remove:$,values:_,size:k,empty:C,forEach:function(t){for(var e in this._)t.call(this,w(e))}}),I.behavior={},I.rebind=function(t,e){for(var n,i=1,o=arguments.length;++i<o;)t[n=arguments[i]]=T(t,e,e[n]);return t};var D=["webkit","ms","moz","Moz","o","O"];function M(){}function E(){}function P(o){var r=[],a=new y;function t(){for(var t,e=r,n=-1,i=e.length;++n<i;)(t=e[n].on)&&t.apply(this,arguments);return o}return t.on=function(t,e){var n,i=a.get(t);return arguments.length<2?i&&i.on:(i&&(i.on=null,r=r.slice(0,n=r.indexOf(i)).concat(r.slice(n+1)),a.remove(t)),e&&r.push(a.set(t,{on:e})),o)},t}function F(){I.event.preventDefault()}function N(){for(var t,e=I.event;t=e.sourceEvent;)e=t;return e}function j(o){for(var r=new E,t=0,e=arguments.length;++t<e;)r[arguments[t]]=P(r);return r.of=function(n,i){return function(t){try{var e=t.sourceEvent=I.event;t.target=o,I.event=t,r[t.type].apply(n,i)}finally{I.event=e}}},r}I.dispatch=function(){for(var t=new E,e=-1,n=arguments.length;++e<n;)t[arguments[e]]=P(t);return t},E.prototype.on=function(t,e){var n=t.indexOf("."),i="";if(0<=n&&(i=t.slice(n+1),t=t.slice(0,n)),t)return arguments.length<2?this[t].on(i):this[t].on(i,e);if(2===arguments.length){if(null==e)for(t in this)this.hasOwnProperty(t)&&this[t].on(i,null);return this}},I.event=null,I.requote=function(t){return t.replace(B,"\\$&")};var B=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,U={}.__proto__?function(t,e){t.__proto__=e}:function(t,e){for(var n in e)t[n]=e[n]};function z(t){return U(t,W),t}var H=function(t,e){return e.querySelector(t)},V=function(t,e){return e.querySelectorAll(t)},q=function(t,e){var n=t.matches||t[A(t,"matchesSelector")];return(q=function(t,e){return n.call(t,e)})(t,e)};"function"==typeof Sizzle&&(H=function(t,e){return Sizzle(t,e)[0]||null},V=Sizzle,q=Sizzle.matchesSelector),I.selection=function(){return I.select(b.documentElement)};var W=I.selection.prototype=[];function G(t){return"function"==typeof t?t:function(){return H(t,this)}}function Y(t){return"function"==typeof t?t:function(){return V(t,this)}}W.select=function(t){var e,n,i,o,r=[];t=G(t);for(var a=-1,s=this.length;++a<s;){r.push(e=[]),e.parentNode=(i=this[a]).parentNode;for(var l=-1,u=i.length;++l<u;)(o=i[l])?(e.push(n=t.call(o,o.__data__,l,a)),n&&"__data__"in o&&(n.__data__=o.__data__)):e.push(null)}return z(r)},W.selectAll=function(t){var e,n,i=[];t=Y(t);for(var o=-1,r=this.length;++o<r;)for(var a=this[o],s=-1,l=a.length;++s<l;)(n=a[s])&&(i.push(e=h(t.call(n,n.__data__,s,o))),e.parentNode=n);return z(i)};var K="http://www.w3.org/1999/xhtml",Z={svg:"http://www.w3.org/2000/svg",xhtml:K,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function X(e,n){return e=I.ns.qualify(e),null==n?e.local?function(){this.removeAttributeNS(e.space,e.local)}:function(){this.removeAttribute(e)}:"function"==typeof n?e.local?function(){var t=n.apply(this,arguments);null==t?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,t)}:function(){var t=n.apply(this,arguments);null==t?this.removeAttribute(e):this.setAttribute(e,t)}:e.local?function(){this.setAttributeNS(e.space,e.local,n)}:function(){this.setAttribute(e,n)}}function J(t){return t.trim().replace(/\s+/g," ")}function Q(t){return new RegExp("(?:^|\\s+)"+I.requote(t)+"(?:\\s+|$)","g")}function tt(t){return(t+"").trim().split(/^|\s+/)}function et(n,i){var o=(n=tt(n).map(nt)).length;return"function"==typeof i?function(){for(var t=-1,e=i.apply(this,arguments);++t<o;)n[t](this,e)}:function(){for(var t=-1;++t<o;)n[t](this,i)}}function nt(i){var o=Q(i);return function(t,e){if(n=t.classList)return e?n.add(i):n.remove(i);var n=t.getAttribute("class")||"";e?(o.lastIndex=0,o.test(n)||t.setAttribute("class",J(n+" "+i))):t.setAttribute("class",J(n.replace(o," ")))}}function it(e,n,i){return null==n?function(){this.style.removeProperty(e)}:"function"==typeof n?function(){var t=n.apply(this,arguments);null==t?this.style.removeProperty(e):this.style.setProperty(e,t,i)}:function(){this.style.setProperty(e,n,i)}}function ot(e,n){return null==n?function(){delete this[e]}:"function"==typeof n?function(){var t=n.apply(this,arguments);null==t?delete this[e]:this[e]=t}:function(){this[e]=n}}function rt(n){return"function"==typeof n?n:(n=I.ns.qualify(n)).local?function(){return this.ownerDocument.createElementNS(n.space,n.local)}:function(){var t=this.ownerDocument,e=this.namespaceURI;return e===K&&t.documentElement.namespaceURI===K?t.createElement(n):t.createElementNS(e,n)}}function at(){var t=this.parentNode;t&&t.removeChild(this)}function st(t){return{__data__:t}}function lt(t){return function(){return q(this,t)}}function ut(t,e){for(var n=0,i=t.length;n<i;n++)for(var o,r=t[n],a=0,s=r.length;a<s;a++)(o=r[a])&&e(o,a,n);return t}function ct(t){return U(t,pt),t}I.ns={prefix:Z,qualify:function(t){var e=t.indexOf(":"),n=t;return 0<=e&&"xmlns"!==(n=t.slice(0,e))&&(t=t.slice(e+1)),Z.hasOwnProperty(n)?{space:Z[n],local:t}:t}},W.attr=function(t,e){if(arguments.length<2){if("string"==typeof t){var n=this.node();return(t=I.ns.qualify(t)).local?n.getAttributeNS(t.space,t.local):n.getAttribute(t)}for(e in t)this.each(X(e,t[e]));return this}return this.each(X(t,e))},W.classed=function(t,e){if(arguments.length<2){if("string"==typeof t){var n=this.node(),i=(t=tt(t)).length,o=-1;if(e=n.classList){for(;++o<i;)if(!e.contains(t[o]))return!1}else for(e=n.getAttribute("class");++o<i;)if(!Q(t[o]).test(e))return!1;return!0}for(e in t)this.each(et(e,t[e]));return this}return this.each(et(t,e))},W.style=function(t,e,n){var i=arguments.length;if(i<3){if("string"!=typeof t){for(n in i<2&&(e=""),t)this.each(it(n,t[n],e));return this}if(i<2){var o=this.node();return R(o).getComputedStyle(o,null).getPropertyValue(t)}n=""}return this.each(it(t,e,n))},W.property=function(t,e){if(arguments.length<2){if("string"==typeof t)return this.node()[t];for(e in t)this.each(ot(e,t[e]));return this}return this.each(ot(t,e))},W.text=function(e){return arguments.length?this.each("function"==typeof e?function(){var t=e.apply(this,arguments);this.textContent=null==t?"":t}:null==e?function(){this.textContent=""}:function(){this.textContent=e}):this.node().textContent},W.html=function(e){return arguments.length?this.each("function"==typeof e?function(){var t=e.apply(this,arguments);this.innerHTML=null==t?"":t}:null==e?function(){this.innerHTML=""}:function(){this.innerHTML=e}):this.node().innerHTML},W.append=function(t){return t=rt(t),this.select(function(){return this.appendChild(t.apply(this,arguments))})},W.insert=function(t,e){return t=rt(t),e=G(e),this.select(function(){return this.insertBefore(t.apply(this,arguments),e.apply(this,arguments)||null)})},W.remove=function(){return this.each(at)},W.data=function(t,f){var e,n,i=-1,o=this.length;if(!arguments.length){for(t=new Array(o=(e=this[0]).length);++i<o;)(n=e[i])&&(t[i]=n.__data__);return t}function r(t,e){var n,i,o,r=t.length,a=e.length,s=Math.min(r,a),l=new Array(a),u=new Array(a),c=new Array(r);if(f){var p,h=new y,d=new Array(r);for(n=-1;++n<r;)(i=t[n])&&(h.has(p=f.call(i,i.__data__,n))?c[n]=i:h.set(p,i),d[n]=p);for(n=-1;++n<a;)(i=h.get(p=f.call(e,o=e[n],n)))?!0!==i&&((l[n]=i).__data__=o):u[n]=st(o),h.set(p,!0);for(n=-1;++n<r;)n in d&&!0!==h.get(d[n])&&(c[n]=t[n])}else{for(n=-1;++n<s;)i=t[n],o=e[n],i?(i.__data__=o,l[n]=i):u[n]=st(o);for(;n<a;++n)u[n]=st(e[n]);for(;n<r;++n)c[n]=t[n]}u.update=l,u.parentNode=l.parentNode=c.parentNode=t.parentNode,g.push(u),m.push(l),v.push(c)}var g=ct([]),m=z([]),v=z([]);if("function"==typeof t)for(;++i<o;)r(e=this[i],t.call(e,e.parentNode.__data__,i));else for(;++i<o;)r(e=this[i],t);return m.enter=function(){return g},m.exit=function(){return v},m},W.datum=function(t){return arguments.length?this.property("__data__",t):this.property("__data__")},W.filter=function(t){var e,n,i,o=[];"function"!=typeof t&&(t=lt(t));for(var r=0,a=this.length;r<a;r++){o.push(e=[]),e.parentNode=(n=this[r]).parentNode;for(var s=0,l=n.length;s<l;s++)(i=n[s])&&t.call(i,i.__data__,s,r)&&e.push(i)}return z(o)},W.order=function(){for(var t=-1,e=this.length;++t<e;)for(var n,i=this[t],o=i.length-1,r=i[o];0<=--o;)(n=i[o])&&(r&&r!==n.nextSibling&&r.parentNode.insertBefore(n,r),r=n);return this},W.sort=function(t){t=function(n){arguments.length||(n=l);return function(t,e){return t&&e?n(t.__data__,e.__data__):!t-!e}}.apply(this,arguments);for(var e=-1,n=this.length;++e<n;)this[e].sort(t);return this.order()},W.each=function(i){return ut(this,function(t,e,n){i.call(t,t.__data__,e,n)})},W.call=function(t){var e=h(arguments);return t.apply(e[0]=this,e),this},W.empty=function(){return!this.node()},W.node=function(){for(var t=0,e=this.length;t<e;t++)for(var n=this[t],i=0,o=n.length;i<o;i++){var r=n[i];if(r)return r}return null},W.size=function(){var t=0;return ut(this,function(){++t}),t};var pt=[];function ht(o,e,n){var i="__on"+o,t=o.indexOf("."),r=ft;0<t&&(o=o.slice(0,t));var a=dt.get(o);function s(){var t=this[i];t&&(this.removeEventListener(o,t,t.$),delete this[i])}return a&&(o=a,r=gt),t?e?function(){var t=r(e,h(arguments));s.call(this),this.addEventListener(o,this[i]=t,t.$=n),t._=e}:s:e?M:function(){var t,e=new RegExp("^__on([^.]+)"+I.requote(o)+"$");for(var n in this)if(t=n.match(e)){var i=this[n];this.removeEventListener(t[1],i,i.$),delete this[n]}}}I.selection.enter=ct,(I.selection.enter.prototype=pt).append=W.append,pt.empty=W.empty,pt.node=W.node,pt.call=W.call,pt.size=W.size,pt.select=function(t){for(var e,n,i,o,r,a=[],s=-1,l=this.length;++s<l;){i=(o=this[s]).update,a.push(e=[]),e.parentNode=o.parentNode;for(var u=-1,c=o.length;++u<c;)(r=o[u])?(e.push(i[u]=n=t.call(o.parentNode,r.__data__,u,s)),n.__data__=r.__data__):e.push(null)}return z(a)},pt.insert=function(t,e){var a,s,l;return arguments.length<2&&(a=this,e=function(t,e,n){var i,o=a[n].update,r=o.length;for(n!=l&&(l=n,s=0),s<=e&&(s=e+1);!(i=o[s])&&++s<r;);return i}),W.insert.call(this,t,e)},I.select=function(t){var e;return"string"==typeof t?(e=[H(t,b)]).parentNode=b.documentElement:(e=[t]).parentNode=s(t),z([e])},I.selectAll=function(t){var e;return"string"==typeof t?(e=h(V(t,b))).parentNode=b.documentElement:(e=h(t)).parentNode=null,z([e])},W.on=function(t,e,n){var i=arguments.length;if(i<3){if("string"!=typeof t){for(n in i<2&&(e=!1),t)this.each(ht(n,t[n],e));return this}if(i<2)return(i=this.node()["__on"+t])&&i._;n=!1}return this.each(ht(t,e,n))};var dt=I.map({mouseenter:"mouseover",mouseleave:"mouseout"});function ft(n,i){return function(t){var e=I.event;I.event=t,i[0]=this.__data__;try{n.apply(this,i)}finally{I.event=e}}}function gt(t,e){var n=ft(t,e);return function(t){var e=t.relatedTarget;e&&(e===this||8&e.compareDocumentPosition(this))||n.call(this,t)}}b&&dt.forEach(function(t){"on"+t in b&&dt.remove(t)});var mt,vt=0;function yt(t){var n=".dragsuppress-"+ ++vt,i="click"+n,o=I.select(R(t)).on("touchmove"+n,F).on("dragstart"+n,F).on("selectstart"+n,F);if(null==mt&&(mt=!("onselectstart"in t)&&A(t.style,"userSelect")),mt){var r=s(t).style,a=r[mt];r[mt]="none"}return function(t){if(o.on(n,null),mt&&(r[mt]=a),t){var e=function(){o.on(i,null)};o.on(i,function(){F(),e()},!0),setTimeout(e,0)}}}I.mouse=function(t){return wt(t,N())};var bt=this.navigator&&/WebKit/.test(this.navigator.userAgent)?-1:0;function wt(t,e){e.changedTouches&&(e=e.changedTouches[0]);var n=t.ownerSVGElement||t;if(n.createSVGPoint){var i=n.createSVGPoint();if(bt<0){var o=R(t);if(o.scrollX||o.scrollY){var r=(n=I.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important"))[0][0].getScreenCTM();bt=!(r.f||r.e),n.remove()}}return i.y=bt?(i.x=e.pageX,e.pageY):(i.x=e.clientX,e.clientY),[(i=i.matrixTransform(t.getScreenCTM().inverse())).x,i.y]}var a=t.getBoundingClientRect();return[e.clientX-a.left-t.clientLeft,e.clientY-a.top-t.clientTop]}function xt(){return I.event.changedTouches[0].identifier}I.touch=function(t,e,n){if(arguments.length<3&&(n=e,e=N().changedTouches),e)for(var i,o=0,r=e.length;o<r;++o)if((i=e[o]).identifier===n)return wt(t,i)},I.behavior.drag=function(){var g=j(n,"drag","dragstart","dragend"),m=null,t=i(M,I.mouse,R,"mousemove","mouseup"),e=i(xt,I.touch,L,"touchmove","touchend");function n(){this.on("mousedown.drag",t).on("touchstart.drag",e)}function i(c,p,h,d,f){return function(){var i,t=I.event.target.correspondingElement||I.event.target,o=this.parentNode,r=g.of(this,arguments),a=0,s=c(),e=".drag"+(null==s?"":"-"+s),n=I.select(h(t)).on(d+e,function(){var t,e,n=p(o,s);if(!n)return;t=n[0]-u[0],e=n[1]-u[1],a|=t|e,r({type:"drag",x:(u=n)[0]+i[0],y:n[1]+i[1],dx:t,dy:e})}).on(f+e,function(){if(!p(o,s))return;n.on(d+e,null).on(f+e,null),l(a),r({type:"dragend"})}),l=yt(t),u=p(o,s);i=m?[(i=m.apply(this,arguments)).x-u[0],i.y-u[1]]:[0,0],r({type:"dragstart"})}}return n.origin=function(t){return arguments.length?(m=t,n):m},I.rebind(n,g,"on")},I.touches=function(n,t){return arguments.length<2&&(t=N().touches),t?h(t).map(function(t){var e=wt(n,t);return e.identifier=t.identifier,e}):[]};var $t=1e-6,_t=$t*$t,kt=Math.PI,Ct=2*kt,St=Ct-$t,Tt=kt/2,At=kt/180,Dt=180/kt;function Mt(t){return 0<t?1:t<0?-1:0}function Et(t,e,n){return(e[0]-t[0])*(n[1]-t[1])-(e[1]-t[1])*(n[0]-t[0])}function Pt(t){return 1<t?0:t<-1?kt:Math.acos(t)}function Ot(t){return 1<t?Tt:t<-1?-Tt:Math.asin(t)}function It(t){return((t=Math.exp(t))+1/t)/2}function Rt(t){return(t=Math.sin(t/2))*t}var Lt=Math.SQRT2;I.interpolateZoom=function(t,e){var n,a,s=t[0],l=t[1],u=t[2],i=e[0],o=e[1],r=e[2],c=i-s,p=o-l,h=c*c+p*p;if(h<_t)a=Math.log(r/u)/Lt,n=function(t){return[s+t*c,l+t*p,u*Math.exp(Lt*t*a)]};else{var d=Math.sqrt(h),f=(r*r-u*u+4*h)/(2*u*2*d),g=(r*r-u*u-4*h)/(2*r*2*d),m=Math.log(Math.sqrt(f*f+1)-f),v=Math.log(Math.sqrt(g*g+1)-g);a=(v-m)/Lt,n=function(t){var e,n,i=t*a,o=It(m),r=u/(2*d)*(o*(n=Lt*i+m,((n=Math.exp(2*n))-1)/(n+1))-(e=m,((e=Math.exp(e))-1/e)/2));return[s+r*c,l+r*p,u*o/It(Lt*i+m)]}}return n.duration=1e3*a,n},I.behavior.zoom=function(){var e,l,n,i,w,o,r,a,s,x={x:0,y:0,k:1},u=[960,500],c=jt,p=250,h=0,$="mousedown.zoom",d="mousemove.zoom",f="mouseup.zoom",_="touchstart.zoom",k=j(g,"zoomstart","zoom","zoomend");function g(t){t.on($,P).on(Nt+".zoom",v).on("dblclick.zoom",y).on(_,O)}function C(t){return[(t[0]-x.x)/x.k,(t[1]-x.y)/x.k]}function S(t){x.k=Math.max(c[0],Math.min(c[1],t))}function T(t,e){var n;e=[(n=e)[0]*x.k+x.x,n[1]*x.k+x.y],x.x+=t[0]-e[0],x.y+=t[1]-e[1]}function A(t,e,n,i){t.__chart__={x:x.x,y:x.y,k:x.k},S(Math.pow(2,i)),T(l=e,n),t=I.select(t),0<p&&(t=t.transition().duration(p)),t.call(g.event)}function m(){r&&r.domain(o.range().map(function(t){return(t-x.x)/x.k}).map(o.invert)),s&&s.domain(a.range().map(function(t){return(t-x.y)/x.k}).map(a.invert))}function D(t){h++||t({type:"zoomstart"})}function M(t){m(),t({type:"zoom",scale:x.k,translate:[x.x,x.y]})}function E(t){--h||(t({type:"zoomend"}),l=null)}function P(){var t=this,e=k.of(t,arguments),n=0,i=I.select(R(t)).on(d,function(){n=1,T(I.mouse(t),o),M(e)}).on(f,function(){i.on(d,null).on(f,null),r(n),E(e)}),o=C(I.mouse(t)),r=yt(t);us.call(t),D(e)}function O(){var u,c=this,p=k.of(c,arguments),h={},d=0,o=".zoom-"+I.event.changedTouches[0].identifier,f="touchmove"+o,g="touchend"+o,m=[],r=I.select(c),a=yt(c);function v(){var t=I.touches(c);return u=x.k,t.forEach(function(t){t.identifier in h&&(h[t.identifier]=C(t))}),t}function t(){var t=I.event.target;I.select(t).on(f,y).on(g,b),m.push(t);for(var e=I.event.changedTouches,n=0,i=e.length;n<i;++n)h[e[n].identifier]=null;var o=v(),r=Date.now();if(1===o.length){if(r-w<500){var a=o[0];A(c,a,h[a.identifier],Math.floor(Math.log(x.k)/Math.LN2)+1),F()}w=r}else if(1<o.length){a=o[0];var s=o[1],l=a[0]-s[0],u=a[1]-s[1];d=l*l+u*u}}function y(){var t,e,n,i,o=I.touches(c);us.call(c);for(var r=0,a=o.length;r<a;++r,i=null)if(n=o[r],i=h[n.identifier]){if(e)break;t=n,e=i}if(i){var s=(s=n[0]-t[0])*s+(s=n[1]-t[1])*s,l=d&&Math.sqrt(s/d);t=[(t[0]+n[0])/2,(t[1]+n[1])/2],e=[(e[0]+i[0])/2,(e[1]+i[1])/2],S(l*u)}w=null,T(t,e),M(p)}function b(){if(I.event.touches.length){for(var t=I.event.changedTouches,e=0,n=t.length;e<n;++e)delete h[t[e].identifier];for(var i in h)return void v()}I.selectAll(m).on(o,null),r.on($,P).on(_,O),a(),E(p)}t(),D(p),r.on($,null).on(_,t)}function v(){var t=k.of(this,arguments);i?clearTimeout(i):(us.call(this),e=C(l=n||I.mouse(this)),D(t)),i=setTimeout(function(){i=null,E(t)},50),F(),S(Math.pow(2,.002*Ft())*x.k),T(l,e),M(t)}function y(){var t=I.mouse(this),e=Math.log(x.k)/Math.LN2;A(this,t,C(t),I.event.shiftKey?Math.ceil(e)-1:Math.floor(e)+1)}return Nt||(Nt="onwheel"in b?(Ft=function(){return-I.event.deltaY*(I.event.deltaMode?120:1)},"wheel"):"onmousewheel"in b?(Ft=function(){return I.event.wheelDelta},"mousewheel"):(Ft=function(){return-I.event.detail},"MozMousePixelScroll")),g.event=function(t){t.each(function(){var s=k.of(this,arguments),e=x;hs?I.select(this).transition().each("start.zoom",function(){x=this.__chart__||{x:0,y:0,k:1},D(s)}).tween("zoom:zoom",function(){var i=u[0],t=u[1],o=l?l[0]:i/2,r=l?l[1]:t/2,a=I.interpolateZoom([(o-x.x)/x.k,(r-x.y)/x.k,i/x.k],[(o-e.x)/e.k,(r-e.y)/e.k,i/e.k]);return function(t){var e=a(t),n=i/e[2];this.__chart__=x={x:o-e[0]*n,y:r-e[1]*n,k:n},M(s)}}).each("interrupt.zoom",function(){E(s)}).each("end.zoom",function(){E(s)}):(this.__chart__=x,D(s),M(s),E(s))})},g.translate=function(t){return arguments.length?(x={x:+t[0],y:+t[1],k:x.k},m(),g):[x.x,x.y]},g.scale=function(t){return arguments.length?(x={x:x.x,y:x.y,k:null},S(+t),m(),g):x.k},g.scaleExtent=function(t){return arguments.length?(c=null==t?jt:[+t[0],+t[1]],g):c},g.center=function(t){return arguments.length?(n=t&&[+t[0],+t[1]],g):n},g.size=function(t){return arguments.length?(u=t&&[+t[0],+t[1]],g):u},g.duration=function(t){return arguments.length?(p=+t,g):p},g.x=function(t){return arguments.length?(o=(r=t).copy(),x={x:0,y:0,k:1},g):r},g.y=function(t){return arguments.length?(a=(s=t).copy(),x={x:0,y:0,k:1},g):s},I.rebind(g,k,"on")};var Ft,Nt,jt=[0,1/0];function Bt(){}function Ut(t,e,n){return this instanceof Ut?(this.h=+t,this.s=+e,void(this.l=+n)):arguments.length<2?t instanceof Ut?new Ut(t.h,t.s,t.l):ue(""+t,ce,Ut):new Ut(t,e,n)}(I.color=Bt).prototype.toString=function(){return this.rgb()+""};var zt=(I.hsl=Ut).prototype=new Bt;function Ht(t,e,n){var i,o;function r(t){return Math.round(255*(360<(e=t)?e-=360:e<0&&(e+=360),e<60?i+(o-i)*e/60:e<180?o:e<240?i+(o-i)*(240-e)/60:i));var e}return t=isNaN(t)?0:(t%=360)<0?t+360:t,e=isNaN(e)?0:e<0?0:1<e?1:e,i=2*(n=n<0?0:1<n?1:n)-(o=n<=.5?n*(1+e):n+e-n*e),new oe(r(t+120),r(t),r(t-120))}function Vt(t,e,n){return this instanceof Vt?(this.h=+t,this.c=+e,void(this.l=+n)):arguments.length<2?t instanceof Vt?new Vt(t.h,t.c,t.l):te(t instanceof Gt?t.l:(t=pe((t=I.rgb(t)).r,t.g,t.b)).l,t.a,t.b):new Vt(t,e,n)}zt.brighter=function(t){return t=Math.pow(.7,arguments.length?t:1),new Ut(this.h,this.s,this.l/t)},zt.darker=function(t){return t=Math.pow(.7,arguments.length?t:1),new Ut(this.h,this.s,t*this.l)},zt.rgb=function(){return Ht(this.h,this.s,this.l)};var qt=(I.hcl=Vt).prototype=new Bt;function Wt(t,e,n){return isNaN(t)&&(t=0),isNaN(e)&&(e=0),new Gt(n,Math.cos(t*=At)*e,Math.sin(t)*e)}function Gt(t,e,n){return this instanceof Gt?(this.l=+t,this.a=+e,void(this.b=+n)):arguments.length<2?t instanceof Gt?new Gt(t.l,t.a,t.b):t instanceof Vt?Wt(t.h,t.c,t.l):pe((t=oe(t)).r,t.g,t.b):new Gt(t,e,n)}qt.brighter=function(t){return new Vt(this.h,this.c,Math.min(100,this.l+Yt*(arguments.length?t:1)))},qt.darker=function(t){return new Vt(this.h,this.c,Math.max(0,this.l-Yt*(arguments.length?t:1)))},qt.rgb=function(){return Wt(this.h,this.c,this.l).rgb()},I.lab=Gt;var Yt=18,Kt=.95047,Zt=1,Xt=1.08883,Jt=Gt.prototype=new Bt;function Qt(t,e,n){var i=(t+16)/116,o=i+e/500,r=i-n/200;return new oe(ie(3.2404542*(o=ee(o)*Kt)-1.5371385*(i=ee(i)*Zt)-.4985314*(r=ee(r)*Xt)),ie(-.969266*o+1.8760108*i+.041556*r),ie(.0556434*o-.2040259*i+1.0572252*r))}function te(t,e,n){return 0<t?new Vt(Math.atan2(n,e)*Dt,Math.sqrt(e*e+n*n),t):new Vt(NaN,NaN,t)}function ee(t){return.206893034<t?t*t*t:(t-4/29)/7.787037}function ne(t){return.008856<t?Math.pow(t,1/3):7.787037*t+4/29}function ie(t){return Math.round(255*(t<=.00304?12.92*t:1.055*Math.pow(t,1/2.4)-.055))}function oe(t,e,n){return this instanceof oe?(this.r=~~t,this.g=~~e,void(this.b=~~n)):arguments.length<2?t instanceof oe?new oe(t.r,t.g,t.b):ue(""+t,oe,Ht):new oe(t,e,n)}function re(t){return new oe(t>>16,t>>8&255,255&t)}function ae(t){return re(t)+""}Jt.brighter=function(t){return new Gt(Math.min(100,this.l+Yt*(arguments.length?t:1)),this.a,this.b)},Jt.darker=function(t){return new Gt(Math.max(0,this.l-Yt*(arguments.length?t:1)),this.a,this.b)},Jt.rgb=function(){return Qt(this.l,this.a,this.b)};var se=(I.rgb=oe).prototype=new Bt;function le(t){return t<16?"0"+Math.max(0,t).toString(16):Math.min(255,t).toString(16)}function ue(t,e,n){var i,o,r,a=0,s=0,l=0;if(i=/([a-z]+)\((.*)\)/.exec(t=t.toLowerCase()))switch(o=i[2].split(","),i[1]){case"hsl":return n(parseFloat(o[0]),parseFloat(o[1])/100,parseFloat(o[2])/100);case"rgb":return e(de(o[0]),de(o[1]),de(o[2]))}return(r=fe.get(t))?e(r.r,r.g,r.b):(null==t||"#"!==t.charAt(0)||isNaN(r=parseInt(t.slice(1),16))||(4===t.length?(a=(3840&r)>>4,a|=a>>4,s=240&r,s|=s>>4,l=15&r,l|=l<<4):7===t.length&&(a=(16711680&r)>>16,s=(65280&r)>>8,l=255&r)),e(a,s,l))}function ce(t,e,n){var i,o,r=Math.min(t/=255,e/=255,n/=255),a=Math.max(t,e,n),s=a-r,l=(a+r)/2;return s?(o=l<.5?s/(a+r):s/(2-a-r),i=t==a?(e-n)/s+(e<n?6:0):e==a?(n-t)/s+2:(t-e)/s+4,i*=60):(i=NaN,o=0<l&&l<1?0:i),new Ut(i,o,l)}function pe(t,e,n){var i=ne((.4124564*(t=he(t))+.3575761*(e=he(e))+.1804375*(n=he(n)))/Kt),o=ne((.2126729*t+.7151522*e+.072175*n)/Zt);return Gt(116*o-16,500*(i-o),200*(o-ne((.0193339*t+.119192*e+.9503041*n)/Xt)))}function he(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function de(t){var e=parseFloat(t);return"%"===t.charAt(t.length-1)?Math.round(2.55*e):e}se.brighter=function(t){t=Math.pow(.7,arguments.length?t:1);var e=this.r,n=this.g,i=this.b;return e||n||i?(e&&e<30&&(e=30),n&&n<30&&(n=30),i&&i<30&&(i=30),new oe(Math.min(255,e/t),Math.min(255,n/t),Math.min(255,i/t))):new oe(30,30,30)},se.darker=function(t){return new oe((t=Math.pow(.7,arguments.length?t:1))*this.r,t*this.g,t*this.b)},se.hsl=function(){return ce(this.r,this.g,this.b)},se.toString=function(){return"#"+le(this.r)+le(this.g)+le(this.b)};var fe=I.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});function ge(t){return"function"==typeof t?t:function(){return t}}function me(i){return function(t,e,n){return 2===arguments.length&&"function"==typeof e&&(n=e,e=null),ve(t,e,i,n)}}function ve(o,r,a,t){var n,s={},l=I.dispatch("beforesend","progress","load","error"),u={},c=new XMLHttpRequest,p=null;function e(){var t,e,n,i=c.status;if(!i&&((n=(e=c).responseType)&&"text"!==n?e.response:e.responseText)||200<=i&&i<300||304===i){try{t=a.call(s,c)}catch(t){return void l.error.call(s,t)}l.load.call(s,t)}else l.error.call(s,c)}return!this.XDomainRequest||"withCredentials"in c||!/^(http(s)?:)?\/\//.test(o)||(c=new XDomainRequest),"onload"in c?c.onload=c.onerror=e:c.onreadystatechange=function(){3<c.readyState&&e()},c.onprogress=function(t){var e=I.event;I.event=t;try{l.progress.call(s,c)}finally{I.event=e}},s.header=function(t,e){return t=(t+"").toLowerCase(),arguments.length<2?u[t]:(null==e?delete u[t]:u[t]=e+"",s)},s.mimeType=function(t){return arguments.length?(r=null==t?null:t+"",s):r},s.responseType=function(t){return arguments.length?(p=t,s):p},s.response=function(t){return a=t,s},["get","post"].forEach(function(t){s[t]=function(){return s.send.apply(s,[t].concat(h(arguments)))}}),s.send=function(t,e,n){if(2===arguments.length&&"function"==typeof e&&(n=e,e=null),c.open(t,o,!0),null==r||"accept"in u||(u.accept=r+",*/*"),c.setRequestHeader)for(var i in u)c.setRequestHeader(i,u[i]);return null!=r&&c.overrideMimeType&&c.overrideMimeType(r),null!=p&&(c.responseType=p),null!=n&&s.on("error",n).on("load",function(t){n(null,t)}),l.beforesend.call(s,c),c.send(null==e?null:e),s},s.abort=function(){return c.abort(),s},I.rebind(s,l,"on"),null==t?s:s.get(1===(n=t).length?function(t,e){n(null==t?e:null)}:n)}fe.forEach(function(t,e){fe.set(t,re(e))}),I.functor=ge,I.xhr=me(L),I.dsv=function(o,r){var e=new RegExp('["'+o+"\n]"),h=o.charCodeAt(0);function a(t,e,n){arguments.length<3&&(n=e,e=null);var i=ve(t,r,null==e?s:l(e),n);return i.row=function(t){return arguments.length?i.response(null==(e=t)?s:l(t)):e},i}function s(t){return a.parse(t.responseText)}function l(e){return function(t){return a.parse(t.responseText,e)}}function n(t){return t.map(u).join(o)}function u(t){return e.test(t)?'"'+t.replace(/\"/g,'""')+'"':t}return a.parse=function(t,i){var o;return a.parseRows(t,function(t,e){if(o)return o(t,e-1);var n=new Function("d","return {"+t.map(function(t,e){return JSON.stringify(t)+": d["+e+"]"}).join(",")+"}");o=i?function(t,e){return i(n(t),e)}:n})},a.parseRows=function(o,t){var e,r,a={},s={},n=[],l=o.length,u=0,i=0;function c(){if(l<=u)return s;if(r)return r=!1,a;var t=u;if(34===o.charCodeAt(t)){for(var e=t;e++<l;)if(34===o.charCodeAt(e)){if(34!==o.charCodeAt(e+1))break;++e}return u=e+2,13===(n=o.charCodeAt(e+1))?(r=!0,10===o.charCodeAt(e+2)&&++u):10===n&&(r=!0),o.slice(t+1,e).replace(/""/g,'"')}for(;u<l;){var n,i=1;if(10===(n=o.charCodeAt(u++)))r=!0;else if(13===n)r=!0,10===o.charCodeAt(u)&&(++u,++i);else if(n!==h)continue;return o.slice(t,u-i)}return o.slice(t)}for(;(e=c())!==s;){for(var p=[];e!==a&&e!==s;)p.push(e),e=c();t&&null==(p=t(p,i++))||n.push(p)}return n},a.format=function(t){if(Array.isArray(t[0]))return a.formatRows(t);var n=new S,i=[];return t.forEach(function(t){for(var e in t)n.has(e)||i.push(n.add(e))}),[i.map(u).join(o)].concat(t.map(function(e){return i.map(function(t){return u(e[t])}).join(o)})).join("\n")},a.formatRows=function(t){return t.map(n).join("\n")},a},I.csv=I.dsv(",","text/csv"),I.tsv=I.dsv("\t","text/tab-separated-values");var ye,be,we,xe,$e=this[A(this,"requestAnimationFrame")]||function(t){setTimeout(t,17)};function _e(t,e,n){var i=arguments.length;i<2&&(e=0),i<3&&(n=Date.now());var o={c:t,t:n+e,n:null};return be?be.n=o:ye=o,be=o,we||(xe=clearTimeout(xe),we=1,$e(ke)),o}function ke(){var t=Ce(),e=Se()-t;24<e?(isFinite(e)&&(clearTimeout(xe),xe=setTimeout(ke,e)),we=0):(we=1,$e(ke))}function Ce(){for(var t=Date.now(),e=ye;e;)t>=e.t&&e.c(t-e.t)&&(e.c=null),e=e.n;return t}function Se(){for(var t,e=ye,n=1/0;e;)e=e.c?(e.t<n&&(n=e.t),(t=e).n):t?t.n=e.n:ye=e.n;return be=t,n}function Te(t,e){return e-(t?Math.ceil(Math.log(t)/Math.LN10):1)}I.timer=function(){_e.apply(this,arguments)},I.timer.flush=function(){Ce(),Se()},I.round=function(t,e){return e?Math.round(t*(e=Math.pow(10,e)))/e:Math.round(t)};var Ae=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"].map(function(t,e){var n=Math.pow(10,3*O(8-e));return{scale:8<e?function(t){return t/n}:function(t){return t*n},symbol:t}});I.formatPrefix=function(t,e){var n=0;return(t=+t)&&(t<0&&(t*=-1),e&&(t=I.round(t,Te(t,e))),n=1+Math.floor(1e-12+Math.log(t)/Math.LN10),n=Math.max(-24,Math.min(24,3*Math.floor((n-1)/3)))),Ae[8+n/3]};var De=/(?:([^{])?([<>=^]))?([+\- ])?([$#])?(0)?(\d+)?(,)?(\.-?\d+)?([a-z%])?/i,Me=I.map({b:function(t){return t.toString(2)},c:function(t){return String.fromCharCode(t)},o:function(t){return t.toString(8)},x:function(t){return t.toString(16)},X:function(t){return t.toString(16).toUpperCase()},g:function(t,e){return t.toPrecision(e)},e:function(t,e){return t.toExponential(e)},f:function(t,e){return t.toFixed(e)},r:function(t,e){return(t=I.round(t,Te(t,e))).toFixed(Math.max(0,Math.min(20,Te(t*(1+1e-15),e))))}});function Ee(t){return t+""}var Pe=I.time={},Oe=Date;function Ie(){this._=new Date(1<arguments.length?Date.UTC.apply(this,arguments):arguments[0])}Ie.prototype={getDate:function(){return this._.getUTCDate()},getDay:function(){return this._.getUTCDay()},getFullYear:function(){return this._.getUTCFullYear()},getHours:function(){return this._.getUTCHours()},getMilliseconds:function(){return this._.getUTCMilliseconds()},getMinutes:function(){return this._.getUTCMinutes()},getMonth:function(){return this._.getUTCMonth()},getSeconds:function(){return this._.getUTCSeconds()},getTime:function(){return this._.getTime()},getTimezoneOffset:function(){return 0},valueOf:function(){return this._.valueOf()},setDate:function(){Re.setUTCDate.apply(this._,arguments)},setDay:function(){Re.setUTCDay.apply(this._,arguments)},setFullYear:function(){Re.setUTCFullYear.apply(this._,arguments)},setHours:function(){Re.setUTCHours.apply(this._,arguments)},setMilliseconds:function(){Re.setUTCMilliseconds.apply(this._,arguments)},setMinutes:function(){Re.setUTCMinutes.apply(this._,arguments)},setMonth:function(){Re.setUTCMonth.apply(this._,arguments)},setSeconds:function(){Re.setUTCSeconds.apply(this._,arguments)},setTime:function(){Re.setTime.apply(this._,arguments)}};var Re=Date.prototype;function Le(i,r,a){function t(t){var e=i(t),n=o(e,1);return t-e<n-t?e:n}function s(t){return r(t=i(new Oe(t-1)),1),t}function o(t,e){return r(t=new Oe(+t),e),t}function l(t,e,n){var i=s(t),o=[];if(1<n)for(;i<e;)a(i)%n||o.push(new Date(+i)),r(i,1);else for(;i<e;)o.push(new Date(+i)),r(i,1);return o}(i.floor=i).round=t,i.ceil=s,i.offset=o,i.range=l;var e=i.utc=Fe(i);return(e.floor=e).round=Fe(t),e.ceil=Fe(s),e.offset=Fe(o),e.range=function(t,e,n){try{var i=new(Oe=Ie);return i._=t,l(i,e,n)}finally{Oe=Date}},i}function Fe(i){return function(t,e){try{var n=new(Oe=Ie);return n._=t,i(n,e)._}finally{Oe=Date}}}Pe.year=Le(function(t){return(t=Pe.day(t)).setMonth(0,1),t},function(t,e){t.setFullYear(t.getFullYear()+e)},function(t){return t.getFullYear()}),Pe.years=Pe.year.range,Pe.years.utc=Pe.year.utc.range,Pe.day=Le(function(t){var e=new Oe(2e3,0);return e.setFullYear(t.getFullYear(),t.getMonth(),t.getDate()),e},function(t,e){t.setDate(t.getDate()+e)},function(t){return t.getDate()-1}),Pe.days=Pe.day.range,Pe.days.utc=Pe.day.utc.range,Pe.dayOfYear=function(t){var e=Pe.year(t);return Math.floor((t-e-6e4*(t.getTimezoneOffset()-e.getTimezoneOffset()))/864e5)},["sunday","monday","tuesday","wednesday","thursday","friday","saturday"].forEach(function(t,n){n=7-n;var e=Pe[t]=Le(function(t){return(t=Pe.day(t)).setDate(t.getDate()-(t.getDay()+n)%7),t},function(t,e){t.setDate(t.getDate()+7*Math.floor(e))},function(t){var e=Pe.year(t).getDay();return Math.floor((Pe.dayOfYear(t)+(e+n)%7)/7)-(e!==n)});Pe[t+"s"]=e.range,Pe[t+"s"].utc=e.utc.range,Pe[t+"OfYear"]=function(t){var e=Pe.year(t).getDay();return Math.floor((Pe.dayOfYear(t)+(e+n)%7)/7)}}),Pe.week=Pe.sunday,Pe.weeks=Pe.sunday.range,Pe.weeks.utc=Pe.sunday.utc.range,Pe.weekOfYear=Pe.sundayOfYear;var Ne={"-":"",_:" ",0:"0"},je=/^\s*\d+/,Be=/^%/;function Ue(t,e,n){var i=t<0?"-":"",o=(i?-t:t)+"",r=o.length;return i+(r<n?new Array(n-r+1).join(e)+o:o)}function ze(t){return new RegExp("^(?:"+t.map(I.requote).join("|")+")","i")}function He(t){for(var e=new y,n=-1,i=t.length;++n<i;)e.set(t[n].toLowerCase(),n);return e}function Ve(t,e,n){je.lastIndex=0;var i=je.exec(e.slice(n,n+1));return i?(t.w=+i[0],n+i[0].length):-1}function qe(t,e,n){je.lastIndex=0;var i=je.exec(e.slice(n));return i?(t.U=+i[0],n+i[0].length):-1}function We(t,e,n){je.lastIndex=0;var i=je.exec(e.slice(n));return i?(t.W=+i[0],n+i[0].length):-1}function Ge(t,e,n){je.lastIndex=0;var i=je.exec(e.slice(n,n+4));return i?(t.y=+i[0],n+i[0].length):-1}function Ye(t,e,n){je.lastIndex=0;var i,o=je.exec(e.slice(n,n+2));return o?(t.y=(i=+o[0])+(68<i?1900:2e3),n+o[0].length):-1}function Ke(t,e,n){return/^[+-]\d{4}$/.test(e=e.slice(n,n+5))?(t.Z=-e,n+5):-1}function Ze(t,e,n){je.lastIndex=0;var i=je.exec(e.slice(n,n+2));return i?(t.m=i[0]-1,n+i[0].length):-1}function Xe(t,e,n){je.lastIndex=0;var i=je.exec(e.slice(n,n+2));return i?(t.d=+i[0],n+i[0].length):-1}function Je(t,e,n){je.lastIndex=0;var i=je.exec(e.slice(n,n+3));return i?(t.j=+i[0],n+i[0].length):-1}function Qe(t,e,n){je.lastIndex=0;var i=je.exec(e.slice(n,n+2));return i?(t.H=+i[0],n+i[0].length):-1}function tn(t,e,n){je.lastIndex=0;var i=je.exec(e.slice(n,n+2));return i?(t.M=+i[0],n+i[0].length):-1}function en(t,e,n){je.lastIndex=0;var i=je.exec(e.slice(n,n+2));return i?(t.S=+i[0],n+i[0].length):-1}function nn(t,e,n){je.lastIndex=0;var i=je.exec(e.slice(n,n+3));return i?(t.L=+i[0],n+i[0].length):-1}function on(t){var e=t.getTimezoneOffset(),n=0<e?"-":"+",i=O(e)/60|0,o=O(e)%60;return n+Ue(i,"0",2)+Ue(o,"0",2)}function rn(t,e,n){Be.lastIndex=0;var i=Be.exec(e.slice(n,n+1));return i?n+i[0].length:-1}function an(i){for(var t=i.length,e=-1;++e<t;)i[e][0]=this(i[e][0]);return function(t){for(var e=0,n=i[e];!n[1](t);)n=i[++e];return n[0](t)}}I.locale=function(t){return{numberFormat:(e=t,k=e.decimal,s=e.thousands,l=e.grouping,i=e.currency,C=l&&s?function(t,e){for(var n=t.length,i=[],o=0,r=l[0],a=0;0<n&&0<r&&(e<a+r+1&&(r=Math.max(1,e-a)),i.push(t.substring(n-=r,n+r)),!((a+=r+1)>e));)r=l[o=(o+1)%l.length];return i.reverse().join(s)}:L,function(t){var e=De.exec(t),c=e[1]||" ",p=e[2]||">",h=e[3]||"-",n=e[4]||"",d=e[5],f=+e[6],g=e[7],m=e[8],v=e[9],y=1,b="",w="",x=!1,$=!0;switch(m&&(m=+m.substring(1)),(d||"0"===c&&"="===p)&&(d=c="0",p="="),v){case"n":g=!0,v="g";break;case"%":y=100,w="%",v="f";break;case"p":y=100,w="%",v="r";break;case"b":case"o":case"x":case"X":"#"===n&&(b="0"+v.toLowerCase());case"c":$=!1;case"d":x=!0,m=0;break;case"s":y=-1,v="r"}"$"===n&&(b=i[0],w=i[1]),"r"!=v||m||(v="g"),null!=m&&("g"==v?m=Math.max(1,Math.min(21,m)):"e"!=v&&"f"!=v||(m=Math.max(0,Math.min(20,m)))),v=Me.get(v)||Ee;var _=d&&g;return function(t){var e=w;if(x&&t%1)return"";var n=t<0||0===t&&1/t<0?(t=-t,"-"):"-"===h?"":h;if(y<0){var i=I.formatPrefix(t,m);t=i.scale(t),e=i.symbol+w}else t*=y;var o,r,a=(t=v(t,m)).lastIndexOf(".");if(a<0){var s=$?t.lastIndexOf("e"):-1;r=s<0?(o=t,""):(o=t.substring(0,s),t.substring(s))}else o=t.substring(0,a),r=k+t.substring(a+1);!d&&g&&(o=C(o,1/0));var l=b.length+o.length+r.length+(_?0:n.length),u=l<f?new Array(l=f-l+1).join(c):"";return _&&(o=C(u+o,u.length?f-r.length:1/0)),n+=b,t=o+r,("<"===p?n+t+u:">"===p?u+n+t:"^"===p?u.substring(0,l>>=1)+n+t+u.substring(l):n+(_?t:u+t))+e}}),timeFormat:function(t){var e=t.dateTime,n=t.date,i=t.time,o=t.periods,r=t.days,a=t.shortDays,s=t.months,l=t.shortMonths;function u(s){var l=s.length;function t(t){for(var e,n,i,o=[],r=-1,a=0;++r<l;)37===s.charCodeAt(r)&&(o.push(s.slice(a,r)),null!=(n=Ne[e=s.charAt(++r)])&&(e=s.charAt(++r)),(i=w[e])&&(e=i(t,null==n?"e"===e?" ":"0":n)),o.push(e),a=r+1);return o.push(s.slice(a,r)),o.join("")}return t.parse=function(t){var e={y:1900,m:0,d:1,H:0,M:0,S:0,L:0,Z:null};if(c(e,s,t,0)!=t.length)return null;"p"in e&&(e.H=e.H%12+12*e.p);var n=null!=e.Z&&Oe!==Ie,i=new(n?Ie:Oe);return"j"in e?i.setFullYear(e.y,0,e.j):"W"in e||"U"in e?("w"in e||(e.w="W"in e?1:0),i.setFullYear(e.y,0,1),i.setFullYear(e.y,0,"W"in e?(e.w+6)%7+7*e.W-(i.getDay()+5)%7:e.w+7*e.U-(i.getDay()+6)%7)):i.setFullYear(e.y,e.m,e.d),i.setHours(e.H+(e.Z/100|0),e.M+e.Z%100,e.S,e.L),n?i._:i},t.toString=function(){return s},t}function c(t,e,n,i){for(var o,r,a,s=0,l=e.length,u=n.length;s<l;){if(u<=i)return-1;if(37===(o=e.charCodeAt(s++))){if(a=e.charAt(s++),!(r=x[a in Ne?e.charAt(s++):a])||(i=r(t,n,i))<0)return-1}else if(o!=n.charCodeAt(i++))return-1}return i}u.multi=(u.utc=function(t){var n=u(t);function e(t){try{var e=new(Oe=Ie);return e._=t,n(e)}finally{Oe=Date}}return e.parse=function(t){try{Oe=Ie;var e=n.parse(t);return e&&e._}finally{Oe=Date}},e.toString=n.toString,e}).multi=an;var p=I.map(),h=ze(r),d=He(r),f=ze(a),g=He(a),m=ze(s),v=He(s),y=ze(l),b=He(l);o.forEach(function(t,e){p.set(t.toLowerCase(),e)});var w={a:function(t){return a[t.getDay()]},A:function(t){return r[t.getDay()]},b:function(t){return l[t.getMonth()]},B:function(t){return s[t.getMonth()]},c:u(e),d:function(t,e){return Ue(t.getDate(),e,2)},e:function(t,e){return Ue(t.getDate(),e,2)},H:function(t,e){return Ue(t.getHours(),e,2)},I:function(t,e){return Ue(t.getHours()%12||12,e,2)},j:function(t,e){return Ue(1+Pe.dayOfYear(t),e,3)},L:function(t,e){return Ue(t.getMilliseconds(),e,3)},m:function(t,e){return Ue(t.getMonth()+1,e,2)},M:function(t,e){return Ue(t.getMinutes(),e,2)},p:function(t){return o[+(12<=t.getHours())]},S:function(t,e){return Ue(t.getSeconds(),e,2)},U:function(t,e){return Ue(Pe.sundayOfYear(t),e,2)},w:function(t){return t.getDay()},W:function(t,e){return Ue(Pe.mondayOfYear(t),e,2)},x:u(n),X:u(i),y:function(t,e){return Ue(t.getFullYear()%100,e,2)},Y:function(t,e){return Ue(t.getFullYear()%1e4,e,4)},Z:on,"%":function(){return"%"}},x={a:function(t,e,n){f.lastIndex=0;var i=f.exec(e.slice(n));return i?(t.w=g.get(i[0].toLowerCase()),n+i[0].length):-1},A:function(t,e,n){h.lastIndex=0;var i=h.exec(e.slice(n));return i?(t.w=d.get(i[0].toLowerCase()),n+i[0].length):-1},b:function(t,e,n){y.lastIndex=0;var i=y.exec(e.slice(n));return i?(t.m=b.get(i[0].toLowerCase()),n+i[0].length):-1},B:function(t,e,n){m.lastIndex=0;var i=m.exec(e.slice(n));return i?(t.m=v.get(i[0].toLowerCase()),n+i[0].length):-1},c:function(t,e,n){return c(t,w.c.toString(),e,n)},d:Xe,e:Xe,H:Qe,I:Qe,j:Je,L:nn,m:Ze,M:tn,p:function(t,e,n){var i=p.get(e.slice(n,n+=2).toLowerCase());return null==i?-1:(t.p=i,n)},S:en,U:qe,w:Ve,W:We,x:function(t,e,n){return c(t,w.x.toString(),e,n)},X:function(t,e,n){return c(t,w.X.toString(),e,n)},y:Ye,Y:Ge,Z:Ke,"%":rn};return u}(t)};var e,k,s,l,i,C};var sn=I.locale({decimal:".",thousands:",",grouping:[3],currency:["$",""],dateTime:"%a %b %e %X %Y",date:"%m/%d/%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function ln(){}I.format=sn.numberFormat,I.geo={},ln.prototype={s:0,t:0,add:function(t){cn(t,this.t,un),cn(un.s,this.s,this),this.s?this.t+=un.t:this.s=un.t},reset:function(){this.s=this.t=0},valueOf:function(){return this.s}};var un=new ln;function cn(t,e,n){var i=n.s=t+e,o=i-t,r=i-o;n.t=t-r+(e-o)}function pn(t,e){t&&dn.hasOwnProperty(t.type)&&dn[t.type](t,e)}I.geo.stream=function(t,e){t&&hn.hasOwnProperty(t.type)?hn[t.type](t,e):pn(t,e)};var hn={Feature:function(t,e){pn(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,i=-1,o=n.length;++i<o;)pn(n[i].geometry,e)}},dn={Sphere:function(t,e){e.sphere()},Point:function(t,e){t=t.coordinates,e.point(t[0],t[1],t[2])},MultiPoint:function(t,e){for(var n=t.coordinates,i=-1,o=n.length;++i<o;)t=n[i],e.point(t[0],t[1],t[2])},LineString:function(t,e){fn(t.coordinates,e,0)},MultiLineString:function(t,e){for(var n=t.coordinates,i=-1,o=n.length;++i<o;)fn(n[i],e,0)},Polygon:function(t,e){gn(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,i=-1,o=n.length;++i<o;)gn(n[i],e)},GeometryCollection:function(t,e){for(var n=t.geometries,i=-1,o=n.length;++i<o;)pn(n[i],e)}};function fn(t,e,n){var i,o=-1,r=t.length-n;for(e.lineStart();++o<r;)i=t[o],e.point(i[0],i[1],i[2]);e.lineEnd()}function gn(t,e){var n=-1,i=t.length;for(e.polygonStart();++n<i;)fn(t[n],e,1);e.polygonEnd()}I.geo.area=function(t){return mn=0,I.geo.stream(t,Dn),mn};var mn,vn,yn,bn,wn,xn,$n,_n,kn,Cn,Sn,Tn,An=new ln,Dn={sphere:function(){mn+=4*kt},point:M,lineStart:M,lineEnd:M,polygonStart:function(){An.reset(),Dn.lineStart=Mn},polygonEnd:function(){var t=2*An;mn+=t<0?4*kt+t:t,Dn.lineStart=Dn.lineEnd=Dn.point=M}};function Mn(){var n,i,c,p,h;function o(t,e){e=e*At/2+kt/4;var n=(t*=At)-c,i=0<=n?1:-1,o=i*n,r=Math.cos(e),a=Math.sin(e),s=h*a,l=p*r+s*Math.cos(o),u=s*i*Math.sin(o);An.add(Math.atan2(u,l)),c=t,p=r,h=a}Dn.point=function(t,e){Dn.point=o,c=(n=t)*At,p=Math.cos(e=(i=e)*At/2+kt/4),h=Math.sin(e)},Dn.lineEnd=function(){o(n,i)}}function En(t){var e=t[0],n=t[1],i=Math.cos(n);return[i*Math.cos(e),i*Math.sin(e),Math.sin(n)]}function Pn(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function On(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function In(t,e){t[0]+=e[0],t[1]+=e[1],t[2]+=e[2]}function Rn(t,e){return[t[0]*e,t[1]*e,t[2]*e]}function Ln(t){var e=Math.sqrt(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e,t[1]/=e,t[2]/=e}function Fn(t){return[Math.atan2(t[1],t[0]),Ot(t[2])]}function Nn(t,e){return O(t[0]-e[0])<$t&&O(t[1]-e[1])<$t}I.geo.bounds=function(){var c,p,h,d,f,i,o,g,r,l,u,m={point:v,lineStart:t,lineEnd:e,polygonStart:function(){m.point=n,m.lineStart=s,m.lineEnd=y,r=0,Dn.polygonStart()},polygonEnd:function(){Dn.polygonEnd(),m.point=v,m.lineStart=t,m.lineEnd=e,An<0?(c=-(h=180),p=-(d=90)):$t<r?d=90:r<-$t&&(p=-90),u[0]=c,u[1]=h}};function v(t,e){l.push(u=[c=t,h=t]),e<p&&(p=e),d<e&&(d=e)}function a(t,e){var n=En([t*At,e*At]);if(g){var i=On(g,n),o=On([i[1],-i[0],0],i);Ln(o),o=Fn(o);var r=t-f,a=0<r?1:-1,s=o[0]*Dt*a,l=180<O(r);if(l^(a*f<s&&s<a*t)){var u=o[1]*Dt;d<u&&(d=u)}else if(l^(a*f<(s=(s+360)%360-180)&&s<a*t)){(u=-o[1]*Dt)<p&&(p=u)}else e<p&&(p=e),d<e&&(d=e);l?t<f?b(c,t)>b(c,h)&&(h=t):b(t,h)>b(c,h)&&(c=t):c<=h?(t<c&&(c=t),h<t&&(h=t)):f<t?b(c,t)>b(c,h)&&(h=t):b(t,h)>b(c,h)&&(c=t)}else v(t,e);g=n,f=t}function t(){m.point=a}function e(){u[0]=c,u[1]=h,m.point=v,g=null}function n(t,e){if(g){var n=t-f;r+=180<O(n)?n+(0<n?360:-360):n}else i=t,o=e;Dn.point(t,e),a(t,e)}function s(){Dn.lineStart()}function y(){n(i,o),Dn.lineEnd(),O(r)>$t&&(c=-(h=180)),u[0]=c,u[1]=h,g=null}function b(t,e){return(e-=t)<0?e+360:e}function w(t,e){return t[0]-e[0]}function x(t,e){return e[0]<=e[1]?e[0]<=t&&t<=e[1]:t<e[0]||e[1]<t}return function(t){if(d=h=-(c=p=1/0),l=[],I.geo.stream(t,m),o=l.length){l.sort(w);for(var e=1,n=[s=l[0]];e<o;++e)x((r=l[e])[0],s)||x(r[1],s)?(b(s[0],r[1])>b(s[0],s[1])&&(s[1]=r[1]),b(r[0],s[1])>b(s[0],s[1])&&(s[0]=r[0])):n.push(s=r);for(var i,o,r,a=-1/0,s=(e=0,n[o=n.length-1]);e<=o;s=r,++e)r=n[e],(i=b(s[1],r[0]))>a&&(a=i,c=r[0],h=s[1])}return l=u=null,c===1/0||p===1/0?[[NaN,NaN],[NaN,NaN]]:[[c,p],[h,d]]}}(),I.geo.centroid=function(t){vn=yn=bn=wn=xn=$n=_n=kn=Cn=Sn=Tn=0,I.geo.stream(t,jn);var e=Cn,n=Sn,i=Tn,o=e*e+n*n+i*i;return o<_t&&(e=$n,n=_n,i=kn,yn<$t&&(e=bn,n=wn,i=xn),(o=e*e+n*n+i*i)<_t)?[NaN,NaN]:[Math.atan2(n,e)*Dt,Ot(i/Math.sqrt(o))*Dt]};var jn={sphere:M,point:Bn,lineStart:zn,lineEnd:Hn,polygonStart:function(){jn.lineStart=Vn},polygonEnd:function(){jn.lineStart=zn}};function Bn(t,e){t*=At;var n=Math.cos(e*=At);Un(n*Math.cos(t),n*Math.sin(t),Math.sin(e))}function Un(t,e,n){bn+=(t-bn)/++vn,wn+=(e-wn)/vn,xn+=(n-xn)/vn}function zn(){var s,l,u;function i(t,e){t*=At;var n=Math.cos(e*=At),i=n*Math.cos(t),o=n*Math.sin(t),r=Math.sin(e),a=Math.atan2(Math.sqrt((a=l*r-u*o)*a+(a=u*i-s*r)*a+(a=s*o-l*i)*a),s*i+l*o+u*r);yn+=a,$n+=a*(s+(s=i)),_n+=a*(l+(l=o)),kn+=a*(u+(u=r)),Un(s,l,u)}jn.point=function(t,e){t*=At;var n=Math.cos(e*=At);s=n*Math.cos(t),l=n*Math.sin(t),u=Math.sin(e),jn.point=i,Un(s,l,u)}}function Hn(){jn.point=Bn}function Vn(){var i,o,d,f,g;function r(t,e){t*=At;var n=Math.cos(e*=At),i=n*Math.cos(t),o=n*Math.sin(t),r=Math.sin(e),a=f*r-g*o,s=g*i-d*r,l=d*o-f*i,u=Math.sqrt(a*a+s*s+l*l),c=d*i+f*o+g*r,p=u&&-Pt(c)/u,h=Math.atan2(u,c);Cn+=p*a,Sn+=p*s,Tn+=p*l,yn+=h,$n+=h*(d+(d=i)),_n+=h*(f+(f=o)),kn+=h*(g+(g=r)),Un(d,f,g)}jn.point=function(t,e){i=t,o=e,jn.point=r,t*=At;var n=Math.cos(e*=At);d=n*Math.cos(t),f=n*Math.sin(t),g=Math.sin(e),Un(d,f,g)},jn.lineEnd=function(){r(i,o),jn.lineEnd=Hn,jn.point=Bn}}function qn(n,i){function t(t,e){return t=n(t,e),i(t[0],t[1])}return n.invert&&i.invert&&(t.invert=function(t,e){return(t=i.invert(t,e))&&n.invert(t[0],t[1])}),t}function Wn(){return!0}function Gn(t,e,n,i,s){var l=[],u=[];if(t.forEach(function(t){if(!((e=t.length-1)<=0)){var e,n=t[0],i=t[e];if(Nn(n,i)){s.lineStart();for(var o=0;o<e;++o)s.point((n=t[o])[0],n[1]);s.lineEnd()}else{var r=new Kn(n,t,null,!0),a=new Kn(n,null,r,!1);r.o=a,l.push(r),u.push(a),a=new Kn(i,null,r=new Kn(i,t,null,!1),!0),r.o=a,l.push(r),u.push(a)}}}),u.sort(e),Yn(l),Yn(u),l.length){for(var o=0,r=n,a=u.length;o<a;++o)u[o].e=r=!r;for(var c,p,h=l[0];;){for(var d=h,f=!0;d.v;)if((d=d.n)===h)return;c=d.z,s.lineStart();do{if(d.v=d.o.v=!0,d.e){if(f)for(o=0,a=c.length;o<a;++o)s.point((p=c[o])[0],p[1]);else i(d.x,d.n.x,1,s);d=d.n}else{if(f)for(o=(c=d.p.z).length-1;0<=o;--o)s.point((p=c[o])[0],p[1]);else i(d.x,d.p.x,-1,s);d=d.p}c=(d=d.o).z,f=!f}while(!d.v);s.lineEnd()}}}function Yn(t){if(e=t.length){for(var e,n,i=0,o=t[0];++i<e;)o.n=n=t[i],n.p=o,o=n;o.n=n=t[0],n.p=o}}function Kn(t,e,n,i){this.x=t,this.z=e,this.o=n,this.e=i,this.v=!1,this.n=this.p=null}function Zn(y,b,w,x){return function(i,a){var s,o=b(a),e=i.invert(x[0],x[1]),n={point:r,lineStart:l,lineEnd:u,polygonStart:function(){n.point=g,n.lineStart=m,n.lineEnd=v,s=[],c=[]},polygonEnd:function(){n.point=r,n.lineStart=l,n.lineEnd=u,s=I.merge(s);var t=function(t,e){var n=t[0],i=t[1],o=[Math.sin(n),-Math.cos(n),0],r=0,a=0;An.reset();for(var s=0,l=e.length;s<l;++s){var u=e[s],c=u.length;if(c)for(var p=u[0],h=p[0],d=p[1]/2+kt/4,f=Math.sin(d),g=Math.cos(d),m=1;;){m===c&&(m=0);var v=(t=u[m])[0],y=t[1]/2+kt/4,b=Math.sin(y),w=Math.cos(y),x=v-h,$=0<=x?1:-1,_=$*x,k=kt<_,C=f*b;if(An.add(Math.atan2(C*$*Math.sin(_),g*w+C*Math.cos(_))),r+=k?x+$*Ct:x,k^n<=h^n<=v){var S=On(En(p),En(t));Ln(S);var T=On(o,S);Ln(T);var A=(k^0<=x?-1:1)*Ot(T[2]);(A<i||i===A&&(S[0]||S[1]))&&(a+=k^0<=x?1:-1)}if(!m++)break;h=v,f=b,g=w,p=t}}return(r<-$t||r<$t&&An<-$t)^1&a}(e,c);s.length?(f||(a.polygonStart(),f=!0),Gn(s,Qn,t,w,a)):t&&(f||(a.polygonStart(),f=!0),a.lineStart(),w(null,null,1,a),a.lineEnd()),f&&(a.polygonEnd(),f=!1),s=c=null},sphere:function(){a.polygonStart(),a.lineStart(),w(null,null,1,a),a.lineEnd(),a.polygonEnd()}};function r(t,e){var n=i(t,e);y(t=n[0],e=n[1])&&a.point(t,e)}function t(t,e){var n=i(t,e);o.point(n[0],n[1])}function l(){n.point=t,o.lineStart()}function u(){n.point=r,o.lineEnd()}var c,p,h=Jn(),d=b(h),f=!1;function g(t,e){p.push([t,e]);var n=i(t,e);d.point(n[0],n[1])}function m(){d.lineStart(),p=[]}function v(){g(p[0][0],p[0][1]),d.lineEnd();var t,e=d.clean(),n=h.buffer(),i=n.length;if(p.pop(),c.push(p),p=null,i)if(1&e){var o,r=-1;if(0<(i=(t=n[0]).length-1)){for(f||(a.polygonStart(),f=!0),a.lineStart();++r<i;)a.point((o=t[r])[0],o[1]);a.lineEnd()}}else 1<i&&2&e&&n.push(n.pop().concat(n.shift())),s.push(n.filter(Xn))}return n}}function Xn(t){return 1<t.length}function Jn(){var n,e=[];return{lineStart:function(){e.push(n=[])},point:function(t,e){n.push([t,e])},lineEnd:M,buffer:function(){var t=e;return e=[],n=null,t},rejoin:function(){1<e.length&&e.push(e.pop().concat(e.shift()))}}}function Qn(t,e){return((t=t.x)[0]<0?t[1]-Tt-$t:Tt-t[1])-((e=e.x)[0]<0?e[1]-Tt-$t:Tt-e[1])}var ti=Zn(Wn,function(p){var h,d=NaN,f=NaN,g=NaN;return{lineStart:function(){p.lineStart(),h=1},point:function(t,e){var n,i,o,r,a,s,l,u=0<t?kt:-kt,c=O(t-d);O(c-kt)<$t?(p.point(d,f=0<(f+e)/2?Tt:-Tt),p.point(g,f),p.lineEnd(),p.lineStart(),p.point(u,f),p.point(t,f),h=0):g!==u&&kt<=c&&(O(d-g)<$t&&(d-=g*$t),O(t-u)<$t&&(t-=u*$t),n=d,i=f,o=t,r=e,l=Math.sin(n-o),f=O(l)>$t?Math.atan((Math.sin(i)*(s=Math.cos(r))*Math.sin(o)-Math.sin(r)*(a=Math.cos(i))*Math.sin(n))/(a*s*l)):(i+r)/2,p.point(g,f),p.lineEnd(),p.lineStart(),p.point(u,f),h=0),p.point(d=t,f=e),g=u},lineEnd:function(){p.lineEnd(),d=f=NaN},clean:function(){return 2-h}}},function(t,e,n,i){var o;if(null==t)o=n*Tt,i.point(-kt,o),i.point(0,o),i.point(kt,o),i.point(kt,0),i.point(kt,-o),i.point(0,-o),i.point(-kt,-o),i.point(-kt,0),i.point(-kt,o);else if(O(t[0]-e[0])>$t){var r=t[0]<e[0]?kt:-kt;o=n*r/2,i.point(-r,o),i.point(0,o),i.point(r,o)}else i.point(e[0],e[1])},[-kt,-kt/2]);function ei(c,p,h,d){return function(t){var e,n=t.a,i=t.b,o=n.x,r=n.y,a=0,s=1,l=i.x-o,u=i.y-r;if(e=c-o,l||!(0<e)){if(e/=l,l<0){if(e<a)return;e<s&&(s=e)}else if(0<l){if(s<e)return;a<e&&(a=e)}if(e=h-o,l||!(e<0)){if(e/=l,l<0){if(s<e)return;a<e&&(a=e)}else if(0<l){if(e<a)return;e<s&&(s=e)}if(e=p-r,u||!(0<e)){if(e/=u,u<0){if(e<a)return;e<s&&(s=e)}else if(0<u){if(s<e)return;a<e&&(a=e)}if(e=d-r,u||!(e<0)){if(e/=u,u<0){if(s<e)return;a<e&&(a=e)}else if(0<u){if(e<a)return;e<s&&(s=e)}return 0<a&&(t.a={x:o+a*l,y:r+a*u}),s<1&&(t.b={x:o+s*l,y:r+s*u}),t}}}}}}var ni=1e9;function ii(w,x,$,_){return function(o){var i,c,r,a,s,l,u,p,h,d,f,g=o,t=Jn(),m=ei(w,x,$,_),e={point:n,lineStart:function(){e.point=b,c&&c.push(r=[]);d=!0,h=!1,u=p=NaN},lineEnd:function(){i&&(b(a,s),l&&h&&t.rejoin(),i.push(t.buffer()));e.point=n,h&&o.lineEnd()},polygonStart:function(){o=t,i=[],c=[],f=!0},polygonEnd:function(){o=g,i=I.merge(i);var t=function(t){for(var e=0,n=c.length,i=t[1],o=0;o<n;++o)for(var r,a=1,s=c[o],l=s.length,u=s[0];a<l;++a)r=s[a],u[1]<=i?r[1]>i&&0<Et(u,r,t)&&++e:r[1]<=i&&Et(u,r,t)<0&&--e,u=r;return 0!==e}([w,_]),e=f&&t,n=i.length;(e||n)&&(o.polygonStart(),e&&(o.lineStart(),v(null,null,1,o),o.lineEnd()),n&&Gn(i,C,t,v,o),o.polygonEnd()),i=c=r=null}};function v(t,e,n,i){var o=0,r=0;if(null==t||(o=k(t,n))!==(r=k(e,n))||S(t,e)<0^0<n)for(;i.point(0===o||3===o?w:$,1<o?_:x),(o=(o+n+4)%4)!==r;);else i.point(e[0],e[1])}function y(t,e){return w<=t&&t<=$&&x<=e&&e<=_}function n(t,e){y(t,e)&&o.point(t,e)}function b(t,e){var n=y(t=Math.max(-ni,Math.min(ni,t)),e=Math.max(-ni,Math.min(ni,e)));if(c&&r.push([t,e]),d)a=t,s=e,d=!1,(l=n)&&(o.lineStart(),o.point(t,e));else if(n&&h)o.point(t,e);else{var i={a:{x:u,y:p},b:{x:t,y:e}};m(i)?(h||(o.lineStart(),o.point(i.a.x,i.a.y)),o.point(i.b.x,i.b.y),n||o.lineEnd(),f=!1):n&&(o.lineStart(),o.point(t,e),f=!1)}u=t,p=e,h=n}return e};function k(t,e){return O(t[0]-w)<$t?0<e?0:3:O(t[0]-$)<$t?0<e?2:1:O(t[1]-x)<$t?0<e?1:0:0<e?3:2}function C(t,e){return S(t.x,e.x)}function S(t,e){var n=k(t,1),i=k(e,1);return n!==i?n-i:0===n?e[1]-t[1]:1===n?t[0]-e[0]:2===n?t[1]-e[1]:e[0]-t[0]}}function oi(t){var e=0,n=kt/3,i=Ai(t),o=i(e,n);return o.parallels=function(t){return arguments.length?i(e=t[0]*kt/180,n=t[1]*kt/180):[e/kt*180,n/kt*180]},o}function ri(t,e){var n=Math.sin(t),i=(n+Math.sin(e))/2,o=1+n*(2*i-n),r=Math.sqrt(o)/i;function a(t,e){var n=Math.sqrt(o-2*i*Math.sin(e))/i;return[n*Math.sin(t*=i),r-n*Math.cos(t)]}return a.invert=function(t,e){var n=r-e;return[Math.atan2(t,n)/i,Ot((o-(t*t+n*n)*i*i)/(2*i))]},a}I.geo.clipExtent=function(){var e,n,i,o,r,a,s={stream:function(t){return r&&(r.valid=!1),(r=a(t)).valid=!0,r},extent:function(t){return arguments.length?(a=ii(e=+t[0][0],n=+t[0][1],i=+t[1][0],o=+t[1][1]),r&&(r.valid=!1,r=null),s):[[e,n],[i,o]]}};return s.extent([[0,0],[960,500]])},(I.geo.conicEqualArea=function(){return oi(ri)}).raw=ri,I.geo.albers=function(){return I.geo.conicEqualArea().rotate([96,0]).center([-.6,38.7]).parallels([29.5,45.5]).scale(1070)},I.geo.albersUsa=function(){var i,o,r,a,s=I.geo.albers(),l=I.geo.conicEqualArea().rotate([154,0]).center([-2,58.5]).parallels([55,65]),u=I.geo.conicEqualArea().rotate([157,0]).center([-3,19.9]).parallels([8,18]),c={point:function(t,e){i=[t,e]}};function p(t){var e=t[0],n=t[1];return i=null,o(e,n),i||(r(e,n),i)||a(e,n),i}return p.invert=function(t){var e=s.scale(),n=s.translate(),i=(t[0]-n[0])/e,o=(t[1]-n[1])/e;return(.12<=o&&o<.234&&-.425<=i&&i<-.214?l:.166<=o&&o<.234&&-.214<=i&&i<-.115?u:s).invert(t)},p.stream=function(t){var n=s.stream(t),i=l.stream(t),o=u.stream(t);return{point:function(t,e){n.point(t,e),i.point(t,e),o.point(t,e)},sphere:function(){n.sphere(),i.sphere(),o.sphere()},lineStart:function(){n.lineStart(),i.lineStart(),o.lineStart()},lineEnd:function(){n.lineEnd(),i.lineEnd(),o.lineEnd()},polygonStart:function(){n.polygonStart(),i.polygonStart(),o.polygonStart()},polygonEnd:function(){n.polygonEnd(),i.polygonEnd(),o.polygonEnd()}}},p.precision=function(t){return arguments.length?(s.precision(t),l.precision(t),u.precision(t),p):s.precision()},p.scale=function(t){return arguments.length?(s.scale(t),l.scale(.35*t),u.scale(t),p.translate(s.translate())):s.scale()},p.translate=function(t){if(!arguments.length)return s.translate();var e=s.scale(),n=+t[0],i=+t[1];return o=s.translate(t).clipExtent([[n-.455*e,i-.238*e],[n+.455*e,i+.238*e]]).stream(c).point,r=l.translate([n-.307*e,i+.201*e]).clipExtent([[n-.425*e+$t,i+.12*e+$t],[n-.214*e-$t,i+.234*e-$t]]).stream(c).point,a=u.translate([n-.205*e,i+.212*e]).clipExtent([[n-.214*e+$t,i+.166*e+$t],[n-.115*e-$t,i+.234*e-$t]]).stream(c).point,p},p.scale(1070)};var ai,si,li,ui,ci,pi,hi={point:M,lineStart:M,lineEnd:M,polygonStart:function(){si=0,hi.lineStart=di},polygonEnd:function(){hi.lineStart=hi.lineEnd=hi.point=M,ai+=O(si/2)}};function di(){var n,i,o,r;function a(t,e){si+=r*t-o*e,o=t,r=e}hi.point=function(t,e){hi.point=a,n=o=t,i=r=e},hi.lineEnd=function(){a(n,i)}}var fi={point:function(t,e){t<li&&(li=t);ci<t&&(ci=t);e<ui&&(ui=e);pi<e&&(pi=e)},lineStart:M,lineEnd:M,polygonStart:M,polygonEnd:M};function gi(){var n=mi(4.5),i=[],o={point:t,lineStart:function(){o.point=e},lineEnd:a,polygonStart:function(){o.lineEnd=s},polygonEnd:function(){o.lineEnd=a,o.point=t},pointRadius:function(t){return n=mi(t),o},result:function(){if(i.length){var t=i.join("");return i=[],t}}};function t(t,e){i.push("M",t,",",e,n)}function e(t,e){i.push("M",t,",",e),o.point=r}function r(t,e){i.push("L",t,",",e)}function a(){o.point=t}function s(){i.push("Z")}return o}function mi(t){return"m0,"+t+"a"+t+","+t+" 0 1,1 0,"+-2*t+"a"+t+","+t+" 0 1,1 0,"+2*t+"z"}var vi,yi={point:bi,lineStart:wi,lineEnd:xi,polygonStart:function(){yi.lineStart=$i},polygonEnd:function(){yi.point=bi,yi.lineStart=wi,yi.lineEnd=xi}};function bi(t,e){bn+=t,wn+=e,++xn}function wi(){var r,a;function n(t,e){var n=t-r,i=e-a,o=Math.sqrt(n*n+i*i);$n+=o*(r+t)/2,_n+=o*(a+e)/2,kn+=o,bi(r=t,a=e)}yi.point=function(t,e){yi.point=n,bi(r=t,a=e)}}function xi(){yi.point=bi}function $i(){var n,i,r,a;function o(t,e){var n=t-r,i=e-a,o=Math.sqrt(n*n+i*i);$n+=o*(r+t)/2,_n+=o*(a+e)/2,kn+=o,Cn+=(o=a*t-r*e)*(r+t),Sn+=o*(a+e),Tn+=3*o,bi(r=t,a=e)}yi.point=function(t,e){yi.point=o,bi(n=r=t,i=a=e)},yi.lineEnd=function(){o(n,i)}}function _i(n){var i=4.5,o={point:t,lineStart:function(){o.point=e},lineEnd:a,polygonStart:function(){o.lineEnd=s},polygonEnd:function(){o.lineEnd=a,o.point=t},pointRadius:function(t){return i=t,o},result:M};function t(t,e){n.moveTo(t+i,e),n.arc(t,e,i,0,Ct)}function e(t,e){n.moveTo(t,e),o.point=r}function r(t,e){n.lineTo(t,e)}function a(){o.point=t}function s(){n.closePath()}return o}function ki(D){var M=.5,E=Math.cos(30*At),x=16;function e(t){return(x?function(o){var n,i,r,a,s,l,u,c,p,h,d,f,g={point:t,lineStart:e,lineEnd:v,polygonStart:function(){o.polygonStart(),g.lineStart=y},polygonEnd:function(){o.polygonEnd(),g.lineStart=e}};function t(t,e){t=D(t,e),o.point(t[0],t[1])}function e(){c=NaN,g.point=m,o.lineStart()}function m(t,e){var n=En([t,e]),i=D(t,e);P(c,p,u,h,d,f,c=i[0],p=i[1],u=t,h=n[0],d=n[1],f=n[2],x,o),o.point(c,p)}function v(){g.point=t,o.lineEnd()}function y(){e(),g.point=b,g.lineEnd=w}function b(t,e){m(n=t,e),i=c,r=p,a=h,s=d,l=f,g.point=m}function w(){P(c,p,u,h,d,f,i,r,n,a,s,l,x,o),(g.lineEnd=v)()}return g}:function(n){return Si(n,function(t,e){t=D(t,e),n.point(t[0],t[1])})})(t)}function P(t,e,n,i,o,r,a,s,l,u,c,p,h,d){var f=a-t,g=s-e,m=f*f+g*g;if(4*M<m&&h--){var v=i+u,y=o+c,b=r+p,w=Math.sqrt(v*v+y*y+b*b),x=Math.asin(b/=w),$=O(O(b)-1)<$t||O(n-l)<$t?(n+l)/2:Math.atan2(y,v),_=D($,x),k=_[0],C=_[1],S=k-t,T=C-e,A=g*S-f*T;(M<A*A/m||.3<O((f*S+g*T)/m-.5)||i*u+o*c+r*p<E)&&(P(t,e,n,i,o,r,k,C,$,v/=w,y/=w,b,h,d),d.point(k,C),P(k,C,$,v,y,b,a,s,l,u,c,p,h,d))}}return e.precision=function(t){return arguments.length?(x=0<(M=t*t)&&16,e):Math.sqrt(M)},e}function Ci(t){this.stream=t}function Si(t,e){return{point:e,sphere:function(){t.sphere()},lineStart:function(){t.lineStart()},lineEnd:function(){t.lineEnd()},polygonStart:function(){t.polygonStart()},polygonEnd:function(){t.polygonEnd()}}}function Ti(t){return Ai(function(){return t})()}function Ai(t){var n,e,i,o,r,a,s=ki(function(t,e){return[(t=n(t,e))[0]*l+o,r-t[1]*l]}),l=150,u=480,c=250,p=0,h=0,d=0,f=0,g=0,m=ti,v=L,y=null,b=null;function w(t){return[(t=i(t[0]*At,t[1]*At))[0]*l+o,r-t[1]*l]}function x(t){return(t=i.invert((t[0]-o)/l,(r-t[1])/l))&&[t[0]*Dt,t[1]*Dt]}function $(){i=qn(e=Pi(d,f,g),n);var t=n(p,h);return o=u-t[0]*l,r=c+t[1]*l,_()}function _(){return a&&(a.valid=!1,a=null),w}return w.stream=function(t){return a&&(a.valid=!1),(a=Di(m(e,s(v(t))))).valid=!0,a},w.clipAngle=function(t){return arguments.length?(m=null==t?(y=t,ti):function(o){var S=Math.cos(o),d=0<S,f=O(S)>$t;return Zn(g,function(s){var l,u,c,p,h;return{lineStart:function(){p=c=!1,h=1},point:function(t,e){var n,i=[t,e],o=g(t,e),r=d?o?0:v(t,e):o?v(t+(t<0?kt:-kt),e):0;if(!l&&(p=c=o)&&s.lineStart(),o!==c&&(n=m(l,i),(Nn(l,n)||Nn(i,n))&&(i[0]+=$t,i[1]+=$t,o=g(i[0],i[1]))),o!==c)h=0,o?(s.lineStart(),n=m(i,l),s.point(n[0],n[1])):(n=m(l,i),s.point(n[0],n[1]),s.lineEnd()),l=n;else if(f&&l&&d^o){var a;r&u||!(a=m(i,l,!0))||(h=0,d?(s.lineStart(),s.point(a[0][0],a[0][1]),s.point(a[1][0],a[1][1]),s.lineEnd()):(s.point(a[1][0],a[1][1]),s.lineEnd(),s.lineStart(),s.point(a[0][0],a[0][1])))}!o||l&&Nn(l,i)||s.point(i[0],i[1]),l=i,c=o,u=r},lineEnd:function(){c&&s.lineEnd(),l=null},clean:function(){return h|(p&&c)<<1}}},Li(o,6*At),d?[0,-o]:[-kt,o-kt]);function g(t,e){return Math.cos(t)*Math.cos(e)>S}function m(t,e,n){var i=[1,0,0],o=On(En(t),En(e)),r=Pn(o,o),a=o[0],s=r-a*a;if(!s)return!n&&t;var l=S*r/s,u=-S*a/s,c=On(i,o),p=Rn(i,l);In(p,Rn(o,u));var h=c,d=Pn(p,h),f=Pn(h,h),g=d*d-f*(Pn(p,p)-1);if(!(g<0)){var m=Math.sqrt(g),v=Rn(h,(-d-m)/f);if(In(v,p),v=Fn(v),!n)return v;var y,b=t[0],w=e[0],x=t[1],$=e[1];w<b&&(y=b,b=w,w=y);var _=w-b,k=O(_-kt)<$t;if(!k&&$<x&&(y=x,x=$,$=y),k||_<$t?k?0<x+$^v[1]<(O(v[0]-b)<$t?x:$):x<=v[1]&&v[1]<=$:kt<_^(b<=v[0]&&v[0]<=w)){var C=Rn(h,(-d+m)/f);return In(C,p),[v,Fn(C)]}}}function v(t,e){var n=d?o:kt-o,i=0;return t<-n?i|=1:n<t&&(i|=2),e<-n?i|=4:n<e&&(i|=8),i}}((y=+t)*At),_()):y},w.clipExtent=function(t){return arguments.length?(v=(b=t)?ii(t[0][0],t[0][1],t[1][0],t[1][1]):L,_()):b},w.scale=function(t){return arguments.length?(l=+t,$()):l},w.translate=function(t){return arguments.length?(u=+t[0],c=+t[1],$()):[u,c]},w.center=function(t){return arguments.length?(p=t[0]%360*At,h=t[1]%360*At,$()):[p*Dt,h*Dt]},w.rotate=function(t){return arguments.length?(d=t[0]%360*At,f=t[1]%360*At,g=2<t.length?t[2]%360*At:0,$()):[d*Dt,f*Dt,g*Dt]},I.rebind(w,s,"precision"),function(){return n=t.apply(this,arguments),w.invert=n.invert&&x,$()}}function Di(n){return Si(n,function(t,e){n.point(t*At,e*At)})}function Mi(t,e){return[t,e]}function Ei(t,e){return[kt<t?t-Ct:t<-kt?t+Ct:t,e]}function Pi(t,e,n){return t?e||n?qn(Ii(t),Ri(e,n)):Ii(t):e||n?Ri(e,n):Ei}function Oi(n){return function(t,e){return[kt<(t+=n)?t-Ct:t<-kt?t+Ct:t,e]}}function Ii(t){var e=Oi(t);return e.invert=Oi(-t),e}function Ri(t,e){var s=Math.cos(t),l=Math.sin(t),u=Math.cos(e),c=Math.sin(e);function n(t,e){var n=Math.cos(e),i=Math.cos(t)*n,o=Math.sin(t)*n,r=Math.sin(e),a=r*s+i*l;return[Math.atan2(o*u-a*c,i*s-r*l),Ot(a*u+o*c)]}return n.invert=function(t,e){var n=Math.cos(e),i=Math.cos(t)*n,o=Math.sin(t)*n,r=Math.sin(e),a=r*u-o*c;return[Math.atan2(o*u+r*c,i*s+a*l),Ot(a*s-i*l)]},n}function Li(s,l){var u=Math.cos(s),c=Math.sin(s);return function(t,e,n,i){var o=n*l;null!=t?(t=Fi(u,t),e=Fi(u,e),(0<n?t<e:e<t)&&(t+=n*Ct)):(t=s+n*Ct,e=s-.5*o);for(var r,a=t;0<n?e<a:a<e;a-=o)i.point((r=Fn([u,-c*Math.cos(a),-c*Math.sin(a)]))[0],r[1])}}function Fi(t,e){var n=En(e);n[0]-=t,Ln(n);var i=Pt(-n[1]);return((-n[2]<0?-i:i)+2*Math.PI-$t)%(2*Math.PI)}function Ni(t,e,n){var i=I.range(t,e-$t,n).concat(e);return function(e){return i.map(function(t){return[e,t]})}}function ji(t,e,n){var i=I.range(t,e-$t,n).concat(e);return function(e){return i.map(function(t){return[t,e]})}}function Bi(t){return t.source}function Ui(t){return t.target}I.geo.path=function(){var i,e,o,n,r,a=4.5;function s(t){return t&&("function"==typeof a&&n.pointRadius(+a.apply(this,arguments)),r&&r.valid||(r=o(n)),I.geo.stream(t,r)),n.result()}function l(){return r=null,s}return s.area=function(t){return ai=0,I.geo.stream(t,o(hi)),ai},s.centroid=function(t){return bn=wn=xn=$n=_n=kn=Cn=Sn=Tn=0,I.geo.stream(t,o(yi)),Tn?[Cn/Tn,Sn/Tn]:kn?[$n/kn,_n/kn]:xn?[bn/xn,wn/xn]:[NaN,NaN]},s.bounds=function(t){return ci=pi=-(li=ui=1/0),I.geo.stream(t,o(fi)),[[li,ui],[ci,pi]]},s.projection=function(t){return arguments.length?(o=(i=t)?t.stream||(n=t,e=ki(function(t,e){return n([t*Dt,e*Dt])}),function(t){return Di(e(t))}):L,l()):i;var n,e},s.context=function(t){return arguments.length?(n=null==(e=t)?new gi:new _i(t),"function"!=typeof a&&n.pointRadius(a),l()):e},s.pointRadius=function(t){return arguments.length?(a="function"==typeof t?t:(n.pointRadius(+t),+t),s):a},s.projection(I.geo.albersUsa()).context(null)},I.geo.transform=function(i){return{stream:function(t){var e=new Ci(t);for(var n in i)e[n]=i[n];return e}}},Ci.prototype={point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}},I.geo.projection=Ti,I.geo.projectionMutator=Ai,(I.geo.equirectangular=function(){return Ti(Mi)}).raw=Mi.invert=Mi,I.geo.rotation=function(e){function t(t){return(t=e(t[0]*At,t[1]*At))[0]*=Dt,t[1]*=Dt,t}return e=Pi(e[0]%360*At,e[1]*At,2<e.length?e[2]*At:0),t.invert=function(t){return(t=e.invert(t[0]*At,t[1]*At))[0]*=Dt,t[1]*=Dt,t},t},Ei.invert=Mi,I.geo.circle=function(){var e,o,r=[0,0],n=6;function i(){var t="function"==typeof r?r.apply(this,arguments):r,n=Pi(-t[0]*At,-t[1]*At,0).invert,i=[];return o(null,null,1,{point:function(t,e){i.push(t=n(t,e)),t[0]*=Dt,t[1]*=Dt}}),{type:"Polygon",coordinates:[i]}}return i.origin=function(t){return arguments.length?(r=t,i):r},i.angle=function(t){return arguments.length?(o=Li((e=+t)*At,n*At),i):e},i.precision=function(t){return arguments.length?(o=Li(e*At,(n=+t)*At),i):n},i.angle(90)},I.geo.distance=function(t,e){var n,i=(e[0]-t[0])*At,o=t[1]*At,r=e[1]*At,a=Math.sin(i),s=Math.cos(i),l=Math.sin(o),u=Math.cos(o),c=Math.sin(r),p=Math.cos(r);return Math.atan2(Math.sqrt((n=p*a)*n+(n=u*c-l*p*s)*n),l*c+u*p*s)},I.geo.graticule=function(){var e,n,i,o,r,a,s,l,u,c,p,h,d=10,f=d,g=90,m=360,v=2.5;function y(){return{type:"MultiLineString",coordinates:t()}}function t(){return I.range(Math.ceil(o/g)*g,i,g).map(p).concat(I.range(Math.ceil(l/m)*m,s,m).map(h)).concat(I.range(Math.ceil(n/d)*d,e,d).filter(function(t){return O(t%g)>$t}).map(u)).concat(I.range(Math.ceil(a/f)*f,r,f).filter(function(t){return O(t%m)>$t}).map(c))}return y.lines=function(){return t().map(function(t){return{type:"LineString",coordinates:t}})},y.outline=function(){return{type:"Polygon",coordinates:[p(o).concat(h(s).slice(1),p(i).reverse().slice(1),h(l).reverse().slice(1))]}},y.extent=function(t){return arguments.length?y.majorExtent(t).minorExtent(t):y.minorExtent()},y.majorExtent=function(t){return arguments.length?(o=+t[0][0],i=+t[1][0],l=+t[0][1],s=+t[1][1],i<o&&(t=o,o=i,i=t),s<l&&(t=l,l=s,s=t),y.precision(v)):[[o,l],[i,s]]},y.minorExtent=function(t){return arguments.length?(n=+t[0][0],e=+t[1][0],a=+t[0][1],r=+t[1][1],e<n&&(t=n,n=e,e=t),r<a&&(t=a,a=r,r=t),y.precision(v)):[[n,a],[e,r]]},y.step=function(t){return arguments.length?y.majorStep(t).minorStep(t):y.minorStep()},y.majorStep=function(t){return arguments.length?(g=+t[0],m=+t[1],y):[g,m]},y.minorStep=function(t){return arguments.length?(d=+t[0],f=+t[1],y):[d,f]},y.precision=function(t){return arguments.length?(v=+t,u=Ni(a,r,90),c=ji(n,e,v),p=Ni(l,s,90),h=ji(o,i,v),y):v},y.majorExtent([[-180,-90+$t],[180,90-$t]]).minorExtent([[-180,-80-$t],[180,80+$t]])},I.geo.greatArc=function(){var e,n,i=Bi,o=Ui;function r(){return{type:"LineString",coordinates:[e||i.apply(this,arguments),n||o.apply(this,arguments)]}}return r.distance=function(){return I.geo.distance(e||i.apply(this,arguments),n||o.apply(this,arguments))},r.source=function(t){return arguments.length?(e="function"==typeof(i=t)?null:t,r):i},r.target=function(t){return arguments.length?(n="function"==typeof(o=t)?null:t,r):o},r.precision=function(){return arguments.length?r:0},r},I.geo.interpolate=function(t,e){return n=t[0]*At,i=t[1]*At,o=e[0]*At,r=e[1]*At,a=Math.cos(i),s=Math.sin(i),l=Math.cos(r),u=Math.sin(r),c=a*Math.cos(n),p=a*Math.sin(n),h=l*Math.cos(o),d=l*Math.sin(o),f=2*Math.asin(Math.sqrt(Rt(r-i)+a*l*Rt(o-n))),g=1/Math.sin(f),(m=f?function(t){var e=Math.sin(t*=f)*g,n=Math.sin(f-t)*g,i=n*c+e*h,o=n*p+e*d,r=n*s+e*u;return[Math.atan2(o,i)*Dt,Math.atan2(r,Math.sqrt(i*i+o*o))*Dt]}:function(){return[n*Dt,i*Dt]}).distance=f,m;var n,i,o,r,a,s,l,u,c,p,h,d,f,g,m},I.geo.length=function(t){return vi=0,I.geo.stream(t,zi),vi};var zi={sphere:M,point:M,lineStart:function(){var a,s,l;function n(t,e){var n=Math.sin(e*=At),i=Math.cos(e),o=O((t*=At)-a),r=Math.cos(o);vi+=Math.atan2(Math.sqrt((o=i*Math.sin(o))*o+(o=l*n-s*i*r)*o),s*n+l*i*r),a=t,s=n,l=i}zi.point=function(t,e){a=t*At,s=Math.sin(e*=At),l=Math.cos(e),zi.point=n},zi.lineEnd=function(){zi.point=zi.lineEnd=M}},lineEnd:M,polygonStart:M,polygonEnd:M};function Hi(r,a){function t(t,e){var n=Math.cos(t),i=Math.cos(e),o=r(n*i);return[o*i*Math.sin(t),o*Math.sin(e)]}return t.invert=function(t,e){var n=Math.sqrt(t*t+e*e),i=a(n),o=Math.sin(i),r=Math.cos(i);return[Math.atan2(t*o,n*r),Math.asin(n&&e*o/n)]},t}var Vi=Hi(function(t){return Math.sqrt(2/(1+t))},function(t){return 2*Math.asin(t/2)});(I.geo.azimuthalEqualArea=function(){return Ti(Vi)}).raw=Vi;var qi=Hi(function(t){var e=Math.acos(t);return e&&e/Math.sin(e)},L);function Wi(t,e){var n=Math.cos(t),i=function(t){return Math.tan(kt/4+t/2)},o=t===e?Math.sin(t):Math.log(n/Math.cos(e))/Math.log(i(e)/i(t)),r=n*Math.pow(i(t),o)/o;if(!o)return Ki;function a(t,e){0<r?e<-Tt+$t&&(e=-Tt+$t):Tt-$t<e&&(e=Tt-$t);var n=r/Math.pow(i(e),o);return[n*Math.sin(o*t),r-n*Math.cos(o*t)]}return a.invert=function(t,e){var n=r-e,i=Mt(o)*Math.sqrt(t*t+n*n);return[Math.atan2(t,n)/o,2*Math.atan(Math.pow(r/i,1/o))-Tt]},a}function Gi(t,e){var n=Math.cos(t),i=t===e?Math.sin(t):(n-Math.cos(e))/(e-t),o=n/i+t;if(O(i)<$t)return Mi;function r(t,e){var n=o-e;return[n*Math.sin(i*t),o-n*Math.cos(i*t)]}return r.invert=function(t,e){var n=o-e;return[Math.atan2(t,n)/i,o-Mt(i)*Math.sqrt(t*t+n*n)]},r}(I.geo.azimuthalEquidistant=function(){return Ti(qi)}).raw=qi,(I.geo.conicConformal=function(){return oi(Wi)}).raw=Wi,(I.geo.conicEquidistant=function(){return oi(Gi)}).raw=Gi;var Yi=Hi(function(t){return 1/t},Math.atan);function Ki(t,e){return[t,Math.log(Math.tan(kt/4+e/2))]}function Zi(t){var o,r=Ti(t),a=r.scale,s=r.translate,l=r.clipExtent;return r.scale=function(){var t=a.apply(r,arguments);return t===r?o?r.clipExtent(null):r:t},r.translate=function(){var t=s.apply(r,arguments);return t===r?o?r.clipExtent(null):r:t},r.clipExtent=function(t){var e=l.apply(r,arguments);if(e===r){if(o=null==t){var n=kt*a(),i=s();l([[i[0]-n,i[1]-n],[i[0]+n,i[1]+n]])}}else o&&(e=null);return e},r.clipExtent(null)}(I.geo.gnomonic=function(){return Ti(Yi)}).raw=Yi,Ki.invert=function(t,e){return[t,2*Math.atan(Math.exp(e))-Tt]},(I.geo.mercator=function(){return Zi(Ki)}).raw=Ki;var Xi=Hi(function(){return 1},Math.asin);(I.geo.orthographic=function(){return Ti(Xi)}).raw=Xi;var Ji=Hi(function(t){return 1/(1+t)},function(t){return 2*Math.atan(t)});function Qi(t,e){return[Math.log(Math.tan(kt/4+e/2)),-t]}function to(t){return t[0]}function eo(t){return t[1]}function no(t){for(var e=t.length,n=[0,1],i=2,o=2;o<e;o++){for(;1<i&&Et(t[n[i-2]],t[n[i-1]],t[o])<=0;)--i;n[i++]=o}return n.slice(0,i)}function io(t,e){return t[0]-e[0]||t[1]-e[1]}(I.geo.stereographic=function(){return Ti(Ji)}).raw=Ji,Qi.invert=function(t,e){return[-e,2*Math.atan(Math.exp(t))-Tt]},(I.geo.transverseMercator=function(){var t=Zi(Qi),e=t.center,n=t.rotate;return t.center=function(t){return t?e([-t[1],t[0]]):[(t=e())[1],-t[0]]},t.rotate=function(t){return t?n([t[0],t[1],2<t.length?t[2]+90:90]):[(t=n())[0],t[1],t[2]-90]},n([0,0,90])}).raw=Qi,I.geom={},I.geom.hull=function(t){var h=to,d=eo;if(arguments.length)return e(t);function e(t){if(t.length<3)return[];var e,n=ge(h),i=ge(d),o=t.length,r=[],a=[];for(e=0;e<o;e++)r.push([+n.call(this,t[e],e),+i.call(this,t[e],e),e]);for(r.sort(io),e=0;e<o;e++)a.push([r[e][0],-r[e][1]]);var s=no(r),l=no(a),u=l[0]===s[0],c=l[l.length-1]===s[s.length-1],p=[];for(e=s.length-1;0<=e;--e)p.push(t[r[s[e]][2]]);for(e=+u;e<l.length-c;++e)p.push(t[r[l[e]][2]]);return p}return e.x=function(t){return arguments.length?(h=t,e):h},e.y=function(t){return arguments.length?(d=t,e):d},e},I.geom.polygon=function(t){return U(t,oo),t};var oo=I.geom.polygon.prototype=[];function ro(t,e,n){return(n[0]-e[0])*(t[1]-e[1])<(n[1]-e[1])*(t[0]-e[0])}function ao(t,e,n,i){var o=t[0],r=n[0],a=e[0]-o,s=i[0]-r,l=t[1],u=n[1],c=e[1]-l,p=i[1]-u,h=(s*(l-u)-p*(o-r))/(p*a-s*c);return[o+h*a,l+h*c]}function so(t){var e=t[0],n=t[t.length-1];return!(e[0]-n[0]||e[1]-n[1])}oo.area=function(){for(var t,e=-1,n=this.length,i=this[n-1],o=0;++e<n;)t=i,i=this[e],o+=t[1]*i[0]-t[0]*i[1];return.5*o},oo.centroid=function(t){var e,n,i=-1,o=this.length,r=0,a=0,s=this[o-1];for(arguments.length||(t=-1/(6*this.area()));++i<o;)e=s,s=this[i],n=e[0]*s[1]-s[0]*e[1],r+=(e[0]+s[0])*n,a+=(e[1]+s[1])*n;return[r*t,a*t]},oo.clip=function(t){for(var e,n,i,o,r,a,s=so(t),l=-1,u=this.length-so(this),c=this[u-1];++l<u;){for(e=t.slice(),t.length=0,o=this[l],r=e[(i=e.length-s)-1],n=-1;++n<i;)ro(a=e[n],c,o)?(ro(r,c,o)||t.push(ao(r,a,c,o)),t.push(a)):ro(r,c,o)&&t.push(ao(r,a,c,o)),r=a;s&&t.push(t[0]),c=o}return t};var lo,uo,co,po,ho,fo=[],go=[];function mo(){Io(this),this.edge=this.site=this.circle=null}function vo(t){var e=fo.pop()||new mo;return e.site=t,e}function yo(t){To(t),co.remove(t),fo.push(t),Io(t)}function bo(t){var e=t.circle,n=e.x,i=e.cy,o={x:n,y:i},r=t.P,a=t.N,s=[t];yo(t);for(var l=r;l.circle&&O(n-l.circle.x)<$t&&O(i-l.circle.cy)<$t;)r=l.P,s.unshift(l),yo(l),l=r;s.unshift(l),To(l);for(var u=a;u.circle&&O(n-u.circle.x)<$t&&O(i-u.circle.cy)<$t;)a=u.N,s.push(u),yo(u),u=a;s.push(u),To(u);var c,p=s.length;for(c=1;c<p;++c)u=s[c],l=s[c-1],Eo(u.edge,l.site,u.site,o);l=s[0],(u=s[p-1]).edge=Mo(l.site,u.site,null,o),So(l),So(u)}function wo(t){for(var e,n,i,o,r=t.x,a=t.y,s=co._;s;)if(i=xo(s,a)-r,$t<i)s=s.L;else{if(o=r-$o(s,a),!($t<o)){-$t<i?(e=s.P,n=s):-$t<o?n=(e=s).N:e=n=s;break}if(!s.R){e=s;break}s=s.R}var l=vo(t);if(co.insert(e,l),e||n){if(e===n)return To(e),n=vo(e.site),co.insert(l,n),l.edge=n.edge=Mo(e.site,l.site),So(e),void So(n);if(n){To(e),To(n);var u=e.site,c=u.x,p=u.y,h=t.x-c,d=t.y-p,f=n.site,g=f.x-c,m=f.y-p,v=2*(h*m-d*g),y=h*h+d*d,b=g*g+m*m,w={x:(m*y-d*b)/v+c,y:(h*b-g*y)/v+p};Eo(n.edge,u,f,w),l.edge=Mo(u,t,null,w),n.edge=Mo(t,f,null,w),So(e),So(n)}else l.edge=Mo(e.site,l.site)}}function xo(t,e){var n=t.site,i=n.x,o=n.y,r=o-e;if(!r)return i;var a=t.P;if(!a)return-1/0;var s=(n=a.site).x,l=n.y,u=l-e;if(!u)return s;var c=s-i,p=1/r-1/u,h=c/u;return p?(-h+Math.sqrt(h*h-2*p*(c*c/(-2*u)-l+u/2+o-r/2)))/p+i:(i+s)/2}function $o(t,e){var n=t.N;if(n)return xo(n,e);var i=t.site;return i.y===e?i.x:1/0}function _o(t){this.site=t,this.edges=[]}function ko(t,e){return e.angle-t.angle}function Co(){Io(this),this.x=this.y=this.arc=this.site=this.cy=null}function So(t){var e=t.P,n=t.N;if(e&&n){var i=e.site,o=t.site,r=n.site;if(i!==r){var a=o.x,s=o.y,l=i.x-a,u=i.y-s,c=r.x-a,p=2*(l*(m=r.y-s)-u*c);if(!(-_t<=p)){var h=l*l+u*u,d=c*c+m*m,f=(m*h-u*d)/p,g=(l*d-c*h)/p,m=g+s,v=go.pop()||new Co;v.arc=t,v.site=o,v.x=f+a,v.y=m+Math.sqrt(f*f+g*g),v.cy=m,t.circle=v;for(var y=null,b=ho._;b;)if(v.y<b.y||v.y===b.y&&v.x<=b.x){if(!b.L){y=b.P;break}b=b.L}else{if(!b.R){y=b;break}b=b.R}ho.insert(y,v),y||(po=v)}}}}function To(t){var e=t.circle;e&&(e.P||(po=e.N),ho.remove(e),go.push(e),Io(e),t.circle=null)}function Ao(t,e){var n=t.b;if(n)return!0;var i,o,r=t.a,a=e[0][0],s=e[1][0],l=e[0][1],u=e[1][1],c=t.l,p=t.r,h=c.x,d=c.y,f=p.x,g=p.y,m=(h+f)/2,v=(d+g)/2;if(g===d){if(m<a||s<=m)return;if(f<h){if(r){if(r.y>=u)return}else r={x:m,y:l};n={x:m,y:u}}else{if(r){if(r.y<l)return}else r={x:m,y:u};n={x:m,y:l}}}else if(o=v-(i=(h-f)/(g-d))*m,i<-1||1<i)if(f<h){if(r){if(r.y>=u)return}else r={x:(l-o)/i,y:l};n={x:(u-o)/i,y:u}}else{if(r){if(r.y<l)return}else r={x:(u-o)/i,y:u};n={x:(l-o)/i,y:l}}else if(d<g){if(r){if(r.x>=s)return}else r={x:a,y:i*a+o};n={x:s,y:i*s+o}}else{if(r){if(r.x<a)return}else r={x:s,y:i*s+o};n={x:a,y:i*a+o}}return t.a=r,t.b=n,!0}function Do(t,e){this.l=t,this.r=e,this.a=this.b=null}function Mo(t,e,n,i){var o=new Do(t,e);return lo.push(o),n&&Eo(o,t,e,n),i&&Eo(o,e,t,i),uo[t.i].edges.push(new Po(o,t,e)),uo[e.i].edges.push(new Po(o,e,t)),o}function Eo(t,e,n,i){t.a||t.b?t.l===n?t.b=i:t.a=i:(t.a=i,t.l=e,t.r=n)}function Po(t,e,n){var i=t.a,o=t.b;this.edge=t,this.site=e,this.angle=n?Math.atan2(n.y-e.y,n.x-e.x):t.l===e?Math.atan2(o.x-i.x,i.y-o.y):Math.atan2(i.x-o.x,o.y-i.y)}function Oo(){this._=null}function Io(t){t.U=t.C=t.L=t.R=t.P=t.N=null}function Ro(t,e){var n=e,i=e.R,o=n.U;o?o.L===n?o.L=i:o.R=i:t._=i,i.U=o,n.U=i,n.R=i.L,n.R&&(n.R.U=n),i.L=n}function Lo(t,e){var n=e,i=e.L,o=n.U;o?o.L===n?o.L=i:o.R=i:t._=i,i.U=o,n.U=i,n.L=i.R,n.L&&(n.L.U=n),i.R=n}function Fo(t){for(;t.L;)t=t.L;return t}function No(t,e){var n,i,o,r=t.sort(jo).pop();for(lo=[],uo=new Array(t.length),co=new Oo,ho=new Oo;;)if(o=po,r&&(!o||r.y<o.y||r.y===o.y&&r.x<o.x))r.x===n&&r.y===i||(uo[r.i]=new _o(r),wo(r),n=r.x,i=r.y),r=t.pop();else{if(!o)break;bo(o.arc)}e&&(function(t){for(var e,n=lo,i=ei(t[0][0],t[0][1],t[1][0],t[1][1]),o=n.length;o--;)(!Ao(e=n[o],t)||!i(e)||O(e.a.x-e.b.x)<$t&&O(e.a.y-e.b.y)<$t)&&(e.a=e.b=null,n.splice(o,1))}(e),function(t){for(var e,n,i,o,r,a,s,l,u,c,p=t[0][0],h=t[1][0],d=t[0][1],f=t[1][1],g=uo,m=g.length;m--;)if((r=g[m])&&r.prepare())for(l=(s=r.edges).length,a=0;a<l;)i=(c=s[a].end()).x,o=c.y,e=(u=s[++a%l].start()).x,n=u.y,(O(i-e)>$t||O(o-n)>$t)&&(s.splice(a,0,new Po((v=r.site,y=c,b=O(i-p)<$t&&$t<f-o?{x:p,y:O(e-p)<$t?n:f}:O(o-f)<$t&&$t<h-i?{x:O(n-f)<$t?e:h,y:f}:O(i-h)<$t&&$t<o-d?{x:h,y:O(e-h)<$t?n:d}:O(o-d)<$t&&$t<i-p?{x:O(n-d)<$t?e:p,y:d}:null,w=void 0,w=new Do(v,null),w.a=y,w.b=b,lo.push(w),w),r.site,null)),++l);var v,y,b,w}(e));var a={cells:uo,edges:lo};return co=ho=lo=uo=null,a}function jo(t,e){return e.y-t.y||e.x-t.x}_o.prototype.prepare=function(){for(var t,e=this.edges,n=e.length;n--;)(t=e[n].edge).b&&t.a||e.splice(n,1);return e.sort(ko),e.length},Po.prototype={start:function(){return this.edge.l===this.site?this.edge.a:this.edge.b},end:function(){return this.edge.l===this.site?this.edge.b:this.edge.a}},Oo.prototype={insert:function(t,e){var n,i,o;if(t){if(e.P=t,e.N=t.N,t.N&&(t.N.P=e),t.N=e,t.R){for(t=t.R;t.L;)t=t.L;t.L=e}else t.R=e;n=t}else n=this._?(t=Fo(this._),e.P=null,(e.N=t).P=t.L=e,t):(e.P=e.N=null,this._=e,null);for(e.L=e.R=null,e.U=n,e.C=!0,t=e;n&&n.C;)n===(i=n.U).L?(o=i.R)&&o.C?(n.C=o.C=!1,i.C=!0,t=i):(t===n.R&&(Ro(this,n),n=(t=n).U),n.C=!1,i.C=!0,Lo(this,i)):(o=i.L)&&o.C?(n.C=o.C=!1,i.C=!0,t=i):(t===n.L&&(Lo(this,n),n=(t=n).U),n.C=!1,i.C=!0,Ro(this,i)),n=t.U;this._.C=!1},remove:function(t){t.N&&(t.N.P=t.P),t.P&&(t.P.N=t.N),t.N=t.P=null;var e,n,i,o=t.U,r=t.L,a=t.R;if(n=r?a?Fo(a):r:a,o?o.L===t?o.L=n:o.R=n:this._=n,r&&a?(i=n.C,n.C=t.C,((n.L=r).U=n)!==a?(o=n.U,n.U=t.U,t=n.R,o.L=t,(n.R=a).U=n):(n.U=o,t=(o=n).R)):(i=t.C,t=n),t&&(t.U=o),!i)if(t&&t.C)t.C=!1;else{do{if(t===this._)break;if(t===o.L){if((e=o.R).C&&(e.C=!1,o.C=!0,Ro(this,o),e=o.R),e.L&&e.L.C||e.R&&e.R.C){e.R&&e.R.C||(e.L.C=!1,e.C=!0,Lo(this,e),e=o.R),e.C=o.C,o.C=e.R.C=!1,Ro(this,o),t=this._;break}}else if((e=o.L).C&&(e.C=!1,o.C=!0,Lo(this,o),e=o.L),e.L&&e.L.C||e.R&&e.R.C){e.L&&e.L.C||(e.R.C=!1,e.C=!0,Ro(this,e),e=o.L),e.C=o.C,o.C=e.L.C=!1,Lo(this,o),t=this._;break}e.C=!0,o=(t=o).U}while(!t.C);t&&(t.C=!1)}}},I.geom.voronoi=function(t){var e=to,n=eo,i=e,o=n,c=Bo;if(t)return r(t);function r(o){var r=new Array(o.length),a=c[0][0],s=c[0][1],l=c[1][0],u=c[1][1];return No(p(o),c).cells.forEach(function(t,e){var n=t.edges,i=t.site;(r[e]=n.length?n.map(function(t){var e=t.start();return[e.x,e.y]}):i.x>=a&&i.x<=l&&i.y>=s&&i.y<=u?[[a,u],[l,u],[l,s],[a,s]]:[]).point=o[e]}),r}function p(t){return t.map(function(t,e){return{x:Math.round(i(t,e)/$t)*$t,y:Math.round(o(t,e)/$t)*$t,i:e}})}return r.links=function(e){return No(p(e)).edges.filter(function(t){return t.l&&t.r}).map(function(t){return{source:e[t.l.i],target:e[t.r.i]}})},r.triangles=function(h){var d=[];return No(p(h)).cells.forEach(function(t,e){for(var n,i,o,r,a=t.site,s=t.edges.sort(ko),l=-1,u=s.length,c=s[u-1].edge,p=c.l===a?c.r:c.l;++l<u;)c,n=p,p=(c=s[l].edge).l===a?c.r:c.l,e<n.i&&e<p.i&&(o=n,r=p,((i=a).x-r.x)*(o.y-i.y)-(i.x-o.x)*(r.y-i.y)<0)&&d.push([h[e],h[n.i],h[p.i]])}),d},r.x=function(t){return arguments.length?(i=ge(e=t),r):e},r.y=function(t){return arguments.length?(o=ge(n=t),r):n},r.clipExtent=function(t){return arguments.length?(c=null==t?Bo:t,r):c===Bo?null:c},r.size=function(t){return arguments.length?r.clipExtent(t&&[[0,0],t]):c===Bo?null:c&&c[1]},r};var Bo=[[-1e6,-1e6],[1e6,1e6]];function Uo(t){return t.x}function zo(t){return t.y}function Ho(t,e){t=I.rgb(t),e=I.rgb(e);var n=t.r,i=t.g,o=t.b,r=e.r-n,a=e.g-i,s=e.b-o;return function(t){return"#"+le(Math.round(n+r*t))+le(Math.round(i+a*t))+le(Math.round(o+s*t))}}function Vo(t,e){var n,i={},o={};for(n in t)n in e?i[n]=Ko(t[n],e[n]):o[n]=t[n];for(n in e)n in t||(o[n]=e[n]);return function(t){for(n in i)o[n]=i[n](t);return o}}function qo(e,n){return e=+e,n=+n,function(t){return e*(1-t)+n*t}}function Wo(t,i){var e,n,o,r=Go.lastIndex=Yo.lastIndex=0,a=-1,s=[],l=[];for(t+="",i+="";(e=Go.exec(t))&&(n=Yo.exec(i));)(o=n.index)>r&&(o=i.slice(r,o),s[a]?s[a]+=o:s[++a]=o),(e=e[0])===(n=n[0])?s[a]?s[a]+=n:s[++a]=n:(s[++a]=null,l.push({i:a,x:qo(e,n)})),r=Yo.lastIndex;return r<i.length&&(o=i.slice(r),s[a]?s[a]+=o:s[++a]=o),s.length<2?l[0]?(i=l[0].x,function(t){return i(t)+""}):function(){return i}:(i=l.length,function(t){for(var e,n=0;n<i;++n)s[(e=l[n]).i]=e.x(t);return s.join("")})}I.geom.delaunay=function(t){return I.geom.voronoi().triangles(t)},I.geom.quadtree=function(t,y,b,w,x){var $,_=to,C=eo;if($=arguments.length)return _=Uo,C=zo,3===$&&(x=b,w=y,b=y=0),e(t);function e(t){var e,n,i,o,r,a,s,l,u,c=ge(_),p=ge(C);if(null!=y)a=y,s=b,l=w,u=x;else if(l=u=-(a=s=1/0),n=[],i=[],r=t.length,$)for(o=0;o<r;++o)(e=t[o]).x<a&&(a=e.x),e.y<s&&(s=e.y),e.x>l&&(l=e.x),e.y>u&&(u=e.y),n.push(e.x),i.push(e.y);else for(o=0;o<r;++o){var h=+c(e=t[o],o),d=+p(e,o);h<a&&(a=h),d<s&&(s=d),l<h&&(l=h),u<d&&(u=d),n.push(h),i.push(d)}var f=l-a,g=u-s;function m(t,e,n,i,o,r,a,s){if(!isNaN(n)&&!isNaN(i))if(t.leaf){var l=t.x,u=t.y;if(null!=l)if(O(l-n)+O(u-i)<.01)v(t,e,n,i,o,r,a,s);else{var c=t.point;t.x=t.y=t.point=null,v(t,c,l,u,o,r,a,s),v(t,e,n,i,o,r,a,s)}else t.x=n,t.y=i,t.point=e}else v(t,e,n,i,o,r,a,s)}function v(t,e,n,i,o,r,a,s){var l=.5*(o+a),u=.5*(r+s),c=l<=n,p=u<=i,h=p<<1|c;t.leaf=!1,c?o=l:a=l,p?r=u:s=u,m(t=t.nodes[h]||(t.nodes[h]={leaf:!0,nodes:[],point:null,x:null,y:null}),e,n,i,o,r,a,s)}g<f?u=s+f:l=a+g;var k={leaf:!0,nodes:[],point:null,x:null,y:null,add:function(t){m(k,t,+c(t,++o),+p(t,o),a,s,l,u)}};if(k.visit=function(t){!function t(e,n,i,o,r,a){if(!e(n,i,o,r,a)){var s=.5*(i+r),l=.5*(o+a),u=n.nodes;u[0]&&t(e,u[0],i,o,s,l),u[1]&&t(e,u[1],s,o,r,l),u[2]&&t(e,u[2],i,l,s,a),u[3]&&t(e,u[3],s,l,r,a)}}(t,k,a,s,l,u)},k.find=function(t){return e=k,m=t[0],v=t[1],_=1/0,function t(e,n,i,o,r){if(!(w<n||x<i||o<y||r<b)){if(a=e.point){var a,s=m-e.x,l=v-e.y,u=s*s+l*l;if(u<_){var c=Math.sqrt(_=u);y=m-c,b=v-c,w=m+c,x=v+c,$=a}}for(var p=e.nodes,h=.5*(n+o),d=.5*(i+r),f=(d<=v)<<1|h<=m,g=f+4;f<g;++f)if(e=p[3&f])switch(3&f){case 0:t(e,n,i,h,d);break;case 1:t(e,h,i,o,d);break;case 2:t(e,n,d,h,r);break;case 3:t(e,h,d,o,r)}}}(e,y=a,b=s,w=l,x=u),$;var e,m,v,y,b,w,x,$,_},o=-1,null==y){for(;++o<r;)m(k,t[o],n[o],i[o],a,s,l,u);--o}else t.forEach(k.add);return n=i=t=e=null,k}return e.x=function(t){return arguments.length?(_=t,e):_},e.y=function(t){return arguments.length?(C=t,e):C},e.extent=function(t){return arguments.length?(null==t?y=b=w=x=null:(y=+t[0][0],b=+t[0][1],w=+t[1][0],x=+t[1][1]),e):null==y?null:[[y,b],[w,x]]},e.size=function(t){return arguments.length?(null==t?y=b=w=x=null:(y=b=0,w=+t[0],x=+t[1]),e):null==y?null:[w-y,x-b]},e},I.interpolateRgb=Ho,I.interpolateObject=Vo,I.interpolateNumber=qo,I.interpolateString=Wo;var Go=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Yo=new RegExp(Go.source,"g");function Ko(t,e){for(var n,i=I.interpolators.length;0<=--i&&!(n=I.interpolators[i](t,e)););return n}function Zo(t,e){var n,i=[],o=[],r=t.length,a=e.length,s=Math.min(t.length,e.length);for(n=0;n<s;++n)i.push(Ko(t[n],e[n]));for(;n<r;++n)o[n]=t[n];for(;n<a;++n)o[n]=e[n];return function(t){for(n=0;n<s;++n)o[n]=i[n](t);return o}}I.interpolate=Ko,I.interpolators=[function(t,e){var n=typeof e;return("string"===n?fe.has(e.toLowerCase())||/^(#|rgb\(|hsl\()/i.test(e)?Ho:Wo:e instanceof Bt?Ho:Array.isArray(e)?Zo:"object"===n&&isNaN(e)?Vo:qo)(t,e)}],I.interpolateArray=Zo;var Xo=function(){return L},Jo=I.map({linear:Xo,poly:function(e){return function(t){return Math.pow(t,e)}},quad:function(){return nr},cubic:function(){return ir},sin:function(){return rr},exp:function(){return ar},circle:function(){return sr},elastic:function(e,n){var i;arguments.length<2&&(n=.45);i=arguments.length?n/Ct*Math.asin(1/e):(e=1,n/4);return function(t){return 1+e*Math.pow(2,-10*t)*Math.sin((t-i)*Ct/n)}},back:function(e){e||(e=1.70158);return function(t){return t*t*((e+1)*t-e)}},bounce:function(){return lr}}),Qo=I.map({in:L,out:tr,"in-out":er,"out-in":function(t){return er(tr(t))}});function tr(e){return function(t){return 1-e(1-t)}}function er(e){return function(t){return.5*(t<.5?e(2*t):2-e(2-2*t))}}function nr(t){return t*t}function ir(t){return t*t*t}function or(t){if(t<=0)return 0;if(1<=t)return 1;var e=t*t,n=e*t;return 4*(t<.5?n:3*(t-e)+n-.75)}function rr(t){return 1-Math.cos(t*Tt)}function ar(t){return Math.pow(2,10*(t-1))}function sr(t){return 1-Math.sqrt(1-t*t)}function lr(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375}function ur(e,n){return n-=e,function(t){return Math.round(e+n*t)}}function cr(t){var e,n,i,o=[t.a,t.b],r=[t.c,t.d],a=hr(o),s=pr(o,r),l=hr(((e=r)[0]+=(i=-s)*(n=o)[0],e[1]+=i*n[1],e))||0;o[0]*r[1]<r[0]*o[1]&&(o[0]*=-1,o[1]*=-1,a*=-1,s*=-1),this.rotate=(a?Math.atan2(o[1],o[0]):Math.atan2(-r[0],r[1]))*Dt,this.translate=[t.e,t.f],this.scale=[a,l],this.skew=l?Math.atan2(s,l)*Dt:0}function pr(t,e){return t[0]*e[0]+t[1]*e[1]}function hr(t){var e=Math.sqrt(pr(t,t));return e&&(t[0]/=e,t[1]/=e),e}I.ease=function(t){var e,n=t.indexOf("-"),i=0<=n?t.slice(0,n):t,o=0<=n?t.slice(n+1):"in";return i=Jo.get(i)||Xo,o=Qo.get(o)||L,e=o(i.apply(null,r.call(arguments,1))),function(t){return t<=0?0:1<=t?1:e(t)}},I.interpolateHcl=function(t,e){t=I.hcl(t),e=I.hcl(e);var n=t.h,i=t.c,o=t.l,r=e.h-n,a=e.c-i,s=e.l-o;isNaN(a)&&(a=0,i=isNaN(i)?e.c:i);isNaN(r)?(r=0,n=isNaN(n)?e.h:n):180<r?r-=360:r<-180&&(r+=360);return function(t){return Wt(n+r*t,i+a*t,o+s*t)+""}},I.interpolateHsl=function(t,e){t=I.hsl(t),e=I.hsl(e);var n=t.h,i=t.s,o=t.l,r=e.h-n,a=e.s-i,s=e.l-o;isNaN(a)&&(a=0,i=isNaN(i)?e.s:i);isNaN(r)?(r=0,n=isNaN(n)?e.h:n):180<r?r-=360:r<-180&&(r+=360);return function(t){return Ht(n+r*t,i+a*t,o+s*t)+""}},I.interpolateLab=function(t,e){t=I.lab(t),e=I.lab(e);var n=t.l,i=t.a,o=t.b,r=e.l-n,a=e.a-i,s=e.b-o;return function(t){return Qt(n+r*t,i+a*t,o+s*t)+""}},I.interpolateRound=ur,I.transform=function(t){var n=b.createElementNS(I.ns.prefix.svg,"g");return(I.transform=function(t){if(null!=t){n.setAttribute("transform",t);var e=n.transform.baseVal.consolidate()}return new cr(e?e.matrix:dr)})(t)},cr.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};var dr={a:1,b:0,c:0,d:1,e:0,f:0};function fr(t){return t.length?t.pop()+",":""}function gr(t,e){var n,i,o,r,a,s,l,u,c=[],p=[];return t=I.transform(t),e=I.transform(e),function(t,e,n,i){if(t[0]!==e[0]||t[1]!==e[1]){var o=n.push("translate(",null,",",null,")");i.push({i:o-4,x:qo(t[0],e[0])},{i:o-2,x:qo(t[1],e[1])})}else(e[0]||e[1])&&n.push("translate("+e+")")}(t.translate,e.translate,c,p),n=t.rotate,i=e.rotate,o=c,r=p,n!==i?(180<n-i?i+=360:180<i-n&&(n+=360),r.push({i:o.push(fr(o)+"rotate(",null,")")-2,x:qo(n,i)})):i&&o.push(fr(o)+"rotate("+i+")"),a=t.skew,s=e.skew,l=c,u=p,a!==s?u.push({i:l.push(fr(l)+"skewX(",null,")")-2,x:qo(a,s)}):s&&l.push(fr(l)+"skewX("+s+")"),function(t,e,n,i){if(t[0]!==e[0]||t[1]!==e[1]){var o=n.push(fr(n)+"scale(",null,",",null,")");i.push({i:o-4,x:qo(t[0],e[0])},{i:o-2,x:qo(t[1],e[1])})}else 1===e[0]&&1===e[1]||n.push(fr(n)+"scale("+e+")")}(t.scale,e.scale,c,p),t=e=null,function(t){for(var e,n=-1,i=p.length;++n<i;)c[(e=p[n]).i]=e.x(t);return c.join("")}}function mr(e,n){return n=(n-=e=+e)||1/n,function(t){return(t-e)/n}}function vr(e,n){return n=(n-=e=+e)||1/n,function(t){return Math.max(0,Math.min(1,(t-e)/n))}}function yr(t){for(var e=t.source,n=t.target,i=function(t,e){if(t===e)return t;var n=br(t),i=br(e),o=n.pop(),r=i.pop(),a=null;for(;o===r;)a=o,o=n.pop(),r=i.pop();return a}(e,n),o=[e];e!==i;)e=e.parent,o.push(e);for(var r=o.length;n!==i;)o.splice(r,0,n),n=n.parent;return o}function br(t){for(var e=[],n=t.parent;null!=n;)e.push(t),n=(t=n).parent;return e.push(t),e}function wr(t){t.fixed|=2}function xr(t){t.fixed&=-7}function $r(t){t.fixed|=4,t.px=t.x,t.py=t.y}function _r(t){t.fixed&=-5}I.interpolateTransform=gr,I.layout={},I.layout.bundle=function(){return function(t){for(var e=[],n=-1,i=t.length;++n<i;)e.push(yr(t[n]));return e}},I.layout.chord=function(){var m,v,y,b,w,x,$,e={},_=0;function t(){var t,e,n,i,o,r={},a=[],s=I.range(b),l=[];for(m=[],v=[],t=0,i=-1;++i<b;){for(e=0,o=-1;++o<b;)e+=y[i][o];a.push(e),l.push(I.range(b)),t+=e}for(w&&s.sort(function(t,e){return w(a[t],a[e])}),x&&l.forEach(function(t,n){t.sort(function(t,e){return x(y[n][t],y[n][e])})}),t=(Ct-_*b)/t,e=0,i=-1;++i<b;){for(n=e,o=-1;++o<b;){var u=s[i],c=l[u][o],p=y[u][c],h=e,d=e+=p*t;r[u+"-"+c]={index:u,subindex:c,startAngle:h,endAngle:d,value:p}}v[u]={index:u,startAngle:n,endAngle:e,value:a[u]},e+=_}for(i=-1;++i<b;)for(o=i-1;++o<b;){var f=r[i+"-"+o],g=r[o+"-"+i];(f.value||g.value)&&m.push(f.value<g.value?{source:g,target:f}:{source:f,target:g})}$&&k()}function k(){m.sort(function(t,e){return $((t.source.value+t.target.value)/2,(e.source.value+e.target.value)/2)})}return e.matrix=function(t){return arguments.length?(b=(y=t)&&y.length,m=v=null,e):y},e.padding=function(t){return arguments.length?(_=t,m=v=null,e):_},e.sortGroups=function(t){return arguments.length?(w=t,m=v=null,e):w},e.sortSubgroups=function(t){return arguments.length?(x=t,m=null,e):x},e.sortChords=function(t){return arguments.length?($=t,m&&k(),e):$},e.chords=function(){return m||t(),m},e.groups=function(){return v||t(),v},e},I.layout.force=function(){var p,t,h,d,f,g,o={},m=I.dispatch("start","tick","end"),v=[1,1],y=.9,r=kr,a=Cr,b=-30,c=Sr,w=.1,x=.64,$=[],_=[];function k(u){return function(t,e,n,i){if(t.point!==u){var o=t.cx-u.x,r=t.cy-u.y,a=i-e,s=o*o+r*r;if(a*a/x<s){if(s<c){var l=t.charge/s;u.px-=o*l,u.py-=r*l}return!0}if(t.point&&s&&s<c){l=t.pointCharge/s;u.px-=o*l,u.py-=r*l}}return!t.charge}}function e(t){t.px=I.event.x,t.py=I.event.y,o.resume()}return o.tick=function(){if((h*=.99)<.005)return p=null,m.end({type:"end",alpha:h=0}),!0;var t,e,n,i,o,r,a,s,l,u=$.length,c=_.length;for(e=0;e<c;++e)i=(n=_[e]).source,(r=(s=(o=n.target).x-i.x)*s+(l=o.y-i.y)*l)&&(s*=r=h*f[e]*((r=Math.sqrt(r))-d[e])/r,l*=r,o.x-=s*(a=i.weight+o.weight?i.weight/(i.weight+o.weight):.5),o.y-=l*a,i.x+=s*(a=1-a),i.y+=l*a);if((a=h*w)&&(s=v[0]/2,l=v[1]/2,e=-1,a))for(;++e<u;)(n=$[e]).x+=(s-n.x)*a,n.y+=(l-n.y)*a;if(b)for(!function t(e,n,i){var o=0,r=0;e.charge=0;if(!e.leaf)for(var a,s=e.nodes,l=s.length,u=-1;++u<l;)null!=(a=s[u])&&(t(a,n,i),e.charge+=a.charge,o+=a.charge*a.cx,r+=a.charge*a.cy);if(e.point){e.leaf||(e.point.x+=Math.random()-.5,e.point.y+=Math.random()-.5);var c=n*i[e.point.index];e.charge+=e.pointCharge=c,o+=c*e.point.x,r+=c*e.point.y}e.cx=o/e.charge;e.cy=r/e.charge}(t=I.geom.quadtree($),h,g),e=-1;++e<u;)(n=$[e]).fixed||t.visit(k(n));for(e=-1;++e<u;)(n=$[e]).fixed?(n.x=n.px,n.y=n.py):(n.x-=(n.px-(n.px=n.x))*y,n.y-=(n.py-(n.py=n.y))*y);m.tick({type:"tick",alpha:h})},o.nodes=function(t){return arguments.length?($=t,o):$},o.links=function(t){return arguments.length?(_=t,o):_},o.size=function(t){return arguments.length?(v=t,o):v},o.linkDistance=function(t){return arguments.length?(r="function"==typeof t?t:+t,o):r},o.distance=o.linkDistance,o.linkStrength=function(t){return arguments.length?(a="function"==typeof t?t:+t,o):a},o.friction=function(t){return arguments.length?(y=+t,o):y},o.charge=function(t){return arguments.length?(b="function"==typeof t?t:+t,o):b},o.chargeDistance=function(t){return arguments.length?(c=t*t,o):Math.sqrt(c)},o.gravity=function(t){return arguments.length?(w=+t,o):w},o.theta=function(t){return arguments.length?(x=t*t,o):Math.sqrt(x)},o.alpha=function(t){return arguments.length?(t=+t,h?0<t?h=t:(p.c=null,p.t=NaN,p=null,m.end({type:"end",alpha:h=0})):0<t&&(m.start({type:"start",alpha:h=t}),p=_e(o.tick)),o):h},o.start=function(){var s,l,t,u=$.length,c=_.length,e=v[0],n=v[1];for(s=0;s<u;++s)(t=$[s]).index=s,t.weight=0;for(s=0;s<c;++s)"number"==typeof(t=_[s]).source&&(t.source=$[t.source]),"number"==typeof t.target&&(t.target=$[t.target]),++t.source.weight,++t.target.weight;for(s=0;s<u;++s)t=$[s],isNaN(t.x)&&(t.x=i("x",e)),isNaN(t.y)&&(t.y=i("y",n)),isNaN(t.px)&&(t.px=t.x),isNaN(t.py)&&(t.py=t.y);if(d=[],"function"==typeof r)for(s=0;s<c;++s)d[s]=+r.call(this,_[s],s);else for(s=0;s<c;++s)d[s]=r;if(f=[],"function"==typeof a)for(s=0;s<c;++s)f[s]=+a.call(this,_[s],s);else for(s=0;s<c;++s)f[s]=a;if(g=[],"function"==typeof b)for(s=0;s<u;++s)g[s]=+b.call(this,$[s],s);else for(s=0;s<u;++s)g[s]=b;function i(t,e){if(!l){for(l=new Array(u),r=0;r<u;++r)l[r]=[];for(r=0;r<c;++r){var n=_[r];l[n.source.index].push(n.target),l[n.target.index].push(n.source)}}for(var i,o=l[s],r=-1,a=o.length;++r<a;)if(!isNaN(i=o[r][t]))return i;return Math.random()*e}return o.resume()},o.resume=function(){return o.alpha(.1)},o.stop=function(){return o.alpha(0)},o.drag=function(){if(t||(t=I.behavior.drag().origin(L).on("dragstart.force",wr).on("drag.force",e).on("dragend.force",xr)),!arguments.length)return t;this.on("mouseover.force",$r).on("mouseout.force",_r).call(t)},I.rebind(o,m,"on")};var kr=20,Cr=1,Sr=1/0;function Tr(t,e){return I.rebind(t,e,"sort","children","value"),(t.nodes=t).links=Or,t}function Ar(t,e){for(var n=[t];null!=(t=n.pop());)if(e(t),(o=t.children)&&(i=o.length))for(var i,o;0<=--i;)n.push(o[i])}function Dr(t,e){for(var n=[t],i=[];null!=(t=n.pop());)if(i.push(t),(r=t.children)&&(o=r.length))for(var o,r,a=-1;++a<o;)n.push(r[a]);for(;null!=(t=i.pop());)e(t)}function Mr(t){return t.children}function Er(t){return t.value}function Pr(t,e){return e.value-t.value}function Or(t){return I.merge(t.map(function(e){return(e.children||[]).map(function(t){return{source:e,target:t}})}))}I.layout.hierarchy=function(){var s=Pr,l=Mr,u=Er;function c(t){var e,n=[t],i=[];for(t.depth=0;null!=(e=n.pop());)if(i.push(e),(r=l.call(c,e,e.depth))&&(o=r.length)){for(var o,r,a;0<=--o;)n.push(a=r[o]),a.parent=e,a.depth=e.depth+1;u&&(e.value=0),e.children=r}else u&&(e.value=+u.call(c,e,e.depth)||0),delete e.children;return Dr(t,function(t){var e,n;s&&(e=t.children)&&e.sort(s),u&&(n=t.parent)&&(n.value+=t.value)}),i}return c.sort=function(t){return arguments.length?(s=t,c):s},c.children=function(t){return arguments.length?(l=t,c):l},c.value=function(t){return arguments.length?(u=t,c):u},c.revalue=function(t){return u&&(Ar(t,function(t){t.children&&(t.value=0)}),Dr(t,function(t){var e;t.children||(t.value=+u.call(c,t,t.depth)||0),(e=t.parent)&&(e.value+=t.value)})),t},c},I.layout.partition=function(){var i=I.layout.hierarchy(),o=[1,1];function e(t,e){var n=i.call(this,t,e);return function t(e,n,i,o){var r=e.children;if(e.x=n,e.y=e.depth*o,e.dx=i,e.dy=o,r&&(a=r.length)){var a,s,l,u=-1;for(i=e.value?i/e.value:0;++u<a;)t(s=r[u],n,l=s.value*i,o),n+=l}}(n[0],0,o[0],o[1]/function t(e){var n=e.children,i=0;if(n&&(o=n.length))for(var o,r=-1;++r<o;)i=Math.max(i,t(n[r]));return 1+i}(n[0])),n}return e.size=function(t){return arguments.length?(o=t,e):o},Tr(e,i)},I.layout.pie=function(){var h=Number,d=Ir,f=0,g=Ct,m=0;function v(n){var e,t=n.length,i=n.map(function(t,e){return+h.call(v,t,e)}),o=+("function"==typeof f?f.apply(this,arguments):f),r=("function"==typeof g?g.apply(this,arguments):g)-o,a=Math.min(Math.abs(r)/t,+("function"==typeof m?m.apply(this,arguments):m)),s=a*(r<0?-1:1),l=I.sum(i),u=l?(r-t*s)/l:0,c=I.range(t),p=[];return null!=d&&c.sort(d===Ir?function(t,e){return i[e]-i[t]}:function(t,e){return d(n[t],n[e])}),c.forEach(function(t){p[t]={data:n[t],value:e=i[t],startAngle:o,endAngle:o+=e*u+s,padAngle:a}}),p}return v.value=function(t){return arguments.length?(h=t,v):h},v.sort=function(t){return arguments.length?(d=t,v):d},v.startAngle=function(t){return arguments.length?(f=t,v):f},v.endAngle=function(t){return arguments.length?(g=t,v):g},v.padAngle=function(t){return arguments.length?(m=t,v):m},v};var Ir={};function Rr(t){return t.x}function Lr(t){return t.y}function Fr(t,e,n){t.y0=e,t.y=n}I.layout.stack=function(){var p=L,h=Br,d=Ur,f=Fr,g=Rr,m=Lr;function v(t,e){if(!(r=t.length))return t;var n=t.map(function(t,e){return p.call(v,t,e)}),i=n.map(function(t){return t.map(function(t,e){return[g.call(v,t,e),m.call(v,t,e)]})}),o=h.call(v,i,e);n=I.permute(n,o),i=I.permute(i,o);var r,a,s,l,u=d.call(v,i,e),c=n[0].length;for(s=0;s<c;++s)for(f.call(v,n[0][s],l=u[s],i[0][s][1]),a=1;a<r;++a)f.call(v,n[a][s],l+=i[a-1][s][1],i[a][s][1]);return t}return v.values=function(t){return arguments.length?(p=t,v):p},v.order=function(t){return arguments.length?(h="function"==typeof t?t:Nr.get(t)||Br,v):h},v.offset=function(t){return arguments.length?(d="function"==typeof t?t:jr.get(t)||Ur,v):d},v.x=function(t){return arguments.length?(g=t,v):g},v.y=function(t){return arguments.length?(m=t,v):m},v.out=function(t){return arguments.length?(f=t,v):f},v};var Nr=I.map({"inside-out":function(t){var e,n,i=t.length,o=t.map(zr),r=t.map(Hr),a=I.range(i).sort(function(t,e){return o[t]-o[e]}),s=0,l=0,u=[],c=[];for(e=0;e<i;++e)n=a[e],s<l?(s+=r[n],u.push(n)):(l+=r[n],c.push(n));return c.reverse().concat(u)},reverse:function(t){return I.range(t.length).reverse()},default:Br}),jr=I.map({silhouette:function(t){var e,n,i,o=t.length,r=t[0].length,a=[],s=0,l=[];for(n=0;n<r;++n){for(i=e=0;e<o;e++)i+=t[e][n][1];s<i&&(s=i),a.push(i)}for(n=0;n<r;++n)l[n]=(s-a[n])/2;return l},wiggle:function(t){var e,n,i,o,r,a,s,l,u,c=t.length,p=t[0],h=p.length,d=[];for(d[0]=l=u=0,n=1;n<h;++n){for(o=e=0;e<c;++e)o+=t[e][n][1];for(r=e=0,s=p[n][0]-p[n-1][0];e<c;++e){for(i=0,a=(t[e][n][1]-t[e][n-1][1])/(2*s);i<e;++i)a+=(t[i][n][1]-t[i][n-1][1])/s;r+=a*t[e][n][1]}d[n]=l-=o?r/o*s:0,l<u&&(u=l)}for(n=0;n<h;++n)d[n]-=u;return d},expand:function(t){var e,n,i,o=t.length,r=t[0].length,a=1/o,s=[];for(n=0;n<r;++n){for(i=e=0;e<o;e++)i+=t[e][n][1];if(i)for(e=0;e<o;e++)t[e][n][1]/=i;else for(e=0;e<o;e++)t[e][n][1]=a}for(n=0;n<r;++n)s[n]=0;return s},zero:Ur});function Br(t){return I.range(t.length)}function Ur(t){for(var e=-1,n=t[0].length,i=[];++e<n;)i[e]=0;return i}function zr(t){for(var e,n=1,i=0,o=t[0][1],r=t.length;n<r;++n)(e=t[n][1])>o&&(i=n,o=e);return i}function Hr(t){return t.reduce(Vr,0)}function Vr(t,e){return t+e[1]}function qr(t,e){return Wr(t,Math.ceil(Math.log(e.length)/Math.LN2+1))}function Wr(t,e){for(var n=-1,i=+t[0],o=(t[1]-i)/e,r=[];++n<=e;)r[n]=o*n+i;return r}function Gr(t){return[I.min(t),I.max(t)]}function Yr(t,e){return t.value-e.value}function Kr(t,e){var n=t._pack_next;(t._pack_next=e)._pack_prev=t,(e._pack_next=n)._pack_prev=e}function Zr(t,e){(t._pack_next=e)._pack_prev=t}function Xr(t,e){var n=e.x-t.x,i=e.y-t.y,o=t.r+e.r;return n*n+i*i<.999*o*o}function Jr(t){if((e=t.children)&&(l=e.length)){var e,n,i,o,r,a,s,l,u=1/0,c=-1/0,p=1/0,h=-1/0;if(e.forEach(Qr),(n=e[0]).x=-n.r,n.y=0,b(n),1<l&&((i=e[1]).x=i.r,i.y=0,b(i),2<l))for(ea(n,i,o=e[2]),b(o),Kr(n,o),Kr(n._pack_prev=o,i),i=n._pack_next,r=3;r<l;r++){ea(n,i,o=e[r]);var d=0,f=1,g=1;for(a=i._pack_next;a!==i;a=a._pack_next,f++)if(Xr(a,o)){d=1;break}if(1==d)for(s=n._pack_prev;s!==a._pack_prev&&!Xr(s,o);s=s._pack_prev,g++);d?(f<g||f==g&&i.r<n.r?Zr(n,i=a):Zr(n=s,i),r--):(Kr(n,o),b(i=o))}var m=(u+c)/2,v=(p+h)/2,y=0;for(r=0;r<l;r++)(o=e[r]).x-=m,o.y-=v,y=Math.max(y,o.r+Math.sqrt(o.x*o.x+o.y*o.y));t.r=y,e.forEach(ta)}function b(t){u=Math.min(t.x-t.r,u),c=Math.max(t.x+t.r,c),p=Math.min(t.y-t.r,p),h=Math.max(t.y+t.r,h)}}function Qr(t){t._pack_next=t._pack_prev=t}function ta(t){delete t._pack_next,delete t._pack_prev}function ea(t,e,n){var i=t.r+n.r,o=e.x-t.x,r=e.y-t.y;if(i&&(o||r)){var a=e.r+n.r,s=o*o+r*r,l=.5+((i*=i)-(a*=a))/(2*s),u=Math.sqrt(Math.max(0,2*a*(i+s)-(i-=s)*i-a*a))/(2*s);n.x=t.x+l*o+u*r,n.y=t.y+l*r-u*o}else n.x=t.x+i,n.y=t.y}function na(t,e){return t.parent==e.parent?1:2}function ia(t){var e=t.children;return e.length?e[0]:t.t}function oa(t){var e,n=t.children;return(e=n.length)?n[e-1]:t.t}function ra(t,e,n){var i=n/(e.i-t.i);e.c-=i,e.s+=n,t.c+=i,e.z+=n,e.m+=n}function aa(t){return{x:t.x,y:t.y,dx:t.dx,dy:t.dy}}function sa(t,e){var n=t.x+e[3],i=t.y+e[0],o=t.dx-e[1]-e[3],r=t.dy-e[0]-e[2];return o<0&&(n+=o/2,o=0),r<0&&(i+=r/2,r=0),{x:n,y:i,dx:o,dy:r}}function la(t){var e=t[0],n=t[t.length-1];return e<n?[e,n]:[n,e]}function ua(t){return t.rangeExtent?t.rangeExtent():la(t.range())}function ca(t,e,n,i){var o=n(t[0],t[1]),r=i(e[0],e[1]);return function(t){return r(o(t))}}function pa(t,e){var n,i=0,o=t.length-1,r=t[i],a=t[o];return a<r&&(n=i,i=o,o=n,n=r,r=a,a=n),t[i]=e.floor(r),t[o]=e.ceil(a),t}function ha(e){return e?{floor:function(t){return Math.floor(t/e)*e},ceil:function(t){return Math.ceil(t/e)*e}}:da}I.layout.histogram=function(){var p=!0,h=Number,d=Gr,f=qr;function n(t,e){for(var n,i,o=[],r=t.map(h,this),a=d.call(this,r,e),s=f.call(this,a,r,e),l=(e=-1,r.length),u=s.length-1,c=p?1:1/l;++e<u;)(n=o[e]=[]).dx=s[e+1]-(n.x=s[e]),n.y=0;if(0<u)for(e=-1;++e<l;)(i=r[e])>=a[0]&&i<=a[1]&&((n=o[I.bisect(s,i,1,u)-1]).y+=c,n.push(t[e]));return o}return n.value=function(t){return arguments.length?(h=t,n):h},n.range=function(t){return arguments.length?(d=ge(t),n):d},n.bins=function(e){return arguments.length?(f="number"==typeof e?function(t){return Wr(t,e)}:ge(e),n):f},n.frequency=function(t){return arguments.length?(p=!!t,n):p},n},I.layout.pack=function(){var l,u=I.layout.hierarchy().sort(Yr),c=0,p=[1,1];function e(t,e){var n=u.call(this,t,e),i=n[0],o=p[0],r=p[1],a=null==l?Math.sqrt:"function"==typeof l?l:function(){return l};if(i.x=i.y=0,Dr(i,function(t){t.r=+a(t.value)}),Dr(i,Jr),c){var s=c*(l?1:Math.max(2*i.r/o,2*i.r/r))/2;Dr(i,function(t){t.r+=s}),Dr(i,Jr),Dr(i,function(t){t.r-=s})}return function t(e,n,i,o){var r=e.children;e.x=n+=o*e.x;e.y=i+=o*e.y;e.r*=o;if(r)for(var a=-1,s=r.length;++a<s;)t(r[a],n,i,o)}(i,o/2,r/2,l?1:1/Math.max(2*i.r/o,2*i.r/r)),n}return e.size=function(t){return arguments.length?(p=t,e):p},e.radius=function(t){return arguments.length?(l=null==t||"function"==typeof t?t:+t,e):l},e.padding=function(t){return arguments.length?(c=+t,e):c},Tr(e,u)},I.layout.tree=function(){var p=I.layout.hierarchy().sort(null).value(null),g=na,h=[1,1],d=null;function e(t,e){var n=p.call(this,t,e),i=n[0],o=function(t){var e,n={A:null,children:[t]},i=[n];for(;null!=(e=i.pop());)for(var o,r=e.children,a=0,s=r.length;a<s;++a)i.push((r[a]=o={_:r[a],parent:e,children:(o=r[a].children)&&o.slice()||[],A:null,a:null,z:0,m:0,c:0,s:0,t:null,i:a}).a=o);return n.children[0]}(i);if(Dr(o,f),o.parent.m=-o.z,Ar(o,m),d)Ar(i,v);else{var r=i,a=i,s=i;Ar(i,function(t){t.x<r.x&&(r=t),t.x>a.x&&(a=t),t.depth>s.depth&&(s=t)});var l=g(r,a)/2-r.x,u=h[0]/(a.x+g(a,r)/2+l),c=h[1]/(s.depth||1);Ar(i,function(t){t.x=(t.x+l)*u,t.y=t.depth*c})}return n}function f(t){var e=t.children,n=t.parent.children,i=t.i?n[t.i-1]:null;if(e.length){!function(t){var e,n=0,i=0,o=t.children,r=o.length;for(;0<=--r;)(e=o[r]).z+=n,e.m+=n,n+=e.s+(i+=e.c)}(t);var o=(e[0].z+e[e.length-1].z)/2;i?(t.z=i.z+g(t._,i._),t.m=t.z-o):t.z=o}else i&&(t.z=i.z+g(t._,i._));t.parent.A=function(t,e,n){if(e){for(var i,o=t,r=t,a=e,s=o.parent.children[0],l=o.m,u=r.m,c=a.m,p=s.m;a=oa(a),o=ia(o),a&&o;)s=ia(s),(r=oa(r)).a=t,0<(i=a.z+c-o.z-l+g(a._,o._))&&(ra((d=t,f=n,(h=a).a.parent===d.parent?h.a:f),t,i),l+=i,u+=i),c+=a.m,l+=o.m,p+=s.m,u+=r.m;a&&!oa(r)&&(r.t=a,r.m+=c-u),o&&!ia(s)&&(s.t=o,s.m+=l-p,n=t)}var h,d,f;return n}(t,i,t.parent.A||n[0])}function m(t){t._.x=t.z+t.parent.m,t.m+=t.parent.m}function v(t){t.x*=h[0],t.y=t.depth*h[1]}return e.separation=function(t){return arguments.length?(g=t,e):g},e.size=function(t){return arguments.length?(d=null==(h=t)?v:null,e):d?null:h},e.nodeSize=function(t){return arguments.length?(d=null==(h=t)?null:v,e):d?h:null},Tr(e,p)},I.layout.cluster=function(){var c=I.layout.hierarchy().sort(null).value(null),p=na,h=[1,1],d=!1;function e(t,e){var o,n=c.call(this,t,e),i=n[0],r=0;Dr(i,function(t){var e,n,i=t.children;i&&i.length?(t.x=(n=i).reduce(function(t,e){return t+e.x},0)/n.length,t.y=(e=i,1+I.max(e,function(t){return t.y}))):(t.x=o?r+=p(t,o):0,t.y=0,o=t)});var a=function t(e){var n=e.children;return n&&n.length?t(n[0]):e}(i),s=function t(e){var n,i=e.children;return i&&(n=i.length)?t(i[n-1]):e}(i),l=a.x-p(a,s)/2,u=s.x+p(s,a)/2;return Dr(i,d?function(t){t.x=(t.x-i.x)*h[0],t.y=(i.y-t.y)*h[1]}:function(t){t.x=(t.x-l)/(u-l)*h[0],t.y=(1-(i.y?t.y/i.y:1))*h[1]}),n}return e.separation=function(t){return arguments.length?(p=t,e):p},e.size=function(t){return arguments.length?(d=null==(h=t),e):d?null:h},e.nodeSize=function(t){return arguments.length?(d=null!=(h=t),e):d?h:null},Tr(e,c)},I.layout.treemap=function(){var i,o=I.layout.hierarchy(),c=Math.round,r=[1,1],a=null,p=aa,s=!1,h="squarify",l=.5*(1+Math.sqrt(5));function d(t,e){for(var n,i,o=-1,r=t.length;++o<r;)i=(n=t[o]).value*(e<0?0:e),n.area=isNaN(i)||i<=0?0:i}function f(t){var e=t.children;if(e&&e.length){var n,i,o,r=p(t),a=[],s=e.slice(),l=1/0,u="slice"===h?r.dx:"dice"===h?r.dy:"slice-dice"===h?1&t.depth?r.dy:r.dx:Math.min(r.dx,r.dy);for(d(s,r.dx*r.dy/t.value),a.area=0;0<(o=s.length);)a.push(n=s[o-1]),a.area+=n.area,l="squarify"!==h||(i=g(a,u))<=l?(s.pop(),i):(a.area-=a.pop().area,m(a,u,r,!1),u=Math.min(r.dx,r.dy),a.length=a.area=0,1/0);a.length&&(m(a,u,r,!0),a.length=a.area=0),e.forEach(f)}}function u(t){var e=t.children;if(e&&e.length){var n,i=p(t),o=e.slice(),r=[];for(d(o,i.dx*i.dy/t.value),r.area=0;n=o.pop();)r.push(n),r.area+=n.area,null!=n.z&&(m(r,n.z?i.dx:i.dy,i,!o.length),r.length=r.area=0);e.forEach(u)}}function g(t,e){for(var n,i=t.area,o=0,r=1/0,a=-1,s=t.length;++a<s;)(n=t[a].area)&&(n<r&&(r=n),o<n&&(o=n));return e*=e,(i*=i)?Math.max(e*o*l/i,i/(e*r*l)):1/0}function m(t,e,n,i){var o,r=-1,a=t.length,s=n.x,l=n.y,u=e?c(t.area/e):0;if(e==n.dx){for((i||u>n.dy)&&(u=n.dy);++r<a;)(o=t[r]).x=s,o.y=l,o.dy=u,s+=o.dx=Math.min(n.x+n.dx-s,u?c(o.area/u):0);o.z=!0,o.dx+=n.x+n.dx-s,n.y+=u,n.dy-=u}else{for((i||u>n.dx)&&(u=n.dx);++r<a;)(o=t[r]).x=s,o.y=l,o.dx=u,l+=o.dy=Math.min(n.y+n.dy-l,u?c(o.area/u):0);o.z=!1,o.dy+=n.y+n.dy-l,n.x+=u,n.dx-=u}}function v(t){var e=i||o(t),n=e[0];return n.x=n.y=0,n.value?(n.dx=r[0],n.dy=r[1]):n.dx=n.dy=0,i&&o.revalue(n),d([n],n.dx*n.dy/n.value),(i?u:f)(n),s&&(i=e),e}return v.size=function(t){return arguments.length?(r=t,v):r},v.padding=function(n){if(!arguments.length)return a;function t(t){return sa(t,n)}var e;return p=null==(a=n)?aa:"function"==(e=typeof n)?function(t){var e=n.call(v,t,t.depth);return null==e?aa(t):sa(t,"number"==typeof e?[e,e,e,e]:e)}:("number"===e&&(n=[n,n,n,n]),t),v},v.round=function(t){return arguments.length?(c=t?Math.round:Number,v):c!=Number},v.sticky=function(t){return arguments.length?(s=t,i=null,v):s},v.ratio=function(t){return arguments.length?(l=t,v):l},v.mode=function(t){return arguments.length?(h=t+"",v):h},Tr(v,o)},I.random={normal:function(i,o){var t=arguments.length;return t<2&&(o=1),t<1&&(i=0),function(){for(var t,e,n;!(n=(t=2*Math.random()-1)*t+(e=2*Math.random()-1)*e)||1<n;);return i+o*t*Math.sqrt(-2*Math.log(n)/n)}},logNormal:function(){var t=I.random.normal.apply(I,arguments);return function(){return Math.exp(t())}},bates:function(t){var e=I.random.irwinHall(t);return function(){return e()/t}},irwinHall:function(n){return function(){for(var t=0,e=0;e<n;e++)t+=Math.random();return t}}},I.scale={};var da={floor:L,ceil:L};function fa(n,t,e,i){var o=[],r=[],a=0,s=Math.min(n.length,t.length)-1;for(n[s]<n[0]&&(n=n.slice().reverse(),t=t.slice().reverse());++a<=s;)o.push(e(n[a-1],n[a])),r.push(i(t[a-1],t[a]));return function(t){var e=I.bisect(n,t,1,s)-1;return r[e](o[e](t))}}function ga(t,e){return I.rebind(t,e,"range","rangeRound","interpolate","clamp")}function ma(t,e){return pa(t,ha(va(t,e)[2])),pa(t,ha(va(t,e)[2])),t}function va(t,e){null==e&&(e=10);var n=la(t),i=n[1]-n[0],o=Math.pow(10,Math.floor(Math.log(i/e)/Math.LN10)),r=e/i*o;return r<=.15?o*=10:r<=.35?o*=5:r<=.75&&(o*=2),n[0]=Math.ceil(n[0]/o)*o,n[1]=Math.floor(n[1]/o)*o+.5*o,n[2]=o,n}function ya(t,e){return I.range.apply(I,va(t,e))}function ba(t,e,n){var i,o,r,a=va(t,e);if(n){var s=De.exec(n);if(s.shift(),"s"===s[8]){var l=I.formatPrefix(Math.max(O(a[0]),O(a[1])));return s[7]||(s[7]="."+xa(l.scale(a[2]))),s[8]="f",n=I.format(s.join("")),function(t){return n(l.scale(t))+l.symbol}}s[7]||(s[7]="."+(i=s[8],r=xa((o=a)[2]),i in wa?Math.abs(r-xa(Math.max(O(o[0]),O(o[1]))))+ +("e"!==i):r-2*("%"===i))),n=s.join("")}else n=",."+xa(a[2])+"f";return I.format(n)}I.scale.linear=function(){return function t(n,i,o,r){var a,s;function e(){var t=2<Math.min(n.length,i.length)?fa:ca,e=r?vr:mr;return a=t(n,i,e,o),s=t(i,n,e,Ko),l}function l(t){return a(t)}l.invert=function(t){return s(t)};l.domain=function(t){return arguments.length?(n=t.map(Number),e()):n};l.range=function(t){return arguments.length?(i=t,e()):i};l.rangeRound=function(t){return l.range(t).interpolate(ur)};l.clamp=function(t){return arguments.length?(r=t,e()):r};l.interpolate=function(t){return arguments.length?(o=t,e()):o};l.ticks=function(t){return ya(n,t)};l.tickFormat=function(t,e){return ba(n,t,e)};l.nice=function(t){return ma(n,t),e()};l.copy=function(){return t(n,i,o,r)};return e()}([0,1],[0,1],Ko,!1)};var wa={s:1,g:1,p:1,r:1,e:1};function xa(t){return-Math.floor(Math.log(t)/Math.LN10+.01)}I.scale.log=function(){return function t(e,l,u,c){function p(t){return(u?Math.log(t<0?0:t):-Math.log(0<t?0:-t))/Math.log(l)}function h(t){return u?Math.pow(l,t):-Math.pow(l,-t)}function o(t){return e(p(t))}o.invert=function(t){return h(e.invert(t))};o.domain=function(t){return arguments.length?(u=0<=t[0],e.domain((c=t.map(Number)).map(p)),o):c};o.base=function(t){return arguments.length?(l=+t,e.domain(c.map(p)),o):l};o.nice=function(){var t=pa(c.map(p),u?Math:_a);return e.domain(t),c=t.map(h),o};o.ticks=function(){var t=la(c),e=[],n=t[0],i=t[1],o=Math.floor(p(n)),r=Math.ceil(p(i)),a=l%1?2:l;if(isFinite(r-o)){if(u){for(;o<r;o++)for(var s=1;s<a;s++)e.push(h(o)*s);e.push(h(o))}else for(e.push(h(o));o++<r;)for(var s=a-1;0<s;s--)e.push(h(o)*s);for(o=0;e[o]<n;o++);for(r=e.length;e[r-1]>i;r--);e=e.slice(o,r)}return e};o.tickFormat=function(t,n){if(!arguments.length)return $a;arguments.length<2?n=$a:"function"!=typeof n&&(n=I.format(n));var i=Math.max(1,l*t/o.ticks().length);return function(t){var e=t/h(Math.round(p(t)));return e*l<l-.5&&(e*=l),e<=i?n(t):""}};o.copy=function(){return t(e.copy(),l,u,c)};return ga(o,e)}(I.scale.linear().domain([0,1]),10,!0,[1,10])};var $a=I.format(".0e"),_a={floor:function(t){return-Math.ceil(-t)},ceil:function(t){return-Math.floor(-t)}};function ka(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}I.scale.pow=function(){return function t(e,n,i){var o=ka(n),r=ka(1/n);function a(t){return e(o(t))}a.invert=function(t){return r(e.invert(t))};a.domain=function(t){return arguments.length?(e.domain((i=t.map(Number)).map(o)),a):i};a.ticks=function(t){return ya(i,t)};a.tickFormat=function(t,e){return ba(i,t,e)};a.nice=function(t){return a.domain(ma(i,t))};a.exponent=function(t){return arguments.length?(o=ka(n=t),r=ka(1/n),e.domain(i.map(o)),a):n};a.copy=function(){return t(e.copy(),n,i)};return ga(a,e)}(I.scale.linear(),1,[0,1])},I.scale.sqrt=function(){return I.scale.pow().exponent(.5)},I.scale.ordinal=function(){return function t(s,l){var o,u,c;function p(t){return u[((o.get(t)||("range"===l.t?o.set(t,s.push(t)):NaN))-1)%u.length]}function h(e,n){return I.range(s.length).map(function(t){return e+n*t})}p.domain=function(t){if(!arguments.length)return s;s=[],o=new y;for(var e,n=-1,i=t.length;++n<i;)o.has(e=t[n])||o.set(e,s.push(e));return p[l.t].apply(p,l.a)};p.range=function(t){return arguments.length?(u=t,c=0,l={t:"range",a:arguments},p):u};p.rangePoints=function(t,e){arguments.length<2&&(e=0);var n=t[0],i=t[1],o=s.length<2?(n=(n+i)/2,0):(i-n)/(s.length-1+e);return u=h(n+o*e/2,o),c=0,l={t:"rangePoints",a:arguments},p};p.rangeRoundPoints=function(t,e){arguments.length<2&&(e=0);var n=t[0],i=t[1],o=s.length<2?(n=i=Math.round((n+i)/2),0):(i-n)/(s.length-1+e)|0;return u=h(n+Math.round(o*e/2+(i-n-(s.length-1+e)*o)/2),o),c=0,l={t:"rangeRoundPoints",a:arguments},p};p.rangeBands=function(t,e,n){arguments.length<2&&(e=0),arguments.length<3&&(n=e);var i=t[1]<t[0],o=t[i-0],r=t[1-i],a=(r-o)/(s.length-e+2*n);return u=h(o+a*n,a),i&&u.reverse(),c=a*(1-e),l={t:"rangeBands",a:arguments},p};p.rangeRoundBands=function(t,e,n){arguments.length<2&&(e=0),arguments.length<3&&(n=e);var i=t[1]<t[0],o=t[i-0],r=t[1-i],a=Math.floor((r-o)/(s.length-e+2*n));return u=h(o+Math.round((r-o-(s.length-e)*a)/2),a),i&&u.reverse(),c=Math.round(a*(1-e)),l={t:"rangeRoundBands",a:arguments},p};p.rangeBand=function(){return c};p.rangeExtent=function(){return la(l.a[0])};p.copy=function(){return t(s,l)};return p.domain(s)}([],{t:"range",a:[[]]})},I.scale.category10=function(){return I.scale.ordinal().range(Ca)},I.scale.category20=function(){return I.scale.ordinal().range(Sa)},I.scale.category20b=function(){return I.scale.ordinal().range(Ta)},I.scale.category20c=function(){return I.scale.ordinal().range(Aa)};var Ca=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(ae),Sa=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(ae),Ta=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(ae),Aa=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(ae);function Da(){return 0}I.scale.quantile=function(){return function t(n,i){var o;function e(){var t=0,e=i.length;for(o=[];++t<e;)o[t-1]=I.quantile(n,t/e);return r}function r(t){if(!isNaN(t=+t))return i[I.bisect(o,t)]}r.domain=function(t){return arguments.length?(n=t.map(u).filter(c).sort(l),e()):n};r.range=function(t){return arguments.length?(i=t,e()):i};r.quantiles=function(){return o};r.invertExtent=function(t){return(t=i.indexOf(t))<0?[NaN,NaN]:[0<t?o[t-1]:n[0],t<o.length?o[t]:n[n.length-1]]};r.copy=function(){return t(n,i)};return e()}([],[])},I.scale.quantize=function(){return function t(e,n,i){var o,r;function a(t){return i[Math.max(0,Math.min(r,Math.floor(o*(t-e))))]}function s(){return o=i.length/(n-e),r=i.length-1,a}a.domain=function(t){return arguments.length?(e=+t[0],n=+t[t.length-1],s()):[e,n]};a.range=function(t){return arguments.length?(i=t,s()):i};a.invertExtent=function(t){return[t=(t=i.indexOf(t))<0?NaN:t/o+e,t+1/o]};a.copy=function(){return t(e,n,i)};return s()}(0,1,[0,1])},I.scale.threshold=function(){return function t(e,n){function i(t){if(t<=t)return n[I.bisect(e,t)]}i.domain=function(t){return arguments.length?(e=t,i):e};i.range=function(t){return arguments.length?(n=t,i):n};i.invertExtent=function(t){return t=n.indexOf(t),[e[t-1],e[t]]};i.copy=function(){return t(e,n)};return i}([.5],[0,1])},I.scale.identity=function(){return function t(n){function e(t){return+t}e.invert=e;e.domain=e.range=function(t){return arguments.length?(n=t.map(e),e):n};e.ticks=function(t){return ya(n,t)};e.tickFormat=function(t,e){return ba(n,t,e)};e.copy=function(){return t(n)};return e}([0,1])},I.svg={},I.svg.arc=function(){var N=Ea,j=Pa,B=Da,U=Ma,z=Oa,H=Ia,V=Ra;function e(){var t=Math.max(0,+N.apply(this,arguments)),e=Math.max(0,+j.apply(this,arguments)),n=z.apply(this,arguments)-Tt,i=H.apply(this,arguments)-Tt,o=Math.abs(i-n),r=i<n?0:1;if(e<t&&(a=e,e=t,t=a),St<=o)return q(e,r)+(t?q(t,1-r):"")+"Z";var a,s,l,u,c,p,h,d,f,g,m,v,y=0,b=0,w=[];if((u=(+V.apply(this,arguments)||0)/2)&&(l=U===Ma?Math.sqrt(t*t+e*e):+U.apply(this,arguments),r||(b*=-1),e&&(b=Ot(l/e*Math.sin(u))),t&&(y=Ot(l/t*Math.sin(u)))),e){c=e*Math.cos(n+b),p=e*Math.sin(n+b),h=e*Math.cos(i-b),d=e*Math.sin(i-b);var x=Math.abs(i-n-2*b)<=kt?0:1;if(b&&La(c,p,h,d)===r^x){var $=(n+i)/2;c=e*Math.cos($),p=e*Math.sin($),h=d=null}}else c=p=0;if(t){f=t*Math.cos(i-y),g=t*Math.sin(i-y),m=t*Math.cos(n+y),v=t*Math.sin(n+y);var _=Math.abs(n-i+2*y)<=kt?0:1;if(y&&La(f,g,m,v)===1-r^_){var k=(n+i)/2;f=t*Math.cos(k),g=t*Math.sin(k),m=v=null}}else f=g=0;if($t<o&&.001<(a=Math.min(Math.abs(e-t)/2,+B.apply(this,arguments)))){s=t<e^r?0:1;var C=a,S=a;if(o<kt){var T=null==m?[f,g]:null==h?[c,p]:ao([c,p],[m,v],[h,d],[f,g]),A=c-T[0],D=p-T[1],M=h-T[0],E=d-T[1],P=1/Math.sin(Math.acos((A*M+D*E)/(Math.sqrt(A*A+D*D)*Math.sqrt(M*M+E*E)))/2),O=Math.sqrt(T[0]*T[0]+T[1]*T[1]);S=Math.min(a,(t-O)/(P-1)),C=Math.min(a,(e-O)/(P+1))}if(null!=h){var I=Fa(null==m?[f,g]:[m,v],[c,p],e,C,r),R=Fa([h,d],[f,g],e,C,r);a===C?w.push("M",I[0],"A",C,",",C," 0 0,",s," ",I[1],"A",e,",",e," 0 ",1-r^La(I[1][0],I[1][1],R[1][0],R[1][1]),",",r," ",R[1],"A",C,",",C," 0 0,",s," ",R[0]):w.push("M",I[0],"A",C,",",C," 0 1,",s," ",R[0])}else w.push("M",c,",",p);if(null!=m){var L=Fa([c,p],[m,v],t,-S,r),F=Fa([f,g],null==h?[c,p]:[h,d],t,-S,r);a===S?w.push("L",F[0],"A",S,",",S," 0 0,",s," ",F[1],"A",t,",",t," 0 ",r^La(F[1][0],F[1][1],L[1][0],L[1][1]),",",1-r," ",L[1],"A",S,",",S," 0 0,",s," ",L[0]):w.push("L",F[0],"A",S,",",S," 0 0,",s," ",L[0])}else w.push("L",f,",",g)}else w.push("M",c,",",p),null!=h&&w.push("A",e,",",e," 0 ",x,",",r," ",h,",",d),w.push("L",f,",",g),null!=m&&w.push("A",t,",",t," 0 ",_,",",1-r," ",m,",",v);return w.push("Z"),w.join("")}function q(t,e){return"M0,"+t+"A"+t+","+t+" 0 1,"+e+" 0,"+-t+"A"+t+","+t+" 0 1,"+e+" 0,"+t}return e.innerRadius=function(t){return arguments.length?(N=ge(t),e):N},e.outerRadius=function(t){return arguments.length?(j=ge(t),e):j},e.cornerRadius=function(t){return arguments.length?(B=ge(t),e):B},e.padRadius=function(t){return arguments.length?(U=t==Ma?Ma:ge(t),e):U},e.startAngle=function(t){return arguments.length?(z=ge(t),e):z},e.endAngle=function(t){return arguments.length?(H=ge(t),e):H},e.padAngle=function(t){return arguments.length?(V=ge(t),e):V},e.centroid=function(){var t=(+N.apply(this,arguments)+ +j.apply(this,arguments))/2,e=(+z.apply(this,arguments)+ +H.apply(this,arguments))/2-Tt;return[Math.cos(e)*t,Math.sin(e)*t]},e};var Ma="auto";function Ea(t){return t.innerRadius}function Pa(t){return t.outerRadius}function Oa(t){return t.startAngle}function Ia(t){return t.endAngle}function Ra(t){return t&&t.padAngle}function La(t,e,n,i){return 0<(t-n)*e-(e-i)*t?0:1}function Fa(t,e,n,i,o){var r=t[0]-e[0],a=t[1]-e[1],s=(o?i:-i)/Math.sqrt(r*r+a*a),l=s*a,u=-s*r,c=t[0]+l,p=t[1]+u,h=e[0]+l,d=e[1]+u,f=(c+h)/2,g=(p+d)/2,m=h-c,v=d-p,y=m*m+v*v,b=n-i,w=c*d-h*p,x=(v<0?-1:1)*Math.sqrt(Math.max(0,b*b*y-w*w)),$=(w*v-m*x)/y,_=(-w*m-v*x)/y,k=(w*v+m*x)/y,C=(-w*m+v*x)/y,S=$-f,T=_-g,A=k-f,D=C-g;return A*A+D*D<S*S+T*T&&($=k,_=C),[[$-l,_-u],[$*n/b,_*n/b]]}function Na(u){var c=to,p=eo,h=Wn,d=Ba,e=d.key,f=.7;function n(t){var e,n=[],i=[],o=-1,r=t.length,a=ge(c),s=ge(p);function l(){n.push("M",d(u(i),f))}for(;++o<r;)h.call(this,e=t[o],o)?i.push([+a.call(this,e,o),+s.call(this,e,o)]):i.length&&(l(),i=[]);return i.length&&l(),n.length?n.join(""):null}return n.x=function(t){return arguments.length?(c=t,n):c},n.y=function(t){return arguments.length?(p=t,n):p},n.defined=function(t){return arguments.length?(h=t,n):h},n.interpolate=function(t){return arguments.length?(e="function"==typeof t?d=t:(d=ja.get(t)||Ba).key,n):e},n.tension=function(t){return arguments.length?(f=t,n):f},n}I.svg.line=function(){return Na(L)};var ja=I.map({linear:Ba,"linear-closed":Ua,step:function(t){var e=0,n=t.length,i=t[0],o=[i[0],",",i[1]];for(;++e<n;)o.push("H",(i[0]+(i=t[e])[0])/2,"V",i[1]);1<n&&o.push("H",i[0]);return o.join("")},"step-before":za,"step-after":Ha,basis:Wa,"basis-open":function(t){if(t.length<4)return Ba(t);var e,n=[],i=-1,o=t.length,r=[0],a=[0];for(;++i<3;)e=t[i],r.push(e[0]),a.push(e[1]);n.push(Ga(Za,r)+","+Ga(Za,a)),--i;for(;++i<o;)e=t[i],r.shift(),r.push(e[0]),a.shift(),a.push(e[1]),Xa(n,r,a);return n.join("")},"basis-closed":function(t){var e,n,i=-1,o=t.length,r=o+4,a=[],s=[];for(;++i<4;)n=t[i%o],a.push(n[0]),s.push(n[1]);e=[Ga(Za,a),",",Ga(Za,s)],--i;for(;++i<r;)n=t[i%o],a.shift(),a.push(n[0]),s.shift(),s.push(n[1]),Xa(e,a,s);return e.join("")},bundle:function(t,e){var n=t.length-1;if(n)for(var i,o,r=t[0][0],a=t[0][1],s=t[n][0]-r,l=t[n][1]-a,u=-1;++u<=n;)i=t[u],o=u/n,i[0]=e*i[0]+(1-e)*(r+o*s),i[1]=e*i[1]+(1-e)*(a+o*l);return Wa(t)},cardinal:function(t,e){return t.length<3?Ba(t):t[0]+Va(t,qa(t,e))},"cardinal-open":function(t,e){return t.length<4?Ba(t):t[1]+Va(t.slice(1,-1),qa(t,e))},"cardinal-closed":function(t,e){return t.length<3?Ua(t):t[0]+Va((t.push(t[0]),t),qa([t[t.length-2]].concat(t,[t[1]]),e))},monotone:function(t){return t.length<3?Ba(t):t[0]+Va(t,function(t){var e,n,i,o,r=[],a=function(t){var e=0,n=t.length-1,i=[],o=t[0],r=t[1],a=i[0]=Ja(o,r);for(;++e<n;)i[e]=(a+(a=Ja(o=r,r=t[e+1])))/2;return i[e]=a,i}(t),s=-1,l=t.length-1;for(;++s<l;)e=Ja(t[s],t[s+1]),O(e)<$t?a[s]=a[s+1]=0:(n=a[s]/e,i=a[s+1]/e,9<(o=n*n+i*i)&&(o=3*e/Math.sqrt(o),a[s]=o*n,a[s+1]=o*i));s=-1;for(;++s<=l;)o=(t[Math.min(l,s+1)][0]-t[Math.max(0,s-1)][0])/(6*(1+a[s]*a[s])),r.push([o||0,a[s]*o||0]);return r}(t))}});function Ba(t){return 1<t.length?t.join("L"):t+"Z"}function Ua(t){return t.join("L")+"Z"}function za(t){for(var e=0,n=t.length,i=t[0],o=[i[0],",",i[1]];++e<n;)o.push("V",(i=t[e])[1],"H",i[0]);return o.join("")}function Ha(t){for(var e=0,n=t.length,i=t[0],o=[i[0],",",i[1]];++e<n;)o.push("H",(i=t[e])[0],"V",i[1]);return o.join("")}function Va(t,e){if(e.length<1||t.length!=e.length&&t.length!=e.length+2)return Ba(t);var n=t.length!=e.length,i="",o=t[0],r=t[1],a=e[0],s=a,l=1;if(n&&(i+="Q"+(r[0]-2*a[0]/3)+","+(r[1]-2*a[1]/3)+","+r[0]+","+r[1],o=t[1],l=2),1<e.length){s=e[1],r=t[l],l++,i+="C"+(o[0]+a[0])+","+(o[1]+a[1])+","+(r[0]-s[0])+","+(r[1]-s[1])+","+r[0]+","+r[1];for(var u=2;u<e.length;u++,l++)r=t[l],s=e[u],i+="S"+(r[0]-s[0])+","+(r[1]-s[1])+","+r[0]+","+r[1]}if(n){var c=t[l];i+="Q"+(r[0]+2*s[0]/3)+","+(r[1]+2*s[1]/3)+","+c[0]+","+c[1]}return i}function qa(t,e){for(var n,i=[],o=(1-e)/2,r=t[0],a=t[1],s=1,l=t.length;++s<l;)n=r,r=a,a=t[s],i.push([o*(a[0]-n[0]),o*(a[1]-n[1])]);return i}function Wa(t){if(t.length<3)return Ba(t);var e=1,n=t.length,i=t[0],o=i[0],r=i[1],a=[o,o,o,(i=t[1])[0]],s=[r,r,r,i[1]],l=[o,",",r,"L",Ga(Za,a),",",Ga(Za,s)];for(t.push(t[n-1]);++e<=n;)i=t[e],a.shift(),a.push(i[0]),s.shift(),s.push(i[1]),Xa(l,a,s);return t.pop(),l.push("L",i),l.join("")}function Ga(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]+t[3]*e[3]}ja.forEach(function(t,e){e.key=t,e.closed=/-closed$/.test(t)});var Ya=[0,2/3,1/3,0],Ka=[0,1/3,2/3,0],Za=[0,1/6,2/3,1/6];function Xa(t,e,n){t.push("C",Ga(Ya,e),",",Ga(Ya,n),",",Ga(Ka,e),",",Ga(Ka,n),",",Ga(Za,e),",",Ga(Za,n))}function Ja(t,e){return(e[1]-t[1])/(e[0]-t[0])}function Qa(t){for(var e,n,i,o=-1,r=t.length;++o<r;)n=(e=t[o])[0],i=e[1]-Tt,e[0]=n*Math.cos(i),e[1]=n*Math.sin(i);return t}function ts(f){var g=to,m=to,v=0,y=eo,b=Wn,w=Ba,e=w.key,x=w,$="L",_=.7;function n(t){var e,n,i,o=[],r=[],a=[],s=-1,l=t.length,u=ge(g),c=ge(v),p=g===m?function(){return n}:ge(m),h=v===y?function(){return i}:ge(y);function d(){o.push("M",w(f(a),_),$,x(f(r.reverse()),_),"Z")}for(;++s<l;)b.call(this,e=t[s],s)?(r.push([n=+u.call(this,e,s),i=+c.call(this,e,s)]),a.push([+p.call(this,e,s),+h.call(this,e,s)])):r.length&&(d(),r=[],a=[]);return r.length&&d(),o.length?o.join(""):null}return n.x=function(t){return arguments.length?(g=m=t,n):m},n.x0=function(t){return arguments.length?(g=t,n):g},n.x1=function(t){return arguments.length?(m=t,n):m},n.y=function(t){return arguments.length?(v=y=t,n):y},n.y0=function(t){return arguments.length?(v=t,n):v},n.y1=function(t){return arguments.length?(y=t,n):y},n.defined=function(t){return arguments.length?(b=t,n):b},n.interpolate=function(t){return arguments.length?(e="function"==typeof t?w=t:(w=ja.get(t)||Ba).key,x=w.reverse||w,$=w.closed?"M":"L",n):e},n.tension=function(t){return arguments.length?(_=t,n):_},n}function es(t){return t.radius}function ns(t){return[t.x,t.y]}function is(){return 64}function os(){return"circle"}function rs(t){var e=Math.sqrt(t/kt);return"M0,"+e+"A"+e+","+e+" 0 1,1 0,"+-e+"A"+e+","+e+" 0 1,1 0,"+e+"Z"}I.svg.line.radial=function(){var t=Na(Qa);return t.radius=t.x,delete t.x,t.angle=t.y,delete t.y,t},(za.reverse=Ha).reverse=za,I.svg.area=function(){return ts(L)},I.svg.area.radial=function(){var t=ts(Qa);return t.radius=t.x,delete t.x,t.innerRadius=t.x0,delete t.x0,t.outerRadius=t.x1,delete t.x1,t.angle=t.y,delete t.y,t.startAngle=t.y0,delete t.y0,t.endAngle=t.y1,delete t.y1,t},I.svg.chord=function(){var a=Bi,s=Ui,l=es,u=Oa,c=Ia;function e(t,e){var n,i,o=p(this,a,t,e),r=p(this,s,t,e);return"M"+o.p0+h(o.r,o.p1,o.a1-o.a0)+(i=r,(n=o).a0==i.a0&&n.a1==i.a1?d(o.r,o.p1,o.r,o.p0):d(o.r,o.p1,r.r,r.p0)+h(r.r,r.p1,r.a1-r.a0)+d(r.r,r.p1,o.r,o.p0))+"Z"}function p(t,e,n,i){var o=e.call(t,n,i),r=l.call(t,o,i),a=u.call(t,o,i)-Tt,s=c.call(t,o,i)-Tt;return{r:r,a0:a,a1:s,p0:[r*Math.cos(a),r*Math.sin(a)],p1:[r*Math.cos(s),r*Math.sin(s)]}}function h(t,e,n){return"A"+t+","+t+" 0 "+ +(kt<n)+",1 "+e}function d(t,e,n,i){return"Q 0,0 "+i}return e.radius=function(t){return arguments.length?(l=ge(t),e):l},e.source=function(t){return arguments.length?(a=ge(t),e):a},e.target=function(t){return arguments.length?(s=ge(t),e):s},e.startAngle=function(t){return arguments.length?(u=ge(t),e):u},e.endAngle=function(t){return arguments.length?(c=ge(t),e):c},e},I.svg.diagonal=function(){var a=Bi,s=Ui,l=ns;function e(t,e){var n=a.call(this,t,e),i=s.call(this,t,e),o=(n.y+i.y)/2,r=[n,{x:n.x,y:o},{x:i.x,y:o},i];return"M"+(r=r.map(l))[0]+"C"+r[1]+" "+r[2]+" "+r[3]}return e.source=function(t){return arguments.length?(a=ge(t),e):a},e.target=function(t){return arguments.length?(s=ge(t),e):s},e.projection=function(t){return arguments.length?(l=t,e):l},e},I.svg.diagonal.radial=function(){var t=I.svg.diagonal(),e=ns,n=t.projection;return t.projection=function(t){return arguments.length?n((i=e=t,function(){var t=i.apply(this,arguments),e=t[0],n=t[1]-Tt;return[e*Math.cos(n),e*Math.sin(n)]})):e;var i},t},I.svg.symbol=function(){var n=os,i=is;function e(t,e){return(as.get(n.call(this,t,e))||rs)(i.call(this,t,e))}return e.type=function(t){return arguments.length?(n=ge(t),e):n},e.size=function(t){return arguments.length?(i=ge(t),e):i},e};var as=I.map({circle:rs,cross:function(t){var e=Math.sqrt(t/5)/2;return"M"+-3*e+","+-e+"H"+-e+"V"+-3*e+"H"+e+"V"+-e+"H"+3*e+"V"+e+"H"+e+"V"+3*e+"H"+-e+"V"+e+"H"+-3*e+"Z"},diamond:function(t){var e=Math.sqrt(t/(2*ls)),n=e*ls;return"M0,"+-e+"L"+n+",0 0,"+e+" "+-n+",0Z"},square:function(t){var e=Math.sqrt(t)/2;return"M"+-e+","+-e+"L"+e+","+-e+" "+e+","+e+" "+-e+","+e+"Z"},"triangle-down":function(t){var e=Math.sqrt(t/ss),n=e*ss/2;return"M0,"+n+"L"+e+","+-n+" "+-e+","+-n+"Z"},"triangle-up":function(t){var e=Math.sqrt(t/ss),n=e*ss/2;return"M0,"+-n+"L"+e+","+n+" "+-e+","+n+"Z"}});I.svg.symbolTypes=as.keys();var ss=Math.sqrt(3),ls=Math.tan(30*At);W.transition=function(t){for(var e,n,i=hs||++gs,o=ys(t),r=[],a=ds||{time:Date.now(),ease:or,delay:0,duration:250},s=-1,l=this.length;++s<l;){r.push(e=[]);for(var u=this[s],c=-1,p=u.length;++c<p;)(n=u[c])&&bs(n,c,o,i,a),e.push(n)}return ps(r,o,i)},W.interrupt=function(t){return this.each(null==t?us:cs(ys(t)))};var us=cs(ys());function cs(i){return function(){var t,e,n;(t=this[i])&&(n=t[e=t.active])&&(n.timer.c=null,n.timer.t=NaN,--t.count?delete t[e]:delete this[i],t.active+=.5,n.event&&n.event.interrupt.call(this,this.__data__,n.index))}}function ps(t,e,n){return U(t,fs),t.namespace=e,t.id=n,t}var hs,ds,fs=[],gs=0;function ms(t,i,o,r){var a=t.id,s=t.namespace;return ut(t,"function"==typeof o?function(t,e,n){t[s][a].tween.set(i,r(o.call(t,t.__data__,e,n)))}:(o=r(o),function(t){t[s][a].tween.set(i,o)}))}function vs(t){return null==t&&(t=""),function(){this.textContent=t}}function ys(t){return null==t?"__transition__":"__transition_"+t+"__"}function bs(r,a,o,s,t){var l,u,c,p,h,d=r[o]||(r[o]={active:0,count:0}),f=d[s];function n(t){var e=d.active,n=d[e];for(var i in n&&(n.timer.c=null,n.timer.t=NaN,--d.count,delete d[e],n.event&&n.event.interrupt.call(r,r.__data__,n.index)),d)if(+i<s){var o=d[i];o.timer.c=null,o.timer.t=NaN,--d.count,delete d[i]}u.c=g,_e(function(){return u.c&&g(t||1)&&(u.c=null,u.t=NaN),1},0,l),d.active=s,f.event&&f.event.start.call(r,r.__data__,a),h=[],f.tween.forEach(function(t,e){(e=e.call(r,r.__data__,a))&&h.push(e)}),p=f.ease,c=f.duration}function g(t){for(var e=t/c,n=p(e),i=h.length;0<i;)h[--i].call(r,n);if(1<=e)return f.event&&f.event.end.call(r,r.__data__,a),--d.count?delete d[s]:delete r[o],1}f||(l=t.time,u=_e(function(t){var e=f.delay;if(u.t=e+l,e<=t)return n(t-e);u.c=n},0,l),f=d[s]={tween:new y,time:l,timer:u,delay:t.delay,duration:t.duration,ease:t.ease,index:a},t=null,++d.count)}fs.call=W.call,fs.empty=W.empty,fs.node=W.node,fs.size=W.size,I.transition=function(t,e){return t&&t.transition?hs?t.transition(e):t:I.selection().transition(t)},(I.transition.prototype=fs).select=function(t){var e,n,i,o=this.id,r=this.namespace,a=[];t=G(t);for(var s=-1,l=this.length;++s<l;){a.push(e=[]);for(var u=this[s],c=-1,p=u.length;++c<p;)(i=u[c])&&(n=t.call(i,i.__data__,c,s))?("__data__"in i&&(n.__data__=i.__data__),bs(n,c,r,o,i[r][o]),e.push(n)):e.push(null)}return ps(a,r,o)},fs.selectAll=function(t){var e,n,i,o,r,a=this.id,s=this.namespace,l=[];t=Y(t);for(var u=-1,c=this.length;++u<c;)for(var p=this[u],h=-1,d=p.length;++h<d;)if(i=p[h]){r=i[s][a],n=t.call(i,i.__data__,h,u),l.push(e=[]);for(var f=-1,g=n.length;++f<g;)(o=n[f])&&bs(o,f,s,a,r),e.push(o)}return ps(l,s,a)},fs.filter=function(t){var e,n,i=[];"function"!=typeof t&&(t=lt(t));for(var o=0,r=this.length;o<r;o++){i.push(e=[]);for(var a,s=0,l=(a=this[o]).length;s<l;s++)(n=a[s])&&t.call(n,n.__data__,s,o)&&e.push(n)}return ps(i,this.namespace,this.id)},fs.tween=function(e,n){var i=this.id,o=this.namespace;return arguments.length<2?this.node()[o][i].tween.get(e):ut(this,null==n?function(t){t[o][i].tween.remove(e)}:function(t){t[o][i].tween.set(e,n)})},fs.attr=function(t,e){if(arguments.length<2){for(e in t)this.attr(e,t[e]);return this}var i="transform"==t?gr:Ko,o=I.ns.qualify(t);function r(){this.removeAttribute(o)}function a(){this.removeAttributeNS(o.space,o.local)}return ms(this,"attr."+t,e,o.local?function(n){return null==n?a:(n+="",function(){var e,t=this.getAttributeNS(o.space,o.local);return t!==n&&(e=i(t,n),function(t){this.setAttributeNS(o.space,o.local,e(t))})})}:function(n){return null==n?r:(n+="",function(){var e,t=this.getAttribute(o);return t!==n&&(e=i(t,n),function(t){this.setAttribute(o,e(t))})})})},fs.attrTween=function(t,i){var o=I.ns.qualify(t);return this.tween("attr."+t,o.local?function(t,e){var n=i.call(this,t,e,this.getAttributeNS(o.space,o.local));return n&&function(t){this.setAttributeNS(o.space,o.local,n(t))}}:function(t,e){var n=i.call(this,t,e,this.getAttribute(o));return n&&function(t){this.setAttribute(o,n(t))}})},fs.style=function(i,t,o){var e=arguments.length;if(e<3){if("string"!=typeof i){for(o in e<2&&(t=""),i)this.style(o,i[o],t);return this}o=""}function r(){this.style.removeProperty(i)}return ms(this,"style."+i,t,function(n){return null==n?r:(n+="",function(){var e,t=R(this).getComputedStyle(this,null).getPropertyValue(i);return t!==n&&(e=Ko(t,n),function(t){this.style.setProperty(i,e(t),o)})})})},fs.styleTween=function(i,o,r){return arguments.length<3&&(r=""),this.tween("style."+i,function(t,e){var n=o.call(this,t,e,R(this).getComputedStyle(this,null).getPropertyValue(i));return n&&function(t){this.style.setProperty(i,n(t),r)}})},fs.text=function(t){return ms(this,"text",t,vs)},fs.remove=function(){var e=this.namespace;return this.each("end.transition",function(){var t;this[e].count<2&&(t=this.parentNode)&&t.removeChild(this)})},fs.ease=function(e){var n=this.id,i=this.namespace;return arguments.length<1?this.node()[i][n].ease:("function"!=typeof e&&(e=I.ease.apply(I,arguments)),ut(this,function(t){t[i][n].ease=e}))},fs.delay=function(i){var o=this.id,r=this.namespace;return arguments.length<1?this.node()[r][o].delay:ut(this,"function"==typeof i?function(t,e,n){t[r][o].delay=+i.call(t,t.__data__,e,n)}:(i=+i,function(t){t[r][o].delay=i}))},fs.duration=function(i){var o=this.id,r=this.namespace;return arguments.length<1?this.node()[r][o].duration:ut(this,"function"==typeof i?function(t,e,n){t[r][o].duration=Math.max(1,i.call(t,t.__data__,e,n))}:(i=Math.max(1,i),function(t){t[r][o].duration=i}))},fs.each=function(i,n){var o=this.id,r=this.namespace;if(arguments.length<2){var t=ds,e=hs;try{hs=o,ut(this,function(t,e,n){ds=t[r][o],i.call(t,t.__data__,e,n)})}finally{ds=t,hs=e}}else ut(this,function(t){var e=t[r][o];(e.event||(e.event=I.dispatch("start","end","interrupt"))).on(i,n)});return this},fs.transition=function(){for(var t,e,n,i=this.id,o=++gs,r=this.namespace,a=[],s=0,l=this.length;s<l;s++){a.push(t=[]);for(var u,c=0,p=(u=this[s]).length;c<p;c++)(e=u[c])&&bs(e,c,r,o,{time:(n=e[r][i]).time,ease:n.ease,delay:n.delay+n.duration,duration:n.duration}),t.push(e)}return ps(a,r,o)},I.svg.axis=function(){var S,T=I.scale.linear(),A=ws,D=6,M=6,E=3,P=[10],O=null;function n(t){t.each(function(){var t,e=I.select(this),n=this.__chart__||T,i=this.__chart__=T.copy(),o=null==O?i.ticks?i.ticks.apply(i,P):i.domain():O,r=null==S?i.tickFormat?i.tickFormat.apply(i,P):L:S,a=e.selectAll(".tick").data(o,i),s=a.enter().insert("g",".domain").attr("class","tick").style("opacity",$t),l=I.transition(a.exit()).style("opacity",$t).remove(),u=I.transition(a.order()).style("opacity",1),c=Math.max(D,0)+E,p=ua(i),h=e.selectAll(".domain").data([0]),d=(h.enter().append("path").attr("class","domain"),I.transition(h));s.append("line"),s.append("text");var f,g,m,v,y=s.select("line"),b=u.select("line"),w=a.select("text").text(r),x=s.select("text"),$=u.select("text"),_="top"===A||"left"===A?-1:1;if("bottom"===A||"top"===A?(t=$s,f="x",m="y",g="x2",v="y2",w.attr("dy",_<0?"0em":".71em").style("text-anchor","middle"),d.attr("d","M"+p[0]+","+_*M+"V0H"+p[1]+"V"+_*M)):(t=_s,f="y",m="x",g="y2",v="x2",w.attr("dy",".32em").style("text-anchor",_<0?"end":"start"),d.attr("d","M"+_*M+","+p[0]+"H0V"+p[1]+"H"+_*M)),y.attr(v,_*D),x.attr(m,_*c),b.attr(g,0).attr(v,_*D),$.attr(f,0).attr(m,_*c),i.rangeBand){var k=i,C=k.rangeBand()/2;n=i=function(t){return k(t)+C}}else n.rangeBand?n=i:l.call(t,i,n);s.call(t,n,i),u.call(t,i,i)})}return n.scale=function(t){return arguments.length?(T=t,n):T},n.orient=function(t){return arguments.length?(A=t in xs?t+"":ws,n):A},n.ticks=function(){return arguments.length?(P=h(arguments),n):P},n.tickValues=function(t){return arguments.length?(O=t,n):O},n.tickFormat=function(t){return arguments.length?(S=t,n):S},n.tickSize=function(t){var e=arguments.length;return e?(D=+t,M=+arguments[e-1],n):D},n.innerTickSize=function(t){return arguments.length?(D=+t,n):D},n.outerTickSize=function(t){return arguments.length?(M=+t,n):M},n.tickPadding=function(t){return arguments.length?(E=+t,n):E},n.tickSubdivide=function(){return arguments.length&&n},n};var ws="bottom",xs={top:1,right:1,bottom:1,left:1};function $s(t,n,i){t.attr("transform",function(t){var e=n(t);return"translate("+(isFinite(e)?e:i(t))+",0)"})}function _s(t,n,i){t.attr("transform",function(t){var e=n(t);return"translate(0,"+(isFinite(e)?e:i(t))+")"})}I.svg.brush=function(){var y,b,w=j(T,"brushstart","brush","brushend"),x=null,$=null,_=[0,0],k=[0,0],C=!0,S=!0,a=Cs[0];function T(t){t.each(function(){var t=I.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush",s).on("touchstart.brush",s),e=t.selectAll(".background").data([0]);e.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair"),t.selectAll(".extent").data([0]).enter().append("rect").attr("class","extent").style("cursor","move");var n=t.selectAll(".resize").data(a,L);n.exit().remove(),n.enter().append("g").attr("class",function(t){return"resize "+t}).style("cursor",function(t){return ks[t]}).append("rect").attr("x",function(t){return/[ew]$/.test(t)?-3:null}).attr("y",function(t){return/^[ns]/.test(t)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden"),n.style("display",T.empty()?"none":null);var i,o=I.transition(t),r=I.transition(e);x&&(i=ua(x),r.attr("x",i[0]).attr("width",i[1]-i[0]),D(o)),$&&(i=ua($),r.attr("y",i[0]).attr("height",i[1]-i[0]),M(o)),A(o)})}function A(t){t.selectAll(".resize").attr("transform",function(t){return"translate("+_[+/e$/.test(t)]+","+k[+/^s/.test(t)]+")"})}function D(t){t.select(".extent").attr("x",_[0]),t.selectAll(".extent,.n>rect,.s>rect").attr("width",_[1]-_[0])}function M(t){t.select(".extent").attr("y",k[0]),t.selectAll(".extent,.e>rect,.w>rect").attr("height",k[1]-k[0])}function s(){var p,n,i=this,t=I.select(I.event.target),o=w.of(i,arguments),r=I.select(i),e=t.datum(),a=!/^(n|s)$/.test(e)&&x,s=!/^(e|w)$/.test(e)&&$,h=t.classed("extent"),l=yt(i),d=I.mouse(i),u=I.select(R(i)).on("keydown.brush",function(){32==I.event.keyCode&&(h||(p=null,d[0]-=_[1],d[1]-=k[1],h=2),F())}).on("keyup.brush",function(){32==I.event.keyCode&&2==h&&(d[0]+=_[1],d[1]+=k[1],h=0,F())});if(I.event.changedTouches?u.on("touchmove.brush",g).on("touchend.brush",v):u.on("mousemove.brush",g).on("mouseup.brush",v),r.interrupt().selectAll("*").interrupt(),h)d[0]=_[0]-d[0],d[1]=k[0]-d[1];else if(e){var c=+/w$/.test(e),f=+/^n/.test(e);n=[_[1-c]-d[0],k[1-f]-d[1]],d[0]=_[c],d[1]=k[f]}else I.event.altKey&&(p=d.slice());function g(){var t=I.mouse(i),e=!1;n&&(t[0]+=n[0],t[1]+=n[1]),h||(I.event.altKey?(p||(p=[(_[0]+_[1])/2,(k[0]+k[1])/2]),d[0]=_[+(t[0]<p[0])],d[1]=k[+(t[1]<p[1])]):p=null),a&&m(t,x,0)&&(D(r),e=!0),s&&m(t,$,1)&&(M(r),e=!0),e&&(A(r),o({type:"brush",mode:h?"move":"resize"}))}function m(t,e,n){var i,o,r=ua(e),a=r[0],s=r[1],l=d[n],u=n?k:_,c=u[1]-u[0];if(h&&(a-=l,s-=c+l),i=(n?S:C)?Math.max(a,Math.min(s,t[n])):t[n],h?o=(i+=l)+c:(p&&(l=Math.max(a,Math.min(s,2*p[n]-i))),l<i?(o=i,i=l):o=l),u[0]!=i||u[1]!=o)return n?b=null:y=null,u[0]=i,u[1]=o,!0}function v(){g(),r.style("pointer-events","all").selectAll(".resize").style("display",T.empty()?"none":null),I.select("body").style("cursor",null),u.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null),l(),o({type:"brushend"})}r.style("pointer-events","none").selectAll(".resize").style("display",null),I.select("body").style("cursor",t.style("cursor")),o({type:"brushstart"}),g()}return T.event=function(t){t.each(function(){var i=w.of(this,arguments),o={x:_,y:k,i:y,j:b},t=this.__chart__||o;this.__chart__=o,hs?I.select(this).transition().each("start.brush",function(){y=t.i,b=t.j,_=t.x,k=t.y,i({type:"brushstart"})}).tween("brush:brush",function(){var e=Zo(_,o.x),n=Zo(k,o.y);return y=b=null,function(t){_=o.x=e(t),k=o.y=n(t),i({type:"brush",mode:"resize"})}}).each("end.brush",function(){y=o.i,b=o.j,i({type:"brush",mode:"resize"}),i({type:"brushend"})}):(i({type:"brushstart"}),i({type:"brush",mode:"resize"}),i({type:"brushend"}))})},T.x=function(t){return arguments.length?(a=Cs[!(x=t)<<1|!$],T):x},T.y=function(t){return arguments.length?(a=Cs[!x<<1|!($=t)],T):$},T.clamp=function(t){return arguments.length?(x&&$?(C=!!t[0],S=!!t[1]):x?C=!!t:$&&(S=!!t),T):x&&$?[C,S]:x?C:$?S:null},T.extent=function(t){var e,n,i,o,r;return arguments.length?(x&&(e=t[0],n=t[1],$&&(e=e[0],n=n[0]),y=[e,n],x.invert&&(e=x(e),n=x(n)),n<e&&(r=e,e=n,n=r),e==_[0]&&n==_[1]||(_=[e,n])),$&&(i=t[0],o=t[1],x&&(i=i[1],o=o[1]),b=[i,o],$.invert&&(i=$(i),o=$(o)),o<i&&(r=i,i=o,o=r),i==k[0]&&o==k[1]||(k=[i,o])),T):(x&&(y?(e=y[0],n=y[1]):(e=_[0],n=_[1],x.invert&&(e=x.invert(e),n=x.invert(n)),n<e&&(r=e,e=n,n=r))),$&&(b?(i=b[0],o=b[1]):(i=k[0],o=k[1],$.invert&&(i=$.invert(i),o=$.invert(o)),o<i&&(r=i,i=o,o=r))),x&&$?[[e,i],[n,o]]:x?[e,n]:$&&[i,o])},T.clear=function(){return T.empty()||(_=[0,0],k=[0,0],y=b=null),T},T.empty=function(){return!!x&&_[0]==_[1]||!!$&&k[0]==k[1]},I.rebind(T,w,"on")};var ks={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},Cs=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]],Ss=Pe.format=sn.timeFormat,Ts=Ss.utc,As=Ts("%Y-%m-%dT%H:%M:%S.%LZ");function Ds(t){return t.toISOString()}function Ms(e,o,t){function a(t){return e(t)}function s(t,e){var n=(t[1]-t[0])/e,i=I.bisect(Ps,n);return i==Ps.length?[o.year,va(t.map(function(t){return t/31536e6}),e)[2]]:i?o[n/Ps[i-1]<Ps[i]/n?i-1:i]:[Rs,va(t,e)[2]]}return a.invert=function(t){return Es(e.invert(t))},a.domain=function(t){return arguments.length?(e.domain(t),a):e.domain().map(Es)},a.nice=function(e,n){var t=a.domain(),i=la(t),o=null==e?s(i,10):"number"==typeof e&&s(i,e);function r(t){return!isNaN(t)&&!e.range(t,Es(+t+1),n).length}return o&&(e=o[0],n=o[1]),a.domain(pa(t,1<n?{floor:function(t){for(;r(t=e.floor(t));)t=Es(t-1);return t},ceil:function(t){for(;r(t=e.ceil(t));)t=Es(+t+1);return t}}:e))},a.ticks=function(t,e){var n=la(a.domain()),i=null==t?s(n,10):"number"==typeof t?s(n,t):!t.range&&[{range:t},e];return i&&(t=i[0],e=i[1]),t.range(n[0],Es(+n[1]+1),e<1?1:e)},a.tickFormat=function(){return t},a.copy=function(){return Ms(e.copy(),o,t)},ga(a,e)}function Es(t){return new Date(t)}Ss.iso=Date.prototype.toISOString&&+new Date("2000-01-01T00:00:00.000Z")?Ds:As,Ds.parse=function(t){var e=new Date(t);return isNaN(e)?null:e},Ds.toString=As.toString,Pe.second=Le(function(t){return new Oe(1e3*Math.floor(t/1e3))},function(t,e){t.setTime(t.getTime()+1e3*Math.floor(e))},function(t){return t.getSeconds()}),Pe.seconds=Pe.second.range,Pe.seconds.utc=Pe.second.utc.range,Pe.minute=Le(function(t){return new Oe(6e4*Math.floor(t/6e4))},function(t,e){t.setTime(t.getTime()+6e4*Math.floor(e))},function(t){return t.getMinutes()}),Pe.minutes=Pe.minute.range,Pe.minutes.utc=Pe.minute.utc.range,Pe.hour=Le(function(t){var e=t.getTimezoneOffset()/60;return new Oe(36e5*(Math.floor(t/36e5-e)+e))},function(t,e){t.setTime(t.getTime()+36e5*Math.floor(e))},function(t){return t.getHours()}),Pe.hours=Pe.hour.range,Pe.hours.utc=Pe.hour.utc.range,Pe.month=Le(function(t){return(t=Pe.day(t)).setDate(1),t},function(t,e){t.setMonth(t.getMonth()+e)},function(t){return t.getMonth()}),Pe.months=Pe.month.range,Pe.months.utc=Pe.month.utc.range;var Ps=[1e3,5e3,15e3,3e4,6e4,3e5,9e5,18e5,36e5,108e5,216e5,432e5,864e5,1728e5,6048e5,2592e6,7776e6,31536e6],Os=[[Pe.second,1],[Pe.second,5],[Pe.second,15],[Pe.second,30],[Pe.minute,1],[Pe.minute,5],[Pe.minute,15],[Pe.minute,30],[Pe.hour,1],[Pe.hour,3],[Pe.hour,6],[Pe.hour,12],[Pe.day,1],[Pe.day,2],[Pe.week,1],[Pe.month,1],[Pe.month,3],[Pe.year,1]],Is=Ss.multi([[".%L",function(t){return t.getMilliseconds()}],[":%S",function(t){return t.getSeconds()}],["%I:%M",function(t){return t.getMinutes()}],["%I %p",function(t){return t.getHours()}],["%a %d",function(t){return t.getDay()&&1!=t.getDate()}],["%b %d",function(t){return 1!=t.getDate()}],["%B",function(t){return t.getMonth()}],["%Y",Wn]]),Rs={range:function(t,e,n){return I.range(Math.ceil(t/n)*n,+e,n).map(Es)},floor:L,ceil:L};Os.year=Pe.year,Pe.scale=function(){return Ms(I.scale.linear(),Os,Is)};var Ls=Os.map(function(t){return[t[0].utc,t[1]]}),Fs=Ts.multi([[".%L",function(t){return t.getUTCMilliseconds()}],[":%S",function(t){return t.getUTCSeconds()}],["%I:%M",function(t){return t.getUTCMinutes()}],["%I %p",function(t){return t.getUTCHours()}],["%a %d",function(t){return t.getUTCDay()&&1!=t.getUTCDate()}],["%b %d",function(t){return 1!=t.getUTCDate()}],["%B",function(t){return t.getUTCMonth()}],["%Y",Wn]]);function Ns(t){return JSON.parse(t.responseText)}function js(t){var e=b.createRange();return e.selectNode(b.body),e.createContextualFragment(t.responseText)}Ls.year=Pe.year.utc,Pe.scale.utc=function(){return Ms(I.scale.linear(),Ls,Fs)},I.text=me(function(t){return t.responseText}),I.json=function(t,e){return ve(t,"application/json",Ns,e)},I.html=function(t,e){return ve(t,"text/html",js,e)},I.xml=me(function(t){return t.responseXML}),"function"==typeof define&&define.amd?(this.d3=I,define(I)):"object"==typeof module&&module.exports?module.exports=I:this.d3=I}(),function(){var ht={dev:!1};ht.tooltip=ht.tooltip||{},ht.utils=ht.utils||{},ht.models=ht.models||{},ht.charts={},ht.logs={},ht.dom={},"undefined"!=typeof module&&"undefined"!=typeof exports&&"undefined"==typeof d3&&(d3=require("d3")),ht.dispatch=d3.dispatch("render_start","render_end"),Function.prototype.bind||(Function.prototype.bind=function(t){if("function"!=typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var e=Array.prototype.slice.call(arguments,1),n=this,i=function(){},o=function(){return n.apply(this instanceof i&&t?this:t,e.concat(Array.prototype.slice.call(arguments)))};return i.prototype=this.prototype,o.prototype=new i,o}),ht.dev&&(ht.dispatch.on("render_start",function(t){ht.logs.startTime=+new Date}),ht.dispatch.on("render_end",function(t){ht.logs.endTime=+new Date,ht.logs.totalTime=ht.logs.endTime-ht.logs.startTime,ht.log("total",ht.logs.totalTime)})),ht.log=function(){if(ht.dev&&window.console&&console.log&&console.log.apply)console.log.apply(console,arguments);else if(ht.dev&&window.console&&"function"==typeof console.log&&Function.prototype.bind){Function.prototype.bind.call(console.log,console).apply(console,arguments)}return arguments[arguments.length-1]},ht.deprecated=function(t,e){console&&console.warn&&console.warn("nvd3 warning: `"+t+"` has been deprecated. ",e||"")},ht.render=function(i){i=i||1,ht.render.active=!0,ht.dispatch.render_start();var o=function(){for(var t,e,n=0;n<i&&(e=ht.render.queue[n]);n++)t=e.generate(),typeof e.callback==typeof Function&&e.callback(t);ht.render.queue.splice(0,n),ht.render.queue.length?setTimeout(o):(ht.dispatch.render_end(),ht.render.active=!1)};setTimeout(o)},ht.render.active=!1,ht.render.queue=[],ht.addGraph=function(t){typeof t==typeof Function&&(t={generate:t,callback:arguments[1]}),ht.render.queue.push(t),ht.render.active||ht.render()},"undefined"!=typeof module&&"undefined"!=typeof exports&&(module.exports=ht),"undefined"!=typeof window&&(window.nv=ht),ht.dom.write=function(t){return void 0!==window.fastdom?fastdom.mutate(t):t()},ht.dom.read=function(t){return void 0!==window.fastdom?fastdom.measure(t):t()},ht.interactiveGuideline=function(){"use strict";var u={left:0,top:0},o=null,r=null,c=d3.scale.linear(),p=d3.dispatch("elementMousemove","elementMouseout","elementClick","elementDblclick","elementMouseDown","elementMouseUp"),a=!0,h=null,d=ht.models.tooltip(),f=window.ActiveXObject;function g(t){t.each(function(t){var e=d3.select(this),s=o||960,l=r||400,n=e.selectAll("g.nv-wrap.nv-interactiveLineLayer").data([t]);function i(){var t=d3.mouse(this),e=t[0],n=t[1],i=!0,o=!1;if(f&&(e=d3.event.offsetX,n=d3.event.offsetY,"svg"!==d3.event.target.tagName&&(i=!1),d3.event.target.className.baseVal.match("nv-legend")&&(o=!0)),i&&(e-=u.left,n-=u.top),"mouseout"===d3.event.type||e<0||n<0||s<e||l<n||d3.event.relatedTarget&&void 0===d3.event.relatedTarget.ownerSVGElement||o){if(f&&d3.event.relatedTarget&&void 0===d3.event.relatedTarget.ownerSVGElement&&(void 0===d3.event.relatedTarget.className||d3.event.relatedTarget.className.match(d.nvPointerEventsClass)))return;return p.elementMouseout({mouseX:e,mouseY:n}),g.renderGuideLine(null),void d.hidden(!0)}d.hidden(!1);var r=void 0;if("function"==typeof c.rangeBands){var a=d3.bisect(c.range(),e)-1;if(!(c.range()[a]+c.rangeBand()>=e))return p.elementMouseout({mouseX:e,mouseY:n}),g.renderGuideLine(null),void d.hidden(!0);r=c.domain()[d3.bisect(c.range(),e)-1]}else r=c.invert(e);p.elementMousemove({mouseX:e,mouseY:n,pointXValue:r}),"dblclick"===d3.event.type&&p.elementDblclick({mouseX:e,mouseY:n,pointXValue:r}),"click"===d3.event.type&&p.elementClick({mouseX:e,mouseY:n,pointXValue:r}),"mousedown"===d3.event.type&&p.elementMouseDown({mouseX:e,mouseY:n,pointXValue:r}),"mouseup"===d3.event.type&&p.elementMouseUp({mouseX:e,mouseY:n,pointXValue:r})}n.enter().append("g").attr("class"," nv-wrap nv-interactiveLineLayer").append("g").attr("class","nv-interactiveGuideLine"),h&&(h.on("touchmove",i).on("mousemove",i,!0).on("mouseout",i,!0).on("mousedown",i,!0).on("mouseup",i,!0).on("dblclick",i).on("click",i),g.guideLine=null,g.renderGuideLine=function(e){a&&(g.guideLine&&g.guideLine.attr("x1")===e||ht.dom.write(function(){var t=n.select(".nv-interactiveGuideLine").selectAll("line").data(null!=e?[ht.utils.NaNtoZero(e)]:[],String);t.enter().append("line").attr("class","nv-guideline").attr("x1",function(t){return t}).attr("x2",function(t){return t}).attr("y1",l).attr("y2",0),t.exit().remove()}))})})}return d.duration(0).hideDelay(0).hidden(!1),g.dispatch=p,g.tooltip=d,g.margin=function(t){return arguments.length?(u.top=void 0!==t.top?t.top:u.top,u.left=void 0!==t.left?t.left:u.left,g):u},g.width=function(t){return arguments.length?(o=t,g):o},g.height=function(t){return arguments.length?(r=t,g):r},g.xScale=function(t){return arguments.length?(c=t,g):c},g.showGuideLine=function(t){return arguments.length?(a=t,g):a},g.svgContainer=function(t){return arguments.length?(h=t,g):h},g},ht.interactiveBisect=function(t,e,n){"use strict";if(!(t instanceof Array))return null;var i;i="function"!=typeof n?function(t){return t.x}:n;var o=d3.bisector(function(t,e){return i(t)-e}).left,r=d3.max([0,o(t,e)-1]),a=i(t[r]);if(void 0===a&&(a=r),a===e)return r;var s=d3.min([r+1,t.length-1]),l=i(t[s]);return void 0===l&&(l=s),Math.abs(l-e)>=Math.abs(a-e)?r:s},ht.nearestValueIndex=function(t,i,o){"use strict";var r=1/0,a=null;return t.forEach(function(t,e){var n=Math.abs(i-t);null!=t&&n<=r&&n<o&&(r=n,a=e)}),a},ht.models.tooltip=function(){"use strict";var e="nvtooltip-"+Math.floor(1e5*Math.random()),n=null,l="w",u=25,i=0,o=null,c=!0,p=200,h=null,d={left:null,top:null},r=!0,f=100,a=!0,s="nv-pointer-events-none",g=function(t,e){return t},m=function(t){return t},v=function(t,e){return t},y=function(t){if(null===t)return"";var e=d3.select(document.createElement("table"));a&&e.selectAll("thead").data([t]).enter().append("thead").append("tr").append("td").attr("colspan",3).append("strong").classed("x-value",!0).html(m(t.value));var n=e.selectAll("tbody").data([t]).enter().append("tbody").selectAll("tr").data(function(t){return t.series}).enter().append("tr").classed("highlight",function(t){return t.highlight});n.append("td").classed("legend-color-guide",!0).append("div").style("background-color",function(t){return t.color}),n.append("td").classed("key",!0).classed("total",function(t){return!!t.total}).html(function(t,e){return v(t.key,e)}),n.append("td").classed("value",!0).html(function(t,e){return g(t.value,e)}),n.filter(function(t,e){return void 0!==t.percent}).append("td").classed("percent",!0).html(function(t,e){return"("+d3.format("%")(t.percent)+")"}),n.selectAll("td").each(function(t){if(t.highlight){var e=d3.scale.linear().domain([0,1]).range(["#fff",t.color]);d3.select(this).style("border-bottom-color",e(.6)).style("border-top-color",e(.6))}});var i=e.node().outerHTML;return void 0!==t.footer&&(i+="<div class='footer'>"+t.footer+"</div>"),i},b=function(){var t={left:null!==d3.event?d3.event.clientX:0,top:null!==d3.event?d3.event.clientY:0};if("none"!=getComputedStyle(document.body).transform){var e=document.body.getBoundingClientRect();t.left-=e.left,t.top-=e.top}return t},t=function(t){if(t&&t.series){if(ht.utils.isArray(t.series))return!0;if(ht.utils.isObject(t.series))return t.series=[t.series],!0}return!1},w=function(){ht.dom.read(function(){var t=b(),e=function(t){var e,n,i,o=h.node().offsetHeight,r=h.node().offsetWidth,a=document.documentElement.clientWidth,s=document.documentElement.clientHeight;switch(l){case"e":e=-r-u,n=-o/2,t.left+e<0&&(e=u),(i=t.top+n)<0&&(n-=i),(i=t.top+n+o)>s&&(n-=i-s);break;case"w":e=u,n=-o/2,t.left+e+r>a&&(e=-r-u),(i=t.top+n)<0&&(n-=i),(i=t.top+n+o)>s&&(n-=i-s);break;case"n":e=-r/2-5,n=u,t.top+n+o>s&&(n=-o-u),(i=t.left+e)<0&&(e-=i),(i=t.left+e+r)>a&&(e-=i-a);break;case"s":e=-r/2,n=-o-u,t.top+n<0&&(n=u),(i=t.left+e)<0&&(e-=i),(i=t.left+e+r)>a&&(e-=i-a);break;case"center":e=-r/2,n=-o/2;break;default:n=e=0}return{left:e,top:n}}(t),n=t.left+e.left,i=t.top+e.top;if(c)h.interrupt().transition().delay(p).duration(0).style("opacity",0);else{var o="translate("+d.left+"px, "+d.top+"px)",r="translate("+Math.round(n)+"px, "+Math.round(i)+"px)",a=d3.interpolateString(o,r),s=h.style("opacity")<.1;h.interrupt().transition().duration(s?0:f).styleTween("transform",function(t){return a},"important").styleTween("-webkit-transform",function(t){return a}).style("-ms-transform",r).style("opacity",1)}d.left=n,d.top=i})};function x(){if(r&&t(n))return ht.dom.write(function(){h&&h.node()||((h=d3.select(document.body).selectAll(".nvtooltip").data([1])).enter().append("div").attr("class","nvtooltip "+(o||"xy-tooltip")).attr("id",e).style("top",0).style("left",0).style("opacity",0).style("position","fixed").selectAll("div, table, td, tr").classed(s,!0).classed(s,!0),h.exit().remove());var t=y(n);t&&(h.node().innerHTML=t),w()}),x}return x.nvPointerEventsClass=s,x.options=ht.utils.optionsFunc.bind(x),x._options=Object.create({},{duration:{get:function(){return f},set:function(t){f=t}},gravity:{get:function(){return l},set:function(t){l=t}},distance:{get:function(){return u},set:function(t){u=t}},snapDistance:{get:function(){return i},set:function(t){i=t}},classes:{get:function(){return o},set:function(t){o=t}},enabled:{get:function(){return r},set:function(t){r=t}},hideDelay:{get:function(){return p},set:function(t){p=t}},contentGenerator:{get:function(){return y},set:function(t){y=t}},valueFormatter:{get:function(){return g},set:function(t){g=t}},headerFormatter:{get:function(){return m},set:function(t){m=t}},keyFormatter:{get:function(){return v},set:function(t){v=t}},headerEnabled:{get:function(){return a},set:function(t){a=t}},position:{get:function(){return b},set:function(t){b=t}},chartContainer:{get:function(){return document.body},set:function(t){ht.deprecated("chartContainer","feature removed after 1.8.3")}},fixedTop:{get:function(){return null},set:function(t){ht.deprecated("fixedTop","feature removed after 1.8.1")}},offset:{get:function(){return{left:0,top:0}},set:function(t){ht.deprecated("offset","use chart.tooltip.distance() instead")}},hidden:{get:function(){return c},set:function(t){c!=t&&(c=!!t,x())}},data:{get:function(){return n},set:function(t){t.point&&(t.value=t.point.x,t.series=t.series||{},t.series.value=t.point.y,t.series.color=t.point.color||t.series.color),n=t}},node:{get:function(){return h.node()},set:function(t){}},id:{get:function(){return e},set:function(t){}}}),ht.utils.initOptions(x),x},ht.utils.windowSize=function(){var t={width:640,height:480};return window.innerWidth&&window.innerHeight?(t.width=window.innerWidth,t.height=window.innerHeight):"CSS1Compat"==document.compatMode&&document.documentElement&&document.documentElement.offsetWidth?(t.width=document.documentElement.offsetWidth,t.height=document.documentElement.offsetHeight):document.body&&document.body.offsetWidth&&(t.width=document.body.offsetWidth,t.height=document.body.offsetHeight),t},ht.utils.isArray=Array.isArray,ht.utils.isObject=function(t){return null!==t&&"object"==typeof t},ht.utils.isFunction=function(t){return"function"==typeof t},ht.utils.isDate=function(t){return"[object Date]"===toString.call(t)},ht.utils.isNumber=function(t){return!isNaN(t)&&"number"==typeof t},ht.utils.windowResize=function(t){return window.addEventListener?window.addEventListener("resize",t):ht.log("ERROR: Failed to bind to window.resize with: ",t),{callback:t,clear:function(){window.removeEventListener("resize",t)}}},ht.utils.getColor=function(t){if(void 0===t)return ht.utils.defaultColor();if(ht.utils.isArray(t)){var i=d3.scale.ordinal().range(t);return function(t,e){var n=void 0===e?t:e;return t.color||i(n)}}return t},ht.utils.defaultColor=function(){return ht.utils.getColor(d3.scale.category20().range())},ht.utils.customTheme=function(i,o,r){o=o||function(t){return t.key};var a=(r=r||d3.scale.category20().range()).length;return function(t,e){var n=o(t);return ht.utils.isFunction(i[n])?i[n]():void 0!==i[n]?i[n]:(a||(a=r.length),r[a-=1])}},ht.utils.pjax=function(n,i){var t=function(t){d3.html(t,function(t){var e=d3.select(i).node();e.parentNode.replaceChild(d3.select(t).select(i).node(),e),ht.utils.pjax(n,i)})};d3.selectAll(n).on("click",function(){history.pushState(this.href,this.textContent,this.href),t(this.href),d3.event.preventDefault()}),d3.select(window).on("popstate",function(){d3.event.state&&t(d3.event.state)})},ht.utils.calcApproxTextWidth=function(t){if(ht.utils.isFunction(t.style)&&ht.utils.isFunction(t.text)){var e=parseInt(t.style("font-size").replace("px",""),10),n=t.text().length;return ht.utils.NaNtoZero(n*e*.5)}return 0},ht.utils.NaNtoZero=function(t){return!ht.utils.isNumber(t)||isNaN(t)||null===t||t===1/0||t===-1/0?0:t},d3.selection.prototype.watchTransition=function(t){var e=[this].concat([].slice.call(arguments,1));return t.transition.apply(t,e)},ht.utils.renderWatch=function(t,e){if(!(this instanceof ht.utils.renderWatch))return new ht.utils.renderWatch(t,e);var r=void 0!==e?e:250,a=[],s=this;this.models=function(t){return(t=[].slice.call(arguments,0)).forEach(function(t){var e;t.__rendered=!1,(e=t).dispatch.on("renderEnd",function(t){e.__rendered=!0,s.renderEnd("model")}),a.indexOf(t)<0&&a.push(t)}),this},this.reset=function(t){void 0!==t&&(r=t),a=[]},this.transition=function(n,i,t){if(t=1<(i=1<arguments.length?[].slice.call(arguments,1):[]).length?i.pop():void 0!==r?r:250,n.__rendered=!1,a.indexOf(n)<0&&a.push(n),0===t)return n.__rendered=!0,n.delay=function(){return this},n.duration=function(){return this},n;0===n.length?n.__rendered=!0:n.every(function(t){return!t.length})?n.__rendered=!0:n.__rendered=!1;var o=0;return n.transition().duration(t).each(function(){++o}).each("end",function(t,e){0==--o&&(n.__rendered=!0,s.renderEnd.apply(this,i))})},this.renderEnd=function(){a.every(function(t){return t.__rendered})&&(a.forEach(function(t){t.__rendered=!1}),t.renderEnd.apply(this,arguments))}},ht.utils.deepExtend=function(r){(1<arguments.length?[].slice.call(arguments,1):[]).forEach(function(t){for(var e in t){var n=ht.utils.isArray(r[e]),i=ht.utils.isObject(r[e]),o=ht.utils.isObject(t[e]);i&&!n&&o?ht.utils.deepExtend(r[e],t[e]):r[e]=t[e]}})},ht.utils.state=function(){if(!(this instanceof ht.utils.state))return new ht.utils.state;var n={},e=function(){},i=function(){return{}},o=null;this.dispatch=d3.dispatch("change","set"),this.dispatch.on("set",function(t){e(t,!0)}),this.getter=function(t){return i=t,this},this.setter=function(n,i){return i||(i=function(){}),e=function(t,e){n(t),e&&i()},this},this.init=function(t){o=o||{},ht.utils.deepExtend(o,t)};this.update=function(){o&&(e(o,!1),o=null),function(){var t=i();if(JSON.stringify(t)===JSON.stringify(n))return!1;for(var e in t)void 0===n[e]&&(n[e]={}),n[e]=t[e],!0;return!0}.call(this)&&this.dispatch.change(n)}},ht.utils.optionsFunc=function(t){return t&&d3.map(t).forEach(function(t,e){ht.utils.isFunction(this[t])&&this[t](e)}.bind(this)),this},ht.utils.calcTicksX=function(t,e){for(var n=1,i=0;i<e.length;i+=1){var o=e[i]&&e[i].values?e[i].values.length:0;n=n<o?o:n}return ht.log("Requested number of ticks: ",t),ht.log("Calculated max values to be: ",n),t=(t=n<t?t=n-1:t)<1?1:t,t=Math.floor(t),ht.log("Calculating tick count as: ",t),t},ht.utils.calcTicksY=function(t,e){return ht.utils.calcTicksX(t,e)},ht.utils.initOption=function(e,n){e._calls&&e._calls[n]?e[n]=e._calls[n]:(e[n]=function(t){return arguments.length?(e._overrides[n]=!0,e._options[n]=t,e):e._options[n]},e["_"+n]=function(t){return arguments.length?(e._overrides[n]||(e._options[n]=t),e):e._options[n]})},ht.utils.initOptions=function(t){t._overrides=t._overrides||{};var e=Object.getOwnPropertyNames(t._options||{}),n=Object.getOwnPropertyNames(t._calls||{});for(var i in e=e.concat(n))ht.utils.initOption(t,e[i])},ht.utils.inheritOptionsD3=function(t,e,n){t._d3options=n.concat(t._d3options||[]),n.unshift(e),n.unshift(t),d3.rebind.apply(this,n)},ht.utils.arrayUnique=function(n){return n.sort().filter(function(t,e){return!e||t!=n[e-1]})},ht.utils.symbolMap=d3.map(),ht.utils.symbol=function(){var o,r=64;function e(t,e){var n=o.call(this,t,e),i=r.call(this,t,e);return-1!==d3.svg.symbolTypes.indexOf(n)?d3.svg.symbol().type(n).size(i)():ht.utils.symbolMap.get(n)(i)}return e.type=function(t){return arguments.length?(o=d3.functor(t),e):o},e.size=function(t){return arguments.length?(r=d3.functor(t),e):r},e},ht.utils.inheritOptions=function(t,e){var n=Object.getOwnPropertyNames(e._options||{}),i=Object.getOwnPropertyNames(e._calls||{}),o=e._inherited||[],r=e._d3options||[],a=n.concat(i).concat(o).concat(r);a.unshift(e),a.unshift(t),d3.rebind.apply(this,a),t._inherited=ht.utils.arrayUnique(n.concat(i).concat(o).concat(n).concat(t._inherited||[])),t._d3options=ht.utils.arrayUnique(r.concat(t._d3options||[]))},ht.utils.initSVG=function(t){t.classed({"nvd3-svg":!0})},ht.utils.sanitizeHeight=function(t,e){return t||parseInt(e.style("height"),10)||400},ht.utils.sanitizeWidth=function(t,e){return t||parseInt(e.style("width"),10)||960},ht.utils.availableHeight=function(t,e,n){return Math.max(0,ht.utils.sanitizeHeight(t,e)-n.top-n.bottom)},ht.utils.availableWidth=function(t,e,n){return Math.max(0,ht.utils.sanitizeWidth(t,e)-n.left-n.right)},ht.utils.noData=function(t,e){var n=t.options(),i=n.margin(),o=n.noData(),r=null==o?["No Data Available."]:[o],a=ht.utils.availableHeight(null,e,i),s=ht.utils.availableWidth(null,e,i),l=i.left+s/2,u=i.top+a/2;e.selectAll("g").remove();var c=e.selectAll(".nv-noData").data(r);c.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle"),c.attr("x",l).attr("y",u).text(function(t){return t})},ht.utils.wrapTicks=function(t,l){t.each(function(){for(var t,e=d3.select(this),n=e.text().split(/\s+/).reverse(),i=[],o=0,r=e.attr("y"),a=parseFloat(e.attr("dy")),s=e.text(null).append("tspan").attr("x",0).attr("y",r).attr("dy",a+"em");t=n.pop();)i.push(t),s.text(i.join(" ")),s.node().getComputedTextLength()>l&&(i.pop(),s.text(i.join(" ")),i=[t],s=e.append("tspan").attr("x",0).attr("y",r).attr("dy",1.1*++o+a+"em").text(t))})},ht.utils.arrayEquals=function(t,e){if(t===e)return!0;if(!t||!e)return!1;if(t.length!=e.length)return!1;for(var n=0,i=t.length;n<i;n++)if(t[n]instanceof Array&&e[n]instanceof Array){if(!ht.arrayEquals(t[n],e[n]))return!1}else if(t[n]!=e[n])return!1;return!0},ht.models.axis=function(){"use strict";var g,m=d3.svg.axis(),v=d3.scale.linear(),y={top:0,right:0,bottom:0,left:0},b=75,e=60,w=null,x=!0,$=0,_=!0,k=!1,C=!1,S=null,T=0,A=void 0,n=250,t=d3.dispatch("renderEnd");m.scale(v).orient("bottom").tickFormat(function(t){return t});var D=ht.utils.renderWatch(t,n);function i(t){return D.reset(),t.each(function(t){var e=d3.select(this);ht.utils.initSVG(e);var n=e.selectAll("g.nv-wrap.nv-axis").data([t]),i=(n.enter().append("g").attr("class","nvd3 nv-wrap nv-axis").append("g"),n.select("g"));null!==S?m.ticks(S):"top"!=m.orient()&&"bottom"!=m.orient()||m.ticks(Math.abs(v.range()[1]-v.range()[0])/100),i.watchTransition(D,"axis").call(m),g=g||m.scale();var o=m.tickFormat();null==o&&(o=g.tickFormat());var r,a,s,l=i.selectAll("text.nv-axislabel").data([w||null]);switch(l.exit().remove(),void 0!==A&&i.selectAll("g").select("text").style("font-size",A),m.orient()){case"top":l.enter().append("text").attr("class","nv-axislabel"),s=0,1===v.range().length?s=C?2*v.range()[0]+v.rangeBand():0:2===v.range().length?s=C?v.range()[0]+v.range()[1]+v.rangeBand():v.range()[1]:2<v.range().length&&(s=v.range()[v.range().length-1]+(v.range()[1]-v.range()[0])),l.attr("text-anchor","middle").attr("y",0).attr("x",s/2),x&&((a=n.selectAll("g.nv-axisMaxMin").data(v.domain())).enter().append("g").attr("class",function(t,e){return["nv-axisMaxMin","nv-axisMaxMin-x",0==e?"nv-axisMin-x":"nv-axisMax-x"].join(" ")}).append("text"),a.exit().remove(),a.attr("transform",function(t,e){return"translate("+ht.utils.NaNtoZero(v(t))+",0)"}).select("text").attr("dy","-0.5em").attr("y",-m.tickPadding()).attr("text-anchor","middle").text(function(t,e){var n=o(t);return(""+n).match("NaN")?"":n}),a.watchTransition(D,"min-max top").attr("transform",function(t,e){return"translate("+ht.utils.NaNtoZero(v.range()[e])+",0)"}));break;case"bottom":r=T+36;var u=30,c=0,p=i.selectAll("g").select("text"),h="";if($%360){p.attr("transform",""),p.each(function(t,e){var n=this.getBoundingClientRect(),i=n.width;c=n.height,u<i&&(u=i)}),h="rotate("+$+" 0,"+(c/2+m.tickPadding())+")";var d=Math.abs(Math.sin($*Math.PI/180));r=(d?d*u:u)+30,p.attr("transform",h).style("text-anchor",0<$%360?"start":"end")}else k?p.attr("transform",function(t,e){return"translate(0,"+(e%2==0?"0":"12")+")"}):p.attr("transform","translate(0,0)");l.enter().append("text").attr("class","nv-axislabel"),s=0,1===v.range().length?s=C?2*v.range()[0]+v.rangeBand():0:2===v.range().length?s=C?v.range()[0]+v.range()[1]+v.rangeBand():v.range()[1]:2<v.range().length&&(s=v.range()[v.range().length-1]+(v.range()[1]-v.range()[0])),l.attr("text-anchor","middle").attr("y",r).attr("x",s/2),x&&((a=n.selectAll("g.nv-axisMaxMin").data([v.domain()[0],v.domain()[v.domain().length-1]])).enter().append("g").attr("class",function(t,e){return["nv-axisMaxMin","nv-axisMaxMin-x",0==e?"nv-axisMin-x":"nv-axisMax-x"].join(" ")}).append("text"),a.exit().remove(),a.attr("transform",function(t,e){return"translate("+ht.utils.NaNtoZero(v(t)+(C?v.rangeBand()/2:0))+",0)"}).select("text").attr("dy",".71em").attr("y",m.tickPadding()).attr("transform",h).style("text-anchor",$?0<$%360?"start":"end":"middle").text(function(t,e){var n=o(t);return(""+n).match("NaN")?"":n}),a.watchTransition(D,"min-max bottom").attr("transform",function(t,e){return"translate("+ht.utils.NaNtoZero(v(t)+(C?v.rangeBand()/2:0))+",0)"}));break;case"right":l.enter().append("text").attr("class","nv-axislabel"),l.style("text-anchor",_?"middle":"begin").attr("transform",_?"rotate(90)":"").attr("y",_?12-Math.max(y.right,b)-(T||0):-10).attr("x",_?d3.max(v.range())/2:m.tickPadding()),x&&((a=n.selectAll("g.nv-axisMaxMin").data(v.domain())).enter().append("g").attr("class",function(t,e){return["nv-axisMaxMin","nv-axisMaxMin-y",0==e?"nv-axisMin-y":"nv-axisMax-y"].join(" ")}).append("text").style("opacity",0),a.exit().remove(),a.attr("transform",function(t,e){return"translate(0,"+ht.utils.NaNtoZero(v(t))+")"}).select("text").attr("dy",".32em").attr("y",0).attr("x",m.tickPadding()).style("text-anchor","start").text(function(t,e){var n=o(t);return(""+n).match("NaN")?"":n}),a.watchTransition(D,"min-max right").attr("transform",function(t,e){return"translate(0,"+ht.utils.NaNtoZero(v.range()[e])+")"}).select("text").style("opacity",1));break;case"left":l.enter().append("text").attr("class","nv-axislabel"),l.style("text-anchor",_?"middle":"end").attr("transform",_?"rotate(-90)":"").attr("y",_?25-Math.max(y.left,b)-(T||0):-10).attr("x",_?-d3.max(v.range())/2:-m.tickPadding()),x&&((a=n.selectAll("g.nv-axisMaxMin").data(v.domain())).enter().append("g").attr("class",function(t,e){return["nv-axisMaxMin","nv-axisMaxMin-y",0==e?"nv-axisMin-y":"nv-axisMax-y"].join(" ")}).append("text").style("opacity",0),a.exit().remove(),a.attr("transform",function(t,e){return"translate(0,"+ht.utils.NaNtoZero(g(t))+")"}).select("text").attr("dy",".32em").attr("y",0).attr("x",-m.tickPadding()).attr("text-anchor","end").text(function(t,e){var n=o(t);return(""+n).match("NaN")?"":n}),a.watchTransition(D,"min-max right").attr("transform",function(t,e){return"translate(0,"+ht.utils.NaNtoZero(v.range()[e])+")"}).select("text").style("opacity",1))}if(l.text(function(t){return t}),!x||"left"!==m.orient()&&"right"!==m.orient()||(i.selectAll("g").each(function(t,e){d3.select(this).select("text").attr("opacity",1),(v(t)<v.range()[1]+10||v(t)>v.range()[0]-10)&&((1e-10<t||t<-1e-10)&&d3.select(this).attr("opacity",0),d3.select(this).select("text").attr("opacity",0))}),v.domain()[0]==v.domain()[1]&&0==v.domain()[0]&&n.selectAll("g.nv-axisMaxMin").style("opacity",function(t,e){return e?0:1})),x&&("top"===m.orient()||"bottom"===m.orient())){var f=[];n.selectAll("g.nv-axisMaxMin").each(function(e,n){try{n?f.push(v(e)-this.getBoundingClientRect().width-4):f.push(v(e)+this.getBoundingClientRect().width+4)}catch(t){n?f.push(v(e)-4):f.push(v(e)+4)}}),i.selectAll("g").each(function(t,e){(v(t)<f[0]||v(t)>f[1])&&(1e-10<t||t<-1e-10?d3.select(this).remove():d3.select(this).select("text").remove())})}i.selectAll(".tick").filter(function(t){return!parseFloat(Math.round(1e5*t)/1e6)&&void 0!==t}).classed("zero",!0),g=v.copy()}),D.renderEnd("axis immediate"),i}return i.axis=m,i.dispatch=t,i.options=ht.utils.optionsFunc.bind(i),i._options=Object.create({},{axisLabelDistance:{get:function(){return T},set:function(t){T=t}},staggerLabels:{get:function(){return k},set:function(t){k=t}},rotateLabels:{get:function(){return $},set:function(t){$=t}},rotateYLabel:{get:function(){return _},set:function(t){_=t}},showMaxMin:{get:function(){return x},set:function(t){x=t}},axisLabel:{get:function(){return w},set:function(t){w=t}},height:{get:function(){return e},set:function(t){e=t}},ticks:{get:function(){return S},set:function(t){S=t}},width:{get:function(){return b},set:function(t){b=t}},fontSize:{get:function(){return A},set:function(t){A=t}},margin:{get:function(){return y},set:function(t){y.top=void 0!==t.top?t.top:y.top,y.right=void 0!==t.right?t.right:y.right,y.bottom=void 0!==t.bottom?t.bottom:y.bottom,y.left=void 0!==t.left?t.left:y.left}},duration:{get:function(){return n},set:function(t){n=t,D.reset(n)}},scale:{get:function(){return v},set:function(t){v=t,m.scale(v),C="function"==typeof v.rangeBands,ht.utils.inheritOptionsD3(i,v,["domain","range","rangeBand","rangeBands"])}}}),ht.utils.initOptions(i),ht.utils.inheritOptionsD3(i,m,["orient","tickValues","tickSubdivide","tickSize","tickPadding","tickFormat"]),ht.utils.inheritOptionsD3(i,v,["domain","range","rangeBand","rangeBands"]),i},ht.models.boxPlot=function(){"use strict";var h,d,f,g,m,v,y={top:0,right:0,bottom:0,left:0},b=960,w=500,e=Math.floor(1e4*Math.random()),x=d3.scale.ordinal(),$=d3.scale.linear(),_=function(t){return t.label},k=function(t){return t.values.Q1},C=function(t){return t.values.Q2},S=function(t){return t.values.Q3},T=function(t){return t.values.whisker_low},A=function(t){return t.values.whisker_high},D=function(t){return t.color},M=function(t){return t.values.outliers},E=function(t,e,n){return t},P=function(t,e,n){return t},O=function(t,e,n){},I=ht.utils.defaultColor(),R=null,L=d3.dispatch("elementMouseover","elementMouseout","elementMousemove","renderEnd"),F=250,N=null,j=ht.utils.renderWatch(L,F);function n(t){return j.reset(),t.each(function(n){var t=b-y.left-y.right,e=w-y.top-y.bottom;R=d3.select(this),ht.utils.initSVG(R),x.domain(h||n.map(function(t,e){return _(t,e)})).rangeBands(d||[0,t],.1);var i=[];if(!f){var s=[];n.forEach(function(t,e){var n=k(t),i=S(t),o=T(t),r=A(t),a=M(t);a&&a.forEach(function(t,e){s.push(E(t,e,void 0))}),o&&s.push(o),n&&s.push(n),i&&s.push(i),r&&s.push(r)}),i=[d3.min(s),d3.max(s)]}$.domain(f||i),$.range(g||[e,0]),m=m||x,v=v||$.copy().range([$(0),$(0)]);var o=R.selectAll("g.nv-wrap").data([n]);o.enter().append("g").attr("class","nvd3 nv-wrap");o.attr("transform","translate("+y.left+","+y.top+")");var r=o.selectAll(".nv-boxplot").data(function(t){return t}),a=r.enter().append("g").style("stroke-opacity",1e-6).style("fill-opacity",1e-6);r.attr("class","nv-boxplot").attr("transform",function(t,e,n){return"translate("+(x(_(t,e))+.05*x.rangeBand())+", 0)"}).classed("hover",function(t){return t.hover}),r.watchTransition(j,"nv-boxplot: boxplots").style("stroke-opacity",1).style("fill-opacity",.75).delay(function(t,e){return e*F/n.length}).attr("transform",function(t,e){return"translate("+(x(_(t,e))+.05*x.rangeBand())+", 0)"}),r.exit().remove(),a.each(function(n,i){var o=d3.select(this);[T,A].forEach(function(t){if(t(n)){var e=t===T?"low":"high";o.append("line").style("stroke",D(n)||I(n,i)).attr("class","nv-boxplot-whisker nv-boxplot-"+e),o.append("line").style("stroke",D(n)||I(n,i)).attr("class","nv-boxplot-tick nv-boxplot-"+e)}})});var l=function(){return null===N?.9*x.rangeBand():Math.min(75,.9*x.rangeBand())},u=function(){return.45*x.rangeBand()-l()/2},c=function(){return.45*x.rangeBand()+l()/2};[T,A].forEach(function(n){var t=n===T?"low":"high",i=n===T?k:S;r.select("line.nv-boxplot-whisker.nv-boxplot-"+t).watchTransition(j,"nv-boxplot: boxplots").attr("x1",.45*x.rangeBand()).attr("y1",function(t,e){return $(n(t))}).attr("x2",.45*x.rangeBand()).attr("y2",function(t,e){return $(i(t))}),r.select("line.nv-boxplot-tick.nv-boxplot-"+t).watchTransition(j,"nv-boxplot: boxplots").attr("x1",u).attr("y1",function(t,e){return $(n(t))}).attr("x2",c).attr("y2",function(t,e){return $(n(t))})}),[T,A].forEach(function(i){var t=i===T?"low":"high";a.selectAll(".nv-boxplot-"+t).on("mouseover",function(t,e,n){d3.select(this).classed("hover",!0),L.elementMouseover({series:{key:i(t),color:D(t)||I(t,n)},e:d3.event})}).on("mouseout",function(t,e,n){d3.select(this).classed("hover",!1),L.elementMouseout({series:{key:i(t),color:D(t)||I(t,n)},e:d3.event})}).on("mousemove",function(t,e){L.elementMousemove({e:d3.event})})}),a.append("rect").attr("class","nv-boxplot-box").on("mouseover",function(t,e){d3.select(this).classed("hover",!0),L.elementMouseover({key:_(t),value:_(t),series:[{key:"Q3",value:S(t),color:D(t)||I(t,e)},{key:"Q2",value:C(t),color:D(t)||I(t,e)},{key:"Q1",value:k(t),color:D(t)||I(t,e)}],data:t,index:e,e:d3.event})}).on("mouseout",function(t,e){d3.select(this).classed("hover",!1),L.elementMouseout({key:_(t),value:_(t),series:[{key:"Q3",value:S(t),color:D(t)||I(t,e)},{key:"Q2",value:C(t),color:D(t)||I(t,e)},{key:"Q1",value:k(t),color:D(t)||I(t,e)}],data:t,index:e,e:d3.event})}).on("mousemove",function(t,e){L.elementMousemove({e:d3.event})}),r.select("rect.nv-boxplot-box").watchTransition(j,"nv-boxplot: boxes").attr("y",function(t,e){return $(S(t))}).attr("width",l).attr("x",u).attr("height",function(t,e){return Math.abs($(S(t))-$(k(t)))||1}).style("fill",function(t,e){return D(t)||I(t,e)}).style("stroke",function(t,e){return D(t)||I(t,e)}),a.append("line").attr("class","nv-boxplot-median"),r.select("line.nv-boxplot-median").watchTransition(j,"nv-boxplot: boxplots line").attr("x1",u).attr("y1",function(t,e){return $(C(t))}).attr("x2",c).attr("y2",function(t,e){return $(C(t))});var p=r.selectAll(".nv-boxplot-outlier").data(function(t){return M(t)||[]});p.enter().append("circle").style("fill",function(t,e,n){return O(t,e,n)||I(t,n)}).style("stroke",function(t,e,n){return O(t,e,n)||I(t,n)}).style("z-index",9e3).on("mouseover",function(t,e,n){d3.select(this).classed("hover",!0),L.elementMouseover({series:{key:P(t,e,n),color:O(t,e,n)||I(t,n)},e:d3.event})}).on("mouseout",function(t,e,n){d3.select(this).classed("hover",!1),L.elementMouseout({series:{key:P(t,e,n),color:O(t,e,n)||I(t,n)},e:d3.event})}).on("mousemove",function(t,e){L.elementMousemove({e:d3.event})}),p.attr("class","nv-boxplot-outlier"),p.watchTransition(j,"nv-boxplot: nv-boxplot-outlier").attr("cx",.45*x.rangeBand()).attr("cy",function(t,e,n){return $(E(t,e,n))}).attr("r","3"),p.exit().remove(),m=x.copy(),v=$.copy()}),j.renderEnd("nv-boxplot immediate"),n}return n.dispatch=L,n.options=ht.utils.optionsFunc.bind(n),n._options=Object.create({},{width:{get:function(){return b},set:function(t){b=t}},height:{get:function(){return w},set:function(t){w=t}},maxBoxWidth:{get:function(){return N},set:function(t){N=t}},x:{get:function(){return _},set:function(t){_=t}},q1:{get:function(){return k},set:function(t){k=t}},q2:{get:function(){return C},set:function(t){C=t}},q3:{get:function(){return S},set:function(t){S=t}},wl:{get:function(){return T},set:function(t){T=t}},wh:{get:function(){return A},set:function(t){A=t}},itemColor:{get:function(){return D},set:function(t){D=t}},outliers:{get:function(){return M},set:function(t){M=t}},outlierValue:{get:function(){return E},set:function(t){E=t}},outlierLabel:{get:function(){return P},set:function(t){P=t}},outlierColor:{get:function(){return O},set:function(t){O=t}},xScale:{get:function(){return x},set:function(t){x=t}},yScale:{get:function(){return $},set:function(t){$=t}},xDomain:{get:function(){return h},set:function(t){h=t}},yDomain:{get:function(){return f},set:function(t){f=t}},xRange:{get:function(){return d},set:function(t){d=t}},yRange:{get:function(){return g},set:function(t){g=t}},id:{get:function(){return e},set:function(t){e=t}},y:{get:function(){return console.warn("BoxPlot 'y' chart option is deprecated. Please use model overrides instead."),{}},set:function(t){console.warn("BoxPlot 'y' chart option is deprecated. Please use model overrides instead.")}},margin:{get:function(){return y},set:function(t){y.top=void 0!==t.top?t.top:y.top,y.right=void 0!==t.right?t.right:y.right,y.bottom=void 0!==t.bottom?t.bottom:y.bottom,y.left=void 0!==t.left?t.left:y.left}},color:{get:function(){return I},set:function(t){I=ht.utils.getColor(t)}},duration:{get:function(){return F},set:function(t){F=t,j.reset(F)}}}),ht.utils.initOptions(n),n},ht.models.boxPlotChart=function(){"use strict";var c,p,h=ht.models.boxPlot(),d=ht.models.axis(),f=ht.models.axis(),g={top:15,right:10,bottom:50,left:60},m=null,v=null,e=ht.utils.getColor(),y=!0,b=!0,w=!1,x=!1,n=ht.models.tooltip(),$="No Data Available.",_=d3.dispatch("beforeUpdate","renderEnd"),k=250;d.orient("bottom").showMaxMin(!1).tickFormat(function(t){return t}),f.orient(w?"right":"left").tickFormat(d3.format(",.1f")),n.duration(0);var i=ht.utils.renderWatch(_,k);function C(t){return i.reset(),i.models(h),y&&i.models(d),b&&i.models(f),t.each(function(t){var e=d3.select(this);ht.utils.initSVG(e);var n=(m||parseInt(e.style("width"))||960)-g.left-g.right,i=(v||parseInt(e.style("height"))||400)-g.top-g.bottom;if(C.update=function(){_.beforeUpdate(),e.transition().duration(k).call(C)},C.container=this,!t||!t.length){var o=e.selectAll(".nv-noData").data([$]);return o.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle"),o.attr("x",g.left+n/2).attr("y",g.top+i/2).text(function(t){return t}),C}e.selectAll(".nv-noData").remove(),c=h.xScale(),p=h.yScale().clamp(!0);var r=e.selectAll("g.nv-wrap.nv-boxPlotWithAxes").data([t]),a=r.enter().append("g").attr("class","nvd3 nv-wrap nv-boxPlotWithAxes").append("g"),s=a.append("defs"),l=r.select("g");if(a.append("g").attr("class","nv-x nv-axis"),a.append("g").attr("class","nv-y nv-axis").append("g").attr("class","nv-zeroLine").append("line"),a.append("g").attr("class","nv-barsWrap"),l.attr("transform","translate("+g.left+","+g.top+")"),w&&l.select(".nv-y.nv-axis").attr("transform","translate("+n+",0)"),h.width(n).height(i),l.select(".nv-barsWrap").datum(t.filter(function(t){return!t.disabled})).transition().call(h),s.append("clipPath").attr("id","nv-x-label-clip-"+h.id()).append("rect"),l.select("#nv-x-label-clip-"+h.id()+" rect").attr("width",c.rangeBand()*(x?2:1)).attr("height",16).attr("x",-c.rangeBand()/(x?1:2)),y){d.scale(c).ticks(ht.utils.calcTicksX(n/100,t)).tickSize(-i,0),l.select(".nv-x.nv-axis").attr("transform","translate(0,"+p.range()[0]+")"),l.select(".nv-x.nv-axis").call(d);var u=l.select(".nv-x.nv-axis").selectAll("g");x&&u.selectAll("text").attr("transform",function(t,e,n){return"translate(0,"+(n%2==0?"5":"17")+")"})}b&&(f.scale(p).ticks(Math.floor(i/36)).tickSize(-n,0),l.select(".nv-y.nv-axis").call(f)),l.select(".nv-zeroLine line").attr("x1",0).attr("x2",n).attr("y1",p(0)).attr("y2",p(0))}),i.renderEnd("nv-boxplot chart immediate"),C}return h.dispatch.on("elementMouseover.tooltip",function(t){n.data(t).hidden(!1)}),h.dispatch.on("elementMouseout.tooltip",function(t){n.data(t).hidden(!0)}),h.dispatch.on("elementMousemove.tooltip",function(t){n()}),C.dispatch=_,C.boxplot=h,C.xAxis=d,C.yAxis=f,C.tooltip=n,C.options=ht.utils.optionsFunc.bind(C),C._options=Object.create({},{width:{get:function(){return m},set:function(t){m=t}},height:{get:function(){return v},set:function(t){v=t}},staggerLabels:{get:function(){return x},set:function(t){x=t}},showXAxis:{get:function(){return y},set:function(t){y=t}},showYAxis:{get:function(){return b},set:function(t){b=t}},tooltipContent:{get:function(){return n},set:function(t){n=t}},noData:{get:function(){return $},set:function(t){$=t}},margin:{get:function(){return g},set:function(t){g.top=void 0!==t.top?t.top:g.top,g.right=void 0!==t.right?t.right:g.right,g.bottom=void 0!==t.bottom?t.bottom:g.bottom,g.left=void 0!==t.left?t.left:g.left}},duration:{get:function(){return k},set:function(t){k=t,i.reset(k),h.duration(k),d.duration(k),f.duration(k)}},color:{get:function(){return e},set:function(t){e=ht.utils.getColor(t),h.color(e)}},rightAlignYAxis:{get:function(){return w},set:function(t){w=t,f.orient(t?"right":"left")}}}),ht.utils.inheritOptions(C,h),ht.utils.initOptions(C),C},ht.models.bullet=function(){"use strict";var k={top:0,right:0,bottom:0,left:0},e="left",C=!1,S=function(t){return t.ranges},T=function(t){return t.markers?t.markers:[]},A=function(t){return t.markerLines?t.markerLines:[0]},D=function(t){return t.measures},M=function(t){return t.rangeLabels?t.rangeLabels:[]},E=function(t){return t.markerLabels?t.markerLabels:[]},P=function(t){return t.markerLineLabels?t.markerLineLabels:[]},O=function(t){return t.measureLabels?t.measureLabels:[]},I=[0],R=380,L=30,F=null,n=null,N=ht.utils.getColor(["#1f77b4"]),j=d3.dispatch("elementMouseover","elementMouseout","elementMousemove"),B=["Maximum","Mean","Minimum"],U=["Max","Avg","Min"];function z(t,o){var r=t.slice();t.sort(function(t,e){var n=r.indexOf(t),i=r.indexOf(e);return d3.descending(o[n],o[i])})}function i(t){return t.each(function(t,e){var n=R-k.left-k.right,i=L-k.top-k.bottom;F=d3.select(this),ht.utils.initSVG(F);var o=S.call(this,t,e).slice(),r=T.call(this,t,e).slice(),a=A.call(this,t,e).slice().sort(d3.descending),s=D.call(this,t,e).slice(),l=M.call(this,t,e).slice(),u=E.call(this,t,e).slice(),c=P.call(this,t,e).slice(),p=O.call(this,t,e).slice();z(l,o),z(u,r),z(c,a),z(p,s),o.sort(d3.descending),r.sort(d3.descending),s.sort(d3.descending);var h=d3.scale.linear().domain(d3.extent(d3.merge([I,o]))).range(C?[n,0]:[0,n]);this.__chart__||d3.scale.linear().domain([0,1/0]).range(h.range());this.__chart__=h;d3.min(o),d3.max(o),o[1];for(var d=F.selectAll("g.nv-wrap.nv-bullet").data([t]),f=d.enter().append("g").attr("class","nvd3 nv-wrap nv-bullet").append("g"),g=d.select("g"),m=(e=0,o.length);e<m;e++){var v="nv-range nv-range"+e;e<=2&&(v=v+" nv-range"+U[e]),f.append("rect").attr("class",v)}f.append("rect").attr("class","nv-measure"),d.attr("transform","translate("+k.left+","+k.top+")");var y,b=function(t){return h(t<0?t:0)};for(e=0,m=o.length;e<m;e++){var w=o[e];g.select("rect.nv-range"+e).attr("height",i).attr("width",(y=w,Math.abs(h(y)-h(0)))).attr("x",b(w)).datum(w)}g.select("rect.nv-measure").style("fill",N).attr("height",i/3).attr("y",i/3).attr("width",s<0?h(0)-h(s[0]):h(s[0])-h(0)).attr("x",b(s)).on("mouseover",function(){j.elementMouseover({value:s[0],label:p[0]||"Current",color:d3.select(this).style("fill")})}).on("mousemove",function(){j.elementMousemove({value:s[0],label:p[0]||"Current",color:d3.select(this).style("fill")})}).on("mouseout",function(){j.elementMouseout({value:s[0],label:p[0]||"Current",color:d3.select(this).style("fill")})});var x=i/6,$=r.map(function(t,e){return{value:t,label:u[e]}});f.selectAll("path.nv-markerTriangle").data($).enter().append("path").attr("class","nv-markerTriangle").attr("d","M0,"+x+"L"+x+","+-x+" "+-x+","+-x+"Z").on("mouseover",function(t){j.elementMouseover({value:t.value,label:t.label||"Previous",color:d3.select(this).style("fill"),pos:[h(t.value),i/2]})}).on("mousemove",function(t){j.elementMousemove({value:t.value,label:t.label||"Previous",color:d3.select(this).style("fill")})}).on("mouseout",function(t,e){j.elementMouseout({value:t.value,label:t.label||"Previous",color:d3.select(this).style("fill")})}),g.selectAll("path.nv-markerTriangle").data($).attr("transform",function(t){return"translate("+h(t.value)+","+i/2+")"});var _=a.map(function(t,e){return{value:t,label:c[e]}});f.selectAll("path.nv-markerLine").data(_).enter().append("line").attr("cursor","").attr("class","nv-markerLine").attr("x1",function(t){return h(t.value)}).attr("y1","2").attr("x2",function(t){return h(t.value)}).attr("y2",i-2).on("mouseover",function(t){j.elementMouseover({value:t.value,label:t.label||"Previous",color:d3.select(this).style("fill"),pos:[h(t.value),i/2]})}).on("mousemove",function(t){j.elementMousemove({value:t.value,label:t.label||"Previous",color:d3.select(this).style("fill")})}).on("mouseout",function(t,e){j.elementMouseout({value:t.value,label:t.label||"Previous",color:d3.select(this).style("fill")})}),g.selectAll("path.nv-markerLines").data(_).attr("transform",function(t){return"translate("+h(t.value)+","+i/2+")"}),d.selectAll(".nv-range").on("mouseover",function(t,e){var n=l[e]||B[e];j.elementMouseover({value:t,label:n,color:d3.select(this).style("fill")})}).on("mousemove",function(){j.elementMousemove({value:s[0],label:p[0]||"Previous",color:d3.select(this).style("fill")})}).on("mouseout",function(t,e){var n=l[e]||B[e];j.elementMouseout({value:t,label:n,color:d3.select(this).style("fill")})})}),i}return i.dispatch=j,i.options=ht.utils.optionsFunc.bind(i),i._options=Object.create({},{ranges:{get:function(){return S},set:function(t){S=t}},markers:{get:function(){return T},set:function(t){T=t}},measures:{get:function(){return D},set:function(t){D=t}},forceX:{get:function(){return I},set:function(t){I=t}},width:{get:function(){return R},set:function(t){R=t}},height:{get:function(){return L},set:function(t){L=t}},tickFormat:{get:function(){return n},set:function(t){n=t}},margin:{get:function(){return k},set:function(t){k.top=void 0!==t.top?t.top:k.top,k.right=void 0!==t.right?t.right:k.right,k.bottom=void 0!==t.bottom?t.bottom:k.bottom,k.left=void 0!==t.left?t.left:k.left}},orient:{get:function(){return e},set:function(t){C="right"==(e=t)||"bottom"==e}},color:{get:function(){return N},set:function(t){N=ht.utils.getColor(t)}}}),ht.utils.initOptions(i),i},ht.models.bulletChart=function(){"use strict";var w=ht.models.bullet(),e=ht.models.tooltip(),n="left",x=!1,$={top:5,right:40,bottom:20,left:120},_=function(t){return t.ranges},k=function(t){return t.markers?t.markers:[]},C=function(t){return t.measures},S=null,T=55,A=null,D=null,i=null,t=d3.dispatch();function M(b){return b.each(function(t,e){var n=d3.select(this);ht.utils.initSVG(n);var i=ht.utils.availableWidth(S,n,$),o=T-$.top-$.bottom;if(M.update=function(){M(b)},M.container=this,!t||!_.call(this,t,e))return ht.utils.noData(M,n),M;n.selectAll(".nv-noData").remove();var r=_.call(this,t,e).slice().sort(d3.descending),a=k.call(this,t,e).slice().sort(d3.descending),s=C.call(this,t,e).slice().sort(d3.descending),l=n.selectAll("g.nv-wrap.nv-bulletChart").data([t]),u=l.enter().append("g").attr("class","nvd3 nv-wrap nv-bulletChart").append("g"),c=l.select("g");u.append("g").attr("class","nv-bulletWrap"),u.append("g").attr("class","nv-titles"),l.attr("transform","translate("+$.left+","+$.top+")");var p=d3.scale.linear().domain([0,Math.max(r[0],a[0]||0,s[0])]).range(x?[i,0]:[0,i]),h=this.__chart__||d3.scale.linear().domain([0,1/0]).range(p.range());this.__chart__=p;var d=u.select(".nv-titles").append("g").attr("text-anchor","end").attr("transform","translate(-6,"+(T-$.top-$.bottom)/2+")");d.append("text").attr("class","nv-title").text(function(t){return t.title}),d.append("text").attr("class","nv-subtitle").attr("dy","1em").text(function(t){return t.subtitle}),w.width(i).height(o);var f=c.select(".nv-bulletWrap");d3.transition(f).call(w);var g=A||p.tickFormat(i/100),m=c.selectAll("g.nv-tick").data(p.ticks(D||i/50),function(t){return this.textContent||g(t)}),v=m.enter().append("g").attr("class","nv-tick").attr("transform",function(t){return"translate("+h(t)+",0)"}).style("opacity",1e-6);v.append("line").attr("y1",o).attr("y2",7*o/6),v.append("text").attr("text-anchor","middle").attr("dy","1em").attr("y",7*o/6).text(g);var y=d3.transition(m).attr("transform",function(t){return"translate("+p(t)+",0)"}).style("opacity",1);y.select("line").attr("y1",o).attr("y2",7*o/6),y.select("text").attr("y",7*o/6),d3.transition(m.exit()).attr("transform",function(t){return"translate("+p(t)+",0)"}).style("opacity",1e-6).remove()}),d3.timer.flush(),M}return e.duration(0).headerEnabled(!1),w.dispatch.on("elementMouseover.tooltip",function(t){t.series={key:t.label,value:t.value,color:t.color},e.data(t).hidden(!1)}),w.dispatch.on("elementMouseout.tooltip",function(t){e.hidden(!0)}),w.dispatch.on("elementMousemove.tooltip",function(t){e()}),M.bullet=w,M.dispatch=t,M.tooltip=e,M.options=ht.utils.optionsFunc.bind(M),M._options=Object.create({},{ranges:{get:function(){return _},set:function(t){_=t}},markers:{get:function(){return k},set:function(t){k=t}},measures:{get:function(){return C},set:function(t){C=t}},width:{get:function(){return S},set:function(t){S=t}},height:{get:function(){return T},set:function(t){T=t}},tickFormat:{get:function(){return A},set:function(t){A=t}},ticks:{get:function(){return D},set:function(t){D=t}},noData:{get:function(){return i},set:function(t){i=t}},margin:{get:function(){return $},set:function(t){$.top=void 0!==t.top?t.top:$.top,$.right=void 0!==t.right?t.right:$.right,$.bottom=void 0!==t.bottom?t.bottom:$.bottom,$.left=void 0!==t.left?t.left:$.left}},orient:{get:function(){return n},set:function(t){x="right"==(n=t)||"bottom"==n}}}),ht.utils.inheritOptions(M,w),ht.utils.initOptions(M),M},ht.models.candlestickBar=function(){"use strict";var p,h,d,f,g,m={top:0,right:0,bottom:0,left:0},v=null,y=null,b=Math.floor(1e4*Math.random()),w=d3.scale.linear(),x=d3.scale.linear(),$=function(t){return t.x},_=function(t){return t.y},k=function(t){return t.open},C=function(t){return t.close},S=function(t){return t.high},T=function(t){return t.low},A=[],D=[],M=!1,E=!0,e=ht.utils.defaultColor(),n=!1,P=d3.dispatch("stateChange","changeState","renderEnd","chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout","elementMousemove");function i(t){return t.each(function(t){p=d3.select(this);var e=ht.utils.availableWidth(v,p,m),n=ht.utils.availableHeight(y,p,m);ht.utils.initSVG(p);var i=e/t[0].values.length*.45;w.domain(h||d3.extent(t[0].values.map($).concat(A))),M?w.range(f||[.5*e/t[0].values.length,e*(t[0].values.length-.5)/t[0].values.length]):w.range(f||[5+i/2,e-i/2-5]),x.domain(d||[d3.min(t[0].values.map(T).concat(D)),d3.max(t[0].values.map(S).concat(D))]).range(g||[n,0]),w.domain()[0]===w.domain()[1]&&(w.domain()[0]?w.domain([w.domain()[0]-.01*w.domain()[0],w.domain()[1]+.01*w.domain()[1]]):w.domain([-1,1])),x.domain()[0]===x.domain()[1]&&(x.domain()[0]?x.domain([x.domain()[0]+.01*x.domain()[0],x.domain()[1]-.01*x.domain()[1]]):x.domain([-1,1]));var o=d3.select(this).selectAll("g.nv-wrap.nv-candlestickBar").data([t[0].values]),r=o.enter().append("g").attr("class","nvd3 nv-wrap nv-candlestickBar"),a=r.append("defs"),s=r.append("g"),l=o.select("g");s.append("g").attr("class","nv-ticks"),o.attr("transform","translate("+m.left+","+m.top+")"),p.on("click",function(t,e){P.chartClick({data:t,index:e,pos:d3.event,id:b})}),a.append("clipPath").attr("id","nv-chart-clip-path-"+b).append("rect"),o.select("#nv-chart-clip-path-"+b+" rect").attr("width",e).attr("height",n),l.attr("clip-path",E?"url(#nv-chart-clip-path-"+b+")":"");var u=o.select(".nv-ticks").selectAll(".nv-tick").data(function(t){return t});u.exit().remove();var c=u.enter().append("g");u.attr("class",function(t,e,n){return(k(t,e)>C(t,e)?"nv-tick negative":"nv-tick positive")+" nv-tick-"+n+"-"+e});c.append("line").attr("class","nv-candlestick-lines").attr("transform",function(t,e){return"translate("+w($(t,e))+",0)"}).attr("x1",0).attr("y1",function(t,e){return x(S(t,e))}).attr("x2",0).attr("y2",function(t,e){return x(T(t,e))}),c.append("rect").attr("class","nv-candlestick-rects nv-bars").attr("transform",function(t,e){return"translate("+(w($(t,e))-i/2)+","+(x(_(t,e))-(k(t,e)>C(t,e)?x(C(t,e))-x(k(t,e)):0))+")"}).attr("x",0).attr("y",0).attr("width",i).attr("height",function(t,e){var n=k(t,e),i=C(t,e);return i<n?x(i)-x(n):x(n)-x(i)});u.select(".nv-candlestick-lines").transition().attr("transform",function(t,e){return"translate("+w($(t,e))+",0)"}).attr("x1",0).attr("y1",function(t,e){return x(S(t,e))}).attr("x2",0).attr("y2",function(t,e){return x(T(t,e))}),u.select(".nv-candlestick-rects").transition().attr("transform",function(t,e){return"translate("+(w($(t,e))-i/2)+","+(x(_(t,e))-(k(t,e)>C(t,e)?x(C(t,e))-x(k(t,e)):0))+")"}).attr("x",0).attr("y",0).attr("width",i).attr("height",function(t,e){var n=k(t,e),i=C(t,e);return i<n?x(i)-x(n):x(n)-x(i)})}),i}return i.highlightPoint=function(t,e){i.clearHighlights(),p.select(".nv-candlestickBar .nv-tick-0-"+t).classed("hover",e)},i.clearHighlights=function(){p.select(".nv-candlestickBar .nv-tick.hover").classed("hover",!1)},i.dispatch=P,i.options=ht.utils.optionsFunc.bind(i),i._options=Object.create({},{width:{get:function(){return v},set:function(t){v=t}},height:{get:function(){return y},set:function(t){y=t}},xScale:{get:function(){return w},set:function(t){w=t}},yScale:{get:function(){return x},set:function(t){x=t}},xDomain:{get:function(){return h},set:function(t){h=t}},yDomain:{get:function(){return d},set:function(t){d=t}},xRange:{get:function(){return f},set:function(t){f=t}},yRange:{get:function(){return g},set:function(t){g=t}},forceX:{get:function(){return A},set:function(t){A=t}},forceY:{get:function(){return D},set:function(t){D=t}},padData:{get:function(){return M},set:function(t){M=t}},clipEdge:{get:function(){return E},set:function(t){E=t}},id:{get:function(){return b},set:function(t){b=t}},interactive:{get:function(){return n},set:function(t){n=t}},x:{get:function(){return $},set:function(t){$=t}},y:{get:function(){return _},set:function(t){_=t}},open:{get:function(){return k()},set:function(t){k=t}},close:{get:function(){return C()},set:function(t){C=t}},high:{get:function(){return S},set:function(t){S=t}},low:{get:function(){return T},set:function(t){T=t}},margin:{get:function(){return m},set:function(t){m.top=null!=t.top?t.top:m.top,m.right=null!=t.right?t.right:m.right,m.bottom=null!=t.bottom?t.bottom:m.bottom,m.left=null!=t.left?t.left:m.left}},color:{get:function(){return e},set:function(t){e=ht.utils.getColor(t)}}}),ht.utils.initOptions(i),i},ht.models.cumulativeLineChart=function(){"use strict";var w,x,$=ht.models.line(),_=ht.models.axis(),k=ht.models.axis(),C=ht.models.legend(),S=ht.models.legend(),T=ht.interactiveGuideline(),n=ht.models.tooltip(),A={top:30,right:30,bottom:50,left:60},D=ht.utils.defaultColor(),M=null,E=null,P=!0,O=!0,I=!0,R=!1,L=!0,F=!1,N=!0,j=$.id(),B=ht.utils.state(),U=null,e=null,z=function(t){return t.average},H=d3.dispatch("stateChange","changeState","renderEnd"),V=250,q=!1;B.index=0,B.rescaleY=N,_.orient("bottom").tickPadding(7),k.orient(R?"right":"left"),n.valueFormatter(function(t,e){return k.tickFormat()(t,e)}).headerFormatter(function(t,e){return _.tickFormat()(t,e)}),S.updateState(!1);var W=d3.scale.linear(),G={i:0,x:0},i=ht.utils.renderWatch(H,V),Y=function(t){return function(){return{active:t.map(function(t){return!t.disabled}),index:G.i,rescaleY:N}}},K=function(t){return function(n){void 0!==n.index&&(G.i=n.index),void 0!==n.rescaleY&&(N=n.rescaleY),void 0!==n.active&&t.forEach(function(t,e){t.disabled=!n.active[e]})}};function Z(t){return i.reset(),i.models($),O&&i.models(_),I&&i.models(k),t.each(function(u){var t=d3.select(this);ht.utils.initSVG(t),t.classed("nv-chart-"+j,!0);var e,n=ht.utils.availableWidth(M,t,A),i=ht.utils.availableHeight(E,t,A);if(Z.update=function(){0===V?t.call(Z):t.transition().duration(V).call(Z)},Z.container=this,B.setter(K(u),Z.update).getter(Y(u)).update(),B.disabled=u.map(function(t){return!!t.disabled}),!U)for(e in U={},B)B[e]instanceof Array?U[e]=B[e].slice(0):U[e]=B[e];var o=d3.behavior.drag().on("dragstart",function(t,e){d3.select(Z.container).style("cursor","ew-resize")}).on("drag",function(t,e){G.x=d3.event.x,G.i=Math.round(W.invert(G.x)),b()}).on("dragend",function(t,e){d3.select(Z.container).style("cursor","auto"),B.index=G.i,H.stateChange(B)});if(!(u&&u.length&&u.filter(function(t){return t.values.length}).length))return ht.utils.noData(Z,t),Z;if(t.selectAll(".nv-noData").remove(),w=$.xScale(),x=$.yScale(),N)$.yDomain(null);else{var r=u.filter(function(t){return!t.disabled}).map(function(t,e){var n=d3.extent(t.values,$.y());return n[0]<-.95&&(n[0]=-.95),[(n[0]-n[1])/(1+n[1]),(n[1]-n[0])/(1+n[0])]}),a=[d3.min(r,function(t){return t[0]}),d3.max(r,function(t){return t[1]})];$.yDomain(a)}W.domain([0,u[0].values.length-1]).range([0,n]).clamp(!0);u=function(o,t){X||(X=$.y());return t.map(function(t,e){if(!t.values)return t;var n=t.values[o];if(null==n)return t;var i=X(n,o);return i<-.95&&!q?t.tempDisabled=!0:(t.tempDisabled=!1,t.values=t.values.map(function(t,e){return t.display={y:(X(t,e)-i)/(1+i)},t})),t})}(G.i,u);var s=F?"none":"all",l=t.selectAll("g.nv-wrap.nv-cumulativeLine").data([u]),c=l.enter().append("g").attr("class","nvd3 nv-wrap nv-cumulativeLine").append("g"),p=l.select("g");if(c.append("g").attr("class","nv-interactive"),c.append("g").attr("class","nv-x nv-axis").style("pointer-events","none"),c.append("g").attr("class","nv-y nv-axis"),c.append("g").attr("class","nv-background"),c.append("g").attr("class","nv-linesWrap").style("pointer-events",s),c.append("g").attr("class","nv-avgLinesWrap").style("pointer-events","none"),c.append("g").attr("class","nv-legendWrap"),c.append("g").attr("class","nv-controlsWrap"),P?(C.width(n),p.select(".nv-legendWrap").datum(u).call(C),C.height()>A.top&&(A.top=C.height(),i=ht.utils.availableHeight(E,t,A)),p.select(".nv-legendWrap").attr("transform","translate(0,"+-A.top+")")):p.select(".nv-legendWrap").selectAll("*").remove(),L){var h=[{key:"Re-scale y-axis",disabled:!N}];S.width(140).color(["#444","#444","#444"]).rightAlign(!1).margin({top:5,right:0,bottom:5,left:20}),p.select(".nv-controlsWrap").datum(h).attr("transform","translate(0,"+-A.top+")").call(S)}else p.select(".nv-controlsWrap").selectAll("*").remove();l.attr("transform","translate("+A.left+","+A.top+")"),R&&p.select(".nv-y.nv-axis").attr("transform","translate("+n+",0)");var d=u.filter(function(t){return t.tempDisabled});l.select(".tempDisabled").remove(),d.length&&l.append("text").attr("class","tempDisabled").attr("x",n/2).attr("y","-.71em").style("text-anchor","end").text(d.map(function(t){return t.key}).join(", ")+" values cannot be calculated for this time period."),F&&(T.width(n).height(i).margin({left:A.left,top:A.top}).svgContainer(t).xScale(w),l.select(".nv-interactive").call(T)),c.select(".nv-background").append("rect"),p.select(".nv-background rect").attr("width",n).attr("height",i),$.y(function(t){return t.display.y}).width(n).height(i).color(u.map(function(t,e){return t.color||D(t,e)}).filter(function(t,e){return!u[e].disabled&&!u[e].tempDisabled}));var f=p.select(".nv-linesWrap").datum(u.filter(function(t){return!t.disabled&&!t.tempDisabled}));f.call($),u.forEach(function(t,e){t.seriesIndex=e});var g=u.filter(function(t){return!t.disabled&&!!z(t)}),m=p.select(".nv-avgLinesWrap").selectAll("line").data(g,function(t){return t.key}),v=function(t){var e=x(z(t));return e<0?0:i<e?i:e};m.enter().append("line").style("stroke-width",2).style("stroke-dasharray","10,10").style("stroke",function(t,e){return $.color()(t,t.seriesIndex)}).attr("x1",0).attr("x2",n).attr("y1",v).attr("y2",v),m.style("stroke-opacity",function(t){var e=x(z(t));return e<0||i<e?0:1}).attr("x1",0).attr("x2",n).attr("y1",v).attr("y2",v),m.exit().remove();var y=f.selectAll(".nv-indexLine").data([G]);function b(){y.data([G]);var t=Z.duration();Z.duration(0),Z.update(),Z.duration(t)}y.enter().append("rect").attr("class","nv-indexLine").attr("width",3).attr("x",-2).attr("fill","red").attr("fill-opacity",.5).style("pointer-events","all").call(o),y.attr("transform",function(t){return"translate("+W(t.i)+",0)"}).attr("height",i),O&&(_.scale(w)._ticks(ht.utils.calcTicksX(n/70,u)).tickSize(-i,0),p.select(".nv-x.nv-axis").attr("transform","translate(0,"+x.range()[0]+")"),p.select(".nv-x.nv-axis").call(_)),I&&(k.scale(x)._ticks(ht.utils.calcTicksY(i/36,u)).tickSize(-n,0),p.select(".nv-y.nv-axis").call(k)),p.select(".nv-background rect").on("click",function(){G.x=d3.mouse(this)[0],G.i=Math.round(W.invert(G.x)),B.index=G.i,H.stateChange(B),b()}),$.dispatch.on("elementClick",function(t){G.i=t.pointIndex,G.x=W(G.i),B.index=G.i,H.stateChange(B),b()}),S.dispatch.on("legendClick",function(t,e){t.disabled=!t.disabled,N=!t.disabled,B.rescaleY=N,H.stateChange(B),Z.update()}),C.dispatch.on("stateChange",function(t){for(var e in t)B[e]=t[e];H.stateChange(B),Z.update()}),T.dispatch.on("elementMousemove",function(i){$.clearHighlights();var o,r,a,s=[];if(u.filter(function(t,e){return t.seriesIndex=e,!t.disabled}).forEach(function(t,e){r=ht.interactiveBisect(t.values,i.pointXValue,Z.x()),$.highlightPoint(e,r,!0);var n=t.values[r];void 0!==n&&(void 0===o&&(o=n),void 0===a&&(a=Z.xScale()(Z.x()(n,r))),s.push({key:t.key,value:Z.y()(n,r),color:D(t,t.seriesIndex)}))}),2<s.length){var t=Z.yScale().invert(i.mouseY),e=.03*Math.abs(Z.yScale().domain()[0]-Z.yScale().domain()[1]),n=ht.nearestValueIndex(s.map(function(t){return t.value}),t,e);null!==n&&(s[n].highlight=!0)}var l=_.tickFormat()(Z.x()(o,r),r);T.tooltip.valueFormatter(function(t,e){return k.tickFormat()(t)}).data({value:l,series:s})(),T.renderGuideLine(a)}),T.dispatch.on("elementMouseout",function(t){$.clearHighlights()}),H.on("changeState",function(n){void 0!==n.disabled&&(u.forEach(function(t,e){t.disabled=n.disabled[e]}),B.disabled=n.disabled),void 0!==n.index&&(G.i=n.index,G.x=W(G.i),B.index=n.index,y.data([G])),void 0!==n.rescaleY&&(N=n.rescaleY),Z.update()})}),i.renderEnd("cumulativeLineChart immediate"),Z}$.dispatch.on("elementMouseover.tooltip",function(t){var e={x:Z.x()(t.point),y:Z.y()(t.point),color:t.point.color};t.point=e,n.data(t).hidden(!1)}),$.dispatch.on("elementMouseout.tooltip",function(t){n.hidden(!0)});var X=null;return Z.dispatch=H,Z.lines=$,Z.legend=C,Z.controls=S,Z.xAxis=_,Z.yAxis=k,Z.interactiveLayer=T,Z.state=B,Z.tooltip=n,Z.options=ht.utils.optionsFunc.bind(Z),Z._options=Object.create({},{width:{get:function(){return M},set:function(t){M=t}},height:{get:function(){return E},set:function(t){E=t}},rescaleY:{get:function(){return N},set:function(t){N=t}},showControls:{get:function(){return L},set:function(t){L=t}},showLegend:{get:function(){return P},set:function(t){P=t}},average:{get:function(){return z},set:function(t){z=t}},defaultState:{get:function(){return U},set:function(t){U=t}},noData:{get:function(){return e},set:function(t){e=t}},showXAxis:{get:function(){return O},set:function(t){O=t}},showYAxis:{get:function(){return I},set:function(t){I=t}},noErrorCheck:{get:function(){return q},set:function(t){q=t}},margin:{get:function(){return A},set:function(t){A.top=void 0!==t.top?t.top:A.top,A.right=void 0!==t.right?t.right:A.right,A.bottom=void 0!==t.bottom?t.bottom:A.bottom,A.left=void 0!==t.left?t.left:A.left}},color:{get:function(){return D},set:function(t){D=ht.utils.getColor(t),C.color(D)}},useInteractiveGuideline:{get:function(){return F},set:function(t){!0===(F=t)&&(Z.interactive(!1),Z.useVoronoi(!1))}},rightAlignYAxis:{get:function(){return R},set:function(t){R=t,k.orient(t?"right":"left")}},duration:{get:function(){return V},set:function(t){V=t,$.duration(V),_.duration(V),k.duration(V),i.reset(V)}}}),ht.utils.inheritOptions(Z,$),ht.utils.initOptions(Z),Z},ht.models.discreteBar=function(){"use strict";var u,c,p,h,d,f,g,m={top:0,right:0,bottom:0,left:0},v=960,y=500,e=Math.floor(1e4*Math.random()),b=d3.scale.ordinal(),w=d3.scale.linear(),x=function(t){return t.x},$=function(t){return t.y},_=[0],k=ht.utils.defaultColor(),C=!1,S=d3.format(",.2f"),T=d3.dispatch("chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout","elementMousemove","renderEnd"),A="discreteBar",n=250,D=ht.utils.renderWatch(T,n);function i(t){return D.reset(),t.each(function(t){var e=v-m.left-m.right,n=y-m.top-m.bottom;u=d3.select(this),ht.utils.initSVG(u),t.forEach(function(t,e){t.values.forEach(function(t){t.series=e})});var i=c&&p?[]:t.map(function(t){return t.values.map(function(t,e){return{x:x(t,e),y:$(t,e),y0:t.y0}})});b.domain(c||d3.merge(i).map(function(t){return t.x})).rangeBands(h||[0,e],.1),w.domain(p||d3.extent(d3.merge(i).map(function(t){return t.y}).concat(_))),C?w.range(d||[n-(w.domain()[0]<0?12:0),0<w.domain()[1]?12:0]):w.range(d||[n,0]),f=f||b,g=g||w.copy().range([w(0),w(0)]);var o=u.selectAll("g.nv-wrap.nv-discretebar").data([t]),r=o.enter().append("g").attr("class","nvd3 nv-wrap nv-discretebar").append("g");o.select("g");r.append("g").attr("class","nv-groups"),o.attr("transform","translate("+m.left+","+m.top+")");var a=o.select(".nv-groups").selectAll(".nv-group").data(function(t){return t},function(t){return t.key});a.enter().append("g").style("stroke-opacity",1e-6).style("fill-opacity",1e-6),a.exit().watchTransition(D,"discreteBar: exit groups").style("stroke-opacity",1e-6).style("fill-opacity",1e-6).remove(),a.attr("class",function(t,e){return"nv-group nv-series-"+e}).classed("hover",function(t){return t.hover}),a.watchTransition(D,"discreteBar: groups").style("stroke-opacity",1).style("fill-opacity",.75);var s=a.selectAll("g.nv-bar").data(function(t){return t.values});s.exit().remove();var l=s.enter().append("g").attr("transform",function(t,e,n){return"translate("+(b(x(t,e))+.05*b.rangeBand())+", "+w(0)+")"}).on("mouseover",function(t,e){d3.select(this).classed("hover",!0),T.elementMouseover({data:t,index:e,color:d3.select(this).style("fill")})}).on("mouseout",function(t,e){d3.select(this).classed("hover",!1),T.elementMouseout({data:t,index:e,color:d3.select(this).style("fill")})}).on("mousemove",function(t,e){T.elementMousemove({data:t,index:e,color:d3.select(this).style("fill")})}).on("click",function(t,e){T.elementClick({data:t,index:e,color:d3.select(this).style("fill"),event:d3.event,element:this}),d3.event.stopPropagation()}).on("dblclick",function(t,e){T.elementDblClick({data:t,index:e,color:d3.select(this).style("fill")}),d3.event.stopPropagation()});l.append("rect").attr("height",0).attr("width",.9*b.rangeBand()/t.length),C?(l.append("text").attr("text-anchor","middle"),s.select("text").text(function(t,e){return S($(t,e))}).watchTransition(D,"discreteBar: bars text").attr("x",.9*b.rangeBand()/2).attr("y",function(t,e){return $(t,e)<0?w($(t,e))-w(0)+12:-4})):s.selectAll("text").remove(),s.attr("class",function(t,e){return $(t,e)<0?"nv-bar negative":"nv-bar positive"}).style("fill",function(t,e){return t.color||k(t,e)}).style("stroke",function(t,e){return t.color||k(t,e)}).select("rect").attr("class",A).watchTransition(D,"discreteBar: bars rect").attr("width",.9*b.rangeBand()/t.length),s.watchTransition(D,"discreteBar: bars").attr("transform",function(t,e){return"translate("+(b(x(t,e))+.05*b.rangeBand())+", "+($(t,e)<0?w(0):w(0)-w($(t,e))<1?w(0)-1:w($(t,e)))+")"}).select("rect").attr("height",function(t,e){return Math.max(Math.abs(w($(t,e))-w(0)),1)}),f=b.copy(),g=w.copy()}),D.renderEnd("discreteBar immediate"),i}return i.dispatch=T,i.options=ht.utils.optionsFunc.bind(i),i._options=Object.create({},{width:{get:function(){return v},set:function(t){v=t}},height:{get:function(){return y},set:function(t){y=t}},forceY:{get:function(){return _},set:function(t){_=t}},showValues:{get:function(){return C},set:function(t){C=t}},x:{get:function(){return x},set:function(t){x=t}},y:{get:function(){return $},set:function(t){$=t}},xScale:{get:function(){return b},set:function(t){b=t}},yScale:{get:function(){return w},set:function(t){w=t}},xDomain:{get:function(){return c},set:function(t){c=t}},yDomain:{get:function(){return p},set:function(t){p=t}},xRange:{get:function(){return h},set:function(t){h=t}},yRange:{get:function(){return d},set:function(t){d=t}},valueFormat:{get:function(){return S},set:function(t){S=t}},id:{get:function(){return e},set:function(t){e=t}},rectClass:{get:function(){return A},set:function(t){A=t}},margin:{get:function(){return m},set:function(t){m.top=void 0!==t.top?t.top:m.top,m.right=void 0!==t.right?t.right:m.right,m.bottom=void 0!==t.bottom?t.bottom:m.bottom,m.left=void 0!==t.left?t.left:m.left}},color:{get:function(){return k},set:function(t){k=ht.utils.getColor(t)}},duration:{get:function(){return n},set:function(t){n=t,D.reset(n)}}}),ht.utils.initOptions(i),i},ht.models.discreteBarChart=function(){"use strict";var u,c,p=ht.models.discreteBar(),h=ht.models.axis(),d=ht.models.axis(),f=ht.models.legend(),e=ht.models.tooltip(),g={top:15,right:10,bottom:50,left:60},m=null,v=null,n=ht.utils.getColor(),y=!1,b=!0,w=!0,x=!1,$=!1,_=!1,k=0,i=null,C=d3.dispatch("beforeUpdate","renderEnd"),S=250;h.orient("bottom").showMaxMin(!1).tickFormat(function(t){return t}),d.orient(x?"right":"left").tickFormat(d3.format(",.1f")),e.duration(0).headerEnabled(!1).valueFormatter(function(t,e){return d.tickFormat()(t,e)}).keyFormatter(function(t,e){return h.tickFormat()(t,e)});var o=ht.utils.renderWatch(C,S);function T(t){return o.reset(),o.models(p),b&&o.models(h),w&&o.models(d),t.each(function(t){var e=d3.select(this);ht.utils.initSVG(e);var n=ht.utils.availableWidth(m,e,g),i=ht.utils.availableHeight(v,e,g);if(T.update=function(){C.beforeUpdate(),e.transition().duration(S).call(T)},T.container=this,!(t&&t.length&&t.filter(function(t){return t.values.length}).length))return ht.utils.noData(T,e),T;e.selectAll(".nv-noData").remove(),u=p.xScale(),c=p.yScale().clamp(!0);var o=e.selectAll("g.nv-wrap.nv-discreteBarWithAxes").data([t]),r=o.enter().append("g").attr("class","nvd3 nv-wrap nv-discreteBarWithAxes").append("g"),a=r.append("defs"),s=o.select("g");if(r.append("g").attr("class","nv-x nv-axis"),r.append("g").attr("class","nv-y nv-axis").append("g").attr("class","nv-zeroLine").append("line"),r.append("g").attr("class","nv-barsWrap"),r.append("g").attr("class","nv-legendWrap"),s.attr("transform","translate("+g.left+","+g.top+")"),y?(f.width(n),s.select(".nv-legendWrap").datum(t).call(f),f.height()>g.top&&(g.top=f.height(),i=ht.utils.availableHeight(v,e,g)),o.select(".nv-legendWrap").attr("transform","translate(0,"+-g.top+")")):s.select(".nv-legendWrap").selectAll("*").remove(),x&&s.select(".nv-y.nv-axis").attr("transform","translate("+n+",0)"),p.width(n).height(i),s.select(".nv-barsWrap").datum(t.filter(function(t){return!t.disabled})).transition().call(p),a.append("clipPath").attr("id","nv-x-label-clip-"+p.id()).append("rect"),s.select("#nv-x-label-clip-"+p.id()+" rect").attr("width",u.rangeBand()*($?2:1)).attr("height",16).attr("x",-u.rangeBand()/($?1:2)),b){h.scale(u)._ticks(ht.utils.calcTicksX(n/100,t)).tickSize(-i,0),s.select(".nv-x.nv-axis").attr("transform","translate(0,"+(c.range()[0]+(p.showValues()&&c.domain()[0]<0?16:0))+")"),s.select(".nv-x.nv-axis").call(h);var l=s.select(".nv-x.nv-axis").selectAll("g");$&&l.selectAll("text").attr("transform",function(t,e,n){return"translate(0,"+(n%2==0?"5":"17")+")"}),k&&l.selectAll(".tick text").attr("transform","rotate("+k+" 0,0)").style("text-anchor",0<k?"start":"end"),_&&s.selectAll(".tick text").call(ht.utils.wrapTicks,T.xAxis.rangeBand())}w&&(d.scale(c)._ticks(ht.utils.calcTicksY(i/36,t)).tickSize(-n,0),s.select(".nv-y.nv-axis").call(d)),s.select(".nv-zeroLine line").attr("x1",0).attr("x2",x?-n:n).attr("y1",c(0)).attr("y2",c(0))}),o.renderEnd("discreteBar chart immediate"),T}return p.dispatch.on("elementMouseover.tooltip",function(t){t.series={key:T.x()(t.data),value:T.y()(t.data),color:t.color},e.data(t).hidden(!1)}),p.dispatch.on("elementMouseout.tooltip",function(t){e.hidden(!0)}),p.dispatch.on("elementMousemove.tooltip",function(t){e()}),T.dispatch=C,T.discretebar=p,T.legend=f,T.xAxis=h,T.yAxis=d,T.tooltip=e,T.options=ht.utils.optionsFunc.bind(T),T._options=Object.create({},{width:{get:function(){return m},set:function(t){m=t}},height:{get:function(){return v},set:function(t){v=t}},showLegend:{get:function(){return y},set:function(t){y=t}},staggerLabels:{get:function(){return $},set:function(t){$=t}},rotateLabels:{get:function(){return k},set:function(t){k=t}},wrapLabels:{get:function(){return _},set:function(t){_=!!t}},showXAxis:{get:function(){return b},set:function(t){b=t}},showYAxis:{get:function(){return w},set:function(t){w=t}},noData:{get:function(){return i},set:function(t){i=t}},margin:{get:function(){return g},set:function(t){g.top=void 0!==t.top?t.top:g.top,g.right=void 0!==t.right?t.right:g.right,g.bottom=void 0!==t.bottom?t.bottom:g.bottom,g.left=void 0!==t.left?t.left:g.left}},duration:{get:function(){return S},set:function(t){S=t,o.reset(S),p.duration(S),h.duration(S),d.duration(S)}},color:{get:function(){return n},set:function(t){n=ht.utils.getColor(t),p.color(n),f.color(n)}},rightAlignYAxis:{get:function(){return x},set:function(t){x=t,d.orient(t?"right":"left")}}}),ht.utils.inheritOptions(T,p),ht.utils.initOptions(T),T},ht.models.distribution=function(){"use strict";var s,l={top:0,right:0,bottom:0,left:0},e=400,u=8,c="x",p=function(t){return t[c]},h=ht.utils.defaultColor(),d=d3.scale.linear(),n=250,t=d3.dispatch("renderEnd"),f=ht.utils.renderWatch(t,n);function i(t){return f.reset(),t.each(function(t){"x"===c?(l.left,l.right):(l.top,l.bottom);var e="x"==c?"y":"x",n=d3.select(this);ht.utils.initSVG(n),s=s||d;var i=n.selectAll("g.nv-distribution").data([t]),o=(i.enter().append("g").attr("class","nvd3 nv-distribution").append("g"),i.select("g"));i.attr("transform","translate("+l.left+","+l.top+")");var r=o.selectAll("g.nv-dist").data(function(t){return t},function(t){return t.key});r.enter().append("g"),r.attr("class",function(t,e){return"nv-dist nv-series-"+e}).style("stroke",function(t,e){return h(t,e)});var a=r.selectAll("line.nv-dist"+c).data(function(t){return t.values});a.enter().append("line").attr(c+"1",function(t,e){return s(p(t,e))}).attr(c+"2",function(t,e){return s(p(t,e))}),f.transition(r.exit().selectAll("line.nv-dist"+c),"dist exit").attr(c+"1",function(t,e){return d(p(t,e))}).attr(c+"2",function(t,e){return d(p(t,e))}).style("stroke-opacity",0).remove(),a.attr("class",function(t,e){return"nv-dist"+c+" nv-dist"+c+"-"+e}).attr(e+"1",0).attr(e+"2",u),f.transition(a,"dist").attr(c+"1",function(t,e){return d(p(t,e))}).attr(c+"2",function(t,e){return d(p(t,e))}),s=d.copy()}),f.renderEnd("distribution immediate"),i}return i.options=ht.utils.optionsFunc.bind(i),i.dispatch=t,i.margin=function(t){return arguments.length?(l.top=void 0!==t.top?t.top:l.top,l.right=void 0!==t.right?t.right:l.right,l.bottom=void 0!==t.bottom?t.bottom:l.bottom,l.left=void 0!==t.left?t.left:l.left,i):l},i.width=function(t){return arguments.length?(e=t,i):e},i.axis=function(t){return arguments.length?(c=t,i):c},i.size=function(t){return arguments.length?(u=t,i):u},i.getData=function(t){return arguments.length?(p=d3.functor(t),i):p},i.scale=function(t){return arguments.length?(d=t,i):d},i.color=function(t){return arguments.length?(h=ht.utils.getColor(t),i):h},i.duration=function(t){return arguments.length?(n=t,f.reset(n),i):n},i},ht.models.focus=function(h){"use strict";h=h||ht.models.line();var d,f,g=ht.models.axis(),m=ht.models.axis(),v=d3.svg.brush(),y={top:10,right:0,bottom:30,left:0},b=ht.utils.defaultColor(),w=null,x=70,$=!0,_=!1,k=!1,C=null,S=250,T=d3.dispatch("brush","onBrush","renderEnd");h.interactive(!1),h.pointActive(function(t){return!1});var e=ht.utils.renderWatch(T,S);function A(t){return e.reset(),e.models(h),$&&e.models(g),_&&e.models(m),t.each(function(n){var t=d3.select(this);ht.utils.initSVG(t);var o=ht.utils.availableWidth(w,t,y),r=x-y.top-y.bottom;A.update=function(){0===S?t.call(A):t.transition().duration(S).call(A)},A.container=this,d=h.xScale(),f=h.yScale();var e=t.selectAll("g.nv-focus").data([n]),i=e.enter().append("g").attr("class","nvd3 nv-focus").append("g"),a=e.select("g");e.attr("transform","translate("+y.left+","+y.top+")"),i.append("g").attr("class","nv-background").append("rect"),i.append("g").attr("class","nv-x nv-axis"),i.append("g").attr("class","nv-y nv-axis"),i.append("g").attr("class","nv-contentWrap"),i.append("g").attr("class","nv-brushBackground"),i.append("g").attr("class","nv-x nv-brush"),k&&a.select(".nv-y.nv-axis").attr("transform","translate("+o+",0)"),a.select(".nv-background rect").attr("width",o).attr("height",r),h.width(o).height(r).color(n.map(function(t,e){return t.color||b(t,e)}).filter(function(t,e){return!n[e].disabled}));var s=a.select(".nv-contentWrap").datum(n.filter(function(t){return!t.disabled}));d3.transition(s).call(h),v.x(d).on("brush",function(){p()}),C&&v.extent(C);var l=a.select(".nv-brushBackground").selectAll("g").data([C||v.extent()]),u=l.enter().append("g");u.append("rect").attr("class","left").attr("x",0).attr("y",0).attr("height",r),u.append("rect").attr("class","right").attr("x",0).attr("y",0).attr("height",r);var c=a.select(".nv-x.nv-brush").call(v);function p(){C=v.empty()?null:v.extent();var t=v.empty()?d.domain():v.extent();Math.abs(t[0]-t[1])<=1||(T.brush({extent:t,brush:v}),v.empty()||v.extent(C),l.data([v.empty()?d.domain():C]).each(function(t,e){var n=d(t[0])-d.range()[0],i=o-d(t[1]);d3.select(this).select(".left").attr("width",n<0?0:n),d3.select(this).select(".right").attr("x",d(t[1])).attr("width",i<0?0:i)}),T.onBrush(t))}c.selectAll("rect").attr("height",r),c.selectAll(".resize").append("path").attr("d",function(t){var e=+("e"==t),n=e?1:-1,i=r/3;return"M"+.5*n+","+i+"A6,6 0 0 "+e+" "+6.5*n+","+(i+6)+"V"+(2*i-6)+"A6,6 0 0 "+e+" "+.5*n+","+2*i+"ZM"+2.5*n+","+(i+8)+"V"+(2*i-8)+"M"+4.5*n+","+(i+8)+"V"+(2*i-8)}),p(),a.select(".nv-background rect").attr("width",o).attr("height",r),$&&(g.scale(d)._ticks(ht.utils.calcTicksX(o/100,n)).tickSize(-r,0),a.select(".nv-x.nv-axis").attr("transform","translate(0,"+f.range()[0]+")"),d3.transition(a.select(".nv-x.nv-axis")).call(g)),_&&(m.scale(f)._ticks(ht.utils.calcTicksY(r/36,n)).tickSize(-o,0),d3.transition(a.select(".nv-y.nv-axis")).call(m)),a.select(".nv-x.nv-axis").attr("transform","translate(0,"+f.range()[0]+")")}),e.renderEnd("focus immediate"),A}return A.dispatch=T,A.content=h,A.brush=v,A.xAxis=g,A.yAxis=m,A.options=ht.utils.optionsFunc.bind(A),A._options=Object.create({},{width:{get:function(){return w},set:function(t){w=t}},height:{get:function(){return x},set:function(t){x=t}},showXAxis:{get:function(){return $},set:function(t){$=t}},showYAxis:{get:function(){return _},set:function(t){_=t}},brushExtent:{get:function(){return C},set:function(t){C=t}},margin:{get:function(){return y},set:function(t){y.top=void 0!==t.top?t.top:y.top,y.right=void 0!==t.right?t.right:y.right,y.bottom=void 0!==t.bottom?t.bottom:y.bottom,y.left=void 0!==t.left?t.left:y.left}},duration:{get:function(){return S},set:function(t){S=t,e.reset(S),h.duration(S),g.duration(S),m.duration(S)}},color:{get:function(){return b},set:function(t){b=ht.utils.getColor(t),h.color(b)}},interpolate:{get:function(){return h.interpolate()},set:function(t){h.interpolate(t)}},xTickFormat:{get:function(){return g.tickFormat()},set:function(t){g.tickFormat(t)}},yTickFormat:{get:function(){return m.tickFormat()},set:function(t){m.tickFormat(t)}},x:{get:function(){return h.x()},set:function(t){h.x(t)}},y:{get:function(){return h.y()},set:function(t){h.y(t)}},rightAlignYAxis:{get:function(){return k},set:function(t){k=t,m.orient(k?"right":"left")}}}),ht.utils.inheritOptions(A,h),ht.utils.initOptions(A),A},ht.models.forceDirectedGraph=function(){"use strict";var s={top:2,right:0,bottom:2,left:0},l=400,u=32,c=null,t=d3.dispatch("renderEnd"),p=ht.utils.getColor(["#000"]),h=ht.models.tooltip(),e=null,d=.1,f=.9,g=30,m=-120,v=.1,y=.8,b=.1,w=5,x=function(t){},$=function(t){},n=ht.utils.renderWatch(t);function _(t){return n.reset(),t.each(function(t){c=d3.select(this),ht.utils.initSVG(c);var e=ht.utils.availableWidth(l,c,s),n=ht.utils.availableHeight(u,c,s);if(c.attr("width",e).attr("height",n),!(t&&t.links&&t.nodes))return ht.utils.noData(_,c),_;c.selectAll(".nv-noData").remove(),c.selectAll("*").remove();var i=new Set;t.nodes.forEach(function(t){Object.keys(t).forEach(function(t){i.add(t)})});var o=d3.layout.force().nodes(t.nodes).links(t.links).size([e,n]).linkStrength(d).friction(f).linkDistance(g).charge(m).gravity(v).theta(y).alpha(b).start(),r=c.selectAll(".link").data(t.links).enter().append("line").attr("class","nv-force-link").style("stroke-width",function(t){return Math.sqrt(t.value)}),a=c.selectAll(".node").data(t.nodes).enter().append("g").attr("class","nv-force-node").call(o.drag);a.append("circle").attr("r",w).style("fill",function(t){return p(t)}).on("mouseover",function(e){c.select(".nv-series-"+e.seriesIndex+" .nv-distx-"+e.pointIndex).attr("y1",e.py),c.select(".nv-series-"+e.seriesIndex+" .nv-disty-"+e.pointIndex).attr("x2",e.px);var n=p(e);e.series=[],i.forEach(function(t){e.series.push({color:n,key:t,value:e[t]})}),h.data(e).hidden(!1)}).on("mouseout",function(t){h.hidden(!0)}),h.headerFormatter(function(t){return"Node"}),$(r),x(a),o.on("tick",function(){r.attr("x1",function(t){return t.source.x}).attr("y1",function(t){return t.source.y}).attr("x2",function(t){return t.target.x}).attr("y2",function(t){return t.target.y}),a.attr("transform",function(t){return"translate("+t.x+", "+t.y+")"})})}),_}return _.options=ht.utils.optionsFunc.bind(_),_._options=Object.create({},{width:{get:function(){return l},set:function(t){l=t}},height:{get:function(){return u},set:function(t){u=t}},linkStrength:{get:function(){return d},set:function(t){d=t}},friction:{get:function(){return f},set:function(t){f=t}},linkDist:{get:function(){return g},set:function(t){g=t}},charge:{get:function(){return m},set:function(t){m=t}},gravity:{get:function(){return v},set:function(t){v=t}},theta:{get:function(){return y},set:function(t){y=t}},alpha:{get:function(){return b},set:function(t){b=t}},radius:{get:function(){return w},set:function(t){w=t}},x:{get:function(){return getX},set:function(t){getX=d3.functor(t)}},y:{get:function(){return getY},set:function(t){getY=d3.functor(t)}},margin:{get:function(){return s},set:function(t){s.top=void 0!==t.top?t.top:s.top,s.right=void 0!==t.right?t.right:s.right,s.bottom=void 0!==t.bottom?t.bottom:s.bottom,s.left=void 0!==t.left?t.left:s.left}},color:{get:function(){return p},set:function(t){p=ht.utils.getColor(t)}},noData:{get:function(){return e},set:function(t){e=t}},nodeExtras:{get:function(){return x},set:function(t){x=t}},linkExtras:{get:function(){return $},set:function(t){$=t}}}),_.dispatch=t,_.tooltip=h,ht.utils.initOptions(_),_},ht.models.furiousLegend=function(){"use strict";var k={top:5,right:0,bottom:5,left:0},C=400,S=20,T=function(t){return t.key},A=function(t){return t},D=ht.utils.getColor(),M=20,E=!0,P=28,O=!0,I=!0,R=!1,L=!1,F=d3.dispatch("legendClick","legendDblclick","legendMouseover","legendMouseout","stateChange"),N="classic";function e(t){function $(t,e){return"furious"!=N?"#000":L?t.disengaged?D(t,e):"#fff":L?void 0:t.disabled?D(t,e):"#fff"}function _(t,e){return L&&"furious"==N?t.disengaged?"#fff":D(t,e):t.disabled?"#fff":D(t,e)}return t.each(function(t){var e=C-k.left-k.right,n=d3.select(this);ht.utils.initSVG(n);var i=n.selectAll("g.nv-legend").data([t]),o=(i.enter().append("g").attr("class","nvd3 nv-legend").append("g"),i.select("g"));i.attr("transform","translate("+k.left+","+k.top+")");var r,a=o.selectAll(".nv-series").data(function(t){return"furious"!=N?t:t.filter(function(t){return!!L||!t.disengaged})}),s=a.enter().append("g").attr("class","nv-series");if("classic"==N)s.append("circle").style("stroke-width",2).attr("class","nv-legend-symbol").attr("r",5),r=a.select("circle");else if("furious"==N){s.append("rect").style("stroke-width",2).attr("class","nv-legend-symbol").attr("rx",3).attr("ry",3),r=a.select("rect"),s.append("g").attr("class","nv-check-box").property("innerHTML",'<path d="M0.5,5 L22.5,5 L22.5,26.5 L0.5,26.5 L0.5,5 Z" class="nv-box"></path><path d="M5.5,12.8618467 L11.9185089,19.2803556 L31,0.198864511" class="nv-check"></path>').attr("transform","translate(-10,-8)scale(0.5)"),a.select(".nv-check-box").each(function(t,e){d3.select(this).selectAll("path").attr("stroke",$(t,e))})}s.append("text").attr("text-anchor","start").attr("class","nv-legend-text").attr("dy",".32em").attr("dx","8");var l,u=a.select("text.nv-legend-text");switch(a.on("mouseover",function(t,e){F.legendMouseover(t,e)}).on("mouseout",function(t,e){F.legendMouseout(t,e)}).on("click",function(t,e){F.legendClick(t,e);var n=a.data();if(I){if("classic"==N)R?(n.forEach(function(t){t.disabled=!0}),t.disabled=!1):(t.disabled=!t.disabled,n.every(function(t){return t.disabled})&&n.forEach(function(t){t.disabled=!1}));else if("furious"==N)if(L)t.disengaged=!t.disengaged,t.userDisabled=null==t.userDisabled?!!t.disabled:t.userDisabled,t.disabled=t.disengaged||t.userDisabled;else if(!L){t.disabled=!t.disabled,t.userDisabled=t.disabled,n.filter(function(t){return!t.disengaged}).every(function(t){return t.userDisabled})&&n.forEach(function(t){t.disabled=t.userDisabled=!1})}F.stateChange({disabled:n.map(function(t){return!!t.disabled}),disengaged:n.map(function(t){return!!t.disengaged})})}}).on("dblclick",function(t,e){if(("furious"!=N||!L)&&(F.legendDblclick(t,e),I)){var n=a.data();n.forEach(function(t){t.disabled=!0,"furious"==N&&(t.userDisabled=t.disabled)}),t.disabled=!1,"furious"==N&&(t.userDisabled=t.disabled),F.stateChange({disabled:n.map(function(t){return!!t.disabled})})}}),a.classed("nv-disabled",function(t){return t.userDisabled}),a.exit().remove(),u.attr("fill",$).text(function(t){return A(T(t))}),N){case"furious":l=23;break;case"classic":l=20}if(E){var c=[];a.each(function(t,e){var n,i;if(A(T(t))&&A(T(t)).length>M){var o=A(T(t)).substring(0,M);n=d3.select(this).select("text").text(o+"..."),d3.select(this).append("svg:title").text(A(T(t)))}else n=d3.select(this).select("text");try{if((i=n.node().getComputedTextLength())<=0)throw Error()}catch(t){i=ht.utils.calcApproxTextWidth(n)}c.push(i+P)});for(var p=0,h=0,d=[];h<e&&p<c.length;)d[p]=c[p],h+=c[p++];for(0===p&&(p=1);e<h&&1<p;){d=[],p--;for(var f=0;f<c.length;f++)c[f]>(d[f%p]||0)&&(d[f%p]=c[f]);h=d.reduce(function(t,e,n,i){return t+e})}for(var g=[],m=0,v=0;m<p;m++)g[m]=v,v+=d[m];a.attr("transform",function(t,e){return"translate("+g[e%p]+","+(5+Math.floor(e/p)*l)+")"}),O?o.attr("transform","translate("+(C-k.right-h)+","+k.top+")"):o.attr("transform","translate(0,"+k.top+")"),S=k.top+k.bottom+Math.ceil(c.length/p)*l}else{var y,b=5,w=5,x=0;a.attr("transform",function(t,e){var n=d3.select(this).select("text").node().getComputedTextLength()+P;return y=w,C<k.left+k.right+y+n&&(w=y=5,b+=l),x<(w+=n)&&(x=w),"translate("+y+","+b+")"}),o.attr("transform","translate("+(C-k.right-x)+","+k.top+")"),S=k.top+k.bottom+b+15}"furious"==N&&r.attr("width",function(t,e){return u[0][e].getComputedTextLength()+27}).attr("height",18).attr("y",-9).attr("x",-15),r.style("fill",_).style("stroke",function(t,e){return t.color||D(t,e)})}),e}return e.dispatch=F,e.options=ht.utils.optionsFunc.bind(e),e._options=Object.create({},{width:{get:function(){return C},set:function(t){C=t}},height:{get:function(){return S},set:function(t){S=t}},key:{get:function(){return T},set:function(t){T=t}},keyFormatter:{get:function(){return A},set:function(t){A=t}},align:{get:function(){return E},set:function(t){E=t}},rightAlign:{get:function(){return O},set:function(t){O=t}},maxKeyLength:{get:function(){return M},set:function(t){M=t}},padding:{get:function(){return P},set:function(t){P=t}},updateState:{get:function(){return I},set:function(t){I=t}},radioButtonMode:{get:function(){return R},set:function(t){R=t}},expanded:{get:function(){return L},set:function(t){L=t}},vers:{get:function(){return N},set:function(t){N=t}},margin:{get:function(){return k},set:function(t){k.top=void 0!==t.top?t.top:k.top,k.right=void 0!==t.right?t.right:k.right,k.bottom=void 0!==t.bottom?t.bottom:k.bottom,k.left=void 0!==t.left?t.left:k.left}},color:{get:function(){return D},set:function(t){D=ht.utils.getColor(t)}}}),ht.utils.initOptions(e),e},ht.models.historicalBar=function(){"use strict";var u,c,p,h,d={top:0,right:0,bottom:0,left:0},f=null,g=null,m=Math.floor(1e4*Math.random()),v=null,y=d3.scale.linear(),b=d3.scale.linear(),w=function(t){return t.x},x=function(t){return t.y},$=[],_=[0],k=!1,C=!0,S=ht.utils.defaultColor(),T=d3.dispatch("chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout","elementMousemove","renderEnd"),A=!0,D=ht.utils.renderWatch(T,0);function e(t){return t.each(function(n){D.reset(),v=d3.select(this);var i=ht.utils.availableWidth(f,v,d),t=ht.utils.availableHeight(g,v,d);ht.utils.initSVG(v),y.domain(u||d3.extent(n[0].values.map(w).concat($))),k?y.range(p||[.5*i/n[0].values.length,i*(n[0].values.length-.5)/n[0].values.length]):y.range(p||[0,i]),b.domain(c||d3.extent(n[0].values.map(x).concat(_))).range(h||[t,0]),y.domain()[0]===y.domain()[1]&&(y.domain()[0]?y.domain([y.domain()[0]-.01*y.domain()[0],y.domain()[1]+.01*y.domain()[1]]):y.domain([-1,1])),b.domain()[0]===b.domain()[1]&&(b.domain()[0]?b.domain([b.domain()[0]+.01*b.domain()[0],b.domain()[1]-.01*b.domain()[1]]):b.domain([-1,1]));var e=v.selectAll("g.nv-wrap.nv-historicalBar-"+m).data([n[0].values]),o=e.enter().append("g").attr("class","nvd3 nv-wrap nv-historicalBar-"+m),r=o.append("defs"),a=o.append("g"),s=e.select("g");a.append("g").attr("class","nv-bars"),e.attr("transform","translate("+d.left+","+d.top+")"),v.on("click",function(t,e){T.chartClick({data:t,index:e,pos:d3.event,id:m})}),r.append("clipPath").attr("id","nv-chart-clip-path-"+m).append("rect"),e.select("#nv-chart-clip-path-"+m+" rect").attr("width",i).attr("height",t),s.attr("clip-path",C?"url(#nv-chart-clip-path-"+m+")":"");var l=e.select(".nv-bars").selectAll(".nv-bar").data(function(t){return t},function(t,e){return w(t,e)});l.exit().remove(),l.enter().append("rect").attr("x",0).attr("y",function(t,e){return ht.utils.NaNtoZero(b(Math.max(0,x(t,e))))}).attr("height",function(t,e){return ht.utils.NaNtoZero(Math.abs(b(x(t,e))-b(0)))}).attr("transform",function(t,e){return"translate("+(y(w(t,e))-i/n[0].values.length*.45)+",0)"}).on("mouseover",function(t,e){A&&(d3.select(this).classed("hover",!0),T.elementMouseover({data:t,index:e,color:d3.select(this).style("fill")}))}).on("mouseout",function(t,e){A&&(d3.select(this).classed("hover",!1),T.elementMouseout({data:t,index:e,color:d3.select(this).style("fill")}))}).on("mousemove",function(t,e){A&&T.elementMousemove({data:t,index:e,color:d3.select(this).style("fill")})}).on("click",function(t,e){A&&(T.elementClick({data:t,index:e,color:d3.select(this).style("fill")}),d3.event.stopPropagation())}).on("dblclick",function(t,e){A&&(T.elementDblClick({data:t,index:e,color:d3.select(this).style("fill")}),d3.event.stopPropagation())}),l.attr("fill",function(t,e){return S(t,e)}).attr("class",function(t,e,n){return(x(t,e)<0?"nv-bar negative":"nv-bar positive")+" nv-bar-"+n+"-"+e}).watchTransition(D,"bars").attr("transform",function(t,e){return"translate("+(y(w(t,e))-i/n[0].values.length*.45)+",0)"}).attr("width",i/n[0].values.length*.9),l.watchTransition(D,"bars").attr("y",function(t,e){var n=x(t,e)<0?b(0):b(0)-b(x(t,e))<1?b(0)-1:b(x(t,e));return ht.utils.NaNtoZero(n)}).attr("height",function(t,e){return ht.utils.NaNtoZero(Math.max(Math.abs(b(x(t,e))-b(0)),1))})}),D.renderEnd("historicalBar immediate"),e}return e.highlightPoint=function(t,e){v.select(".nv-bars .nv-bar-0-"+t).classed("hover",e)},e.clearHighlights=function(){v.select(".nv-bars .nv-bar.hover").classed("hover",!1)},e.dispatch=T,e.options=ht.utils.optionsFunc.bind(e),e._options=Object.create({},{width:{get:function(){return f},set:function(t){f=t}},height:{get:function(){return g},set:function(t){g=t}},forceX:{get:function(){return $},set:function(t){$=t}},forceY:{get:function(){return _},set:function(t){_=t}},padData:{get:function(){return k},set:function(t){k=t}},x:{get:function(){return w},set:function(t){w=t}},y:{get:function(){return x},set:function(t){x=t}},xScale:{get:function(){return y},set:function(t){y=t}},yScale:{get:function(){return b},set:function(t){b=t}},xDomain:{get:function(){return u},set:function(t){u=t}},yDomain:{get:function(){return c},set:function(t){c=t}},xRange:{get:function(){return p},set:function(t){p=t}},yRange:{get:function(){return h},set:function(t){h=t}},clipEdge:{get:function(){return C},set:function(t){C=t}},id:{get:function(){return m},set:function(t){m=t}},interactive:{get:function(){return A},set:function(t){A=t}},margin:{get:function(){return d},set:function(t){d.top=void 0!==t.top?t.top:d.top,d.right=void 0!==t.right?t.right:d.right,d.bottom=void 0!==t.bottom?t.bottom:d.bottom,d.left=void 0!==t.left?t.left:d.left}},color:{get:function(){return S},set:function(t){S=ht.utils.getColor(t)}}}),ht.utils.initOptions(e),e},ht.models.historicalBarChart=function(t){"use strict";var u,c,p=t||ht.models.historicalBar(),h=ht.models.axis(),d=ht.models.axis(),f=ht.models.legend(),g=ht.interactiveGuideline(),e=ht.models.tooltip(),m={top:30,right:90,bottom:50,left:90},v=ht.utils.defaultColor(),y=null,b=null,w=!1,x=!0,$=!0,_=!1,k=!1,C={},S=null,n=null,T=d3.dispatch("tooltipHide","stateChange","changeState","renderEnd"),A=250;h.orient("bottom").tickPadding(7),d.orient(_?"right":"left"),e.duration(0).headerEnabled(!1).valueFormatter(function(t,e){return d.tickFormat()(t,e)}).headerFormatter(function(t,e){return h.tickFormat()(t,e)});var D=ht.utils.renderWatch(T,0);function M(s){return s.each(function(l){D.reset(),D.models(p),x&&D.models(h),$&&D.models(d);var t=d3.select(this);ht.utils.initSVG(t);var e,n=ht.utils.availableWidth(y,t,m),i=ht.utils.availableHeight(b,t,m);if(M.update=function(){t.transition().duration(A).call(M)},M.container=this,C.disabled=l.map(function(t){return!!t.disabled}),!S)for(e in S={},C)C[e]instanceof Array?S[e]=C[e].slice(0):S[e]=C[e];if(!(l&&l.length&&l.filter(function(t){return t.values.length}).length))return ht.utils.noData(M,t),M;t.selectAll(".nv-noData").remove(),u=p.xScale(),c=p.yScale();var o=t.selectAll("g.nv-wrap.nv-historicalBarChart").data([l]),r=o.enter().append("g").attr("class","nvd3 nv-wrap nv-historicalBarChart").append("g"),a=o.select("g");r.append("g").attr("class","nv-x nv-axis"),r.append("g").attr("class","nv-y nv-axis"),r.append("g").attr("class","nv-barsWrap"),r.append("g").attr("class","nv-legendWrap"),r.append("g").attr("class","nv-interactive"),w?(f.width(n),a.select(".nv-legendWrap").datum(l).call(f),f.height()>m.top&&(m.top=f.height(),i=ht.utils.availableHeight(b,t,m)),o.select(".nv-legendWrap").attr("transform","translate(0,"+-m.top+")")):a.select(".nv-legendWrap").selectAll("*").remove(),o.attr("transform","translate("+m.left+","+m.top+")"),_&&a.select(".nv-y.nv-axis").attr("transform","translate("+n+",0)"),k&&(g.width(n).height(i).margin({left:m.left,top:m.top}).svgContainer(t).xScale(u),o.select(".nv-interactive").call(g)),p.width(n).height(i).color(l.map(function(t,e){return t.color||v(t,e)}).filter(function(t,e){return!l[e].disabled})),a.select(".nv-barsWrap").datum(l.filter(function(t){return!t.disabled})).transition().call(p),x&&(h.scale(u)._ticks(ht.utils.calcTicksX(n/100,l)).tickSize(-i,0),a.select(".nv-x.nv-axis").attr("transform","translate(0,"+c.range()[0]+")"),a.select(".nv-x.nv-axis").transition().call(h)),$&&(d.scale(c)._ticks(ht.utils.calcTicksY(i/36,l)).tickSize(-n,0),a.select(".nv-y.nv-axis").transition().call(d)),g.dispatch.on("elementMousemove",function(i){p.clearHighlights();var o,r,a,s=[];l.filter(function(t,e){return t.seriesIndex=e,!t.disabled}).forEach(function(t,e){r=ht.interactiveBisect(t.values,i.pointXValue,M.x()),p.highlightPoint(r,!0);var n=t.values[r];void 0!==n&&(void 0===o&&(o=n),void 0===a&&(a=M.xScale()(M.x()(n,r))),s.push({key:t.key,value:M.y()(n,r),color:v(t,t.seriesIndex),data:t.values[r]}))});var t=h.tickFormat()(M.x()(o,r));g.tooltip.valueFormatter(function(t,e){return d.tickFormat()(t)}).data({value:t,index:r,series:s})(),g.renderGuideLine(a)}),g.dispatch.on("elementMouseout",function(t){T.tooltipHide(),p.clearHighlights()}),f.dispatch.on("legendClick",function(t,e){t.disabled=!t.disabled,l.filter(function(t){return!t.disabled}).length||l.map(function(t){return t.disabled=!1,o.selectAll(".nv-series").classed("disabled",!1),t}),C.disabled=l.map(function(t){return!!t.disabled}),T.stateChange(C),s.transition().call(M)}),f.dispatch.on("legendDblclick",function(t){l.forEach(function(t){t.disabled=!0}),t.disabled=!1,C.disabled=l.map(function(t){return!!t.disabled}),T.stateChange(C),M.update()}),T.on("changeState",function(n){void 0!==n.disabled&&(l.forEach(function(t,e){t.disabled=n.disabled[e]}),C.disabled=n.disabled),M.update()})}),D.renderEnd("historicalBarChart immediate"),M}return p.dispatch.on("elementMouseover.tooltip",function(t){t.series={key:M.x()(t.data),value:M.y()(t.data),color:t.color},e.data(t).hidden(!1)}),p.dispatch.on("elementMouseout.tooltip",function(t){e.hidden(!0)}),p.dispatch.on("elementMousemove.tooltip",function(t){e()}),M.dispatch=T,M.bars=p,M.legend=f,M.xAxis=h,M.yAxis=d,M.interactiveLayer=g,M.tooltip=e,M.options=ht.utils.optionsFunc.bind(M),M._options=Object.create({},{width:{get:function(){return y},set:function(t){y=t}},height:{get:function(){return b},set:function(t){b=t}},showLegend:{get:function(){return w},set:function(t){w=t}},showXAxis:{get:function(){return x},set:function(t){x=t}},showYAxis:{get:function(){return $},set:function(t){$=t}},defaultState:{get:function(){return S},set:function(t){S=t}},noData:{get:function(){return n},set:function(t){n=t}},margin:{get:function(){return m},set:function(t){m.top=void 0!==t.top?t.top:m.top,m.right=void 0!==t.right?t.right:m.right,m.bottom=void 0!==t.bottom?t.bottom:m.bottom,m.left=void 0!==t.left?t.left:m.left}},color:{get:function(){return v},set:function(t){v=ht.utils.getColor(t),f.color(v),p.color(v)}},duration:{get:function(){return A},set:function(t){A=t,D.reset(A),d.duration(A),h.duration(A)}},rightAlignYAxis:{get:function(){return _},set:function(t){_=t,d.orient(t?"right":"left")}},useInteractiveGuideline:{get:function(){return k},set:function(t){!0===(k=t)&&M.interactive(!1)}}}),ht.utils.inheritOptions(M,p),ht.utils.initOptions(M),M},ht.models.ohlcBarChart=function(){var n=ht.models.historicalBarChart(ht.models.ohlcBar());return n.useInteractiveGuideline(!0),n.interactiveLayer.tooltip.contentGenerator(function(t){var e=t.series[0].data;return'<h3 style="color: #'+(e.open<e.close?"2ca02c":"d62728")+'">'+t.value+"</h3><table><tr><td>open:</td><td>"+n.yAxis.tickFormat()(e.open)+"</td></tr><tr><td>close:</td><td>"+n.yAxis.tickFormat()(e.close)+"</td></tr><tr><td>high</td><td>"+n.yAxis.tickFormat()(e.high)+"</td></tr><tr><td>low:</td><td>"+n.yAxis.tickFormat()(e.low)+"</td></tr></table>"}),n},ht.models.candlestickBarChart=function(){var n=ht.models.historicalBarChart(ht.models.candlestickBar());return n.useInteractiveGuideline(!0),n.interactiveLayer.tooltip.contentGenerator(function(t){var e=t.series[0].data;return'<h3 style="color: #'+(e.open<e.close?"2ca02c":"d62728")+'">'+t.value+"</h3><table><tr><td>open:</td><td>"+n.yAxis.tickFormat()(e.open)+"</td></tr><tr><td>close:</td><td>"+n.yAxis.tickFormat()(e.close)+"</td></tr><tr><td>high</td><td>"+n.yAxis.tickFormat()(e.high)+"</td></tr><tr><td>low:</td><td>"+n.yAxis.tickFormat()(e.low)+"</td></tr></table>"}),n},ht.models.legend=function(){"use strict";var S={top:5,right:0,bottom:5,left:0},T=400,A=20,D=function(t){return t.key},M=function(t){return t},n=ht.utils.getColor(),E=20,P=!0,O=32,I=!0,R=!0,L=!1,F=!1,N=d3.dispatch("legendClick","legendDblclick","legendMouseover","legendMouseout","stateChange"),j="classic";function e(t){function _(t,e){return"furious"!=j?"#000":F?t.disengaged?"#000":"#fff":F?void 0:(t.color||(t.color=n(t,e)),t.disabled?t.color:"#fff")}function k(t,e){return F&&"furious"==j&&t.disengaged?"#eee":t.color||n(t,e)}function C(t,e){return F&&"furious"==j?1:t.disabled?0:1}return t.each(function(t){var e=T-S.left-S.right,n=d3.select(this);ht.utils.initSVG(n);var i=n.selectAll("g.nv-legend").data([t]),o=i.enter().append("g").attr("class","nvd3 nv-legend").append("g"),r=i.select("g");i.attr("transform","translate("+S.left+","+S.top+")");var a,s,l=r.selectAll(".nv-series").data(function(t){return"furious"!=j?t:t.filter(function(t){return!!F||!t.disengaged})}),u=l.enter().append("g").attr("class","nv-series");switch(j){case"furious":s=23;break;case"classic":s=20}if("classic"==j)u.append("circle").style("stroke-width",2).attr("class","nv-legend-symbol").attr("r",5),a=l.select(".nv-legend-symbol");else if("furious"==j){u.append("rect").style("stroke-width",2).attr("class","nv-legend-symbol").attr("rx",3).attr("ry",3),a=l.select(".nv-legend-symbol"),u.append("g").attr("class","nv-check-box").property("innerHTML",'<path d="M0.5,5 L22.5,5 L22.5,26.5 L0.5,26.5 L0.5,5 Z" class="nv-box"></path><path d="M5.5,12.8618467 L11.9185089,19.2803556 L31,0.198864511" class="nv-check"></path>').attr("transform","translate(-10,-8)scale(0.5)"),l.select(".nv-check-box").each(function(t,e){d3.select(this).selectAll("path").attr("stroke",_(t,e))})}u.append("text").attr("text-anchor","start").attr("class","nv-legend-text").attr("dy",".32em").attr("dx","8");var c=l.select("text.nv-legend-text");l.on("mouseover",function(t,e){N.legendMouseover(t,e)}).on("mouseout",function(t,e){N.legendMouseout(t,e)}).on("click",function(t,e){N.legendClick(t,e);var n=l.data();if(R){if("classic"==j)L?(n.forEach(function(t){t.disabled=!0}),t.disabled=!1):(t.disabled=!t.disabled,n.every(function(t){return t.disabled})&&n.forEach(function(t){t.disabled=!1}));else if("furious"==j)if(F)t.disengaged=!t.disengaged,t.userDisabled=null==t.userDisabled?!!t.disabled:t.userDisabled,t.disabled=t.disengaged||t.userDisabled;else if(!F){t.disabled=!t.disabled,t.userDisabled=t.disabled,n.filter(function(t){return!t.disengaged}).every(function(t){return t.userDisabled})&&n.forEach(function(t){t.disabled=t.userDisabled=!1})}N.stateChange({disabled:n.map(function(t){return!!t.disabled}),disengaged:n.map(function(t){return!!t.disengaged})})}}).on("dblclick",function(t,e){if(("furious"!=j||!F)&&(N.legendDblclick(t,e),R)){var n=l.data();n.forEach(function(t){t.disabled=!0,"furious"==j&&(t.userDisabled=t.disabled)}),t.disabled=!1,"furious"==j&&(t.userDisabled=t.disabled),N.stateChange({disabled:n.map(function(t){return!!t.disabled})})}}),l.classed("nv-disabled",function(t){return t.userDisabled}),l.exit().remove(),c.attr("fill",_).text(function(t){return M(D(t))});var p=0;if(P){var h=[];l.each(function(t,e){var n,i;if(M(D(t))&&M(D(t)).length>E){var o=M(D(t)).substring(0,E);n=d3.select(this).select("text").text(o+"..."),d3.select(this).append("svg:title").text(M(D(t)))}else n=d3.select(this).select("text");try{if((i=n.node().getComputedTextLength())<=0)throw Error()}catch(t){i=ht.utils.calcApproxTextWidth(n)}h.push(i+O)});var d=0,f=[];for(p=0;p<e&&d<h.length;)f[d]=h[d],p+=h[d++];for(0===d&&(d=1);e<p&&1<d;){f=[],d--;for(var g=0;g<h.length;g++)h[g]>(f[g%d]||0)&&(f[g%d]=h[g]);p=f.reduce(function(t,e,n,i){return t+e})}for(var m=[],v=0,y=0;v<d;v++)m[v]=y,y+=f[v];l.attr("transform",function(t,e){return"translate("+m[e%d]+","+(5+Math.floor(e/d)*s)+")"}),I?r.attr("transform","translate("+(T-S.right-p)+","+S.top+")"):r.attr("transform","translate(0,"+S.top+")"),A=S.top+S.bottom+Math.ceil(h.length/d)*s}else{var b,w=5,x=5,$=0;l.attr("transform",function(t,e){var n=d3.select(this).select("text").node().getComputedTextLength()+O;return b=x,T<S.left+S.right+b+n&&(x=b=5,w+=s),$<(x+=n)&&($=x),p<b+$&&(p=b+$),"translate("+b+","+w+")"}),r.attr("transform","translate("+(T-S.right-$)+","+S.top+")"),A=S.top+S.bottom+w+15}"furious"==j&&(a.attr("width",function(t,e){return c[0][e].getComputedTextLength()+27}).attr("height",18).attr("y",-9).attr("x",-15),o.insert("rect",":first-child").attr("class","nv-legend-bg").attr("fill","#eee").attr("opacity",0),r.select(".nv-legend-bg").transition().duration(300).attr("x",-s).attr("width",p+s-12).attr("height",A+10).attr("y",-S.top-10).attr("opacity",F?1:0));a.style("fill",k).style("fill-opacity",C).style("stroke",k)}),e}return e.dispatch=N,e.options=ht.utils.optionsFunc.bind(e),e._options=Object.create({},{width:{get:function(){return T},set:function(t){T=t}},height:{get:function(){return A},set:function(t){A=t}},key:{get:function(){return D},set:function(t){D=t}},keyFormatter:{get:function(){return M},set:function(t){M=t}},align:{get:function(){return P},set:function(t){P=t}},maxKeyLength:{get:function(){return E},set:function(t){E=t}},rightAlign:{get:function(){return I},set:function(t){I=t}},padding:{get:function(){return O},set:function(t){O=t}},updateState:{get:function(){return R},set:function(t){R=t}},radioButtonMode:{get:function(){return L},set:function(t){L=t}},expanded:{get:function(){return F},set:function(t){F=t}},vers:{get:function(){return j},set:function(t){j=t}},margin:{get:function(){return S},set:function(t){S.top=void 0!==t.top?t.top:S.top,S.right=void 0!==t.right?t.right:S.right,S.bottom=void 0!==t.bottom?t.bottom:S.bottom,S.left=void 0!==t.left?t.left:S.left}},color:{get:function(){return n},set:function(t){n=ht.utils.getColor(t)}}}),ht.utils.initOptions(e),e},ht.models.line=function(){"use strict";var h,d,f=ht.models.scatter(),g={top:0,right:0,bottom:0,left:0},m=960,v=500,y=null,b=1.5,w=ht.utils.defaultColor(),x=function(t){return t.x},$=function(t){return t.y},_=function(t,e){return!isNaN($(t,e))&&null!==$(t,e)},k=function(t){return t.area},C=!1,S="linear",e=250,t=d3.dispatch("elementClick","elementMouseover","elementMouseout","renderEnd");f.pointSize(16).pointDomain([16,256]);var T,A,D=ht.utils.renderWatch(t,e);function n(t){return D.reset(),D.models(f),t.each(function(t){y=d3.select(this);var e=ht.utils.availableWidth(m,y,g),n=ht.utils.availableHeight(v,y,g);ht.utils.initSVG(y),h=f.xScale(),d=f.yScale(),T=T||h,A=A||d;var i=y.selectAll("g.nv-wrap.nv-line").data([t]),o=i.enter().append("g").attr("class","nvd3 nv-wrap nv-line"),r=o.append("defs"),a=o.append("g"),s=i.select("g");a.append("g").attr("class","nv-groups"),a.append("g").attr("class","nv-scatterWrap"),i.attr("transform","translate("+g.left+","+g.top+")"),f.width(e).height(n);var l=i.select(".nv-scatterWrap");l.call(f),r.append("clipPath").attr("id","nv-edge-clip-"+f.id()).append("rect"),i.select("#nv-edge-clip-"+f.id()+" rect").attr("width",e).attr("height",0<n?n:0),s.attr("clip-path",C?"url(#nv-edge-clip-"+f.id()+")":""),l.attr("clip-path",C?"url(#nv-edge-clip-"+f.id()+")":"");var u=i.select(".nv-groups").selectAll(".nv-group").data(function(t){return t},function(t){return t.key});u.enter().append("g").style("stroke-opacity",1e-6).style("stroke-width",function(t){return t.strokeWidth||b}).style("fill-opacity",1e-6),u.exit().remove(),u.attr("class",function(t,e){return(t.classed||"")+" nv-group nv-series-"+e}).classed("hover",function(t){return t.hover}).style("fill",function(t,e){return w(t,e)}).style("stroke",function(t,e){return w(t,e)}),u.watchTransition(D,"line: groups").style("stroke-opacity",1).style("fill-opacity",function(t){return t.fillOpacity||.5});var c=u.selectAll("path.nv-area").data(function(t){return k(t)?[t]:[]});c.enter().append("path").attr("class","nv-area").attr("d",function(t){return d3.svg.area().interpolate(S).defined(_).x(function(t,e){return ht.utils.NaNtoZero(T(x(t,e)))}).y0(function(t,e){return ht.utils.NaNtoZero(A($(t,e)))}).y1(function(t,e){return A(d.domain()[0]<=0?0<=d.domain()[1]?0:d.domain()[1]:d.domain()[0])}).apply(this,[t.values])}),u.exit().selectAll("path.nv-area").remove(),c.watchTransition(D,"line: areaPaths").attr("d",function(t){return d3.svg.area().interpolate(S).defined(_).x(function(t,e){return ht.utils.NaNtoZero(h(x(t,e)))}).y0(function(t,e){return ht.utils.NaNtoZero(d($(t,e)))}).y1(function(t,e){return d(d.domain()[0]<=0?0<=d.domain()[1]?0:d.domain()[1]:d.domain()[0])}).apply(this,[t.values])});var p=u.selectAll("path.nv-line").data(function(t){return[t.values]});p.enter().append("path").attr("class","nv-line").attr("d",d3.svg.line().interpolate(S).defined(_).x(function(t,e){return ht.utils.NaNtoZero(T(x(t,e)))}).y(function(t,e){return ht.utils.NaNtoZero(A($(t,e)))})),p.watchTransition(D,"line: linePaths").attr("d",d3.svg.line().interpolate(S).defined(_).x(function(t,e){return ht.utils.NaNtoZero(h(x(t,e)))}).y(function(t,e){return ht.utils.NaNtoZero(d($(t,e)))})),T=h.copy(),A=d.copy()}),D.renderEnd("line immediate"),n}return n.dispatch=t,(n.scatter=f).dispatch.on("elementClick",function(){t.elementClick.apply(this,arguments)}),f.dispatch.on("elementMouseover",function(){t.elementMouseover.apply(this,arguments)}),f.dispatch.on("elementMouseout",function(){t.elementMouseout.apply(this,arguments)}),n.options=ht.utils.optionsFunc.bind(n),n._options=Object.create({},{width:{get:function(){return m},set:function(t){m=t}},height:{get:function(){return v},set:function(t){v=t}},defined:{get:function(){return _},set:function(t){_=t}},interpolate:{get:function(){return S},set:function(t){S=t}},clipEdge:{get:function(){return C},set:function(t){C=t}},margin:{get:function(){return g},set:function(t){g.top=void 0!==t.top?t.top:g.top,g.right=void 0!==t.right?t.right:g.right,g.bottom=void 0!==t.bottom?t.bottom:g.bottom,g.left=void 0!==t.left?t.left:g.left}},duration:{get:function(){return e},set:function(t){e=t,D.reset(e),f.duration(e)}},isArea:{get:function(){return k},set:function(t){k=d3.functor(t)}},x:{get:function(){return x},set:function(t){x=t,f.x(t)}},y:{get:function(){return $},set:function(t){$=t,f.y(t)}},color:{get:function(){return w},set:function(t){w=ht.utils.getColor(t),f.color(w)}}}),ht.utils.inheritOptions(n,f),ht.utils.initOptions(n),n},ht.models.lineChart=function(){"use strict";var f,g,m=ht.models.line(),v=ht.models.axis(),y=ht.models.axis(),b=ht.models.legend(),w=ht.interactiveGuideline(),e=ht.models.tooltip(),x=ht.models.focus(ht.models.line()),$={top:30,right:20,bottom:50,left:60},_=ht.utils.defaultColor(),k=null,C=null,S=!0,T="top",A=!0,D=!0,M=!1,E=!1,P=!1,O=ht.utils.state(),I=null,n=null,R=d3.dispatch("tooltipShow","tooltipHide","stateChange","changeState","renderEnd"),L=250;v.orient("bottom").tickPadding(7),y.orient(M?"right":"left"),m.clipEdge(!0).duration(0),e.valueFormatter(function(t,e){return y.tickFormat()(t,e)}).headerFormatter(function(t,e){return v.tickFormat()(t,e)}),w.tooltip.valueFormatter(function(t,e){return y.tickFormat()(t,e)}).headerFormatter(function(t,e){return v.tickFormat()(t,e)});var i=ht.utils.renderWatch(R,L),F=function(t){return function(){return{active:t.map(function(t){return!t.disabled})}}},N=function(t){return function(n){void 0!==n.active&&t.forEach(function(t,e){t.disabled=!n.active[e]})}};function j(t){return i.reset(),i.models(m),A&&i.models(v),D&&i.models(y),t.each(function(i){var t=d3.select(this);ht.utils.initSVG(t);var e,n=ht.utils.availableWidth(k,t,$),o=ht.utils.availableHeight(C,t,$)-(P?x.height():0);if(j.update=function(){0===L?t.call(j):t.transition().duration(L).call(j)},j.container=this,O.setter(N(i),j.update).getter(F(i)).update(),O.disabled=i.map(function(t){return!!t.disabled}),!I)for(e in I={},O)O[e]instanceof Array?I[e]=O[e].slice(0):I[e]=O[e];if(!(i&&i.length&&i.filter(function(t){return t.values.length}).length))return ht.utils.noData(j,t),j;t.selectAll(".nv-noData").remove(),x.dispatch.on("onBrush",function(t){d(t)}),f=m.xScale(),g=m.yScale();var r=t.selectAll("g.nv-wrap.nv-lineChart").data([i]),a=r.enter().append("g").attr("class","nvd3 nv-wrap nv-lineChart").append("g"),s=r.select("g");a.append("g").attr("class","nv-legendWrap");var l=a.append("g").attr("class","nv-focus");l.append("g").attr("class","nv-background").append("rect"),l.append("g").attr("class","nv-x nv-axis"),l.append("g").attr("class","nv-y nv-axis"),l.append("g").attr("class","nv-linesWrap"),l.append("g").attr("class","nv-interactive");a.append("g").attr("class","nv-focusWrap");S?(b.width(n),s.select(".nv-legendWrap").datum(i).call(b),"bottom"===T?r.select(".nv-legendWrap").attr("transform","translate(0,"+o+")"):"top"===T&&(b.height()>$.top&&($.top=b.height(),o=ht.utils.availableHeight(C,t,$)-(P?x.height():0)),r.select(".nv-legendWrap").attr("transform","translate(0,"+-$.top+")"))):s.select(".nv-legendWrap").selectAll("*").remove(),r.attr("transform","translate("+$.left+","+$.top+")"),M&&s.select(".nv-y.nv-axis").attr("transform","translate("+n+",0)"),E&&(w.width(n).height(o).margin({left:$.left,top:$.top}).svgContainer(t).xScale(f),r.select(".nv-interactive").call(w)),s.select(".nv-focus .nv-background rect").attr("width",n).attr("height",o),m.width(n).height(o).color(i.map(function(t,e){return t.color||_(t,e)}).filter(function(t,e){return!i[e].disabled}));var u=s.select(".nv-linesWrap").datum(i.filter(function(t){return!t.disabled}));function c(){A&&s.select(".nv-focus .nv-x.nv-axis").transition().duration(L).call(v)}function p(){D&&s.select(".nv-focus .nv-y.nv-axis").transition().duration(L).call(y)}if(A&&v.scale(f)._ticks(ht.utils.calcTicksX(n/100,i)).tickSize(-o,0),D&&y.scale(g)._ticks(ht.utils.calcTicksY(o/36,i)).tickSize(-n,0),s.select(".nv-focus .nv-x.nv-axis").attr("transform","translate(0,"+o+")"),P){x.width(n),s.select(".nv-focusWrap").attr("transform","translate(0,"+(o+$.bottom+x.margin().top)+")").datum(i.filter(function(t){return!t.disabled})).call(x);var h=x.brush.empty()?x.xDomain():x.brush.extent();null!==h&&d(h)}else u.call(m),c(),p();function d(n){s.select(".nv-focus .nv-linesWrap").datum(i.filter(function(t){return!t.disabled}).map(function(t,e){return{key:t.key,area:t.area,classed:t.classed,values:t.values.filter(function(t,e){return m.x()(t,e)>=n[0]&&m.x()(t,e)<=n[1]}),disableTooltip:t.disableTooltip}})).transition().duration(L).call(m),c(),p()}b.dispatch.on("stateChange",function(t){for(var e in t)O[e]=t[e];R.stateChange(O),j.update()}),w.dispatch.on("elementMousemove",function(a){m.clearHighlights();var s,l,u,c=[];if(i.filter(function(t,e){return t.seriesIndex=e,!t.disabled&&!t.disableTooltip}).forEach(function(t,e){var n=P?x.brush.empty()?x.xScale().domain():x.brush.extent():f.domain(),i=t.values.filter(function(t,e){return m.x()(t,e)>=n[0]&&m.x()(t,e)<=n[1]}),o=i[l=ht.interactiveBisect(i,a.pointXValue,m.x())],r=j.y()(o,l);null!==r&&m.highlightPoint(t.seriesIndex,l,!0),void 0!==o&&(void 0===s&&(s=o),void 0===u&&(u=j.xScale()(j.x()(o,l))),c.push({key:t.key,value:r,color:_(t,t.seriesIndex),data:o}))}),2<c.length){var t=j.yScale().invert(a.mouseY),e=.03*Math.abs(j.yScale().domain()[0]-j.yScale().domain()[1]),n=ht.nearestValueIndex(c.map(function(t){return t.value}),t,e);null!==n&&(c[n].highlight=!0)}w.tooltip.valueFormatter(w.tooltip.valueFormatter()||function(t,e){return null==t?"N/A":y.tickFormat()(t)}).data({value:j.x()(s,l),index:l,series:c})(),w.renderGuideLine(u)}),w.dispatch.on("elementClick",function(o){var r,a=[];i.filter(function(t,e){return t.seriesIndex=e,!t.disabled}).forEach(function(t){var e=ht.interactiveBisect(t.values,o.pointXValue,j.x()),n=t.values[e];if(void 0!==n){void 0===r&&(r=j.xScale()(j.x()(n,e)));var i=j.yScale()(j.y()(n,e));a.push({point:n,pointIndex:e,pos:[r,i],seriesIndex:t.seriesIndex,series:t})}}),m.dispatch.elementClick(a)}),w.dispatch.on("elementMouseout",function(t){m.clearHighlights()}),R.on("changeState",function(n){void 0!==n.disabled&&i.length===n.disabled.length&&(i.forEach(function(t,e){t.disabled=n.disabled[e]}),O.disabled=n.disabled),j.update()})}),i.renderEnd("lineChart immediate"),j}return m.dispatch.on("elementMouseover.tooltip",function(t){t.series.disableTooltip||e.data(t).hidden(!1)}),m.dispatch.on("elementMouseout.tooltip",function(t){e.hidden(!0)}),j.dispatch=R,j.lines=m,j.legend=b,j.focus=x,j.xAxis=v,j.x2Axis=x.xAxis,j.yAxis=y,j.y2Axis=x.yAxis,j.interactiveLayer=w,j.tooltip=e,j.state=O,j.dispatch=R,j.options=ht.utils.optionsFunc.bind(j),j._options=Object.create({},{width:{get:function(){return k},set:function(t){k=t}},height:{get:function(){return C},set:function(t){C=t}},showLegend:{get:function(){return S},set:function(t){S=t}},legendPosition:{get:function(){return T},set:function(t){T=t}},showXAxis:{get:function(){return A},set:function(t){A=t}},showYAxis:{get:function(){return D},set:function(t){D=t}},defaultState:{get:function(){return I},set:function(t){I=t}},noData:{get:function(){return n},set:function(t){n=t}},focusEnable:{get:function(){return P},set:function(t){P=t}},focusHeight:{get:function(){return x.height()},set:function(t){x.height(t)}},focusShowAxisX:{get:function(){return x.showXAxis()},set:function(t){x.showXAxis(t)}},focusShowAxisY:{get:function(){return x.showYAxis()},set:function(t){x.showYAxis(t)}},brushExtent:{get:function(){return x.brushExtent()},set:function(t){x.brushExtent(t)}},focusMargin:{get:function(){return x.margin},set:function(t){x.margin.top=void 0!==t.top?t.top:x.margin.top,x.margin.right=void 0!==t.right?t.right:x.margin.right,x.margin.bottom=void 0!==t.bottom?t.bottom:x.margin.bottom,x.margin.left=void 0!==t.left?t.left:x.margin.left}},margin:{get:function(){return $},set:function(t){$.top=void 0!==t.top?t.top:$.top,$.right=void 0!==t.right?t.right:$.right,$.bottom=void 0!==t.bottom?t.bottom:$.bottom,$.left=void 0!==t.left?t.left:$.left}},duration:{get:function(){return L},set:function(t){L=t,i.reset(L),m.duration(L),x.duration(L),v.duration(L),y.duration(L)}},color:{get:function(){return _},set:function(t){_=ht.utils.getColor(t),b.color(_),m.color(_),x.color(_)}},interpolate:{get:function(){return m.interpolate()},set:function(t){m.interpolate(t),x.interpolate(t)}},xTickFormat:{get:function(){return v.tickFormat()},set:function(t){v.tickFormat(t),x.xTickFormat(t)}},yTickFormat:{get:function(){return y.tickFormat()},set:function(t){y.tickFormat(t),x.yTickFormat(t)}},x:{get:function(){return m.x()},set:function(t){m.x(t),x.x(t)}},y:{get:function(){return m.y()},set:function(t){m.y(t),x.y(t)}},rightAlignYAxis:{get:function(){return M},set:function(t){M=t,y.orient(M?"right":"left")}},useInteractiveGuideline:{get:function(){return E},set:function(t){(E=t)&&(m.interactive(!1),m.useVoronoi(!1))}}}),ht.utils.inheritOptions(j,m),ht.utils.initOptions(j),j},ht.models.lineWithFocusChart=function(){return ht.models.lineChart().margin({bottom:30}).focusEnable(!0)},ht.models.linePlusBarChart=function(){"use strict";var _,k,C,S,T,A,D,M=ht.models.line(),E=ht.models.line(),P=ht.models.historicalBar(),O=ht.models.historicalBar(),I=ht.models.axis(),R=ht.models.axis(),L=ht.models.axis(),F=ht.models.axis(),N=ht.models.axis(),j=ht.models.axis(),B=ht.models.legend(),U=d3.svg.brush(),e=ht.models.tooltip(),z={top:30,right:30,bottom:30,left:60},H={top:0,right:30,bottom:20,left:60},V=null,q=null,W=function(t){return t.x},G=function(t){return t.y},Y=ht.utils.defaultColor(),K=!0,Z=!0,X=!1,J=!0,Q=50,tt=null,n=null,et=d3.dispatch("brush","stateChange","changeState"),nt=0,it=ht.utils.state(),ot=null,rt=" (left axis)",at=" (right axis)",st=!1;M.clipEdge(!0),E.interactive(!1),E.pointActive(function(t){return!1}),I.orient("bottom").tickPadding(5),L.orient("left"),F.orient("right"),R.orient("bottom").tickPadding(5),N.orient("left"),j.orient("right"),e.headerEnabled(!0).headerFormatter(function(t,e){return I.tickFormat()(t,e)});var lt=function(t){return function(){return{active:t.map(function(t){return!t.disabled})}}},ut=function(t){return function(n){void 0!==n.active&&t.forEach(function(t,e){t.disabled=!n.active[e]})}},ct=function(t){return t.every(function(t){return t.disabled})};function pt(t){return t.each(function(a){var t=d3.select(this);ht.utils.initSVG(t);var e,s=ht.utils.availableWidth(V,t,z),l=ht.utils.availableHeight(q,t,z)-(Z?Q:0),o=Q-H.top-H.bottom;if(pt.update=function(){t.transition().duration(nt).call(pt)},pt.container=this,it.setter(ut(a),pt.update).getter(lt(a)).update(),it.disabled=a.map(function(t){return!!t.disabled}),!ot)for(e in ot={},it)it[e]instanceof Array?ot[e]=it[e].slice(0):ot[e]=it[e];if(!(a&&a.length&&a.filter(function(t){return t.values.length}).length))return ht.utils.noData(pt,t),pt;t.selectAll(".nv-noData").remove();var u=a.filter(function(t){return!t.disabled&&t.bar}),c=a.filter(function(t){return!t.bar});k=u.length&&!st?P.xScale():M.xScale(),C=R.scale(),S=st?M.yScale():P.yScale(),T=st?P.yScale():M.yScale(),A=st?E.yScale():O.yScale(),D=st?O.yScale():E.yScale();var n=a.filter(function(t){return!t.disabled&&(st?!t.bar:t.bar)}).map(function(t){return t.values.map(function(t,e){return{x:W(t,e),y:G(t,e)}})}),i=a.filter(function(t){return!t.disabled&&(st?t.bar:!t.bar)}).map(function(t){return t.values.map(function(t,e){return{x:W(t,e),y:G(t,e)}})});k.range([0,s]),C.domain(d3.extent(d3.merge(n.concat(i)),function(t){return t.x})).range([0,s]);var r=t.selectAll("g.nv-wrap.nv-linePlusBar").data([a]),p=r.enter().append("g").attr("class","nvd3 nv-wrap nv-linePlusBar").append("g"),h=r.select("g");p.append("g").attr("class","nv-legendWrap");var d=p.append("g").attr("class","nv-focus");d.append("g").attr("class","nv-x nv-axis"),d.append("g").attr("class","nv-y1 nv-axis"),d.append("g").attr("class","nv-y2 nv-axis"),d.append("g").attr("class","nv-barsWrap"),d.append("g").attr("class","nv-linesWrap");var f=p.append("g").attr("class","nv-context");if(f.append("g").attr("class","nv-x nv-axis"),f.append("g").attr("class","nv-y1 nv-axis"),f.append("g").attr("class","nv-y2 nv-axis"),f.append("g").attr("class","nv-barsWrap"),f.append("g").attr("class","nv-linesWrap"),f.append("g").attr("class","nv-brushBackground"),f.append("g").attr("class","nv-x nv-brush"),K){var g=B.align()?s/2:s,m=B.align()?g:0;B.width(g),h.select(".nv-legendWrap").datum(a.map(function(t){return t.originalKey=void 0===t.originalKey?t.key:t.originalKey,t.key=st?t.originalKey+(t.bar?at:rt):t.originalKey+(t.bar?rt:at),t})).call(B),B.height()>z.top&&(z.top=B.height(),l=ht.utils.availableHeight(q,t,z)-Q),h.select(".nv-legendWrap").attr("transform","translate("+m+","+-z.top+")")}else h.select(".nv-legendWrap").selectAll("*").remove();r.attr("transform","translate("+z.left+","+z.top+")"),h.select(".nv-context").style("display",Z?"initial":"none"),O.width(s).height(o).color(a.map(function(t,e){return t.color||Y(t,e)}).filter(function(t,e){return!a[e].disabled&&a[e].bar})),E.width(s).height(o).color(a.map(function(t,e){return t.color||Y(t,e)}).filter(function(t,e){return!a[e].disabled&&!a[e].bar}));var v=h.select(".nv-context .nv-barsWrap").datum(u.length?u:[{values:[]}]),y=h.select(".nv-context .nv-linesWrap").datum(ct(c)?[{values:[]}]:c.filter(function(t){return!t.disabled}));h.select(".nv-context").attr("transform","translate(0,"+(l+z.bottom+H.top)+")"),v.transition().call(O),y.transition().call(E),J&&(R._ticks(ht.utils.calcTicksX(s/100,a)).tickSize(-o,0),h.select(".nv-context .nv-x.nv-axis").attr("transform","translate(0,"+A.range()[0]+")"),h.select(".nv-context .nv-x.nv-axis").transition().call(R)),X&&(N.scale(A)._ticks(o/36).tickSize(-s,0),j.scale(D)._ticks(o/36).tickSize(u.length?0:-s,0),h.select(".nv-context .nv-y3.nv-axis").style("opacity",u.length?1:0).attr("transform","translate(0,"+C.range()[0]+")"),h.select(".nv-context .nv-y2.nv-axis").style("opacity",c.length?1:0).attr("transform","translate("+C.range()[1]+",0)"),h.select(".nv-context .nv-y1.nv-axis").transition().call(N),h.select(".nv-context .nv-y2.nv-axis").transition().call(j)),U.x(C).on("brush",$),tt&&U.extent(tt);var b=h.select(".nv-brushBackground").selectAll("g").data([tt||U.extent()]),w=b.enter().append("g");w.append("rect").attr("class","left").attr("x",0).attr("y",0).attr("height",o),w.append("rect").attr("class","right").attr("x",0).attr("y",0).attr("height",o);var x=h.select(".nv-x.nv-brush").call(U);function $(){tt=U.empty()?null:U.extent(),_=U.empty()?C.domain():U.extent(),et.brush({extent:_,brush:U}),U.empty()||U.extent(tt),b.data([U.empty()?C.domain():tt]).each(function(t,e){var n=C(t[0])-C.range()[0],i=C.range()[1]-C(t[1]);d3.select(this).select(".left").attr("width",n<0?0:n),d3.select(this).select(".right").attr("x",C(t[1])).attr("width",i<0?0:i)}),P.width(s).height(l).color(a.map(function(t,e){return t.color||Y(t,e)}).filter(function(t,e){return!a[e].disabled&&a[e].bar})),M.width(s).height(l).color(a.map(function(t,e){return t.color||Y(t,e)}).filter(function(t,e){return!a[e].disabled&&!a[e].bar}));var t=h.select(".nv-focus .nv-barsWrap").datum(u.length?u.map(function(t,e){return{key:t.key,values:t.values.filter(function(t,e){return P.x()(t,e)>=_[0]&&P.x()(t,e)<=_[1]})}}):[{values:[]}]),e=h.select(".nv-focus .nv-linesWrap").datum(ct(c)?[{values:[]}]:c.filter(function(t){return!t.disabled}).map(function(t,e){return{area:t.area,fillOpacity:t.fillOpacity,strokeWidth:t.strokeWidth,key:t.key,values:t.values.filter(function(t,e){return M.x()(t,e)>=_[0]&&M.x()(t,e)<=_[1]})}}));k=u.length&&!st?P.xScale():M.xScale(),I.scale(k)._ticks(ht.utils.calcTicksX(s/100,a)).tickSize(-l,0),I.domain([Math.ceil(_[0]),Math.floor(_[1])]),h.select(".nv-x.nv-axis").transition().duration(nt).call(I),t.transition().duration(nt).call(P),e.transition().duration(nt).call(M),h.select(".nv-focus .nv-x.nv-axis").attr("transform","translate(0,"+S.range()[0]+")"),L.scale(S)._ticks(ht.utils.calcTicksY(l/36,a)).tickSize(-s,0),F.scale(T)._ticks(ht.utils.calcTicksY(l/36,a)),st?F.tickSize(c.length?0:-s,0):F.tickSize(u.length?0:-s,0);var n=u.length?1:0,i=c.length&&!ct(c)?1:0,o=st?i:n,r=st?n:i;h.select(".nv-focus .nv-y1.nv-axis").style("opacity",o),h.select(".nv-focus .nv-y2.nv-axis").style("opacity",r).attr("transform","translate("+k.range()[1]+",0)"),h.select(".nv-focus .nv-y1.nv-axis").transition().duration(nt).call(L),h.select(".nv-focus .nv-y2.nv-axis").transition().duration(nt).call(F)}x.selectAll("rect").attr("height",o),x.selectAll(".resize").append("path").attr("d",function(t){var e=+("e"==t),n=e?1:-1,i=o/3;return"M"+.5*n+","+i+"A6,6 0 0 "+e+" "+6.5*n+","+(i+6)+"V"+(2*i-6)+"A6,6 0 0 "+e+" "+.5*n+","+2*i+"ZM"+2.5*n+","+(i+8)+"V"+(2*i-8)+"M"+4.5*n+","+(i+8)+"V"+(2*i-8)}),B.dispatch.on("stateChange",function(t){for(var e in t)it[e]=t[e];et.stateChange(it),pt.update()}),et.on("changeState",function(n){void 0!==n.disabled&&(a.forEach(function(t,e){t.disabled=n.disabled[e]}),it.disabled=n.disabled),pt.update()}),$()}),pt}return M.dispatch.on("elementMouseover.tooltip",function(t){e.duration(100).valueFormatter(function(t,e){return(st?{main:L,focus:N}:{main:F,focus:j}).main.tickFormat()(t,e)}).data(t).hidden(!1)}),M.dispatch.on("elementMouseout.tooltip",function(t){e.hidden(!0)}),P.dispatch.on("elementMouseover.tooltip",function(t){t.value=pt.x()(t.data),t.series={value:pt.y()(t.data),color:t.color},e.duration(0).valueFormatter(function(t,e){return(st?{main:F,focus:j}:{main:L,focus:N}).main.tickFormat()(t,e)}).data(t).hidden(!1)}),P.dispatch.on("elementMouseout.tooltip",function(t){e.hidden(!0)}),P.dispatch.on("elementMousemove.tooltip",function(t){e()}),pt.dispatch=et,pt.legend=B,pt.lines=M,pt.lines2=E,pt.bars=P,pt.bars2=O,pt.xAxis=I,pt.x2Axis=R,pt.y1Axis=L,pt.y2Axis=F,pt.y3Axis=N,pt.y4Axis=j,pt.tooltip=e,pt.options=ht.utils.optionsFunc.bind(pt),pt._options=Object.create({},{width:{get:function(){return V},set:function(t){V=t}},height:{get:function(){return q},set:function(t){q=t}},showLegend:{get:function(){return K},set:function(t){K=t}},brushExtent:{get:function(){return tt},set:function(t){tt=t}},noData:{get:function(){return n},set:function(t){n=t}},focusEnable:{get:function(){return Z},set:function(t){Z=t}},focusHeight:{get:function(){return Q},set:function(t){Q=t}},focusShowAxisX:{get:function(){return J},set:function(t){J=t}},focusShowAxisY:{get:function(){return X},set:function(t){X=t}},legendLeftAxisHint:{get:function(){return rt},set:function(t){rt=t}},legendRightAxisHint:{get:function(){return at},set:function(t){at=t}},margin:{get:function(){return z},set:function(t){z.top=void 0!==t.top?t.top:z.top,z.right=void 0!==t.right?t.right:z.right,z.bottom=void 0!==t.bottom?t.bottom:z.bottom,z.left=void 0!==t.left?t.left:z.left}},focusMargin:{get:function(){return H},set:function(t){H.top=void 0!==t.top?t.top:H.top,H.right=void 0!==t.right?t.right:H.right,H.bottom=void 0!==t.bottom?t.bottom:H.bottom,H.left=void 0!==t.left?t.left:H.left}},duration:{get:function(){return nt},set:function(t){nt=t}},color:{get:function(){return Y},set:function(t){Y=ht.utils.getColor(t),B.color(Y)}},x:{get:function(){return W},set:function(t){W=t,M.x(t),E.x(t),P.x(t),O.x(t)}},y:{get:function(){return G},set:function(t){G=t,M.y(t),E.y(t),P.y(t),O.y(t)}},switchYAxisOrder:{get:function(){return st},set:function(t){if(st!==t){var e=L;L=F,F=e;var n=N;N=j,j=n}st=t,L.orient("left"),F.orient("right"),N.orient("left"),j.orient("right")}}}),ht.utils.inheritOptions(pt,M),ht.utils.initOptions(pt),pt},ht.models.multiBar=function(){"use strict";var g,m,v,y,b,w,x,$={top:0,right:0,bottom:0,left:0},_=960,k=500,C=d3.scale.ordinal(),S=d3.scale.linear(),T=Math.floor(1e4*Math.random()),A=null,D=function(t){return t.x},M=function(t){return t.y},E=[0],P=!0,O=!1,I="zero",R=ht.utils.defaultColor(),L=!1,F=null,N=500,j=.1,B=.75,U=d3.dispatch("chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout","elementMousemove","renderEnd"),z=ht.utils.renderWatch(U,N),H=0;function e(t){return z.reset(),t.each(function(a){var t=_-$.left-$.right,e=k-$.top-$.bottom;A=d3.select(this),ht.utils.initSVG(A);var o=0;if(L&&a.length&&(L=[{values:a[0].values.map(function(t){return{x:t.x,y:0,series:t.series,size:.01}})}]),O){var i=d3.layout.stack().offset(I).values(function(t){return t.values}).y(M)(!a.length&&L?L:a);i.forEach(function(t,n){t.nonStackable?(a[n].nonStackableSeries=o++,i[n]=a[n]):0<n&&i[n-1].nonStackable&&i[n].values.map(function(t,e){t.y0-=i[n-1].values[e].y,t.y1=t.y0+t.y})}),a=i}a.forEach(function(e,n){e.values.forEach(function(t){t.series=n,t.key=e.key})}),O&&0<a.length&&a[0].values.map(function(t,i){var o=0,r=0;a.map(function(t,e){if(!a[e].nonStackable){var n=t.values[i];n.size=Math.abs(n.y),n.y<0?(n.y1=r,r-=n.size):(n.y1=n.size+o,o+=n.size)}})});var n=m&&v?[]:a.map(function(t,n){return t.values.map(function(t,e){return{x:D(t,e),y:M(t,e),y0:t.y0,y1:t.y1,idx:n}})});C.domain(m||d3.merge(n).map(function(t){return t.x})).rangeBands(y||[0,t],j),S.domain(v||d3.extent(d3.merge(n).map(function(t){var e=t.y;return O&&!a[t.idx].nonStackable&&(e=0<t.y?t.y1:t.y1+t.y),e}).concat(E))).range(b||[e,0]),C.domain()[0]===C.domain()[1]&&(C.domain()[0]?C.domain([C.domain()[0]-.01*C.domain()[0],C.domain()[1]+.01*C.domain()[1]]):C.domain([-1,1])),S.domain()[0]===S.domain()[1]&&(S.domain()[0]?S.domain([S.domain()[0]+.01*S.domain()[0],S.domain()[1]-.01*S.domain()[1]]):S.domain([-1,1])),w=w||C,x=x||S;var r=A.selectAll("g.nv-wrap.nv-multibar").data([a]),s=r.enter().append("g").attr("class","nvd3 nv-wrap nv-multibar"),l=s.append("defs"),u=s.append("g"),c=r.select("g");u.append("g").attr("class","nv-groups"),r.attr("transform","translate("+$.left+","+$.top+")"),l.append("clipPath").attr("id","nv-edge-clip-"+T).append("rect"),r.select("#nv-edge-clip-"+T+" rect").attr("width",t).attr("height",e),c.attr("clip-path",P?"url(#nv-edge-clip-"+T+")":"");var p=r.select(".nv-groups").selectAll(".nv-group").data(function(t){return t},function(t,e){return e});p.enter().append("g").style("stroke-opacity",1e-6).style("fill-opacity",1e-6);var h=z.transition(p.exit().selectAll("rect.nv-bar"),"multibarExit",Math.min(100,N)).attr("y",function(t,e,n){var i=x(0)||0;return O&&a[t.series]&&!a[t.series].nonStackable&&(i=x(t.y0)),i}).attr("height",0).remove();h.delay&&h.delay(function(t,e){return e*(N/(H+1))-e}),p.attr("class",function(t,e){return"nv-group nv-series-"+e}).classed("hover",function(t){return t.hover}).style("fill",function(t,e){return R(t,e)}).style("stroke",function(t,e){return R(t,e)}),p.style("stroke-opacity",1).style("fill-opacity",B);var d=p.selectAll("rect.nv-bar").data(function(t){return L&&!a.length?L.values:t.values});d.exit().remove();d.enter().append("rect").attr("class",function(t,e){return M(t,e)<0?"nv-bar negative":"nv-bar positive"}).attr("x",function(t,e,n){return O&&!a[n].nonStackable?0:n*C.rangeBand()/a.length}).attr("y",function(t,e,n){return x(O&&!a[n].nonStackable?t.y0:0)||0}).attr("height",0).attr("width",function(t,e,n){return C.rangeBand()/(O&&!a[n].nonStackable?1:a.length)}).attr("transform",function(t,e){return"translate("+C(D(t,e))+",0)"});d.style("fill",function(t,e,n){return R(t,n,e)}).style("stroke",function(t,e,n){return R(t,n,e)}).on("mouseover",function(t,e){d3.select(this).classed("hover",!0),U.elementMouseover({data:t,index:e,color:d3.select(this).style("fill")})}).on("mouseout",function(t,e){d3.select(this).classed("hover",!1),U.elementMouseout({data:t,index:e,color:d3.select(this).style("fill")})}).on("mousemove",function(t,e){U.elementMousemove({data:t,index:e,color:d3.select(this).style("fill")})}).on("click",function(t,e){U.elementClick({data:t,index:e,color:d3.select(this).style("fill"),event:d3.event,element:this}),d3.event.stopPropagation()}).on("dblclick",function(t,e){U.elementDblClick({data:t,index:e,color:d3.select(this).style("fill")}),d3.event.stopPropagation()}),d.attr("class",function(t,e){return M(t,e)<0?"nv-bar negative":"nv-bar positive"}).attr("transform",function(t,e){return"translate("+C(D(t,e))+",0)"}),F&&(g||(g=a.map(function(){return!0})),d.style("fill",function(t,e,n){return d3.rgb(F(t,e)).darker(g.map(function(t,e){return e}).filter(function(t,e){return!g[e]})[n]).toString()}).style("stroke",function(t,e,n){return d3.rgb(F(t,e)).darker(g.map(function(t,e){return e}).filter(function(t,e){return!g[e]})[n]).toString()}));var f=d.watchTransition(z,"multibar",Math.min(250,N)).delay(function(t,e){return e*N/a[0].values.length});O?f.attr("y",function(t,e,n){return a[n].nonStackable?M(t,e)<0?S(0):S(0)-S(M(t,e))<-1?S(0)-1:S(M(t,e))||0:S(t.y1)}).attr("height",function(t,e,n){return a[n].nonStackable?Math.max(Math.abs(S(M(t,e))-S(0)),0)||0:Math.max(Math.abs(S(t.y+t.y0)-S(t.y0)),0)}).attr("x",function(t,e,n){var i=0;return a[n].nonStackable&&(i=t.series*C.rangeBand()/a.length,a.length!==o&&(i=a[n].nonStackableSeries*C.rangeBand()/(2*o))),i}).attr("width",function(t,e,n){if(a[n].nonStackable){var i=C.rangeBand()/o;return a.length!==o&&(i=C.rangeBand()/(2*o)),i}return C.rangeBand()}):f.attr("x",function(t,e){return t.series*C.rangeBand()/a.length}).attr("width",C.rangeBand()/a.length).attr("y",function(t,e){return M(t,e)<0?S(0):S(0)-S(M(t,e))<1?S(0)-1:S(M(t,e))||0}).attr("height",function(t,e){return Math.max(Math.abs(S(M(t,e))-S(0)),1)||0}),w=C.copy(),x=S.copy(),a[0]&&a[0].values&&(H=a[0].values.length)}),z.renderEnd("multibar immediate"),e}return e.dispatch=U,e.options=ht.utils.optionsFunc.bind(e),e._options=Object.create({},{width:{get:function(){return _},set:function(t){_=t}},height:{get:function(){return k},set:function(t){k=t}},x:{get:function(){return D},set:function(t){D=t}},y:{get:function(){return M},set:function(t){M=t}},xScale:{get:function(){return C},set:function(t){C=t}},yScale:{get:function(){return S},set:function(t){S=t}},xDomain:{get:function(){return m},set:function(t){m=t}},yDomain:{get:function(){return v},set:function(t){v=t}},xRange:{get:function(){return y},set:function(t){y=t}},yRange:{get:function(){return b},set:function(t){b=t}},forceY:{get:function(){return E},set:function(t){E=t}},stacked:{get:function(){return O},set:function(t){O=t}},stackOffset:{get:function(){return I},set:function(t){I=t}},clipEdge:{get:function(){return P},set:function(t){P=t}},disabled:{get:function(){return g},set:function(t){g=t}},id:{get:function(){return T},set:function(t){T=t}},hideable:{get:function(){return L},set:function(t){L=t}},groupSpacing:{get:function(){return j},set:function(t){j=t}},fillOpacity:{get:function(){return B},set:function(t){B=t}},margin:{get:function(){return $},set:function(t){$.top=void 0!==t.top?t.top:$.top,$.right=void 0!==t.right?t.right:$.right,$.bottom=void 0!==t.bottom?t.bottom:$.bottom,$.left=void 0!==t.left?t.left:$.left}},duration:{get:function(){return N},set:function(t){N=t,z.reset(N)}},color:{get:function(){return R},set:function(t){R=ht.utils.getColor(t)}},barColor:{get:function(){return F},set:function(t){F=t?ht.utils.getColor(t):null}}}),ht.utils.initOptions(e),e},ht.models.multiBarChart=function(){"use strict";var h,d,f=ht.models.multiBar(),g=ht.models.axis(),m=ht.models.axis(),v=ht.interactiveGuideline(),y=ht.models.legend(),b=ht.models.legend(),w=ht.models.tooltip(),x={top:30,right:20,bottom:50,left:60},$=null,_=null,k=ht.utils.defaultColor(),C=!0,S={},T=!0,A=!0,D=!0,M=!1,E=!0,P=!1,O=!1,I=0,R=ht.utils.state(),L=null,e=null,F=d3.dispatch("stateChange","changeState","renderEnd"),N=function(){return C?180:0},j=250,B=!1;R.stacked=!1,f.stacked(!1),g.orient("bottom").tickPadding(7).showMaxMin(!1).tickFormat(function(t){return t}),m.orient(M?"right":"left").tickFormat(d3.format(",.1f")),w.duration(0).valueFormatter(function(t,e){return m.tickFormat()(t,e)}).headerFormatter(function(t,e){return g.tickFormat()(t,e)}),b.updateState(!1);var n=ht.utils.renderWatch(F),U=!1,z=function(t){return function(){return{active:t.map(function(t){return!t.disabled}),stacked:U}}},H=function(t){return function(n){void 0!==n.stacked&&(U=n.stacked),void 0!==n.active&&t.forEach(function(t,e){t.disabled=!n.active[e]})}};function V(t){return n.reset(),n.models(f),A&&n.models(g),D&&n.models(m),t.each(function(u){var t=d3.select(this);ht.utils.initSVG(t);var e,n=ht.utils.availableWidth($,t,x),i=ht.utils.availableHeight(_,t,x);if(V.update=function(){0===j?t.call(V):t.transition().duration(j).call(V)},V.container=this,R.setter(H(u),V.update).getter(z(u)).update(),R.disabled=u.map(function(t){return!!t.disabled}),!L)for(e in L={},R)R[e]instanceof Array?L[e]=R[e].slice(0):L[e]=R[e];if(!(u&&u.length&&u.filter(function(t){return t.values.length}).length))return ht.utils.noData(V,t),V;t.selectAll(".nv-noData").remove(),h=f.xScale(),d=f.yScale();var o=t.selectAll("g.nv-wrap.nv-multiBarWithLegend").data([u]),r=o.enter().append("g").attr("class","nvd3 nv-wrap nv-multiBarWithLegend").append("g"),a=o.select("g");if(r.append("g").attr("class","nv-x nv-axis"),r.append("g").attr("class","nv-y nv-axis"),r.append("g").attr("class","nv-barsWrap"),r.append("g").attr("class","nv-legendWrap"),r.append("g").attr("class","nv-controlsWrap"),r.append("g").attr("class","nv-interactive"),T?(y.width(n-N()),a.select(".nv-legendWrap").datum(u).call(y),y.height()>x.top&&(x.top=y.height(),i=ht.utils.availableHeight(_,t,x)),a.select(".nv-legendWrap").attr("transform","translate("+N()+","+-x.top+")")):a.select(".nv-legendWrap").selectAll("*").remove(),C){var s=[{key:S.grouped||"Grouped",disabled:f.stacked()},{key:S.stacked||"Stacked",disabled:!f.stacked()}];b.width(N()).color(["#444","#444","#444"]),a.select(".nv-controlsWrap").datum(s).attr("transform","translate(0,"+-x.top+")").call(b)}else a.select(".nv-controlsWrap").selectAll("*").remove();if(o.attr("transform","translate("+x.left+","+x.top+")"),M&&a.select(".nv-y.nv-axis").attr("transform","translate("+n+",0)"),f.disabled(u.map(function(t){return t.disabled})).width(n).height(i).color(u.map(function(t,e){return t.color||k(t,e)}).filter(function(t,e){return!u[e].disabled})),a.select(".nv-barsWrap").datum(u.filter(function(t){return!t.disabled})).call(f),A){g.scale(h)._ticks(ht.utils.calcTicksX(n/100,u)).tickSize(-i,0),a.select(".nv-x.nv-axis").attr("transform","translate(0,"+d.range()[0]+")"),a.select(".nv-x.nv-axis").call(g);var l=a.select(".nv-x.nv-axis > g").selectAll("g");if(l.selectAll("line, text").style("opacity",1),P){var c=function(t,e){return"translate("+t+","+e+")"};l.selectAll("text").attr("transform",function(t,e,n){return c(0,n%2==0?5:17)});var p=d3.selectAll(".nv-x.nv-axis .nv-wrap g g text")[0].length;a.selectAll(".nv-x.nv-axis .nv-axisMaxMin text").attr("transform",function(t,e){return c(0,0===e||p%2!=0?17:5)})}O&&a.selectAll(".tick text").call(ht.utils.wrapTicks,V.xAxis.rangeBand()),E&&l.filter(function(t,e){return e%Math.ceil(u[0].values.length/(n/100))!=0}).selectAll("text, line").style("opacity",0),I&&l.selectAll(".tick text").attr("transform","rotate("+I+" 0,0)").style("text-anchor",0<I?"start":"end"),a.select(".nv-x.nv-axis").selectAll("g.nv-axisMaxMin text").style("opacity",1)}D&&(m.scale(d)._ticks(ht.utils.calcTicksY(i/36,u)).tickSize(-n,0),a.select(".nv-y.nv-axis").call(m)),B&&(v.width(n).height(i).margin({left:x.left,top:x.top}).svgContainer(t).xScale(h),o.select(".nv-interactive").call(v)),y.dispatch.on("stateChange",function(t){for(var e in t)R[e]=t[e];F.stateChange(R),V.update()}),b.dispatch.on("legendClick",function(t,e){if(t.disabled){switch(s=s.map(function(t){return t.disabled=!0,t}),t.disabled=!1,t.key){case"Grouped":case S.grouped:f.stacked(!1);break;case"Stacked":case S.stacked:f.stacked(!0)}R.stacked=f.stacked(),F.stateChange(R),V.update()}}),F.on("changeState",function(n){void 0!==n.disabled&&(u.forEach(function(t,e){t.disabled=n.disabled[e]}),R.disabled=n.disabled),void 0!==n.stacked&&(f.stacked(n.stacked),R.stacked=n.stacked,U=n.stacked),V.update()}),B?(v.dispatch.on("elementMousemove",function(i){if(null!=i.pointXValue){var o,r,a,s,l=[];u.filter(function(t,e){return t.seriesIndex=e,!t.disabled}).forEach(function(t,e){r=h.domain().indexOf(i.pointXValue);var n=t.values[r];void 0!==n&&(s=n.x,void 0===o&&(o=n),void 0===a&&(a=i.mouseX),l.push({key:t.key,value:V.y()(n,r),color:k(t,t.seriesIndex),data:t.values[r]}))}),v.tooltip.data({value:s,index:r,series:l})(),v.renderGuideLine(a)}}),v.dispatch.on("elementMouseout",function(t){v.tooltip.hidden(!0)})):(f.dispatch.on("elementMouseover.tooltip",function(t){t.value=V.x()(t.data),t.series={key:t.data.key,value:V.y()(t.data),color:t.color},w.data(t).hidden(!1)}),f.dispatch.on("elementMouseout.tooltip",function(t){w.hidden(!0)}),f.dispatch.on("elementMousemove.tooltip",function(t){w()}))}),n.renderEnd("multibarchart immediate"),V}return V.dispatch=F,V.multibar=f,V.legend=y,V.controls=b,V.xAxis=g,V.yAxis=m,V.state=R,V.tooltip=w,V.interactiveLayer=v,V.options=ht.utils.optionsFunc.bind(V),V._options=Object.create({},{width:{get:function(){return $},set:function(t){$=t}},height:{get:function(){return _},set:function(t){_=t}},showLegend:{get:function(){return T},set:function(t){T=t}},showControls:{get:function(){return C},set:function(t){C=t}},controlLabels:{get:function(){return S},set:function(t){S=t}},showXAxis:{get:function(){return A},set:function(t){A=t}},showYAxis:{get:function(){return D},set:function(t){D=t}},defaultState:{get:function(){return L},set:function(t){L=t}},noData:{get:function(){return e},set:function(t){e=t}},reduceXTicks:{get:function(){return E},set:function(t){E=t}},rotateLabels:{get:function(){return I},set:function(t){I=t}},staggerLabels:{get:function(){return P},set:function(t){P=t}},wrapLabels:{get:function(){return O},set:function(t){O=!!t}},margin:{get:function(){return x},set:function(t){x.top=void 0!==t.top?t.top:x.top,x.right=void 0!==t.right?t.right:x.right,x.bottom=void 0!==t.bottom?t.bottom:x.bottom,x.left=void 0!==t.left?t.left:x.left}},duration:{get:function(){return j},set:function(t){j=t,f.duration(j),g.duration(j),m.duration(j),n.reset(j)}},color:{get:function(){return k},set:function(t){k=ht.utils.getColor(t),y.color(k)}},rightAlignYAxis:{get:function(){return M},set:function(t){M=t,m.orient(M?"right":"left")}},useInteractiveGuideline:{get:function(){return B},set:function(t){B=t}},barColor:{get:function(){return f.barColor},set:function(t){f.barColor(t),y.color(function(t,e){return d3.rgb("#ccc").darker(1.5*e).toString()})}}}),ht.utils.inheritOptions(V,f),ht.utils.initOptions(V),V},ht.models.multiBarHorizontal=function(){"use strict";var c,p,h,d,f,g,m,v={top:0,right:0,bottom:0,left:0},y=960,b=500,e=Math.floor(1e4*Math.random()),w=null,x=d3.scale.ordinal(),$=d3.scale.linear(),_=function(t){return t.x},k=function(t){return t.y},C=function(t){return t.yErr},S=[0],T=ht.utils.defaultColor(),A=null,D=!1,M=!1,E=!1,P=60,O=.1,I=.75,R=d3.format(",.2f"),n=250,L=d3.dispatch("chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout","elementMousemove","renderEnd"),F=ht.utils.renderWatch(L,n);function i(t){return F.reset(),t.each(function(r){var t=y-v.left-v.right,e=b-v.top-v.bottom;w=d3.select(this),ht.utils.initSVG(w),D&&(r=d3.layout.stack().offset("zero").values(function(t){return t.values}).y(k)(r)),r.forEach(function(e,n){e.values.forEach(function(t){t.series=n,t.key=e.key})}),D&&r[0].values.map(function(t,n){var i=0,o=0;r.map(function(t){var e=t.values[n];e.size=Math.abs(e.y),e.y<0?(e.y1=o-e.size,o-=e.size):(e.y1=i,i+=e.size)})});var n=p&&h?[]:r.map(function(t){return t.values.map(function(t,e){return{x:_(t,e),y:k(t,e),y0:t.y0,y1:t.y1}})});x.domain(p||d3.merge(n).map(function(t){return t.x})).rangeBands(d||[0,e],O),$.domain(h||d3.extent(d3.merge(n).map(function(t){return D?0<t.y?t.y1+t.y:t.y1:t.y}).concat(S))),M&&!D?$.range(f||[$.domain()[0]<0?P:0,t-(0<$.domain()[1]?P:0)]):$.range(f||[0,t]),g=g||x,m=m||d3.scale.linear().domain($.domain()).range([$(0),$(0)]);var i=d3.select(this).selectAll("g.nv-wrap.nv-multibarHorizontal").data([r]),o=i.enter().append("g").attr("class","nvd3 nv-wrap nv-multibarHorizontal"),a=(o.append("defs"),o.append("g"));i.select("g");a.append("g").attr("class","nv-groups"),i.attr("transform","translate("+v.left+","+v.top+")");var s=i.select(".nv-groups").selectAll(".nv-group").data(function(t){return t},function(t,e){return e});s.enter().append("g").style("stroke-opacity",1e-6).style("fill-opacity",1e-6),s.exit().watchTransition(F,"multibarhorizontal: exit groups").style("stroke-opacity",1e-6).style("fill-opacity",1e-6).remove(),s.attr("class",function(t,e){return"nv-group nv-series-"+e}).classed("hover",function(t){return t.hover}).style("fill",function(t,e){return T(t,e)}).style("stroke",function(t,e){return T(t,e)}),s.watchTransition(F,"multibarhorizontal: groups").style("stroke-opacity",1).style("fill-opacity",I);var l=s.selectAll("g.nv-bar").data(function(t){return t.values});l.exit().remove();var u=l.enter().append("g").attr("transform",function(t,e,n){return"translate("+m(D?t.y0:0)+","+(D?0:n*x.rangeBand()/r.length+x(_(t,e)))+")"});u.append("rect").attr("width",0).attr("height",x.rangeBand()/(D?1:r.length)),l.on("mouseover",function(t,e){d3.select(this).classed("hover",!0),L.elementMouseover({data:t,index:e,color:d3.select(this).style("fill")})}).on("mouseout",function(t,e){d3.select(this).classed("hover",!1),L.elementMouseout({data:t,index:e,color:d3.select(this).style("fill")})}).on("mouseout",function(t,e){L.elementMouseout({data:t,index:e,color:d3.select(this).style("fill")})}).on("mousemove",function(t,e){L.elementMousemove({data:t,index:e,color:d3.select(this).style("fill")})}).on("click",function(t,e){L.elementClick({data:t,index:e,color:d3.select(this).style("fill"),event:d3.event,element:this}),d3.event.stopPropagation()}).on("dblclick",function(t,e){L.elementDblClick({data:t,index:e,color:d3.select(this).style("fill")}),d3.event.stopPropagation()}),C(r[0],0)&&(u.append("polyline"),l.select("polyline").attr("fill","none").attr("points",function(t,e){var n=C(t,e),i=.8*x.rangeBand()/(2*(D?1:r.length));return[[(n=(n=n.length?n:[-Math.abs(n),Math.abs(n)]).map(function(t){return $(t)-$(0)}))[0],-i],[n[0],i],[n[0],0],[n[1],0],[n[1],-i],[n[1],i]].map(function(t){return t.join(",")}).join(" ")}).attr("transform",function(t,e){var n=x.rangeBand()/(2*(D?1:r.length));return"translate("+(k(t,e)<0?0:$(k(t,e))-$(0))+", "+n+")"})),u.append("text"),M&&!D?(l.select("text").attr("text-anchor",function(t,e){return k(t,e)<0?"end":"start"}).attr("y",x.rangeBand()/(2*r.length)).attr("dy",".32em").text(function(t,e){var n=R(k(t,e)),i=C(t,e);return void 0===i?n:i.length?n+"+"+R(Math.abs(i[1]))+"-"+R(Math.abs(i[0])):n+""+R(Math.abs(i))}),l.watchTransition(F,"multibarhorizontal: bars").select("text").attr("x",function(t,e){return k(t,e)<0?-4:$(k(t,e))-$(0)+4})):l.selectAll("text").text(""),E&&!D?(u.append("text").classed("nv-bar-label",!0),l.select("text.nv-bar-label").attr("text-anchor",function(t,e){return k(t,e)<0?"start":"end"}).attr("y",x.rangeBand()/(2*r.length)).attr("dy",".32em").text(function(t,e){return _(t,e)}),l.watchTransition(F,"multibarhorizontal: bars").select("text.nv-bar-label").attr("x",function(t,e){return k(t,e)<0?$(0)-$(k(t,e))+4:-4})):l.selectAll("text.nv-bar-label").text(""),l.attr("class",function(t,e){return k(t,e)<0?"nv-bar negative":"nv-bar positive"}),A&&(c||(c=r.map(function(){return!0})),l.style("fill",function(t,e,n){return d3.rgb(A(t,e)).darker(c.map(function(t,e){return e}).filter(function(t,e){return!c[e]})[n]).toString()}).style("stroke",function(t,e,n){return d3.rgb(A(t,e)).darker(c.map(function(t,e){return e}).filter(function(t,e){return!c[e]})[n]).toString()})),D?l.watchTransition(F,"multibarhorizontal: bars").attr("transform",function(t,e){return"translate("+$(t.y1)+","+x(_(t,e))+")"}).select("rect").attr("width",function(t,e){return Math.abs($(k(t,e)+t.y0)-$(t.y0))||0}).attr("height",x.rangeBand()):l.watchTransition(F,"multibarhorizontal: bars").attr("transform",function(t,e){return"translate("+(k(t,e)<0?$(k(t,e)):$(0))+","+(t.series*x.rangeBand()/r.length+x(_(t,e)))+")"}).select("rect").attr("height",x.rangeBand()/r.length).attr("width",function(t,e){return Math.max(Math.abs($(k(t,e))-$(0)),1)||0}),g=x.copy(),m=$.copy()}),F.renderEnd("multibarHorizontal immediate"),i}return i.dispatch=L,i.options=ht.utils.optionsFunc.bind(i),i._options=Object.create({},{width:{get:function(){return y},set:function(t){y=t}},height:{get:function(){return b},set:function(t){b=t}},x:{get:function(){return _},set:function(t){_=t}},y:{get:function(){return k},set:function(t){k=t}},yErr:{get:function(){return C},set:function(t){C=t}},xScale:{get:function(){return x},set:function(t){x=t}},yScale:{get:function(){return $},set:function(t){$=t}},xDomain:{get:function(){return p},set:function(t){p=t}},yDomain:{get:function(){return h},set:function(t){h=t}},xRange:{get:function(){return d},set:function(t){d=t}},yRange:{get:function(){return f},set:function(t){f=t}},forceY:{get:function(){return S},set:function(t){S=t}},stacked:{get:function(){return D},set:function(t){D=t}},showValues:{get:function(){return M},set:function(t){M=t}},disabled:{get:function(){return c},set:function(t){c=t}},id:{get:function(){return e},set:function(t){e=t}},valueFormat:{get:function(){return R},set:function(t){R=t}},valuePadding:{get:function(){return P},set:function(t){P=t}},groupSpacing:{get:function(){return O},set:function(t){O=t}},fillOpacity:{get:function(){return I},set:function(t){I=t}},margin:{get:function(){return v},set:function(t){v.top=void 0!==t.top?t.top:v.top,v.right=void 0!==t.right?t.right:v.right,v.bottom=void 0!==t.bottom?t.bottom:v.bottom,v.left=void 0!==t.left?t.left:v.left}},duration:{get:function(){return n},set:function(t){n=t,F.reset(n)}},color:{get:function(){return T},set:function(t){T=ht.utils.getColor(t)}},barColor:{get:function(){return A},set:function(t){A=t?ht.utils.getColor(t):null}}}),ht.utils.initOptions(i),i},ht.models.multiBarHorizontalChart=function(){"use strict";var u,c,p=ht.models.multiBarHorizontal(),h=ht.models.axis(),d=ht.models.axis(),f=ht.models.legend().height(30),g=ht.models.legend().height(30),e=ht.models.tooltip(),m={top:30,right:20,bottom:50,left:60},v=null,y=null,b=ht.utils.defaultColor(),w=!0,x={},$=!0,_=!0,k=!0,C=!1,S=ht.utils.state(),T=null,n=null,A=d3.dispatch("stateChange","changeState","renderEnd"),D=function(){return w?180:0},M=250;S.stacked=!1,p.stacked(C),h.orient("left").tickPadding(5).showMaxMin(!1).tickFormat(function(t){return t}),d.orient("bottom").tickFormat(d3.format(",.1f")),e.duration(0).valueFormatter(function(t,e){return d.tickFormat()(t,e)}).headerFormatter(function(t,e){return h.tickFormat()(t,e)}),g.updateState(!1);var E=function(t){return function(){return{active:t.map(function(t){return!t.disabled}),stacked:C}}},P=function(t){return function(n){void 0!==n.stacked&&(C=n.stacked),void 0!==n.active&&t.forEach(function(t,e){t.disabled=!n.active[e]})}},i=ht.utils.renderWatch(A,M);function O(t){return i.reset(),i.models(p),_&&i.models(h),k&&i.models(d),t.each(function(i){var t=d3.select(this);ht.utils.initSVG(t);var e,n=ht.utils.availableWidth(v,t,m),o=ht.utils.availableHeight(y,t,m);if(O.update=function(){t.transition().duration(M).call(O)},O.container=this,C=p.stacked(),S.setter(P(i),O.update).getter(E(i)).update(),S.disabled=i.map(function(t){return!!t.disabled}),!T)for(e in T={},S)S[e]instanceof Array?T[e]=S[e].slice(0):T[e]=S[e];if(!(i&&i.length&&i.filter(function(t){return t.values.length}).length))return ht.utils.noData(O,t),O;t.selectAll(".nv-noData").remove(),u=p.xScale(),c=p.yScale().clamp(!0);var r=t.selectAll("g.nv-wrap.nv-multiBarHorizontalChart").data([i]),a=r.enter().append("g").attr("class","nvd3 nv-wrap nv-multiBarHorizontalChart").append("g"),s=r.select("g");if(a.append("g").attr("class","nv-x nv-axis"),a.append("g").attr("class","nv-y nv-axis").append("g").attr("class","nv-zeroLine").append("line"),a.append("g").attr("class","nv-barsWrap"),a.append("g").attr("class","nv-legendWrap"),a.append("g").attr("class","nv-controlsWrap"),$?(f.width(n-D()),s.select(".nv-legendWrap").datum(i).call(f),f.height()>m.top&&(m.top=f.height(),o=ht.utils.availableHeight(y,t,m)),s.select(".nv-legendWrap").attr("transform","translate("+D()+","+-m.top+")")):s.select(".nv-legendWrap").selectAll("*").remove(),w){var l=[{key:x.grouped||"Grouped",disabled:p.stacked()},{key:x.stacked||"Stacked",disabled:!p.stacked()}];g.width(D()).color(["#444","#444","#444"]),s.select(".nv-controlsWrap").datum(l).attr("transform","translate(0,"+-m.top+")").call(g)}else s.select(".nv-controlsWrap").selectAll("*").remove();(r.attr("transform","translate("+m.left+","+m.top+")"),p.disabled(i.map(function(t){return t.disabled})).width(n).height(o).color(i.map(function(t,e){return t.color||b(t,e)}).filter(function(t,e){return!i[e].disabled})),s.select(".nv-barsWrap").datum(i.filter(function(t){return!t.disabled})).transition().call(p),_)&&(h.scale(u)._ticks(ht.utils.calcTicksY(o/24,i)).tickSize(-n,0),s.select(".nv-x.nv-axis").call(h),s.select(".nv-x.nv-axis").selectAll("g").selectAll("line, text"));k&&(d.scale(c)._ticks(ht.utils.calcTicksX(n/100,i)).tickSize(-o,0),s.select(".nv-y.nv-axis").attr("transform","translate(0,"+o+")"),s.select(".nv-y.nv-axis").call(d)),s.select(".nv-zeroLine line").attr("x1",c(0)).attr("x2",c(0)).attr("y1",0).attr("y2",-o),f.dispatch.on("stateChange",function(t){for(var e in t)S[e]=t[e];A.stateChange(S),O.update()}),g.dispatch.on("legendClick",function(t,e){if(t.disabled){switch(l=l.map(function(t){return t.disabled=!0,t}),t.disabled=!1,t.key){case"Grouped":case x.grouped:p.stacked(!1);break;case"Stacked":case x.stacked:p.stacked(!0)}S.stacked=p.stacked(),A.stateChange(S),C=p.stacked(),O.update()}}),A.on("changeState",function(n){void 0!==n.disabled&&(i.forEach(function(t,e){t.disabled=n.disabled[e]}),S.disabled=n.disabled),void 0!==n.stacked&&(p.stacked(n.stacked),S.stacked=n.stacked,C=n.stacked),O.update()})}),i.renderEnd("multibar horizontal chart immediate"),O}return p.dispatch.on("elementMouseover.tooltip",function(t){t.value=O.x()(t.data),t.series={key:t.data.key,value:O.y()(t.data),color:t.color},e.data(t).hidden(!1)}),p.dispatch.on("elementMouseout.tooltip",function(t){e.hidden(!0)}),p.dispatch.on("elementMousemove.tooltip",function(t){e()}),O.dispatch=A,O.multibar=p,O.legend=f,O.controls=g,O.xAxis=h,O.yAxis=d,O.state=S,O.tooltip=e,O.options=ht.utils.optionsFunc.bind(O),O._options=Object.create({},{width:{get:function(){return v},set:function(t){v=t}},height:{get:function(){return y},set:function(t){y=t}},showLegend:{get:function(){return $},set:function(t){$=t}},showControls:{get:function(){return w},set:function(t){w=t}},controlLabels:{get:function(){return x},set:function(t){x=t}},showXAxis:{get:function(){return _},set:function(t){_=t}},showYAxis:{get:function(){return k},set:function(t){k=t}},defaultState:{get:function(){return T},set:function(t){T=t}},noData:{get:function(){return n},set:function(t){n=t}},margin:{get:function(){return m},set:function(t){m.top=void 0!==t.top?t.top:m.top,m.right=void 0!==t.right?t.right:m.right,m.bottom=void 0!==t.bottom?t.bottom:m.bottom,m.left=void 0!==t.left?t.left:m.left}},duration:{get:function(){return M},set:function(t){M=t,i.reset(M),p.duration(M),h.duration(M),d.duration(M)}},color:{get:function(){return b},set:function(t){b=ht.utils.getColor(t),f.color(b)}},barColor:{get:function(){return p.barColor},set:function(t){p.barColor(t),f.color(function(t,e){return d3.rgb("#ccc").darker(1.5*e).toString()})}}}),ht.utils.inheritOptions(O,p),ht.utils.initOptions(O),O},ht.models.multiChart=function(){"use strict";var R,L,F={top:30,right:20,bottom:50,left:60},N=ht.utils.defaultColor(),j=null,B=null,U=!0,e=null,z=function(t){return t.x},H=function(t){return t.y},V="linear",n=!0,q=ht.interactiveGuideline(),W=!1,G=" (right axis)",Y=d3.scale.linear(),K=d3.scale.linear(),Z=d3.scale.linear(),X=ht.models.line().yScale(K),J=ht.models.line().yScale(Z),Q=ht.models.scatter().yScale(K),tt=ht.models.scatter().yScale(Z),et=ht.models.multiBar().stacked(!1).yScale(K),nt=ht.models.multiBar().stacked(!1).yScale(Z),it=ht.models.stackedArea().yScale(K),ot=ht.models.stackedArea().yScale(Z),rt=ht.models.axis().scale(Y).orient("bottom").tickPadding(5),at=ht.models.axis().scale(K).orient("left"),st=ht.models.axis().scale(Z).orient("right"),lt=ht.models.legend().height(30),ut=ht.models.tooltip(),t=d3.dispatch(),ct=[X,J,Q,tt,et,nt,it,ot];function pt(t){return t.each(function(i){var t=d3.select(this);ht.utils.initSVG(t),pt.update=function(){t.transition().call(pt)},pt.container=this;var e=ht.utils.availableWidth(j,t,F),n=ht.utils.availableHeight(B,t,F),o=i.filter(function(t){return"line"==t.type&&1==t.yAxis}),r=i.filter(function(t){return"line"==t.type&&2==t.yAxis}),a=i.filter(function(t){return"scatter"==t.type&&1==t.yAxis}),s=i.filter(function(t){return"scatter"==t.type&&2==t.yAxis}),l=i.filter(function(t){return"bar"==t.type&&1==t.yAxis}),u=i.filter(function(t){return"bar"==t.type&&2==t.yAxis}),c=i.filter(function(t){return"area"==t.type&&1==t.yAxis}),p=i.filter(function(t){return"area"==t.type&&2==t.yAxis});if(!(i&&i.length&&i.filter(function(t){return t.values.length}).length))return ht.utils.noData(pt,t),pt;t.selectAll(".nv-noData").remove();var h=i.filter(function(t){return!t.disabled&&1==t.yAxis}).map(function(t){return t.values.map(function(t,e){return{x:z(t),y:H(t)}})}),d=i.filter(function(t){return!t.disabled&&2==t.yAxis}).map(function(t){return t.values.map(function(t,e){return{x:z(t),y:H(t)}})});Y.domain(d3.extent(d3.merge(h.concat(d)),function(t){return t.x})).range([0,e]);var f=t.selectAll("g.wrap.multiChart").data([i]),g=f.enter().append("g").attr("class","wrap nvd3 multiChart").append("g");g.append("g").attr("class","nv-x nv-axis"),g.append("g").attr("class","nv-y1 nv-axis"),g.append("g").attr("class","nv-y2 nv-axis"),g.append("g").attr("class","stack1Wrap"),g.append("g").attr("class","stack2Wrap"),g.append("g").attr("class","bars1Wrap"),g.append("g").attr("class","bars2Wrap"),g.append("g").attr("class","scatters1Wrap"),g.append("g").attr("class","scatters2Wrap"),g.append("g").attr("class","lines1Wrap"),g.append("g").attr("class","lines2Wrap"),g.append("g").attr("class","legendWrap"),g.append("g").attr("class","nv-interactive");var m=f.select("g"),v=i.map(function(t,e){return i[e].color||N(t,e)});if(U){var y=lt.align()?e/2:e,b=lt.align()?y:0;lt.width(y),lt.color(v),m.select(".legendWrap").datum(i.map(function(t){return t.originalKey=void 0===t.originalKey?t.key:t.originalKey,t.key=t.originalKey+(1==t.yAxis?"":G),t})).call(lt),lt.height()>F.top&&(F.top=lt.height(),n=ht.utils.availableHeight(B,t,F)),m.select(".legendWrap").attr("transform","translate("+b+","+-F.top+")")}else m.select(".legendWrap").selectAll("*").remove();X.width(e).height(n).interpolate(V).color(v.filter(function(t,e){return!i[e].disabled&&1==i[e].yAxis&&"line"==i[e].type})),J.width(e).height(n).interpolate(V).color(v.filter(function(t,e){return!i[e].disabled&&2==i[e].yAxis&&"line"==i[e].type})),Q.width(e).height(n).color(v.filter(function(t,e){return!i[e].disabled&&1==i[e].yAxis&&"scatter"==i[e].type})),tt.width(e).height(n).color(v.filter(function(t,e){return!i[e].disabled&&2==i[e].yAxis&&"scatter"==i[e].type})),et.width(e).height(n).color(v.filter(function(t,e){return!i[e].disabled&&1==i[e].yAxis&&"bar"==i[e].type})),nt.width(e).height(n).color(v.filter(function(t,e){return!i[e].disabled&&2==i[e].yAxis&&"bar"==i[e].type})),it.width(e).height(n).interpolate(V).color(v.filter(function(t,e){return!i[e].disabled&&1==i[e].yAxis&&"area"==i[e].type})),ot.width(e).height(n).interpolate(V).color(v.filter(function(t,e){return!i[e].disabled&&2==i[e].yAxis&&"area"==i[e].type})),m.attr("transform","translate("+F.left+","+F.top+")");var w=m.select(".lines1Wrap").datum(o.filter(function(t){return!t.disabled})),x=m.select(".scatters1Wrap").datum(a.filter(function(t){return!t.disabled})),$=m.select(".bars1Wrap").datum(l.filter(function(t){return!t.disabled})),_=m.select(".stack1Wrap").datum(c.filter(function(t){return!t.disabled})),k=m.select(".lines2Wrap").datum(r.filter(function(t){return!t.disabled})),C=m.select(".scatters2Wrap").datum(s.filter(function(t){return!t.disabled})),S=m.select(".bars2Wrap").datum(u.filter(function(t){return!t.disabled})),T=m.select(".stack2Wrap").datum(p.filter(function(t){return!t.disabled})),A=c.length?c.map(function(t){return t.values}).reduce(function(t,n){return t.map(function(t,e){return{x:t.x,y:t.y+n[e].y}})}).concat([{x:0,y:0}]):[],D=p.length?p.map(function(t){return t.values}).reduce(function(t,n){return t.map(function(t,e){return{x:t.x,y:t.y+n[e].y}})}).concat([{x:0,y:0}]):[];function M(t){var n=2===i[t.seriesIndex].yAxis?st:at;t.value=t.point.x,t.series={value:t.point.y,color:t.point.color,key:t.series.key},ut.duration(0).headerFormatter(function(t,e){return rt.tickFormat()(t,e)}).valueFormatter(function(t,e){return n.tickFormat()(t,e)}).data(t).hidden(!1)}function E(t){var n=2===i[t.seriesIndex].yAxis?st:at;t.value=t.point.x,t.series={value:t.point.y,color:t.point.color,key:t.series.key},ut.duration(100).headerFormatter(function(t,e){return rt.tickFormat()(t,e)}).valueFormatter(function(t,e){return n.tickFormat()(t,e)}).data(t).hidden(!1)}function P(t){var n=2===i[t.seriesIndex].yAxis?st:at;t.point.x=it.x()(t.point),t.point.y=it.y()(t.point),ut.duration(0).headerFormatter(function(t,e){return rt.tickFormat()(t,e)}).valueFormatter(function(t,e){return n.tickFormat()(t,e)}).data(t).hidden(!1)}function O(t){var n=2===i[t.data.series].yAxis?st:at;t.value=et.x()(t.data),t.series={value:et.y()(t.data),color:t.color,key:t.data.key},ut.duration(0).headerFormatter(function(t,e){return rt.tickFormat()(t,e)}).valueFormatter(function(t,e){return n.tickFormat()(t,e)}).data(t).hidden(!1)}function I(){for(var t=0,e=ct.length;t<e;t++){var n=ct[t];try{n.clearHighlights()}catch(t){}}}K.domain(R||d3.extent(d3.merge(h).concat(A),function(t){return t.y})).range([0,n]),Z.domain(L||d3.extent(d3.merge(d).concat(D),function(t){return t.y})).range([0,n]),X.yDomain(K.domain()),Q.yDomain(K.domain()),et.yDomain(K.domain()),it.yDomain(K.domain()),J.yDomain(Z.domain()),tt.yDomain(Z.domain()),nt.yDomain(Z.domain()),ot.yDomain(Z.domain()),c.length&&d3.transition(_).call(it),p.length&&d3.transition(T).call(ot),l.length&&d3.transition($).call(et),u.length&&d3.transition(S).call(nt),o.length&&d3.transition(w).call(X),r.length&&d3.transition(k).call(J),a.length&&d3.transition(x).call(Q),s.length&&d3.transition(C).call(tt),rt._ticks(ht.utils.calcTicksX(e/100,i)).tickSize(-n,0),m.select(".nv-x.nv-axis").attr("transform","translate(0,"+n+")"),d3.transition(m.select(".nv-x.nv-axis")).call(rt),at._ticks(ht.utils.calcTicksY(n/36,i)).tickSize(-e,0),d3.transition(m.select(".nv-y1.nv-axis")).call(at),st._ticks(ht.utils.calcTicksY(n/36,i)).tickSize(-e,0),d3.transition(m.select(".nv-y2.nv-axis")).call(st),m.select(".nv-y1.nv-axis").classed("nv-disabled",!h.length).attr("transform","translate("+Y.range()[0]+",0)"),m.select(".nv-y2.nv-axis").classed("nv-disabled",!d.length).attr("transform","translate("+Y.range()[1]+",0)"),lt.dispatch.on("stateChange",function(t){pt.update()}),W&&(q.width(e).height(n).margin({left:F.left,top:F.top}).svgContainer(t).xScale(Y),f.select(".nv-interactive").call(q)),W?(q.dispatch.on("elementMousemove",function(a){I();var s,l,u,c=[];i.filter(function(t,e){return t.seriesIndex=e,!t.disabled}).forEach(function(t,e){var n=Y.domain(),i=t.values.filter(function(t,e){return pt.x()(t,e)>=n[0]&&pt.x()(t,e)<=n[1]}),o=i[l=ht.interactiveBisect(i,a.pointXValue,pt.x())],r=pt.y()(o,l);null!==r&&function(t,e,n){for(var i=0,o=ct.length;i<o;i++){var r=ct[i];try{r.highlightPoint(t,e,n)}catch(t){}}}(e,l,!0),void 0!==o&&(void 0===s&&(s=o),void 0===u&&(u=Y(pt.x()(o,l))),c.push({key:t.key,value:r,color:N(t,t.seriesIndex),data:o,yAxis:2==t.yAxis?st:at}))});q.tooltip.headerFormatter(function(t,e){return rt.tickFormat()(t,e)}).valueFormatter(q.tooltip.valueFormatter()||function(t,e){var n=c[e].yAxis;return null==t?"N/A":n.tickFormat()(t)}).data({value:pt.x()(s,l),index:l,series:c})(),q.renderGuideLine(u)}),q.dispatch.on("elementMouseout",function(t){I()})):(X.dispatch.on("elementMouseover.tooltip",M),J.dispatch.on("elementMouseover.tooltip",M),X.dispatch.on("elementMouseout.tooltip",function(t){ut.hidden(!0)}),J.dispatch.on("elementMouseout.tooltip",function(t){ut.hidden(!0)}),Q.dispatch.on("elementMouseover.tooltip",E),tt.dispatch.on("elementMouseover.tooltip",E),Q.dispatch.on("elementMouseout.tooltip",function(t){ut.hidden(!0)}),tt.dispatch.on("elementMouseout.tooltip",function(t){ut.hidden(!0)}),it.dispatch.on("elementMouseover.tooltip",P),ot.dispatch.on("elementMouseover.tooltip",P),it.dispatch.on("elementMouseout.tooltip",function(t){ut.hidden(!0)}),ot.dispatch.on("elementMouseout.tooltip",function(t){ut.hidden(!0)}),et.dispatch.on("elementMouseover.tooltip",O),nt.dispatch.on("elementMouseover.tooltip",O),et.dispatch.on("elementMouseout.tooltip",function(t){ut.hidden(!0)}),nt.dispatch.on("elementMouseout.tooltip",function(t){ut.hidden(!0)}),et.dispatch.on("elementMousemove.tooltip",function(t){ut()}),nt.dispatch.on("elementMousemove.tooltip",function(t){ut()}))}),pt}return pt.dispatch=t,pt.legend=lt,pt.lines1=X,pt.lines2=J,pt.scatters1=Q,pt.scatters2=tt,pt.bars1=et,pt.bars2=nt,pt.stack1=it,pt.stack2=ot,pt.xAxis=rt,pt.yAxis1=at,pt.yAxis2=st,pt.tooltip=ut,pt.interactiveLayer=q,pt.options=ht.utils.optionsFunc.bind(pt),pt._options=Object.create({},{width:{get:function(){return j},set:function(t){j=t}},height:{get:function(){return B},set:function(t){B=t}},showLegend:{get:function(){return U},set:function(t){U=t}},yDomain1:{get:function(){return R},set:function(t){R=t}},yDomain2:{get:function(){return L},set:function(t){L=t}},noData:{get:function(){return e},set:function(t){e=t}},interpolate:{get:function(){return V},set:function(t){V=t}},legendRightAxisHint:{get:function(){return G},set:function(t){G=t}},margin:{get:function(){return F},set:function(t){F.top=void 0!==t.top?t.top:F.top,F.right=void 0!==t.right?t.right:F.right,F.bottom=void 0!==t.bottom?t.bottom:F.bottom,F.left=void 0!==t.left?t.left:F.left}},color:{get:function(){return N},set:function(t){N=ht.utils.getColor(t)}},x:{get:function(){return z},set:function(t){z=t,X.x(t),J.x(t),Q.x(t),tt.x(t),et.x(t),nt.x(t),it.x(t),ot.x(t)}},y:{get:function(){return H},set:function(t){H=t,X.y(t),J.y(t),Q.y(t),tt.y(t),it.y(t),ot.y(t),et.y(t),nt.y(t)}},useVoronoi:{get:function(){return n},set:function(t){n=t,X.useVoronoi(t),J.useVoronoi(t),it.useVoronoi(t),ot.useVoronoi(t)}},useInteractiveGuideline:{get:function(){return W},set:function(t){(W=t)&&(X.interactive(!1),X.useVoronoi(!1),J.interactive(!1),J.useVoronoi(!1),it.interactive(!1),it.useVoronoi(!1),ot.interactive(!1),ot.useVoronoi(!1),Q.interactive(!1),tt.interactive(!1))}}}),ht.utils.initOptions(pt),pt},ht.models.ohlcBar=function(){"use strict";var c,p,h,d,f={top:0,right:0,bottom:0,left:0},g=null,m=null,v=Math.floor(1e4*Math.random()),y=null,b=d3.scale.linear(),w=d3.scale.linear(),x=function(t){return t.x},$=function(t){return t.y},_=function(t){return t.open},k=function(t){return t.close},C=function(t){return t.high},S=function(t){return t.low},T=[],A=[],D=!1,M=!0,E=ht.utils.defaultColor(),e=!1,P=d3.dispatch("stateChange","changeState","renderEnd","chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout","elementMousemove");function n(t){return t.each(function(i){y=d3.select(this);var o=ht.utils.availableWidth(g,y,f),t=ht.utils.availableHeight(m,y,f);ht.utils.initSVG(y);var n=o/i[0].values.length*.9;b.domain(c||d3.extent(i[0].values.map(x).concat(T))),D?b.range(h||[.5*o/i[0].values.length,o*(i[0].values.length-.5)/i[0].values.length]):b.range(h||[5+n/2,o-n/2-5]),w.domain(p||[d3.min(i[0].values.map(S).concat(A)),d3.max(i[0].values.map(C).concat(A))]).range(d||[t,0]),b.domain()[0]===b.domain()[1]&&(b.domain()[0]?b.domain([b.domain()[0]-.01*b.domain()[0],b.domain()[1]+.01*b.domain()[1]]):b.domain([-1,1])),w.domain()[0]===w.domain()[1]&&(w.domain()[0]?w.domain([w.domain()[0]+.01*w.domain()[0],w.domain()[1]-.01*w.domain()[1]]):w.domain([-1,1]));var e=d3.select(this).selectAll("g.nv-wrap.nv-ohlcBar").data([i[0].values]),r=e.enter().append("g").attr("class","nvd3 nv-wrap nv-ohlcBar"),a=r.append("defs"),s=r.append("g"),l=e.select("g");s.append("g").attr("class","nv-ticks"),e.attr("transform","translate("+f.left+","+f.top+")"),y.on("click",function(t,e){P.chartClick({data:t,index:e,pos:d3.event,id:v})}),a.append("clipPath").attr("id","nv-chart-clip-path-"+v).append("rect"),e.select("#nv-chart-clip-path-"+v+" rect").attr("width",o).attr("height",t),l.attr("clip-path",M?"url(#nv-chart-clip-path-"+v+")":"");var u=e.select(".nv-ticks").selectAll(".nv-tick").data(function(t){return t});u.exit().remove(),u.enter().append("path").attr("class",function(t,e,n){return(_(t,e)>k(t,e)?"nv-tick negative":"nv-tick positive")+" nv-tick-"+n+"-"+e}).attr("d",function(t,e){return"m0,0l0,"+(w(_(t,e))-w(C(t,e)))+"l"+-n/2+",0l"+n/2+",0l0,"+(w(S(t,e))-w(_(t,e)))+"l0,"+(w(k(t,e))-w(S(t,e)))+"l"+n/2+",0l"+-n/2+",0z"}).attr("transform",function(t,e){return"translate("+b(x(t,e))+","+w(C(t,e))+")"}).attr("fill",function(t,e){return E[0]}).attr("stroke",function(t,e){return E[0]}).attr("x",0).attr("y",function(t,e){return w(Math.max(0,$(t,e)))}).attr("height",function(t,e){return Math.abs(w($(t,e))-w(0))}),u.attr("class",function(t,e,n){return(_(t,e)>k(t,e)?"nv-tick negative":"nv-tick positive")+" nv-tick-"+n+"-"+e}),d3.transition(u).attr("transform",function(t,e){return"translate("+b(x(t,e))+","+w(C(t,e))+")"}).attr("d",function(t,e){var n=o/i[0].values.length*.9;return"m0,0l0,"+(w(_(t,e))-w(C(t,e)))+"l"+-n/2+",0l"+n/2+",0l0,"+(w(S(t,e))-w(_(t,e)))+"l0,"+(w(k(t,e))-w(S(t,e)))+"l"+n/2+",0l"+-n/2+",0z"})}),n}return n.highlightPoint=function(t,e){n.clearHighlights(),y.select(".nv-ohlcBar .nv-tick-0-"+t).classed("hover",e)},n.clearHighlights=function(){y.select(".nv-ohlcBar .nv-tick.hover").classed("hover",!1)},n.dispatch=P,n.options=ht.utils.optionsFunc.bind(n),n._options=Object.create({},{width:{get:function(){return g},set:function(t){g=t}},height:{get:function(){return m},set:function(t){m=t}},xScale:{get:function(){return b},set:function(t){b=t}},yScale:{get:function(){return w},set:function(t){w=t}},xDomain:{get:function(){return c},set:function(t){c=t}},yDomain:{get:function(){return p},set:function(t){p=t}},xRange:{get:function(){return h},set:function(t){h=t}},yRange:{get:function(){return d},set:function(t){d=t}},forceX:{get:function(){return T},set:function(t){T=t}},forceY:{get:function(){return A},set:function(t){A=t}},padData:{get:function(){return D},set:function(t){D=t}},clipEdge:{get:function(){return M},set:function(t){M=t}},id:{get:function(){return v},set:function(t){v=t}},interactive:{get:function(){return e},set:function(t){e=t}},x:{get:function(){return x},set:function(t){x=t}},y:{get:function(){return $},set:function(t){$=t}},open:{get:function(){return _()},set:function(t){_=t}},close:{get:function(){return k()},set:function(t){k=t}},high:{get:function(){return C},set:function(t){C=t}},low:{get:function(){return S},set:function(t){S=t}},margin:{get:function(){return f},set:function(t){f.top=null!=t.top?t.top:f.top,f.right=null!=t.right?t.right:f.right,f.bottom=null!=t.bottom?t.bottom:f.bottom,f.left=null!=t.left?t.left:f.left}},color:{get:function(){return E},set:function(t){E=ht.utils.getColor(t)}}}),ht.utils.initOptions(n),n},ht.models.parallelCoordinates=function(){"use strict";var S,T,A,D={top:30,right:0,bottom:10,left:0},M=null,E=null,P=null,O=null,I=d3.scale.ordinal(),R={},L="undefined values",F=[],N=[],j=[],B=!0,U=ht.utils.defaultColor(),z=[],H=[],V=[],q=[],W=1,G=d3.svg.line(),Y=d3.svg.axis(),K=d3.dispatch("brushstart","brush","brushEnd","dimensionsOrder","stateChange","elementClick","elementMouseover","elementMouseout","elementMousemove","renderEnd","activeChanged"),e=ht.utils.renderWatch(K);function n(t){return e.reset(),t.each(function(t){var e=d3.select(this);if(P=ht.utils.availableWidth(M,e,D),O=ht.utils.availableHeight(E,e,D),ht.utils.initSVG(e),void 0===t[0].values){var i=[];t.forEach(function(e){var n={};Object.keys(e).forEach(function(t){"name"!==t&&(n[t]=e[t])}),i.push({key:e.name,values:n})}),t=i}var a=t.map(function(t){return t.values});0===H.length&&(H=t),j=F.sort(function(t,e){return t.currentPosition-e.currentPosition}).map(function(t){return t.key}),N=F.filter(function(t){return!t.disabled}),I.rangePoints([0,P],1).domain(N.map(function(t){return t.key}));var s={},l=!1,o=[];j.forEach(function(e){var t=d3.extent(a,function(t){return+t[e]}),n=t[0],i=t[1],o=!1;(isNaN(n)||isNaN(i))&&(o=!0,i=n=0),n===i&&(n-=1,i+=1);var r=z.filter(function(t){return t.dimension==e});0!==r.length&&(o?(n=R[e].domain()[0],i=R[e].domain()[1]):!r[0].hasOnlyNaN&&B?(n=n>r[0].extent[0]?r[0].extent[0]:n,i=i<r[0].extent[1]?r[0].extent[1]:i):r[0].hasNaN&&(i=i<r[0].extent[1]?r[0].extent[1]:i,s[e]=R[e].domain()[1],l=!0)),R[e]=d3.scale.linear().domain([n,i]).range([.9*(O-12),0]),q=[],R[e].brush=d3.svg.brush().y(R[e]).on("brushstart",x).on("brush",$).on("brushend",_)});var n=e.selectAll("g.nv-wrap.nv-parallelCoordinates").data([t]),r=n.enter().append("g").attr("class","nvd3 nv-wrap nv-parallelCoordinates").append("g"),u=n.select("g");r.append("g").attr("class","nv-parallelCoordinates background"),r.append("g").attr("class","nv-parallelCoordinates foreground"),r.append("g").attr("class","nv-parallelCoordinates missingValuesline"),n.attr("transform","translate("+D.left+","+D.top+")"),G.interpolate("cardinal").tension(W),Y.orient("left");var c,p,h=d3.behavior.drag().on("dragstart",function(t){V[t.key]=this.parentNode.__origin__=I(t.key),T.attr("visibility","hidden")}).on("drag",function(t){V[t.key]=Math.min(P,Math.max(0,this.parentNode.__origin__+=d3.event.x)),S.attr("d",b),N.sort(function(t,e){return C(t.key)-C(e.key)}),N.forEach(function(t,e){return t.currentPosition=e}),I.domain(N.map(function(t){return t.key})),A.attr("transform",function(t){return"translate("+C(t.key)+")"})}).on("dragend",function(t,e){delete this.parentNode.__origin__,delete V[t.key],d3.select(this.parentNode).attr("transform","translate("+I(t.key)+")"),S.attr("d",b),T.attr("d",b).attr("visibility",null),K.dimensionsOrder(N)}),d=I.range()[1]-I.range()[0];if(!isNaN(d)){var f=[0+d/2,O-12,P-d/2,O-12];(c=n.select(".missingValuesline").selectAll("line").data([f])).enter().append("line"),c.exit().remove(),c.attr("x1",function(t){return t[0]}).attr("y1",function(t){return t[1]}).attr("x2",function(t){return t[2]}).attr("y2",function(t){return t[3]}),(p=n.select(".missingValuesline").selectAll("text").data([L])).append("text").data([L]),p.enter().append("text"),p.exit().remove(),p.attr("y",O).attr("x",P-92-d/2).text(function(t){return t})}(T=n.select(".background").selectAll("path").data(t)).enter().append("path"),T.exit().remove(),T.attr("d",b),(S=n.select(".foreground").selectAll("path").data(t)).enter().append("path"),S.exit().remove(),S.attr("d",b).style("stroke-width",function(t,e){return isNaN(t.strokeWidth)&&(t.strokeWidth=1),t.strokeWidth}).attr("stroke",function(t,e){return t.color||U(t,e)}),S.on("mouseover",function(t,e){d3.select(this).classed("hover",!0).style("stroke-width",t.strokeWidth+2+"px").style("stroke-opacity",1),K.elementMouseover({label:t.name,color:t.color||U(t,e),values:t.values,dimensions:N})}),S.on("mouseout",function(t,e){d3.select(this).classed("hover",!1).style("stroke-width",t.strokeWidth+"px").style("stroke-opacity",.7),K.elementMouseout({label:t.name,index:e})}),S.on("mousemove",function(t,e){K.elementMousemove()}),S.on("click",function(t){K.elementClick({id:t.id})});var g=(A=u.selectAll(".dimension").data(N)).enter().append("g").attr("class","nv-parallelCoordinates dimension");A.attr("transform",function(t){return"translate("+I(t.key)+",0)"}),g.append("g").attr("class","nv-axis"),g.append("text").attr("class","nv-label").style("cursor","move").attr("dy","-1em").attr("text-anchor","middle").on("mouseover",function(t,e){K.elementMouseover({label:t.tooltip||t.key,color:t.color})}).on("mouseout",function(t,e){K.elementMouseout({label:t.tooltip})}).on("mousemove",function(t,e){K.elementMousemove()}).call(h),g.append("g").attr("class","nv-brushBackground"),A.exit().remove(),A.select(".nv-label").text(function(t){return t.key}),w(B);var m=j.filter(function(t){return!R[t].brush.empty()}),v=m.map(function(t){return R[t].brush.extent()}),y=H.slice(0);function b(r){return G(N.map(function(t){if(isNaN(r.values[t.key])||isNaN(parseFloat(r.values[t.key]))||l){var e=R[t.key].domain(),n=R[t.key].range(),i=e[0]-(e[1]-e[0])/9;if(q.indexOf(t.key)<0){var o=d3.scale.linear().domain([i,e[1]]).range([O-12,n[1]]);R[t.key].brush.y(o),q.push(t.key)}if(isNaN(r.values[t.key])||isNaN(parseFloat(r.values[t.key])))return[I(t.key),R[t.key](i)]}return void 0!==c&&(0<q.length||l?(c.style("display","inline"),p.style("display","inline")):(c.style("display","none"),p.style("display","none"))),[I(t.key),R[t.key](r.values[t.key])]}))}function w(n){z.forEach(function(t){var e=R[t.dimension].brush.y().domain();t.hasOnlyNaN&&(t.extent[1]=(R[t.dimension].domain()[1]-e[0])*(t.extent[1]-t.extent[0])/(s[t.dimension]-t.extent[0])+e[0]),t.hasNaN&&(t.extent[0]=e[0]),n&&R[t.dimension].brush.extent(t.extent)}),A.select(".nv-brushBackground").each(function(t){d3.select(this).call(R[t.key].brush)}).selectAll("rect").attr("x",-8).attr("width",16),k()}function x(){!1===B&&w(B=!0)}function $(){m=j.filter(function(t){return!R[t].brush.empty()}),v=m.map(function(t){return R[t].brush.extent()}),z=[],m.forEach(function(t,e){z[e]={dimension:t,extent:v[e],hasNaN:!1,hasOnlyNaN:!1}}),H=[],S.style("display",function(n){var t=m.every(function(t,e){return!(!isNaN(n.values[t])&&!isNaN(parseFloat(n.values[t]))||v[e][0]!=R[t].brush.y().domain()[0])||v[e][0]<=n.values[t]&&n.values[t]<=v[e][1]&&!isNaN(parseFloat(n.values[t]))});return t&&H.push(n),t?null:"none"}),k(),K.brush({filters:z,active:H})}function _(){var t=0<m.length;z.forEach(function(t){t.extent[0]===R[t.dimension].brush.y().domain()[0]&&0<=q.indexOf(t.dimension)&&(t.hasNaN=!0),t.extent[1]<R[t.dimension].domain()[0]&&(t.hasOnlyNaN=!0)}),K.brushEnd(H,t)}function k(){A.select(".nv-axis").each(function(e,t){var n=z.filter(function(t){return t.dimension==e.key});o[e.key]=R[e.key].domain(),0!=n.length&&B&&(o[e.key]=[],n[0].extent[1]>R[e.key].domain()[0]&&(o[e.key]=[n[0].extent[1]]),n[0].extent[0]>=R[e.key].domain()[0]&&o[e.key].push(n[0].extent[0])),d3.select(this).call(Y.scale(R[e.key]).tickFormat(e.format).tickValues(o[e.key]))})}function C(t){var e=V[t];return null==e?I(t):e}H=[],S.style("display",function(n){var t=m.every(function(t,e){return!(!isNaN(n.values[t])&&!isNaN(parseFloat(n.values[t]))||v[e][0]!=R[t].brush.y().domain()[0])||v[e][0]<=n.values[t]&&n.values[t]<=v[e][1]&&!isNaN(parseFloat(n.values[t]))});return t&&H.push(n),t?null:"none"}),(0<z.length||!ht.utils.arrayEquals(H,y))&&K.activeChanged(H)}),n}return n.dispatch=K,n.options=ht.utils.optionsFunc.bind(n),n._options=Object.create({},{width:{get:function(){return M},set:function(t){M=t}},height:{get:function(){return E},set:function(t){E=t}},dimensionData:{get:function(){return F},set:function(t){F=t}},displayBrush:{get:function(){return B},set:function(t){B=t}},filters:{get:function(){return z},set:function(t){z=t}},active:{get:function(){return H},set:function(t){H=t}},lineTension:{get:function(){return W},set:function(t){W=t}},undefinedValuesLabel:{get:function(){return L},set:function(t){L=t}},dimensions:{get:function(){return F.map(function(t){return t.key})},set:function(t){ht.deprecated("dimensions","use dimensionData instead"),0===F.length?t.forEach(function(t){F.push({key:t})}):t.forEach(function(t,e){F[e].key=t})}},dimensionNames:{get:function(){return F.map(function(t){return t.key})},set:function(t){ht.deprecated("dimensionNames","use dimensionData instead"),j=[],0===F.length?t.forEach(function(t){F.push({key:t})}):t.forEach(function(t,e){F[e].key=t})}},dimensionFormats:{get:function(){return F.map(function(t){return t.format})},set:function(t){ht.deprecated("dimensionFormats","use dimensionData instead"),0===F.length?t.forEach(function(t){F.push({format:t})}):t.forEach(function(t,e){F[e].format=t})}},margin:{get:function(){return D},set:function(t){D.top=void 0!==t.top?t.top:D.top,D.right=void 0!==t.right?t.right:D.right,D.bottom=void 0!==t.bottom?t.bottom:D.bottom,D.left=void 0!==t.left?t.left:D.left}},color:{get:function(){return U},set:function(t){U=ht.utils.getColor(t)}}}),ht.utils.initOptions(n),n},ht.models.parallelCoordinatesChart=function(){"use strict";var l=ht.models.parallelCoordinates(),u=ht.models.legend(),e=ht.models.tooltip(),c=(ht.models.tooltip(),{top:0,right:0,bottom:0,left:0}),p=null,h=null,d=!0,n=ht.utils.defaultColor(),f=ht.utils.state(),g=[],m=!0,v=null,i=null,r="undefined",y=d3.dispatch("dimensionsOrder","brushEnd","stateChange","changeState","renderEnd"),o=ht.utils.renderWatch(y),b=function(t){return function(){return{active:t.map(function(t){return!t.disabled})}}},w=function(t){return function(n){void 0!==n.active&&t.forEach(function(t,e){t.disabled=!n.active[e]})}};function x(t){return o.reset(),o.models(l),t.each(function(t){var e=d3.select(this);ht.utils.initSVG(e);var n,i=ht.utils.availableWidth(p,e,c),o=ht.utils.availableHeight(h,e,c);if(x.update=function(){e.call(x)},x.container=this,f.setter(w(g),x.update).getter(b(g)).update(),f.disabled=g.map(function(t){return!!t.disabled}),(g=g.map(function(t){return t.disabled=!!t.disabled,t})).forEach(function(t,e){t.originalPosition=isNaN(t.originalPosition)?e:t.originalPosition,t.currentPosition=isNaN(t.currentPosition)?e:t.currentPosition}),!v)for(n in v={},f)f[n]instanceof Array?v[n]=f[n].slice(0):v[n]=f[n];if(!t||!t.length)return ht.utils.noData(x,e),x;e.selectAll(".nv-noData").remove();var r=e.selectAll("g.nv-wrap.nv-parallelCoordinatesChart").data([t]),a=r.enter().append("g").attr("class","nvd3 nv-wrap nv-parallelCoordinatesChart").append("g"),s=r.select("g");a.append("g").attr("class","nv-parallelCoordinatesWrap"),a.append("g").attr("class","nv-legendWrap"),s.select("rect").attr("width",i).attr("height",0<o?o:0),d?(u.width(i).color(function(t){return"rgb(188,190,192)"}),s.select(".nv-legendWrap").datum(g.sort(function(t,e){return t.originalPosition-e.originalPosition})).call(u),u.height()>c.top&&(c.top=u.height(),o=ht.utils.availableHeight(h,e,c)),r.select(".nv-legendWrap").attr("transform","translate( 0 ,"+-c.top+")")):s.select(".nv-legendWrap").selectAll("*").remove(),r.attr("transform","translate("+c.left+","+c.top+")"),l.width(i).height(o).dimensionData(g).displayBrush(m),s.select(".nv-parallelCoordinatesWrap ").datum(t).transition().call(l),l.dispatch.on("brushEnd",function(t,e){e?(m=!0,y.brushEnd(t)):m=!1}),u.dispatch.on("stateChange",function(t){for(var e in t)f[e]=t[e];y.stateChange(f),x.update()}),l.dispatch.on("dimensionsOrder",function(t){g.sort(function(t,e){return t.currentPosition-e.currentPosition});var n=!1;g.forEach(function(t,e){t.currentPosition=e,t.currentPosition!==t.originalPosition&&(n=!0)}),y.dimensionsOrder(g,n)}),y.on("changeState",function(n){void 0!==n.disabled&&(g.forEach(function(t,e){t.disabled=n.disabled[e]}),f.disabled=n.disabled),x.update()})}),o.renderEnd("parraleleCoordinateChart immediate"),x}return e.contentGenerator(function(t){var e='<table><thead><tr><td class="legend-color-guide"><div style="background-color:'+t.color+'"></div></td><td><strong>'+t.key+"</strong></td></tr></thead>";return 0!==t.series.length&&(e+='<tbody><tr><td height ="10px"></td></tr>',t.series.forEach(function(t){e=e+'<tr><td class="legend-color-guide"><div style="background-color:'+t.color+'"></div></td><td class="key">'+t.key+'</td><td class="value">'+t.value+"</td></tr>"}),e+="</tbody>"),e+="</table>"}),l.dispatch.on("elementMouseover.tooltip",function(i){var o={key:i.label,color:i.color,series:[]};i.values&&(Object.keys(i.values).forEach(function(e){var t,n=i.dimensions.filter(function(t){return t.key===e})[0];n&&(t=isNaN(i.values[e])||isNaN(parseFloat(i.values[e]))?r:n.format(i.values[e]),o.series.push({idx:n.currentPosition,key:e,value:t,color:n.color}))}),o.series.sort(function(t,e){return t.idx-e.idx})),e.data(o).hidden(!1)}),l.dispatch.on("elementMouseout.tooltip",function(t){e.hidden(!0)}),l.dispatch.on("elementMousemove.tooltip",function(){e()}),x.dispatch=y,x.parallelCoordinates=l,x.legend=u,x.tooltip=e,x.options=ht.utils.optionsFunc.bind(x),x._options=Object.create({},{width:{get:function(){return p},set:function(t){p=t}},height:{get:function(){return h},set:function(t){h=t}},showLegend:{get:function(){return d},set:function(t){d=t}},defaultState:{get:function(){return v},set:function(t){v=t}},dimensionData:{get:function(){return g},set:function(t){g=t}},displayBrush:{get:function(){return m},set:function(t){m=t}},noData:{get:function(){return i},set:function(t){i=t}},nanValue:{get:function(){return r},set:function(t){r=t}},margin:{get:function(){return c},set:function(t){c.top=void 0!==t.top?t.top:c.top,c.right=void 0!==t.right?t.right:c.right,c.bottom=void 0!==t.bottom?t.bottom:c.bottom,c.left=void 0!==t.left?t.left:c.left}},color:{get:function(){return n},set:function(t){n=ht.utils.getColor(t),u.color(n),l.color(n)}}}),ht.utils.inheritOptions(x,l),ht.utils.initOptions(x),x},ht.models.pie=function(){"use strict";var _={top:0,right:0,bottom:0,left:0},k=500,C=500,S=function(t){return t.x},T=function(t){return t.y},A=Math.floor(1e4*Math.random()),D=null,M=ht.utils.defaultColor(),E=d3.format(",.2f"),P=!0,O=!1,I="key",R=.02,L=!1,F=!1,N=!0,j=0,B=!1,U=!1,z=!1,H=!1,V=0,q=.5,W=250,G=[],Y=d3.dispatch("chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout","elementMousemove","renderEnd"),K=[],Z=[],X=ht.utils.renderWatch(Y);function e(t){return X.reset(),t.each(function(t){var e=k-_.left-_.right,n=C-_.top-_.bottom,a=Math.min(e,n)/2,s=[],i=[];if(D=d3.select(this),0===G.length)for(var o=a-a/5,r=q*a,l=0;l<t[0].length;l++)s.push(o),i.push(r);else q=N?(s=G.map(function(t){return(t.outer-t.outer/5)*a}),i=G.map(function(t){return(t.inner-t.inner/5)*a}),d3.min(G.map(function(t){return t.inner-t.inner/5}))):(s=G.map(function(t){return t.outer*a}),i=G.map(function(t){return t.inner*a}),d3.min(G.map(function(t){return t.inner})));ht.utils.initSVG(D);var u=D.selectAll(".nv-wrap.nv-pie").data(t),c=u.enter().append("g").attr("class","nvd3 nv-wrap nv-pie nv-chart-"+A).append("g"),p=u.select("g"),h=c.append("g").attr("class","nv-pie");c.append("g").attr("class","nv-pieLabels"),u.attr("transform","translate("+_.left+","+_.top+")"),p.select(".nv-pie").attr("transform","translate("+e/2+","+n/2+")"),p.select(".nv-pieLabels").attr("transform","translate("+e/2+","+n/2+")"),D.on("click",function(t,e){Y.chartClick({data:t,index:e,pos:d3.event,id:A})}),K=[],Z=[];for(l=0;l<t[0].length;l++){var d=d3.svg.arc().outerRadius(s[l]),f=d3.svg.arc().outerRadius(s[l]+5);!1!==U&&(d.startAngle(U),f.startAngle(U)),!1!==H&&(d.endAngle(H),f.endAngle(H)),L&&(d.innerRadius(i[l]),f.innerRadius(i[l])),d.cornerRadius&&V&&(d.cornerRadius(V),f.cornerRadius(V)),K.push(d),Z.push(f)}var g=d3.layout.pie().sort(null).value(function(t){return t.disabled?0:T(t)});g.padAngle&&z&&g.padAngle(z),L&&F&&(h.append("text").attr("class","nv-pie-title"),u.select(".nv-pie-title").style("text-anchor","middle").text(function(t){return F}).style("font-size",Math.min(e,n)*q*2/(F.length+2)+"px").attr("dy","0.35em").attr("transform",function(t,e){return"translate(0, "+j+")"}));var m=u.select(".nv-pie").selectAll(".nv-slice").data(g),v=u.select(".nv-pieLabels").selectAll(".nv-label").data(g);m.exit().remove(),v.exit().remove();var y=m.enter().append("g");y.attr("class","nv-slice"),y.on("mouseover",function(t,e){d3.select(this).classed("hover",!0),N&&d3.select(this).select("path").transition().duration(70).attr("d",Z[e]),Y.elementMouseover({data:t.data,index:e,color:d3.select(this).style("fill"),percent:(t.endAngle-t.startAngle)/(2*Math.PI)})}),y.on("mouseout",function(t,e){d3.select(this).classed("hover",!1),N&&d3.select(this).select("path").transition().duration(50).attr("d",K[e]),Y.elementMouseout({data:t.data,index:e})}),y.on("mousemove",function(t,e){Y.elementMousemove({data:t.data,index:e})}),y.on("click",function(t,e){Y.elementClick({data:t.data,index:e,color:d3.select(this).style("fill"),event:d3.event,element:this})}),y.on("dblclick",function(t,e){Y.elementDblClick({data:t.data,index:e,color:d3.select(this).style("fill")})}),m.attr("fill",function(t,e){return M(t.data,e)}),m.attr("stroke",function(t,e){return M(t.data,e)});y.append("path").each(function(t){this._current=t});if(m.select("path").transition().duration(W).attr("d",function(t,e){return K[e](t)}).attrTween("d",function(t,e){t.endAngle=isNaN(t.endAngle)?0:t.endAngle,t.startAngle=isNaN(t.startAngle)?0:t.startAngle,L||(t.innerRadius=0);var n=d3.interpolate(this._current,t);return this._current=n(0),function(t){return K[e](n(t))}}),P){var b=[];for(l=0;l<t[0].length;l++)b.push(K[l]),O?L&&(b[l]=d3.svg.arc().outerRadius(K[l].outerRadius()),!1!==U&&b[l].startAngle(U),!1!==H&&b[l].endAngle(H)):L||b[l].innerRadius(0);v.enter().append("g").classed("nv-label",!0).each(function(t,e){var n=d3.select(this);n.attr("transform",function(t,e){if(B){t.outerRadius=s[e]+10,t.innerRadius=s[e]+15;var n=(t.startAngle+t.endAngle)/2*(180/Math.PI);return(t.startAngle+t.endAngle)/2<Math.PI?n-=90:n+=90,"translate("+b[e].centroid(t)+") rotate("+n+")"}return t.outerRadius=a+10,t.innerRadius=a+15,"translate("+b[e].centroid(t)+")"}),n.append("rect").style("stroke","#fff").style("fill","#fff").attr("rx",3).attr("ry",3),n.append("text").style("text-anchor",B?(t.startAngle+t.endAngle)/2<Math.PI?"start":"end":"middle").style("fill","#000")});var w={},x=function(t){return 140*Math.floor(t[0]/140)+","+14*Math.floor(t[1]/14)},$=function(t){return(t.endAngle-t.startAngle)/(2*Math.PI)};v.watchTransition(X,"pie labels").attr("transform",function(t,e){if(B){t.outerRadius=s[e]+10,t.innerRadius=s[e]+15;var n=(t.startAngle+t.endAngle)/2*(180/Math.PI);return(t.startAngle+t.endAngle)/2<Math.PI?n-=90:n+=90,"translate("+b[e].centroid(t)+") rotate("+n+")"}t.outerRadius=a+10,t.innerRadius=a+15;var i=b[e].centroid(t),o=$(t);if(t.value&&R<=o){var r=x(i);w[r]&&(i[1]-=14),w[x(i)]=!0}return"translate("+i+")"}),v.select(".nv-label text").style("text-anchor",function(t,e){return B?(t.startAngle+t.endAngle)/2<Math.PI?"start":"end":"middle"}).text(function(t,e){var n=$(t),i="";if(!t.value||n<R)return"";if("function"==typeof I)i=I(t,e,{key:S(t.data),value:T(t.data),percent:E(n)});else switch(I){case"key":i=S(t.data);break;case"value":i=E(T(t.data));break;case"percent":i=d3.format("%")(n)}return i})}}),X.renderEnd("pie immediate"),e}return e.dispatch=Y,e.options=ht.utils.optionsFunc.bind(e),e._options=Object.create({},{arcsRadius:{get:function(){return G},set:function(t){G=t}},width:{get:function(){return k},set:function(t){k=t}},height:{get:function(){return C},set:function(t){C=t}},showLabels:{get:function(){return P},set:function(t){P=t}},title:{get:function(){return F},set:function(t){F=t}},titleOffset:{get:function(){return j},set:function(t){j=t}},labelThreshold:{get:function(){return R},set:function(t){R=t}},valueFormat:{get:function(){return E},set:function(t){E=t}},x:{get:function(){return S},set:function(t){S=t}},id:{get:function(){return A},set:function(t){A=t}},endAngle:{get:function(){return H},set:function(t){H=t}},startAngle:{get:function(){return U},set:function(t){U=t}},padAngle:{get:function(){return z},set:function(t){z=t}},cornerRadius:{get:function(){return V},set:function(t){V=t}},donutRatio:{get:function(){return q},set:function(t){q=t}},labelsOutside:{get:function(){return O},set:function(t){O=t}},labelSunbeamLayout:{get:function(){return B},set:function(t){B=t}},donut:{get:function(){return L},set:function(t){L=t}},growOnHover:{get:function(){return N},set:function(t){N=t}},pieLabelsOutside:{get:function(){return O},set:function(t){O=t,ht.deprecated("pieLabelsOutside","use labelsOutside instead")}},donutLabelsOutside:{get:function(){return O},set:function(t){O=t,ht.deprecated("donutLabelsOutside","use labelsOutside instead")}},labelFormat:{get:function(){return E},set:function(t){E=t,ht.deprecated("labelFormat","use valueFormat instead")}},margin:{get:function(){return _},set:function(t){_.top=void 0!==t.top?t.top:_.top,_.right=void 0!==t.right?t.right:_.right,_.bottom=void 0!==t.bottom?t.bottom:_.bottom,_.left=void 0!==t.left?t.left:_.left}},duration:{get:function(){return W},set:function(t){W=t,X.reset(W)}},y:{get:function(){return T},set:function(t){T=d3.functor(t)}},color:{get:function(){return M},set:function(t){M=ht.utils.getColor(t)}},labelType:{get:function(){return I},set:function(t){I=t||"key"}}}),ht.utils.initOptions(e),e},ht.models.pieChart=function(){"use strict";var c=ht.models.pie(),p=ht.models.legend(),e=ht.models.tooltip(),h={top:30,right:20,bottom:20,left:20},d=null,f=null,n=!1,g=!0,m="top",i=ht.utils.defaultColor(),v=ht.utils.state(),y=null,o=null,r=250,b=d3.dispatch("stateChange","changeState","renderEnd");e.duration(0).headerEnabled(!1).valueFormatter(function(t,e){return c.valueFormat()(t,e)});var a=ht.utils.renderWatch(b),w=function(t){return function(){return{active:t.map(function(t){return!t.disabled})}}},x=function(t){return function(n){void 0!==n.active&&t.forEach(function(t,e){t.disabled=!n.active[e]})}};function $(t){return a.reset(),a.models(c),t.each(function(t){var e=d3.select(this);ht.utils.initSVG(e);var n,i=ht.utils.availableWidth(d,e,h),o=ht.utils.availableHeight(f,e,h);if($.update=function(){e.transition().call($)},$.container=this,v.setter(x(t),$.update).getter(w(t)).update(),v.disabled=t.map(function(t){return!!t.disabled}),!y)for(n in y={},v)v[n]instanceof Array?y[n]=v[n].slice(0):y[n]=v[n];if(!t||!t.length)return ht.utils.noData($,e),$;e.selectAll(".nv-noData").remove();var r=e.selectAll("g.nv-wrap.nv-pieChart").data([t]),a=r.enter().append("g").attr("class","nvd3 nv-wrap nv-pieChart").append("g"),s=r.select("g");if(a.append("g").attr("class","nv-pieWrap"),a.append("g").attr("class","nv-legendWrap"),g){if("top"===m)p.width(i).key(c.x()),r.select(".nv-legendWrap").datum(t).call(p),p.height()>h.top&&(h.top=p.height(),o=ht.utils.availableHeight(f,e,h)),r.select(".nv-legendWrap").attr("transform","translate(0,"+-h.top+")");else if("right"===m){var l=ht.models.legend().width();i/2<l&&(l=i/2),p.height(o).key(c.x()),p.width(l),i-=p.width(),r.select(".nv-legendWrap").datum(t).call(p).attr("transform","translate("+i+",0)")}}else s.select(".nv-legendWrap").selectAll("*").remove();r.attr("transform","translate("+h.left+","+h.top+")"),c.width(i).height(o);var u=s.select(".nv-pieWrap").datum([t]);d3.transition(u).call(c),p.dispatch.on("stateChange",function(t){for(var e in t)v[e]=t[e];b.stateChange(v),$.update()}),b.on("changeState",function(n){void 0!==n.disabled&&(t.forEach(function(t,e){t.disabled=n.disabled[e]}),v.disabled=n.disabled),$.update()})}),a.renderEnd("pieChart immediate"),$}return c.dispatch.on("elementMouseover.tooltip",function(t){t.series={key:$.x()(t.data),value:$.y()(t.data),color:t.color,percent:t.percent},n||(delete t.percent,delete t.series.percent),e.data(t).hidden(!1)}),c.dispatch.on("elementMouseout.tooltip",function(t){e.hidden(!0)}),c.dispatch.on("elementMousemove.tooltip",function(t){e()}),$.legend=p,$.dispatch=b,$.pie=c,$.tooltip=e,$.options=ht.utils.optionsFunc.bind($),$._options=Object.create({},{width:{get:function(){return d},set:function(t){d=t}},height:{get:function(){return f},set:function(t){f=t}},noData:{get:function(){return o},set:function(t){o=t}},showTooltipPercent:{get:function(){return n},set:function(t){n=t}},showLegend:{get:function(){return g},set:function(t){g=t}},legendPosition:{get:function(){return m},set:function(t){m=t}},defaultState:{get:function(){return y},set:function(t){y=t}},color:{get:function(){return i},set:function(t){i=t,p.color(i),c.color(i)}},duration:{get:function(){return r},set:function(t){r=t,a.reset(r),c.duration(r)}},margin:{get:function(){return h},set:function(t){h.top=void 0!==t.top?t.top:h.top,h.right=void 0!==t.right?t.right:h.right,h.bottom=void 0!==t.bottom?t.bottom:h.bottom,h.left=void 0!==t.left?t.left:h.left}}}),ht.utils.inheritOptions($,c),ht.utils.initOptions($),$},ht.models.scatter=function(){"use strict";var m,v,y,b,u,w={top:0,right:0,bottom:0,left:0},x=null,$=null,_=ht.utils.defaultColor(),k=Math.floor(1e5*Math.random()),C=null,S=d3.scale.linear(),T=d3.scale.linear(),A=d3.scale.linear(),D=function(t){return t.x},M=function(t){return t.y},E=function(t){return t.size||1},P=function(t){return t.shape||"circle"},O=[],I=[],R=[],L=!0,F=function(t){return!t.notActive},N=!1,j=.1,B=!1,U=!0,z=!1,H=function(){return 25},V=null,q=null,W=null,G=null,Y=null,K=null,Z=!1,X=d3.dispatch("elementClick","elementDblClick","elementMouseover","elementMouseout","renderEnd"),J=!0,e=250,Q=300,tt=!1,et=!1,nt=ht.utils.renderWatch(X,e),it=[16,256];function ot(t){var e,n,i,o,r,a=t[0],s=o=(o=(o=u=u||{})[r=(i=t)[0].series]=o[r]||{})[r=i[1]]=o[r]||{},l=!1;for(e=1;e<arguments.length;e++)s[n=arguments[e]]===a[n]&&s.hasOwnProperty(n)||(s[n]=a[n],l=!0);return l}function rt(t){return nt.reset(),t.each(function(s){C=d3.select(this);var t=ht.utils.availableWidth(x,C,w),e=ht.utils.availableHeight($,C,w);ht.utils.initSVG(C),s.forEach(function(t,e){t.values.forEach(function(t){t.series=e})});var n=rt.yScale().name===d3.scale.log().name,i=V&&q&&Y?[]:d3.merge(s.map(function(t){return t.values.map(function(t,e){return{x:D(t,e),y:M(t,e),size:E(t,e)}})}));if(S.domain(V||d3.extent(i.map(function(t){return t.x}).concat(O))),N&&s[0]?S.range(W||[(t*j+t)/(2*s[0].values.length),t-t*(1+j)/(2*s[0].values.length)]):S.range(W||[0,t]),n){var o=d3.min(i.map(function(t){if(0!==t.y)return t.y}));T.clamp(!0).domain(q||d3.extent(i.map(function(t){return 0!==t.y?t.y:.1*o}).concat(I))).range(G||[e,0])}else T.domain(q||d3.extent(i.map(function(t){return t.y}).concat(I))).range(G||[e,0]);A.domain(Y||d3.extent(i.map(function(t){return t.size}).concat(R))).range(K||it),Z=S.domain()[0]===S.domain()[1]||T.domain()[0]===T.domain()[1],S.domain()[0]===S.domain()[1]&&(S.domain()[0]?S.domain([S.domain()[0]-.01*S.domain()[0],S.domain()[1]+.01*S.domain()[1]]):S.domain([-1,1])),T.domain()[0]===T.domain()[1]&&(T.domain()[0]?T.domain([T.domain()[0]-.01*T.domain()[0],T.domain()[1]+.01*T.domain()[1]]):T.domain([-1,1])),isNaN(S.domain()[0])&&S.domain([-1,1]),isNaN(T.domain()[0])&&T.domain([-1,1]),m=m||S,v=v||T,y=y||A;var r=S(1)!==m(1)||T(1)!==v(1)||A(1)!==y(1),a=C.selectAll("g.nv-wrap.nv-scatter").data([s]),l=a.enter().append("g").attr("class","nvd3 nv-wrap nv-scatter nv-chart-"+k),u=l.append("defs"),c=l.append("g"),p=a.select("g");function h(){if(et=!1,!L)return!1;if(!0===J){var n=d3.merge(s.map(function(t,o){return t.values.map(function(t,e){var n=D(t,e),i=M(t,e);return[ht.utils.NaNtoZero(S(n))+1e-4*Math.random(),ht.utils.NaNtoZero(T(i))+1e-4*Math.random(),o,e,t]}).filter(function(t,e){return F(t[4],e)})}));if(0==n.length)return!1;n.length<3&&(n.push([S.range()[0]-20,T.range()[0]-20,null,null]),n.push([S.range()[1]+20,T.range()[1]+20,null,null]),n.push([S.range()[0]-20,T.range()[0]+20,null,null]),n.push([S.range()[1]+20,T.range()[1]-20,null,null]));var i=d3.geom.polygon([[-10,-10],[-10,$+10],[x+10,$+10],[x+10,-10]]),t=d3.geom.voronoi(n).map(function(t,e){return{data:i.clip(t),series:n[e][2],point:n[e][3]}});a.select(".nv-point-paths").selectAll("path").remove();var e=a.select(".nv-point-paths").selectAll("path").data(t),o=e.enter().append("svg:path").attr("d",function(t){return t&&t.data&&0!==t.data.length?"M"+t.data.join(",")+"Z":"M 0 0"}).attr("id",function(t,e){return"nv-path-"+e}).attr("clip-path",function(t,e){return"url(#nv-clip-"+k+"-"+e+")"});if(z&&o.style("fill",d3.rgb(230,230,230)).style("fill-opacity",.4).style("stroke-opacity",1).style("stroke",d3.rgb(200,200,200)),U){a.select(".nv-point-clips").selectAll("*").remove();a.select(".nv-point-clips").selectAll("clipPath").data(n).enter().append("svg:clipPath").attr("id",function(t,e){return"nv-clip-"+k+"-"+e}).append("svg:circle").attr("cx",function(t){return t[0]}).attr("cy",function(t){return t[1]}).attr("r",H)}var r=function(t,e){if(et)return 0;var n=s[t.series];if(void 0!==n){var i=n.values[t.point];i.color=_(n,t.series),i.x=D(i),i.y=M(i);var o=C.node().getBoundingClientRect(),r=window.pageYOffset||document.documentElement.scrollTop,a=window.pageXOffset||document.documentElement.scrollLeft;e({point:i,series:n,pos:{left:S(D(i,t.point))+o.left+a+w.left+10,top:T(M(i,t.point))+o.top+r+w.top+10},relativePos:[S(D(i,t.point))+w.left,T(M(i,t.point))+w.top],seriesIndex:t.series,pointIndex:t.point})}};e.on("click",function(t){r(t,X.elementClick)}).on("dblclick",function(t){r(t,X.elementDblClick)}).on("mouseover",function(t){r(t,X.elementMouseover)}).on("mouseout",function(t,e){r(t,X.elementMouseout)})}else a.select(".nv-groups").selectAll(".nv-group").selectAll(".nv-point").on("click",function(t,e){if(et||!s[t.series])return 0;var n=s[t.series],i=n.values[e];X.elementClick({point:i,series:n,pos:[S(D(i,e))+w.left,T(M(i,e))+w.top],relativePos:[S(D(i,e))+w.left,T(M(i,e))+w.top],seriesIndex:t.series,pointIndex:e,event:d3.event,element:this})}).on("dblclick",function(t,e){if(et||!s[t.series])return 0;var n=s[t.series],i=n.values[e];X.elementDblClick({point:i,series:n,pos:[S(D(i,e))+w.left,T(M(i,e))+w.top],relativePos:[S(D(i,e))+w.left,T(M(i,e))+w.top],seriesIndex:t.series,pointIndex:e})}).on("mouseover",function(t,e){if(et||!s[t.series])return 0;var n=s[t.series],i=n.values[e];X.elementMouseover({point:i,series:n,pos:[S(D(i,e))+w.left,T(M(i,e))+w.top],relativePos:[S(D(i,e))+w.left,T(M(i,e))+w.top],seriesIndex:t.series,pointIndex:e,color:_(t,e)})}).on("mouseout",function(t,e){if(et||!s[t.series])return 0;var n=s[t.series],i=n.values[e];X.elementMouseout({point:i,series:n,pos:[S(D(i,e))+w.left,T(M(i,e))+w.top],relativePos:[S(D(i,e))+w.left,T(M(i,e))+w.top],seriesIndex:t.series,pointIndex:e,color:_(t,e)})})}a.classed("nv-single-point",Z),c.append("g").attr("class","nv-groups"),c.append("g").attr("class","nv-point-paths"),l.append("g").attr("class","nv-point-clips"),a.attr("transform","translate("+w.left+","+w.top+")"),u.append("clipPath").attr("id","nv-edge-clip-"+k).append("rect"),a.select("#nv-edge-clip-"+k+" rect").attr("width",t).attr("height",0<e?e:0),p.attr("clip-path",B?"url(#nv-edge-clip-"+k+")":""),et=!0;var d=a.select(".nv-groups").selectAll(".nv-group").data(function(t){return t},function(t){return t.key});d.enter().append("g").style("stroke-opacity",1e-6).style("fill-opacity",1e-6),d.exit().remove(),d.attr("class",function(t,e){return(t.classed||"")+" nv-group nv-series-"+e}).classed("nv-noninteractive",!L).classed("hover",function(t){return t.hover}),d.watchTransition(nt,"scatter: groups").style("fill",function(t,e){return _(t,e)}).style("stroke",function(t,e){return _(t,e)}).style("stroke-opacity",1).style("fill-opacity",.5);var f=d.selectAll("path.nv-point").data(function(t){return t.values.map(function(t,e){return[t,e]}).filter(function(t,e){return F(t[0],e)})});if(f.enter().append("path").attr("class",function(t){return"nv-point nv-point-"+t[1]}).style("fill",function(t){return t.color}).style("stroke",function(t){return t.color}).attr("transform",function(t){return"translate("+ht.utils.NaNtoZero(m(D(t[0],t[1])))+","+ht.utils.NaNtoZero(v(M(t[0],t[1])))+")"}).attr("d",ht.utils.symbol().type(function(t){return P(t[0])}).size(function(t){return A(E(t[0],t[1]))})),f.exit().remove(),d.exit().selectAll("path.nv-point").watchTransition(nt,"scatter exit").attr("transform",function(t){return"translate("+ht.utils.NaNtoZero(S(D(t[0],t[1])))+","+ht.utils.NaNtoZero(T(M(t[0],t[1])))+")"}).remove(),f.filter(function(t){return r||ot(t,"x","y")}).watchTransition(nt,"scatter points").attr("transform",function(t){return"translate("+ht.utils.NaNtoZero(S(D(t[0],t[1])))+","+ht.utils.NaNtoZero(T(M(t[0],t[1])))+")"}),f.filter(function(t){return r||ot(t,"shape","size")}).watchTransition(nt,"scatter points").attr("d",ht.utils.symbol().type(function(t){return P(t[0])}).size(function(t){return A(E(t[0],t[1]))})),tt){var g=d.selectAll(".nv-label").data(function(t){return t.values.map(function(t,e){return[t,e]}).filter(function(t,e){return F(t[0],e)})});g.enter().append("text").style("fill",function(t,e){return t.color}).style("stroke-opacity",0).style("fill-opacity",1).attr("transform",function(t){return"translate("+(ht.utils.NaNtoZero(m(D(t[0],t[1])))+Math.sqrt(A(E(t[0],t[1]))/Math.PI)+2)+","+ht.utils.NaNtoZero(v(M(t[0],t[1])))+")"}).text(function(t,e){return t[0].label}),g.exit().remove(),d.exit().selectAll("path.nv-label").watchTransition(nt,"scatter exit").attr("transform",function(t){return"translate("+(ht.utils.NaNtoZero(S(D(t[0],t[1])))+Math.sqrt(A(E(t[0],t[1]))/Math.PI)+2)+","+ht.utils.NaNtoZero(T(M(t[0],t[1])))+")"}).remove(),g.each(function(t){d3.select(this).classed("nv-label",!0).classed("nv-label-"+t[1],!1).classed("hover",!1)}),g.watchTransition(nt,"scatter labels").attr("transform",function(t){return"translate("+(ht.utils.NaNtoZero(S(D(t[0],t[1])))+Math.sqrt(A(E(t[0],t[1]))/Math.PI)+2)+","+ht.utils.NaNtoZero(T(M(t[0],t[1])))+")"})}Q?(clearTimeout(b),b=setTimeout(h,Q)):h(),m=S.copy(),v=T.copy(),y=A.copy()}),nt.renderEnd("scatter immediate"),rt}return rt.dispatch=X,rt.options=ht.utils.optionsFunc.bind(rt),rt._calls=new function(){this.clearHighlights=function(){return ht.dom.write(function(){C.selectAll(".nv-point.hover").classed("hover",!1)}),null},this.highlightPoint=function(t,e,n){ht.dom.write(function(){C.select(".nv-groups").selectAll(".nv-series-"+t).selectAll(".nv-point-"+e).classed("hover",n)})}},X.on("elementMouseover.point",function(t){L&&rt._calls.highlightPoint(t.seriesIndex,t.pointIndex,!0)}),X.on("elementMouseout.point",function(t){L&&rt._calls.highlightPoint(t.seriesIndex,t.pointIndex,!1)}),rt._options=Object.create({},{width:{get:function(){return x},set:function(t){x=t}},height:{get:function(){return $},set:function(t){$=t}},xScale:{get:function(){return S},set:function(t){S=t}},yScale:{get:function(){return T},set:function(t){T=t}},pointScale:{get:function(){return A},set:function(t){A=t}},xDomain:{get:function(){return V},set:function(t){V=t}},yDomain:{get:function(){return q},set:function(t){q=t}},pointDomain:{get:function(){return Y},set:function(t){Y=t}},xRange:{get:function(){return W},set:function(t){W=t}},yRange:{get:function(){return G},set:function(t){G=t}},pointRange:{get:function(){return K},set:function(t){K=t}},forceX:{get:function(){return O},set:function(t){O=t}},forceY:{get:function(){return I},set:function(t){I=t}},forcePoint:{get:function(){return R},set:function(t){R=t}},interactive:{get:function(){return L},set:function(t){L=t}},pointActive:{get:function(){return F},set:function(t){F=t}},padDataOuter:{get:function(){return j},set:function(t){j=t}},padData:{get:function(){return N},set:function(t){N=t}},clipEdge:{get:function(){return B},set:function(t){B=t}},clipVoronoi:{get:function(){return U},set:function(t){U=t}},clipRadius:{get:function(){return H},set:function(t){H=t}},showVoronoi:{get:function(){return z},set:function(t){z=t}},id:{get:function(){return k},set:function(t){k=t}},interactiveUpdateDelay:{get:function(){return Q},set:function(t){Q=t}},showLabels:{get:function(){return tt},set:function(t){tt=t}},x:{get:function(){return D},set:function(t){D=d3.functor(t)}},y:{get:function(){return M},set:function(t){M=d3.functor(t)}},pointSize:{get:function(){return E},set:function(t){E=d3.functor(t)}},pointShape:{get:function(){return P},set:function(t){P=d3.functor(t)}},margin:{get:function(){return w},set:function(t){w.top=void 0!==t.top?t.top:w.top,w.right=void 0!==t.right?t.right:w.right,w.bottom=void 0!==t.bottom?t.bottom:w.bottom,w.left=void 0!==t.left?t.left:w.left}},duration:{get:function(){return e},set:function(t){e=t,nt.reset(e)}},color:{get:function(){return _},set:function(t){_=ht.utils.getColor(t)}},useVoronoi:{get:function(){return J},set:function(t){!1===(J=t)&&(U=!1)}}}),ht.utils.initOptions(rt),rt},ht.models.scatterChart=function(){"use strict";var c=ht.models.scatter(),p=ht.models.axis(),h=ht.models.axis(),d=ht.models.legend(),f=ht.models.distribution(),g=ht.models.distribution(),m=ht.models.tooltip(),v={top:30,right:20,bottom:50,left:75},y=null,b=null,w=null,x=ht.utils.defaultColor(),$=c.xScale(),_=c.yScale(),k=!1,C=!1,S=!0,T=!0,A=!0,D=!1,M=ht.utils.state(),E=null,P=d3.dispatch("stateChange","changeState","renderEnd"),e=null,O=250,I=!1;c.xScale($).yScale(_),p.orient("bottom").tickPadding(10),h.orient(D?"right":"left").tickPadding(10),f.axis("x"),g.axis("y"),m.headerFormatter(function(t,e){return p.tickFormat()(t,e)}).valueFormatter(function(t,e){return h.tickFormat()(t,e)});var R=ht.utils.renderWatch(P,O),L=function(t){return function(){return{active:t.map(function(t){return!t.disabled})}}},F=function(t){return function(n){void 0!==n.active&&t.forEach(function(t,e){t.disabled=!n.active[e]})}};function N(t){return R.reset(),R.models(c),T&&R.models(p),A&&R.models(h),k&&R.models(f),C&&R.models(g),t.each(function(i){w=d3.select(this),ht.utils.initSVG(w);var t,e=ht.utils.availableWidth(y,w,v),n=ht.utils.availableHeight(b,w,v);if(N.update=function(){0===O?w.call(N):w.transition().duration(O).call(N)},N.container=this,M.setter(F(i),N.update).getter(L(i)).update(),M.disabled=i.map(function(t){return!!t.disabled}),!E)for(t in E={},M)M[t]instanceof Array?E[t]=M[t].slice(0):E[t]=M[t];if(!(i&&i.length&&i.filter(function(t){return t.values.length}).length))return ht.utils.noData(N,w),R.renderEnd("scatter immediate"),N;w.selectAll(".nv-noData").remove(),$=c.xScale(),_=c.yScale();var o=w.selectAll("g.nv-wrap.nv-scatterChart").data([i]),r=o.enter().append("g").attr("class","nvd3 nv-wrap nv-scatterChart nv-chart-"+c.id()).append("g"),a=o.select("g");if(r.append("rect").attr("class","nvd3 nv-background").style("pointer-events","none"),r.append("g").attr("class","nv-x nv-axis"),r.append("g").attr("class","nv-y nv-axis"),r.append("g").attr("class","nv-scatterWrap"),r.append("g").attr("class","nv-regressionLinesWrap"),r.append("g").attr("class","nv-distWrap"),r.append("g").attr("class","nv-legendWrap"),D&&a.select(".nv-y.nv-axis").attr("transform","translate("+e+",0)"),S){var s=e;d.width(s),o.select(".nv-legendWrap").datum(i).call(d),d.height()>v.top&&(v.top=d.height(),n=ht.utils.availableHeight(b,w,v)),o.select(".nv-legendWrap").attr("transform","translate(0,"+-v.top+")")}else a.select(".nv-legendWrap").selectAll("*").remove();o.attr("transform","translate("+v.left+","+v.top+")"),c.width(e).height(n).color(i.map(function(t,e){return t.color=t.color||x(t,e),t.color}).filter(function(t,e){return!i[e].disabled})).showLabels(I),o.select(".nv-scatterWrap").datum(i.filter(function(t){return!t.disabled})).call(c),o.select(".nv-regressionLinesWrap").attr("clip-path","url(#nv-edge-clip-"+c.id()+")");var l=o.select(".nv-regressionLinesWrap").selectAll(".nv-regLines").data(function(t){return t});l.enter().append("g").attr("class","nv-regLines");var u=l.selectAll(".nv-regLine").data(function(t){return[t]});u.enter().append("line").attr("class","nv-regLine").style("stroke-opacity",0),u.filter(function(t){return t.intercept&&t.slope}).watchTransition(R,"scatterPlusLineChart: regline").attr("x1",$.range()[0]).attr("x2",$.range()[1]).attr("y1",function(t,e){return _($.domain()[0]*t.slope+t.intercept)}).attr("y2",function(t,e){return _($.domain()[1]*t.slope+t.intercept)}).style("stroke",function(t,e,n){return x(t,n)}).style("stroke-opacity",function(t,e){return t.disabled||void 0===t.slope||void 0===t.intercept?0:1}),T&&(p.scale($)._ticks(ht.utils.calcTicksX(e/100,i)).tickSize(-n,0),a.select(".nv-x.nv-axis").attr("transform","translate(0,"+_.range()[0]+")").call(p)),A&&(h.scale(_)._ticks(ht.utils.calcTicksY(n/36,i)).tickSize(-e,0),a.select(".nv-y.nv-axis").call(h)),k&&(f.getData(c.x()).scale($).width(e).color(i.map(function(t,e){return t.color||x(t,e)}).filter(function(t,e){return!i[e].disabled})),r.select(".nv-distWrap").append("g").attr("class","nv-distributionX"),a.select(".nv-distributionX").attr("transform","translate(0,"+_.range()[0]+")").datum(i.filter(function(t){return!t.disabled})).call(f)),C&&(g.getData(c.y()).scale(_).width(n).color(i.map(function(t,e){return t.color||x(t,e)}).filter(function(t,e){return!i[e].disabled})),r.select(".nv-distWrap").append("g").attr("class","nv-distributionY"),a.select(".nv-distributionY").attr("transform","translate("+(D?e:-g.size())+",0)").datum(i.filter(function(t){return!t.disabled})).call(g)),d.dispatch.on("stateChange",function(t){for(var e in t)M[e]=t[e];P.stateChange(M),N.update()}),P.on("changeState",function(n){void 0!==n.disabled&&(i.forEach(function(t,e){t.disabled=n.disabled[e]}),M.disabled=n.disabled),N.update()}),c.dispatch.on("elementMouseout.tooltip",function(t){m.hidden(!0),w.select(".nv-chart-"+c.id()+" .nv-series-"+t.seriesIndex+" .nv-distx-"+t.pointIndex).attr("y1",0),w.select(".nv-chart-"+c.id()+" .nv-series-"+t.seriesIndex+" .nv-disty-"+t.pointIndex).attr("x2",g.size())}),c.dispatch.on("elementMouseover.tooltip",function(t){w.select(".nv-series-"+t.seriesIndex+" .nv-distx-"+t.pointIndex).attr("y1",t.relativePos[1]-n),w.select(".nv-series-"+t.seriesIndex+" .nv-disty-"+t.pointIndex).attr("x2",t.relativePos[0]+f.size()),m.data(t).hidden(!1)}),$.copy(),_.copy()}),R.renderEnd("scatter with line immediate"),N}return N.dispatch=P,N.scatter=c,N.legend=d,N.xAxis=p,N.yAxis=h,N.distX=f,N.distY=g,N.tooltip=m,N.options=ht.utils.optionsFunc.bind(N),N._options=Object.create({},{width:{get:function(){return y},set:function(t){y=t}},height:{get:function(){return b},set:function(t){b=t}},container:{get:function(){return w},set:function(t){w=t}},showDistX:{get:function(){return k},set:function(t){k=t}},showDistY:{get:function(){return C},set:function(t){C=t}},showLegend:{get:function(){return S},set:function(t){S=t}},showXAxis:{get:function(){return T},set:function(t){T=t}},showYAxis:{get:function(){return A},set:function(t){A=t}},defaultState:{get:function(){return E},set:function(t){E=t}},noData:{get:function(){return e},set:function(t){e=t}},duration:{get:function(){return O},set:function(t){O=t}},showLabels:{get:function(){return I},set:function(t){I=t}},margin:{get:function(){return v},set:function(t){v.top=void 0!==t.top?t.top:v.top,v.right=void 0!==t.right?t.right:v.right,v.bottom=void 0!==t.bottom?t.bottom:v.bottom,v.left=void 0!==t.left?t.left:v.left}},rightAlignYAxis:{get:function(){return D},set:function(t){D=t,h.orient(t?"right":"left")}},color:{get:function(){return x},set:function(t){x=ht.utils.getColor(t),d.color(x),f.color(x),g.color(x)}}}),ht.utils.inheritOptions(N,c),ht.utils.initOptions(N),N},ht.models.sparkline=function(){"use strict";var a,s,l,u,c={top:2,right:0,bottom:2,left:0},p=400,h=32,d=null,e=!0,f=d3.scale.linear(),g=d3.scale.linear(),m=function(t){return t.x},v=function(t){return t.y},y=ht.utils.getColor(["#000"]),b=!0,w=!0,t=d3.dispatch("renderEnd"),n=ht.utils.renderWatch(t);function i(t){return n.reset(),t.each(function(t){var e=p-c.left-c.right,n=h-c.top-c.bottom;d=d3.select(this),ht.utils.initSVG(d),f.domain(a||d3.extent(t,m)).range(l||[0,e]),g.domain(s||d3.extent(t,v)).range(u||[n,0]);var i=d.selectAll("g.nv-wrap.nv-sparkline").data([t]);i.enter().append("g").attr("class","nvd3 nv-wrap nv-sparkline").append("g"),i.select("g");i.attr("transform","translate("+c.left+","+c.top+")");var o=i.selectAll("path").data(function(t){return[t]});o.enter().append("path"),o.exit().remove(),o.style("stroke",function(t,e){return t.color||y(t,e)}).attr("d",d3.svg.line().x(function(t,e){return f(m(t,e))}).y(function(t,e){return g(v(t,e))}));var r=i.selectAll("circle.nv-point").data(function(n){var t=n.map(function(t,e){return v(t,e)});function e(t){if(-1==t)return null;var e=n[t];return e.pointIndex=t,e}var i=e(t.lastIndexOf(g.domain()[1])),o=e(t.indexOf(g.domain()[0])),r=e(t.length-1);return[b?o:null,b?i:null,w?r:null].filter(function(t){return null!=t})});r.enter().append("circle"),r.exit().remove(),r.attr("cx",function(t,e){return f(m(t,t.pointIndex))}).attr("cy",function(t,e){return g(v(t,t.pointIndex))}).attr("r",2).attr("class",function(t,e){return m(t,t.pointIndex)==f.domain()[1]?"nv-point nv-currentValue":v(t,t.pointIndex)==g.domain()[0]?"nv-point nv-minValue":"nv-point nv-maxValue"})}),n.renderEnd("sparkline immediate"),i}return i.options=ht.utils.optionsFunc.bind(i),i._options=Object.create({},{width:{get:function(){return p},set:function(t){p=t}},height:{get:function(){return h},set:function(t){h=t}},xDomain:{get:function(){return a},set:function(t){a=t}},yDomain:{get:function(){return s},set:function(t){s=t}},xRange:{get:function(){return l},set:function(t){l=t}},yRange:{get:function(){return u},set:function(t){u=t}},xScale:{get:function(){return f},set:function(t){f=t}},yScale:{get:function(){return g},set:function(t){g=t}},animate:{get:function(){return e},set:function(t){e=t}},showMinMaxPoints:{get:function(){return b},set:function(t){b=t}},showCurrentPoint:{get:function(){return w},set:function(t){w=t}},x:{get:function(){return m},set:function(t){m=d3.functor(t)}},y:{get:function(){return v},set:function(t){v=d3.functor(t)}},margin:{get:function(){return c},set:function(t){c.top=void 0!==t.top?t.top:c.top,c.right=void 0!==t.right?t.right:c.right,c.bottom=void 0!==t.bottom?t.bottom:c.bottom,c.left=void 0!==t.left?t.left:c.left}},color:{get:function(){return y},set:function(t){y=ht.utils.getColor(t)}}}),i.dispatch=t,ht.utils.initOptions(i),i},ht.models.sparklinePlus=function(){"use strict";var p,h,d=ht.models.sparkline(),f={top:15,right:100,bottom:10,left:50},g=null,m=null,v=[],y=!1,b=d3.format(",r"),w=d3.format(",.2f"),x=!0,$=!0,_=!1,e=null,t=d3.dispatch("renderEnd"),n=ht.utils.renderWatch(t);function k(t){return n.reset(),n.models(d),t.each(function(n){var t=d3.select(this);ht.utils.initSVG(t);var e=ht.utils.availableWidth(g,t,f),i=ht.utils.availableHeight(m,t,f);if(k.update=function(){t.call(k)},k.container=this,!n||!n.length)return ht.utils.noData(k,t),k;t.selectAll(".nv-noData").remove();var o=d.y()(n[n.length-1],n.length-1);p=d.xScale(),h=d.yScale();var r=t.selectAll("g.nv-wrap.nv-sparklineplus").data([n]),a=r.enter().append("g").attr("class","nvd3 nv-wrap nv-sparklineplus").append("g"),s=r.select("g");a.append("g").attr("class","nv-sparklineWrap"),a.append("g").attr("class","nv-valueWrap"),a.append("g").attr("class","nv-hoverArea"),r.attr("transform","translate("+f.left+","+f.top+")");var l=s.select(".nv-sparklineWrap");if(d.width(e).height(i),l.call(d),x){var u=s.select(".nv-valueWrap").selectAll(".nv-currentValue").data([o]);u.enter().append("text").attr("class","nv-currentValue").attr("dx",_?-8:8).attr("dy",".9em").style("text-anchor",_?"end":"start"),u.attr("x",e+(_?f.right:0)).attr("y",$?function(t){return h(t)}:0).style("fill",d.color()(n[n.length-1],n.length-1)).text(w(o))}function c(){if(!y){var t=s.selectAll(".nv-hoverValue").data(v),e=t.enter().append("g").attr("class","nv-hoverValue").style("stroke-opacity",0).style("fill-opacity",0);t.exit().transition().duration(250).style("stroke-opacity",0).style("fill-opacity",0).remove(),t.attr("transform",function(t){return"translate("+p(d.x()(n[t],t))+",0)"}).transition().duration(250).style("stroke-opacity",1).style("fill-opacity",1),v.length&&(e.append("line").attr("x1",0).attr("y1",-f.top).attr("x2",0).attr("y2",i),e.append("text").attr("class","nv-xValue").attr("x",-6).attr("y",-f.top).attr("text-anchor","end").attr("dy",".9em"),s.select(".nv-hoverValue .nv-xValue").text(b(d.x()(n[v[0]],v[0]))),e.append("text").attr("class","nv-yValue").attr("x",6).attr("y",-f.top).attr("text-anchor","start").attr("dy",".9em"),s.select(".nv-hoverValue .nv-yValue").text(w(d.y()(n[v[0]],v[0]))))}}a.select(".nv-hoverArea").append("rect").on("mousemove",function(){if(y)return;var t=d3.mouse(this)[0]-f.left;v=[function(t,e){for(var n=Math.abs(d.x()(t[0],0)-e),i=0,o=0;o<t.length;o++)Math.abs(d.x()(t[o],o)-e)<n&&(n=Math.abs(d.x()(t[o],o)-e),i=o);return i}(n,Math.round(p.invert(t)))],c()}).on("click",function(){y=!y}).on("mouseout",function(){v=[],c()}),s.select(".nv-hoverArea rect").attr("transform",function(t){return"translate("+-f.left+","+-f.top+")"}).attr("width",e+f.left+f.right).attr("height",i+f.top)}),n.renderEnd("sparklinePlus immediate"),k}return k.dispatch=t,k.sparkline=d,k.options=ht.utils.optionsFunc.bind(k),k._options=Object.create({},{width:{get:function(){return g},set:function(t){g=t}},height:{get:function(){return m},set:function(t){m=t}},xTickFormat:{get:function(){return b},set:function(t){b=t}},yTickFormat:{get:function(){return w},set:function(t){w=t}},showLastValue:{get:function(){return x},set:function(t){x=t}},alignValue:{get:function(){return $},set:function(t){$=t}},rightAlignValue:{get:function(){return _},set:function(t){_=t}},noData:{get:function(){return e},set:function(t){e=t}},margin:{get:function(){return f},set:function(t){f.top=void 0!==t.top?t.top:f.top,f.right=void 0!==t.right?t.right:f.right,f.bottom=void 0!==t.bottom?t.bottom:f.bottom,f.left=void 0!==t.left?t.left:f.left}}}),ht.utils.inheritOptions(k,d),ht.utils.initOptions(k),k},ht.models.stackedArea=function(){"use strict";var d,f,g={top:0,right:0,bottom:0,left:0},m=960,v=500,y=ht.utils.defaultColor(),b=Math.floor(1e5*Math.random()),w=null,x=function(t){return t.x},$=function(t){return t.y},_=function(t,e){return!isNaN($(t,e))&&null!==$(t,e)},e="stack",k="zero",C="default",S="linear",T=!1,A=ht.models.scatter(),n=250,D=d3.dispatch("areaClick","areaMouseover","areaMouseout","renderEnd","elementClick","elementMouseover","elementMouseout");A.pointSize(2.2).pointDomain([2.2,2.2]);var M=ht.utils.renderWatch(D,n);function E(t){return M.reset(),M.models(A),t.each(function(t){var e=m-g.left-g.right,n=v-g.top-g.bottom;w=d3.select(this),ht.utils.initSVG(w),d=A.xScale(),f=A.yScale();var s=t;t.forEach(function(t,n){t.seriesIndex=n,t.values=t.values.map(function(t,e){return t.index=e,t.seriesIndex=n,t})});var i=t.filter(function(t){return!t.disabled});t=d3.layout.stack().order(C).offset(k).values(function(t){return t.values}).x(x).y($).out(function(t,e,n){t.display={y:n,y0:e}})(i);var o=w.selectAll("g.nv-wrap.nv-stackedarea").data([t]),r=o.enter().append("g").attr("class","nvd3 nv-wrap nv-stackedarea"),a=r.append("defs"),l=r.append("g"),u=o.select("g");l.append("g").attr("class","nv-areaWrap"),l.append("g").attr("class","nv-scatterWrap"),o.attr("transform","translate("+g.left+","+g.top+")"),0==A.forceY().length&&A.forceY().push(0),A.width(e).height(n).x(x).y(function(t){if(void 0!==t.display)return t.display.y+t.display.y0}).color(t.map(function(t,e){return t.color=t.color||y(t,t.seriesIndex),t.color})),u.select(".nv-scatterWrap").datum(t).call(A),a.append("clipPath").attr("id","nv-edge-clip-"+b).append("rect"),o.select("#nv-edge-clip-"+b+" rect").attr("width",e).attr("height",n),u.attr("clip-path",T?"url(#nv-edge-clip-"+b+")":"");var c=d3.svg.area().defined(_).x(function(t,e){return d(x(t,e))}).y0(function(t){return f(t.display.y0)}).y1(function(t){return f(t.display.y+t.display.y0)}).interpolate(S),p=d3.svg.area().defined(_).x(function(t,e){return d(x(t,e))}).y0(function(t){return f(t.display.y0)}).y1(function(t){return f(t.display.y0)}),h=u.select(".nv-areaWrap").selectAll("path.nv-area").data(function(t){return t});h.enter().append("path").attr("class",function(t,e){return"nv-area nv-area-"+e}).attr("d",function(t,e){return p(t.values,t.seriesIndex)}).on("mouseover",function(t,e){d3.select(this).classed("hover",!0),D.areaMouseover({point:t,series:t.key,pos:[d3.event.pageX,d3.event.pageY],seriesIndex:t.seriesIndex})}).on("mouseout",function(t,e){d3.select(this).classed("hover",!1),D.areaMouseout({point:t,series:t.key,pos:[d3.event.pageX,d3.event.pageY],seriesIndex:t.seriesIndex})}).on("click",function(t,e){d3.select(this).classed("hover",!1),D.areaClick({point:t,series:t.key,pos:[d3.event.pageX,d3.event.pageY],seriesIndex:t.seriesIndex})}),h.exit().remove(),h.style("fill",function(t,e){return t.color||y(t,t.seriesIndex)}).style("stroke",function(t,e){return t.color||y(t,t.seriesIndex)}),h.watchTransition(M,"stackedArea path").attr("d",function(t,e){return c(t.values,e)}),A.dispatch.on("elementMouseover.area",function(t){u.select(".nv-chart-"+b+" .nv-area-"+t.seriesIndex).classed("hover",!0)}),A.dispatch.on("elementMouseout.area",function(t){u.select(".nv-chart-"+b+" .nv-area-"+t.seriesIndex).classed("hover",!1)}),E.d3_stackedOffset_stackPercent=function(t){var e,n,i,o=t.length,r=t[0].length,a=[];for(n=0;n<r;++n){for(i=e=0;e<s.length;e++)i+=$(s[e].values[n]);if(i)for(e=0;e<o;e++)t[e][n][1]/=i;else for(e=0;e<o;e++)t[e][n][1]=0}for(n=0;n<r;++n)a[n]=0;return a}}),M.renderEnd("stackedArea immediate"),E}return E.dispatch=D,(E.scatter=A).dispatch.on("elementClick",function(){D.elementClick.apply(this,arguments)}),A.dispatch.on("elementMouseover",function(){D.elementMouseover.apply(this,arguments)}),A.dispatch.on("elementMouseout",function(){D.elementMouseout.apply(this,arguments)}),E.interpolate=function(t){return arguments.length?(S=t,E):S},E.duration=function(t){return arguments.length?(n=t,M.reset(n),A.duration(n),E):n},E.dispatch=D,E.scatter=A,E.options=ht.utils.optionsFunc.bind(E),E._options=Object.create({},{width:{get:function(){return m},set:function(t){m=t}},height:{get:function(){return v},set:function(t){v=t}},defined:{get:function(){return _},set:function(t){_=t}},clipEdge:{get:function(){return T},set:function(t){T=t}},offset:{get:function(){return k},set:function(t){k=t}},order:{get:function(){return C},set:function(t){C=t}},interpolate:{get:function(){return S},set:function(t){S=t}},x:{get:function(){return x},set:function(t){x=d3.functor(t)}},y:{get:function(){return $},set:function(t){$=d3.functor(t)}},margin:{get:function(){return g},set:function(t){g.top=void 0!==t.top?t.top:g.top,g.right=void 0!==t.right?t.right:g.right,g.bottom=void 0!==t.bottom?t.bottom:g.bottom,g.left=void 0!==t.left?t.left:g.left}},color:{get:function(){return y},set:function(t){y=ht.utils.getColor(t)}},style:{get:function(){return e},set:function(t){switch(e=t){case"stack":E.offset("zero"),E.order("default");break;case"stream":E.offset("wiggle"),E.order("inside-out");break;case"stream-center":E.offset("silhouette"),E.order("inside-out");break;case"expand":E.offset("expand"),E.order("default");break;case"stack_percent":E.offset(E.d3_stackedOffset_stackPercent),E.order("default")}}},duration:{get:function(){return n},set:function(t){n=t,M.reset(n),A.duration(n)}}}),ht.utils.inheritOptions(E,A),ht.utils.initOptions(E),E},ht.models.stackedAreaChart=function(){"use strict";var v,y,b=ht.models.stackedArea(),w=ht.models.axis(),x=ht.models.axis(),$=ht.models.legend(),_=ht.models.legend(),k=ht.interactiveGuideline(),e=ht.models.tooltip(),C=ht.models.focus(ht.models.stackedArea()),S={top:30,right:25,bottom:50,left:60},T=null,A=null,D=ht.utils.defaultColor(),M=!0,E=!0,P=!0,O=!0,I=!1,R=!1,L=!1,F=!0,N="TOTAL",j=ht.utils.state(),B=null,n=null,U=d3.dispatch("stateChange","changeState","renderEnd"),z=250,H=["Stacked","Stream","Expanded"],V={},q=250;j.style=b.style(),w.orient("bottom").tickPadding(7),x.orient(I?"right":"left"),e.headerFormatter(function(t,e){return w.tickFormat()(t,e)}).valueFormatter(function(t,e){return x.tickFormat()(t,e)}),k.tooltip.headerFormatter(function(t,e){return w.tickFormat()(t,e)}).valueFormatter(function(t,e){return null==t?"N/A":x.tickFormat()(t,e)});var W=null,G=null;_.updateState(!1);var i=ht.utils.renderWatch(U),Y=(b.style(),function(t){return function(){return{active:t.map(function(t){return!t.disabled}),style:b.style()}}}),K=function(t){return function(n){void 0!==n.style&&n.style,void 0!==n.active&&t.forEach(function(t,e){t.disabled=!n.active[e]})}},Z=d3.format("%");function X(t){return i.reset(),i.models(b),P&&i.models(w),O&&i.models(x),t.each(function(i){var t=d3.select(this);ht.utils.initSVG(t);var e,n=ht.utils.availableWidth(T,t,S),o=ht.utils.availableHeight(A,t,S)-(R?C.height():0);if(X.update=function(){t.transition().duration(q).call(X)},X.container=this,j.setter(K(i),X.update).getter(Y(i)).update(),j.disabled=i.map(function(t){return!!t.disabled}),!B)for(e in B={},j)j[e]instanceof Array?B[e]=j[e].slice(0):B[e]=j[e];if(!(i&&i.length&&i.filter(function(t){return t.values.length}).length))return ht.utils.noData(X,t),X;t.selectAll(".nv-noData").remove(),v=b.xScale(),y=b.yScale();var r=t.selectAll("g.nv-wrap.nv-stackedAreaChart").data([i]),a=r.enter().append("g").attr("class","nvd3 nv-wrap nv-stackedAreaChart").append("g"),s=r.select("g");a.append("g").attr("class","nv-legendWrap"),a.append("g").attr("class","nv-controlsWrap");var l=a.append("g").attr("class","nv-focus");l.append("g").attr("class","nv-background").append("rect"),l.append("g").attr("class","nv-x nv-axis"),l.append("g").attr("class","nv-y nv-axis"),l.append("g").attr("class","nv-stackedWrap"),l.append("g").attr("class","nv-interactive");a.append("g").attr("class","nv-focusWrap");if(E){var u=M?n-z:n;$.width(u),s.select(".nv-legendWrap").datum(i).call($),$.height()>S.top&&(S.top=$.height(),o=ht.utils.availableHeight(A,t,S)-(R?C.height():0)),s.select(".nv-legendWrap").attr("transform","translate("+(n-u)+","+-S.top+")")}else s.select(".nv-legendWrap").selectAll("*").remove();if(M){var c=[{key:V.stacked||"Stacked",metaKey:"Stacked",disabled:"stack"!=b.style(),style:"stack"},{key:V.stream||"Stream",metaKey:"Stream",disabled:"stream"!=b.style(),style:"stream"},{key:V.expanded||"Expanded",metaKey:"Expanded",disabled:"expand"!=b.style(),style:"expand"},{key:V.stack_percent||"Stack %",metaKey:"Stack_Percent",disabled:"stack_percent"!=b.style(),style:"stack_percent"}];z=H.length/3*260,c=c.filter(function(t){return-1!==H.indexOf(t.metaKey)}),_.width(z).color(["#444","#444","#444"]),s.select(".nv-controlsWrap").datum(c).call(_),Math.max(_.height(),$.height())>S.top&&(S.top=Math.max(_.height(),$.height()),o=ht.utils.availableHeight(A,t,S)),s.select(".nv-controlsWrap").attr("transform","translate(0,"+-S.top+")")}else s.select(".nv-controlsWrap").selectAll("*").remove();r.attr("transform","translate("+S.left+","+S.top+")"),I&&s.select(".nv-y.nv-axis").attr("transform","translate("+n+",0)"),L&&(k.width(n).height(o).margin({left:S.left,top:S.top}).svgContainer(t).xScale(v),r.select(".nv-interactive").call(k)),s.select(".nv-focus .nv-background rect").attr("width",n).attr("height",o),b.width(n).height(o).color(i.map(function(t,e){return t.color||D(t,e)}).filter(function(t,e){return!i[e].disabled}));var p,h=s.select(".nv-focus .nv-stackedWrap").datum(i.filter(function(t){return!t.disabled}));(P&&w.scale(v)._ticks(ht.utils.calcTicksX(n/100,i)).tickSize(-o,0),O)&&(p="wiggle"===b.offset()?0:ht.utils.calcTicksY(o/36,i),x.scale(y)._ticks(p).tickSize(-n,0));function d(){P&&s.select(".nv-focus .nv-x.nv-axis").attr("transform","translate(0,"+o+")").transition().duration(q).call(w)}function f(){if(O){if("expand"===b.style()||"stack_percent"===b.style()){var t=x.tickFormat();W&&t===Z||(W=t),x.tickFormat(Z)}else W&&(x.tickFormat(W),W=null);s.select(".nv-focus .nv-y.nv-axis").transition().duration(0).call(x)}}if(R){C.width(n),s.select(".nv-focusWrap").attr("transform","translate(0,"+(o+S.bottom+C.margin().top)+")").datum(i.filter(function(t){return!t.disabled})).call(C);var g=C.brush.empty()?C.xDomain():C.brush.extent();null!==g&&m(g)}else h.transition().call(b),d(),f();function m(n){s.select(".nv-focus .nv-stackedWrap").datum(i.filter(function(t){return!t.disabled}).map(function(t,e){return{key:t.key,area:t.area,classed:t.classed,values:t.values.filter(function(t,e){return b.x()(t,e)>=n[0]&&b.x()(t,e)<=n[1]}),disableTooltip:t.disableTooltip}})).transition().duration(q).call(b),d(),f()}b.dispatch.on("areaClick.toggle",function(n){1===i.filter(function(t){return!t.disabled}).length?i.forEach(function(t){t.disabled=!1}):i.forEach(function(t,e){t.disabled=e!=n.seriesIndex}),j.disabled=i.map(function(t){return!!t.disabled}),U.stateChange(j),X.update()}),$.dispatch.on("stateChange",function(t){for(var e in t)j[e]=t[e];U.stateChange(j),X.update()}),_.dispatch.on("legendClick",function(t,e){t.disabled&&(c=c.map(function(t){return t.disabled=!0,t}),t.disabled=!1,b.style(t.style),j.style=b.style(),U.stateChange(j),X.update())}),k.dispatch.on("elementMousemove",function(o){b.clearHighlights();var r,a,s,l=[],u=0,c=!0;if(i.filter(function(t,e){return t.seriesIndex=e,!t.disabled}).forEach(function(t,e){a=ht.interactiveBisect(t.values,o.pointXValue,X.x());var n=t.values[a];if(null!=X.y()(n,a)&&b.highlightPoint(e,a,!0),void 0!==n){void 0===r&&(r=n),void 0===s&&(s=X.xScale()(X.x()(n,a)));var i="expand"==b.style()?n.display.y:X.y()(n,a);l.push({key:t.key,value:i,color:D(t,t.seriesIndex),point:n}),F&&"expand"!=b.style()&&null!=i&&(u+=i,c=!1)}}),l.reverse(),2<l.length){var p=X.yScale().invert(o.mouseY),h=null;l.forEach(function(t,e){p=Math.abs(p);var n=Math.abs(t.point.display.y0),i=Math.abs(t.point.display.y);n<=p&&p<=i+n&&(h=e)}),null!=h&&(l[h].highlight=!0)}F&&"expand"!=b.style()&&2<=l.length&&!c&&l.push({key:N,value:u,total:!0});var t=X.x()(r,a),e=k.tooltip.valueFormatter();"expand"===b.style()||"stack_percent"===b.style()?(G||(G=e),e=d3.format(".1%")):G&&(e=G,G=null),k.tooltip.valueFormatter(e).data({value:t,series:l})(),k.renderGuideLine(s)}),k.dispatch.on("elementMouseout",function(t){b.clearHighlights()}),C.dispatch.on("onBrush",function(t){m(t)}),U.on("changeState",function(n){void 0!==n.disabled&&i.length===n.disabled.length&&(i.forEach(function(t,e){t.disabled=n.disabled[e]}),j.disabled=n.disabled),void 0!==n.style&&(b.style(n.style),n.style),X.update()})}),i.renderEnd("stacked Area chart immediate"),X}return b.dispatch.on("elementMouseover.tooltip",function(t){t.point.x=b.x()(t.point),t.point.y=b.y()(t.point),e.data(t).hidden(!1)}),b.dispatch.on("elementMouseout.tooltip",function(t){e.hidden(!0)}),X.dispatch=U,X.stacked=b,X.legend=$,X.controls=_,X.xAxis=w,X.x2Axis=C.xAxis,X.yAxis=x,X.y2Axis=C.yAxis,X.interactiveLayer=k,X.tooltip=e,X.focus=C,X.dispatch=U,X.options=ht.utils.optionsFunc.bind(X),X._options=Object.create({},{width:{get:function(){return T},set:function(t){T=t}},height:{get:function(){return A},set:function(t){A=t}},showLegend:{get:function(){return E},set:function(t){E=t}},showXAxis:{get:function(){return P},set:function(t){P=t}},showYAxis:{get:function(){return O},set:function(t){O=t}},defaultState:{get:function(){return B},set:function(t){B=t}},noData:{get:function(){return n},set:function(t){n=t}},showControls:{get:function(){return M},set:function(t){M=t}},controlLabels:{get:function(){return V},set:function(t){V=t}},controlOptions:{get:function(){return H},set:function(t){H=t}},showTotalInTooltip:{get:function(){return F},set:function(t){F=t}},totalLabel:{get:function(){return N},set:function(t){N=t}},focusEnable:{get:function(){return R},set:function(t){R=t}},focusHeight:{get:function(){return C.height()},set:function(t){C.height(t)}},brushExtent:{get:function(){return C.brushExtent()},set:function(t){C.brushExtent(t)}},margin:{get:function(){return S},set:function(t){S.top=void 0!==t.top?t.top:S.top,S.right=void 0!==t.right?t.right:S.right,S.bottom=void 0!==t.bottom?t.bottom:S.bottom,S.left=void 0!==t.left?t.left:S.left}},focusMargin:{get:function(){return C.margin},set:function(t){C.margin.top=void 0!==t.top?t.top:C.margin.top,C.margin.right=void 0!==t.right?t.right:C.margin.right,C.margin.bottom=void 0!==t.bottom?t.bottom:C.margin.bottom,C.margin.left=void 0!==t.left?t.left:C.margin.left}},duration:{get:function(){return q},set:function(t){q=t,i.reset(q),b.duration(q),w.duration(q),x.duration(q)}},color:{get:function(){return D},set:function(t){D=ht.utils.getColor(t),$.color(D),b.color(D),C.color(D)}},x:{get:function(){return b.x()},set:function(t){b.x(t),C.x(t)}},y:{get:function(){return b.y()},set:function(t){b.y(t),C.y(t)}},rightAlignYAxis:{get:function(){return I},set:function(t){I=t,x.orient(I?"right":"left")}},useInteractiveGuideline:{get:function(){return L},set:function(t){L=!!t,X.interactive(!t),X.useVoronoi(!t),b.scatter.interactive(!t)}}}),ht.utils.inheritOptions(X,b),ht.utils.initOptions(X),X},ht.models.stackedAreaWithFocusChart=function(){return ht.models.stackedAreaChart().margin({bottom:30}).focusEnable(!0)},ht.models.sunburst=function(){"use strict";var r,o,a,s,l={top:0,right:0,bottom:0,left:0},u=600,c=600,p="count",h={count:function(t){return 1},value:function(t){return t.value||t.size},size:function(t){return t.value||t.size}},d=Math.floor(1e4*Math.random()),f=null,g=ht.utils.defaultColor(),m=!1,v=function(t){return"count"===p?t.name+" #"+t.value:t.name+" "+(t.value||t.size)},i=.02,e=function(t,e){return t.name>e.name},y=function(t,e){return t.name},b=!0,w=500,x=d3.dispatch("chartClick","elementClick","elementDblClick","elementMousemove","elementMouseover","elementMouseout","renderEnd"),$=d3.scale.linear().range([0,2*Math.PI]),_=d3.scale.sqrt(),k=d3.layout.partition().sort(e),C={},S=d3.svg.arc().startAngle(function(t){return Math.max(0,Math.min(2*Math.PI,$(t.x)))}).endAngle(function(t){return Math.max(0,Math.min(2*Math.PI,$(t.x+t.dx)))}).innerRadius(function(t){return Math.max(0,_(t.y))}).outerRadius(function(t){return Math.max(0,_(t.y+t.dy))});function T(t){return 90<A(t)?180:0}function A(t){return(Math.max(0,Math.min(2*Math.PI,$(t.x)))+Math.max(0,Math.min(2*Math.PI,$(t.x+t.dx))))/2*(180/Math.PI)-90}function D(t){var e=Math.max(0,Math.min(2*Math.PI,$(t.x))),n=Math.max(0,Math.min(2*Math.PI,$(t.x+t.dx)));return i<n-e}function n(e,t){var n=d3.interpolate($.domain(),[r.x,r.x+r.dx]),i=d3.interpolate(_.domain(),[r.y,1]),o=d3.interpolate(_.range(),[r.y?20:0,s]);return 0===t?function(){return S(e)}:function(t){return $.domain(n(t)),_.domain(i(t)).range(o(t)),S(e)}}function M(n){var i=d3.interpolate({x:n.x0,dx:n.dx0,y:n.y0,dy:n.dy0},n);return function(t){var e=i(t);return n.x0=e.x,n.dx0=e.dx,n.y0=e.y,n.dy0=e.dy,S(e)}}function E(t){t.forEach(function(t){var e=y(t),n=C[e];t.y0=n?(t.dx0=n.dx,t.x0=n.x,t.dy0=n.dy,n.y):(t.dx0=t.dx,t.x0=t.x,t.dy0=t.dy,t.y),function(t){var e=y(t);C[e]||(C[e]={});var n=C[e];n.dx=t.dx,n.x=t.x,n.dy=t.dy,n.y=t.y}(t)})}function P(o){var t=f.selectAll("text"),e=f.selectAll("path");t.transition().attr("opacity",0),r=o,e.transition().duration(w).attrTween("d",n).each("end",function(i){i.x>=o.x&&i.x<o.x+o.dx&&(i.depth>=o.depth&&d3.select(this.parentNode).select("text").transition().duration(w).text(function(t){return v(t)}).attr("opacity",function(t){return D(t)?1:0}).attr("transform",function(){var t=this.getBBox().width;if(0===i.depth)return"translate("+t/2*-1+",0)";if(i.depth===o.depth)return"translate("+(_(i.y)+5)+",0)";var e=A(i),n=T(i);return 0===n?"rotate("+e+")translate("+(_(i.y)+5)+",0)":"rotate("+e+")translate("+(_(i.y)+t+5)+",0)rotate("+n+")"}))})}var O=ht.utils.renderWatch(x);function I(t){return O.reset(),t.each(function(t){f=d3.select(this),o=ht.utils.availableWidth(u,f,l),a=ht.utils.availableHeight(c,f,l),s=Math.min(o,a)/2,_.range([0,s]);var e=f.select("g.nvd3.nv-wrap.nv-sunburst");e[0][0]?e.attr("transform","translate("+(o/2+l.left+l.right)+","+(a/2+l.top+l.bottom)+")"):e=f.append("g").attr("class","nvd3 nv-wrap nv-sunburst nv-chart-"+d).attr("transform","translate("+(o/2+l.left+l.right)+","+(a/2+l.top+l.bottom)+")"),f.on("click",function(t,e){x.chartClick({data:t,index:e,pos:d3.event,id:d})}),k.value(h[p]||h.count);var n=k.nodes(t[0]).reverse();E(n);var i=e.selectAll(".arc-container").data(n,y);i.enter().append("g").attr("class","arc-container").append("path").attr("d",S).style("fill",function(t){return t.color?t.color:g(b?(t.children?t:t.parent).name:t.name)}).style("stroke","#FFF").on("click",P).on("mouseover",function(t,e){var n,i;d3.select(this).classed("hover",!0).style("opacity",.8),x.elementMouseover({data:t,color:d3.select(this).style("fill"),percent:(n=t,i=Math.max(0,Math.min(2*Math.PI,$(n.x))),(Math.max(0,Math.min(2*Math.PI,$(n.x+n.dx)))-i)/(2*Math.PI))})}).on("mouseout",function(t,e){d3.select(this).classed("hover",!1).style("opacity",1),x.elementMouseout({data:t})}).on("mousemove",function(t,e){x.elementMousemove({data:t})}),i.each(function(t){d3.select(this).select("path").transition().duration(w).attrTween("d",M)}),m&&(i.selectAll("text").remove(),i.append("text").text(function(t){return v(t)}).transition().duration(w).attr("opacity",function(t){return D(t)?1:0}).attr("transform",function(t){var e=this.getBBox().width;if(0===t.depth)return"rotate(0)translate("+e/2*-1+",0)";var n=A(t),i=T(t);return 0===i?"rotate("+n+")translate("+(_(t.y)+5)+",0)":"rotate("+n+")translate("+(_(t.y)+e+5)+",0)rotate("+i+")"})),P(n[n.length-1]),i.exit().transition().duration(w).attr("opacity",0).each("end",function(t){var e=y(t);C[e]=void 0}).remove()}),O.renderEnd("sunburst immediate"),I}return I.dispatch=x,I.options=ht.utils.optionsFunc.bind(I),I._options=Object.create({},{width:{get:function(){return u},set:function(t){u=t}},height:{get:function(){return c},set:function(t){c=t}},mode:{get:function(){return p},set:function(t){p=t}},id:{get:function(){return d},set:function(t){d=t}},duration:{get:function(){return w},set:function(t){w=t}},groupColorByParent:{get:function(){return b},set:function(t){b=!!t}},showLabels:{get:function(){return m},set:function(t){m=!!t}},labelFormat:{get:function(){return v},set:function(t){v=t}},labelThreshold:{get:function(){return i},set:function(t){i=t}},sort:{get:function(){return e},set:function(t){e=t}},key:{get:function(){return y},set:function(t){y=t}},margin:{get:function(){return l},set:function(t){l.top=null!=t.top?t.top:l.top,l.right=null!=t.right?t.right:l.right,l.bottom=null!=t.bottom?t.bottom:l.bottom,l.left=null!=t.left?t.left:l.left}},color:{get:function(){return g},set:function(t){g=ht.utils.getColor(t)}}}),ht.utils.initOptions(I),I},ht.models.sunburstChart=function(){"use strict";var o=ht.models.sunburst(),e=ht.models.tooltip(),r={top:30,right:20,bottom:20,left:20},a=null,s=null,n=ht.utils.defaultColor(),i=!1,l=(Math.round(1e5*Math.random()),null),u=null,c=250,t=d3.dispatch("stateChange","changeState","renderEnd"),p=ht.utils.renderWatch(t);function h(t){return p.reset(),p.models(o),t.each(function(t){var e=d3.select(this);ht.utils.initSVG(e);var n=ht.utils.availableWidth(a,e,r),i=ht.utils.availableHeight(s,e,r);if(h.update=function(){0===c?e.call(h):e.transition().duration(c).call(h)},h.container=e,!t||!t.length)return ht.utils.noData(h,e),h;e.selectAll(".nv-noData").remove(),o.width(n).height(i).margin(r),e.call(o)}),p.renderEnd("sunburstChart immediate"),h}return e.duration(0).headerEnabled(!1).valueFormatter(function(t){return t}),o.dispatch.on("elementMouseover.tooltip",function(t){t.series={key:t.data.name,value:t.data.value||t.data.size,color:t.color,percent:t.percent},i||(delete t.percent,delete t.series.percent),e.data(t).hidden(!1)}),o.dispatch.on("elementMouseout.tooltip",function(t){e.hidden(!0)}),o.dispatch.on("elementMousemove.tooltip",function(t){e()}),h.dispatch=t,h.sunburst=o,h.tooltip=e,h.options=ht.utils.optionsFunc.bind(h),h._options=Object.create({},{noData:{get:function(){return u},set:function(t){u=t}},defaultState:{get:function(){return l},set:function(t){l=t}},showTooltipPercent:{get:function(){return i},set:function(t){i=t}},color:{get:function(){return n},set:function(t){n=t,o.color(n)}},duration:{get:function(){return c},set:function(t){c=t,p.reset(c),o.duration(c)}},margin:{get:function(){return r},set:function(t){r.top=void 0!==t.top?t.top:r.top,r.right=void 0!==t.right?t.right:r.right,r.bottom=void 0!==t.bottom?t.bottom:r.bottom,r.left=void 0!==t.left?t.left:r.left,o.margin(r)}}}),ht.utils.inheritOptions(h,o),ht.utils.initOptions(h),h},ht.version="1.8.4"}(),function(t){"use strict";var l=window.nv;"undefined"!=typeof exports&&(l=require("nvd3")),angular.module("nvd3",[]).directive("nvd3",["nvd3Utils",function(r){return{restrict:"AE",scope:{data:"=",options:"=",api:"=?",events:"=?",config:"=?",onReady:"&?"},link:function(a,i,t){var n={extended:!1,visible:!0,disabled:!1,refreshDataOnly:!0,deepWatchOptions:!0,deepWatchData:!0,deepWatchDataDepth:2,debounce:10,debounceImmediate:!0};function s(n,i){n&&i&&angular.forEach(n,function(t,e){void 0===i[e]||null===i[e]?a._config.extended&&(i[e]=t.on):n.on(e+"._",i[e])})}function e(t){var e=r.deepExtend(function(t){switch(t){case"title":return{enable:!1,text:"Write Your Title",className:"h4",css:{width:a.options.chart.width+"px",textAlign:"center"}};case"subtitle":return{enable:!1,text:"Write Your Subtitle",css:{width:a.options.chart.width+"px",textAlign:"center"}};case"caption":return{enable:!1,text:"Figure 1. Write Your Caption text.",css:{width:a.options.chart.width+"px",textAlign:"center"}}}}(t),a.options[t]||{});a._config.extended&&(a.options[t]=e);var n=angular.element("<div></div>").html(e.html||"").addClass(t).addClass(e.className).removeAttr("style").css(e.css);e.html||n.text(e.text),e.enable&&("title"===t?i.prepend(n):"subtitle"===t?angular.element(i[0].querySelector(".title")).after(n):"caption"===t&&i.append(n))}function o(t,e){t!==e&&(a._config.disabled||(a._config.refreshDataOnly?a.api.update():a.api.refresh()))}a.isReady=!1,a._config=angular.extend(n,a.config),a.api={refresh:function(){a.api.updateWithOptions(),a.isReady=!0},refreshWithTimeout:function(t){setTimeout(function(){a.api.refresh()},t)},update:function(){a.chart&&a.svg?"sunburstChart"===a.options.chart.type?a.svg.datum(angular.copy(a.data)).call(a.chart):a.svg.datum(a.data).call(a.chart):a.api.refresh()},updateWithTimeout:function(t){setTimeout(function(){a.api.update()},t)},updateWithOptions:function(n){if(arguments.length){if(a.options=n,a._config.deepWatchOptions&&!a._config.disabled)return}else n=a.options;a.api.clearElement(),!1!==angular.isDefined(n)&&a._config.visible&&(a.chart=l.models[n.chart.type](),a.chart.id=Math.random().toString(36).substr(2,15),angular.forEach(a.chart,function(t,e){"_"===e[0]||0<=["clearHighlights","highlightPoint","id","options","resizeHandler","state","open","close","tooltipContent"].indexOf(e)||("dispatch"===e?(void 0!==n.chart[e]&&null!==n.chart[e]||a._config.extended&&(n.chart[e]={}),s(a.chart[e],n.chart[e])):0<=["bars","bars1","bars2","boxplot","bullet","controls","discretebar","distX","distY","focus","interactiveLayer","legend","lines","lines1","lines2","multibar","pie","scatter","scatters1","scatters2","sparkline","stack1","stack2","sunburst","tooltip","x2Axis","xAxis","y1Axis","y2Axis","y3Axis","y4Axis","yAxis","yAxis1","yAxis2"].indexOf(e)||"stacked"===e&&"stackedAreaChart"===n.chart.type?(void 0!==n.chart[e]&&null!==n.chart[e]||a._config.extended&&(n.chart[e]={}),function n(i,o,r){i&&o&&angular.forEach(i,function(t,e){"_"===e[0]||("dispatch"===e?(void 0!==o[e]&&null!==o[e]||a._config.extended&&(o[e]={}),s(t,o[e])):"tooltip"===e?(void 0!==o[e]&&null!==o[e]||a._config.extended&&(o[e]={}),n(i[e],o[e],r)):"contentGenerator"===e?o[e]&&i[e](o[e]):-1===["axis","clearHighlights","defined","highlightPoint","nvPointerEventsClass","options","rangeBand","rangeBands","scatter","open","close","node"].indexOf(e)&&(void 0===o[e]||null===o[e]?a._config.extended&&(o[e]=t()):i[e](o[e])))})}(a.chart[e],n.chart[e],n.chart.type)):"focusHeight"===e&&"lineChart"===n.chart.type||"focusHeight"===e&&"lineWithFocusChart"===n.chart.type||("xTickFormat"!==e&&"yTickFormat"!==e||"lineWithFocusChart"!==n.chart.type)&&("tooltips"===e&&"boxPlotChart"===n.chart.type||("tooltipXContent"!==e&&"tooltipYContent"!==e||"scatterChart"!==n.chart.type)&&("x"!==e&&"y"!==e||"forceDirectedGraph"!==n.chart.type)&&(void 0===n.chart[e]||null===n.chart[e]?a._config.extended&&(n.chart[e]="barColor"===e?t()():t()):a.chart[e](n.chart[e]))))}),a.api.updateWithData(),(n.title||a._config.extended)&&e("title"),(n.subtitle||a._config.extended)&&e("subtitle"),(n.caption||a._config.extended)&&e("caption"),(n.styles||a._config.extended)&&function(){var t=r.deepExtend({classes:{"with-3d-shadow":!0,"with-transitions":!0,gallery:!1},css:{}},a.options.styles||{});a._config.extended&&(a.options.styles=t);angular.forEach(t.classes,function(t,e){t?i.addClass(e):i.removeClass(e)}),i.removeAttr("style").css(t.css)}(),l.addGraph(function(){if(a.chart)return a.chart.resizeHandler&&a.chart.resizeHandler.clear(),a.chart.resizeHandler=l.utils.windowResize(function(){a.chart&&a.chart.update&&a.chart.update()}),void 0!==n.chart.zoom&&-1<["scatterChart","lineChart","candlestickBarChart","cumulativeLineChart","historicalBarChart","ohlcBarChart","stackedAreaChart"].indexOf(n.chart.type)&&r.zoom(a,n),a.chart},n.chart.callback))},updateWithData:function(t){if(arguments.length){if(a.data=t,a._config.deepWatchData&&!a._config.disabled)return}else t="sunburstChart"===a.options.chart.type?angular.copy(a.data):a.data;var e,n;t&&(d3.select(i[0]).select("svg").remove(),a.svg=d3.select(i[0]).insert("svg",".caption"),(e=a.options.chart.height)&&(isNaN(+e)||(e+="px"),a.svg.attr("height",e).style({height:e})),(n=a.options.chart.width)?(isNaN(+n)||(n+="px"),a.svg.attr("width",n).style({width:n})):a.svg.attr("width","100%").style({width:"100%"}),a.svg.datum(t).call(a.chart),a.chart&&a.chart.zoomRender&&a.chart.zoomRender())},clearElement:function(){if(i.find(".title").remove(),i.find(".subtitle").remove(),i.find(".caption").remove(),i.empty(),a.chart&&a.chart.tooltip&&a.chart.tooltip.id&&d3.select("#"+a.chart.tooltip.id()).remove(),l.graphs&&a.chart)for(var t=l.graphs.length-1;0<=t;t--)l.graphs[t]&&l.graphs[t].id===a.chart.id&&l.graphs.splice(t,1);l.tooltip&&l.tooltip.cleanup&&l.tooltip.cleanup(),a.chart&&a.chart.resizeHandler&&a.chart.resizeHandler.clear(),a.chart=null},getScope:function(){return a},getElement:function(){return i}},a._config.deepWatchOptions&&a.$watch("options",r.debounce(function(t){a._config.disabled||a.api.refresh()},a._config.debounce,a._config.debounceImmediate),!0),a._config.deepWatchData&&(1===a._config.deepWatchDataDepth?a.$watchCollection("data",o):a.$watch("data",o,2===a._config.deepWatchDataDepth)),a.$watch("config",function(t,e){t!==e&&(a._config=angular.extend(n,t),a.api.refresh())},!0),a._config.deepWatchOptions||a._config.deepWatchData||a.api.refresh(),angular.forEach(a.events,function(n,t){a.$on(t,function(t,e){return n(t,a,e)})}),i.on("$destroy",function(){a.api.clearElement()}),a.$watch("isReady",function(t){t&&a.onReady&&"function"==typeof a.onReady()&&a.onReady()(a,i)})}}}]).factory("nvd3Utils",function(){return{debounce:function(i,o,r){var a;return function(){var t=this,e=arguments,n=r&&!a;clearTimeout(a),a=setTimeout(function(){a=null,r||i.apply(t,e)},o),n&&i.apply(t,e)}},deepExtend:function(n){var i=this;return angular.forEach(arguments,function(t){t!==n&&angular.forEach(t,function(t,e){n[e]&&n[e].constructor&&n[e].constructor===Object?i.deepExtend(n[e],t):n[e]=t})}),n},zoom:function(e,t){var n=t.chart.zoom;if(void 0===n.enabled||null===n.enabled||n.enabled){var i,o,r,a,s,l=e.chart.xAxis.scale(),u=e.chart.yAxis.scale(),c=e.chart.xDomain||l.domain,p=e.chart.yDomain||u.domain,h=l.domain().slice(),d=u.domain().slice(),f=n.scale||1,g=n.translate||[0,0],m=n.scaleExtent||[1,10],v=n.useFixedDomain||!1,y=n.useNiceScale||!1,b=n.horizontalOff||!1,w=n.verticalOff||!1,x=n.unzoomEventType||"dblclick.zoom";y&&(l.nice(),u.nice()),i=function(t,e){return t[0]=Math.min(Math.max(t[0],e[0]),e[1]-e[1]/m[1]),t[1]=Math.max(e[0]+e[1]/m[1],Math.min(t[1],e[1])),t},r=function(){if(void 0!==n.zoomed){var t=n.zoomed(l.domain(),u.domain());b||c([t.x1,t.x2]),w||p([t.y1,t.y2])}else b||c(v?i(l.domain(),h):l.domain()),w||p(v?i(u.domain(),d):u.domain());e.chart&&e.chart.update()},a=function(){if(void 0!==n.unzoomed){var t=n.unzoomed(l.domain(),u.domain());b||c([t.x1,t.x2]),w||p([t.y1,t.y2])}else b||c(h),w||p(d);o.scale(f).translate(g),e.chart&&e.chart.update()},s=function(){void 0!==n.zoomend&&n.zoomend()},o=d3.behavior.zoom().x(l).y(u).scaleExtent(m).on("zoom",r).on("zoomend",s),e.svg&&(e.svg.call(o),o.scale(f).translate(g).event(e.svg),"none"!==x&&e.svg.on(x,a)),e.chart&&(e.chart.zoomRender=function(){o.scale(f).translate(g),l=e.chart.xAxis.scale(),u=e.chart.yAxis.scale(),c=e.chart.xDomain||l.domain,p=e.chart.yDomain||u.domain,h=l.domain().slice(),d=u.domain().slice(),o.x(l).y(u),e.svg.call(o),"none"!==x&&e.svg.on(x,a)})}}}})}(),function r(a,s,l){function u(n,t){if(!s[n]){if(!a[n]){var e="function"==typeof require&&require;if(!t&&e)return e(n,!0);if(c)return c(n,!0);var i=new Error("Cannot find module '"+n+"'");throw i.code="MODULE_NOT_FOUND",i}var o=s[n]={exports:{}};a[n][0].call(o.exports,function(t){var e=a[n][1][t];return u(e||t)},o,o.exports,r,a,s,l)}return s[n].exports}for(var c="function"==typeof require&&require,t=0;t<l.length;t++)u(l[t]);return u}({1:[function(t,e,n){var i=t("svgsaver");angular.module("hc.downloader",[]).factory("svgDownload",["$log","$rootScope","$q",function(o,r,t){var a=new i;return function(i){return{getHtml:function(){return a.getHTML(i)},getBlob:function(){return a.getBlob(i)},asSvg:function(n){return t(function(t,e){o.debug("hc.downloader asSvg",n),r.$emit("$svgSaver:start",n),setTimeout(function(){try{t(a.asSvg(i,n)),r.$emit("$svgSaver:end",n)}catch(t){r.$emit("$svgSaver:error",n),e(t)}})})},asPng:function(n){return t(function(t,e){o.debug("hc.downloader asSvg",n),r.$emit("$svgSaver:start",n),setTimeout(function(){try{t(a.asPng(i,n)),r.$emit("$svgSaver:end",n)}catch(t){r.$emit("$svgSaver:error",n),e(t)}})})}}}}]).directive("svgDownload",["svgDownload",function(o){return{restrict:"A",link:function(t,e,i){e.on("click",function(){var t=i.type||"svg",e=i.filename||i.title;e&&e.indexOf("."+t)<0&&(e+="."+t);var n=o(i.svgDownload);n&&("svg"===t?n.asSvg(e):"png"===t&&n.asPng(e))})}}}])},{svgsaver:2}],2:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function i(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(t,e,n){return e&&i(t.prototype,e),n&&i(t,n),t}}();var r={"alignment-baseline":"auto","baseline-shift":"baseline",clip:"auto","clip-path":"none","clip-rule":"nonzero",color:"rgb(51, 51, 51)","color-interpolation":"srgb","color-interpolation-filters":"linearrgb","color-profile":"auto","color-rendering":"auto",cursor:"auto",direction:"ltr",display:"inline","dominant-baseline":"auto","enable-background":"",fill:"rgb(0, 0, 0)","fill-opacity":"1","fill-rule":"nonzero",filter:"none","flood-color":"rgb(0, 0, 0)","flood-opacity":"1",font:"","font-family":"normal","font-size":"medium","font-size-adjust":"auto","font-stretch":"normal","font-style":"normal","font-variant":"normal","font-weight":"400","glyph-orientation-horizontal":"0deg","glyph-orientation-vertical":"auto","image-rendering":"auto",kerning:"auto","letter-spacing":"0","lighting-color":"rgb(255, 255, 255)",marker:"","marker-end":"none","marker-mid":"none","marker-start":"none",mask:"none",opacity:"1",overflow:"visible","paint-order":"fill","pointer-events":"auto","shape-rendering":"auto","stop-color":"rgb(0, 0, 0)","stop-opacity":"1",stroke:"none","stroke-dasharray":"none","stroke-dashoffset":"0","stroke-linecap":"butt","stroke-linejoin":"miter","stroke-miterlimit":"4","stroke-opacity":"1","stroke-width":"1","text-anchor":"start","text-decoration":"none","text-rendering":"auto","unicode-bidi":"normal",visibility:"visible","word-spacing":"0px","writing-mode":"lr-tb"},a=["id","xml: base","xml: lang","xml: space","height","result","width","x","y","xlink: href","style","class","d","pathLength","x","y","dx","dy","glyphRef","format","x1","y1","x2","y2","rotate","textLength","cx","cy","r","rx","ry","fx","fy","width","height","refX","refY","orient","markerUnits","markerWidth","markerHeight","maskUnits","transform","viewBox","version","preserveAspectRatio","xmlns","points","offset"],u=["clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cursor","direction","fill","fill-opacity","fill-rule","font","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","glyph-orientation-horizontal","glyph-orientation-vertical","image-rendering","kerning","letter-spacing","marker","marker-end","marker-mid","marker-start","pointer-events","shape-rendering","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","text-anchor","text-rendering","transform","visibility","white-space","word-spacing","writing-mode"],s=function(t){return void 0!==t},c=function(t){return void 0===t},i=function(t){return null!==t&&"object"==typeof t};var l="undefined"!=typeof document&&"download"in document.createElement("a");function p(t,e){if(l){var n=document.createElement("a");return n.setAttribute("href",t),n.setAttribute("download",e),n.dispatchEvent(new MouseEvent("click")),!0}return"undefined"!=typeof window&&(window.open(t,"_blank",""),!0)}var h=function(t){return void 0!==t},d=function(t){return void 0===t},f=function(t){return null!==t&&"object"==typeof t};var g=h(window)&&h(window.getComputedStyle);function m(t){var e,n=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],i=arguments.length<=2||void 0===arguments[2]||arguments[2];if(!f(e=t)||!(h(window)&&f(window.Node)?e instanceof window.Node:"number"==typeof e.nodeType&&"string"==typeof e.nodeName))throw new Error("parameter 1 is not of type 'Element'");if(!1===i)return n;var o=function(t){if(g){var e=t.ownerDocument.defaultView;return e.opener||(e=window),e.getComputedStyle(t,null)}return t.currentStyle||t.style}(t);if(!0===i)var r=g?o:Object.keys(o);else r=Object.keys(i);for(var a=0,s=r.length;a<s;a++){var l=r[a],u=!0===i||i[l];if(!1!==u&&!d(u)){var c=o[l];"string"==typeof c&&""!==c&&(!0!==u&&c===u||(n[l]=c))}}return n}function v(t,s,l){var e=t.cloneNode(!0);return function t(e,n,i,o){i(e,n);for(var r=e.childNodes,a=0;a<r.length;a++)t(r[a],n.childNodes[a],i,o);o(e,n)}(t,e,function(t,e){e.style&&m(t,e.style,l)},function(t,e){var n,i,o,r,a;e.style&&e.parentNode&&(n=e,i=i||n.parentNode.style,u.forEach(function(t){n.style[t]===i[t]&&n.style.removeProperty(t)})),e.attributes&&(o=e,a=l,!0!==(r=s)&&Array.prototype.slice.call(o.attributes).forEach(function(t){t.specified&&(""===r||!1===r||c(a[t.name])&&r.indexOf(t.name)<0)&&o.removeAttribute(t.name)}))}),e}function y(t){if(c(t)||""===t?t=document.body.querySelector("svg"):"string"==typeof t&&(t=document.body.querySelector(t)),t&&"svg"!==t.tagName&&(t=t.querySelector("svg")),!i(e=t)||!(s(window)&&i(window.Node)?e instanceof window.Node:"number"==typeof e.nodeType&&"string"==typeof e.nodeName))throw new Error("svgsaver: Can't find an svg element");var e;return t}function b(t,e,n){return e&&""!==e||(e=(t.getAttribute("title")||"untitled")+"."+n),encodeURI(e)}u.forEach(function(t){t in r&&(r[t]=!0)});var w=function(){function i(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],e=t.attrs,n=t.styles;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),this.attrs=void 0===e?a:e,this.styles=void 0===n?r:n}return o(i,[{key:"getHTML",value:function(t){var e=v(t=y(t),this.attrs,this.styles);return e.setAttribute("xmlns","http://www.w3.org/2000/svg"),e.setAttribute("version",1.1),e.setAttribute("width",e.getAttribute("width")||"500"),e.setAttribute("height",e.getAttribute("height")||"900"),e.outerHTML||(new window.XMLSerializer).serializeToString(e)}},{key:"getBlob",value:function(t){var e=this.getHTML(t);return new Blob([e],{type:"text/xml"})}},{key:"getUri",value:function(t){var e=encodeURIComponent(this.getHTML(t));return s(window.btoa)?"data:image/svg+xml;base64,"+window.btoa(unescape(e)):"data:image/svg+xml,"+e}},{key:"asSvg",value:function(t,e){return e=b(t=y(t),e,"svg"),s(window.saveAs)&&"function"==typeof Blob?saveAs(this.getBlob(t),e):p(this.getUri(t),e)}},{key:"asPng",value:function(t,e){return e=b(t=y(t),e,"png"),n=this.getUri(t),i=e,o=document.createElement("canvas"),r=o.getContext("2d"),(a=new Image).onload=function(){o.width=a.width,o.height=a.height,r.drawImage(a,0,0),s(window.saveAs)&&s(o.toBlob)?o.toBlob(function(t){saveAs(t,i)}):p(o.toDataURL("image/png"),i)},a.src=n,!0;var n,i,o,r,a}}]),i}();n.default=w,e.exports=n.default},{}]},{},[1]),function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.moment=e()}(this,function(){"use strict";var t,o;function h(){return t.apply(null,arguments)}function s(t){return t instanceof Array||"[object Array]"===Object.prototype.toString.call(t)}function l(t){return null!=t&&"[object Object]"===Object.prototype.toString.call(t)}function u(t){return t instanceof Date||"[object Date]"===Object.prototype.toString.call(t)}function c(t,e){var n,i=[];for(n=0;n<t.length;++n)i.push(e(t[n],n));return i}function d(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function p(t,e){for(var n in e)d(e,n)&&(t[n]=e[n]);return d(e,"toString")&&(t.toString=e.toString),d(e,"valueOf")&&(t.valueOf=e.valueOf),t}function f(t,e,n,i){return we(t,e,n,i,!0).utc()}function g(t){return null==t._pf&&(t._pf={empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],meridiem:null}),t._pf}function m(t){if(null==t._isValid){var e=g(t),n=o.call(e.parsedDateParts,function(t){return null!=t}),i=!isNaN(t._d.getTime())&&e.overflow<0&&!e.empty&&!e.invalidMonth&&!e.invalidWeekday&&!e.nullInput&&!e.invalidFormat&&!e.userInvalidated&&(!e.meridiem||e.meridiem&&n);if(t._strict&&(i=i&&0===e.charsLeftOver&&0===e.unusedTokens.length&&void 0===e.bigHour),null!=Object.isFrozen&&Object.isFrozen(t))return i;t._isValid=i}return t._isValid}function v(t){var e=f(NaN);return null!=t?p(g(e),t):g(e).userInvalidated=!0,e}function r(t){return void 0===t}o=Array.prototype.some?Array.prototype.some:function(t){for(var e=Object(this),n=e.length>>>0,i=0;i<n;i++)if(i in e&&t.call(this,e[i],i,e))return!0;return!1};var a=h.momentProperties=[];function y(t,e){var n,i,o;if(r(e._isAMomentObject)||(t._isAMomentObject=e._isAMomentObject),r(e._i)||(t._i=e._i),r(e._f)||(t._f=e._f),r(e._l)||(t._l=e._l),r(e._strict)||(t._strict=e._strict),r(e._tzm)||(t._tzm=e._tzm),r(e._isUTC)||(t._isUTC=e._isUTC),r(e._offset)||(t._offset=e._offset),r(e._pf)||(t._pf=g(e)),r(e._locale)||(t._locale=e._locale),0<a.length)for(n in a)r(o=e[i=a[n]])||(t[i]=o);return t}var e=!1;function b(t){y(this,t),this._d=new Date(null!=t._d?t._d.getTime():NaN),!1===e&&(e=!0,h.updateOffset(this),e=!1)}function w(t){return t instanceof b||null!=t&&null!=t._isAMomentObject}function x(t){return t<0?Math.ceil(t)||0:Math.floor(t)}function $(t){var e=+t,n=0;return 0!==e&&isFinite(e)&&(n=x(e)),n}function _(t,e,n){var i,o=Math.min(t.length,e.length),r=Math.abs(t.length-e.length),a=0;for(i=0;i<o;i++)(n&&t[i]!==e[i]||!n&&$(t[i])!==$(e[i]))&&a++;return a+r}function k(t){!1===h.suppressDeprecationWarnings&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+t)}function n(o,r){var a=!0;return p(function(){if(null!=h.deprecationHandler&&h.deprecationHandler(null,o),a){for(var t,e=[],n=0;n<arguments.length;n++){if(t="","object"==typeof arguments[n]){for(var i in t+="\n["+n+"] ",arguments[0])t+=i+": "+arguments[0][i]+", ";t=t.slice(0,-2)}else t=arguments[n];e.push(t)}k(o+"\nArguments: "+Array.prototype.slice.call(e).join("")+"\n"+(new Error).stack),a=!1}return r.apply(this,arguments)},r)}var i,C={};function S(t,e){null!=h.deprecationHandler&&h.deprecationHandler(t,e),C[t]||(k(e),C[t]=!0)}function T(t){return t instanceof Function||"[object Function]"===Object.prototype.toString.call(t)}function A(t,e){var n,i=p({},t);for(n in e)d(e,n)&&(l(t[n])&&l(e[n])?(i[n]={},p(i[n],t[n]),p(i[n],e[n])):null!=e[n]?i[n]=e[n]:delete i[n]);for(n in t)d(t,n)&&!d(e,n)&&l(t[n])&&(i[n]=p({},i[n]));return i}function D(t){null!=t&&this.set(t)}h.suppressDeprecationWarnings=!1,h.deprecationHandler=null,i=Object.keys?Object.keys:function(t){var e,n=[];for(e in t)d(t,e)&&n.push(e);return n};var M={};function E(t,e){var n=t.toLowerCase();M[n]=M[n+"s"]=M[e]=t}function P(t){return"string"==typeof t?M[t]||M[t.toLowerCase()]:void 0}function O(t){var e,n,i={};for(n in t)d(t,n)&&(e=P(n))&&(i[e]=t[n]);return i}var I={};function R(t,e){I[t]=e}function L(e,n){return function(t){return null!=t?(N(this,e,t),h.updateOffset(this,n),this):F(this,e)}}function F(t,e){return t.isValid()?t._d["get"+(t._isUTC?"UTC":"")+e]():NaN}function N(t,e,n){t.isValid()&&t._d["set"+(t._isUTC?"UTC":"")+e](n)}function j(t,e,n){var i=""+Math.abs(t),o=e-i.length;return(0<=t?n?"+":"":"-")+Math.pow(10,Math.max(0,o)).toString().substr(1)+i}var B=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,U=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,z={},H={};function V(t,e,n,i){var o=i;"string"==typeof i&&(o=function(){return this[i]()}),t&&(H[t]=o),e&&(H[e[0]]=function(){return j(o.apply(this,arguments),e[1],e[2])}),n&&(H[n]=function(){return this.localeData().ordinal(o.apply(this,arguments),t)})}function q(t,e){return t.isValid()?(e=W(e,t.localeData()),z[e]=z[e]||function(i){var t,o,e,r=i.match(B);for(t=0,o=r.length;t<o;t++)H[r[t]]?r[t]=H[r[t]]:r[t]=(e=r[t]).match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"");return function(t){var e,n="";for(e=0;e<o;e++)n+=r[e]instanceof Function?r[e].call(t,i):r[e];return n}}(e),z[e](t)):t.localeData().invalidDate()}function W(t,e){var n=5;function i(t){return e.longDateFormat(t)||t}for(U.lastIndex=0;0<=n&&U.test(t);)t=t.replace(U,i),U.lastIndex=0,n-=1;return t}var G=/\d/,Y=/\d\d/,K=/\d{3}/,Z=/\d{4}/,X=/[+-]?\d{6}/,J=/\d\d?/,Q=/\d\d\d\d?/,tt=/\d\d\d\d\d\d?/,et=/\d{1,3}/,nt=/\d{1,4}/,it=/[+-]?\d{1,6}/,ot=/\d+/,rt=/[+-]?\d+/,at=/Z|[+-]\d\d:?\d\d/gi,st=/Z|[+-]\d\d(?::?\d\d)?/gi,lt=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,ut={};function ct(t,n,i){ut[t]=T(n)?n:function(t,e){return t&&i?i:n}}function pt(t,e){return d(ut,t)?ut[t](e._strict,e._locale):new RegExp(ht(t.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(t,e,n,i,o){return e||n||i||o})))}function ht(t){return t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}var dt={};function ft(t,n){var e,i=n;for("string"==typeof t&&(t=[t]),"number"==typeof n&&(i=function(t,e){e[n]=$(t)}),e=0;e<t.length;e++)dt[t[e]]=i}function gt(t,o){ft(t,function(t,e,n,i){n._w=n._w||{},o(t,n._w,n,i)})}var mt,vt=0,yt=1,bt=2,wt=3,xt=4,$t=5,_t=6,kt=7,Ct=8;function St(t,e){return new Date(Date.UTC(t,e+1,0)).getUTCDate()}mt=Array.prototype.indexOf?Array.prototype.indexOf:function(t){var e;for(e=0;e<this.length;++e)if(this[e]===t)return e;return-1},V("M",["MM",2],"Mo",function(){return this.month()+1}),V("MMM",0,0,function(t){return this.localeData().monthsShort(this,t)}),V("MMMM",0,0,function(t){return this.localeData().months(this,t)}),E("month","M"),R("month",8),ct("M",J),ct("MM",J,Y),ct("MMM",function(t,e){return e.monthsShortRegex(t)}),ct("MMMM",function(t,e){return e.monthsRegex(t)}),ft(["M","MM"],function(t,e){e[yt]=$(t)-1}),ft(["MMM","MMMM"],function(t,e,n,i){var o=n._locale.monthsParse(t,i,n._strict);null!=o?e[yt]=o:g(n).invalidMonth=t});var Tt=/D[oD]?(\[[^\[\]]*\]|\s+)+MMMM?/,At="January_February_March_April_May_June_July_August_September_October_November_December".split("_");var Dt="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_");function Mt(t,e){var n;if(!t.isValid())return t;if("string"==typeof e)if(/^\d+$/.test(e))e=$(e);else if("number"!=typeof(e=t.localeData().monthsParse(e)))return t;return n=Math.min(t.date(),St(t.year(),e)),t._d["set"+(t._isUTC?"UTC":"")+"Month"](e,n),t}function Et(t){return null!=t?(Mt(this,t),h.updateOffset(this,!0),this):F(this,"Month")}var Pt=lt;var Ot=lt;function It(){function t(t,e){return e.length-t.length}var e,n,i=[],o=[],r=[];for(e=0;e<12;e++)n=f([2e3,e]),i.push(this.monthsShort(n,"")),o.push(this.months(n,"")),r.push(this.months(n,"")),r.push(this.monthsShort(n,""));for(i.sort(t),o.sort(t),r.sort(t),e=0;e<12;e++)i[e]=ht(i[e]),o[e]=ht(o[e]);for(e=0;e<24;e++)r[e]=ht(r[e]);this._monthsRegex=new RegExp("^("+r.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+o.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+i.join("|")+")","i")}function Rt(t){return Lt(t)?366:365}function Lt(t){return t%4==0&&t%100!=0||t%400==0}V("Y",0,0,function(){var t=this.year();return t<=9999?""+t:"+"+t}),V(0,["YY",2],0,function(){return this.year()%100}),V(0,["YYYY",4],0,"year"),V(0,["YYYYY",5],0,"year"),V(0,["YYYYYY",6,!0],0,"year"),E("year","y"),R("year",1),ct("Y",rt),ct("YY",J,Y),ct("YYYY",nt,Z),ct("YYYYY",it,X),ct("YYYYYY",it,X),ft(["YYYYY","YYYYYY"],vt),ft("YYYY",function(t,e){e[vt]=2===t.length?h.parseTwoDigitYear(t):$(t)}),ft("YY",function(t,e){e[vt]=h.parseTwoDigitYear(t)}),ft("Y",function(t,e){e[vt]=parseInt(t,10)}),h.parseTwoDigitYear=function(t){return $(t)+(68<$(t)?1900:2e3)};var Ft=L("FullYear",!0);function Nt(t){var e=new Date(Date.UTC.apply(null,arguments));return t<100&&0<=t&&isFinite(e.getUTCFullYear())&&e.setUTCFullYear(t),e}function jt(t,e,n){var i=7+e-n;return-((7+Nt(t,0,i).getUTCDay()-e)%7)+i-1}function Bt(t,e,n,i,o){var r,a,s=1+7*(e-1)+(7+n-i)%7+jt(t,i,o);return a=s<=0?Rt(r=t-1)+s:s>Rt(t)?(r=t+1,s-Rt(t)):(r=t,s),{year:r,dayOfYear:a}}function Ut(t,e,n){var i,o,r=jt(t.year(),e,n),a=Math.floor((t.dayOfYear()-r-1)/7)+1;return a<1?i=a+zt(o=t.year()-1,e,n):a>zt(t.year(),e,n)?(i=a-zt(t.year(),e,n),o=t.year()+1):(o=t.year(),i=a),{week:i,year:o}}function zt(t,e,n){var i=jt(t,e,n),o=jt(t+1,e,n);return(Rt(t)-i+o)/7}V("w",["ww",2],"wo","week"),V("W",["WW",2],"Wo","isoWeek"),E("week","w"),E("isoWeek","W"),R("week",5),R("isoWeek",5),ct("w",J),ct("ww",J,Y),ct("W",J),ct("WW",J,Y),gt(["w","ww","W","WW"],function(t,e,n,i){e[i.substr(0,1)]=$(t)});V("d",0,"do","day"),V("dd",0,0,function(t){return this.localeData().weekdaysMin(this,t)}),V("ddd",0,0,function(t){return this.localeData().weekdaysShort(this,t)}),V("dddd",0,0,function(t){return this.localeData().weekdays(this,t)}),V("e",0,0,"weekday"),V("E",0,0,"isoWeekday"),E("day","d"),E("weekday","e"),E("isoWeekday","E"),R("day",11),R("weekday",11),R("isoWeekday",11),ct("d",J),ct("e",J),ct("E",J),ct("dd",function(t,e){return e.weekdaysMinRegex(t)}),ct("ddd",function(t,e){return e.weekdaysShortRegex(t)}),ct("dddd",function(t,e){return e.weekdaysRegex(t)}),gt(["dd","ddd","dddd"],function(t,e,n,i){var o=n._locale.weekdaysParse(t,i,n._strict);null!=o?e.d=o:g(n).invalidWeekday=t}),gt(["d","e","E"],function(t,e,n,i){e[i]=$(t)});var Ht="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_");var Vt="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_");var qt="Su_Mo_Tu_We_Th_Fr_Sa".split("_");var Wt=lt;var Gt=lt;var Yt=lt;function Kt(){function t(t,e){return e.length-t.length}var e,n,i,o,r,a=[],s=[],l=[],u=[];for(e=0;e<7;e++)n=f([2e3,1]).day(e),i=this.weekdaysMin(n,""),o=this.weekdaysShort(n,""),r=this.weekdays(n,""),a.push(i),s.push(o),l.push(r),u.push(i),u.push(o),u.push(r);for(a.sort(t),s.sort(t),l.sort(t),u.sort(t),e=0;e<7;e++)s[e]=ht(s[e]),l[e]=ht(l[e]),u[e]=ht(u[e]);this._weekdaysRegex=new RegExp("^("+u.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+l.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+s.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+a.join("|")+")","i")}function Zt(){return this.hours()%12||12}function Xt(t,e){V(t,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),e)})}function Jt(t,e){return e._meridiemParse}V("H",["HH",2],0,"hour"),V("h",["hh",2],0,Zt),V("k",["kk",2],0,function(){return this.hours()||24}),V("hmm",0,0,function(){return""+Zt.apply(this)+j(this.minutes(),2)}),V("hmmss",0,0,function(){return""+Zt.apply(this)+j(this.minutes(),2)+j(this.seconds(),2)}),V("Hmm",0,0,function(){return""+this.hours()+j(this.minutes(),2)}),V("Hmmss",0,0,function(){return""+this.hours()+j(this.minutes(),2)+j(this.seconds(),2)}),Xt("a",!0),Xt("A",!1),E("hour","h"),R("hour",13),ct("a",Jt),ct("A",Jt),ct("H",J),ct("h",J),ct("HH",J,Y),ct("hh",J,Y),ct("hmm",Q),ct("hmmss",tt),ct("Hmm",Q),ct("Hmmss",tt),ft(["H","HH"],wt),ft(["a","A"],function(t,e,n){n._isPm=n._locale.isPM(t),n._meridiem=t}),ft(["h","hh"],function(t,e,n){e[wt]=$(t),g(n).bigHour=!0}),ft("hmm",function(t,e,n){var i=t.length-2;e[wt]=$(t.substr(0,i)),e[xt]=$(t.substr(i)),g(n).bigHour=!0}),ft("hmmss",function(t,e,n){var i=t.length-4,o=t.length-2;e[wt]=$(t.substr(0,i)),e[xt]=$(t.substr(i,2)),e[$t]=$(t.substr(o)),g(n).bigHour=!0}),ft("Hmm",function(t,e,n){var i=t.length-2;e[wt]=$(t.substr(0,i)),e[xt]=$(t.substr(i))}),ft("Hmmss",function(t,e,n){var i=t.length-4,o=t.length-2;e[wt]=$(t.substr(0,i)),e[xt]=$(t.substr(i,2)),e[$t]=$(t.substr(o))});var Qt,te=L("Hours",!0),ee={calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},longDateFormat:{LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},invalidDate:"Invalid date",ordinal:"%d",ordinalParse:/\d{1,2}/,relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},months:At,monthsShort:Dt,week:{dow:0,doy:6},weekdays:Ht,weekdaysMin:qt,weekdaysShort:Vt,meridiemParse:/[ap]\.?m?\.?/i},ne={};function ie(t){return t?t.toLowerCase().replace("_","-"):t}function oe(t){var e=null;if(!ne[t]&&"undefined"!=typeof module&&module&&module.exports)try{e=Qt._abbr,require("./locale/"+t),re(e)}catch(t){}return ne[t]}function re(t,e){var n;return t&&(n=r(e)?se(t):ae(t,e))&&(Qt=n),Qt._abbr}function ae(t,e){if(null===e)return delete ne[t],null;var n=ee;return e.abbr=t,null!=ne[t]?(S("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),n=ne[t]._config):null!=e.parentLocale&&(null!=ne[e.parentLocale]?n=ne[e.parentLocale]._config:S("parentLocaleUndefined","specified parentLocale is not defined yet. See http://momentjs.com/guides/#/warnings/parent-locale/")),ne[t]=new D(A(n,e)),re(t),ne[t]}function se(t){var e;if(t&&t._locale&&t._locale._abbr&&(t=t._locale._abbr),!t)return Qt;if(!s(t)){if(e=oe(t))return e;t=[t]}return function(t){for(var e,n,i,o,r=0;r<t.length;){for(e=(o=ie(t[r]).split("-")).length,n=(n=ie(t[r+1]))?n.split("-"):null;0<e;){if(i=oe(o.slice(0,e).join("-")))return i;if(n&&n.length>=e&&_(o,n,!0)>=e-1)break;e--}r++}return null}(t)}function le(t){var e,n=t._a;return n&&-2===g(t).overflow&&(e=n[yt]<0||11<n[yt]?yt:n[bt]<1||n[bt]>St(n[vt],n[yt])?bt:n[wt]<0||24<n[wt]||24===n[wt]&&(0!==n[xt]||0!==n[$t]||0!==n[_t])?wt:n[xt]<0||59<n[xt]?xt:n[$t]<0||59<n[$t]?$t:n[_t]<0||999<n[_t]?_t:-1,g(t)._overflowDayOfYear&&(e<vt||bt<e)&&(e=bt),g(t)._overflowWeeks&&-1===e&&(e=kt),g(t)._overflowWeekday&&-1===e&&(e=Ct),g(t).overflow=e),t}var ue=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?/,ce=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?/,pe=/Z|[+-]\d\d(?::?\d\d)?/,he=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/]],de=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],fe=/^\/?Date\((\-?\d+)/i;function ge(t){var e,n,i,o,r,a,s=t._i,l=ue.exec(s)||ce.exec(s);if(l){for(g(t).iso=!0,e=0,n=he.length;e<n;e++)if(he[e][1].exec(l[1])){o=he[e][0],i=!1!==he[e][2];break}if(null==o)return void(t._isValid=!1);if(l[3]){for(e=0,n=de.length;e<n;e++)if(de[e][1].exec(l[3])){r=(l[2]||" ")+de[e][0];break}if(null==r)return void(t._isValid=!1)}if(!i&&null!=r)return void(t._isValid=!1);if(l[4]){if(!pe.exec(l[4]))return void(t._isValid=!1);a="Z"}t._f=o+(r||"")+(a||""),ye(t)}else t._isValid=!1}function me(t,e,n){return null!=t?t:null!=e?e:n}function ve(t){var e,n,i,o,r=[];if(!t._d){var a,s;for(a=t,s=new Date(h.now()),i=a._useUTC?[s.getUTCFullYear(),s.getUTCMonth(),s.getUTCDate()]:[s.getFullYear(),s.getMonth(),s.getDate()],t._w&&null==t._a[bt]&&null==t._a[yt]&&function(t){var e,n,i,o,r,a,s,l;null!=(e=t._w).GG||null!=e.W||null!=e.E?(r=1,a=4,n=me(e.GG,t._a[vt],Ut(xe(),1,4).year),i=me(e.W,1),((o=me(e.E,1))<1||7<o)&&(l=!0)):(r=t._locale._week.dow,a=t._locale._week.doy,n=me(e.gg,t._a[vt],Ut(xe(),r,a).year),i=me(e.w,1),null!=e.d?((o=e.d)<0||6<o)&&(l=!0):null!=e.e?(o=e.e+r,(e.e<0||6<e.e)&&(l=!0)):o=r);i<1||i>zt(n,r,a)?g(t)._overflowWeeks=!0:null!=l?g(t)._overflowWeekday=!0:(s=Bt(n,i,o,r,a),t._a[vt]=s.year,t._dayOfYear=s.dayOfYear)}(t),t._dayOfYear&&(o=me(t._a[vt],i[vt]),t._dayOfYear>Rt(o)&&(g(t)._overflowDayOfYear=!0),n=Nt(o,0,t._dayOfYear),t._a[yt]=n.getUTCMonth(),t._a[bt]=n.getUTCDate()),e=0;e<3&&null==t._a[e];++e)t._a[e]=r[e]=i[e];for(;e<7;e++)t._a[e]=r[e]=null==t._a[e]?2===e?1:0:t._a[e];24===t._a[wt]&&0===t._a[xt]&&0===t._a[$t]&&0===t._a[_t]&&(t._nextDay=!0,t._a[wt]=0),t._d=(t._useUTC?Nt:function(t,e,n,i,o,r,a){var s=new Date(t,e,n,i,o,r,a);return t<100&&0<=t&&isFinite(s.getFullYear())&&s.setFullYear(t),s}).apply(null,r),null!=t._tzm&&t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),t._nextDay&&(t._a[wt]=24)}}function ye(t){if(t._f!==h.ISO_8601){t._a=[],g(t).empty=!0;var e,n,i,o,r,a,s,l,u=""+t._i,c=u.length,p=0;for(i=W(t._f,t._locale).match(B)||[],e=0;e<i.length;e++)o=i[e],(n=(u.match(pt(o,t))||[])[0])&&(0<(r=u.substr(0,u.indexOf(n))).length&&g(t).unusedInput.push(r),u=u.slice(u.indexOf(n)+n.length),p+=n.length),H[o]?(n?g(t).empty=!1:g(t).unusedTokens.push(o),a=o,l=t,null!=(s=n)&&d(dt,a)&&dt[a](s,l._a,l,a)):t._strict&&!n&&g(t).unusedTokens.push(o);g(t).charsLeftOver=c-p,0<u.length&&g(t).unusedInput.push(u),t._a[wt]<=12&&!0===g(t).bigHour&&0<t._a[wt]&&(g(t).bigHour=void 0),g(t).parsedDateParts=t._a.slice(0),g(t).meridiem=t._meridiem,t._a[wt]=function(t,e,n){var i;if(null==n)return e;return null!=t.meridiemHour?t.meridiemHour(e,n):(null!=t.isPM&&((i=t.isPM(n))&&e<12&&(e+=12),i||12!==e||(e=0)),e)}(t._locale,t._a[wt],t._meridiem),ve(t),le(t)}else ge(t)}function be(t){var e,n,i,o,r=t._i,a=t._f;return t._locale=t._locale||se(t._l),null===r||void 0===a&&""===r?v({nullInput:!0}):("string"==typeof r&&(t._i=r=t._locale.preparse(r)),w(r)?new b(le(r)):(s(a)?function(t){var e,n,i,o,r;if(0===t._f.length)return g(t).invalidFormat=!0,t._d=new Date(NaN);for(o=0;o<t._f.length;o++)r=0,e=y({},t),null!=t._useUTC&&(e._useUTC=t._useUTC),e._f=t._f[o],ye(e),m(e)&&(r+=g(e).charsLeftOver,r+=10*g(e).unusedTokens.length,g(e).score=r,(null==i||r<i)&&(i=r,n=e));p(t,n||e)}(t):u(r)?t._d=r:a?ye(t):void 0===(n=(e=t)._i)?e._d=new Date(h.now()):u(n)?e._d=new Date(n.valueOf()):"string"==typeof n?(i=e,null===(o=fe.exec(i._i))?(ge(i),!1===i._isValid&&(delete i._isValid,h.createFromInputFallback(i))):i._d=new Date(+o[1])):s(n)?(e._a=c(n.slice(0),function(t){return parseInt(t,10)}),ve(e)):"object"==typeof n?function(t){if(!t._d){var e=O(t._i);t._a=c([e.year,e.month,e.day||e.date,e.hour,e.minute,e.second,e.millisecond],function(t){return t&&parseInt(t,10)}),ve(t)}}(e):"number"==typeof n?e._d=new Date(n):h.createFromInputFallback(e),m(t)||(t._d=null),t))}function we(t,e,n,i,o){var r,a={};return"boolean"==typeof n&&(i=n,n=void 0),(l(t)&&function(t){var e;for(e in t)return!1;return!0}(t)||s(t)&&0===t.length)&&(t=void 0),a._isAMomentObject=!0,a._useUTC=a._isUTC=o,a._l=n,a._i=t,a._f=e,a._strict=i,(r=new b(le(be(a))))._nextDay&&(r.add(1,"d"),r._nextDay=void 0),r}function xe(t,e,n,i){return we(t,e,n,i,!1)}h.createFromInputFallback=n("value provided is not in a recognized ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non ISO date formats are discouraged and will be removed in an upcoming major release. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(t){t._d=new Date(t._i+(t._useUTC?" UTC":""))}),h.ISO_8601=function(){};var $e=n("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var t=xe.apply(null,arguments);return this.isValid()&&t.isValid()?t<this?this:t:v()}),_e=n("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var t=xe.apply(null,arguments);return this.isValid()&&t.isValid()?this<t?this:t:v()});function ke(t,e){var n,i;if(1===e.length&&s(e[0])&&(e=e[0]),!e.length)return xe();for(n=e[0],i=1;i<e.length;++i)e[i].isValid()&&!e[i][t](n)||(n=e[i]);return n}function Ce(t){var e=O(t),n=e.year||0,i=e.quarter||0,o=e.month||0,r=e.week||0,a=e.day||0,s=e.hour||0,l=e.minute||0,u=e.second||0,c=e.millisecond||0;this._milliseconds=+c+1e3*u+6e4*l+1e3*s*60*60,this._days=+a+7*r,this._months=+o+3*i+12*n,this._data={},this._locale=se(),this._bubble()}function Se(t){return t instanceof Ce}function Te(t){return t<0?-1*Math.round(-1*t):Math.round(t)}function Ae(t,n){V(t,0,0,function(){var t=this.utcOffset(),e="+";return t<0&&(t=-t,e="-"),e+j(~~(t/60),2)+n+j(~~t%60,2)})}Ae("Z",":"),Ae("ZZ",""),ct("Z",st),ct("ZZ",st),ft(["Z","ZZ"],function(t,e,n){n._useUTC=!0,n._tzm=Me(st,t)});var De=/([\+\-]|\d\d)/gi;function Me(t,e){var n=(e||"").match(t)||[],i=((n[n.length-1]||[])+"").match(De)||["-",0,0],o=60*i[1]+$(i[2]);return"+"===i[0]?o:-o}function Ee(t,e){var n,i;return e._isUTC?(n=e.clone(),i=(w(t)||u(t)?t.valueOf():xe(t).valueOf())-n.valueOf(),n._d.setTime(n._d.valueOf()+i),h.updateOffset(n,!1),n):xe(t).local()}function Pe(t){return 15*-Math.round(t._d.getTimezoneOffset()/15)}function Oe(){return!!this.isValid()&&(this._isUTC&&0===this._offset)}h.updateOffset=function(){};var Ie=/^(\-)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)(\.\d*)?)?$/,Re=/^(-)?P(?:(-?[0-9,.]*)Y)?(?:(-?[0-9,.]*)M)?(?:(-?[0-9,.]*)W)?(?:(-?[0-9,.]*)D)?(?:T(?:(-?[0-9,.]*)H)?(?:(-?[0-9,.]*)M)?(?:(-?[0-9,.]*)S)?)?$/;function Le(t,e){var n,i,o,r=t,a=null;return Se(t)?r={ms:t._milliseconds,d:t._days,M:t._months}:"number"==typeof t?(r={},e?r[e]=t:r.milliseconds=t):(a=Ie.exec(t))?(n="-"===a[1]?-1:1,r={y:0,d:$(a[bt])*n,h:$(a[wt])*n,m:$(a[xt])*n,s:$(a[$t])*n,ms:$(Te(1e3*a[_t]))*n}):(a=Re.exec(t))?(n="-"===a[1]?-1:1,r={y:Fe(a[2],n),M:Fe(a[3],n),w:Fe(a[4],n),d:Fe(a[5],n),h:Fe(a[6],n),m:Fe(a[7],n),s:Fe(a[8],n)}):null==r?r={}:"object"==typeof r&&("from"in r||"to"in r)&&(o=function(t,e){var n;if(!t.isValid()||!e.isValid())return{milliseconds:0,months:0};e=Ee(e,t),t.isBefore(e)?n=Ne(t,e):((n=Ne(e,t)).milliseconds=-n.milliseconds,n.months=-n.months);return n}(xe(r.from),xe(r.to)),(r={}).ms=o.milliseconds,r.M=o.months),i=new Ce(r),Se(t)&&d(t,"_locale")&&(i._locale=t._locale),i}function Fe(t,e){var n=t&&parseFloat(t.replace(",","."));return(isNaN(n)?0:n)*e}function Ne(t,e){var n={milliseconds:0,months:0};return n.months=e.month()-t.month()+12*(e.year()-t.year()),t.clone().add(n.months,"M").isAfter(e)&&--n.months,n.milliseconds=+e-+t.clone().add(n.months,"M"),n}function je(i,o){return function(t,e){var n;return null===e||isNaN(+e)||(S(o,"moment()."+o+"(period, number) is deprecated. Please use moment()."+o+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),n=t,t=e,e=n),Be(this,Le(t="string"==typeof t?+t:t,e),i),this}}function Be(t,e,n,i){var o=e._milliseconds,r=Te(e._days),a=Te(e._months);t.isValid()&&(i=null==i||i,o&&t._d.setTime(t._d.valueOf()+o*n),r&&N(t,"Date",F(t,"Date")+r*n),a&&Mt(t,F(t,"Month")+a*n),i&&h.updateOffset(t,r||a))}Le.fn=Ce.prototype;var Ue=je(1,"add"),ze=je(-1,"subtract");function He(t){var e;return void 0===t?this._locale._abbr:(null!=(e=se(t))&&(this._locale=e),this)}h.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",h.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var Ve=n("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(t){return void 0===t?this.localeData():this.locale(t)});function qe(){return this._locale}function We(t,e){V(0,[t,t.length],0,e)}function Ge(t,e,n,i,o){var r;return null==t?Ut(this,i,o).year:((r=zt(t,i,o))<e&&(e=r),function(t,e,n,i,o){var r=Bt(t,e,n,i,o),a=Nt(r.year,0,r.dayOfYear);return this.year(a.getUTCFullYear()),this.month(a.getUTCMonth()),this.date(a.getUTCDate()),this}.call(this,t,e,n,i,o))}V(0,["gg",2],0,function(){return this.weekYear()%100}),V(0,["GG",2],0,function(){return this.isoWeekYear()%100}),We("gggg","weekYear"),We("ggggg","weekYear"),We("GGGG","isoWeekYear"),We("GGGGG","isoWeekYear"),E("weekYear","gg"),E("isoWeekYear","GG"),R("weekYear",1),R("isoWeekYear",1),ct("G",rt),ct("g",rt),ct("GG",J,Y),ct("gg",J,Y),ct("GGGG",nt,Z),ct("gggg",nt,Z),ct("GGGGG",it,X),ct("ggggg",it,X),gt(["gggg","ggggg","GGGG","GGGGG"],function(t,e,n,i){e[i.substr(0,2)]=$(t)}),gt(["gg","GG"],function(t,e,n,i){e[i]=h.parseTwoDigitYear(t)}),V("Q",0,"Qo","quarter"),E("quarter","Q"),R("quarter",7),ct("Q",G),ft("Q",function(t,e){e[yt]=3*($(t)-1)}),V("D",["DD",2],"Do","date"),E("date","D"),R("date",9),ct("D",J),ct("DD",J,Y),ct("Do",function(t,e){return t?e._ordinalParse:e._ordinalParseLenient}),ft(["D","DD"],bt),ft("Do",function(t,e){e[bt]=$(t.match(J)[0])});var Ye=L("Date",!0);V("DDD",["DDDD",3],"DDDo","dayOfYear"),E("dayOfYear","DDD"),R("dayOfYear",4),ct("DDD",et),ct("DDDD",K),ft(["DDD","DDDD"],function(t,e,n){n._dayOfYear=$(t)}),V("m",["mm",2],0,"minute"),E("minute","m"),R("minute",14),ct("m",J),ct("mm",J,Y),ft(["m","mm"],xt);var Ke=L("Minutes",!1);V("s",["ss",2],0,"second"),E("second","s"),R("second",15),ct("s",J),ct("ss",J,Y),ft(["s","ss"],$t);var Ze,Xe=L("Seconds",!1);for(V("S",0,0,function(){return~~(this.millisecond()/100)}),V(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),V(0,["SSS",3],0,"millisecond"),V(0,["SSSS",4],0,function(){return 10*this.millisecond()}),V(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),V(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),V(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),V(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),V(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),E("millisecond","ms"),R("millisecond",16),ct("S",et,G),ct("SS",et,Y),ct("SSS",et,K),Ze="SSSS";Ze.length<=9;Ze+="S")ct(Ze,ot);function Je(t,e){e[_t]=$(1e3*("0."+t))}for(Ze="S";Ze.length<=9;Ze+="S")ft(Ze,Je);var Qe=L("Milliseconds",!1);V("z",0,0,"zoneAbbr"),V("zz",0,0,"zoneName");var tn=b.prototype;tn.add=Ue,tn.calendar=function(t,e){var n=t||xe(),i=Ee(n,this).startOf("day"),o=h.calendarFormat(this,i)||"sameElse",r=e&&(T(e[o])?e[o].call(this,n):e[o]);return this.format(r||this.localeData().calendar(o,this,xe(n)))},tn.clone=function(){return new b(this)},tn.diff=function(t,e,n){var i,o,r,a;return this.isValid()&&(i=Ee(t,this)).isValid()?(o=6e4*(i.utcOffset()-this.utcOffset()),"year"===(e=P(e))||"month"===e||"quarter"===e?(s=this,l=i,p=12*(l.year()-s.year())+(l.month()-s.month()),h=s.clone().add(p,"months"),c=l-h<0?(u=s.clone().add(p-1,"months"),(l-h)/(h-u)):(u=s.clone().add(p+1,"months"),(l-h)/(u-h)),a=-(p+c)||0,"quarter"===e?a/=3:"year"===e&&(a/=12)):(r=this-i,a="second"===e?r/1e3:"minute"===e?r/6e4:"hour"===e?r/36e5:"day"===e?(r-o)/864e5:"week"===e?(r-o)/6048e5:r),n?a:x(a)):NaN;var s,l,u,c,p,h},tn.endOf=function(t){return void 0===(t=P(t))||"millisecond"===t?this:("date"===t&&(t="day"),this.startOf(t).add(1,"isoWeek"===t?"week":t).subtract(1,"ms"))},tn.format=function(t){t||(t=this.isUtc()?h.defaultFormatUtc:h.defaultFormat);var e=q(this,t);return this.localeData().postformat(e)},tn.from=function(t,e){return this.isValid()&&(w(t)&&t.isValid()||xe(t).isValid())?Le({to:this,from:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()},tn.fromNow=function(t){return this.from(xe(),t)},tn.to=function(t,e){return this.isValid()&&(w(t)&&t.isValid()||xe(t).isValid())?Le({from:this,to:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()},tn.toNow=function(t){return this.to(xe(),t)},tn.get=function(t){return T(this[t=P(t)])?this[t]():this},tn.invalidAt=function(){return g(this).overflow},tn.isAfter=function(t,e){var n=w(t)?t:xe(t);return!(!this.isValid()||!n.isValid())&&("millisecond"===(e=P(r(e)?"millisecond":e))?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(e).valueOf())},tn.isBefore=function(t,e){var n=w(t)?t:xe(t);return!(!this.isValid()||!n.isValid())&&("millisecond"===(e=P(r(e)?"millisecond":e))?this.valueOf()<n.valueOf():this.clone().endOf(e).valueOf()<n.valueOf())},tn.isBetween=function(t,e,n,i){return("("===(i=i||"()")[0]?this.isAfter(t,n):!this.isBefore(t,n))&&(")"===i[1]?this.isBefore(e,n):!this.isAfter(e,n))},tn.isSame=function(t,e){var n,i=w(t)?t:xe(t);return!(!this.isValid()||!i.isValid())&&("millisecond"===(e=P(e||"millisecond"))?this.valueOf()===i.valueOf():(n=i.valueOf(),this.clone().startOf(e).valueOf()<=n&&n<=this.clone().endOf(e).valueOf()))},tn.isSameOrAfter=function(t,e){return this.isSame(t,e)||this.isAfter(t,e)},tn.isSameOrBefore=function(t,e){return this.isSame(t,e)||this.isBefore(t,e)},tn.isValid=function(){return m(this)},tn.lang=Ve,tn.locale=He,tn.localeData=qe,tn.max=_e,tn.min=$e,tn.parsingFlags=function(){return p({},g(this))},tn.set=function(t,e){if("object"==typeof t)for(var n=function(t){var e=[];for(var n in t)e.push({unit:n,priority:I[n]});return e.sort(function(t,e){return t.priority-e.priority}),e}(t=O(t)),i=0;i<n.length;i++)this[n[i].unit](t[n[i].unit]);else if(T(this[t=P(t)]))return this[t](e);return this},tn.startOf=function(t){switch(t=P(t)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":case"date":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===t&&this.weekday(0),"isoWeek"===t&&this.isoWeekday(1),"quarter"===t&&this.month(3*Math.floor(this.month()/3)),this},tn.subtract=ze,tn.toArray=function(){return[this.year(),this.month(),this.date(),this.hour(),this.minute(),this.second(),this.millisecond()]},tn.toObject=function(){return{years:this.year(),months:this.month(),date:this.date(),hours:this.hours(),minutes:this.minutes(),seconds:this.seconds(),milliseconds:this.milliseconds()}},tn.toDate=function(){return new Date(this.valueOf())},tn.toISOString=function(){var t=this.clone().utc();return 0<t.year()&&t.year()<=9999?T(Date.prototype.toISOString)?this.toDate().toISOString():q(t,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):q(t,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")},tn.toJSON=function(){return this.isValid()?this.toISOString():null},tn.toString=function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},tn.unix=function(){return Math.floor(this.valueOf()/1e3)},tn.valueOf=function(){return this._d.valueOf()-6e4*(this._offset||0)},tn.creationData=function(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}},tn.year=Ft,tn.isLeapYear=function(){return Lt(this.year())},tn.weekYear=function(t){return Ge.call(this,t,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)},tn.isoWeekYear=function(t){return Ge.call(this,t,this.isoWeek(),this.isoWeekday(),1,4)},tn.quarter=tn.quarters=function(t){return null==t?Math.ceil((this.month()+1)/3):this.month(3*(t-1)+this.month()%3)},tn.month=Et,tn.daysInMonth=function(){return St(this.year(),this.month())},tn.week=tn.weeks=function(t){var e=this.localeData().week(this);return null==t?e:this.add(7*(t-e),"d")},tn.isoWeek=tn.isoWeeks=function(t){var e=Ut(this,1,4).week;return null==t?e:this.add(7*(t-e),"d")},tn.weeksInYear=function(){var t=this.localeData()._week;return zt(this.year(),t.dow,t.doy)},tn.isoWeeksInYear=function(){return zt(this.year(),1,4)},tn.date=Ye,tn.day=tn.days=function(t){if(!this.isValid())return null!=t?this:NaN;var e,n,i=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=t?(e=t,n=this.localeData(),t="string"!=typeof e?e:isNaN(e)?"number"==typeof(e=n.weekdaysParse(e))?e:null:parseInt(e,10),this.add(t-i,"d")):i},tn.weekday=function(t){if(!this.isValid())return null!=t?this:NaN;var e=(this.day()+7-this.localeData()._week.dow)%7;return null==t?e:this.add(t-e,"d")},tn.isoWeekday=function(t){if(!this.isValid())return null!=t?this:NaN;if(null==t)return this.day()||7;var e,n,i=(e=t,n=this.localeData(),"string"==typeof e?n.weekdaysParse(e)%7||7:isNaN(e)?null:e);return this.day(this.day()%7?i:i-7)},tn.dayOfYear=function(t){var e=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==t?e:this.add(t-e,"d")},tn.hour=tn.hours=te,tn.minute=tn.minutes=Ke,tn.second=tn.seconds=Xe,tn.millisecond=tn.milliseconds=Qe,tn.utcOffset=function(t,e){var n,i=this._offset||0;return this.isValid()?null!=t?("string"==typeof t?t=Me(st,t):Math.abs(t)<16&&(t*=60),!this._isUTC&&e&&(n=Pe(this)),this._offset=t,this._isUTC=!0,null!=n&&this.add(n,"m"),i!==t&&(!e||this._changeInProgress?Be(this,Le(t-i,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,h.updateOffset(this,!0),this._changeInProgress=null)),this):this._isUTC?i:Pe(this):null!=t?this:NaN},tn.utc=function(t){return this.utcOffset(0,t)},tn.local=function(t){return this._isUTC&&(this.utcOffset(0,t),this._isUTC=!1,t&&this.subtract(Pe(this),"m")),this},tn.parseZone=function(){this._tzm?this.utcOffset(this._tzm):"string"==typeof this._i&&(0===Me(at,this._i)?this.utcOffset(0,!0):this.utcOffset(Me(at,this._i)));return this},tn.hasAlignedHourOffset=function(t){return!!this.isValid()&&(t=t?xe(t).utcOffset():0,(this.utcOffset()-t)%60==0)},tn.isDST=function(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()},tn.isLocal=function(){return!!this.isValid()&&!this._isUTC},tn.isUtcOffset=function(){return!!this.isValid()&&this._isUTC},tn.isUtc=Oe,tn.isUTC=Oe,tn.zoneAbbr=function(){return this._isUTC?"UTC":""},tn.zoneName=function(){return this._isUTC?"Coordinated Universal Time":""},tn.dates=n("dates accessor is deprecated. Use date instead.",Ye),tn.months=n("months accessor is deprecated. Use month instead",Et),tn.years=n("years accessor is deprecated. Use year instead",Ft),tn.zone=n("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",function(t,e){return null!=t?("string"!=typeof t&&(t=-t),this.utcOffset(t,e),this):-this.utcOffset()}),tn.isDSTShifted=n("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",function(){if(!r(this._isDSTShifted))return this._isDSTShifted;var t={};if(y(t,this),(t=be(t))._a){var e=t._isUTC?f(t._a):xe(t._a);this._isDSTShifted=this.isValid()&&0<_(t._a,e.toArray())}else this._isDSTShifted=!1;return this._isDSTShifted});var en=tn;function nn(t){return t}var on=D.prototype;function rn(t,e,n,i){var o=se(),r=f().set(i,e);return o[n](r,t)}function an(t,e,n){if("number"==typeof t&&(e=t,t=void 0),t=t||"",null!=e)return rn(t,e,n,"month");var i,o=[];for(i=0;i<12;i++)o[i]=rn(t,i,n,"month");return o}function sn(t,e,n,i){e=("boolean"==typeof t?"number"==typeof e&&(n=e,e=void 0):(e=t,t=!1,"number"==typeof(n=e)&&(n=e,e=void 0)),e||"");var o,r=se(),a=t?r._week.dow:0;if(null!=n)return rn(e,(n+a)%7,i,"day");var s=[];for(o=0;o<7;o++)s[o]=rn(e,(o+a)%7,i,"day");return s}on.calendar=function(t,e,n){var i=this._calendar[t]||this._calendar.sameElse;return T(i)?i.call(e,n):i},on.longDateFormat=function(t){var e=this._longDateFormat[t],n=this._longDateFormat[t.toUpperCase()];return e||!n?e:(this._longDateFormat[t]=n.replace(/MMMM|MM|DD|dddd/g,function(t){return t.slice(1)}),this._longDateFormat[t])},on.invalidDate=function(){return this._invalidDate},on.ordinal=function(t){return this._ordinal.replace("%d",t)},on.preparse=nn,on.postformat=nn,on.relativeTime=function(t,e,n,i){var o=this._relativeTime[n];return T(o)?o(t,e,n,i):o.replace(/%d/i,t)},on.pastFuture=function(t,e){var n=this._relativeTime[0<t?"future":"past"];return T(n)?n(e):n.replace(/%s/i,e)},on.set=function(t){var e,n;for(n in t)T(e=t[n])?this[n]=e:this["_"+n]=e;this._config=t,this._ordinalParseLenient=new RegExp(this._ordinalParse.source+"|"+/\d{1,2}/.source)},on.months=function(t,e){return t?s(this._months)?this._months[t.month()]:this._months[(this._months.isFormat||Tt).test(e)?"format":"standalone"][t.month()]:this._months},on.monthsShort=function(t,e){return t?s(this._monthsShort)?this._monthsShort[t.month()]:this._monthsShort[Tt.test(e)?"format":"standalone"][t.month()]:this._monthsShort},on.monthsParse=function(t,e,n){var i,o,r;if(this._monthsParseExact)return function(t,e,n){var i,o,r,a=t.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],i=0;i<12;++i)r=f([2e3,i]),this._shortMonthsParse[i]=this.monthsShort(r,"").toLocaleLowerCase(),this._longMonthsParse[i]=this.months(r,"").toLocaleLowerCase();return n?"MMM"===e?-1!==(o=mt.call(this._shortMonthsParse,a))?o:null:-1!==(o=mt.call(this._longMonthsParse,a))?o:null:"MMM"===e?-1!==(o=mt.call(this._shortMonthsParse,a))?o:-1!==(o=mt.call(this._longMonthsParse,a))?o:null:-1!==(o=mt.call(this._longMonthsParse,a))?o:-1!==(o=mt.call(this._shortMonthsParse,a))?o:null}.call(this,t,e,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),i=0;i<12;i++){if(o=f([2e3,i]),n&&!this._longMonthsParse[i]&&(this._longMonthsParse[i]=new RegExp("^"+this.months(o,"").replace(".","")+"$","i"),this._shortMonthsParse[i]=new RegExp("^"+this.monthsShort(o,"").replace(".","")+"$","i")),n||this._monthsParse[i]||(r="^"+this.months(o,"")+"|^"+this.monthsShort(o,""),this._monthsParse[i]=new RegExp(r.replace(".",""),"i")),n&&"MMMM"===e&&this._longMonthsParse[i].test(t))return i;if(n&&"MMM"===e&&this._shortMonthsParse[i].test(t))return i;if(!n&&this._monthsParse[i].test(t))return i}},on.monthsRegex=function(t){return this._monthsParseExact?(d(this,"_monthsRegex")||It.call(this),t?this._monthsStrictRegex:this._monthsRegex):(d(this,"_monthsRegex")||(this._monthsRegex=Ot),this._monthsStrictRegex&&t?this._monthsStrictRegex:this._monthsRegex)},on.monthsShortRegex=function(t){return this._monthsParseExact?(d(this,"_monthsRegex")||It.call(this),t?this._monthsShortStrictRegex:this._monthsShortRegex):(d(this,"_monthsShortRegex")||(this._monthsShortRegex=Pt),this._monthsShortStrictRegex&&t?this._monthsShortStrictRegex:this._monthsShortRegex)},on.week=function(t){return Ut(t,this._week.dow,this._week.doy).week},on.firstDayOfYear=function(){return this._week.doy},on.firstDayOfWeek=function(){return this._week.dow},on.weekdays=function(t,e){return t?s(this._weekdays)?this._weekdays[t.day()]:this._weekdays[this._weekdays.isFormat.test(e)?"format":"standalone"][t.day()]:this._weekdays},on.weekdaysMin=function(t){return t?this._weekdaysMin[t.day()]:this._weekdaysMin},on.weekdaysShort=function(t){return t?this._weekdaysShort[t.day()]:this._weekdaysShort},on.weekdaysParse=function(t,e,n){var i,o,r;if(this._weekdaysParseExact)return function(t,e,n){var i,o,r,a=t.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],i=0;i<7;++i)r=f([2e3,1]).day(i),this._minWeekdaysParse[i]=this.weekdaysMin(r,"").toLocaleLowerCase(),this._shortWeekdaysParse[i]=this.weekdaysShort(r,"").toLocaleLowerCase(),this._weekdaysParse[i]=this.weekdays(r,"").toLocaleLowerCase();return n?"dddd"===e?-1!==(o=mt.call(this._weekdaysParse,a))?o:null:"ddd"===e?-1!==(o=mt.call(this._shortWeekdaysParse,a))?o:null:-1!==(o=mt.call(this._minWeekdaysParse,a))?o:null:"dddd"===e?-1!==(o=mt.call(this._weekdaysParse,a))?o:-1!==(o=mt.call(this._shortWeekdaysParse,a))?o:-1!==(o=mt.call(this._minWeekdaysParse,a))?o:null:"ddd"===e?-1!==(o=mt.call(this._shortWeekdaysParse,a))?o:-1!==(o=mt.call(this._weekdaysParse,a))?o:-1!==(o=mt.call(this._minWeekdaysParse,a))?o:null:-1!==(o=mt.call(this._minWeekdaysParse,a))?o:-1!==(o=mt.call(this._weekdaysParse,a))?o:-1!==(o=mt.call(this._shortWeekdaysParse,a))?o:null}.call(this,t,e,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),i=0;i<7;i++){if(o=f([2e3,1]).day(i),n&&!this._fullWeekdaysParse[i]&&(this._fullWeekdaysParse[i]=new RegExp("^"+this.weekdays(o,"").replace(".",".?")+"$","i"),this._shortWeekdaysParse[i]=new RegExp("^"+this.weekdaysShort(o,"").replace(".",".?")+"$","i"),this._minWeekdaysParse[i]=new RegExp("^"+this.weekdaysMin(o,"").replace(".",".?")+"$","i")),this._weekdaysParse[i]||(r="^"+this.weekdays(o,"")+"|^"+this.weekdaysShort(o,"")+"|^"+this.weekdaysMin(o,""),this._weekdaysParse[i]=new RegExp(r.replace(".",""),"i")),n&&"dddd"===e&&this._fullWeekdaysParse[i].test(t))return i;if(n&&"ddd"===e&&this._shortWeekdaysParse[i].test(t))return i;if(n&&"dd"===e&&this._minWeekdaysParse[i].test(t))return i;if(!n&&this._weekdaysParse[i].test(t))return i}},on.weekdaysRegex=function(t){return this._weekdaysParseExact?(d(this,"_weekdaysRegex")||Kt.call(this),t?this._weekdaysStrictRegex:this._weekdaysRegex):(d(this,"_weekdaysRegex")||(this._weekdaysRegex=Wt),this._weekdaysStrictRegex&&t?this._weekdaysStrictRegex:this._weekdaysRegex)},on.weekdaysShortRegex=function(t){return this._weekdaysParseExact?(d(this,"_weekdaysRegex")||Kt.call(this),t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(d(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=Gt),this._weekdaysShortStrictRegex&&t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)},on.weekdaysMinRegex=function(t){return this._weekdaysParseExact?(d(this,"_weekdaysRegex")||Kt.call(this),t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(d(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=Yt),this._weekdaysMinStrictRegex&&t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)},on.isPM=function(t){return"p"===(t+"").toLowerCase().charAt(0)},on.meridiem=function(t,e,n){return 11<t?n?"pm":"PM":n?"am":"AM"},re("en",{ordinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(t){var e=t%10;return t+(1===$(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th")}}),h.lang=n("moment.lang is deprecated. Use moment.locale instead.",re),h.langData=n("moment.langData is deprecated. Use moment.localeData instead.",se);var ln=Math.abs;function un(t,e,n,i){var o=Le(e,n);return t._milliseconds+=i*o._milliseconds,t._days+=i*o._days,t._months+=i*o._months,t._bubble()}function cn(t){return t<0?Math.floor(t):Math.ceil(t)}function pn(t){return 4800*t/146097}function hn(t){return 146097*t/4800}function dn(t){return function(){return this.as(t)}}var fn=dn("ms"),gn=dn("s"),mn=dn("m"),vn=dn("h"),yn=dn("d"),bn=dn("w"),wn=dn("M"),xn=dn("y");function $n(t){return function(){return this._data[t]}}var _n=$n("milliseconds"),kn=$n("seconds"),Cn=$n("minutes"),Sn=$n("hours"),Tn=$n("days"),An=$n("months"),Dn=$n("years");var Mn=Math.round,En={s:45,m:45,h:22,d:26,M:11};var Pn=Math.abs;function On(){var t,e,n=Pn(this._milliseconds)/1e3,i=Pn(this._days),o=Pn(this._months);e=x((t=x(n/60))/60),n%=60,t%=60;var r=x(o/12),a=o%=12,s=i,l=e,u=t,c=n,p=this.asSeconds();return p?(p<0?"-":"")+"P"+(r?r+"Y":"")+(a?a+"M":"")+(s?s+"D":"")+(l||u||c?"T":"")+(l?l+"H":"")+(u?u+"M":"")+(c?c+"S":""):"P0D"}var In=Ce.prototype;return In.abs=function(){var t=this._data;return this._milliseconds=ln(this._milliseconds),this._days=ln(this._days),this._months=ln(this._months),t.milliseconds=ln(t.milliseconds),t.seconds=ln(t.seconds),t.minutes=ln(t.minutes),t.hours=ln(t.hours),t.months=ln(t.months),t.years=ln(t.years),this},In.add=function(t,e){return un(this,t,e,1)},In.subtract=function(t,e){return un(this,t,e,-1)},In.as=function(t){var e,n,i=this._milliseconds;if("month"===(t=P(t))||"year"===t)return e=this._days+i/864e5,n=this._months+pn(e),"month"===t?n:n/12;switch(e=this._days+Math.round(hn(this._months)),t){case"week":return e/7+i/6048e5;case"day":return e+i/864e5;case"hour":return 24*e+i/36e5;case"minute":return 1440*e+i/6e4;case"second":return 86400*e+i/1e3;case"millisecond":return Math.floor(864e5*e)+i;default:throw new Error("Unknown unit "+t)}},In.asMilliseconds=fn,In.asSeconds=gn,In.asMinutes=mn,In.asHours=vn,In.asDays=yn,In.asWeeks=bn,In.asMonths=wn,In.asYears=xn,In.valueOf=function(){return this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*$(this._months/12)},In._bubble=function(){var t,e,n,i,o,r=this._milliseconds,a=this._days,s=this._months,l=this._data;return 0<=r&&0<=a&&0<=s||r<=0&&a<=0&&s<=0||(r+=864e5*cn(hn(s)+a),s=a=0),l.milliseconds=r%1e3,t=x(r/1e3),l.seconds=t%60,e=x(t/60),l.minutes=e%60,n=x(e/60),l.hours=n%24,s+=o=x(pn(a+=x(n/24))),a-=cn(hn(o)),i=x(s/12),s%=12,l.days=a,l.months=s,l.years=i,this},In.get=function(t){return this[(t=P(t))+"s"]()},In.milliseconds=_n,In.seconds=kn,In.minutes=Cn,In.hours=Sn,In.days=Tn,In.weeks=function(){return x(this.days()/7)},In.months=An,In.years=Dn,In.humanize=function(t){var e,n,i,o,r,a,s,l,u,c,p,h=this.localeData(),d=(n=!t,i=h,o=Le(e=this).abs(),r=Mn(o.as("s")),a=Mn(o.as("m")),s=Mn(o.as("h")),l=Mn(o.as("d")),u=Mn(o.as("M")),c=Mn(o.as("y")),(p=r<En.s&&["s",r]||a<=1&&["m"]||a<En.m&&["mm",a]||s<=1&&["h"]||s<En.h&&["hh",s]||l<=1&&["d"]||l<En.d&&["dd",l]||u<=1&&["M"]||u<En.M&&["MM",u]||c<=1&&["y"]||["yy",c])[2]=n,p[3]=0<+e,p[4]=i,function(t,e,n,i,o){return o.relativeTime(e||1,!!n,t,i)}.apply(null,p));return t&&(d=h.pastFuture(+this,d)),h.postformat(d)},In.toISOString=On,In.toString=On,In.toJSON=On,In.locale=He,In.localeData=qe,In.toIsoString=n("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",On),In.lang=Ve,V("X",0,0,"unix"),V("x",0,0,"valueOf"),ct("x",rt),ct("X",/[+-]?\d+(\.\d{1,3})?/),ft("X",function(t,e,n){n._d=new Date(1e3*parseFloat(t,10))}),ft("x",function(t,e,n){n._d=new Date($(t))}),h.version="2.15.1",t=xe,h.fn=en,h.min=function(){return ke("isBefore",[].slice.call(arguments,0))},h.max=function(){return ke("isAfter",[].slice.call(arguments,0))},h.now=function(){return Date.now?Date.now():+new Date},h.utc=f,h.unix=function(t){return xe(1e3*t)},h.months=function(t,e){return an(t,e,"months")},h.isDate=u,h.locale=re,h.invalid=v,h.duration=Le,h.isMoment=w,h.weekdays=function(t,e,n){return sn(t,e,n,"weekdays")},h.parseZone=function(){return xe.apply(null,arguments).parseZone()},h.localeData=se,h.isDuration=Se,h.monthsShort=function(t,e){return an(t,e,"monthsShort")},h.weekdaysMin=function(t,e,n){return sn(t,e,n,"weekdaysMin")},h.defineLocale=ae,h.updateLocale=function(t,e){if(null!=e){var n,i=ee;null!=ne[t]&&(i=ne[t]._config),(n=new D(e=A(i,e))).parentLocale=ne[t],ne[t]=n,re(t)}else null!=ne[t]&&(null!=ne[t].parentLocale?ne[t]=ne[t].parentLocale:null!=ne[t]&&delete ne[t]);return ne[t]},h.locales=function(){return i(ne)},h.weekdaysShort=function(t,e,n){return sn(t,e,n,"weekdaysShort")},h.normalizeUnits=P,h.relativeTimeRounding=function(t){return void 0===t?Mn:"function"==typeof t&&(Mn=t,!0)},h.relativeTimeThreshold=function(t,e){return void 0!==En[t]&&(void 0===e?En[t]:(En[t]=e,!0))},h.calendarFormat=function(t,e){var n=t.diff(e,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"},h.prototype=en,h}),function(t,e){"use strict";angular.module("toaster",[]).constant("toasterConfig",{limit:0,"tap-to-dismiss":!0,"close-button":!1,"close-html":'<button class="toast-close-button" type="button">&times;</button>',"newest-on-top":!0,"time-out":5e3,"icon-classes":{error:"toast-error",info:"toast-info",wait:"toast-wait",success:"toast-success",warning:"toast-warning"},"body-output-type":"","body-template":"toasterBodyTmpl.html","icon-class":"toast-info","position-class":"toast-top-right","title-class":"toast-title","message-class":"toast-message","prevent-duplicates":!1,"mouseover-timer-stop":!0}).run(["$templateCache",function(t){t.put("angularjs-toaster/toast.html",'<div id="toast-container" ng-class="[config.position, config.animation]"><div ng-repeat="toaster in toasters" class="toast" ng-class="toaster.type" ng-click="click($event, toaster)" ng-mouseover="stopTimer(toaster)" ng-mouseout="restartTimer(toaster)"><div ng-if="toaster.showCloseButton" ng-click="click($event, toaster, true)" ng-bind-html="toaster.closeHtml"></div><div ng-class="config.title">{{toaster.title}}</div><div ng-class="config.message" ng-switch on="toaster.bodyOutputType"><div ng-switch-when="trustedHtml" ng-bind-html="toaster.html"></div><div ng-switch-when="template"><div ng-include="toaster.bodyTemplate"></div></div><div ng-switch-when="templateWithData"><div ng-include="toaster.bodyTemplate"></div></div><div ng-switch-when="directive"><div directive-template directive-name="{{toaster.html}}" directive-data="{{toaster.directiveData}}"></div></div><div ng-switch-default >{{toaster.body}}</div></div></div></div>')}]).service("toaster",["$rootScope","toasterConfig",function(p,t){var h={newGuid:function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var e=16*Math.random()|0;return("x"==t?e:3&e|8).toString(16)})}};for(var e in this.pop=function(t,e,n,i,o,r,a,s,l,u){if(angular.isObject(t)){var c=t;this.toast={type:c.type,title:c.title,body:c.body,timeout:c.timeout,bodyOutputType:c.bodyOutputType,clickHandler:c.clickHandler,showCloseButton:c.showCloseButton,closeHtml:c.closeHtml,toastId:c.toastId,onShowCallback:c.onShowCallback,onHideCallback:c.onHideCallback,directiveData:c.directiveData,tapToDismiss:c.tapToDismiss},a=c.toasterId}else this.toast={type:t,title:e,body:n,timeout:i,bodyOutputType:o,clickHandler:r,showCloseButton:s,toastId:l,onHideCallback:u};return this.toast.toastId&&this.toast.toastId.length||(this.toast.toastId=h.newGuid()),p.$emit("toaster-newToast",a,this.toast.toastId),{toasterId:a,toastId:this.toast.toastId}},this.clear=function(t,e){angular.isObject(t)?p.$emit("toaster-clearToasts",t.toasterId,t.toastId):p.$emit("toaster-clearToasts",t,e)},t["icon-classes"])this[e]=n(e);function n(u){return function(t,e,n,i,o,r,a,s,l){return angular.isString(t)?this.pop(u,t,e,n,i,o,r,a,s,l):this.pop(angular.extend(t,{type:u}))}}}]).factory("toasterEventRegistry",["$rootScope",function(t){var e,n=null,i=null,r=[],a=[];return{setup:(e={setup:function(){n||(n=t.$on("toaster-newToast",function(t,e,n){for(var i=0,o=r.length;i<o;i++)r[i](t,e,n)})),i||(i=t.$on("toaster-clearToasts",function(t,e,n){for(var i=0,o=a.length;i<o;i++)a[i](t,e,n)}))},subscribeToNewToastEvent:function(t){r.push(t)},subscribeToClearToastsEvent:function(t){a.push(t)},unsubscribeToNewToastEvent:function(t){var e=r.indexOf(t);0<=e&&r.splice(e,1),0===r.length&&(n(),n=null)},unsubscribeToClearToastsEvent:function(t){var e=a.indexOf(t);0<=e&&a.splice(e,1),0===a.length&&(i(),i=null)}}).setup,subscribeToNewToastEvent:e.subscribeToNewToastEvent,subscribeToClearToastsEvent:e.subscribeToClearToastsEvent,unsubscribeToNewToastEvent:e.unsubscribeToNewToastEvent,unsubscribeToClearToastsEvent:e.unsubscribeToClearToastsEvent}}]).directive("directiveTemplate",["$compile","$injector",function(s,l){return{restrict:"A",scope:{directiveName:"@directiveName",directiveData:"@directiveData"},replace:!0,link:function(o,r,a){o.$watch("directiveName",function(e){if(angular.isUndefined(e)||e.length<=0)throw new Error("A valid directive name must be provided via the toast body argument when using bodyOutputType: directive");var t;try{t=l.get(a.$normalize(e)+"Directive")}catch(t){throw new Error(e+" could not be found. The name should appear as it exists in the markup, not camelCased as it would appear in the directive declaration, e.g. directive-name not directiveName.")}var n=t[0];if(!0!==n.scope&&n.scope)throw new Error("Cannot use a directive with an isolated scope. The scope must be either true or falsy (e.g. false/null/undefined). Occurred for directive "+e+".");if(n.restrict.indexOf("A")<0)throw new Error('Directives must be usable as attributes. Add "A" to the restrict option (or remove the option entirely). Occurred for directive '+e+".");o.directiveData&&(o.directiveData=angular.fromJson(o.directiveData));var i=s("<div "+e+"></div>")(o);r.append(i)})}}}]).directive("toasterContainer",["$parse","$rootScope","$interval","$sce","toasterConfig","toaster","toasterEventRegistry",function(c,t,r,p,n,a,s){return{replace:!0,restrict:"EA",scope:!0,link:function(l,t,e){var u;function i(t){var e=l.toasters[t];e.timeoutPromise&&r.cancel(e.timeoutPromise),l.toasters.splice(t,1),angular.isFunction(e.onHideCallback)&&e.onHideCallback()}function o(t){return angular.isUndefined(t)||null===t}u=angular.extend({},n,l.$eval(e.toasterOptions)),l.config={toasterId:u["toaster-id"],position:u["position-class"],title:u["title-class"],message:u["message-class"],tap:u["tap-to-dismiss"],closeButton:u["close-button"],closeHtml:u["close-html"],animation:u["animation-class"],mouseoverTimer:u["mouseover-timer-stop"]},l.$on("$destroy",function(){s.unsubscribeToNewToastEvent(l._onNewToast),s.unsubscribeToClearToastsEvent(l._onClearToasts)}),l.configureTimer=function(t){var e,n,i=angular.isNumber(t.timeout)?t.timeout:u["time-out"];"object"==typeof i&&(i=i[t.type]),0<i&&(n=i,(e=t).timeoutPromise=r(function(){l.removeToast(e.toastId)},n,1))},l.removeToast=function(t){var e,n;for(e=0,n=l.toasters.length;e<n;e++)if(l.toasters[e].toastId===t){i(e);break}},l.toasters=[],l._onNewToast=function(t,e,n){(o(l.config.toasterId)&&o(e)||!o(l.config.toasterId)&&!o(e)&&l.config.toasterId==e)&&function(t,e){if(t.type=u["icon-classes"][t.type],t.type||(t.type=u["icon-class"]),!0===u["prevent-duplicates"]&&l.toasters.length){if(l.toasters[l.toasters.length-1].body===t.body)return;var n,i,o=!1;for(n=0,i=l.toasters.length;n<i;n++)if(l.toasters[n].toastId===e){o=!0;break}if(o)return}var r=u["close-button"];if("boolean"==typeof t.showCloseButton);else if("boolean"==typeof r)t.showCloseButton=r;else if("object"==typeof r){var a=r[t.type];null!=a&&(t.showCloseButton=a)}else t.showCloseButton=!1;switch(t.showCloseButton&&(t.closeHtml=p.trustAsHtml(t.closeHtml||l.config.closeHtml)),t.bodyOutputType=t.bodyOutputType||u["body-output-type"],t.bodyOutputType){case"trustedHtml":t.html=p.trustAsHtml(t.body);break;case"template":t.bodyTemplate=t.body||u["body-template"];break;case"templateWithData":var s=c(t.body||u["body-template"])(l);t.bodyTemplate=s.template,t.data=s.data;break;case"directive":t.html=t.body}l.configureTimer(t),!0===u["newest-on-top"]?(l.toasters.unshift(t),0<u.limit&&l.toasters.length>u.limit&&l.toasters.pop()):(l.toasters.push(t),0<u.limit&&l.toasters.length>u.limit&&l.toasters.shift()),angular.isFunction(t.onShowCallback)&&t.onShowCallback()}(a.toast,n)},l._onClearToasts=function(t,e,n){("*"==e||o(l.config.toasterId)&&o(e)||!o(l.config.toasterId)&&!o(e)&&l.config.toasterId==e)&&function(t){for(var e=l.toasters.length-1;0<=e;e--)o(t)?i(e):l.toasters[e].toastId==t&&i(e)}(n)},s.setup(),s.subscribeToNewToastEvent(l._onNewToast),s.subscribeToClearToastsEvent(l._onClearToasts)},controller:["$scope","$element","$attrs",function(o,t,e){o.stopTimer=function(t){!0===o.config.mouseoverTimer&&t.timeoutPromise&&(r.cancel(t.timeoutPromise),t.timeoutPromise=null)},o.restartTimer=function(t){!0===o.config.mouseoverTimer?t.timeoutPromise||o.configureTimer(t):null===t.timeoutPromise&&o.removeToast(t.toastId)},o.click=function(t,e,n){if(t.stopPropagation(),!0===("boolean"==typeof e.tapToDismiss?e.tapToDismiss:o.config.tap)||!0===e.showCloseButton&&!0===n){var i=!0;e.clickHandler&&(angular.isFunction(e.clickHandler)?i=e.clickHandler(e,n):angular.isFunction(o.$parent.$eval(e.clickHandler))?i=o.$parent.$eval(e.clickHandler)(e,n):console.log("TOAST-NOTE: Your click handler is not inside a parent scope of toaster-container.")),i&&o.removeToast(e.toastId)}}}],templateUrl:"angularjs-toaster/toast.html"}}])}(window,document),function(){}.call(this),function(){null==window.Set&&(window.Set=function(){function t(){this.clear()}return t.prototype.clear=function(){return this.values=[]},t.prototype.has=function(t){return-1!==this.values.indexOf(t)},t.prototype.add=function(t){return this.has(t)||this.values.push(t),this},t.prototype.delete=function(t){var e;return-1!==(e=this.values.indexOf(t))&&(this.values.splice(e,1),!0)},t.prototype.forEach=function(){var t;return(t=this.values).forEach.apply(t,arguments)},t}())}.call(this),function(t){function i(){}function r(t){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof t)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],c(t,this)}function o(n,i){for(;3===n._state;)n=n._value;return 0===n._state?void n._deferreds.push(i):(n._handled=!0,void p(function(){var t=1===n._state?i.onFulfilled:i.onRejected;if(null!==t){var e;try{e=t(n._value)}catch(t){return void s(i.promise,t)}a(i.promise,e)}else(1===n._state?a:s)(i.promise,n._value)}))}function a(e,t){try{if(t===e)throw new TypeError("A promise cannot be resolved with itself.");if(t&&("object"==typeof t||"function"==typeof t)){var n=t.then;if(t instanceof r)return e._state=3,e._value=t,void l(e);if("function"==typeof n)return void c((i=n,o=t,function(){i.apply(o,arguments)}),e)}e._state=1,e._value=t,l(e)}catch(t){s(e,t)}var i,o}function s(t,e){t._state=2,t._value=e,l(t)}function l(t){2===t._state&&0===t._deferreds.length&&setTimeout(function(){t._handled||h(t._value)},1);for(var e=0,n=t._deferreds.length;e<n;e++)o(t,t._deferreds[e]);t._deferreds=null}function u(t,e,n){this.onFulfilled="function"==typeof t?t:null,this.onRejected="function"==typeof e?e:null,this.promise=n}function c(t,e){var n=!1;try{t(function(t){n||(n=!0,a(e,t))},function(t){n||(n=!0,s(e,t))})}catch(t){if(n)return;n=!0,s(e,t)}}var e=setTimeout,p="function"==typeof setImmediate&&setImmediate||function(t){e(t,1)},h=function(t){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",t)};r.prototype.catch=function(t){return this.then(null,t)},r.prototype.then=function(t,e){var n=new r(i);return o(this,new u(t,e,n)),n},r.all=function(t){var s=Array.prototype.slice.call(t);return new r(function(i,o){function r(e,t){try{if(t&&("object"==typeof t||"function"==typeof t)){var n=t.then;if("function"==typeof n)return void n.call(t,function(t){r(e,t)},o)}s[e]=t,0==--a&&i(s)}catch(t){o(t)}}if(0===s.length)return i([]);for(var a=s.length,t=0;t<s.length;t++)r(t,s[t])})},r.resolve=function(e){return e&&"object"==typeof e&&e.constructor===r?e:new r(function(t){t(e)})},r.reject=function(n){return new r(function(t,e){e(n)})},r.race=function(o){return new r(function(t,e){for(var n=0,i=o.length;n<i;n++)o[n].then(t,e)})},r._setImmediateFn=function(t){p=t},r._setUnhandledRejectionFn=function(t){h=t},"undefined"!=typeof module&&module.exports?module.exports=r:t.Promise||(t.Promise=r)}(this),"undefined"==typeof WeakMap&&function(){var i=Object.defineProperty,t=Date.now()%1e9,e=function(){this.name="__st"+(1e9*Math.random()>>>0)+t+++"__"};e.prototype={set:function(t,e){var n=t[this.name];return n&&n[0]===t?n[1]=e:i(t,this.name,{value:[t,e],writable:!0}),this},get:function(t){var e;return(e=t[this.name])&&e[0]===t?e[1]:void 0},delete:function(t){var e=t[this.name];return!(!e||e[0]!==t)&&(e[0]=e[1]=void 0,!0)},has:function(t){var e=t[this.name];return!!e&&e[0]===t}},window.WeakMap=e}(),function(t){function r(){c=!1;var t=m;m=[],t.sort(function(t,e){return t.uid_-e.uid_});var i=!1;t.forEach(function(t){var n,e=t.takeRecords();(n=t).nodes_.forEach(function(t){var e=u.get(t);e&&e.forEach(function(t){t.observer===n&&t.removeTransientObservers()})}),e.length&&(t.callback_(e,t),i=!0)}),i&&r()}function p(t,e){for(var n=t;n;n=n.parentNode){var i=u.get(n);if(i)for(var o=0;o<i.length;o++){var r=i[o],a=r.options;if(n===t||a.subtree){var s=e(a);s&&r.enqueue(s)}}}}function e(t){this.callback_=t,this.nodes_=[],this.records_=[],this.uid_=++v}function i(t,e){this.type=t,this.target=e,this.addedNodes=[],this.removedNodes=[],this.previousSibling=null,this.nextSibling=null,this.attributeName=null,this.attributeNamespace=null,this.oldValue=null}function h(t,e){return f=new i(t,e)}function d(t){return g||((n=new i((e=f).type,e.target)).addedNodes=e.addedNodes.slice(),n.removedNodes=e.removedNodes.slice(),n.previousSibling=e.previousSibling,n.nextSibling=e.nextSibling,n.attributeName=e.attributeName,n.attributeNamespace=e.attributeNamespace,n.oldValue=e.oldValue,(g=n).oldValue=t,g);var e,n}function a(t,e){return t===e?t:g&&((n=t)===g||n===f)?g:null;var n}function s(t,e,n){this.observer=t,this.target=e,this.options=n,this.transientObservedNodes=[]}if(!t.JsMutationObserver){var l,u=new WeakMap;if(/Trident|Edge/.test(navigator.userAgent))l=setTimeout;else if(window.setImmediate)l=window.setImmediate;else{var n=[],o=String(Math.random());window.addEventListener("message",function(t){if(t.data===o){var e=n;n=[],e.forEach(function(t){t()})}}),l=function(t){n.push(t),window.postMessage(o,"*")}}var f,g,c=!1,m=[],v=0;e.prototype={observe:function(t,e){if(n=t,t=window.ShadowDOMPolyfill&&window.ShadowDOMPolyfill.wrapIfNeeded(n)||n,!e.childList&&!e.attributes&&!e.characterData||e.attributeOldValue&&!e.attributes||e.attributeFilter&&e.attributeFilter.length&&!e.attributes||e.characterDataOldValue&&!e.characterData)throw new SyntaxError;var n,i=u.get(t);i||u.set(t,i=[]);for(var o,r=0;r<i.length;r++)if(i[r].observer===this){(o=i[r]).removeListeners(),o.options=e;break}o||(o=new s(this,t,e),i.push(o),this.nodes_.push(t)),o.addListeners()},disconnect:function(){this.nodes_.forEach(function(t){for(var e=u.get(t),n=0;n<e.length;n++){var i=e[n];if(i.observer===this){i.removeListeners(),e.splice(n,1);break}}},this),this.records_=[]},takeRecords:function(){var t=this.records_;return this.records_=[],t}},s.prototype={enqueue:function(t){var e,n=this.observer.records_,i=n.length;if(0<n.length){var o=a(n[i-1],t);if(o)return void(n[i-1]=o)}else e=this.observer,m.push(e),c||(c=!0,l(r));n[i]=t},addListeners:function(){this.addListeners_(this.target)},addListeners_:function(t){var e=this.options;e.attributes&&t.addEventListener("DOMAttrModified",this,!0),e.characterData&&t.addEventListener("DOMCharacterDataModified",this,!0),e.childList&&t.addEventListener("DOMNodeInserted",this,!0),(e.childList||e.subtree)&&t.addEventListener("DOMNodeRemoved",this,!0)},removeListeners:function(){this.removeListeners_(this.target)},removeListeners_:function(t){var e=this.options;e.attributes&&t.removeEventListener("DOMAttrModified",this,!0),e.characterData&&t.removeEventListener("DOMCharacterDataModified",this,!0),e.childList&&t.removeEventListener("DOMNodeInserted",this,!0),(e.childList||e.subtree)&&t.removeEventListener("DOMNodeRemoved",this,!0)},addTransientObserver:function(t){if(t!==this.target){this.addListeners_(t),this.transientObservedNodes.push(t);var e=u.get(t);e||u.set(t,e=[]),e.push(this)}},removeTransientObservers:function(){var t=this.transientObservedNodes;this.transientObservedNodes=[],t.forEach(function(t){this.removeListeners_(t);for(var e=u.get(t),n=0;n<e.length;n++)if(e[n]===this){e.splice(n,1);break}},this)},handleEvent:function(t){switch(t.stopImmediatePropagation(),t.type){case"DOMAttrModified":var e=t.attrName,n=t.relatedNode.namespaceURI,i=t.target;(r=new h("attributes",i)).attributeName=e,r.attributeNamespace=n;var o=t.attrChange===MutationEvent.ADDITION?null:t.prevValue;p(i,function(t){return!t.attributes||t.attributeFilter&&t.attributeFilter.length&&-1===t.attributeFilter.indexOf(e)&&-1===t.attributeFilter.indexOf(n)?void 0:t.attributeOldValue?d(o):r});break;case"DOMCharacterDataModified":var r=h("characterData",i=t.target);o=t.prevValue;p(i,function(t){return t.characterData?t.characterDataOldValue?d(o):r:void 0});break;case"DOMNodeRemoved":this.addTransientObserver(t.target);case"DOMNodeInserted":var a,s,l=t.target;s="DOMNodeInserted"===t.type?(a=[l],[]):(a=[],[l]);var u=l.previousSibling,c=l.nextSibling;(r=h("childList",t.target.parentNode)).addedNodes=a,r.removedNodes=s,r.previousSibling=u,r.nextSibling=c,p(t.relatedNode,function(t){return t.childList?r:void 0})}f=g=void 0}},t.JsMutationObserver=e,t.MutationObserver||((t.MutationObserver=e)._isPolyfilled=!0)}}(self),function(){"use strict";if(!window.performance){var t=Date.now();window.performance={now:function(){return Date.now()-t}}}var e,n;if(window.requestAnimationFrame||(window.requestAnimationFrame=(e=window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame)?function(t){return e(function(){t(performance.now())})}:function(t){return window.setTimeout(t,1e3/60)}),window.cancelAnimationFrame||(window.cancelAnimationFrame=window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||function(t){clearTimeout(t)}),!((n=document.createEvent("Event")).initEvent("foo",!0,!0),n.preventDefault(),n.defaultPrevented)){var i=Event.prototype.preventDefault;Event.prototype.preventDefault=function(){this.cancelable&&(i.call(this),Object.defineProperty(this,"defaultPrevented",{get:function(){return!0},configurable:!0}))}}var o=/Trident/.test(navigator.userAgent);if((!window.CustomEvent||o&&"function"!=typeof window.CustomEvent)&&(window.CustomEvent=function(t,e){e=e||{};var n=document.createEvent("CustomEvent");return n.initCustomEvent(t,Boolean(e.bubbles),Boolean(e.cancelable),e.detail),n},window.CustomEvent.prototype=window.Event.prototype),!window.Event||o&&"function"!=typeof window.Event){var r=window.Event;window.Event=function(t,e){e=e||{};var n=document.createEvent("Event");return n.initEvent(t,Boolean(e.bubbles),Boolean(e.cancelable)),n},window.Event.prototype=r.prototype}}(window.WebComponents),window.CustomElements=window.CustomElements||{flags:{}},function(e){var t=e.flags,n=[];e.addModule=function(t){n.push(t)},e.initializeModules=function(){n.forEach(function(t){t(e)})},e.hasNative=Boolean(document.registerElement),e.isIE=/Trident/.test(navigator.userAgent),e.useNative=!t.register&&e.hasNative&&!window.ShadowDOMPolyfill&&(!window.HTMLImports||window.HTMLImports.useNative)}(window.CustomElements),window.CustomElements.addModule(function(t){function i(t,e){(function t(e,n,i){var o=e.firstElementChild;if(!o)for(o=e.firstChild;o&&o.nodeType!==Node.ELEMENT_NODE;)o=o.nextSibling;for(;o;)!0!==n(o,i)&&t(o,n,i),o=o.nextElementSibling;return null})(t,function(t){return!!e(t)||void n(t,e)}),n(t,e)}function n(t,e){for(var n=t.shadowRoot;n;)i(n,e),n=n.olderShadowRoot}var l=window.HTMLImports?window.HTMLImports.IMPORT_LINK_TYPE:"none";t.forDocumentTree=function(t,e){!function t(e,n,i){if(e=window.wrap(e),!(0<=i.indexOf(e))){i.push(e);for(var o,r=e.querySelectorAll("link[rel="+l+"]"),a=0,s=r.length;a<s&&(o=r[a]);a++)o.import&&t(o.import,n,i);n(e)}}(t,e,[])},t.forSubtree=i}),window.CustomElements.addModule(function(n){function a(t,e){return i(t,e)||o(t,e)}function i(t,e){return!!n.upgrade(t,e)||void(e&&s(t))}function o(t,e){g(t,function(t){return!!i(t,e)||void 0})}function e(t){b.push(t),y||(y=!0,setTimeout(r))}function r(){y=!1;for(var t,e=b,n=0,i=e.length;n<i&&(t=e[n]);n++)t();b=[]}function s(t){v?e(function(){l(t)}):l(t)}function l(t){t.__upgraded__&&!t.__attached&&(t.__attached=!0,t.attachedCallback&&t.attachedCallback())}function u(t){v?e(function(){c(t)}):c(t)}function c(t){t.__upgraded__&&t.__attached&&(t.__attached=!1,t.detachedCallback&&t.detachedCallback())}function p(t,e){if(f.dom){var n=e[0];if(n&&"childList"===n.type&&n.addedNodes&&n.addedNodes){for(var i=n.addedNodes[0];i&&i!==document&&!i.host;)i=i.parentNode;var o=i&&(i.URL||i._URL||i.host&&i.host.localName)||"";o=o.split("/?").shift().split("/").pop()}console.group("mutations (%d) [%s]",e.length,o||"")}var r=function(t){for(var e=t,n=window.wrap(document);e;){if(e==n)return!0;e=e.parentNode||e.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&e.host}}(t);e.forEach(function(t){"childList"===t.type&&(w(t.addedNodes,function(t){t.localName&&a(t,r)}),w(t.removedNodes,function(t){var e;t.localName&&(u(e=t),g(e,function(t){u(t)}))}))}),f.dom&&console.groupEnd()}function h(t){if(!t.__observer){var e=new MutationObserver(p.bind(this,t));e.observe(t,{childList:!0,subtree:!0}),t.__observer=e}}function d(t){t=window.wrap(t),f.dom&&console.group("upgradeDocument: ",t.baseURI.split("/").pop()),a(t,t===window.wrap(document)),h(t),f.dom&&console.groupEnd()}var f=n.flags,g=n.forSubtree,m=n.forDocumentTree,v=window.MutationObserver._isPolyfilled&&f["throttle-attached"];n.hasPolyfillMutations=v,n.hasThrottledAttached=v;var y=!1,b=[],w=Array.prototype.forEach.call.bind(Array.prototype.forEach),x=Element.prototype.createShadowRoot;x&&(Element.prototype.createShadowRoot=function(){var t=x.call(this);return window.CustomElements.watchShadow(this),t}),n.watchShadow=function(t){if(t.shadowRoot&&!t.shadowRoot.__watched){f.dom&&console.log("watching shadow-root for: ",t.localName);for(var e=t.shadowRoot;e;)h(e),e=e.olderShadowRoot}},n.upgradeDocumentTree=function(t){m(t,d)},n.upgradeDocument=d,n.upgradeSubtree=o,n.upgradeAll=a,n.attached=s,n.takeRecords=function(t){for((t=window.wrap(t))||(t=window.wrap(document));t.parentNode;)t=t.parentNode;var e=t.__observer;e&&(p(t,e.takeRecords()),r())}}),window.CustomElements.addModule(function(o){function r(t,e,n){return s.upgrade&&console.group("upgrade:",t.localName),e.is&&t.setAttribute("is",e.is),a(t,e),t.__upgraded__=!0,(i=t).createdCallback&&i.createdCallback(),n&&o.attached(t),o.upgradeSubtree(t,n),s.upgrade&&console.groupEnd(),t;var i}function a(t,e){Object.__proto__||function(t,e,n){for(var i={},o=e;o!==n&&o!==HTMLElement.prototype;){for(var r,a=Object.getOwnPropertyNames(o),s=0;r=a[s];s++)i[r]||(Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(o,r)),i[r]=1);o=Object.getPrototypeOf(o)}}(t,e.prototype,e.native),t.__proto__=e.prototype}var s=o.flags;o.upgrade=function(t,e){if("template"===t.localName&&window.HTMLTemplateElement&&HTMLTemplateElement.decorate&&HTMLTemplateElement.decorate(t),!t.__upgraded__&&t.nodeType===Node.ELEMENT_NODE){var n=t.getAttribute("is"),i=o.getRegisteredDefinition(t.localName)||o.getRegisteredDefinition(n);if(i&&(n&&i.tag==t.localName||!n&&!i.extends))return r(t,i,e)}},o.upgradeWithDefinition=r,o.implementPrototype=a}),window.CustomElements.addModule(function(a){function s(t,e,n){t=t.toLowerCase();var i=this.getAttribute(t);n.apply(this,arguments);var o=this.getAttribute(t);this.attributeChangedCallback&&o!==i&&this.attributeChangedCallback(t,i,o)}function l(t){return t?h[t.toLowerCase()]:void 0}function o(t,e){t&&(t=t.toLowerCase()),e&&(e=e.toLowerCase());var n,i=l(e||t);if(i){if(t==i.tag&&e==i.is)return new i.ctor;if(!e&&!i.is)return new i.ctor}return e?(n=o(t)).setAttribute("is",e):(n=d(t),0<=t.indexOf("-")&&r(n,HTMLElement)),n}function t(t,e){var n=t[e];t[e]=function(){var t=n.apply(this,arguments);return i(t),t}}var e,u=(a.isIE,a.upgradeDocumentTree),i=a.upgradeAll,c=a.upgradeWithDefinition,r=a.implementPrototype,n=a.useNative,p=["annotation-xml","color-profile","font-face","font-face-src","font-face-uri","font-face-format","font-face-name","missing-glyph"],h={},d=document.createElement.bind(document),f=document.createElementNS.bind(document);e=Object.__proto__||n?function(t,e){return t instanceof e}:function(t,e){if(t instanceof e)return!0;for(var n=t;n;){if(n===e.prototype)return!0;n=n.__proto__}return!1},t(Node.prototype,"cloneNode"),t(document,"importNode"),document.registerElement=function(t,e){var n,i,o,r=e||{};if(!t)throw new Error("document.registerElement: first argument `name` must not be empty");if(t.indexOf("-")<0)throw new Error("document.registerElement: first argument ('name') must contain a dash ('-'). Argument provided was '"+String(t)+"'.");if(function(t){for(var e=0;e<p.length;e++)if(t===p[e])return!0}(t))throw new Error("Failed to execute 'registerElement' on 'Document': Registration failed for type '"+String(t)+"'. The type name is invalid.");if(l(t))throw new Error("DuplicateDefinitionError: a type with name '"+String(t)+"' is already registered");return r.prototype||(r.prototype=Object.create(HTMLElement.prototype)),r.__name=t.toLowerCase(),r.extends&&(r.extends=r.extends.toLowerCase()),r.lifecycle=r.lifecycle||{},r.ancestry=function t(e){var n=l(e);return n?t(n.extends).concat([n]):[]}(r.extends),function(t){for(var e,n=t.extends,i=0;e=t.ancestry[i];i++)n=e.is&&e.tag;t.tag=n||t.__name,n&&(t.is=t.__name)}(r),function(t){if(!Object.__proto__){var e=HTMLElement.prototype;if(t.is){var n=document.createElement(t.tag);e=Object.getPrototypeOf(n)}for(var i,o=t.prototype,r=!1;o;)o==e&&(r=!0),(i=Object.getPrototypeOf(o))&&(o.__proto__=i),o=i;r||console.warn(t.tag+" prototype not found in prototype chain for "+t.is),t.native=e}}(r),function(t){if(!t.setAttribute._polyfilled){var n=t.setAttribute;t.setAttribute=function(t,e){s.call(this,t,e,n)};var e=t.removeAttribute;t.removeAttribute=function(t){s.call(this,t,null,e)},t.setAttribute._polyfilled=!0}}(r.prototype),i=r.__name,o=r,h[i]=o,r.ctor=(n=r,function(){return c(d((t=n).tag),t);var t}),r.ctor.prototype=r.prototype,r.prototype.constructor=r.ctor,a.ready&&u(document),r.ctor},document.createElement=o,document.createElementNS=function(t,e,n){return"http://www.w3.org/1999/xhtml"===t?o(e,n):f(t,e)},a.registry=h,a.instanceof=e,a.reservedTagList=p,a.getRegisteredDefinition=l,document.register=document.registerElement}),function(t){function e(){r(window.wrap(document)),window.CustomElements.ready=!0,(window.requestAnimationFrame||function(t){setTimeout(t,16)})(function(){setTimeout(function(){window.CustomElements.readyTime=Date.now(),window.HTMLImports&&(window.CustomElements.elapsed=window.CustomElements.readyTime-window.HTMLImports.readyTime),document.dispatchEvent(new CustomEvent("WebComponentsReady",{bubbles:!0}))})})}var n=t.useNative,i=t.initializeModules;if(t.isIE,n){var o=function(){};t.watchShadow=o,t.upgrade=o,t.upgradeAll=o,t.upgradeDocumentTree=o,t.upgradeSubtree=o,t.takeRecords=o,t.instanceof=function(t,e){return t instanceof e}}else i();var r=t.upgradeDocumentTree,a=t.upgradeDocument;if(window.wrap||(window.ShadowDOMPolyfill?(window.wrap=window.ShadowDOMPolyfill.wrapIfNeeded,window.unwrap=window.ShadowDOMPolyfill.unwrapIfNeeded):window.wrap=window.unwrap=function(t){return t}),window.HTMLImports&&(window.HTMLImports.__importsParsingHook=function(t){t.import&&a(wrap(t.import))}),"complete"===document.readyState||t.flags.eager)e();else if("interactive"!==document.readyState||window.attachEvent||window.HTMLImports&&!window.HTMLImports.ready){var s=window.HTMLImports&&!window.HTMLImports.ready?"HTMLImportsLoaded":"DOMContentLoaded";window.addEventListener(s,e)}else e()}(window.CustomElements),function(){}.call(this),function(){(function(){(function(){this.Trix={VERSION:"0.10.0",ZERO_WIDTH_SPACE:"\ufeff",NON_BREAKING_SPACE:"",OBJECT_REPLACEMENT_CHARACTER:"",config:{}}}).call(this)}).call(this);var M=this.Trix;(function(){(function(){M.BasicObject=function(){function t(){}var a,s,i;return t.proxyMethod=function(t){var n,i,e,o,r;return e=s(t),n=e.name,o=e.toMethod,r=e.toProperty,i=e.optional,this.prototype[n]=function(){var t,e;return t=null!=o?i?"function"==typeof this[o]?this[o]():void 0:this[o]():null!=r?this[r]:void 0,i?null!=(e=null!=t?t[n]:void 0)?a.call(e,t,arguments):void 0:(e=t[n],a.call(e,t,arguments))}},s=function(t){var e,n;if(!(n=t.match(i)))throw new Error("can't parse @proxyMethod expression: "+t);return e={name:n[4]},null!=n[2]?e.toMethod=n[1]:e.toProperty=n[1],null!=n[3]&&(e.optional=!0),e},a=Function.prototype.apply,i=/^(.+?)(\(\))?(\?)?\.(.+?)$/,t}()}).call(this),function(){var o={}.hasOwnProperty;M.Object=function(t){function e(){this.id=++n}var n;return function(t,e){function n(){this.constructor=t}for(var i in e)o.call(e,i)&&(t[i]=e[i]);n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype}(e,M.BasicObject),n=0,e.fromJSONString=function(t){return this.fromJSON(JSON.parse(t))},e.prototype.hasSameConstructorAs=function(t){return this.constructor===(null!=t?t.constructor:void 0)},e.prototype.isEqualTo=function(t){return this===t},e.prototype.inspect=function(){var t,i,o;return t=function(){var t,e,n;for(i in n=[],e=null!=(t=this.contentsForInspection())?t:{})o=e[i],n.push(i+"="+o);return n}.call(this),"#<"+this.constructor.name+":"+this.id+(t.length?" "+t.join(", "):"")+">"},e.prototype.contentsForInspection=function(){},e.prototype.toJSONString=function(){return JSON.stringify(this)},e.prototype.toUTF16String=function(){return M.UTF16String.box(this)},e.prototype.getCacheKey=function(){return this.id.toString()},e}()}.call(this),function(){M.extend=function(t){var e,n;for(e in t)n=t[e],this[e]=n;return this}}.call(this),function(){var t;M.extend({defer:function(t){return setTimeout(t,1)},memoize:function(e){var n;return n=t++,function(){var t;return null==this.memos&&(this.memos={}),null!=(t=this.memos)[n]?t[n]:t[n]=e.apply(this,arguments)}}}),t=0}.call(this),function(){var s,a;M.extend({normalizeSpaces:function(t){return t.replace(RegExp(""+M.ZERO_WIDTH_SPACE,"g"),"").replace(RegExp(""+M.NON_BREAKING_SPACE,"g")," ")},summarizeStringChange:function(t,e){var n,i,o,r;return t=M.UTF16String.box(t),(e=M.UTF16String.box(e)).length<t.length?(r=(i=a(t,e))[0],n=i[1]):(n=(o=a(e,t))[0],r=o[1]),{added:n,removed:r}}}),a=function(t,e){var n,i,o,r,a;return t.isEqualTo(e)?["",""]:(o=(r=(i=s(t,e)).utf16String.length)?(a=i.offset,n=t.codepoints.slice(0,a).concat(t.codepoints.slice(a+r)),s(e,M.UTF16String.fromCodepoints(n))):s(e,t),[i.utf16String.toString(),o.utf16String.toString()])},s=function(t,e){var n,i,o;for(n=0,i=t.length,o=e.length;n<i&&t.charAt(n).isEqualTo(e.charAt(n));)n++;for(;n+1<i&&t.charAt(i-1).isEqualTo(e.charAt(o-1));)i--,o--;return{utf16String:t.slice(n,i),offset:n}}}.call(this),function(){M.extend({copyObject:function(t){var e,n,i;for(e in null==t&&(t={}),n={},t)i=t[e],n[e]=i;return n},objectsAreEqual:function(t,e){var n;if(null==t&&(t={}),null==e&&(e={}),Object.keys(t).length!==Object.keys(e).length)return!1;for(n in t)if(t[n]!==e[n])return!1;return!0}})}.call(this),function(){var i=[].slice;M.extend({arraysAreEqual:function(t,e){var n,i,o;if(null==t&&(t=[]),null==e&&(e=[]),t.length!==e.length)return!1;for(i=n=0,o=t.length;n<o;i=++n)if(t[i]!==e[i])return!1;return!0},arrayStartsWith:function(t,e){return null==t&&(t=[]),null==e&&(e=[]),M.arraysAreEqual(t.slice(0,e.length),e)},spliceArray:function(){var t,e,n;return e=arguments[0],t=2<=arguments.length?i.call(arguments,1):[],(n=e.slice(0)).splice.apply(n,t),n},summarizeArrayChange:function(t,e){var n,i,o,r,a,s,l,u,c,p,h;for(null==t&&(t=[]),null==e&&(e=[]),n=[],p=[],o=new Set,r=0,l=t.length;r<l;r++)h=t[r],o.add(h);for(i=new Set,a=0,u=e.length;a<u;a++)h=e[a],i.add(h),o.has(h)||n.push(h);for(s=0,c=t.length;s<c;s++)h=t[s],i.has(h)||p.push(h);return{added:n,removed:p}}})}.call(this),function(){var t,e,o,n;o=n=e=t=null,M.extend({getAllAttributeNames:function(){return null!=t?t:t=M.getTextAttributeNames().concat(M.getBlockAttributeNames())},getBlockConfig:function(t){return M.config.blockAttributes[t]},getBlockAttributeNames:function(){return null!=e?e:e=Object.keys(M.config.blockAttributes)},getTextConfig:function(t){return M.config.textAttributes[t]},getTextAttributeNames:function(){return null!=n?n:n=Object.keys(M.config.textAttributes)},getListAttributeNames:function(){var n,i;return null!=o?o:o=function(){var t,e;for(n in e=[],t=M.config.blockAttributes)null!=(i=t[n].listAttribute)&&e.push(i);return e}()}})}.call(this),function(){var d,n,t,e,i,o=[].indexOf||function(t){for(var e=0,n=this.length;e<n;e++)if(e in this&&this[e]===t)return e;return-1};d=document.documentElement,n=null!=(t=null!=(e=null!=(i=d.matchesSelector)?i:d.webkitMatchesSelector)?e:d.msMatchesSelector)?t:d.mozMatchesSelector,M.extend({handleEvent:function(t,e){var n,i,o,r,a,s,l,u,c,p,h;return a=(l=null!=e?e:{}).onElement,r=l.matchingSelector,h=l.withCallback,o=l.inPhase,s=l.preventDefault,c=l.times,n=null!=a?a:d,u=r,h,p="capturing"===o,(i=function(t){var e;return null!=c&&0==--c&&i.destroy(),null!=(e=M.findClosestElementFromNode(t.target,{matchingSelector:u}))&&(null!=h&&h.call(e,t,e),s)?t.preventDefault():void 0}).destroy=function(){return n.removeEventListener(t,i,p)},n.addEventListener(t,i,p),i},handleEventOnce:function(t,e){return null==e&&(e={}),e.times=1,M.handleEvent(t,e)},triggerEvent:function(t,e){var n,i,o,r,a,s,l;return s=(l=null!=e?e:{}).onElement,i=l.bubbles,o=l.cancelable,n=l.attributes,r=null!=s?s:d,i=!1!==i,o=!1!==o,(a=document.createEvent("Events")).initEvent(t,i,o),null!=n&&M.extend.call(a,n),r.dispatchEvent(a)},elementMatchesSelector:function(t,e){return 1===(null!=t?t.nodeType:void 0)?n.call(t,e):void 0},findClosestElementFromNode:function(t,e){var n,i,o;for(n=(i=null!=e?e:{}).matchingSelector,o=i.untilNode;null!=t&&t.nodeType!==Node.ELEMENT_NODE;)t=t.parentNode;if(null!=t){if(null==n)return t;if(t.closest&&null==o)return t.closest(n);for(;t&&t!==o;){if(M.elementMatchesSelector(t,n))return t;t=t.parentNode}}},findInnerElement:function(t){for(;null!=t?t.firstElementChild:void 0;)t=t.firstElementChild;return t},innerElementIsActive:function(t){return document.activeElement!==t&&M.elementContainsNode(t,document.activeElement)},elementContainsNode:function(t,e){if(t&&e)for(;e;){if(e===t)return!0;e=e.parentNode}},findNodeFromContainerAndOffset:function(t,e){var n;if(t)return t.nodeType===Node.TEXT_NODE?t:0===e?null!=(n=t.firstChild)?n:t:t.childNodes.item(e-1)},findElementFromContainerAndOffset:function(t,e){var n;return n=M.findNodeFromContainerAndOffset(t,e),M.findClosestElementFromNode(n)},findChildIndexOfNode:function(t){var e;if(null!=t?t.parentNode:void 0){for(e=0;t=t.previousSibling;)e++;return e}},measureElement:function(t){return{width:t.offsetWidth,height:t.offsetHeight}},walkTree:function(t,e){var n,i,o,r,a;return i=(o=null!=e?e:{}).onlyNodesOfType,r=o.usingFilter,n=o.expandEntityReferences,a=function(){switch(i){case"element":return NodeFilter.SHOW_ELEMENT;case"text":return NodeFilter.SHOW_TEXT;case"comment":return NodeFilter.SHOW_COMMENT;default:return NodeFilter.SHOW_ALL}}(),document.createTreeWalker(t,a,null!=r?r:null,!0===n)},tagName:function(t){var e;return null!=t&&null!=(e=t.tagName)?e.toLowerCase():void 0},makeElement:function(t,e){var n,i,o,r,a,s,l,u,c,p;if(null==e&&(e={}),"object"==typeof t?t=(e=t).tagName:e={attributes:e},i=document.createElement(t),null!=e.editable&&(null==e.attributes&&(e.attributes={}),e.attributes.contenteditable=e.editable),e.attributes)for(r in s=e.attributes)p=s[r],i.setAttribute(r,p);if(e.style)for(r in l=e.style)p=l[r],i.style[r]=p;if(e.data)for(r in u=e.data)p=u[r],i.dataset[r]=p;if(e.className)for(o=0,a=(c=e.className.split(" ")).length;o<a;o++)n=c[o],i.classList.add(n);return e.textContent&&(i.textContent=e.textContent),i},cloneFragment:function(t){var e,n,i,o,r;for(e=document.createDocumentFragment(),n=0,i=(r=t.childNodes).length;n<i;n++)o=r[n],e.appendChild(o.cloneNode(!0));return e},makeFragment:function(t){var e,n,i;for(null==t&&(t=""),(e=document.createElement("div")).innerHTML=t,n=document.createDocumentFragment();i=e.firstChild;)n.appendChild(i);return n},getBlockTagNames:function(){var n,i;return null!=M.blockTagNames?M.blockTagNames:M.blockTagNames=function(){var t,e;for(n in e=[],t=M.config.blockAttributes)i=t[n],e.push(i.tagName);return e}()},nodeIsBlockContainer:function(t){return M.nodeIsBlockStartComment(null!=t?t.firstChild:void 0)},nodeProbablyIsBlockContainer:function(t){var e,n;return e=M.tagName(t),0<=o.call(M.getBlockTagNames(),e)&&(n=M.tagName(t.firstChild),o.call(M.getBlockTagNames(),n)<0)},nodeIsBlockStart:function(t,e){return(null!=e?e:{strict:!0}).strict?M.nodeIsBlockStartComment(t):M.nodeIsBlockStartComment(t)||!M.nodeIsBlockStartComment(t.firstChild)&&M.nodeProbablyIsBlockContainer(t)},nodeIsBlockStartComment:function(t){return M.nodeIsCommentNode(t)&&"block"===(null!=t?t.data:void 0)},nodeIsCommentNode:function(t){return(null!=t?t.nodeType:void 0)===Node.COMMENT_NODE},nodeIsCursorTarget:function(t){return t?M.nodeIsTextNode(t)?t.data===M.ZERO_WIDTH_SPACE:M.nodeIsCursorTarget(t.firstChild):void 0},nodeIsAttachmentElement:function(t){return M.elementMatchesSelector(t,M.AttachmentView.attachmentSelector)},nodeIsEmptyTextNode:function(t){return M.nodeIsTextNode(t)&&""===(null!=t?t.data:void 0)},nodeIsTextNode:function(t){return(null!=t?t.nodeType:void 0)===Node.TEXT_NODE}})}.call(this),function(){var e,n,l,i,u;e=M.copyObject,i=M.objectsAreEqual,M.extend({normalizeRange:l=function(t){var e;if(null!=t)return Array.isArray(t)||(t=[t,t]),[n(t[0]),n(null!=(e=t[1])?e:t[0])]},rangeIsCollapsed:function(t){var e,n,i;if(null!=t)return i=(n=l(t))[0],e=n[1],u(i,e)},rangesAreEqual:function(t,e){var n,i,o,r,a,s;if(null!=t&&null!=e)return i=(o=l(t))[0],n=o[1],s=(r=l(e))[0],a=r[1],u(i,s)&&u(n,a)}}),n=function(t){return"number"==typeof t?t:e(t)},u=function(t,e){return"number"==typeof t?t===e:i(t,e)}}.call(this),function(){var u,n,c,p;u={extendsTagName:"div",css:"%t { display: block; }"},M.registerElement=function(t,e){var n,i,o,r,a,s,l;return null==e&&(e={}),t=t.toLowerCase(),r=null!=(l=(a=p(e)).extendsTagName)?l:u.extendsTagName,delete a.extendsTagName,i=a.defaultCSS,delete a.defaultCSS,null!=i&&r===u.extendsTagName?i+="\n"+u.css:i=u.css,c(i,t),(o=Object.getPrototypeOf(document.createElement(r))).__super__=o,s=Object.create(o,a),n=document.registerElement(t,{prototype:s}),Object.defineProperty(s,"constructor",{value:n}),n},c=function(t,e){return n(e).textContent=t.replace(/%t/g,e)},n=function(t){var e;return(e=document.createElement("style")).setAttribute("type","text/css"),e.setAttribute("data-tag-name",t.toLowerCase()),document.head.insertBefore(e,document.head.firstChild),e},p=function(t){var e,n,i;for(e in n={},t)i=t[e],n[e]="function"==typeof i?{value:i}:i;return n}}.call(this),function(){var n,e;M.extend({getDOMSelection:function(){var t;return 0<(t=window.getSelection()).rangeCount?t:void 0},getDOMRange:function(){var t,e;return(t=null!=(e=M.getDOMSelection())?e.getRangeAt(0):void 0)&&!n(t)?t:void 0},setDOMRange:function(t){var e;return(e=window.getSelection()).removeAllRanges(),e.addRange(t),M.selectionChangeObserver.update()}}),n=function(t){return e(t.startContainer)||e(t.endContainer)},e=function(t){return!Object.getPrototypeOf(t)}}.call(this),function(){}.call(this),function(){var a,l={}.hasOwnProperty;a=M.arraysAreEqual,M.Hash=function(t){function e(t){null==t&&(t={}),this.values=r(t),e.__super__.constructor.apply(this,arguments)}var s,r,n,i,o;return function(t,e){function n(){this.constructor=t}for(var i in e)l.call(e,i)&&(t[i]=e[i]);n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype}(e,M.Object),e.fromCommonAttributesOfObjects=function(t){var e,n,i,o,r,a;if(null==t&&(t=[]),!t.length)return new this;for(i=(e=s(t[0])).getKeys(),n=0,o=(a=t.slice(1)).length;n<o;n++)r=a[n],i=e.getKeysCommonToHash(s(r)),e=e.slice(i);return e},e.box=function(t){return s(t)},e.prototype.add=function(t,e){return this.merge(i(t,e))},e.prototype.remove=function(t){return new M.Hash(r(this.values,t))},e.prototype.get=function(t){return this.values[t]},e.prototype.has=function(t){return t in this.values},e.prototype.merge=function(t){return new M.Hash(n(this.values,o(t)))},e.prototype.slice=function(t){var e,n,i,o;for(o={},e=0,i=t.length;e<i;e++)n=t[e],this.has(n)&&(o[n]=this.values[n]);return new M.Hash(o)},e.prototype.getKeys=function(){return Object.keys(this.values)},e.prototype.getKeysCommonToHash=function(t){var e,n,i,o,r;for(t=s(t),r=[],e=0,i=(o=this.getKeys()).length;e<i;e++)n=o[e],this.values[n]===t.values[n]&&r.push(n);return r},e.prototype.isEqualTo=function(t){return a(this.toArray(),s(t).toArray())},e.prototype.isEmpty=function(){return 0===this.getKeys().length},e.prototype.toArray=function(){var e,n,i;return(null!=this.array?this.array:this.array=function(){var t;for(e in n=[],t=this.values)i=t[e],n.push(e,i);return n}.call(this)).slice(0)},e.prototype.toObject=function(){return r(this.values)},e.prototype.toJSON=function(){return this.toObject()},e.prototype.contentsForInspection=function(){return{values:JSON.stringify(this.values)}},i=function(t,e){var n;return(n={})[t]=e,n},n=function(t,e){var n,i,o;for(n in i=r(t),e)o=e[n],i[n]=o;return i},r=function(t,e){var n,i,o,r,a;for(r={},n=0,o=(a=Object.keys(t).sort()).length;n<o;n++)(i=a[n])!==e&&(r[i]=t[i]);return r},s=function(t){return t instanceof M.Hash?t:new M.Hash(t)},o=function(t){return t instanceof M.Hash?t.values:t},e}()}.call(this),function(){M.ObjectGroup=function(){function t(t,e){var n,i;this.objects=null!=t?t:[],i=e.depth,(n=e.asTree)&&(this.depth=i,this.objects=this.constructor.groupObjects(this.objects,{asTree:n,depth:this.depth+1}))}return t.groupObjects=function(t,e){var n,i,o,r,a,s,l,u,c;for(null==t&&(t=[]),o=(c=null!=e?e:{}).depth,(n=c.asTree)&&null==o&&(o=0),u=[],a=0,s=t.length;a<s;a++){if(l=t[a],r){if(("function"==typeof l.canBeGrouped?l.canBeGrouped(o):void 0)&&("function"==typeof(i=r[r.length-1]).canBeGroupedWith?i.canBeGroupedWith(l,o):void 0)){r.push(l);continue}u.push(new this(r,{depth:o,asTree:n})),r=null}("function"==typeof l.canBeGrouped?l.canBeGrouped(o):void 0)?r=[l]:u.push(l)}return r&&u.push(new this(r,{depth:o,asTree:n})),u},t.prototype.getObjects=function(){return this.objects},t.prototype.getDepth=function(){return this.depth},t.prototype.getCacheKey=function(){var t,e,n,i,o;for(e=["objectGroup"],t=0,n=(o=this.getObjects()).length;t<n;t++)i=o[t],e.push(i.getCacheKey());return e.join("/")},t}()}.call(this),function(){var o={}.hasOwnProperty;M.ObjectMap=function(t){function e(t){var e,n,i,o,r;for(null==t&&(t=[]),this.objects={},i=0,o=t.length;i<o;i++)r=t[i],n=JSON.stringify(r),null==(e=this.objects)[n]&&(e[n]=r)}return function(t,e){function n(){this.constructor=t}for(var i in e)o.call(e,i)&&(t[i]=e[i]);n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype}(e,M.BasicObject),e.prototype.find=function(t){var e;return e=JSON.stringify(t),this.objects[e]},e}()}.call(this),function(){M.ElementStore=function(){function t(t){this.reset(t)}var i;return t.prototype.add=function(t){var e;return e=i(t),this.elements[e]=t},t.prototype.remove=function(t){var e,n;return e=i(t),(n=this.elements[e])?(delete this.elements[e],n):void 0},t.prototype.reset=function(t){var e,n,i;for(null==t&&(t=[]),this.elements={},n=0,i=t.length;n<i;n++)e=t[n],this.add(e);return t},i=function(t){return t.dataset.trixStoreKey},t}()}.call(this),function(){}.call(this),function(){var o={}.hasOwnProperty;M.Operation=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return function(t,e){function n(){this.constructor=t}for(var i in e)o.call(e,i)&&(t[i]=e[i]);n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype}(e,M.BasicObject),e.prototype.isPerforming=function(){return!0===this.performing},e.prototype.hasPerformed=function(){return!0===this.performed},e.prototype.hasSucceeded=function(){return this.performed&&this.succeeded},e.prototype.hasFailed=function(){return this.performed&&!this.succeeded},e.prototype.getPromise=function(){return null!=this.promise?this.promise:this.promise=new Promise((o=this,function(n,i){return o.performing=!0,o.perform(function(t,e){return o.succeeded=t,o.performing=!1,o.performed=!0,o.succeeded?n(e):i(e)})}));var o},e.prototype.perform=function(t){return t(!1)},e.prototype.release=function(){var t;return null!=(t=this.promise)&&"function"==typeof t.cancel&&t.cancel(),this.promise=null,this.performing=null,this.performed=null,this.succeeded=null},e.proxyMethod("getPromise().then"),e.proxyMethod("getPromise().catch"),e}()}.call(this),function(){var t,e,n,i,o,r={}.hasOwnProperty;M.UTF16String=function(t){function e(t,e){this.ucs2String=t,this.codepoints=e,this.length=this.codepoints.length,this.ucs2Length=this.ucs2String.length}return function(t,e){function n(){this.constructor=t}for(var i in e)r.call(e,i)&&(t[i]=e[i]);n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype}(e,M.BasicObject),e.box=function(t){return null==t&&(t=""),t instanceof this?t:this.fromUCS2String(null!=t?t.toString():void 0)},e.fromUCS2String=function(t){return new this(t,i(t))},e.fromCodepoints=function(t){return new this(o(t),t)},e.prototype.offsetToUCS2Offset=function(t){return o(this.codepoints.slice(0,Math.max(0,t))).length},e.prototype.offsetFromUCS2Offset=function(t){return i(this.ucs2String.slice(0,Math.max(0,t))).length},e.prototype.slice=function(){var t;return this.constructor.fromCodepoints((t=this.codepoints).slice.apply(t,arguments))},e.prototype.charAt=function(t){return this.slice(t,t+1)},e.prototype.isEqualTo=function(t){return this.constructor.box(t).ucs2String===this.ucs2String},e.prototype.toJSON=function(){return this.ucs2String},e.prototype.getCacheKey=function(){return this.ucs2String},e.prototype.toString=function(){return this.ucs2String},e}(),t=1===("function"==typeof Array.from?Array.from("").length:void 0),e=null!=("function"==typeof" ".codePointAt?" ".codePointAt(0):void 0),n=" "===("function"==typeof String.fromCodePoint?String.fromCodePoint(32,128124):void 0),i=t&&e?function(t){return Array.from(t).map(function(t){return t.codePointAt(0)})}:function(t){var e,n,i,o,r;for(o=[],e=0,i=t.length;e<i;)55296<=(r=t.charCodeAt(e++))&&r<=56319&&e<i&&(56320==(64512&(n=t.charCodeAt(e++)))?r=((1023&r)<<10)+(1023&n)+65536:e--),o.push(r);return o},o=n?function(t){return String.fromCodePoint.apply(String,t)}:function(i){var o,r;return function(){var t,e,n;for(n=[],t=0,e=i.length;t<e;t++)r=i[t],o="",65535<r&&(r-=65536,o+=String.fromCharCode(r>>>10&1023|55296),r=56320|1023&r),n.push(o+String.fromCharCode(r));return n}().join("")}}.call(this),function(){}.call(this),function(){}.call(this),function(){M.config.lang={bold:"Bold",bullets:"Bullets",byte:"Byte",bytes:"Bytes",captionPlaceholder:"Type a caption here",captionPrompt:"Add a caption",code:"Code",heading1:"Heading",indent:"Increase Level",italic:"Italic",link:"Link",numbers:"Numbers",outdent:"Decrease Level",quote:"Quote",redo:"Redo",remove:"Remove",strike:"Strikethrough",undo:"Undo",unlink:"Unlink",urlPlaceholder:"Enter a URL",GB:"GB",KB:"KB",MB:"MB",PB:"PB",TB:"TB"}}.call(this),function(){M.config.css={classNames:{attachment:{container:"attachment",typePrefix:"attachment-",caption:"caption",captionEdited:"caption-edited",captionEditor:"caption-editor",editingCaption:"caption-editing",progressBar:"progress",removeButton:"remove icon",size:"size"}}}}.call(this),function(){var e;M.config.blockAttributes=e={default:{tagName:"div",parse:!1},quote:{tagName:"blockquote",nestable:!0},heading1:{tagName:"h1",terminal:!0,breakOnReturn:!0,group:!1},code:{tagName:"pre",terminal:!0,text:{plaintext:!0}},bulletList:{tagName:"ul",parse:!1},bullet:{tagName:"li",listAttribute:"bulletList",group:!1,nestable:!0,test:function(t){return M.tagName(t.parentNode)===e[this.listAttribute].tagName}},numberList:{tagName:"ol",parse:!1},number:{tagName:"li",listAttribute:"numberList",group:!1,nestable:!0,test:function(t){return M.tagName(t.parentNode)===e[this.listAttribute].tagName}}}}.call(this),function(){var i,o;i=M.config.lang,o=[i.bytes,i.KB,i.MB,i.GB,i.TB,i.PB],M.config.fileSize={prefix:"IEC",precision:2,formatter:function(t){var e,n;switch(t){case 0:return"0 "+i.bytes;case 1:return"1 "+i.byte;default:return e=function(){switch(this.prefix){case"SI":return 1e3;case"IEC":return 1024}}.call(this),n=Math.floor(Math.log(t)/Math.log(e)),(t/Math.pow(e,n)).toFixed(this.precision).replace(/0*$/,"").replace(/\.$/,"")+" "+o[n]}}}}.call(this),function(){M.config.textAttributes={bold:{tagName:"strong",inheritable:!0,parser:function(t){var e;return"bold"===(e=window.getComputedStyle(t)).fontWeight||600<=e.fontWeight}},italic:{tagName:"em",inheritable:!0,parser:function(t){return"italic"===window.getComputedStyle(t).fontStyle}},href:{groupTagName:"a",parser:function(t){var e,n;return n="a:not("+M.AttachmentView.attachmentSelector+")",(e=M.findClosestElementFromNode(t,{matchingSelector:n}))?e.getAttribute("href"):void 0}},strike:{tagName:"del",inheritable:!0},frozen:{style:{backgroundColor:"highlight"}}}}.call(this),function(){var y,b,w;w=["contenteditable","data-trix-id","data-trix-store-key","data-trix-mutable"],b="data-trix-serialized-attributes",y=new RegExp("\x3c!--block--\x3e","g"),M.extend({serializers:{"application/json":function(t){var e;if(t instanceof M.Document)e=t;else{if(!(t instanceof HTMLElement))throw new Error("unserializable object");e=M.Document.fromHTML(t.innerHTML)}return e.toSerializableDocument().toJSONString()},"text/html":function(t){var e,n,i,o,r,a,s,l,u,c,p,h,d,f,g,m,v;if(t instanceof M.Document)o=M.DocumentView.render(t);else{if(!(t instanceof HTMLElement))throw new Error("unserializable object");o=t.cloneNode(!0)}for(r=0,u=(f=o.querySelectorAll("[data-trix-serialize=false]")).length;r<u;r++)(i=f[r]).parentNode.removeChild(i);for(a=0,c=w.length;a<c;a++)for(e=w[a],s=0,p=(g=o.querySelectorAll("["+e+"]")).length;s<p;s++)(i=g[s]).removeAttribute(e);for(l=0,h=(m=o.querySelectorAll("[data-trix-serialized-attributes]")).length;l<h;l++){i=m[l];try{for(d in n=JSON.parse(i.getAttribute(b)),i.removeAttribute(b),n)v=n[d],i.setAttribute(d,v)}catch(t){}}return o.innerHTML.replace(y,"")}},deserializers:{"application/json":function(t){return M.Document.fromJSONString(t)},"text/html":function(t){return M.Document.fromHTML(t)}},serializeToContentType:function(t,e){var n;if(n=M.serializers[e])return n(t);throw new Error("unknown content type: "+e)},deserializeFromContentType:function(t,e){var n;if(n=M.deserializers[e])return n(t);throw new Error("unknown content type: "+e)}})}.call(this),function(){var t,e;e=M.makeFragment,t=M.config.lang,M.config.toolbar={content:e('<div class="button_row">\n  <span class="button_group text_tools">\n    <button type="button" class="icon bold" data-trix-attribute="bold" data-trix-key="b" title="'+t.bold+'">'+t.bold+'</button>\n    <button type="button" class="icon italic" data-trix-attribute="italic" data-trix-key="i" title="'+t.italic+'">'+t.italic+'</button>\n    <button type="button" class="icon strike" data-trix-attribute="strike" title="'+t.strike+'">'+t.strike+'</button>\n    <button type="button" class="icon link" data-trix-attribute="href" data-trix-action="link" data-trix-key="k" title="'+t.link+'">'+t.link+'</button>\n  </span>\n\n  <span class="button_group block_tools">\n    <button type="button" class="icon heading-1" data-trix-attribute="heading1" title="'+t.heading1+'">'+t.heading1+'</button>\n    <button type="button" class="icon quote" data-trix-attribute="quote" title="'+t.quote+'">'+t.quote+'</button>\n    <button type="button" class="icon code" data-trix-attribute="code" title="'+t.code+'">'+t.code+'</button>\n    <button type="button" class="icon list bullets" data-trix-attribute="bullet" title="'+t.bullets+'">'+t.bullets+'</button>\n    <button type="button" class="icon list numbers" data-trix-attribute="number" title="'+t.numbers+'">'+t.numbers+'</button>\n    <button type="button" class="icon nesting-level decrease" data-trix-action="decreaseNestingLevel" title="'+t.outdent+'">'+t.outdent+'</button>\n    <button type="button" class="icon nesting-level increase" data-trix-action="increaseNestingLevel" title="'+t.indent+'">'+t.indent+'</button>\n  </span>\n\n  <span class="button_group history_tools">\n    <button type="button" class="icon undo" data-trix-action="undo" data-trix-key="z" title="'+t.undo+'">'+t.undo+'</button>\n    <button type="button" class="icon redo" data-trix-action="redo" data-trix-key="shift+z" title="'+t.redo+'">'+t.redo+'</button>\n  </span>\n</div>\n\n<div class="dialogs">\n  <div class="dialog link_dialog" data-trix-attribute="href" data-trix-dialog="href">\n    <div class="link_url_fields">\n      <input type="url" required name="href" placeholder="'+t.urlPlaceholder+'">\n      <div class="button_group">\n        <input type="button" value="'+t.link+'" data-trix-method="setAttribute">\n        <input type="button" value="'+t.unlink+'" data-trix-method="removeAttribute">\n      </div>\n    </div>\n  </div>\n</div>')}}.call(this),function(){M.config.undoInterval=5e3}.call(this),function(){var t,e;t=M.makeElement,M.defer,e={cursorTarget:t({tagName:"span",textContent:M.ZERO_WIDTH_SPACE,data:{trixSelection:!0,trixCursorTarget:!0,trixSerialize:!1}})},M.extend({selectionElements:{selector:"[data-trix-selection]",cssText:"font-size: 0 !important;\npadding: 0 !important;\nmargin: 0 !important;\nborder: none !important;\nline-height: 0 !important;",create:function(t){return e[t].cloneNode(!0)}}})}.call(this),function(){}.call(this),function(){var t;t=M.cloneFragment,M.registerElement("trix-toolbar",{defaultCSS:"%t {\n  white-space: collapse;\n}\n\n%t .dialog {\n  display: none;\n}\n\n%t .dialog.active {\n  display: block;\n}\n\n%t .dialog input.validate:invalid {\n  background-color: #ffdddd;\n}\n\n%t[native] {\n  display: none;\n}",createdCallback:function(){return""===this.innerHTML?this.appendChild(t(M.config.toolbar.content)):void 0}})}.call(this),function(){var o={}.hasOwnProperty,a=[].indexOf||function(t){for(var e=0,n=this.length;e<n;e++)if(e in this&&this[e]===t)return e;return-1};M.ObjectView=function(t){function e(t,e){this.object=t,this.options=null!=e?e:{},this.childViews=[],this.rootView=this}return function(t,e){function n(){this.constructor=t}for(var i in e)o.call(e,i)&&(t[i]=e[i]);n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype}(e,M.BasicObject),e.prototype.getNodes=function(){var t,e,n,i,o;for(null==this.nodes&&(this.nodes=this.createNodes()),o=[],t=0,e=(i=this.nodes).length;t<e;t++)n=i[t],o.push(n.cloneNode(!0));return o},e.prototype.invalidate=function(){var t;return(this.nodes=null)!=(t=this.parentView)?t.invalidate():void 0},e.prototype.invalidateViewForObject=function(t){var e;return null!=(e=this.findViewForObject(t))?e.invalidate():void 0},e.prototype.findOrCreateCachedChildView=function(t,e){var n;return(n=this.getCachedViewForObject(e))?this.recordChildView(n):(n=this.createChildView.apply(this,arguments),this.cacheViewForObject(n,e)),n},e.prototype.createChildView=function(t,e,n){var i;return null==n&&(n={}),e instanceof M.ObjectGroup&&(n.viewClass=t,t=M.ObjectGroupView),i=new t(e,n),this.recordChildView(i)},e.prototype.recordChildView=function(t){return t.parentView=this,t.rootView=this.rootView,this.childViews.push(t),t},e.prototype.getAllChildViews=function(){var t,e,n,i,o;for(o=[],e=0,n=(i=this.childViews).length;e<n;e++)t=i[e],o.push(t),o=o.concat(t.getAllChildViews());return o},e.prototype.findElement=function(){return this.findElementForObject(this.object)},e.prototype.findElementForObject=function(t){var e;return(e=null!=t?t.id:void 0)?this.rootView.element.querySelector("[data-trix-id='"+e+"']"):void 0},e.prototype.findViewForObject=function(t){var e,n,i,o;for(e=0,n=(i=this.getAllChildViews()).length;e<n;e++)if((o=i[e]).object===t)return o},e.prototype.getViewCache=function(){return this.rootView!==this?this.rootView.getViewCache():this.isViewCachingEnabled()?null!=this.viewCache?this.viewCache:this.viewCache={}:void 0},e.prototype.isViewCachingEnabled=function(){return!1!==this.shouldCacheViews},e.prototype.enableViewCaching=function(){return this.shouldCacheViews=!0},e.prototype.disableViewCaching=function(){return this.shouldCacheViews=!1},e.prototype.getCachedViewForObject=function(t){var e;return null!=(e=this.getViewCache())?e[t.getCacheKey()]:void 0},e.prototype.cacheViewForObject=function(t,e){var n;return null!=(n=this.getViewCache())?n[e.getCacheKey()]=t:void 0},e.prototype.garbageCollectCachedViews=function(){var t,e,n,i,o,r;if(t=this.getViewCache()){for(e in r=this.getAllChildViews().concat(this),n=function(){var t,e,n;for(n=[],t=0,e=r.length;t<e;t++)o=r[t],n.push(o.object.getCacheKey());return n}(),i=[],t)a.call(n,e)<0&&i.push(delete t[e]);return i}},e}()}.call(this),function(){var o={}.hasOwnProperty;M.ObjectGroupView=function(t){function e(){e.__super__.constructor.apply(this,arguments),this.objectGroup=this.object,this.viewClass=this.options.viewClass,delete this.options.viewClass}return function(t,e){function n(){this.constructor=t}for(var i in e)o.call(e,i)&&(t[i]=e[i]);n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype}(e,M.ObjectView),e.prototype.getChildViews=function(){var t,e,n,i;if(!this.childViews.length)for(t=0,e=(i=this.objectGroup.getObjects()).length;t<e;t++)n=i[t],this.findOrCreateCachedChildView(this.viewClass,n,this.options);return this.childViews},e.prototype.createNodes=function(){var t,e,n,i,o,r,a,s;for(t=this.createContainerElement(),e=0,i=(a=this.getChildViews()).length;e<i;e++)for(n=0,o=(s=a[e].getNodes()).length;n<o;n++)r=s[n],t.appendChild(r);return[t]},e.prototype.createContainerElement=function(t){return null==t&&(t=this.objectGroup.getDepth()),this.getChildViews()[0].createContainerElement(t)},e}()}.call(this),function(){var o={}.hasOwnProperty;M.Controller=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return function(t,e){function n(){this.constructor=t}for(var i in e)o.call(e,i)&&(t[i]=e[i]);n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype}(e,M.BasicObject),e}()}.call(this),function(){var o,h,r,d,l,a,s={}.hasOwnProperty,f=[].indexOf||function(t){for(var e=0,n=this.length;e<n;e++)if(e in this&&this[e]===t)return e;return-1};M.defer,o=M.findClosestElementFromNode,r=M.nodeIsEmptyTextNode,h=M.nodeIsBlockStartComment,d=M.normalizeSpaces,l=M.summarizeStringChange,a=M.tagName,M.MutationObserver=function(t){function e(t){var e,n;this.element=t,this.didMutate=(e=this.didMutate,n=this,function(){return e.apply(n,arguments)}),this.observer=new window.MutationObserver(this.didMutate),this.start()}var p,n,i;return function(t,e){function n(){this.constructor=t}for(var i in e)s.call(e,i)&&(t[i]=e[i]);n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype}(e,M.BasicObject),"["+(n="data-trix-mutable")+"]",i={attributes:!0,childList:!0,characterData:!0,characterDataOldValue:!0,subtree:!0},e.prototype.start=function(){return this.reset(),this.observer.observe(this.element,i)},e.prototype.stop=function(){return this.observer.disconnect()},e.prototype.didMutate=function(t){var e,n;return(e=this.mutations).push.apply(e,this.findSignificantMutations(t)),this.mutations.length?(null!=(n=this.delegate)&&"function"==typeof n.elementDidMutate&&n.elementDidMutate(this.getMutationSummary()),this.reset()):void 0},e.prototype.reset=function(){return this.mutations=[]},e.prototype.findSignificantMutations=function(t){var e,n,i,o;for(o=[],e=0,n=t.length;e<n;e++)i=t[e],this.mutationIsSignificant(i)&&o.push(i);return o},e.prototype.mutationIsSignificant=function(t){var e,n,i,o;for(e=0,n=(o=this.nodesModifiedByMutation(t)).length;e<n;e++)if(i=o[e],this.nodeIsSignificant(i))return!0;return!1},e.prototype.nodeIsSignificant=function(t){return t!==this.element&&!this.nodeIsMutable(t)&&!r(t)},e.prototype.nodeIsMutable=function(t){return o(t,{matchingSelector:"[data-trix-mutable]"})},e.prototype.nodesModifiedByMutation=function(t){var e;switch(e=[],t.type){case"attributes":t.attributeName!==n&&e.push(t.target);break;case"characterData":e.push(t.target.parentNode),e.push(t.target);break;case"childList":e.push.apply(e,t.addedNodes),e.push.apply(e,t.removedNodes)}return e},e.prototype.getMutationSummary=function(){return this.getTextMutationSummary()},e.prototype.getTextMutationSummary=function(){var t,e,n,i,o,r,a,s,l,u,c;for(n=(s=this.getTextChangesFromCharacterData()).additions,o=s.deletions,r=0,a=(l=(c=this.getTextChangesFromChildList()).additions).length;r<a;r++)e=l[r],f.call(n,e)<0&&n.push(e);return o.push.apply(o,c.deletions),u={},(t=n.join(""))&&(u.textAdded=t),(i=o.join(""))&&(u.textDeleted=i),u},e.prototype.getMutationsByType=function(t){var e,n,i,o,r;for(r=[],e=0,n=(o=this.mutations).length;e<n;e++)(i=o[e]).type===t&&r.push(i);return r},e.prototype.getTextChangesFromChildList=function(){var t,e,i,n,o,r,a,s,l,u,c;for(t=[],a=[],e=0,n=(r=this.getMutationsByType("childList")).length;e<n;e++)o=r[e],t.push.apply(t,o.addedNodes),a.push.apply(a,o.removedNodes);return s=0===t.length&&1===a.length&&h(a[0]),c=s?(u=[],["\n"]):(u=p(t),p(a)),{additions:function(){var t,e,n;for(n=[],i=t=0,e=u.length;t<e;i=++t)(l=u[i])!==c[i]&&n.push(d(l));return n}(),deletions:function(){var t,e,n;for(n=[],i=t=0,e=c.length;t<e;i=++t)(l=c[i])!==u[i]&&n.push(d(l));return n}()}},e.prototype.getTextChangesFromCharacterData=function(){var t,e,n,i,o,r,a,s;return(e=this.getMutationsByType("characterData")).length&&(s=e[0],n=e[e.length-1],o=d(s.oldValue),i=d(n.target.data),t=(r=l(o,i)).added,a=r.removed),{additions:t?[t]:[],deletions:a?[a]:[]}},p=function(t){var e,n,i,o;for(null==t&&(t=[]),o=[],e=0,n=t.length;e<n;e++)switch(i=t[e],i.nodeType){case Node.TEXT_NODE:o.push(i.data);break;case Node.ELEMENT_NODE:"br"===a(i)?o.push("\n"):o.push.apply(o,p(i.childNodes))}return o},e}()}.call(this),function(){var o={}.hasOwnProperty;M.FileVerificationOperation=function(t){function e(t){this.file=t}return function(t,e){function n(){this.constructor=t}for(var i in e)o.call(e,i)&&(t[i]=e[i]);n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype}(e,M.Operation),e.prototype.perform=function(t){var e,n;return(e=new FileReader).onerror=function(){return t(!1)},e.onload=(n=this,function(){e.onerror=null;try{e.abort()}catch(t){}return t(!0,n.file)}),e.readAsArrayBuffer(this.file)},e}()}.call(this),function(){var o={}.hasOwnProperty;M.CompositionInput=function(t){function e(t){var e;this.inputController=t,e=this.inputController,this.responder=e.responder,this.delegate=e.delegate,this.inputSummary=e.inputSummary,this.data={}}return function(t,e){function n(){this.constructor=t}for(var i in e)o.call(e,i)&&(t[i]=e[i]);n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype}(e,M.BasicObject),e.prototype.start=function(t){var e,n;return this.data.start=t,"keypress"===this.inputSummary.eventName&&this.inputSummary.textAdded&&null!=(e=this.responder)&&e.deleteInDirection("left"),this.selectionIsExpanded()||(this.insertPlaceholder(),this.requestRender()),this.range=null!=(n=this.responder)?n.getSelectedRange():void 0},e.prototype.update=function(t){var e;return this.data.update=t,(e=this.selectPlaceholder())?(this.forgetPlaceholder(),this.range=e):void 0},e.prototype.end=function(t){var e,n,i,o;return this.data.end=t,this.forgetPlaceholder(),this.canApplyToDocument()?(this.setInputSummary({preferDocument:!0}),null!=(e=this.delegate)&&e.inputControllerWillPerformTyping(),null!=(n=this.responder)&&n.setSelectedRange(this.range),null!=(i=this.responder)&&i.insertString(this.data.end),null!=(o=this.responder)?o.setSelectedRange(this.range[0]+this.data.end.length):void 0):null!=this.data.start||null!=this.data.update?(this.requestReparse(),this.inputController.reset()):void 0},e.prototype.getEndData=function(){return this.data.end},e.prototype.isEnded=function(){return null!=this.getEndData()},e.prototype.canApplyToDocument=function(){var t,e;return 0===(null!=(t=this.data.start)?t.length:void 0)&&0<(null!=(e=this.data.end)?e.length:void 0)&&null!=this.range},e.proxyMethod("inputController.setInputSummary"),e.proxyMethod("inputController.requestRender"),e.proxyMethod("inputController.requestReparse"),e.proxyMethod("responder?.selectionIsExpanded"),e.proxyMethod("responder?.insertPlaceholder"),e.proxyMethod("responder?.selectPlaceholder"),e.proxyMethod("responder?.forgetPlaceholder"),e}()}.call(this),function(){var C,i,S,n,o,c,r,a,s,l,T,u,p={}.hasOwnProperty,A=[].indexOf||function(t){for(var e=0,n=this.length;e<n;e++)if(e in this&&this[e]===t)return e;return-1};n=M.handleEvent,M.findClosestElementFromNode,M.findElementFromContainerAndOffset,M.defer,s=M.makeElement,o=M.innerElementIsActive,M.summarizeStringChange,l=M.objectsAreEqual,M.tagName,M.InputController=function(t){function e(t){var e;for(e in this.element=t,this.resetInputSummary(),this.mutationObserver=new M.MutationObserver(this.element),(this.mutationObserver.delegate=this).events)n(e,{onElement:this.element,withCallback:this.handlerFor(e),inPhase:"capturing"})}var k;return function(t,e){function n(){this.constructor=t}for(var i in e)p.call(e,i)&&(t[i]=e[i]);n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype}(e,M.BasicObject),k=0,e.keyNames={8:"backspace",9:"tab",13:"return",37:"left",39:"right",46:"delete",68:"d",72:"h",79:"o"},e.prototype.handlerFor=function(e){return n=this,function(t){return n.handleInput(function(){return o(this.element)?void 0:(this.eventName=e,this.events[e].call(this,t))})};var n},e.prototype.setInputSummary=function(t){var e,n;for(e in null==t&&(t={}),this.inputSummary.eventName=this.eventName,t)n=t[e],this.inputSummary[e]=n;return this.inputSummary},e.prototype.resetInputSummary=function(){return this.inputSummary={}},e.prototype.reset=function(){return this.resetInputSummary(),M.selectionChangeObserver.reset()},e.prototype.editorWillSyncDocumentView=function(){return this.mutationObserver.stop()},e.prototype.editorDidSyncDocumentView=function(){return this.mutationObserver.start()},e.prototype.requestRender=function(){var t;return null!=(t=this.delegate)&&"function"==typeof t.inputControllerDidRequestRender?t.inputControllerDidRequestRender():void 0},e.prototype.requestReparse=function(){var t;return null!=(t=this.delegate)&&"function"==typeof t.inputControllerDidRequestReparse&&t.inputControllerDidRequestReparse(),this.requestRender()},e.prototype.elementDidMutate=function(t){var e;return this.isComposing()?null!=(e=this.delegate)&&"function"==typeof e.inputControllerDidAllowUnhandledInput?e.inputControllerDidAllowUnhandledInput():void 0:this.handleInput(function(){return this.mutationIsSignificant(t)&&(this.mutationIsExpected(t)?this.requestRender():this.requestReparse()),this.reset()})},e.prototype.mutationIsExpected=function(t){var e,n,i,o,r,a,s,l,u;return a=t.textAdded,s=t.textDeleted,!!this.inputSummary.preferDocument||(e=null!=a?a===this.inputSummary.textAdded:!this.inputSummary.textAdded,n=null!=s?this.inputSummary.didDelete:!this.inputSummary.didDelete,u="\n"===s&&!n,!!(((l="\n"===a&&!e)&&!u||u&&!l)&&(o=this.getSelectedRange())&&(i=l?-1:1,null!=(r=this.responder)?r.positionIsBlockBreak(o[1]+i):void 0))||e&&n)},e.prototype.mutationIsSignificant=function(t){var e,n,i;return i=0<Object.keys(t).length,e=""===(null!=(n=this.compositionInput)?n.getEndData():void 0),i||!e},e.prototype.attachFiles=function(i){var r,t,e;return t=function(){var t,e,n;for(n=[],t=0,e=i.length;t<e;t++)r=i[t],n.push(new M.FileVerificationOperation(r));return n}(),Promise.all(t).then((e=this,function(o){return e.handleInput(function(){var t,e,n,i;for(null!=(n=this.delegate)&&n.inputControllerWillAttachFiles(),t=0,e=o.length;t<e;t++)r=o[t],null!=(i=this.responder)&&i.insertFile(r);return this.requestRender()})}))},e.prototype.events={keydown:function(o){var t,e,n,i,r,a,s,l,u;if(this.isComposing()||this.resetInputSummary(),i=this.constructor.keyNames[o.keyCode]){for(e=this.keys,n=0,a=(l=["ctrl","alt","shift","meta"]).length;n<a;n++)o[(s=l[n])+"Key"]&&("ctrl"===s&&(s="control"),e=null!=e?e[s]:void 0);null!=(null!=e?e[i]:void 0)&&(this.setInputSummary({keyName:i}),M.selectionChangeObserver.reset(),e[i].call(this,o))}return c(o)&&(t=String.fromCharCode(o.keyCode).toLowerCase())&&((r=function(){var t,e,n,i;for(i=[],t=0,e=(n=["alt","shift"]).length;t<e;t++)o[(s=n[t])+"Key"]&&i.push(s);return i}()).push(t),null!=(u=this.delegate)?u.inputControllerDidReceiveKeyboardCommand(r):void 0)?o.preventDefault():void 0},keypress:function(t){var e,n,i;if(null==this.inputSummary.eventName&&(!t.metaKey&&!t.ctrlKey||t.altKey)&&!a(t)&&!r(t))return null===t.which?e=String.fromCharCode(t.keyCode):0!==t.which&&0!==t.charCode&&(e=String.fromCharCode(t.charCode)),null!=e?(null!=(n=this.delegate)&&n.inputControllerWillPerformTyping(),null!=(i=this.responder)&&i.insertString(e),this.setInputSummary({textAdded:e,didDelete:this.selectionIsExpanded()})):void 0},textInput:function(t){var e,n,i,o;return e=t.data,(o=this.inputSummary.textAdded)&&o!==e&&o.toUpperCase()===e?(n=this.getSelectedRange(),this.setSelectedRange([n[0],n[1]+o.length]),null!=(i=this.responder)&&i.insertString(e),this.setInputSummary({textAdded:e}),this.setSelectedRange(n)):void 0},dragenter:function(t){return t.preventDefault()},dragstart:function(t){var e;return t.target,this.serializeSelectionToDataTransfer(t.dataTransfer),this.draggedRange=this.getSelectedRange(),null!=(e=this.delegate)&&"function"==typeof e.inputControllerDidStartDrag?e.inputControllerDidStartDrag():void 0},dragover:function(t){var e,n;return!this.draggedRange&&!this.canAcceptDataTransfer(t.dataTransfer)||(t.preventDefault(),e={x:t.clientX,y:t.clientY},l(e,this.draggingPoint))?void 0:(this.draggingPoint=e,null!=(n=this.delegate)&&"function"==typeof n.inputControllerDidReceiveDragOverPoint?n.inputControllerDidReceiveDragOverPoint(this.draggingPoint):void 0)},dragend:function(){var t;return null!=(t=this.delegate)&&"function"==typeof t.inputControllerDidCancelDrag&&t.inputControllerDidCancelDrag(),this.draggedRange=null,this.draggingPoint=null},drop:function(t){var e,n,i,o,r,a,s,l,u;return t.preventDefault(),i=null!=(r=t.dataTransfer)?r.files:void 0,o={x:t.clientX,y:t.clientY},null!=(a=this.responder)&&a.setLocationRangeFromPointRange(o),(null!=i?i.length:void 0)?this.attachFiles(i):this.draggedRange?(null!=(s=this.delegate)&&s.inputControllerWillMoveText(),null!=(l=this.responder)&&l.moveTextFromRange(this.draggedRange),this.draggedRange=null,this.requestRender()):(n=t.dataTransfer.getData("application/x-trix-document"))&&(e=M.Document.fromJSONString(n),null!=(u=this.responder)&&u.insertDocument(e),this.requestRender()),this.draggedRange=null,this.draggingPoint=null},cut:function(t){var e;return this.serializeSelectionToDataTransfer(t.clipboardData)&&t.preventDefault(),null!=(e=this.delegate)&&e.inputControllerWillCutText(),this.deleteInDirection("backward"),t.defaultPrevented?this.requestRender():void 0},copy:function(t){return this.serializeSelectionToDataTransfer(t.clipboardData)?t.preventDefault():void 0},paste:function(t){var e,n,i,o,r,a,s,l,u,c,p,h,d,f,g,m,v,y,b,w,x,$,_;return r=null!=(s=t.clipboardData)?s:t.testClipboardData,a={paste:r},null==r||T(t)?void this.getPastedHTMLUsingHiddenElement((_=this,function(t){var e,n,i;return a.html=t,null!=(e=_.delegate)&&e.inputControllerWillPasteText(a),null!=(n=_.responder)&&n.insertHTML(t),_.requestRender(),null!=(i=_.delegate)?i.inputControllerDidPaste(a):void 0})):(C(r)?($=r.getData("text/plain"),a.string=$,this.setInputSummary({textAdded:$,didDelete:this.selectionIsExpanded()}),null!=(l=this.delegate)&&l.inputControllerWillPasteText(a),null!=(f=this.responder)&&f.insertString($),this.requestRender(),null!=(g=this.delegate)&&g.inputControllerDidPaste(a)):(o=r.getData("text/html"))?(a.html=o,null!=(m=this.delegate)&&m.inputControllerWillPasteText(a),null!=(v=this.responder)&&v.insertHTML(o),this.requestRender(),null!=(y=this.delegate)&&y.inputControllerDidPaste(a)):(i=r.getData("URL"))?(a.string=i,this.setInputSummary({textAdded:i,didDelete:this.selectionIsExpanded()}),null!=(b=this.delegate)&&b.inputControllerWillPasteText(a),null!=(w=this.responder)&&w.insertText(M.Text.textForStringWithAttributes(i,{href:i})),this.requestRender(),null!=(x=this.delegate)&&x.inputControllerDidPaste(a)):0<=A.call(r.types,"Files")&&(n=null!=(u=r.items)&&null!=(c=u[0])&&"function"==typeof c.getAsFile?c.getAsFile():void 0)&&(!n.name&&(e=S(n))&&(n.name="pasted-file-"+ ++k+"."+e),a.file=n,null!=(p=this.delegate)&&p.inputControllerWillAttachFiles(),null!=(h=this.responder)&&h.insertFile(n),this.requestRender(),null!=(d=this.delegate)&&d.inputControllerDidPaste(a)),t.preventDefault())},compositionstart:function(t){return this.getCompositionInput().start(t.data)},compositionupdate:function(t){return this.getCompositionInput().update(t.data)},compositionend:function(t){return this.getCompositionInput().end(t.data)},input:function(t){return t.stopPropagation()}},e.prototype.keys={backspace:function(t){var e;return null!=(e=this.delegate)&&e.inputControllerWillPerformTyping(),this.deleteInDirection("backward",t)},delete:function(t){var e;return null!=(e=this.delegate)&&e.inputControllerWillPerformTyping(),this.deleteInDirection("forward",t)},return:function(){var t,e;return this.setInputSummary({preferDocument:!0}),null!=(t=this.delegate)&&t.inputControllerWillPerformTyping(),null!=(e=this.responder)?e.insertLineBreak():void 0},tab:function(t){var e,n;return(null!=(e=this.responder)?e.canIncreaseNestingLevel():void 0)?(null!=(n=this.responder)&&n.increaseNestingLevel(),this.requestRender(),t.preventDefault()):void 0},left:function(t){var e;return this.selectionIsInCursorTarget()?(t.preventDefault(),null!=(e=this.responder)?e.moveCursorInDirection("backward"):void 0):void 0},right:function(t){var e;return this.selectionIsInCursorTarget()?(t.preventDefault(),null!=(e=this.responder)?e.moveCursorInDirection("forward"):void 0):void 0},control:{d:function(t){var e;return null!=(e=this.delegate)&&e.inputControllerWillPerformTyping(),this.deleteInDirection("forward",t)},h:function(t){var e;return null!=(e=this.delegate)&&e.inputControllerWillPerformTyping(),this.deleteInDirection("backward",t)},o:function(t){var e,n;return t.preventDefault(),null!=(e=this.delegate)&&e.inputControllerWillPerformTyping(),null!=(n=this.responder)&&n.insertString("\n",{updatePosition:!1}),this.requestRender()}},shift:{return:function(t){var e,n;return null!=(e=this.delegate)&&e.inputControllerWillPerformTyping(),null!=(n=this.responder)&&n.insertString("\n"),this.requestRender(),t.preventDefault()},tab:function(t){var e,n;return(null!=(e=this.responder)?e.canDecreaseNestingLevel():void 0)?(null!=(n=this.responder)&&n.decreaseNestingLevel(),this.requestRender(),t.preventDefault()):void 0},left:function(t){return this.selectionIsInCursorTarget()?(t.preventDefault(),this.expandSelectionInDirection("backward")):void 0},right:function(t){return this.selectionIsInCursorTarget()?(t.preventDefault(),this.expandSelectionInDirection("forward")):void 0}},alt:{backspace:function(){var t;return this.setInputSummary({preferDocument:!1}),null!=(t=this.delegate)?t.inputControllerWillPerformTyping():void 0}},meta:{backspace:function(){var t;return this.setInputSummary({preferDocument:!1}),null!=(t=this.delegate)?t.inputControllerWillPerformTyping():void 0}}},e.prototype.handleInput=function(t){var e,n;try{return null!=(e=this.delegate)&&e.inputControllerWillHandleInput(),t.call(this)}finally{null!=(n=this.delegate)&&n.inputControllerDidHandleInput()}},e.prototype.getCompositionInput=function(){return this.isComposing()?this.compositionInput:this.compositionInput=new M.CompositionInput(this)},e.prototype.isComposing=function(){return null!=this.compositionInput&&!this.compositionInput.isEnded()},e.prototype.deleteInDirection=function(t,e){var n;return!1!==(null!=(n=this.responder)?n.deleteInDirection(t):void 0)?this.setInputSummary({didDelete:!0}):e?(e.preventDefault(),this.requestRender()):void 0},e.prototype.serializeSelectionToDataTransfer=function(t){var e,n;if(i(t))return e=null!=(n=this.responder)?n.getSelectedDocument().toSerializableDocument():void 0,t.setData("application/x-trix-document",JSON.stringify(e)),t.setData("text/html",M.DocumentView.render(e).innerHTML),t.setData("text/plain",e.toString().replace(/\n$/,"")),!0},e.prototype.canAcceptDataTransfer=function(t){var e,n,i,o,r;for(r={},e=0,n=(o=null!=(i=null!=t?t.types:void 0)?i:[]).length;e<n;e++)r[o[e]]=!0;return r.Files||r["application/x-trix-document"]||r["text/html"]||r["text/plain"]},e.prototype.getPastedHTMLUsingHiddenElement=function(e){var n,i,t,o;return i=this.getSelectedRange(),t={position:"absolute",left:window.pageXOffset+"px",top:window.pageYOffset+"px",opacity:0},n=s({style:t,tagName:"div",editable:!0}),document.body.appendChild(n),n.focus(),requestAnimationFrame((o=this,function(){var t;return t=n.innerHTML,document.body.removeChild(n),o.setSelectedRange(i),e(t)}))},e.proxyMethod("responder?.getSelectedRange"),e.proxyMethod("responder?.setSelectedRange"),e.proxyMethod("responder?.expandSelectionInDirection"),e.proxyMethod("responder?.selectionIsInCursorTarget"),e.proxyMethod("responder?.selectionIsExpanded"),e}(),S=function(t){var e,n;return null!=(e=t.type)&&null!=(n=e.match(/\/(\w+)$/))?n[1]:void 0},a=function(t){return t.metaKey&&t.altKey&&!t.shiftKey&&94===t.keyCode},r=function(t){return t.metaKey&&t.altKey&&t.shiftKey&&9674===t.keyCode},c=function(t){return/Mac|^iP/.test(navigator.platform)?t.metaKey:t.ctrlKey},T=function(t){var e,n;return(n=null!=(e=t.clipboardData)?e.types:void 0)?A.call(n,"text/html")<0&&(0<=A.call(n,"com.apple.webarchive")||0<=A.call(n,"com.apple.flat-rtfd")):void 0},C=function(t){var e,n,i;return i=t.getData("text/plain"),n=t.getData("text/html"),i&&n?((e=s("div")).innerHTML=n,e.textContent===i?!e.querySelector(":not(meta)"):void 0):null!=i?i.length:void 0},u={"application/x-trix-feature-detection":"test"},i=function(t){var e,n;if(null!=(null!=t?t.setData:void 0)){for(e in u)if(n=u[e],t.setData(e,n),t.getData(e)!==n)return;return!0}}}.call(this),function(){var r,a,i,s,l,o,u=function(t,e){return function(){return t.apply(e,arguments)}},c={}.hasOwnProperty;a=M.handleEvent,l=M.makeElement,o=M.tagName,i=M.InputController.keyNames,s=M.config.lang,r=M.config.css.classNames,M.AttachmentEditorController=function(t){function e(t,e,n){this.attachmentPiece=t,this.element=e,this.container=n,this.uninstall=u(this.uninstall,this),this.didKeyDownCaption=u(this.didKeyDownCaption,this),this.didChangeCaption=u(this.didChangeCaption,this),this.didClickCaption=u(this.didClickCaption,this),this.didClickRemoveButton=u(this.didClickRemoveButton,this),this.attachment=this.attachmentPiece.attachment,"a"===o(this.element)&&(this.element=this.element.firstChild),this.install()}var n;return function(t,e){function n(){this.constructor=t}for(var i in e)c.call(e,i)&&(t[i]=e[i]);n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype}(e,M.BasicObject),n=function(e){return function(){var t;return(t=e.apply(this,arguments)).do(),null==this.undos&&(this.undos=[]),this.undos.push(t.undo)}},e.prototype.install=function(){return this.makeElementMutable(),this.attachment.isPreviewable()&&this.makeCaptionEditable(),this.addRemoveButton()},e.prototype.makeElementMutable=n(function(){return{do:(e=this,function(){return e.element.dataset.trixMutable=!0}),undo:(t=this,function(){return delete t.element.dataset.trixMutable})};var t,e}),e.prototype.makeCaptionEditable=n(function(){var t,e,n;return t=this.element.querySelector("figcaption"),e=null,{do:(n=this,function(){return e=a("click",{onElement:t,withCallback:n.didClickCaption,inPhase:"capturing"})}),undo:function(){return e.destroy()}}}),e.prototype.addRemoveButton=n(function(){var t,e,n;return t=l({tagName:"button",textContent:s.remove,className:r.attachment.removeButton,attributes:{type:"button",title:s.remove},data:{trixMutable:!0}}),a("click",{onElement:t,withCallback:this.didClickRemoveButton}),{do:(n=this,function(){return n.element.appendChild(t)}),undo:(e=this,function(){return e.element.removeChild(t)})}}),e.prototype.editCaption=n(function(){var t,e,n,i,o;return(i=l({tagName:"textarea",className:r.attachment.captionEditor,attributes:{placeholder:s.captionPlaceholder}})).value=this.attachmentPiece.getCaption(),(o=i.cloneNode()).classList.add("trix-autoresize-clone"),t=function(){return o.value=i.value,i.style.height=o.scrollHeight+"px"},a("input",{onElement:i,withCallback:t}),a("keydown",{onElement:i,withCallback:this.didKeyDownCaption}),a("change",{onElement:i,withCallback:this.didChangeCaption}),a("blur",{onElement:i,withCallback:this.uninstall}),n=this.element.querySelector("figcaption"),e=n.cloneNode(),{do:function(){return n.style.display="none",e.appendChild(i),e.appendChild(o),e.classList.add(r.attachment.editingCaption),n.parentElement.insertBefore(e,n),t(),i.focus()},undo:function(){return e.parentNode.removeChild(e),n.style.display=null}}}),e.prototype.didClickRemoveButton=function(t){var e;return t.preventDefault(),t.stopPropagation(),null!=(e=this.delegate)?e.attachmentEditorDidRequestRemovalOfAttachment(this.attachment):void 0},e.prototype.didClickCaption=function(t){return t.preventDefault(),this.editCaption()},e.prototype.didChangeCaption=function(t){var e,n,i;return(e=t.target.value.replace(/\s/g," ").trim())?null!=(n=this.delegate)&&"function"==typeof n.attachmentEditorDidRequestUpdatingAttributesForAttachment?n.attachmentEditorDidRequestUpdatingAttributesForAttachment({caption:e},this.attachment):void 0:null!=(i=this.delegate)&&"function"==typeof i.attachmentEditorDidRequestRemovingAttributeForAttachment?i.attachmentEditorDidRequestRemovingAttributeForAttachment("caption",this.attachment):void 0},e.prototype.didKeyDownCaption=function(t){var e;return"return"===i[t.keyCode]?(t.preventDefault(),this.didChangeCaption(t),null!=(e=this.delegate)&&"function"==typeof e.attachmentEditorDidRequestDeselectingAttachment?e.attachmentEditorDidRequestDeselectingAttachment(this.attachment):void 0):void 0},e.prototype.uninstall=function(){for(var t,e;e=this.undos.pop();)e();return null!=(t=this.delegate)?t.didUninstallAttachmentEditor(this):void 0},e}()}.call(this),function(){var p,n,h,d,o={}.hasOwnProperty;h=M.makeElement,d=M.selectionElements,p=M.config.css.classNames,M.AttachmentView=function(t){function e(){e.__super__.constructor.apply(this,arguments),this.attachment=this.object,(this.attachment.uploadProgressDelegate=this).attachmentPiece=this.options.piece}return function(t,e){function n(){this.constructor=t}for(var i in e)o.call(e,i)&&(t[i]=e[i]);n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype}(e,M.ObjectView),e.attachmentSelector="[data-trix-attachment]",e.prototype.createContentNodes=function(){return[]},e.prototype.createNodes=function(){var t,e,n,i,o,r,a,s,l,u,c;if(i=h({tagName:"figure",className:this.getClassName()}),this.attachment.hasContent())i.innerHTML=this.attachment.getContent();else for(r=0,s=(u=this.createContentNodes()).length;r<s;r++)l=u[r],i.appendChild(l);for(a in i.appendChild(this.createCaptionElement()),e={trixAttachment:JSON.stringify(this.attachment),trixContentType:this.attachment.getContentType(),trixId:this.attachment.id},(t=this.attachmentPiece.getAttributesForAttachment()).isEmpty()||(e.trixAttributes=JSON.stringify(t)),this.attachment.isPending()&&(this.progressElement=h({tagName:"progress",attributes:{class:p.attachment.progressBar,value:this.attachment.getUploadProgress(),max:100},data:{trixMutable:!0,trixStoreKey:["progressElement",this.attachment.id].join("/")}}),i.appendChild(this.progressElement),e.trixSerialize=!1),(o=this.getHref())?(n=h("a",{href:o})).appendChild(i):n=i,e)c=e[a],n.dataset[a]=c;return n.setAttribute("contenteditable",!1),[d.create("cursorTarget"),n,d.create("cursorTarget")]},e.prototype.createCaptionElement=function(){var t,e,n,i,o;return e=h({tagName:"figcaption",className:p.attachment.caption}),(t=this.attachmentPiece.getCaption())?(e.classList.add(p.attachment.captionEdited),e.textContent=t):(n=this.attachment.getFilename())&&(e.textContent=n,(i=this.attachment.getFormattedFilesize())&&(e.appendChild(document.createTextNode(" ")),o=h({tagName:"span",className:p.attachment.size,textContent:i}),e.appendChild(o))),e},e.prototype.getClassName=function(){var t,e;return e=[p.attachment.container,""+p.attachment.typePrefix+this.attachment.getType()],(t=this.attachment.getExtension())&&e.push(t),e.join(" ")},e.prototype.getHref=function(){return n(this.attachment.getContent(),"a")?void 0:this.attachment.getHref()},e.prototype.findProgressElement=function(){var t;return null!=(t=this.findElement())?t.querySelector("progress"):void 0},e.prototype.attachmentDidChangeUploadProgress=function(){var t,e;return e=this.attachment.getUploadProgress(),null!=(t=this.findProgressElement())?t.value=e:void 0},e}(),n=function(t,e){var n;return(n=h("div")).innerHTML=null!=t?t:"",n.querySelector(e)}}.call(this),function(){var n,o={}.hasOwnProperty;M.defer,n=M.makeElement,M.measureElement,M.PreviewableAttachmentView=function(t){function e(){e.__super__.constructor.apply(this,arguments),this.attachment.previewDelegate=this}return function(t,e){function n(){this.constructor=t}for(var i in e)o.call(e,i)&&(t[i]=e[i]);n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype}(e,M.AttachmentView),e.prototype.createContentNodes=function(){return this.image=n({tagName:"img",attributes:{src:""},data:{trixMutable:!0}}),this.refresh(this.image),[this.image]},e.prototype.refresh=function(t){var e;return null==t&&(t=null!=(e=this.findElement())?e.querySelector("img"):void 0),t?this.updateAttributesForImage(t):void 0},e.prototype.updateAttributesForImage=function(t){var e,n,i,o,r,a;return r=this.attachment.getURL(),n=this.attachment.getPreviewURL(),t.src=n||r,n===r?t.removeAttribute("data-trix-serialized-attributes"):(i=JSON.stringify({src:r}),t.setAttribute("data-trix-serialized-attributes",i)),a=this.attachment.getWidth(),e=this.attachment.getHeight(),null!=a&&(t.width=a),null!=e&&(t.height=e),o=["imageElement",this.attachment.id,t.src,t.width,t.height].join("/"),t.dataset.trixStoreKey=o},e.prototype.attachmentDidChangePreviewURL=function(){return this.refresh(this.image),this.refresh()},e}()}.call(this),function(){var a,l,u,o={}.hasOwnProperty;u=M.makeElement,a=M.findInnerElement,l=M.getTextConfig,M.PieceView=function(t){function e(){var t;e.__super__.constructor.apply(this,arguments),this.piece=this.object,this.attributes=this.piece.getAttributes(),t=this.options,this.textConfig=t.textConfig,this.context=t.context,this.piece.attachment?this.attachment=this.piece.attachment:this.string=this.piece.toString()}var n;return function(t,e){function n(){this.constructor=t}for(var i in e)o.call(e,i)&&(t[i]=e[i]);n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype}(e,M.ObjectView),e.prototype.createNodes=function(){var t,e,n,i,o,r;if(r=this.attachment?this.createAttachmentNodes():this.createStringNodes(),t=this.createElement()){for(n=a(t),e=0,i=r.length;e<i;e++)o=r[e],n.appendChild(o);r=[t]}return r},e.prototype.createAttachmentNodes=function(){var t;return t=this.attachment.isPreviewable()?M.PreviewableAttachmentView:M.AttachmentView,this.createChildView(t,this.piece.attachment,{piece:this.piece}).getNodes()},e.prototype.createStringNodes=function(){var t,e,n,i,o,r,a,s,l;if(null!=(a=this.textConfig)?a.plaintext:void 0)return[document.createTextNode(this.string)];for(r=[],n=e=0,i=(s=this.string.split("\n")).length;e<i;n=++e)l=s[n],0<n&&(t=u("br"),r.push(t)),l.length&&(o=document.createTextNode(this.preserveSpaces(l)),r.push(o));return r},e.prototype.createElement=function(){var t,e,n,i,o,r,a,s;for(i in this.attributes)if((t=l(i))&&(t.tagName&&(o=u(t.tagName),n?(n.appendChild(o),n=o):e=n=o),t.style))if(a)for(i in r=t.style)s=r[i],a[i]=s;else a=t.style;if(a)for(i in null==e&&(e=u("span")),a)s=a[i],e.style[i]=s;return e},e.prototype.createContainerElement=function(){var t,e,n,i,o;for(n in i=this.attributes)if(o=i[n],(e=l(n))&&e.groupTagName)return(t={})[n]=o,u(e.groupTagName,t)},n=M.NON_BREAKING_SPACE,e.prototype.preserveSpaces=function(t){return this.context.isLast&&(t=t.replace(/\ $/,n)),t=t.replace(/(\S)\ {3}(\S)/g,"$1 "+n+" $2").replace(/\ {2}/g,n+" ").replace(/\ {2}/g," "+n),(this.context.isFirst||this.context.followsWhitespace)&&(t=t.replace(/^\ /,n)),t},e}()}.call(this),function(){var o={}.hasOwnProperty;M.TextView=function(t){function e(){e.__super__.constructor.apply(this,arguments),this.text=this.object,this.textConfig=this.options.textConfig}var c;return function(t,e){function n(){this.constructor=t}for(var i in e)o.call(e,i)&&(t[i]=e[i]);n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype}(e,M.ObjectView),e.prototype.createNodes=function(){var t,e,n,i,o,r,a,s,l,u;for(r=[],i=(s=M.ObjectGroup.groupObjects(this.getPieces())).length-1,n=e=0,o=s.length;e<o;n=++e)a=s[n],t={},0===n&&(t.isFirst=!0),n===i&&(t.isLast=!0),c(l)&&(t.followsWhitespace=!0),u=this.findOrCreateCachedChildView(M.PieceView,a,{textConfig:this.textConfig,context:t}),r.push.apply(r,u.getNodes()),l=a;return r},e.prototype.getPieces=function(){var t,e,n,i,o;for(o=[],t=0,e=(i=this.text.getPieces()).length;t<e;t++)(n=i[t]).hasAttribute("blockBreak")||o.push(n);return o},c=function(t){return/\s$/.test(null!=t?t.toString():void 0)},e}()}.call(this),function(){var l,u,o={}.hasOwnProperty;u=M.makeElement,l=M.getBlockConfig,M.BlockView=function(t){function e(){e.__super__.constructor.apply(this,arguments),this.block=this.object,this.attributes=this.block.getAttributes()}return function(t,e){function n(){this.constructor=t}for(var i in e)o.call(e,i)&&(t[i]=e[i]);n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype}(e,M.ObjectView),e.prototype.createNodes=function(){var t,e,n,i,o,r,a,s;if(o=[document.createComment("block")],this.block.isEmpty()?o.push(u("br")):(a=null!=(r=l(this.block.getLastAttribute()))?r.text:void 0,s=this.findOrCreateCachedChildView(M.TextView,this.block.text,{textConfig:a}),o.push.apply(o,s.getNodes()),this.shouldAddExtraNewlineElement()&&o.push(u("br"))),this.attributes.length)return o;for(t=u(M.config.blockAttributes.default.tagName),e=0,n=o.length;e<n;e++)i=o[e],t.appendChild(i);return[t]},e.prototype.createContainerElement=function(t){var e,n;return e=this.attributes[t],n=l(e),u(n.tagName)},e.prototype.shouldAddExtraNewlineElement=function(){return/\n\n$/.test(this.block.toString())},e}()}.call(this),function(){var o,s,r={}.hasOwnProperty;o=M.defer,s=M.makeElement,M.DocumentView=function(t){function e(){e.__super__.constructor.apply(this,arguments),this.element=this.options.element,this.elementStore=new M.ElementStore,this.setDocument(this.object)}var n,c,i;return function(t,e){function n(){this.constructor=t}for(var i in e)r.call(e,i)&&(t[i]=e[i]);n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype}(e,M.ObjectView),e.render=function(t){var e,n;return(n=new this(t,{element:e=s("div")})).render(),n.sync(),e},e.prototype.setDocument=function(t){return t.isEqualTo(this.document)?void 0:this.document=this.object=t},e.prototype.render=function(){var t,e,o,n,i,r,a;if(this.childViews=[],this.shadowElement=s("div"),!this.document.isEmpty()){for(r=[],t=0,e=(i=M.ObjectGroup.groupObjects(this.document.getBlocks(),{asTree:!0})).length;t<e;t++)n=i[t],a=this.findOrCreateCachedChildView(M.BlockView,n),r.push(function(){var t,e,n,i;for(i=[],t=0,e=(n=a.getNodes()).length;t<e;t++)o=n[t],i.push(this.shadowElement.appendChild(o));return i}.call(this));return r}},e.prototype.isSynced=function(){return n(this.shadowElement,this.element)},e.prototype.sync=function(){var t;for(t=this.createDocumentFragmentForSync();this.element.lastChild;)this.element.removeChild(this.element.lastChild);return this.element.appendChild(t),this.didSync()},e.prototype.didSync=function(){return this.elementStore.reset(c(this.element)),o((t=this,function(){return t.garbageCollectCachedViews()}));var t},e.prototype.createDocumentFragmentForSync=function(){var t,e,n,i,o,r,a,s,l,u;for(e=document.createDocumentFragment(),n=0,o=(s=this.shadowElement.childNodes).length;n<o;n++)a=s[n],e.appendChild(a.cloneNode(!0));for(i=0,r=(l=c(e)).length;i<r;i++)t=l[i],(u=this.elementStore.remove(t))&&t.parentNode.replaceChild(u,t);return e},c=function(t){return t.querySelectorAll("[data-trix-store-key]")},n=function(t,e){return i(t.innerHTML)===i(e.innerHTML)},i=function(t){return t.replace(/&nbsp;/g," ")},e}()}.call(this),function(){var n,i,o,r,a=function(t,e){return function(){return t.apply(e,arguments)}},s={}.hasOwnProperty;o=M.handleEvent,M.tagName,M.findClosestElementFromNode,r=M.innerElementIsActive,i=M.defer,n=M.AttachmentView.attachmentSelector,M.CompositionController=function(t){function e(t,e){this.element=t,this.composition=e,this.didClickAttachment=a(this.didClickAttachment,this),this.didBlur=a(this.didBlur,this),this.didFocus=a(this.didFocus,this),this.documentView=new M.DocumentView(this.composition.document,{element:this.element}),o("focus",{onElement:this.element,withCallback:this.didFocus}),o("blur",{onElement:this.element,withCallback:this.didBlur}),o("click",{onElement:this.element,matchingSelector:"a[contenteditable=false]",preventDefault:!0}),o("mousedown",{onElement:this.element,matchingSelector:n,withCallback:this.didClickAttachment}),o("click",{onElement:this.element,matchingSelector:"a"+n,preventDefault:!0})}return function(t,e){function n(){this.constructor=t}for(var i in e)s.call(e,i)&&(t[i]=e[i]);n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype}(e,M.BasicObject),e.prototype.didFocus=function(){var t,e,n,i;return t=function(){var t;return i.focused?void 0:(i.focused=!0,null!=(t=i.delegate)&&"function"==typeof t.compositionControllerDidFocus?t.compositionControllerDidFocus():void 0)},null!=(e=null!=(n=(i=this).blurPromise)?n.then(t):void 0)?e:t()},e.prototype.didBlur=function(){return this.blurPromise=new Promise((n=this,function(e){return i(function(){var t;return r(n.element)||(n.focused=null)!=(t=n.delegate)&&"function"==typeof t.compositionControllerDidBlur&&t.compositionControllerDidBlur(),n.blurPromise=null,e()})}));var n},e.prototype.didClickAttachment=function(t,e){var n,i;return n=this.findAttachmentForElement(e),null!=(i=this.delegate)&&"function"==typeof i.compositionControllerDidSelectAttachment?i.compositionControllerDidSelectAttachment(n):void 0},e.prototype.render=function(){var t,e,n;return this.revision!==this.composition.revision&&(this.documentView.setDocument(this.composition.document),this.documentView.render(),this.revision=this.composition.revision),this.documentView.isSynced()||(null!=(t=this.delegate)&&"function"==typeof t.compositionControllerWillSyncDocumentView&&t.compositionControllerWillSyncDocumentView(),this.documentView.sync(),this.reinstallAttachmentEditor(),null!=(e=this.delegate)&&"function"==typeof e.compositionControllerDidSyncDocumentView&&e.compositionControllerDidSyncDocumentView()),null!=(n=this.delegate)&&"function"==typeof n.compositionControllerDidRender?n.compositionControllerDidRender():void 0},e.prototype.rerenderViewForObject=function(t){return this.invalidateViewForObject(t),this.render()},e.prototype.invalidateViewForObject=function(t){return this.documentView.invalidateViewForObject(t)},e.prototype.isViewCachingEnabled=function(){return this.documentView.isViewCachingEnabled()},e.prototype.enableViewCaching=function(){return this.documentView.enableViewCaching()},e.prototype.disableViewCaching=function(){return this.documentView.disableViewCaching()},e.prototype.refreshViewCache=function(){return this.documentView.garbageCollectCachedViews()},e.prototype.installAttachmentEditorForAttachment=function(t){var e,n,i;if((null!=(i=this.attachmentEditor)?i.attachment:void 0)!==t&&(n=this.documentView.findElementForObject(t)))return this.uninstallAttachmentEditor(),e=this.composition.document.getAttachmentPieceForAttachment(t),this.attachmentEditor=new M.AttachmentEditorController(e,n,this.element),this.attachmentEditor.delegate=this},e.prototype.uninstallAttachmentEditor=function(){var t;return null!=(t=this.attachmentEditor)?t.uninstall():void 0},e.prototype.reinstallAttachmentEditor=function(){var t;return this.attachmentEditor?(t=this.attachmentEditor.attachment,this.uninstallAttachmentEditor(),this.installAttachmentEditorForAttachment(t)):void 0},e.prototype.editAttachmentCaption=function(){var t;return null!=(t=this.attachmentEditor)?t.editCaption():void 0},e.prototype.didUninstallAttachmentEditor=function(){return this.attachmentEditor=null,this.render()},e.prototype.attachmentEditorDidRequestUpdatingAttributesForAttachment=function(t,e){var n;return null!=(n=this.delegate)&&"function"==typeof n.compositionControllerWillUpdateAttachment&&n.compositionControllerWillUpdateAttachment(e),this.composition.updateAttributesForAttachment(t,e)},e.prototype.attachmentEditorDidRequestRemovingAttributeForAttachment=function(t,e){var n;return null!=(n=this.delegate)&&"function"==typeof n.compositionControllerWillUpdateAttachment&&n.compositionControllerWillUpdateAttachment(e),this.composition.removeAttributeForAttachment(t,e)},e.prototype.attachmentEditorDidRequestRemovalOfAttachment=function(t){var e;return null!=(e=this.delegate)&&"function"==typeof e.compositionControllerDidRequestRemovalOfAttachment?e.compositionControllerDidRequestRemovalOfAttachment(t):void 0},e.prototype.attachmentEditorDidRequestDeselectingAttachment=function(t){var e;return null!=(e=this.delegate)&&"function"==typeof e.compositionControllerDidRequestDeselectingAttachment?e.compositionControllerDidRequestDeselectingAttachment(t):void 0},e.prototype.findAttachmentForElement=function(t){return this.composition.document.getAttachmentById(parseInt(t.dataset.trixId,10))},e}()}.call(this),function(){var h,d,f,g=function(t,e){return function(){return t.apply(e,arguments)}},m={}.hasOwnProperty;d=M.handleEvent,f=M.triggerEvent,h=M.findClosestElementFromNode,M.ToolbarController=function(t){function e(t){this.element=t,this.didKeyDownDialogInput=g(this.didKeyDownDialogInput,this),this.didClickDialogButton=g(this.didClickDialogButton,this),this.didClickAttributeButton=g(this.didClickAttributeButton,this),this.didClickActionButton=g(this.didClickActionButton,this),this.attributes={},this.actions={},this.resetDialogInputs(),d("mousedown",{onElement:this.element,matchingSelector:a,withCallback:this.didClickActionButton}),d("mousedown",{onElement:this.element,matchingSelector:s,withCallback:this.didClickAttributeButton}),d("click",{onElement:this.element,matchingSelector:u,preventDefault:!0}),d("click",{onElement:this.element,matchingSelector:n,withCallback:this.didClickDialogButton}),d("keydown",{onElement:this.element,matchingSelector:r,withCallback:this.didKeyDownDialogInput})}var a,s,n,r,i,l,c,o,p,u;return function(t,e){function n(){this.constructor=t}for(var i in e)m.call(e,i)&&(t[i]=e[i]);n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype}(e,M.BasicObject),u=[a="button[data-trix-action]",s="button[data-trix-attribute]"].join(", "),(i=".dialog[data-trix-dialog]")+".active",n=i+" input[data-trix-method]",r=i+" input[type=text], "+i+" input[type=url]",e.prototype.didClickActionButton=function(t,e){var n,i,o;return null!=(i=this.delegate)&&i.toolbarDidClickButton(),t.preventDefault(),n=l(e),this.getDialog(n)?this.toggleDialog(n):null!=(o=this.delegate)?o.toolbarDidInvokeAction(n):void 0},e.prototype.didClickAttributeButton=function(t,e){var n,i,o;return null!=(i=this.delegate)&&i.toolbarDidClickButton(),t.preventDefault(),n=c(e),this.getDialog(n)?this.toggleDialog(n):null!=(o=this.delegate)&&o.toolbarDidToggleAttribute(n),this.refreshAttributeButtons()},e.prototype.didClickDialogButton=function(t,e){var n;return n=h(e,{matchingSelector:i}),this[e.getAttribute("data-trix-method")].call(this,n)},e.prototype.didKeyDownDialogInput=function(t,e){var n,i;return 13===t.keyCode&&(t.preventDefault(),n=e.getAttribute("name"),i=this.getDialog(n),this.setAttribute(i)),27===t.keyCode?(t.preventDefault(),this.hideDialog()):void 0},e.prototype.updateActions=function(t){return this.actions=t,this.refreshActionButtons()},e.prototype.refreshActionButtons=function(){return this.eachActionButton((n=this,function(t,e){return t.disabled=!1===n.actions[e]}));var n},e.prototype.eachActionButton=function(t){var e,n,i,o,r;for(r=[],n=0,i=(o=this.element.querySelectorAll(a)).length;n<i;n++)e=o[n],r.push(t(e,l(e)));return r},e.prototype.updateAttributes=function(t){return this.attributes=t,this.refreshAttributeButtons()},e.prototype.refreshAttributeButtons=function(){return this.eachAttributeButton((n=this,function(t,e){return t.disabled=!1===n.attributes[e],n.attributes[e]||n.dialogIsVisible(e)?t.classList.add("active"):t.classList.remove("active")}));var n},e.prototype.eachAttributeButton=function(t){var e,n,i,o,r;for(r=[],n=0,i=(o=this.element.querySelectorAll(s)).length;n<i;n++)e=o[n],r.push(t(e,c(e)));return r},e.prototype.applyKeyboardCommand=function(t){var e,n,i,o,r,a;for(o=JSON.stringify(t.sort()),i=0,r=(a=this.element.querySelectorAll("[data-trix-key]")).length;i<r;i++)if(n=(e=a[i]).getAttribute("data-trix-key").split("+"),JSON.stringify(n.sort())===o)return f("mousedown",{onElement:e}),!0;return!1},e.prototype.dialogIsVisible=function(t){var e;return(e=this.getDialog(t))?e.classList.contains("active"):void 0},e.prototype.toggleDialog=function(t){return this.dialogIsVisible(t)?this.hideDialog():this.showDialog(t)},e.prototype.showDialog=function(t){var e,n,i,o,r,a,s,l,u;for(this.hideDialog(),null!=(a=this.delegate)&&a.toolbarWillShowDialog(),(n=this.getDialog(t)).classList.add("active"),i=0,r=(s=n.querySelectorAll("input[disabled]")).length;i<r;i++)s[i].removeAttribute("disabled");return(e=c(n))&&(o=p(n,t))&&(o.value=null!=(l=this.attributes[e])?l:"",o.select()),null!=(u=this.delegate)?u.toolbarDidShowDialog(t):void 0},e.prototype.setAttribute=function(t){var e,n,i;return e=c(t),(n=p(t,e)).willValidate&&!n.checkValidity()?(n.classList.add("validate"),n.focus()):(null!=(i=this.delegate)&&i.toolbarDidUpdateAttribute(e,n.value),this.hideDialog())},e.prototype.removeAttribute=function(t){var e,n;return e=c(t),null!=(n=this.delegate)&&n.toolbarDidRemoveAttribute(e),this.hideDialog()},e.prototype.hideDialog=function(){var t,e;return(t=this.element.querySelector(".dialog[data-trix-dialog].active"))?(t.classList.remove("active"),this.resetDialogInputs(),null!=(e=this.delegate)?e.toolbarDidHideDialog(o(t)):void 0):void 0},e.prototype.resetDialogInputs=function(){var t,e,n,i,o;for(o=[],t=0,n=(i=this.element.querySelectorAll(r)).length;t<n;t++)(e=i[t]).setAttribute("disabled","disabled"),o.push(e.classList.remove("validate"));return o},e.prototype.getDialog=function(t){return this.element.querySelector(".dialog[data-trix-dialog="+t+"]")},p=function(t,e){return null==e&&(e=c(t)),t.querySelector("input[name='"+e+"']")},l=function(t){return t.getAttribute("data-trix-action")},c=function(t){return t.getAttribute("data-trix-attribute")},o=function(t){return t.getAttribute("data-trix-dialog")},e}()}.call(this),function(){var o={}.hasOwnProperty;M.ImagePreloadOperation=function(t){function e(t){this.url=t}return function(t,e){function n(){this.constructor=t}for(var i in e)o.call(e,i)&&(t[i]=e[i]);n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype}(e,M.Operation),e.prototype.perform=function(t){var e,n;return(e=new Image).onload=(n=this,function(){return e.width=n.width=e.naturalWidth,e.height=n.height=e.naturalHeight,t(!0,e)}),e.onerror=function(){return t(!1)},e.src=this.url},e}()}.call(this),function(){var o={}.hasOwnProperty;M.Attachment=function(t){function i(t){var e,n;null==t&&(t={}),this.releaseFile=(e=this.releaseFile,n=this,function(){return e.apply(n,arguments)}),i.__super__.constructor.apply(this,arguments),this.attributes=M.Hash.box(t),this.didChangeAttributes()}return function(t,e){function n(){this.constructor=t}for(var i in e)o.call(e,i)&&(t[i]=e[i]);n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype}(i,M.Object),i.previewablePattern=/^image(\/(gif|png|jpe?g)|$)/,i.attachmentForFile=function(t){var e;return(e=new this(this.attributesForFile(t))).setFile(t),e},i.attributesForFile=function(t){return new M.Hash({filename:t.name,filesize:t.size,contentType:t.type})},i.fromJSON=function(t){return new this(t)},i.prototype.getAttribute=function(t){return this.attributes.get(t)},i.prototype.hasAttribute=function(t){return this.attributes.has(t)},i.prototype.getAttributes=function(){return this.attributes.toObject()},i.prototype.setAttributes=function(t){var e,n;return null==t&&(t={}),e=this.attributes.merge(t),this.attributes.isEqualTo(e)?void 0:(this.attributes=e,this.didChangeAttributes(),null!=(n=this.delegate)&&"function"==typeof n.attachmentDidChangeAttributes?n.attachmentDidChangeAttributes(this):void 0)},i.prototype.didChangeAttributes=function(){return this.isPreviewable()?this.preloadURL():void 0},i.prototype.isPending=function(){return null!=this.file&&!(this.getURL()||this.getHref())},i.prototype.isPreviewable=function(){return this.attributes.has("previewable")?this.attributes.get("previewable"):this.constructor.previewablePattern.test(this.getContentType())},i.prototype.getType=function(){return this.hasContent()?"content":this.isPreviewable()?"preview":"file"},i.prototype.getURL=function(){return this.attributes.get("url")},i.prototype.getHref=function(){return this.attributes.get("href")},i.prototype.getFilename=function(){var t;return null!=(t=this.attributes.get("filename"))?t:""},i.prototype.getFilesize=function(){return this.attributes.get("filesize")},i.prototype.getFormattedFilesize=function(){var t;return"number"==typeof(t=this.attributes.get("filesize"))?M.config.fileSize.formatter(t):""},i.prototype.getExtension=function(){var t;return null!=(t=this.getFilename().match(/\.(\w+)$/))?t[1].toLowerCase():void 0},i.prototype.getContentType=function(){return this.attributes.get("contentType")},i.prototype.hasContent=function(){return this.attributes.has("content")},i.prototype.getContent=function(){return this.attributes.get("content")},i.prototype.getWidth=function(){return this.attributes.get("width")},i.prototype.getHeight=function(){return this.attributes.get("height")},i.prototype.getFile=function(){return this.file},i.prototype.setFile=function(t){return this.file=t,this.isPreviewable()?this.preloadFile():void 0},i.prototype.releaseFile=function(){return this.releasePreloadedFile(),this.file=null},i.prototype.getUploadProgress=function(){var t;return null!=(t=this.uploadProgress)?t:0},i.prototype.setUploadProgress=function(t){var e;return this.uploadProgress!==t?(this.uploadProgress=t,null!=(e=this.uploadProgressDelegate)&&"function"==typeof e.attachmentDidChangeUploadProgress?e.attachmentDidChangeUploadProgress(this):void 0):void 0},i.prototype.toJSON=function(){return this.getAttributes()},i.prototype.getCacheKey=function(){return[i.__super__.getCacheKey.apply(this,arguments),this.attributes.getCacheKey(),this.getPreviewURL()].join("/")},i.prototype.getPreviewURL=function(){return this.previewURL||this.preloadingURL},i.prototype.setPreviewURL=function(t){var e,n;return t!==this.getPreviewURL()?(this.previewURL=t,null!=(e=this.previewDelegate)&&"function"==typeof e.attachmentDidChangePreviewURL&&e.attachmentDidChangePreviewURL(this),null!=(n=this.delegate)&&"function"==typeof n.attachmentDidChangePreviewURL?n.attachmentDidChangePreviewURL(this):void 0):void 0},i.prototype.preloadURL=function(){return this.preload(this.getURL(),this.releaseFile)},i.prototype.preloadFile=function(){return this.file?(this.fileObjectURL=URL.createObjectURL(this.file),this.preload(this.fileObjectURL)):void 0},i.prototype.releasePreloadedFile=function(){return this.fileObjectURL?(URL.revokeObjectURL(this.fileObjectURL),this.fileObjectURL=null):void 0},i.prototype.preload=function(i,o){var r;return i&&i!==this.getPreviewURL()?(this.preloadingURL=i,new M.ImagePreloadOperation(i).then((r=this,function(t){var e,n;return n=t.width,e=t.height,r.setAttributes({width:n,height:e}),r.preloadingURL=null,r.setPreviewURL(i),"function"==typeof o?o():void 0}))):void 0},i}()}.call(this),function(){var o={}.hasOwnProperty;M.Piece=function(t){function n(t,e){null==e&&(e={}),n.__super__.constructor.apply(this,arguments),this.attributes=M.Hash.box(e)}return function(t,e){function n(){this.constructor=t}for(var i in e)o.call(e,i)&&(t[i]=e[i]);n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype}(n,M.Object),n.types={},n.registerType=function(t,e){return e.type=t,this.types[t]=e},n.fromJSON=function(t){var e;return(e=this.types[t.type])?e.fromJSON(t):void 0},n.prototype.copyWithAttributes=function(t){return new this.constructor(this.getValue(),t)},n.prototype.copyWithAdditionalAttributes=function(t){return this.copyWithAttributes(this.attributes.merge(t))},n.prototype.copyWithoutAttribute=function(t){return this.copyWithAttributes(this.attributes.remove(t))},n.prototype.copy=function(){return this.copyWithAttributes(this.attributes)},n.prototype.getAttribute=function(t){return this.attributes.get(t)},n.prototype.getAttributesHash=function(){return this.attributes},n.prototype.getAttributes=function(){return this.attributes.toObject()},n.prototype.getCommonAttributes=function(){var e,n,t;return(t=pieceList.getPieceAtIndex(0))?(e=t.attributes,n=e.getKeys(),pieceList.eachPiece(function(t){return n=e.getKeysCommonToHash(t.attributes),e=e.slice(n)}),e.toObject()):{}},n.prototype.hasAttribute=function(t){return this.attributes.has(t)},n.prototype.hasSameStringValueAsPiece=function(t){return null!=t&&this.toString()===t.toString()},n.prototype.hasSameAttributesAsPiece=function(t){return null!=t&&(this.attributes===t.attributes||this.attributes.isEqualTo(t.attributes))},n.prototype.isBlockBreak=function(){return!1},n.prototype.isEqualTo=function(t){return n.__super__.isEqualTo.apply(this,arguments)||this.hasSameConstructorAs(t)&&this.hasSameStringValueAsPiece(t)&&this.hasSameAttributesAsPiece(t)},n.prototype.isEmpty=function(){return 0===this.length},n.prototype.isSerializable=function(){return!0},n.prototype.toJSON=function(){return{type:this.constructor.type,attributes:this.getAttributes()}},n.prototype.contentsForInspection=function(){return{type:this.constructor.type,attributes:this.attributes.inspect()}},n.prototype.canBeGrouped=function(){return this.hasAttribute("href")},n.prototype.canBeGroupedWith=function(t){return this.getAttribute("href")===t.getAttribute("href")},n.prototype.getLength=function(){return this.length},n.prototype.canBeConsolidatedWith=function(){return!1},n}()}.call(this),function(){var o={}.hasOwnProperty;M.Piece.registerType("attachment",M.AttachmentPiece=function(t){function n(t){this.attachment=t,n.__super__.constructor.apply(this,arguments),this.length=1,this.ensureAttachmentExclusivelyHasAttribute("href")}return function(t,e){function n(){this.constructor=t}for(var i in e)o.call(e,i)&&(t[i]=e[i]);n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype}(n,M.Piece),n.fromJSON=function(t){return new this(M.Attachment.fromJSON(t.attachment),t.attributes)},n.prototype.ensureAttachmentExclusivelyHasAttribute=function(t){return this.hasAttribute(t)&&this.attachment.hasAttribute(t)?this.attributes=this.attributes.remove(t):void 0},n.prototype.getValue=function(){return this.attachment},n.prototype.isSerializable=function(){return!this.attachment.isPending()},n.prototype.getCaption=function(){var t;return null!=(t=this.attributes.get("caption"))?t:""},n.prototype.getAttributesForAttachment=function(){return this.attributes.slice(["caption"])},n.prototype.canBeGrouped=function(){return n.__super__.canBeGrouped.apply(this,arguments)&&!this.attachment.hasAttribute("href")},n.prototype.isEqualTo=function(t){var e;return n.__super__.isEqualTo.apply(this,arguments)&&this.attachment.id===(null!=t&&null!=(e=t.attachment)?e.id:void 0)},n.prototype.toString=function(){return M.OBJECT_REPLACEMENT_CHARACTER},n.prototype.toJSON=function(){var t;return(t=n.__super__.toJSON.apply(this,arguments)).attachment=this.attachment,t},n.prototype.getCacheKey=function(){return[n.__super__.getCacheKey.apply(this,arguments),this.attachment.getCacheKey()].join("/")},n.prototype.toConsole=function(){return JSON.stringify(this.toString())},n}())}.call(this),function(){var o={}.hasOwnProperty;M.Piece.registerType("string",M.StringPiece=function(t){function e(t){e.__super__.constructor.apply(this,arguments),this.string=t,this.length=this.string.length}return function(t,e){function n(){this.constructor=t}for(var i in e)o.call(e,i)&&(t[i]=e[i]);n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype}(e,M.Piece),e.fromJSON=function(t){return new this(t.string,t.attributes)},e.prototype.getValue=function(){return this.string},e.prototype.toString=function(){return this.string.toString()},e.prototype.isBlockBreak=function(){return"\n"===this.toString()&&!0===this.getAttribute("blockBreak")},e.prototype.toJSON=function(){var t;return(t=e.__super__.toJSON.apply(this,arguments)).string=this.string,t},e.prototype.canBeConsolidatedWith=function(t){return null!=t&&this.hasSameConstructorAs(t)&&this.hasSameAttributesAsPiece(t)},e.prototype.consolidateWith=function(t){return new this.constructor(this.toString()+t.toString(),this.attributes)},e.prototype.splitAtOffset=function(t){var e,n;return n=0===t?(e=null,this):t===this.length?(e=this,null):(e=new this.constructor(this.string.slice(0,t),this.attributes),new this.constructor(this.string.slice(t),this.attributes)),[e,n]},e.prototype.toConsole=function(){var t;return 15<(t=this.string).length&&(t=t.slice(0,14)+""),JSON.stringify(t.toString())},e}())}.call(this),function(){var i,o={}.hasOwnProperty,r=[].slice;i=M.spliceArray,M.SplittableList=function(t){function e(t){null==t&&(t=[]),e.__super__.constructor.apply(this,arguments),this.objects=t.slice(0),this.length=this.objects.length}var a,n,s;return function(t,e){function n(){this.constructor=t}for(var i in e)o.call(e,i)&&(t[i]=e[i]);n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype}(e,M.Object),e.box=function(t){return t instanceof this?t:new this(t)},e.prototype.indexOf=function(t){return this.objects.indexOf(t)},e.prototype.splice=function(){var t;return t=1<=arguments.length?r.call(arguments,0):[],new this.constructor(i.apply(null,[this.objects].concat(r.call(t))))},e.prototype.eachObject=function(t){var e,n,i,o,r,a;for(a=[],n=e=0,i=(r=this.objects).length;e<i;n=++e)o=r[n],a.push(t(o,n));return a},e.prototype.insertObjectAtIndex=function(t,e){return this.splice(e,0,t)},e.prototype.insertSplittableListAtIndex=function(t,e){return this.splice.apply(this,[e,0].concat(r.call(t.objects)))},e.prototype.insertSplittableListAtPosition=function(t,e){var n,i,o;return i=(o=this.splitObjectAtPosition(e))[0],n=o[1],new this.constructor(i).insertSplittableListAtIndex(t,n)},e.prototype.editObjectAtIndex=function(t,e){return this.replaceObjectAtIndex(e(this.objects[t]),t)},e.prototype.replaceObjectAtIndex=function(t,e){return this.splice(e,1,t)},e.prototype.removeObjectAtIndex=function(t){return this.splice(t,1)},e.prototype.getObjectAtIndex=function(t){return this.objects[t]},e.prototype.getSplittableListInRange=function(t){var e,n,i,o;return n=(i=this.splitObjectsAtRange(t))[0],e=i[1],o=i[2],new this.constructor(n.slice(e,o+1))},e.prototype.selectSplittableList=function(o){var r,t;return t=function(){var t,e,n,i;for(i=[],t=0,e=(n=this.objects).length;t<e;t++)r=n[t],o(r)&&i.push(r);return i}.call(this),new this.constructor(t)},e.prototype.removeObjectsInRange=function(t){var e,n,i,o;return n=(i=this.splitObjectsAtRange(t))[0],e=i[1],o=i[2],new this.constructor(n).splice(e,o-e+1)},e.prototype.transformObjectsInRange=function(t,i){var o,r,a,s,e,l,n;return e=this.splitObjectsAtRange(t),s=e[0],r=e[1],l=e[2],n=function(){var t,e,n;for(n=[],o=t=0,e=s.length;t<e;o=++t)a=s[o],n.push(r<=o&&o<=l?i(a):a);return n}(),new this.constructor(n)},e.prototype.splitObjectsAtRange=function(t){var e,n,i,o,r;return n=(o=this.splitObjectAtPosition(s(t)))[0],e=o[1],i=o[2],[n=(r=new this.constructor(n).splitObjectAtPosition(a(t)+i))[0],e,r[1]-1]},e.prototype.getObjectAtPosition=function(t){var e,n;return e=(n=this.findIndexAndOffsetAtPosition(t)).index,n.offset,this.objects[e]},e.prototype.splitObjectAtPosition=function(t){var e,n,i,o,r,a,s,l,u;return e=(r=this.findIndexAndOffsetAtPosition(t)).index,o=r.offset,i=this.objects.slice(0),u=null!=e?0===o?(l=e,0):(n=(a=this.getObjectAtIndex(e).splitAtOffset(o))[0],s=a[1],i.splice(e,1,n,s),l=e+1,n.getLength()-o):(l=i.length,0),[i,l,u]},e.prototype.consolidate=function(){var t,e,n,i,o,r;for(i=[],o=this.objects[0],t=0,e=(r=this.objects.slice(1)).length;t<e;t++)n=r[t],o=("function"==typeof o.canBeConsolidatedWith?o.canBeConsolidatedWith(n):void 0)?o.consolidateWith(n):(i.push(o),n);return null!=o&&i.push(o),new this.constructor(i)},e.prototype.consolidateFromIndexToIndex=function(t,e){var n,i;return i=this.objects.slice(0).slice(t,e+1),n=new this.constructor(i).consolidate().toArray(),this.splice.apply(this,[t,i.length].concat(r.call(n)))},e.prototype.findIndexAndOffsetAtPosition=function(t){var e,n,i,o,r,a;for(i=n=e=0,o=(a=this.objects).length;n<o;i=++n){if(r=e+a[i].getLength(),e<=t&&t<r)return{index:i,offset:t-e};e=r}return{index:null,offset:null}},e.prototype.findPositionAtIndexAndOffset=function(t,e){var n,i,o,r,a,s;for(n=i=a=0,o=(s=this.objects).length;i<o;n=++i)if(r=s[n],n<t)a+=r.getLength();else if(n===t){a+=e;break}return a},e.prototype.getEndPosition=function(){var i,o;return null!=this.endPosition?this.endPosition:this.endPosition=function(){var t,e,n;for(t=o=0,e=(n=this.objects).length;t<e;t++)i=n[t],o+=i.getLength();return o}.call(this)},e.prototype.toString=function(){return this.objects.join("")},e.prototype.toArray=function(){return this.objects.slice(0)},e.prototype.toJSON=function(){return this.toArray()},e.prototype.isEqualTo=function(t){return e.__super__.isEqualTo.apply(this,arguments)||n(this.objects,null!=t?t.objects:void 0)},n=function(t,e){var n,i,o,r,a;if(null==e&&(e=[]),t.length!==e.length)return!1;for(a=!0,i=n=0,o=t.length;n<o;i=++n)r=t[i],a&&!r.isEqualTo(e[i])&&(a=!1);return a},e.prototype.contentsForInspection=function(){var o;return{objects:"["+function(){var t,e,n,i;for(i=[],t=0,e=(n=this.objects).length;t<e;t++)o=n[t],i.push(o.inspect());return i}.call(this).join(", ")+"]"}},s=function(t){return t[0]},a=function(t){return t[1]},e}()}.call(this),function(){var o={}.hasOwnProperty;M.Text=function(t){function n(i){var o;null==i&&(i=[]),n.__super__.constructor.apply(this,arguments),this.pieceList=new M.SplittableList(function(){var t,e,n;for(n=[],t=0,e=i.length;t<e;t++)(o=i[t]).isEmpty()||n.push(o);return n}())}return function(t,e){function n(){this.constructor=t}for(var i in e)o.call(e,i)&&(t[i]=e[i]);n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype}(n,M.Object),n.textForAttachmentWithAttributes=function(t,e){return new this([new M.AttachmentPiece(t,e)])},n.textForStringWithAttributes=function(t,e){return new this([new M.StringPiece(t,e)])},n.fromJSON=function(i){var o;return new this(function(){var t,e,n;for(n=[],t=0,e=i.length;t<e;t++)o=i[t],n.push(M.Piece.fromJSON(o));return n}())},n.prototype.copy=function(){return this.copyWithPieceList(this.pieceList)},n.prototype.copyWithPieceList=function(t){return new this.constructor(t.consolidate().toArray())},n.prototype.copyUsingObjectMap=function(r){var a,t;return t=function(){var t,e,n,i,o;for(o=[],t=0,e=(n=this.getPieces()).length;t<e;t++)a=n[t],o.push(null!=(i=r.find(a))?i:a);return o}.call(this),new this.constructor(t)},n.prototype.appendText=function(t){return this.insertTextAtPosition(t,this.getLength())},n.prototype.insertTextAtPosition=function(t,e){return this.copyWithPieceList(this.pieceList.insertSplittableListAtPosition(t.pieceList,e))},n.prototype.removeTextAtRange=function(t){return this.copyWithPieceList(this.pieceList.removeObjectsInRange(t))},n.prototype.replaceTextAtRange=function(t,e){return this.removeTextAtRange(e).insertTextAtPosition(t,e[0])},n.prototype.moveTextFromRangeToPosition=function(t,e){var n,i;if(!(t[0]<=e&&e<=t[1]))return n=(i=this.getTextAtRange(t)).getLength(),t[0]<e&&(e-=n),this.removeTextAtRange(t).insertTextAtPosition(i,e)},n.prototype.addAttributeAtRange=function(t,e,n){var i;return(i={})[t]=e,this.addAttributesAtRange(i,n)},n.prototype.addAttributesAtRange=function(e,t){return this.copyWithPieceList(this.pieceList.transformObjectsInRange(t,function(t){return t.copyWithAdditionalAttributes(e)}))},n.prototype.removeAttributeAtRange=function(e,t){return this.copyWithPieceList(this.pieceList.transformObjectsInRange(t,function(t){return t.copyWithoutAttribute(e)}))},n.prototype.setAttributesAtRange=function(e,t){return this.copyWithPieceList(this.pieceList.transformObjectsInRange(t,function(t){return t.copyWithAttributes(e)}))},n.prototype.getAttributesAtPosition=function(t){var e,n;return null!=(e=null!=(n=this.pieceList.getObjectAtPosition(t))?n.getAttributes():void 0)?e:{}},n.prototype.getCommonAttributes=function(){var t,o;return t=function(){var t,e,n,i;for(i=[],t=0,e=(n=this.pieceList.toArray()).length;t<e;t++)o=n[t],i.push(o.getAttributes());return i}.call(this),M.Hash.fromCommonAttributesOfObjects(t).toObject()},n.prototype.getCommonAttributesAtRange=function(t){var e;return null!=(e=this.getTextAtRange(t).getCommonAttributes())?e:{}},n.prototype.getExpandedRangeForAttributeAtOffset=function(t,e){var n,i,o;for(n=o=e,i=this.getLength();0<n&&this.getCommonAttributesAtRange([n-1,o])[t];)n--;for(;o<i&&this.getCommonAttributesAtRange([e,o+1])[t];)o++;return[n,o]},n.prototype.getTextAtRange=function(t){return this.copyWithPieceList(this.pieceList.getSplittableListInRange(t))},n.prototype.getStringAtRange=function(t){return this.pieceList.getSplittableListInRange(t).toString()},n.prototype.getStringAtPosition=function(t){return this.getStringAtRange([t,t+1])},n.prototype.startsWithString=function(t){return this.getStringAtRange([0,t.length])===t},n.prototype.endsWithString=function(t){var e;return e=this.getLength(),this.getStringAtRange([e-t.length,e])===t},n.prototype.getAttachmentPieces=function(){var t,e,n,i,o;for(o=[],t=0,e=(i=this.pieceList.toArray()).length;t<e;t++)null!=(n=i[t]).attachment&&o.push(n);return o},n.prototype.getAttachments=function(){var t,e,n,i,o;for(o=[],t=0,e=(i=this.getAttachmentPieces()).length;t<e;t++)n=i[t],o.push(n.attachment);return o},n.prototype.getAttachmentAndPositionById=function(t){var e,n,i,o,r,a;for(e=o=0,n=(r=this.pieceList.toArray()).length;e<n;e++){if((null!=(a=(i=r[e]).attachment)?a.id:void 0)===t)return{attachment:i.attachment,position:o};o+=i.length}return{attachment:null,position:null}},n.prototype.getAttachmentById=function(t){var e,n;return e=(n=this.getAttachmentAndPositionById(t)).attachment,n.position,e},n.prototype.getRangeOfAttachment=function(t){var e,n;return t=(n=this.getAttachmentAndPositionById(t.id)).attachment,e=n.position,null!=t?[e,e+1]:void 0},n.prototype.updateAttributesForAttachment=function(t,e){var n;return(n=this.getRangeOfAttachment(e))?this.addAttributesAtRange(t,n):this},n.prototype.getLength=function(){return this.pieceList.getEndPosition()},n.prototype.isEmpty=function(){return 0===this.getLength()},n.prototype.isEqualTo=function(t){var e;return n.__super__.isEqualTo.apply(this,arguments)||(null!=t&&null!=(e=t.pieceList)?e.isEqualTo(this.pieceList):void 0)},n.prototype.isBlockBreak=function(){return 1===this.getLength()&&this.pieceList.getObjectAtIndex(0).isBlockBreak()},n.prototype.eachPiece=function(t){return this.pieceList.eachObject(t)},n.prototype.getPieces=function(){return this.pieceList.toArray()},n.prototype.getPieceAtPosition=function(t){return this.pieceList.getObjectAtPosition(t)},n.prototype.contentsForInspection=function(){return{pieceList:this.pieceList.inspect()}},n.prototype.toSerializableText=function(){var t;return t=this.pieceList.selectSplittableList(function(t){return t.isSerializable()}),this.copyWithPieceList(t)},n.prototype.toString=function(){return this.pieceList.toString()},n.prototype.toJSON=function(){return this.pieceList.toJSON()},n.prototype.toConsole=function(){var o;return JSON.stringify(function(){var t,e,n,i;for(i=[],t=0,e=(n=this.pieceList.toArray()).length;t<e;t++)o=n[t],i.push(JSON.parse(o.toConsole()));return i}.call(this))},n}()}.call(this),function(){var p,h,d,f,g={}.hasOwnProperty,m=[].slice,v=[].indexOf||function(t){for(var e=0,n=this.length;e<n;e++)if(e in this&&this[e]===t)return e;return-1};p=M.arraysAreEqual,f=M.spliceArray,h=M.getBlockConfig,M.getBlockAttributeNames,d=M.getListAttributeNames,M.Block=function(t){function n(t,e){null==t&&(t=new M.Text),null==e&&(e=[]),n.__super__.constructor.apply(this,arguments),this.text=i(t),this.attributes=e}var e,i,o,r,a,s,l,u,c;return function(t,e){function n(){this.constructor=t}for(var i in e)g.call(e,i)&&(t[i]=e[i]);n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype}(n,M.Object),n.fromJSON=function(t){return new this(M.Text.fromJSON(t.text),t.attributes)},n.prototype.isEmpty=function(){return this.text.isBlockBreak()},n.prototype.isEqualTo=function(t){return n.__super__.isEqualTo.apply(this,arguments)||this.text.isEqualTo(null!=t?t.text:void 0)&&p(this.attributes,null!=t?t.attributes:void 0)},n.prototype.copyWithText=function(t){return new this.constructor(t,this.attributes)},n.prototype.copyWithoutText=function(){return this.copyWithText(null)},n.prototype.copyWithAttributes=function(t){return new this.constructor(this.text,t)},n.prototype.copyUsingObjectMap=function(t){var e;return this.copyWithText((e=t.find(this.text))?e:this.text.copyUsingObjectMap(t))},n.prototype.addAttribute=function(t){var e;return e=this.attributes.concat(r(t)),this.copyWithAttributes(e)},n.prototype.removeAttribute=function(t){var e,n;return n=h(t).listAttribute,e=s(s(this.attributes,t),n),this.copyWithAttributes(e)},n.prototype.removeLastAttribute=function(){return this.removeAttribute(this.getLastAttribute())},n.prototype.getLastAttribute=function(){return a(this.attributes)},n.prototype.getAttributes=function(){return this.attributes.slice(0)},n.prototype.getAttributeLevel=function(){return this.attributes.length},n.prototype.getAttributeAtLevel=function(t){return this.attributes[t-1]},n.prototype.hasAttributes=function(){return 0<this.getAttributeLevel()},n.prototype.getLastNestableAttribute=function(){return a(this.getNestableAttributes())},n.prototype.getNestableAttributes=function(){var t,e,n,i,o;for(o=[],e=0,n=(i=this.attributes).length;e<n;e++)t=i[e],h(t).nestable&&o.push(t);return o},n.prototype.getNestingLevel=function(){return this.getNestableAttributes().length},n.prototype.decreaseNestingLevel=function(){var t;return(t=this.getLastNestableAttribute())?this.removeAttribute(t):this},n.prototype.increaseNestingLevel=function(){var t,e,n;return(t=this.getLastNestableAttribute())?(n=this.attributes.lastIndexOf(t),e=f.apply(null,[this.attributes,n+1,0].concat(m.call(r(t)))),this.copyWithAttributes(e)):this},n.prototype.getListItemAttributes=function(){var t,e,n,i,o;for(o=[],e=0,n=(i=this.attributes).length;e<n;e++)t=i[e],h(t).listAttribute&&o.push(t);return o},n.prototype.isListItem=function(){var t;return null!=(t=h(this.getLastAttribute()))?t.listAttribute:void 0},n.prototype.isTerminalBlock=function(){var t;return null!=(t=h(this.getLastAttribute()))?t.terminal:void 0},n.prototype.breaksOnReturn=function(){var t;return null!=(t=h(this.getLastAttribute()))?t.breakOnReturn:void 0},n.prototype.findLineBreakInDirectionFromPosition=function(t,e){var n,i;return i=this.toString(),-1!==(n=function(){switch(t){case"forward":return i.indexOf("\n",e);case"backward":return i.slice(0,e).lastIndexOf("\n")}}())?n:void 0},n.prototype.contentsForInspection=function(){return{text:this.text.inspect(),attributes:this.attributes}},n.prototype.toString=function(){return this.text.toString()},n.prototype.toJSON=function(){return{text:this.text,attributes:this.attributes}},n.prototype.getLength=function(){return this.text.getLength()},n.prototype.canBeConsolidatedWith=function(t){return!this.hasAttributes()&&!t.hasAttributes()},n.prototype.consolidateWith=function(t){var e,n;return e=M.Text.textForStringWithAttributes("\n"),n=this.getTextWithoutBlockBreak().appendText(e),this.copyWithText(n.appendText(t.text))},n.prototype.splitAtOffset=function(t){var e,n;return n=0===t?(e=null,this):t===this.getLength()?(e=this,null):(e=this.copyWithText(this.text.getTextAtRange([0,t])),this.copyWithText(this.text.getTextAtRange([t,this.getLength()]))),[e,n]},n.prototype.getBlockBreakPosition=function(){return this.text.getLength()-1},n.prototype.getTextWithoutBlockBreak=function(){return l(this.text)?this.text.getTextAtRange([0,this.getBlockBreakPosition()]):this.text.copy()},n.prototype.canBeGrouped=function(t){return this.attributes[t]},n.prototype.canBeGroupedWith=function(t,e){var n,i,o,r;return i=(o=t.getAttributes())[e],(n=this.attributes[e])===i&&!(!1===h(n).group&&(r=o[e+1],v.call(d(),r)<0))},i=function(t){return t=c(t),e(t)},c=function(t){var e,i,n,o,r,a;return o=!1,a=t.getPieces(),i=2<=a.length?m.call(a,0,e=a.length-1):(e=0,[]),null==(n=a[e++])?t:(i=function(){var t,e,n;for(n=[],t=0,e=i.length;t<e;t++)(r=i[t]).isBlockBreak()?(o=!0,n.push(u(r))):n.push(r);return n}(),o?new M.Text(m.call(i).concat([n])):t)},o=M.Text.textForStringWithAttributes("\n",{blockBreak:!0}),e=function(t){return l(t)?t:t.appendText(o)},l=function(t){var e;return 0!==(e=t.getLength())&&t.getTextAtRange([e-1,e]).isBlockBreak()},u=function(t){return t.copyWithoutAttribute("blockBreak")},r=function(t){var e;return null!=(e=h(t).listAttribute)?[e,t]:[t]},a=function(t){return t.slice(-1)[0]},s=function(t,e){var n;return-1===(n=t.lastIndexOf(e))?t:f(t,n,1)},n}()}.call(this),function(){var y,b,w,x,$,_,k,C,S,T={}.hasOwnProperty,A=[].slice,D=[].indexOf||function(t){for(var e=0,n=this.length;e<n;e++)if(e in this&&this[e]===t)return e;return-1};y=M.arraysAreEqual,k=M.normalizeSpaces,$=M.makeElement,C=M.tagName,x=M.getBlockTagNames,S=M.walkTree,w=M.findClosestElementFromNode,b=M.elementContainsNode,_=M.nodeIsAttachmentElement,M.HTMLParser=function(t){function e(t,e){this.html=t,this.referenceElement=(null!=e?e:{}).referenceElement,this.blocks=[],this.blockElements=[],this.processedElements=[]}var m,i,n,o,v,a,r,s,l,u,c,p,h,d,f,g;return function(t,e){function n(){this.constructor=t}for(var i in e)T.call(e,i)&&(t[i]=e[i]);n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype}(e,M.BasicObject),m="style href src width height class".split(" "),e.parse=function(t,e){var n;return(n=new this(t,e)).parse(),n},e.prototype.getDocument=function(){return M.Document.fromJSON(this.blocks)},e.prototype.parse=function(){var t,e;try{for(this.createHiddenContainer(),t=h(this.html),this.containerElement.innerHTML=t,e=S(this.containerElement,{usingFilter:u});e.nextNode();)this.processNode(e.currentNode);return this.translateBlockElementMarginsToNewlines()}finally{this.removeHiddenContainer()}},e.prototype.createHiddenContainer=function(){return this.referenceElement?(this.containerElement=this.referenceElement.cloneNode(!1),this.containerElement.removeAttribute("id"),this.containerElement.setAttribute("data-trix-internal",""),this.containerElement.style.display="none",this.referenceElement.parentNode.insertBefore(this.containerElement,this.referenceElement.nextSibling)):(this.containerElement=$({tagName:"div",style:{display:"none"}}),document.body.appendChild(this.containerElement))},e.prototype.removeHiddenContainer=function(){return this.containerElement.parentNode.removeChild(this.containerElement)},h=function(t){var e,n,i,o,r,a,s,l,u,c,p,h,d,f,g;for(t=t.replace(/<\/html[^>]*>[^]*$/i,"</html>"),(n=document.implementation.createHTMLDocument("")).documentElement.innerHTML=t,e=n.body,i=0,a=(h=n.head.querySelectorAll("style")).length;i<a;i++)f=h[i],e.appendChild(f);for(p=[],g=S(e);g.nextNode();)switch(c=g.currentNode,c.nodeType){case Node.ELEMENT_NODE:if(v(c))p.push(c);else for(o=0,s=(d=A.call(c.attributes)).length;o<s;o++)u=d[o].name,0<=D.call(m,u)||0===u.indexOf("data-trix")||c.removeAttribute(u);break;case Node.COMMENT_NODE:p.push(c)}for(r=0,l=p.length;r<l;r++)(c=p[r]).parentNode.removeChild(c);return e.innerHTML},v=function(t){return(null!=t?t.nodeType:void 0)!==Node.ELEMENT_NODE||_(t)?void 0:"script"===C(t)||"false"===t.getAttribute("data-trix-serialize")},u=function(t){return"style"===C(t)?NodeFilter.FILTER_REJECT:NodeFilter.FILTER_ACCEPT},e.prototype.processNode=function(t){switch(t.nodeType){case Node.TEXT_NODE:return this.processTextNode(t);case Node.ELEMENT_NODE:return this.appendBlockForElement(t),this.processElement(t)}},e.prototype.appendBlockForElement=function(t){var e,n,i,o;if(i=this.isBlockElement(t),n=b(this.currentBlockElement,t),i&&!this.isBlockElement(t.firstChild)){if(!(this.isInsignificantTextNode(t.firstChild)&&this.isBlockElement(t.firstElementChild)||(e=this.getBlockAttributes(t),n&&y(e,this.currentBlock.attributes))))return this.currentBlock=this.appendBlockForAttributesWithElement(e,t),this.currentBlockElement=t}else if(this.currentBlockElement&&!n&&!i)return(o=this.findParentBlockElement(t))?this.appendBlockForElement(o):(this.currentBlock=this.appendEmptyBlock(),this.currentBlockElement=null)},e.prototype.findParentBlockElement=function(t){var e;for(e=t.parentElement;e&&e!==this.containerElement;){if(this.isBlockElement(e)&&0<=D.call(this.blockElements,e))return e;e=e.parentElement}return null},e.prototype.processTextNode=function(t){var e,n;return this.isInsignificantTextNode(t)?void 0:(n=t.data,o(t.parentNode)||(n=d(n),f(null!=(e=t.previousSibling)?e.textContent:void 0)&&(n=l(n))),this.appendStringWithAttributes(n,this.getTextAttributes(t.parentNode)))},e.prototype.processElement=function(t){var e,n,i,o,r;if(_(t))return e=a(t),Object.keys(e).length&&(o=this.getTextAttributes(t),this.appendAttachmentWithAttributes(e,o),t.innerHTML=""),this.processedElements.push(t);switch(C(t)){case"br":return this.isExtraBR(t)||this.isBlockElement(t.nextSibling)||this.appendStringWithAttributes("\n",this.getTextAttributes(t)),this.processedElements.push(t);case"img":for(n in e={url:t.getAttribute("src"),contentType:"image"},i=s(t))r=i[n],e[n]=r;return this.appendAttachmentWithAttributes(e,this.getTextAttributes(t)),this.processedElements.push(t);case"tr":if(t.parentNode.firstChild!==t)return this.appendStringWithAttributes("\n");break;case"td":if(t.parentNode.firstChild!==t)return this.appendStringWithAttributes(" | ")}},e.prototype.appendBlockForAttributesWithElement=function(t,e){var n;return this.blockElements.push(e),n=i(t),this.blocks.push(n),n},e.prototype.appendEmptyBlock=function(){return this.appendBlockForAttributesWithElement([],null)},e.prototype.appendStringWithAttributes=function(t,e){return this.appendPiece(p(t,e))},e.prototype.appendAttachmentWithAttributes=function(t,e){return this.appendPiece(c(t,e))},e.prototype.appendPiece=function(t){return 0===this.blocks.length&&this.appendEmptyBlock(),this.blocks[this.blocks.length-1].text.push(t)},e.prototype.appendStringToTextAtIndex=function(t,e){var n,i;return"string"===(null!=(n=(i=this.blocks[e].text)[i.length-1])?n.type:void 0)?n.string+=t:i.push(p(t))},e.prototype.prependStringToTextAtIndex=function(t,e){var n,i;return"string"===(null!=(n=(i=this.blocks[e].text)[0])?n.type:void 0)?n.string=t+n.string:i.unshift(p(t))},p=function(t,e){return null==e&&(e={}),"string",{string:t=k(t),attributes:e,type:"string"}},c=function(t,e){return null==e&&(e={}),{attachment:t,attributes:e,type:"attachment"}},i=function(t){return null==t&&(t={}),{text:[],attributes:t}},e.prototype.getTextAttributes=function(t){var e,n,i,o,r,a,s,l,u,c,p,h,d;for(e in i={},c=M.config.textAttributes)if((r=c[e]).tagName&&w(t,{matchingSelector:r.tagName,untilNode:this.containerElement}))i[e]=!0;else if(r.parser&&(d=r.parser(t))){for(n=!1,a=0,u=(p=this.findBlockElementAncestors(t)).length;a<u;a++)if(o=p[a],r.parser(o)===d){n=!0;break}n||(i[e]=d)}if(_(t)&&(s=t.getAttribute("data-trix-attributes")))for(l in h=JSON.parse(s))d=h[l],i[l]=d;return i},e.prototype.getBlockAttributes=function(t){var e,n,i,o;for(n=[];t&&t!==this.containerElement;){for(e in o=M.config.blockAttributes)!1!==(i=o[e]).parse&&C(t)===i.tagName&&(("function"==typeof i.test?i.test(t):void 0)||!i.test)&&(n.push(e),i.listAttribute&&n.push(i.listAttribute));t=t.parentNode}return n.reverse()},e.prototype.findBlockElementAncestors=function(t){var e,n;for(e=[];t&&t!==this.containerElement;)n=C(t),0<=D.call(x(),n)&&e.push(t),t=t.parentNode;return e},a=function(t){return JSON.parse(t.getAttribute("data-trix-attachment"))},s=function(t){var e,n,i;return i=t.getAttribute("width"),n=t.getAttribute("height"),e={},i&&(e.width=parseInt(i,10)),n&&(e.height=parseInt(n,10)),e},e.prototype.isBlockElement=function(t){var e;if((null!=t?t.nodeType:void 0)===Node.ELEMENT_NODE&&!w(t,{matchingSelector:"td",untilNode:this.containerElement}))return e=C(t),0<=D.call(x(),e)||"block"===window.getComputedStyle(t).display},e.prototype.isInsignificantTextNode=function(t){return(null!=t?t.nodeType:void 0)===Node.TEXT_NODE&&g(t.data)&&!o(t.parentNode)?!t.previousSibling||this.isBlockElement(t.previousSibling)||!t.nextSibling||this.isBlockElement(t.nextSibling):void 0},e.prototype.isExtraBR=function(t){return"br"===C(t)&&this.isBlockElement(t.parentNode)&&t.parentNode.lastChild===t},o=function(t){var e;return"pre"===(e=window.getComputedStyle(t).whiteSpace)||"pre-wrap"===e||"pre-line"===e},e.prototype.translateBlockElementMarginsToNewlines=function(){var t,e,n,i,o,r,a;for(t=this.getMarginOfDefaultBlockElement(),a=[],n=e=0,i=(r=this.blocks).length;e<i;n=++e)r[n],(o=this.getMarginOfBlockElementAtIndex(n))&&(o.top>2*t.top&&this.prependStringToTextAtIndex("\n",n),a.push(o.bottom>2*t.bottom?this.appendStringToTextAtIndex("\n",n):void 0));return a},e.prototype.getMarginOfBlockElementAtIndex=function(t){var e,n;return!(e=this.blockElements[t])||(n=C(e),0<=D.call(x(),n)||0<=D.call(this.processedElements,e))?void 0:r(e)},e.prototype.getMarginOfDefaultBlockElement=function(){var t;return t=$(M.config.blockAttributes.default.tagName),this.containerElement.appendChild(t),r(t)},r=function(t){var e;return"block"===(e=window.getComputedStyle(t)).display?{top:parseInt(e.marginTop),bottom:parseInt(e.marginBottom)}:void 0},n=RegExp("[^\\S"+M.NON_BREAKING_SPACE+"]"),d=function(t){return t.replace(RegExp(""+n.source,"g")," ").replace(/\ {2,}/g," ")},l=function(t){return t.replace(RegExp("^"+n.source+"+"),"")},g=function(t){return RegExp("^"+n.source+"*$").test(t)},f=function(t){return/\s$/.test(t)},e}()}.call(this),function(){var f,s,b,w,o={}.hasOwnProperty,h=[].slice,d=[].indexOf||function(t){for(var e=0,n=this.length;e<n;e++)if(e in this&&this[e]===t)return e;return-1};f=M.arraysAreEqual,b=M.normalizeRange,w=M.rangeIsCollapsed,s=M.getBlockConfig,M.Document=function(t){function e(t){null==t&&(t=[]),e.__super__.constructor.apply(this,arguments),0===t.length&&(t=[new M.Block]),this.blockList=M.SplittableList.box(t)}var p;return function(t,e){function n(){this.constructor=t}for(var i in e)o.call(e,i)&&(t[i]=e[i]);n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype}(e,M.Object),e.fromJSON=function(i){var o;return new this(function(){var t,e,n;for(n=[],t=0,e=i.length;t<e;t++)o=i[t],n.push(M.Block.fromJSON(o));return n}())},e.fromHTML=function(t,e){return M.HTMLParser.parse(t,e).getDocument()},e.fromString=function(t,e){var n;return n=M.Text.textForStringWithAttributes(t,e),new this([new M.Block(n)])},e.prototype.isEmpty=function(){var t;return 1===this.blockList.length&&((t=this.getBlockAtIndex(0)).isEmpty()&&!t.hasAttributes())},e.prototype.copy=function(t){var e;return null==t&&(t={}),e=t.consolidateBlocks?this.blockList.consolidate().toArray():this.blockList.toArray(),new this.constructor(e)},e.prototype.copyUsingObjectsFromDocument=function(t){var e;return e=new M.ObjectMap(t.getObjects()),this.copyUsingObjectMap(e)},e.prototype.copyUsingObjectMap=function(o){var r,t,a;return t=function(){var t,e,n,i;for(i=[],t=0,e=(n=this.getBlocks()).length;t<e;t++)r=n[t],i.push((a=o.find(r))?a:r.copyUsingObjectMap(o));return i}.call(this),new this.constructor(t)},e.prototype.copyWithBaseBlockAttributes=function(o){var r,a,t;return null==o&&(o=[]),t=function(){var t,e,n,i;for(i=[],t=0,e=(n=this.getBlocks()).length;t<e;t++)a=n[t],r=o.concat(a.getAttributes()),i.push(a.copyWithAttributes(r));return i}.call(this),new this.constructor(t)},e.prototype.replaceBlock=function(t,e){var n;return-1===(n=this.blockList.indexOf(t))?this:new this.constructor(this.blockList.replaceObjectAtIndex(e,n))},e.prototype.insertDocumentAtRange=function(t,e){var n,i,o,r,a,s,l;return i=t.blockList,a=(e=b(e))[0],o=(s=this.locationFromPosition(a)).index,r=s.offset,n=(l=this).getBlockAtPosition(a),w(e)&&n.isEmpty()&&!n.hasAttributes()?l=new this.constructor(l.blockList.removeObjectAtIndex(o)):n.getBlockBreakPosition()===r&&a++,l=l.removeTextAtRange(e),new this.constructor(l.blockList.insertSplittableListAtPosition(i,a))},e.prototype.mergeDocumentAtRange=function(t,e){var n,i,o,r,a,s,l,u,c,p,h,d;return h=(e=b(e))[0],p=this.locationFromPosition(h),i=this.getBlockAtIndex(p.index).getAttributes(),n=t.getBaseBlockAttributes(),d=i.slice(-n.length),o=(s=f(n,d)?(l=i.slice(0,-n.length),t.copyWithBaseBlockAttributes(l)):t.copy({consolidateBlocks:!0}).copyWithBaseBlockAttributes(i)).getBlockCount(),r=s.getBlockAtIndex(0),f(i,r.getAttributes())?(a=r.getTextWithoutBlockBreak(),c=this.insertTextAtRange(a,e),1<o&&(s=new this.constructor(s.getBlocks().slice(1)),u=h+a.getLength(),c=c.insertDocumentAtRange(s,u))):c=this.insertDocumentAtRange(s,e),c},e.prototype.insertTextAtRange=function(e,t){var n,i,o,r,a;return a=(t=b(t))[0],i=(r=this.locationFromPosition(a)).index,o=r.offset,n=this.removeTextAtRange(t),new this.constructor(n.blockList.editObjectAtIndex(i,function(t){return t.copyWithText(t.text.insertTextAtPosition(e,o))}))},e.prototype.removeTextAtRange=function(t){var e,n,i,o,r,a,s,l,u,c,p,h,d,f,g,m,v,y;return l=(c=t=b(t))[0],m=c[1],w(t)?this:(a=(p=this.locationRangeFromRange(t))[0],f=p[1],r=a.index,s=a.offset,o=this.getBlockAtIndex(r),d=f.index,g=f.offset,h=this.getBlockAtIndex(d),i=m-l==1&&o.getBlockBreakPosition()===s&&h.getBlockBreakPosition()!==g&&"\n"===h.text.getStringAtPosition(g)?this.blockList.editObjectAtIndex(d,function(t){return t.copyWithText(t.text.removeTextAtRange([g,g+1]))}):(u=o.text.getTextAtRange([0,s]),v=h.text.getTextAtRange([g,h.getLength()]),y=u.appendText(v),n=r!==d&&0===s&&o.getAttributeLevel()>=h.getAttributeLevel()?h.copyWithText(y):o.copyWithText(y),e=d+1-r,this.blockList.splice(r,e,n)),new this.constructor(i))},e.prototype.moveTextFromRangeToPosition=function(t,e){var n,i,o,r,a,s,l,u,c,p;if(c=(s=t=b(t))[0],o=s[1],c<=e&&e<=o)return this;if(i=this.getDocumentAtRange(t),u=this.removeTextAtRange(t),(a=c<e)&&(e-=i.getLength()),!u.firstBlockInRangeIsEntirelySelected(t)){if(r=(l=i.getBlocks())[0],0===(n=2<=l.length?h.call(l,1):[]).length?(p=r.getTextWithoutBlockBreak(),a&&(e+=1)):p=r.text,u=u.insertTextAtRange(p,e),0===n.length)return u;i=new this.constructor(n),e+=p.getLength()}return u.insertDocumentAtRange(i,e)},e.prototype.addAttributeAtRange=function(i,o,t){var r;return r=this.blockList,this.eachBlockAtRange(t,function(t,e,n){return r=r.editObjectAtIndex(n,function(){return s(i)?t.addAttribute(i,o):e[0]===e[1]?t:t.copyWithText(t.text.addAttributeAtRange(i,o,e))})}),new this.constructor(r)},e.prototype.addAttribute=function(n,i){var o;return o=this.blockList,this.eachBlock(function(t,e){return o=o.editObjectAtIndex(e,function(){return t.addAttribute(n,i)})}),new this.constructor(o)},e.prototype.removeAttributeAtRange=function(i,t){var o;return o=this.blockList,this.eachBlockAtRange(t,function(t,e,n){return s(i)?o=o.editObjectAtIndex(n,function(){return t.removeAttribute(i)}):e[0]!==e[1]?o=o.editObjectAtIndex(n,function(){return t.copyWithText(t.text.removeAttributeAtRange(i,e))}):void 0}),new this.constructor(o)},e.prototype.updateAttributesForAttachment=function(e,n){var t,i,o;return i=this.getRangeOfAttachment(n)[0],t=this.locationFromPosition(i).index,o=this.getTextAtIndex(t),new this.constructor(this.blockList.editObjectAtIndex(t,function(t){return t.copyWithText(o.updateAttributesForAttachment(e,n))}))},e.prototype.removeAttributeForAttachment=function(t,e){var n;return n=this.getRangeOfAttachment(e),this.removeAttributeAtRange(t,n)},e.prototype.insertBlockBreakAtRange=function(t){var e,n,i,o;return o=(t=b(t))[0],i=this.locationFromPosition(o).offset,n=this.removeTextAtRange(t),0===i&&(e=[new M.Block]),new this.constructor(n.blockList.insertSplittableListAtPosition(new M.SplittableList(e),o))},e.prototype.applyBlockAttributeAtRange=function(t,e,n){var i,o,r,a;return o=(r=this.expandRangeToLineBreaksAndSplitBlocks(n)).document,n=r.range,(i=s(t)).listAttribute?(o=(a=(o=o.removeLastListAttributeAtRange(n,{exceptAttributeName:t})).convertLineBreaksToBlockBreaksInRange(n)).document,n=a.range):o=i.terminal?o.removeLastTerminalAttributeAtRange(n):o.consolidateBlocksAtRange(n),o.addAttributeAtRange(t,e,n)},e.prototype.removeLastListAttributeAtRange=function(t,o){var r;return null==o&&(o={}),r=this.blockList,this.eachBlockAtRange(t,function(t,e,n){var i;if((i=t.getLastAttribute())&&s(i).listAttribute&&i!==o.exceptAttributeName)return r=r.editObjectAtIndex(n,function(){return t.removeAttribute(i)})}),new this.constructor(r)},e.prototype.removeLastTerminalAttributeAtRange=function(t){var o;return o=this.blockList,this.eachBlockAtRange(t,function(t,e,n){var i;if((i=t.getLastAttribute())&&s(i).terminal)return o=o.editObjectAtIndex(n,function(){return t.removeAttribute(i)})}),new this.constructor(o)},e.prototype.firstBlockInRangeIsEntirelySelected=function(t){var e,n,i,o,r,a;return a=(o=t=b(t))[0],e=o[1],n=this.locationFromPosition(a),r=this.locationFromPosition(e),0===n.offset&&n.index<r.index||n.index===r.index&&(i=this.getBlockAtIndex(n.index).getLength(),0===n.offset&&r.offset===i)},e.prototype.expandRangeToLineBreaksAndSplitBlocks=function(t){var e,n,i,o,r,a,s,l,u;return u=(a=t=b(t))[0],o=a[1],l=this.locationFromPosition(u),i=this.locationFromPosition(o),s=(e=this).getBlockAtIndex(l.index),null!=(l.offset=s.findLineBreakInDirectionFromPosition("backward",l.offset))&&(r=e.positionFromLocation(l),e=e.insertBlockBreakAtRange([r,r+1]),i.index+=1,i.offset-=e.getBlockAtIndex(l.index).getLength(),l.index+=1),(l.offset=0)===i.offset&&i.index>l.index?(i.index-=1,i.offset=e.getBlockAtIndex(i.index).getBlockBreakPosition()):("\n"===(n=e.getBlockAtIndex(i.index)).text.getStringAtRange([i.offset-1,i.offset])?i.offset-=1:i.offset=n.findLineBreakInDirectionFromPosition("forward",i.offset),i.offset!==n.getBlockBreakPosition()&&(r=e.positionFromLocation(i),e=e.insertBlockBreakAtRange([r,r+1]))),u=e.positionFromLocation(l),o=e.positionFromLocation(i),{document:e,range:t=b([u,o])}},e.prototype.convertLineBreaksToBlockBreaksInRange=function(t){var e,n,i;return n=(t=b(t))[0],i=this.getStringAtRange(t).slice(0,-1),e=this,i.replace(/.*?\n/g,function(t){return n+=t.length,e=e.insertBlockBreakAtRange([n-1,n])}),{document:e,range:t}},e.prototype.consolidateBlocksAtRange=function(t){var e,n,i,o,r;return r=(i=t=b(t))[0],n=i[1],o=this.locationFromPosition(r).index,e=this.locationFromPosition(n).index,new this.constructor(this.blockList.consolidateFromIndexToIndex(o,e))},e.prototype.getDocumentAtRange=function(t){var e;return t=b(t),e=this.blockList.getSplittableListInRange(t).toArray(),new this.constructor(e)},e.prototype.getStringAtRange=function(t){return this.getDocumentAtRange(t).toString()},e.prototype.getBlockAtIndex=function(t){return this.blockList.getObjectAtIndex(t)},e.prototype.getBlockAtPosition=function(t){var e;return e=this.locationFromPosition(t).index,this.getBlockAtIndex(e)},e.prototype.getTextAtIndex=function(t){var e;return null!=(e=this.getBlockAtIndex(t))?e.text:void 0},e.prototype.getTextAtPosition=function(t){var e;return e=this.locationFromPosition(t).index,this.getTextAtIndex(e)},e.prototype.getPieceAtPosition=function(t){var e,n,i;return e=(i=this.locationFromPosition(t)).index,n=i.offset,this.getTextAtIndex(e).getPieceAtPosition(n)},e.prototype.getCharacterAtPosition=function(t){var e,n,i;return e=(i=this.locationFromPosition(t)).index,n=i.offset,this.getTextAtIndex(e).getStringAtRange([n,n+1])},e.prototype.getLength=function(){return this.blockList.getEndPosition()},e.prototype.getBlocks=function(){return this.blockList.toArray()},e.prototype.getBlockCount=function(){return this.blockList.length},e.prototype.getEditCount=function(){return this.editCount},e.prototype.eachBlock=function(t){return this.blockList.eachObject(t)},e.prototype.eachBlockAtRange=function(t,e){var n,i,o,r,a,s,l,u,c,p,h,d;if(h=(s=t=b(t))[0],o=s[1],p=this.locationFromPosition(h),i=this.locationFromPosition(o),p.index===i.index)return n=this.getBlockAtIndex(p.index),d=[p.offset,i.offset],e(n,d,p.index);for(c=[],a=r=l=p.index,u=i.index;l<=u?r<=u:u<=r;a=l<=u?++r:--r)(n=this.getBlockAtIndex(a))?(d=function(){switch(a){case p.index:return[p.offset,n.text.getLength()];case i.index:return[0,i.offset];default:return[0,n.text.getLength()]}}(),c.push(e(n,d,a))):c.push(void 0);return c},e.prototype.getCommonAttributesAtRange=function(t){var n,e,i;return e=(t=b(t))[0],w(t)?this.getCommonAttributesAtPosition(e):(i=[],n=[],this.eachBlockAtRange(t,function(t,e){return e[0]!==e[1]?(i.push(t.text.getCommonAttributesAtRange(e)),n.push(p(t))):void 0}),M.Hash.fromCommonAttributesOfObjects(i).merge(M.Hash.fromCommonAttributesOfObjects(n)).toObject())},e.prototype.getCommonAttributesAtPosition=function(t){var e,n,i,o,r,a,s,l,u,c;if(r=(u=this.locationFromPosition(t)).index,l=u.offset,!(i=this.getBlockAtIndex(r)))return{};for(s in o=p(i),e=i.text.getAttributesAtPosition(l),n=i.text.getAttributesAtPosition(l-1),a=function(){var t,e;for(s in e=[],t=M.config.textAttributes)(c=t[s]).inheritable&&e.push(s);return e}(),n)((c=n[s])===e[s]||0<=d.call(a,s))&&(o[s]=c);return o},e.prototype.getRangeOfCommonAttributeAtPosition=function(t,e){var n,i,o,r,a,s,l,u;return o=(a=this.locationFromPosition(e)).index,r=a.offset,u=(s=this.getTextAtIndex(o).getExpandedRangeForAttributeAtOffset(t,r))[0],i=s[1],l=this.positionFromLocation({index:o,offset:u}),n=this.positionFromLocation({index:o,offset:i}),b([l,n])},e.prototype.getBaseBlockAttributes=function(){var i,o,t,e,r,a,n;for(i=this.getBlockAtIndex(0).getAttributes(),t=e=1,n=this.getBlockCount();1<=n?e<n:n<e;t=1<=n?++e:--e)o=this.getBlockAtIndex(t).getAttributes(),a=Math.min(i.length,o.length),i=function(){var t,e,n;for(n=[],r=t=0,e=a;(0<=e?t<e:e<t)&&o[r]===i[r];r=0<=e?++t:--t)n.push(o[r]);return n}();return i},p=function(t){var e,n;return n={},(e=t.getLastAttribute())&&(n[e]=!0),n},e.prototype.getAttachmentById=function(t){var e,n,i,o;for(n=0,i=(o=this.getAttachments()).length;n<i;n++)if((e=o[n]).id===t)return e},e.prototype.getAttachmentPieces=function(){var n;return n=[],this.blockList.eachObject(function(t){var e;return e=t.text,n=n.concat(e.getAttachmentPieces())}),n},e.prototype.getAttachments=function(){var t,e,n,i,o;for(o=[],t=0,e=(i=this.getAttachmentPieces()).length;t<e;t++)n=i[t],o.push(n.attachment);return o},e.prototype.getRangeOfAttachment=function(t){var e,n,i,o,r,a,s;for(n=e=o=0,i=(r=this.blockList.toArray()).length;e<i;n=++e){if(s=(a=r[n].text).getRangeOfAttachment(t))return b([o+s[0],o+s[1]]);o+=a.getLength()}},e.prototype.getLocationRangeOfAttachment=function(t){var e;return e=this.getRangeOfAttachment(t),this.locationRangeFromRange(e)},e.prototype.getAttachmentPieceForAttachment=function(t){var e,n,i,o;for(e=0,n=(o=this.getAttachmentPieces()).length;e<n;e++)if((i=o[e]).attachment===t)return i},e.prototype.locationFromPosition=function(t){var e,n;return null!=(n=this.blockList.findIndexAndOffsetAtPosition(Math.max(0,t))).index?n:{index:(e=this.getBlocks()).length-1,offset:e[e.length-1].getLength()}},e.prototype.positionFromLocation=function(t){return this.blockList.findPositionAtIndexAndOffset(t.index,t.offset)},e.prototype.locationRangeFromPosition=function(t){return b(this.locationFromPosition(t))},e.prototype.locationRangeFromRange=function(t){var e,n,i,o;if(t=b(t))return o=t[0],n=t[1],i=this.locationFromPosition(o),e=this.locationFromPosition(n),b([i,e])},e.prototype.rangeFromLocationRange=function(t){var e,n;return t=b(t),e=this.positionFromLocation(t[0]),w(t)||(n=this.positionFromLocation(t[1])),b([e,n])},e.prototype.isEqualTo=function(t){return this.blockList.isEqualTo(null!=t?t.blockList:void 0)},e.prototype.getTexts=function(){var t,e,n,i,o;for(o=[],e=0,n=(i=this.getBlocks()).length;e<n;e++)t=i[e],o.push(t.text);return o},e.prototype.getPieces=function(){var t,e,n,i,o;for(n=[],t=0,e=(i=this.getTexts()).length;t<e;t++)o=i[t],n.push.apply(n,o.getPieces());return n},e.prototype.getObjects=function(){return this.getBlocks().concat(this.getTexts()).concat(this.getPieces())},e.prototype.toSerializableDocument=function(){var e;return e=[],this.blockList.eachObject(function(t){return e.push(t.copyWithText(t.text.toSerializableText()))}),new this.constructor(e)},e.prototype.toString=function(){return this.blockList.toString()},e.prototype.toJSON=function(){return this.blockList.toJSON()},e.prototype.toConsole=function(){var o;return JSON.stringify(function(){var t,e,n,i;for(i=[],t=0,e=(n=this.blockList.toArray()).length;t<e;t++)o=n[t],i.push(JSON.parse(o.text.toConsole()));return i}.call(this))},e}()}.call(this),function(){M.LineBreakInsertion=function(){function t(t){var e;this.composition=t,this.document=this.composition.document,e=this.composition.getSelectedRange(),this.startPosition=e[0],this.endPosition=e[1],this.startLocation=this.document.locationFromPosition(this.startPosition),this.endLocation=this.document.locationFromPosition(this.endPosition),this.block=this.document.getBlockAtIndex(this.endLocation.index),this.breaksOnReturn=this.block.breaksOnReturn(),this.previousCharacter=this.block.text.getStringAtPosition(this.endLocation.offset-1),this.nextCharacter=this.block.text.getStringAtPosition(this.endLocation.offset)}return t.prototype.shouldInsertBlockBreak=function(){return this.block.hasAttributes()&&this.block.isListItem()&&!this.block.isEmpty()?0!==this.startLocation.offset:this.breaksOnReturn&&"\n"!==this.nextCharacter},t.prototype.shouldBreakFormattedBlock=function(){return this.block.hasAttributes()&&!this.block.isListItem()&&(this.breaksOnReturn&&"\n"===this.nextCharacter||"\n"===this.previousCharacter)},t.prototype.shouldDecreaseListLevel=function(){return this.block.hasAttributes()&&this.block.isListItem()&&this.block.isEmpty()},t.prototype.shouldPrependListItem=function(){return this.block.isListItem()&&0===this.startLocation.offset&&!this.block.isEmpty()},t.prototype.shouldRemoveLastBlockAttribute=function(){return this.block.hasAttributes()&&!this.block.isListItem()&&this.block.isEmpty()},t}()}.call(this),function(){var i,n,a,o,r,s,l,u,c,p,h={}.hasOwnProperty;s=M.normalizeRange,c=M.rangesAreEqual,u=M.rangeIsCollapsed,l=M.objectsAreEqual,i=M.arrayStartsWith,p=M.summarizeArrayChange,a=M.getAllAttributeNames,o=M.getBlockConfig,r=M.getTextConfig,n=M.extend,M.Composition=function(t){function e(){this.document=new M.Document,this.attachments=[],this.currentAttributes={},this.revision=0}return function(t,e){function n(){this.constructor=t}for(var i in e)h.call(e,i)&&(t[i]=e[i]);n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype}(e,M.BasicObject),e.prototype.setDocument=function(t){var e;return t.isEqualTo(this.document)?void 0:(this.document=t,this.refreshAttachments(),this.revision++,null!=(e=this.delegate)&&"function"==typeof e.compositionDidChangeDocument?e.compositionDidChangeDocument(t):void 0)},e.prototype.getSnapshot=function(){return{document:this.document,selectedRange:this.getSelectedRange()}},e.prototype.loadSnapshot=function(t){var e,n,i,o;return e=t.document,o=t.selectedRange,null!=(n=this.delegate)&&"function"==typeof n.compositionWillLoadSnapshot&&n.compositionWillLoadSnapshot(),this.setDocument(null!=e?e:new M.Document),this.setSelection(null!=o?o:[0,0]),null!=(i=this.delegate)&&"function"==typeof i.compositionDidLoadSnapshot?i.compositionDidLoadSnapshot():void 0},e.prototype.insertText=function(t,e){var n,i,o,r;return r=(null!=e?e:{updatePosition:!0}).updatePosition,i=this.getSelectedRange(),this.setDocument(this.document.insertTextAtRange(t,i)),n=(o=i[0])+t.getLength(),r&&this.setSelection(n),this.notifyDelegateOfInsertionAtRange([o,n])},e.prototype.insertBlock=function(t){var e;return null==t&&(t=new M.Block),e=new M.Document([t]),this.insertDocument(e)},e.prototype.insertDocument=function(t){var e,n,i;return null==t&&(t=new M.Document),n=this.getSelectedRange(),this.setDocument(this.document.insertDocumentAtRange(t,n)),e=(i=n[0])+t.getLength(),this.setSelection(e),this.notifyDelegateOfInsertionAtRange([i,e])},e.prototype.insertString=function(t,e){var n,i;return n=this.getCurrentTextAttributes(),i=M.Text.textForStringWithAttributes(t,n),this.insertText(i,e)},e.prototype.insertBlockBreak=function(){var t,e,n;return e=this.getSelectedRange(),this.setDocument(this.document.insertBlockBreakAtRange(e)),t=(n=e[0])+1,this.setSelection(t),this.notifyDelegateOfInsertionAtRange([n,t])},e.prototype.insertLineBreak=function(){var t,e;return(e=new M.LineBreakInsertion(this)).shouldDecreaseListLevel()?(this.decreaseListLevel(),this.setSelection(e.startPosition)):e.shouldPrependListItem()?(t=new M.Document([e.block.copyWithoutText()]),this.insertDocument(t)):e.shouldInsertBlockBreak()?this.insertBlockBreak():e.shouldRemoveLastBlockAttribute()?this.removeLastBlockAttribute():e.shouldBreakFormattedBlock()?this.breakFormattedBlock(e):this.insertString("\n")},e.prototype.insertHTML=function(t){var e,n,i,o;return o=this.getPosition(),i=this.document.getLength(),e=M.Document.fromHTML(t),this.setDocument(this.document.mergeDocumentAtRange(e,this.getSelectedRange())),n=o+(this.document.getLength()-i),this.setSelection(n),this.notifyDelegateOfInsertionAtRange([n,n])},e.prototype.replaceHTML=function(t){var e,n,i;return e=M.Document.fromHTML(t).copyUsingObjectsFromDocument(this.document),n=this.getLocationRange({strict:!1}),i=this.document.rangeFromLocationRange(n),this.setDocument(e),this.setSelection(i)},e.prototype.insertFile=function(t){var e,n;return(null!=(n=this.delegate)?n.compositionShouldAcceptFile(t):void 0)?(e=M.Attachment.attachmentForFile(t),this.insertAttachment(e)):void 0},e.prototype.insertAttachment=function(t){var e;return e=M.Text.textForAttachmentWithAttributes(t,this.currentAttributes),this.insertText(e)},e.prototype.deleteInDirection=function(t){var e,n,i,o,r;return o=this.getSelectedRange(),r=u(o),n=this.getBlock(),r&&"backward"===t&&(i=0===this.document.locationFromPosition(o[0]).offset),!(i&&this.canDecreaseBlockAttributeLevel()&&(n.isListItem()?this.decreaseListLevel():this.decreaseBlockAttributeLevel(),this.setSelection(o[0]),n.isEmpty()))&&(r&&(o=this.getExpandedRangeInDirection(t),"backward"===t&&(e=this.getAttachmentAtRange(o))),e?(this.editAttachment(e),!1):(this.setDocument(this.document.removeTextAtRange(o)),this.setSelection(o[0]),!i&&void 0))},e.prototype.moveTextFromRange=function(t){var e;return e=this.getSelectedRange()[0],this.setDocument(this.document.moveTextFromRangeToPosition(t,e)),this.setSelection(e)},e.prototype.removeAttachment=function(t){var e;return(e=this.document.getRangeOfAttachment(t))?(this.stopEditingAttachment(),this.setDocument(this.document.removeTextAtRange(e)),this.setSelection(e[0])):void 0},e.prototype.removeLastBlockAttribute=function(){var t,e,n,i;return i=(n=this.getSelectedRange())[0],e=n[1],t=this.document.getBlockAtPosition(e),this.removeCurrentAttribute(t.getLastAttribute()),this.setSelection(i)}," ",e.prototype.insertPlaceholder=function(){return this.placeholderPosition=this.getPosition(),this.insertString(" ")},e.prototype.selectPlaceholder=function(){return null!=this.placeholderPosition?(this.setSelectedRange([this.placeholderPosition,this.placeholderPosition+" ".length]),this.getSelectedRange()):void 0},e.prototype.forgetPlaceholder=function(){return this.placeholderPosition=null},e.prototype.hasCurrentAttribute=function(t){return null!=this.currentAttributes[t]},e.prototype.toggleCurrentAttribute=function(t){var e;return(e=!this.currentAttributes[t])?this.setCurrentAttribute(t,e):this.removeCurrentAttribute(t)},e.prototype.canSetCurrentAttribute=function(t){return o(t)?this.canSetCurrentBlockAttribute(t):this.canSetCurrentTextAttribute(t)},e.prototype.canSetCurrentTextAttribute=function(t){switch(t){case"href":return!this.selectionContainsAttachmentWithAttribute(t);default:return!0}},e.prototype.canSetCurrentBlockAttribute=function(){var t;if(t=this.getBlock())return!t.isTerminalBlock()},e.prototype.setCurrentAttribute=function(t,e){return o(t)?this.setBlockAttribute(t,e):(this.setTextAttribute(t,e),this.currentAttributes[t]=e,this.notifyDelegateOfCurrentAttributesChange())},e.prototype.setTextAttribute=function(t,e){var n,i;if(n=this.getSelectedRange())return n[0]!==n[1]?this.setDocument(this.document.addAttributeAtRange(t,e,n)):"href"===t?(i=M.Text.textForStringWithAttributes(e,{href:e}),this.insertText(i)):void 0},e.prototype.setBlockAttribute=function(t,e){var n;if(n=this.getSelectedRange())return this.canSetCurrentAttribute(t)?(this.getBlock(),this.setDocument(this.document.applyBlockAttributeAtRange(t,e,n)),this.setSelection(n)):void 0},e.prototype.removeCurrentAttribute=function(t){return o(t)?(this.removeBlockAttribute(t),this.updateCurrentAttributes()):(this.removeTextAttribute(t),delete this.currentAttributes[t],this.notifyDelegateOfCurrentAttributesChange())},e.prototype.removeTextAttribute=function(t){var e;if(e=this.getSelectedRange())return this.setDocument(this.document.removeAttributeAtRange(t,e))},e.prototype.removeBlockAttribute=function(t){var e;if(e=this.getSelectedRange())return this.setDocument(this.document.removeAttributeAtRange(t,e))},e.prototype.canDecreaseNestingLevel=function(){var t;return 0<(null!=(t=this.getBlock())?t.getNestingLevel():void 0)},e.prototype.canIncreaseNestingLevel=function(){var t,e,n;if(t=this.getBlock())return null!=(n=o(t.getLastNestableAttribute()))&&n.listAttribute?(e=this.getPreviousBlock())?i(e.getListItemAttributes(),t.getListItemAttributes()):void 0:0<t.getNestingLevel()},e.prototype.decreaseNestingLevel=function(){var t;if(t=this.getBlock())return this.setDocument(this.document.replaceBlock(t,t.decreaseNestingLevel()))},e.prototype.increaseNestingLevel=function(){var t;if(t=this.getBlock())return this.setDocument(this.document.replaceBlock(t,t.increaseNestingLevel()))},e.prototype.canDecreaseBlockAttributeLevel=function(){var t;return 0<(null!=(t=this.getBlock())?t.getAttributeLevel():void 0)},e.prototype.decreaseBlockAttributeLevel=function(){var t,e;return(t=null!=(e=this.getBlock())?e.getLastAttribute():void 0)?this.removeCurrentAttribute(t):void 0},e.prototype.decreaseListLevel=function(){var t,e,n,i,o,r;for(r=this.getSelectedRange()[0],n=o=this.document.locationFromPosition(r).index,t=this.getBlock().getAttributeLevel();(e=this.document.getBlockAtIndex(n+1))&&e.isListItem()&&e.getAttributeLevel()>t;)n++;return r=this.document.positionFromLocation({index:o,offset:0}),i=this.document.positionFromLocation({index:n,offset:0}),this.setDocument(this.document.removeLastListAttributeAtRange([r,i]))},e.prototype.updateCurrentAttributes=function(){var t,e,n,i,o,r;if(r=this.getSelectedRange({ignoreLock:!0})){for(e=this.document.getCommonAttributesAtRange(r),n=0,i=(o=a()).length;n<i;n++)e[t=o[n]]||this.canSetCurrentAttribute(t)||(e[t]=!1);if(!l(e,this.currentAttributes))return this.currentAttributes=e,this.notifyDelegateOfCurrentAttributesChange()}},e.prototype.getCurrentAttributes=function(){return n.call({},this.currentAttributes)},e.prototype.getCurrentTextAttributes=function(){var t,e,n,i;for(e in t={},n=this.currentAttributes)i=n[e],r(e)&&(t[e]=i);return t},e.prototype.freezeSelection=function(){return this.setCurrentAttribute("frozen",!0)},e.prototype.thawSelection=function(){return this.removeCurrentAttribute("frozen")},e.prototype.hasFrozenSelection=function(){return this.hasCurrentAttribute("frozen")},e.proxyMethod("getSelectionManager().getPointRange"),e.proxyMethod("getSelectionManager().setLocationRangeFromPointRange"),e.proxyMethod("getSelectionManager().locationIsCursorTarget"),e.proxyMethod("getSelectionManager().selectionIsExpanded"),e.proxyMethod("delegate?.getSelectionManager"),e.prototype.setSelection=function(t){var e,n;return e=this.document.locationRangeFromRange(t),null!=(n=this.delegate)?n.compositionDidRequestChangingSelectionToLocationRange(e):void 0},e.prototype.getSelectedRange=function(){var t;return(t=this.getLocationRange())?this.document.rangeFromLocationRange(t):void 0},e.prototype.setSelectedRange=function(t){var e;return e=this.document.locationRangeFromRange(t),this.getSelectionManager().setLocationRange(e)},e.prototype.getPosition=function(){var t;return(t=this.getLocationRange())?this.document.positionFromLocation(t[0]):void 0},e.prototype.getLocationRange=function(t){var e;return null!=(e=this.getSelectionManager().getLocationRange(t))?e:s({index:0,offset:0})},e.prototype.getExpandedRangeInDirection=function(t){var e,n,i;return i=(n=this.getSelectedRange())[0],e=n[1],"backward"===t?i=this.translateUTF16PositionFromOffset(i,-1):e=this.translateUTF16PositionFromOffset(e,1),s([i,e])},e.prototype.moveCursorInDirection=function(t){var e,n,i,o;return this.editingAttachment?i=this.document.getRangeOfAttachment(this.editingAttachment):(o=this.getSelectedRange(),i=this.getExpandedRangeInDirection(t),n=!c(o,i)),this.setSelectedRange("backward"===t?i[0]:i[1]),n&&(e=this.getAttachmentAtRange(i))?this.editAttachment(e):void 0},e.prototype.expandSelectionInDirection=function(t){var e;return e=this.getExpandedRangeInDirection(t),this.setSelectedRange(e)},e.prototype.expandSelectionForEditing=function(){return this.hasCurrentAttribute("href")?this.expandSelectionAroundCommonAttribute("href"):void 0},e.prototype.expandSelectionAroundCommonAttribute=function(t){var e,n;return e=this.getPosition(),n=this.document.getRangeOfCommonAttributeAtPosition(t,e),this.setSelectedRange(n)},e.prototype.selectionContainsAttachmentWithAttribute=function(t){var e,n,i,o;if(o=this.getSelectedRange()){for(e=0,n=(i=this.document.getDocumentAtRange(o).getAttachments()).length;e<n;e++)if(i[e].hasAttribute(t))return!0;return!1}},e.prototype.selectionIsInCursorTarget=function(){return this.editingAttachment||this.positionIsCursorTarget(this.getPosition())},e.prototype.positionIsCursorTarget=function(t){var e;return(e=this.document.locationFromPosition(t))?this.locationIsCursorTarget(e):void 0},e.prototype.positionIsBlockBreak=function(t){var e;return null!=(e=this.document.getPieceAtPosition(t))?e.isBlockBreak():void 0},e.prototype.getSelectedDocument=function(){var t;return(t=this.getSelectedRange())?this.document.getDocumentAtRange(t):void 0},e.prototype.getAttachments=function(){return this.attachments.slice(0)},e.prototype.refreshAttachments=function(){var t,e,n,i,o,r,a,s,l,u,c;for(n=this.document.getAttachments(),t=(s=p(this.attachments,n)).added,i=0,r=(c=s.removed).length;i<r;i++)((e=c[i]).delegate=null)!=(l=this.delegate)&&"function"==typeof l.compositionDidRemoveAttachment&&l.compositionDidRemoveAttachment(e);for(o=0,a=t.length;o<a;o++)null!=(u=((e=t[o]).delegate=this).delegate)&&"function"==typeof u.compositionDidAddAttachment&&u.compositionDidAddAttachment(e);return this.attachments=n},e.prototype.attachmentDidChangeAttributes=function(t){var e;return this.revision++,null!=(e=this.delegate)&&"function"==typeof e.compositionDidEditAttachment?e.compositionDidEditAttachment(t):void 0},e.prototype.attachmentDidChangePreviewURL=function(t){var e;return this.revision++,null!=(e=this.delegate)&&"function"==typeof e.compositionDidChangeAttachmentPreviewURL?e.compositionDidChangeAttachmentPreviewURL(t):void 0},e.prototype.editAttachment=function(t){var e;if(t!==this.editingAttachment)return this.stopEditingAttachment(),this.editingAttachment=t,null!=(e=this.delegate)&&"function"==typeof e.compositionDidStartEditingAttachment?e.compositionDidStartEditingAttachment(this.editingAttachment):void 0},e.prototype.stopEditingAttachment=function(){var t;if(this.editingAttachment)return null!=(t=this.delegate)&&"function"==typeof t.compositionDidStopEditingAttachment&&t.compositionDidStopEditingAttachment(this.editingAttachment),this.editingAttachment=null},e.prototype.canEditAttachmentCaption=function(){var t;return null!=(t=this.editingAttachment)?t.isPreviewable():void 0},e.prototype.updateAttributesForAttachment=function(t,e){return this.setDocument(this.document.updateAttributesForAttachment(t,e))},e.prototype.removeAttributeForAttachment=function(t,e){return this.setDocument(this.document.removeAttributeForAttachment(t,e))},e.prototype.breakFormattedBlock=function(t){var e,n,i,o,r;return n=t.document,e=t.block,r=[(o=t.startPosition)-1,o],e.getBlockBreakPosition()===t.startLocation.offset?(e.breaksOnReturn()&&"\n"===t.nextCharacter?o+=1:n=n.removeTextAtRange(r),r=[o,o]):"\n"===t.nextCharacter?"\n"===t.previousCharacter?r=[o-1,o+1]:(r=[o,o+1],o+=1):t.startLocation.offset-1!=0&&(o+=1),i=new M.Document([e.removeLastAttribute().copyWithoutText()]),this.setDocument(n.insertDocumentAtRange(i,r)),this.setSelection(o)},e.prototype.getPreviousBlock=function(){var t,e;return(e=this.getLocationRange())&&0<(t=e[0].index)?this.document.getBlockAtIndex(t-1):void 0},e.prototype.getBlock=function(){var t;return(t=this.getLocationRange())?this.document.getBlockAtIndex(t[0].index):void 0},e.prototype.getAttachmentAtRange=function(t){var e;return(e=this.document.getDocumentAtRange(t)).toString()===M.OBJECT_REPLACEMENT_CHARACTER+"\n"?e.getAttachments()[0]:void 0},e.prototype.notifyDelegateOfCurrentAttributesChange=function(){var t;return null!=(t=this.delegate)&&"function"==typeof t.compositionDidChangeCurrentAttributes?t.compositionDidChangeCurrentAttributes(this.currentAttributes):void 0},e.prototype.notifyDelegateOfInsertionAtRange=function(t){var e;return null!=(e=this.delegate)&&"function"==typeof e.compositionDidPerformInsertionAtRange?e.compositionDidPerformInsertionAtRange(t):void 0},e.prototype.translateUTF16PositionFromOffset=function(t,e){var n,i;return n=(i=this.document.toUTF16String()).offsetFromUCS2Offset(t),i.offsetToUCS2Offset(n+e)},e}()}.call(this),function(){var o={}.hasOwnProperty;M.UndoManager=function(t){function e(t){this.composition=t,this.undoEntries=[],this.redoEntries=[]}var s;return function(t,e){function n(){this.constructor=t}for(var i in e)o.call(e,i)&&(t[i]=e[i]);n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype}(e,M.BasicObject),e.prototype.recordUndoEntry=function(t,e){var n,i,o,r,a;return i=(r=null!=e?e:{}).context,n=r.consolidatable,o=this.undoEntries.slice(-1)[0],n&&s(o,t,i)?void 0:(a=this.createEntry({description:t,context:i}),this.undoEntries.push(a),this.redoEntries=[])},e.prototype.undo=function(){var t,e;return(e=this.undoEntries.pop())?(t=this.createEntry(e),this.redoEntries.push(t),this.composition.loadSnapshot(e.snapshot)):void 0},e.prototype.redo=function(){var t,e;return(t=this.redoEntries.pop())?(e=this.createEntry(t),this.undoEntries.push(e),this.composition.loadSnapshot(t.snapshot)):void 0},e.prototype.canUndo=function(){return 0<this.undoEntries.length},e.prototype.canRedo=function(){return 0<this.redoEntries.length},e.prototype.createEntry=function(t){var e,n,i;return n=(i=null!=t?t:{}).description,e=i.context,{description:null!=n?n.toString():void 0,context:JSON.stringify(e),snapshot:this.composition.getSnapshot()}},s=function(t,e,n){return(null!=t?t.description:void 0)===(null!=e?e.toString():void 0)&&(null!=t?t.context:void 0)===JSON.stringify(n)},e}()}.call(this),function(){M.Editor=function(){function t(t,e,n){this.composition=t,this.selectionManager=e,this.element=n,this.undoManager=new M.UndoManager(this.composition)}return t.prototype.loadDocument=function(t){return this.loadSnapshot({document:t,selectedRange:[0,0]})},t.prototype.loadHTML=function(t){return null==t&&(t=""),this.loadDocument(M.Document.fromHTML(t,{referenceElement:this.element}))},t.prototype.loadJSON=function(t){var e,n;return e=t.document,n=t.selectedRange,e=M.Document.fromJSON(e),this.loadSnapshot({document:e,selectedRange:n})},t.prototype.loadSnapshot=function(t){return this.undoManager=new M.UndoManager(this.composition),this.composition.loadSnapshot(t)},t.prototype.getDocument=function(){return this.composition.document},t.prototype.getSelectedDocument=function(){return this.composition.getSelectedDocument()},t.prototype.getSnapshot=function(){return this.composition.getSnapshot()},t.prototype.toJSON=function(){return this.getSnapshot()},t.prototype.deleteInDirection=function(t){return this.composition.deleteInDirection(t)},t.prototype.insertAttachment=function(t){return this.composition.insertAttachment(t)},t.prototype.insertDocument=function(t){return this.composition.insertDocument(t)},t.prototype.insertFile=function(t){return this.composition.insertFile(t)},t.prototype.insertHTML=function(t){return this.composition.insertHTML(t)},t.prototype.insertString=function(t){return this.composition.insertString(t)},t.prototype.insertText=function(t){return this.composition.insertText(t)},t.prototype.insertLineBreak=function(){return this.composition.insertLineBreak()},t.prototype.getSelectedRange=function(){return this.composition.getSelectedRange()},t.prototype.getPosition=function(){return this.composition.getPosition()},t.prototype.getClientRectAtPosition=function(t){var e;return e=this.getDocument().locationRangeFromRange([t,t+1]),this.selectionManager.getClientRectAtLocationRange(e)},t.prototype.expandSelectionInDirection=function(t){return this.composition.expandSelectionInDirection(t)},t.prototype.moveCursorInDirection=function(t){return this.composition.moveCursorInDirection(t)},t.prototype.setSelectedRange=function(t){return this.composition.setSelectedRange(t)},t.prototype.activateAttribute=function(t,e){return null==e&&(e=!0),this.composition.setCurrentAttribute(t,e)},t.prototype.attributeIsActive=function(t){return this.composition.hasCurrentAttribute(t)},t.prototype.canActivateAttribute=function(t){return this.composition.canSetCurrentAttribute(t)},t.prototype.deactivateAttribute=function(t){return this.composition.removeCurrentAttribute(t)},t.prototype.canDecreaseNestingLevel=function(){return this.composition.canDecreaseNestingLevel()},t.prototype.canIncreaseNestingLevel=function(){return this.composition.canIncreaseNestingLevel()},t.prototype.decreaseNestingLevel=function(){return this.canDecreaseNestingLevel()?this.composition.decreaseNestingLevel():void 0},t.prototype.increaseNestingLevel=function(){return this.canIncreaseNestingLevel()?this.composition.increaseNestingLevel():void 0},t.prototype.canDecreaseIndentationLevel=function(){return this.canDecreaseNestingLevel()},t.prototype.canIncreaseIndentationLevel=function(){return this.canIncreaseNestingLevel()},t.prototype.decreaseIndentationLevel=function(){return this.decreaseNestingLevel()},t.prototype.increaseIndentationLevel=function(){return this.increaseNestingLevel()},t.prototype.canRedo=function(){return this.undoManager.canRedo()},t.prototype.canUndo=function(){return this.undoManager.canUndo()},t.prototype.recordUndoEntry=function(t,e){var n,i,o;return i=(o=null!=e?e:{}).context,n=o.consolidatable,this.undoManager.recordUndoEntry(t,{context:i,consolidatable:n})},t.prototype.redo=function(){return this.canRedo()?this.undoManager.redo():void 0},t.prototype.undo=function(){return this.canUndo()?this.undoManager.undo():void 0},t}()}.call(this),function(){var o={}.hasOwnProperty;M.ManagedAttachment=function(t){function e(t,e){var n;this.attachmentManager=t,this.attachment=e,n=this.attachment,this.id=n.id,this.file=n.file}return function(t,e){function n(){this.constructor=t}for(var i in e)o.call(e,i)&&(t[i]=e[i]);n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype}(e,M.BasicObject),e.prototype.remove=function(){return this.attachmentManager.requestRemovalOfAttachment(this.attachment)},e.proxyMethod("attachment.getAttribute"),e.proxyMethod("attachment.hasAttribute"),e.proxyMethod("attachment.setAttribute"),e.proxyMethod("attachment.getAttributes"),e.proxyMethod("attachment.setAttributes"),e.proxyMethod("attachment.isPending"),e.proxyMethod("attachment.isPreviewable"),e.proxyMethod("attachment.getURL"),e.proxyMethod("attachment.getHref"),e.proxyMethod("attachment.getFilename"),e.proxyMethod("attachment.getFilesize"),e.proxyMethod("attachment.getFormattedFilesize"),e.proxyMethod("attachment.getExtension"),e.proxyMethod("attachment.getContentType"),e.proxyMethod("attachment.getFile"),e.proxyMethod("attachment.setFile"),e.proxyMethod("attachment.releaseFile"),e.proxyMethod("attachment.getUploadProgress"),e.proxyMethod("attachment.setUploadProgress"),e}()}.call(this),function(){var o={}.hasOwnProperty;M.AttachmentManager=function(t){function e(t){var e,n,i;for(null==t&&(t=[]),this.managedAttachments={},n=0,i=t.length;n<i;n++)e=t[n],this.manageAttachment(e)}return function(t,e){function n(){this.constructor=t}for(var i in e)o.call(e,i)&&(t[i]=e[i]);n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype}(e,M.BasicObject),e.prototype.getAttachments=function(){var t,e,n,i;for(e in i=[],n=this.managedAttachments)t=n[e],i.push(t);return i},e.prototype.manageAttachment=function(t){var e,n;return null!=(e=this.managedAttachments)[n=t.id]?e[n]:e[n]=new M.ManagedAttachment(this,t)},e.prototype.attachmentIsManaged=function(t){return t.id in this.managedAttachments},e.prototype.requestRemovalOfAttachment=function(t){var e;return this.attachmentIsManaged(t)&&null!=(e=this.delegate)&&"function"==typeof e.attachmentManagerDidRequestRemovalOfAttachment?e.attachmentManagerDidRequestRemovalOfAttachment(t):void 0},e.prototype.unmanageAttachment=function(t){var e;return e=this.managedAttachments[t.id],delete this.managedAttachments[t.id],e},e}()}.call(this),function(){var h,d,n,s,f,l,g,i,m,o,v;h=M.elementContainsNode,d=M.findChildIndexOfNode,M.findClosestElementFromNode,M.findNodeFromContainerAndOffset,f=M.nodeIsBlockStart,l=M.nodeIsBlockStartComment,s=M.nodeIsBlockContainer,g=M.nodeIsCursorTarget,i=M.nodeIsEmptyTextNode,m=M.nodeIsTextNode,n=M.nodeIsAttachmentElement,o=M.tagName,v=M.walkTree,M.LocationMapper=function(){function t(t){this.element=t}var a,c,p,e;return t.prototype.findLocationFromContainerAndOffset=function(t,e,n){var i,o,r,a,s,l,u;for(l=(null!=n?n:{strict:!0}).strict,r=!1,a={index:o=0,offset:0},(i=this.findAttachmentElementParentForNode(t))&&(t=i.parentNode,e=d(i)),u=v(this.element,{usingFilter:p});u.nextNode();){if((s=u.currentNode)===t&&m(t)){g(s)||(a.offset+=e);break}if(s.parentNode===t){if(o++===e)break}else if(!h(t,s)&&0<o)break;f(s,{strict:l})?(r&&a.index++,r=!(a.offset=0)):a.offset+=c(s)}return a},t.prototype.findContainerAndOffsetFromLocation=function(t){var e,n,i,o,r;if(0===t.index&&0===t.offset){for(e=this.element,o=0;e.firstChild;)if(e=e.firstChild,s(e)){o=1;break}return[e,o]}if(n=(r=this.findNodeAndOffsetFromLocation(t))[0],i=r[1],n){if(m(n))(e=n).textContent,o=t.offset-i;else{if(e=n.parentNode,!f(n.previousSibling)&&!s(e))for(;n===e.lastChild&&(e=(n=e).parentNode,!s(e)););o=d(n),0!==t.offset&&o++}return[e,o]}},t.prototype.findNodeAndOffsetFromLocation=function(t){var e,n,i,o,r,a,s,l;for(n=s=0,i=(l=this.getSignificantNodesForIndex(t.index)).length;n<i;n++){if(e=l[n],o=c(e),t.offset<=s+o)if(m(e)){if(r=e,a=s,t.offset===a&&g(r))break}else r||(r=e,a=s);if((s+=o)>t.offset)break}return[r,a]},t.prototype.findAttachmentElementParentForNode=function(t){for(;t&&t!==this.element;){if(n(t))return t;t=t.parentNode}},t.prototype.getSignificantNodesForIndex=function(t){var e,n,i,o,r;for(i=[],r=v(this.element,{usingFilter:a}),o=!1;r.nextNode();)if(n=r.currentNode,l(n)){if(null!=e?e++:e=0,e===t)o=!0;else if(o)break}else o&&i.push(n);return i},c=function(t){return t.nodeType===Node.TEXT_NODE?g(t)?0:t.textContent.length:"br"===o(t)||n(t)?1:0},a=function(t){return e(t)===NodeFilter.FILTER_ACCEPT?p(t):NodeFilter.FILTER_REJECT},e=function(t){return i(t)?NodeFilter.FILTER_REJECT:NodeFilter.FILTER_ACCEPT},p=function(t){return n(t.parentNode)?NodeFilter.FILTER_REJECT:NodeFilter.FILTER_ACCEPT},t}()}.call(this),function(){var u,c,n=[].slice;u=M.getDOMRange,c=M.setDOMRange,M.PointMapper=function(){function t(){}return t.prototype.createDOMRangeFromPoint=function(t){var e,n,i,o,r,a,s,l;if(s=t.x,l=t.y,document.caretPositionFromPoint)return i=(r=document.caretPositionFromPoint(s,l)).offsetNode,n=r.offset,(e=document.createRange()).setStart(i,n),e;if(document.caretRangeFromPoint)return document.caretRangeFromPoint(s,l);if(document.body.createTextRange){o=u();try{(a=document.body.createTextRange()).moveToPoint(s,l),a.select()}catch(t){}return e=u(),c(o),e}},t.prototype.getClientRectsForDOMRange=function(t){var e;return[(e=n.call(t.getClientRects()))[0],e[e.length-1]]},t}()}.call(this),function(){var i,o=function(t,e){return function(){return t.apply(e,arguments)}},r={}.hasOwnProperty,a=[].indexOf||function(t){for(var e=0,n=this.length;e<n;e++)if(e in this&&this[e]===t)return e;return-1};i=M.getDOMRange,M.SelectionChangeObserver=function(t){function e(){this.run=o(this.run,this),this.update=o(this.update,this),this.selectionManagers=[]}var n;return function(t,e){function n(){this.constructor=t}for(var i in e)r.call(e,i)&&(t[i]=e[i]);n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype}(e,M.BasicObject),e.prototype.start=function(){return this.started?void 0:(this.started=!0,"onselectionchange"in document?document.addEventListener("selectionchange",this.update,!0):this.run())},e.prototype.stop=function(){return this.started?(this.started=!1,document.removeEventListener("selectionchange",this.update,!0)):void 0},e.prototype.registerSelectionManager=function(t){return a.call(this.selectionManagers,t)<0?(this.selectionManagers.push(t),this.start()):void 0},e.prototype.unregisterSelectionManager=function(o){var r;return this.selectionManagers=function(){var t,e,n,i;for(i=[],t=0,e=(n=this.selectionManagers).length;t<e;t++)(r=n[t])!==o&&i.push(r);return i}.call(this),0===this.selectionManagers.length?this.stop():void 0},e.prototype.notifySelectionManagersOfSelectionChange=function(){var t,e,n,i,o;for(i=[],t=0,e=(n=this.selectionManagers).length;t<e;t++)o=n[t],i.push(o.selectionDidChange());return i},e.prototype.update=function(){var t;return t=i(),n(t,this.domRange)?void 0:(this.domRange=t,this.notifySelectionManagersOfSelectionChange())},e.prototype.reset=function(){return this.domRange=null,this.update()},e.prototype.run=function(){return this.started?(this.update(),requestAnimationFrame(this.run)):void 0},n=function(t,e){return(null!=t?t.startContainer:void 0)===(null!=e?e.startContainer:void 0)&&(null!=t?t.startOffset:void 0)===(null!=e?e.startOffset:void 0)&&(null!=t?t.endContainer:void 0)===(null!=e?e.endContainer:void 0)&&(null!=t?t.endOffset:void 0)===(null!=e?e.endOffset:void 0)},e}(),null==M.selectionChangeObserver&&(M.selectionChangeObserver=new M.SelectionChangeObserver)}.call(this),function(){var s,n,i,l,o,r,a,u,c,p,h=function(t,e){return function(){return t.apply(e,arguments)}},d={}.hasOwnProperty;i=M.getDOMSelection,n=M.getDOMRange,p=M.setDOMRange,M.defer,s=M.elementContainsNode,r=M.nodeIsCursorTarget,o=M.innerElementIsActive,l=M.handleEvent,M.handleEventOnce,a=M.normalizeRange,u=M.rangeIsCollapsed,c=M.rangesAreEqual,M.SelectionManager=function(t){function e(t){this.element=t,this.selectionDidChange=h(this.selectionDidChange,this),this.didMouseDown=h(this.didMouseDown,this),this.locationMapper=new M.LocationMapper(this.element),this.pointMapper=new M.PointMapper,this.lockCount=0,l("mousedown",{onElement:this.element,withCallback:this.didMouseDown})}return function(t,e){function n(){this.constructor=t}for(var i in e)d.call(e,i)&&(t[i]=e[i]);n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype}(e,M.BasicObject),e.prototype.getLocationRange=function(t){var e;return null==t&&(t={}),!1===t.strict?this.createLocationRangeFromDOMRange(n(),{strict:!1}):t.ignoreLock?this.currentLocationRange:null!=(e=this.lockedLocationRange)?e:this.currentLocationRange},e.prototype.setLocationRange=function(t){var e;if(!this.lockedLocationRange)return t=a(t),(e=this.createDOMRangeFromLocationRange(t))?(p(e),this.updateCurrentLocationRange(t)):void 0},e.prototype.setLocationRangeFromPointRange=function(t){var e,n;return t=a(t),n=this.getLocationAtPoint(t[0]),e=this.getLocationAtPoint(t[1]),this.setLocationRange([n,e])},e.prototype.getClientRectAtLocationRange=function(t){var e;return(e=this.createDOMRangeFromLocationRange(t))?this.getClientRectsForDOMRange(e)[1]:void 0},e.prototype.locationIsCursorTarget=function(t){var e,n;return e=(n=this.findNodeAndOffsetFromLocation(t))[0],n[1],r(e)},e.prototype.lock=function(){return 0==this.lockCount++?(this.updateCurrentLocationRange(),this.lockedLocationRange=this.getLocationRange()):void 0},e.prototype.unlock=function(){var t;return 0==--this.lockCount&&(t=this.lockedLocationRange,(this.lockedLocationRange=null)!=t)?this.setLocationRange(t):void 0},e.prototype.clearSelection=function(){var t;return null!=(t=i())?t.removeAllRanges():void 0},e.prototype.selectionIsCollapsed=function(){var t;return!0===(null!=(t=n())?t.collapsed:void 0)},e.prototype.selectionIsExpanded=function(){return!this.selectionIsCollapsed()},e.proxyMethod("locationMapper.findLocationFromContainerAndOffset"),e.proxyMethod("locationMapper.findContainerAndOffsetFromLocation"),e.proxyMethod("locationMapper.findNodeAndOffsetFromLocation"),e.proxyMethod("pointMapper.createDOMRangeFromPoint"),e.proxyMethod("pointMapper.getClientRectsForDOMRange"),e.prototype.didMouseDown=function(){return this.pauseTemporarily()},e.prototype.pauseTemporarily=function(){var o,r,n,i,a;return this.paused=!0,a=this,r=function(){var t,e;for(a.paused=!1,clearTimeout(i),t=0,e=n.length;t<e;t++)n[t].destroy();return s(document,a.element)?a.selectionDidChange():void 0},i=setTimeout(r,200),n=function(){var t,e,n,i;for(i=[],t=0,e=(n=["mousemove","keydown"]).length;t<e;t++)o=n[t],i.push(l(o,{onElement:document,withCallback:r}));return i}()},e.prototype.selectionDidChange=function(){return this.paused||o(this.element)?void 0:this.updateCurrentLocationRange()},e.prototype.updateCurrentLocationRange=function(t){var e;return(null!=t?t:t=this.createLocationRangeFromDOMRange(n()))&&!c(t,this.currentLocationRange)?(this.currentLocationRange=t,null!=(e=this.delegate)&&"function"==typeof e.locationRangeDidChange?e.locationRangeDidChange(this.currentLocationRange.slice(0)):void 0):void 0},e.prototype.createDOMRangeFromLocationRange=function(t){var e,n,i,o;return i=this.findContainerAndOffsetFromLocation(t[0]),n=u(t)?i:null!=(o=this.findContainerAndOffsetFromLocation(t[1]))?o:i,null!=i&&null!=n?((e=document.createRange()).setStart.apply(e,i),e.setEnd.apply(e,n),e):void 0},e.prototype.createLocationRangeFromDOMRange=function(t,e){var n,i;if(null!=t&&this.domRangeWithinElement(t)&&(i=this.findLocationFromContainerAndOffset(t.startContainer,t.startOffset,e)))return t.collapsed||(n=this.findLocationFromContainerAndOffset(t.endContainer,t.endOffset,e)),a([i,n])},e.prototype.getLocationAtPoint=function(t){var e,n;return(e=this.createDOMRangeFromPoint(t))&&null!=(n=this.createLocationRangeFromDOMRange(e))?n[0]:void 0},e.prototype.domRangeWithinElement=function(t){return t.collapsed?s(this.element,t.startContainer):s(this.element,t.startContainer)&&s(this.element,t.endContainer)},e}()}.call(this),function(){var n,i,o,r={}.hasOwnProperty,a=[].slice;i=M.rangeIsCollapsed,o=M.rangesAreEqual,n=M.objectsAreEqual,M.EditorController=function(t){function e(t){var e,n;this.editorElement=t.editorElement,e=t.document,n=t.html,this.selectionManager=new M.SelectionManager(this.editorElement),(this.selectionManager.delegate=this).composition=new M.Composition,(this.composition.delegate=this).attachmentManager=new M.AttachmentManager(this.composition.getAttachments()),(this.attachmentManager.delegate=this).inputController=new M.InputController(this.editorElement),(this.inputController.delegate=this).inputController.responder=this.composition,this.compositionController=new M.CompositionController(this.editorElement,this.composition),(this.compositionController.delegate=this).toolbarController=new M.ToolbarController(this.editorElement.toolbarElement),(this.toolbarController.delegate=this).editor=new M.Editor(this.composition,this.selectionManager,this.editorElement),null!=e?this.editor.loadDocument(e):this.editor.loadHTML(n)}return function(t,e){function n(){this.constructor=t}for(var i in e)r.call(e,i)&&(t[i]=e[i]);n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype}(e,M.Controller),e.prototype.registerSelectionManager=function(){return M.selectionChangeObserver.registerSelectionManager(this.selectionManager)},e.prototype.unregisterSelectionManager=function(){return M.selectionChangeObserver.unregisterSelectionManager(this.selectionManager)},e.prototype.compositionDidChangeDocument=function(){return this.editorElement.notify("document-change"),this.handlingInput?void 0:this.render()},e.prototype.compositionDidChangeCurrentAttributes=function(t){return this.currentAttributes=t,this.toolbarController.updateAttributes(this.currentAttributes),this.updateCurrentActions(),this.editorElement.notify("attributes-change",{attributes:this.currentAttributes})},e.prototype.compositionDidPerformInsertionAtRange=function(t){return this.pasting?this.pastedRange=t:void 0},e.prototype.compositionShouldAcceptFile=function(t){return this.editorElement.notify("file-accept",{file:t})},e.prototype.compositionDidAddAttachment=function(t){var e;return e=this.attachmentManager.manageAttachment(t),this.editorElement.notify("attachment-add",{attachment:e})},e.prototype.compositionDidEditAttachment=function(t){var e;return this.compositionController.rerenderViewForObject(t),e=this.attachmentManager.manageAttachment(t),this.editorElement.notify("attachment-edit",{attachment:e}),this.editorElement.notify("change")},e.prototype.compositionDidChangeAttachmentPreviewURL=function(t){return this.compositionController.invalidateViewForObject(t),this.editorElement.notify("change")},e.prototype.compositionDidRemoveAttachment=function(t){var e;return e=this.attachmentManager.unmanageAttachment(t),this.editorElement.notify("attachment-remove",{attachment:e})},e.prototype.compositionDidStartEditingAttachment=function(t){return this.attachmentLocationRange=this.composition.document.getLocationRangeOfAttachment(t),this.compositionController.installAttachmentEditorForAttachment(t),this.selectionManager.setLocationRange(this.attachmentLocationRange)},e.prototype.compositionDidStopEditingAttachment=function(){return this.compositionController.uninstallAttachmentEditor(),this.attachmentLocationRange=null},e.prototype.compositionDidRequestChangingSelectionToLocationRange=function(t){return!this.loadingSnapshot||this.isFocused()?(this.requestedLocationRange=t,this.compositionRevisionWhenLocationRangeRequested=this.composition.revision,this.handlingInput?void 0:this.render()):void 0},e.prototype.compositionWillLoadSnapshot=function(){return this.loadingSnapshot=!0},e.prototype.compositionDidLoadSnapshot=function(){return this.compositionController.refreshViewCache(),this.render(),this.loadingSnapshot=!1},e.prototype.getSelectionManager=function(){return this.selectionManager},e.proxyMethod("getSelectionManager().setLocationRange"),e.proxyMethod("getSelectionManager().getLocationRange"),e.prototype.attachmentManagerDidRequestRemovalOfAttachment=function(t){return this.removeAttachment(t)},e.prototype.compositionControllerWillSyncDocumentView=function(){return this.inputController.editorWillSyncDocumentView(),this.selectionManager.lock(),this.selectionManager.clearSelection()},e.prototype.compositionControllerDidSyncDocumentView=function(){return this.inputController.editorDidSyncDocumentView(),this.selectionManager.unlock(),this.updateCurrentActions(),this.editorElement.notify("sync")},e.prototype.compositionControllerDidRender=function(){return null!=this.requestedLocationRange&&(this.compositionRevisionWhenLocationRangeRequested===this.composition.revision&&this.selectionManager.setLocationRange(this.requestedLocationRange),this.requestedLocationRange=null,this.compositionRevisionWhenLocationRangeRequested=null),this.renderedCompositionRevision!==this.composition.revision&&(this.composition.updateCurrentAttributes(),this.editorElement.notify("render")),this.renderedCompositionRevision=this.composition.revision},e.prototype.compositionControllerDidFocus=function(){return this.toolbarController.hideDialog(),this.editorElement.notify("focus")},e.prototype.compositionControllerDidBlur=function(){return this.editorElement.notify("blur")},e.prototype.compositionControllerDidSelectAttachment=function(t){return this.composition.editAttachment(t)},e.prototype.compositionControllerDidRequestDeselectingAttachment=function(t){var e,n;return e=null!=(n=this.attachmentLocationRange)?n:this.composition.document.getLocationRangeOfAttachment(t),this.selectionManager.setLocationRange(e[1])},e.prototype.compositionControllerWillUpdateAttachment=function(t){return this.editor.recordUndoEntry("Edit Attachment",{context:t.id,consolidatable:!0})},e.prototype.compositionControllerDidRequestRemovalOfAttachment=function(t){return this.removeAttachment(t)},e.prototype.inputControllerWillHandleInput=function(){return this.handlingInput=!0,this.requestedRender=!1},e.prototype.inputControllerDidRequestRender=function(){return this.requestedRender=!0},e.prototype.inputControllerDidHandleInput=function(){return this.handlingInput=!1,this.requestedRender?(this.requestedRender=!1,this.render()):void 0},e.prototype.inputControllerDidAllowUnhandledInput=function(){return this.editorElement.notify("change")},e.prototype.inputControllerDidRequestReparse=function(){return this.reparse()},e.prototype.inputControllerWillPerformTyping=function(){return this.recordTypingUndoEntry()},e.prototype.inputControllerWillCutText=function(){return this.editor.recordUndoEntry("Cut")},e.prototype.inputControllerWillPasteText=function(){return this.editor.recordUndoEntry("Paste"),this.pasting=!0},e.prototype.inputControllerDidPaste=function(t){var e;return e=this.pastedRange,this.pastedRange=null,this.pasting=null,this.editorElement.notify("paste",{pasteData:t,range:e})},e.prototype.inputControllerWillMoveText=function(){return this.editor.recordUndoEntry("Move")},e.prototype.inputControllerWillAttachFiles=function(){return this.editor.recordUndoEntry("Drop Files")},e.prototype.inputControllerDidReceiveKeyboardCommand=function(t){return this.toolbarController.applyKeyboardCommand(t)},e.prototype.inputControllerDidStartDrag=function(){return this.locationRangeBeforeDrag=this.selectionManager.getLocationRange()},e.prototype.inputControllerDidReceiveDragOverPoint=function(t){return this.selectionManager.setLocationRangeFromPointRange(t)},e.prototype.inputControllerDidCancelDrag=function(){return this.selectionManager.setLocationRange(this.locationRangeBeforeDrag),this.locationRangeBeforeDrag=null},e.prototype.locationRangeDidChange=function(t){return this.composition.updateCurrentAttributes(),this.updateCurrentActions(),this.attachmentLocationRange&&!o(this.attachmentLocationRange,t)&&this.composition.stopEditingAttachment(),this.editorElement.notify("selection-change")},e.prototype.toolbarDidClickButton=function(){return this.getLocationRange()?void 0:this.setLocationRange({index:0,offset:0})},e.prototype.toolbarDidInvokeAction=function(t){return this.invokeAction(t)},e.prototype.toolbarDidToggleAttribute=function(t){return this.recordFormattingUndoEntry(),this.composition.toggleCurrentAttribute(t),this.render(),this.selectionFrozen?void 0:this.editorElement.focus()},e.prototype.toolbarDidUpdateAttribute=function(t,e){return this.recordFormattingUndoEntry(),this.composition.setCurrentAttribute(t,e),this.render(),this.selectionFrozen?void 0:this.editorElement.focus()},e.prototype.toolbarDidRemoveAttribute=function(t){return this.recordFormattingUndoEntry(),this.composition.removeCurrentAttribute(t),this.render(),this.selectionFrozen?void 0:this.editorElement.focus()},e.prototype.toolbarWillShowDialog=function(){return this.composition.expandSelectionForEditing(),this.freezeSelection()},e.prototype.toolbarDidShowDialog=function(t){return this.editorElement.notify("toolbar-dialog-show",{dialogName:t})},e.prototype.toolbarDidHideDialog=function(t){return this.thawSelection(),this.editorElement.focus(),this.editorElement.notify("toolbar-dialog-hide",{dialogName:t})},e.prototype.freezeSelection=function(){return this.selectionFrozen?void 0:(this.selectionManager.lock(),this.composition.freezeSelection(),this.selectionFrozen=!0,this.render())},e.prototype.thawSelection=function(){return this.selectionFrozen?(this.composition.thawSelection(),this.selectionManager.unlock(),this.selectionFrozen=!1,this.render()):void 0},e.prototype.actions={undo:{test:function(){return this.editor.canUndo()},perform:function(){return this.editor.undo()}},redo:{test:function(){return this.editor.canRedo()},perform:function(){return this.editor.redo()}},link:{test:function(){return this.editor.canActivateAttribute("href")}},increaseNestingLevel:{test:function(){return this.editor.canIncreaseNestingLevel()},perform:function(){return this.editor.increaseNestingLevel()&&this.render()}},decreaseNestingLevel:{test:function(){return this.editor.canDecreaseNestingLevel()},perform:function(){return this.editor.decreaseNestingLevel()&&this.render()}},increaseBlockLevel:{test:function(){return this.editor.canIncreaseNestingLevel()},perform:function(){return this.editor.increaseNestingLevel()&&this.render()}},decreaseBlockLevel:{test:function(){return this.editor.canDecreaseNestingLevel()},perform:function(){return this.editor.decreaseNestingLevel()&&this.render()}}},e.prototype.canInvokeAction=function(t){var e,n;return!!this.actionIsExternal(t)||!!(null!=(e=this.actions[t])&&null!=(n=e.test)?n.call(this):void 0)},e.prototype.invokeAction=function(t){var e,n;return this.actionIsExternal(t)?this.editorElement.notify("action-invoke",{actionName:t}):null!=(e=this.actions[t])&&null!=(n=e.perform)?n.call(this):void 0},e.prototype.actionIsExternal=function(t){return/^x-./.test(t)},e.prototype.getCurrentActions=function(){var t,e;for(t in e={},this.actions)e[t]=this.canInvokeAction(t);return e},e.prototype.updateCurrentActions=function(){var t;return t=this.getCurrentActions(),n(t,this.currentActions)?void 0:(this.currentActions=t,this.toolbarController.updateActions(this.currentActions),this.editorElement.notify("actions-change",{actions:this.currentActions}))},e.prototype.reparse=function(){return this.composition.replaceHTML(this.editorElement.innerHTML)},e.prototype.render=function(){return this.compositionController.render()},e.prototype.removeAttachment=function(t){return this.editor.recordUndoEntry("Delete Attachment"),this.composition.removeAttachment(t),this.render()},e.prototype.recordFormattingUndoEntry=function(){var t;return t=this.selectionManager.getLocationRange(),i(t)?void 0:this.editor.recordUndoEntry("Formatting",{context:this.getUndoContext(),consolidatable:!0})},e.prototype.recordTypingUndoEntry=function(){return this.editor.recordUndoEntry("Typing",{context:this.getUndoContext(this.currentAttributes),consolidatable:!0})},e.prototype.getUndoContext=function(){var t;return t=1<=arguments.length?a.call(arguments,0):[],[this.getLocationContext(),this.getTimeContext()].concat(a.call(t))},e.prototype.getLocationContext=function(){var t;return t=this.selectionManager.getLocationRange(),i(t)?t[0].index:t},e.prototype.getTimeContext=function(){return 0<M.config.undoInterval?Math.floor((new Date).getTime()/M.config.undoInterval):0},e.prototype.isFocused=function(){var t;return this.editorElement===(null!=(t=this.editorElement.ownerDocument)?t.activeElement:void 0)},e}()}.call(this),function(){var t,e,n,i,o,r,a,s,l,u,c,p;i=M.makeElement,o=M.selectionElements,r=M.triggerEvent,e=M.handleEvent,n=M.handleEventOnce,M.defer,t=M.AttachmentView.attachmentSelector,M.registerElement("trix-editor",(u=0,a=function(t){return!document.querySelector(":focus")&&t.hasAttribute("autofocus")&&document.querySelector("[autofocus]")===t?t.focus():void 0},c=function(t){return t.hasAttribute("contenteditable")?void 0:(t.setAttribute("contenteditable",""),n("focus",{onElement:t,withCallback:function(){return s(t)}}))},s=function(t){return l(t),p(t)},l=function(t){return("function"==typeof document.queryCommandSupported?document.queryCommandSupported("enableObjectResizing"):void 0)?(document.execCommand("enableObjectResizing",!1,!1),e("mscontrolselect",{onElement:t,preventDefault:!0})):void 0},p=function(){var t;return("function"==typeof document.queryCommandSupported?document.queryCommandSupported("DefaultParagraphSeparator"):void 0)&&("div"===(t=M.config.blockAttributes.default.tagName)||"p"===t)?document.execCommand("DefaultParagraphSeparator",!1,t):void 0},{defaultCSS:"%t:empty:not(:focus)::before {\n  content: attr(placeholder);\n  color: graytext;\n}\n\n%t a[contenteditable=false] {\n  cursor: text;\n}\n\n%t img {\n  max-width: 100%;\n  height: auto;\n}\n\n%t "+t+" figcaption textarea {\n  resize: none;\n}\n\n%t "+t+" figcaption textarea.trix-autoresize-clone {\n  position: absolute;\n  left: -9999px;\n  max-height: 0px;\n}\n\n%t "+t+'[data-trix-mutable] figcaption:empty::before {\n  content: "'+M.config.lang.captionPrompt+'";\n  color: graytext;\n}\n\n%t '+o.selector+" { "+o.cssText+" }",trixId:{get:function(){return this.hasAttribute("trix-id")?this.getAttribute("trix-id"):(this.setAttribute("trix-id",++u),this.trixId)}},toolbarElement:{get:function(){var t,e,n;return this.hasAttribute("toolbar")?null!=(e=this.ownerDocument)?e.getElementById(this.getAttribute("toolbar")):void 0:this.parentElement?(n="trix-toolbar-"+this.trixId,this.setAttribute("toolbar",n),t=i("trix-toolbar",{id:n}),this.parentElement.insertBefore(t,this),t):void 0}},inputElement:{get:function(){var t,e,n;return this.hasAttribute("input")?null!=(n=this.ownerDocument)?n.getElementById(this.getAttribute("input")):void 0:this.parentElement?(e="trix-input-"+this.trixId,this.setAttribute("input",e),t=i("input",{type:"hidden",id:e}),this.parentElement.insertBefore(t,this.nextElementSibling),t):void 0}},editor:{get:function(){var t;return null!=(t=this.editorController)?t.editor:void 0}},name:{get:function(){var t;return null!=(t=this.inputElement)?t.name:void 0}},value:{get:function(){var t;return null!=(t=this.inputElement)?t.value:void 0},set:function(t){var e;return this.defaultValue=t,null!=(e=this.editor)?e.loadHTML(this.defaultValue):void 0}},notify:function(t,e){var n;switch(t){case"document-change":this.documentChangedSinceLastRender=!0;break;case"render":this.documentChangedSinceLastRender&&(this.documentChangedSinceLastRender=!1,this.notify("change"));break;case"change":case"attachment-add":case"attachment-edit":case"attachment-remove":null!=(n=this.inputElement)&&(n.value=M.serializeToContentType(this,"text/html"))}return this.editorController?r("trix-"+t,{onElement:this,attributes:e}):void 0},createdCallback:function(){return c(this)},attachedCallback:function(){return this.hasAttribute("data-trix-internal")?void 0:(null==this.editorController&&(this.editorController=new M.EditorController({editorElement:this,html:this.defaultValue=this.value})),this.editorController.registerSelectionManager(),this.registerResetListener(),a(this),requestAnimationFrame((t=this,function(){return t.notify("initialize")})));var t},detachedCallback:function(){var t;return null!=(t=this.editorController)&&t.unregisterSelectionManager(),this.unregisterResetListener()},registerResetListener:function(){return this.resetListener=this.resetBubbled.bind(this),window.addEventListener("reset",this.resetListener,!1)},unregisterResetListener:function(){return window.removeEventListener("reset",this.resetListener,!1)},resetBubbled:function(t){var e;return t.target!==(null!=(e=this.inputElement)?e.form:void 0)||t.defaultPrevented?void 0:this.reset()},reset:function(){return this.value=this.defaultValue}}))}.call(this),function(){}.call(this)}).call(this),"object"==typeof module&&module.exports?module.exports=M:"function"==typeof define&&define.amd&&define(M)}.call(this),function(){"use strict";angular.module("angularTrix",[]).directive("angularTrix",function(){return{restrict:"A",require:"ngModel",scope:{trixInitialize:"&",trixChange:"&",trixSelectionChange:"&",trixFocus:"&",trixBlur:"&",trixFileAccept:"&",trixAttachmentAdd:"&",trixAttachmentRemove:"&"},link:function(i,o,r,t){o.on("trix-initialize",function(){t.$modelValue&&o[0].editor.loadHTML(t.$modelValue)}),t.$render=function(){o[0].editor&&o[0].editor.loadHTML(t.$modelValue),o.on("trix-change",function(){t.$setViewValue(o.html())})};var e=function(e,n){o[0].addEventListener(e,function(t){"trix-file-accept"===e&&"true"===r.preventTrixFileAccept&&t.preventDefault(),i[n]({e:t,editor:o[0].editor})})};e("trix-initialize","trixInitialize"),e("trix-change","trixChange"),e("trix-selection-change","trixSelectionChange"),e("trix-focus","trixFocus"),e("trix-blur","trixBlur"),e("trix-file-accept","trixFileAccept"),e("trix-attachment-add","trixAttachmentAdd"),e("trix-attachment-remove","trixAttachmentRemove")}}})}(),function(e,n){"function"==typeof define&&define.amd?define("bloodhound",["jquery"],function(t){return e.Bloodhound=n(t)}):"object"==typeof exports?module.exports=n(require("jquery")):e.Bloodhound=n(jQuery)}(this,function(y){var b=function(){"use strict";return{isMsie:function(){return!!/(msie|trident)/i.test(navigator.userAgent)&&navigator.userAgent.match(/(msie |rv:)(\d+(.\d+)?)/i)[2]},isBlankString:function(t){return!t||/^\s*$/.test(t)},escapeRegExChars:function(t){return t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")},isString:function(t){return"string"==typeof t},isNumber:function(t){return"number"==typeof t},isArray:y.isArray,isFunction:y.isFunction,isObject:y.isPlainObject,isUndefined:function(t){return void 0===t},isElement:function(t){return!(!t||1!==t.nodeType)},isJQuery:function(t){return t instanceof y},toStr:function(t){return b.isUndefined(t)||null===t?"":t+""},bind:y.proxy,each:function(t,n){y.each(t,function(t,e){return n(e,t)})},map:y.map,filter:y.grep,every:function(n,i){var o=!0;return n?(y.each(n,function(t,e){if(!(o=i.call(null,e,t,n)))return!1}),!!o):o},some:function(n,i){var o=!1;return n?(y.each(n,function(t,e){if(o=i.call(null,e,t,n))return!1}),!!o):o},mixin:y.extend,identity:function(t){return t},clone:function(t){return y.extend(!0,{},t)},getIdGenerator:function(){var t=0;return function(){return t++}},templatify:function(t){return y.isFunction(t)?t:function(){return String(t)}},defer:function(t){setTimeout(t,0)},debounce:function(o,r,a){var s,l;return function(){var t,e,n=this,i=arguments;return t=function(){s=null,a||(l=o.apply(n,i))},e=a&&!s,clearTimeout(s),s=setTimeout(t,r),e&&(l=o.apply(n,i)),l}},throttle:function(n,i){var o,r,a,s,l,u;return l=0,u=function(){l=new Date,a=null,s=n.apply(o,r)},function(){var t=new Date,e=i-(t-l);return o=this,r=arguments,e<=0?(clearTimeout(a),a=null,l=t,s=n.apply(o,r)):a||(a=setTimeout(u,e)),s}},stringify:function(t){return b.isString(t)?t:JSON.stringify(t)},noop:function(){}}}(),n=function(){"use strict";return{nonword:e,whitespace:t,obj:{nonword:n(e),whitespace:n(t)}};function t(t){return(t=b.toStr(t))?t.split(/\s+/):[]}function e(t){return(t=b.toStr(t))?t.split(/\W+/):[]}function n(i){return function(t){return t=b.isArray(t)?t:[].slice.call(arguments,0),function(e){var n=[];return b.each(t,function(t){n=n.concat(i(b.toStr(e[t])))}),n}}}}(),i=function(){"use strict";function t(t){this.maxSize=b.isNumber(t)?t:100,this.reset(),this.maxSize<=0&&(this.set=this.get=y.noop)}function e(){this.head=this.tail=null}function o(t,e){this.key=t,this.val=e,this.prev=this.next=null}return b.mixin(t.prototype,{set:function(t,e){var n,i=this.list.tail;this.size>=this.maxSize&&(this.list.remove(i),delete this.hash[i.key],this.size--),(n=this.hash[t])?(n.val=e,this.list.moveToFront(n)):(n=new o(t,e),this.list.add(n),this.hash[t]=n,this.size++)},get:function(t){var e=this.hash[t];if(e)return this.list.moveToFront(e),e.val},reset:function(){this.size=0,this.hash={},this.list=new e}}),b.mixin(e.prototype,{add:function(t){this.head&&(t.next=this.head,this.head.prev=t),this.head=t,this.tail=this.tail||t},remove:function(t){t.prev?t.prev.next=t.next:this.head=t.next,t.next?t.next.prev=t.prev:this.tail=t.prev},moveToFront:function(t){this.remove(t),this.add(t)}}),t}(),e=function(){"use strict";var r;try{(r=window.localStorage).setItem("~~~","!"),r.removeItem("~~~")}catch(t){r=null}function t(t,e){this.prefix=["__",t,"__"].join(""),this.ttlKey="__ttl__",this.keyMatcher=new RegExp("^"+b.escapeRegExChars(this.prefix)),this.ls=e||r,!this.ls&&this._noop()}return b.mixin(t.prototype,{_prefix:function(t){return this.prefix+t},_ttlKey:function(t){return this._prefix(t)+this.ttlKey},_noop:function(){this.get=this.set=this.remove=this.clear=this.isExpired=b.noop},_safeSet:function(t,e){try{this.ls.setItem(t,e)}catch(t){"QuotaExceededError"===t.name&&(this.clear(),this._noop())}},get:function(t){return this.isExpired(t)&&this.remove(t),n(this.ls.getItem(this._prefix(t)))},set:function(t,e,n){return b.isNumber(n)?this._safeSet(this._ttlKey(t),o(i()+n)):this.ls.removeItem(this._ttlKey(t)),this._safeSet(this._prefix(t),o(e))},remove:function(t){return this.ls.removeItem(this._ttlKey(t)),this.ls.removeItem(this._prefix(t)),this},clear:function(){var t,e=function(t){var e,n,i=[],o=r.length;for(e=0;e<o;e++)(n=r.key(e)).match(t)&&i.push(n.replace(t,""));return i}(this.keyMatcher);for(t=e.length;t--;)this.remove(e[t]);return this},isExpired:function(t){var e=n(this.ls.getItem(this._ttlKey(t)));return!!(b.isNumber(e)&&i()>e)}}),t;function i(){return(new Date).getTime()}function o(t){return JSON.stringify(b.isUndefined(t)?null:t)}function n(t){return y.parseJSON(t)}}(),o=function(){"use strict";var s=0,l={},u=6,e=new i(10);function t(t){t=t||{},this.cancelled=!1,this.lastReq=null,this._send=t.transport,this._get=t.limiter?t.limiter(this._get):this._get,this._cache=!1===t.cache?new i(0):e}return t.setMaxPendingRequests=function(t){u=t},t.resetCache=function(){e.reset()},b.mixin(t.prototype,{_fingerprint:function(t){return(t=t||{}).url+t.type+y.param(t.data||{})},_get:function(t,e){var n,i,o=this;function r(t){e(null,t),o._cache.set(n,t)}function a(){e(!0)}n=this._fingerprint(t),this.cancelled||n!==this.lastReq||((i=l[n])?i.done(r).fail(a):s<u?(s++,l[n]=this._send(t).done(r).fail(a).always(function(){s--,delete l[n],o.onDeckRequestArgs&&(o._get.apply(o,o.onDeckRequestArgs),o.onDeckRequestArgs=null)})):this.onDeckRequestArgs=[].slice.call(arguments,0))},get:function(t,e){var n,i;e=e||y.noop,t=b.isString(t)?{url:t}:t||{},i=this._fingerprint(t),this.cancelled=!1,this.lastReq=i,(n=this._cache.get(i))?e(null,n):this._get(t,e)},cancel:function(){this.cancelled=!0}}),t}(),r=window.SearchIndex=function(){"use strict";var s="c",l="i";function t(t){(t=t||{}).datumTokenizer&&t.queryTokenizer||y.error("datumTokenizer and queryTokenizer are both required"),this.identify=t.identify||b.stringify,this.datumTokenizer=t.datumTokenizer,this.queryTokenizer=t.queryTokenizer,this.reset()}return b.mixin(t.prototype,{bootstrap:function(t){this.datums=t.datums,this.trie=t.trie},add:function(t){var r=this;t=b.isArray(t)?t:[t],b.each(t,function(t){var o,e;r.datums[o=r.identify(t)]=t,e=n(r.datumTokenizer(t)),b.each(e,function(t){var e,n,i;for(e=r.trie,n=t.split("");i=n.shift();)(e=e[s][i]||(e[s][i]=a()))[l].push(o)})})},get:function(t){var e=this;return b.map(t,function(t){return e.datums[t]})},search:function(t){var e,r,a=this;return e=n(this.queryTokenizer(t)),b.each(e,function(t){var e,n,i,o;if(r&&0===r.length)return!1;for(e=a.trie,n=t.split("");e&&(i=n.shift());)e=e[s][i];if(!e||0!==n.length)return!(r=[]);o=e[l].slice(0),r=r?function(t,e){var n=0,i=0,o=[];t=t.sort(),e=e.sort();var r=t.length,a=e.length;for(;n<r&&i<a;)t[n]<e[i]?n++:(t[n]>e[i]||(o.push(t[n]),n++),i++);return o}(r,o):o}),r?b.map(function(t){for(var e={},n=[],i=0,o=t.length;i<o;i++)e[t[i]]||(e[t[i]]=!0,n.push(t[i]));return n}(r),function(t){return a.datums[t]}):[]},all:function(){var t=[];for(var e in this.datums)t.push(this.datums[e]);return t},reset:function(){this.datums={},this.trie=a()},serialize:function(){return{datums:this.datums,trie:this.trie}}}),t;function n(t){return t=b.filter(t,function(t){return!!t}),t=b.map(t,function(t){return t.toLowerCase()})}function a(){var t={};return t[l]=[],t[s]={},t}}(),a=function(){"use strict";var n;function t(t){this.url=t.url,this.ttl=t.ttl,this.cache=t.cache,this.prepare=t.prepare,this.transform=t.transform,this.transport=t.transport,this.thumbprint=t.thumbprint,this.storage=new e(t.cacheKey)}return n={data:"data",protocol:"protocol",thumbprint:"thumbprint"},b.mixin(t.prototype,{_settings:function(){return{url:this.url,type:"GET",dataType:"json"}},store:function(t){this.cache&&(this.storage.set(n.data,t,this.ttl),this.storage.set(n.protocol,location.protocol,this.ttl),this.storage.set(n.thumbprint,this.thumbprint,this.ttl))},fromCache:function(){var t,e={};return this.cache?(e.data=this.storage.get(n.data),e.protocol=this.storage.get(n.protocol),e.thumbprint=this.storage.get(n.thumbprint),t=e.thumbprint!==this.thumbprint||e.protocol!==location.protocol,e.data&&!t?e.data:null):null},fromNetwork:function(e){var t,n=this;e&&(t=this.prepare(this._settings()),this.transport(t).fail(function(){e(!0)}).done(function(t){e(null,n.transform(t))}))},clear:function(){return this.storage.clear(),this}}),t}(),s=function(){"use strict";function t(t){this.url=t.url,this.prepare=t.prepare,this.transform=t.transform,this.transport=new o({cache:t.cache,limiter:t.limiter,transport:t.transport})}return b.mixin(t.prototype,{_settings:function(){return{url:this.url,type:"GET",dataType:"json"}},get:function(t,n){var e,i=this;if(n)return t=t||"",e=this.prepare(t,this._settings()),this.transport.get(e,function(t,e){n(t?[]:i.transform(e))})},cancelLastRequest:function(){this.transport.cancel()}}),t}(),l=function(){"use strict";return function(t){var e,n,i,o,r,a,s,l,u,c,p,h,d,f,g,m;return e={initialize:!0,identify:b.stringify,datumTokenizer:null,queryTokenizer:null,sufficient:5,sorter:null,local:[],prefetch:null,remote:null},!(t=b.mixin(e,t||{})).datumTokenizer&&y.error("datumTokenizer is required"),!t.queryTokenizer&&y.error("queryTokenizer is required"),n=t.sorter,t.sorter=n?function(t){return t.sort(n)}:b.identity,t.local=b.isFunction(t.local)?t.local():t.local,t.prefetch=(i=t.prefetch)?(o={url:null,ttl:864e5,cache:!0,cacheKey:null,thumbprint:"",prepare:b.identity,transform:b.identity,transport:null},i=b.isString(i)?{url:i}:i,!(i=b.mixin(o,i)).url&&y.error("prefetch requires url to be set"),i.transform=i.filter||i.transform,i.cacheKey=i.cacheKey||i.url,i.thumbprint="0.11.1"+i.thumbprint,i.transport=i.transport?v(i.transport):y.ajax,i):null,t.remote=(r=t.remote)?(a={url:null,cache:!0,prepare:null,replace:null,wildcard:null,limiter:null,rateLimitBy:"debounce",rateLimitWait:300,transform:b.identity,transport:null},r=b.isString(r)?{url:r}:r,!(r=b.mixin(a,r)).url&&y.error("remote requires url to be set"),r.transform=r.filter||r.transform,r.prepare=(f=(d=r).prepare,g=d.replace,m=d.wildcard,f||(f=g?function(t,e){return e.url=g(e.url,t),e}:d.wildcard?function(t,e){return e.url=e.url.replace(m,encodeURIComponent(t)),e}:function(t,e){return e})),r.limiter=(l=(s=r).limiter,u=s.rateLimitBy,c=s.rateLimitWait,l||(l=/^throttle$/i.test(u)?(h=c,function(t){return b.throttle(t,h)}):(p=c,function(t){return b.debounce(t,p)})),l),r.transport=r.transport?v(r.transport):y.ajax,delete r.replace,delete r.wildcard,delete r.rateLimitBy,delete r.rateLimitWait,r):void 0,t};function v(n){return function(t){var e=y.Deferred();return n(t,function(t){b.defer(function(){e.resolve(t)})},function(t){b.defer(function(){e.reject(t)})}),e}}}();return function(){"use strict";var t;function e(t){t=l(t),this.sorter=t.sorter,this.identify=t.identify,this.sufficient=t.sufficient,this.local=t.local,this.remote=t.remote?new s(t.remote):null,this.prefetch=t.prefetch?new a(t.prefetch):null,this.index=new r({identify:this.identify,datumTokenizer:t.datumTokenizer,queryTokenizer:t.queryTokenizer}),!1!==t.initialize&&this.initialize()}return t=window&&window.Bloodhound,e.noConflict=function(){return window&&(window.Bloodhound=t),e},e.tokenizers=n,b.mixin(e.prototype,{__ttAdapter:function(){var i=this;return this.remote?function(t,e,n){return i.search(t,e,n)}:function(t,e){return i.search(t,e)}},_loadPrefetch:function(){var n,t,i=this;return n=y.Deferred(),this.prefetch?(t=this.prefetch.fromCache())?(this.index.bootstrap(t),n.resolve()):this.prefetch.fromNetwork(function(t,e){if(t)return n.reject();i.add(e),i.prefetch.store(i.index.serialize()),n.resolve()}):n.resolve(),n.promise()},_initialize:function(){var t=this;return this.clear(),(this.initPromise=this._loadPrefetch()).done(function(){t.add(t.local)}),this.initPromise},initialize:function(t){return!this.initPromise||t?this._initialize():this.initPromise},add:function(t){return this.index.add(t),this},get:function(t){return t=b.isArray(t)?t:[].slice.call(arguments),this.index.get(t)},search:function(t,e,i){var o,r=this;return o=this.sorter(this.index.search(t)),e(this.remote?o.slice():o),this.remote&&o.length<this.sufficient?this.remote.get(t,function(t){var n=[];b.each(t,function(e){!b.some(o,function(t){return r.identify(e)===r.identify(t)})&&n.push(e)}),i&&i(n)}):this.remote&&this.remote.cancelLastRequest(),this},all:function(){return this.index.all()},clear:function(){return this.index.reset(),this},clearPrefetchCache:function(){return this.prefetch&&this.prefetch.clear(),this},clearRemoteCache:function(){return o.resetCache(),this},ttAdapter:function(){return this.__ttAdapter()}}),e}()}),function(t,e){"function"==typeof define&&define.amd?define("typeahead.js",["jquery"],function(t){return e(t)}):"object"==typeof exports?module.exports=e(require("jquery")):e(jQuery)}(0,function(b){var w=function(){"use strict";return{isMsie:function(){return!!/(msie|trident)/i.test(navigator.userAgent)&&navigator.userAgent.match(/(msie |rv:)(\d+(.\d+)?)/i)[2]},isBlankString:function(t){return!t||/^\s*$/.test(t)},escapeRegExChars:function(t){return t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")},isString:function(t){return"string"==typeof t},isNumber:function(t){return"number"==typeof t},isArray:b.isArray,isFunction:b.isFunction,isObject:b.isPlainObject,isUndefined:function(t){return void 0===t},isElement:function(t){return!(!t||1!==t.nodeType)},isJQuery:function(t){return t instanceof b},toStr:function(t){return w.isUndefined(t)||null===t?"":t+""},bind:b.proxy,each:function(t,n){b.each(t,function(t,e){return n(e,t)})},map:b.map,filter:b.grep,every:function(n,i){var o=!0;return n?(b.each(n,function(t,e){if(!(o=i.call(null,e,t,n)))return!1}),!!o):o},some:function(n,i){var o=!1;return n?(b.each(n,function(t,e){if(o=i.call(null,e,t,n))return!1}),!!o):o},mixin:b.extend,identity:function(t){return t},clone:function(t){return b.extend(!0,{},t)},getIdGenerator:function(){var t=0;return function(){return t++}},templatify:function(t){return b.isFunction(t)?t:function(){return String(t)}},defer:function(t){setTimeout(t,0)},debounce:function(o,r,a){var s,l;return function(){var t,e,n=this,i=arguments;return t=function(){s=null,a||(l=o.apply(n,i))},e=a&&!s,clearTimeout(s),s=setTimeout(t,r),e&&(l=o.apply(n,i)),l}},throttle:function(n,i){var o,r,a,s,l,u;return l=0,u=function(){l=new Date,a=null,s=n.apply(o,r)},function(){var t=new Date,e=i-(t-l);return o=this,r=arguments,e<=0?(clearTimeout(a),a=null,l=t,s=n.apply(o,r)):a||(a=setTimeout(u,e)),s}},stringify:function(t){return w.isString(t)?t:JSON.stringify(t)},noop:function(){}}}(),n=function(){"use strict";var s={wrapper:"twitter-typeahead",input:"tt-input",hint:"tt-hint",menu:"tt-menu",dataset:"tt-dataset",suggestion:"tt-suggestion",selectable:"tt-selectable",empty:"tt-empty",open:"tt-open",cursor:"tt-cursor",highlight:"tt-highlight"};return function(t){var e,n;return n=w.mixin({},s,t),{css:(e={css:(a={wrapper:{position:"relative",display:"inline-block"},hint:{position:"absolute",top:"0",left:"0",borderColor:"transparent",boxShadow:"none",opacity:"1"},input:{position:"relative",verticalAlign:"top",backgroundColor:"transparent"},inputWithNoHint:{position:"relative",verticalAlign:"top"},menu:{position:"absolute",top:"100%",left:"0",zIndex:"100",display:"none"},ltr:{left:"0",right:"auto"},rtl:{left:"auto",right:" 0"}},w.isMsie()&&w.mixin(a.input,{backgroundImage:"url(data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7)"}),a),classes:n,html:(r=n,{wrapper:'<span class="'+r.wrapper+'"></span>',menu:'<div class="'+r.menu+'"></div>'}),selectors:(i=n,o={},w.each(i,function(t,e){o[e]="."+t}),o)}).css,html:e.html,classes:e.classes,selectors:e.selectors,mixin:function(t){w.mixin(t,e)}};var i,o;var r;var a}}(),x=function(){"use strict";var n;function t(t){t&&t.el||b.error("EventBus initialized without el"),this.$el=b(t.el)}return"typeahead:",n={render:"rendered",cursorchange:"cursorchanged",select:"selected",autocomplete:"autocompleted"},w.mixin(t.prototype,{_trigger:function(t,e){var n;return n=b.Event("typeahead:"+t),(e=e||[]).unshift(n),this.$el.trigger.apply(this.$el,e),n},before:function(t){var e;return e=[].slice.call(arguments,1),this._trigger("before"+t,e).isDefaultPrevented()},trigger:function(t){var e;this._trigger(t,[].slice.call(arguments,1)),(e=n[t])&&this._trigger(e,[].slice.call(arguments,1))}}),t}(),e=function(){"use strict";var s=/\s+/,a=function(){var t;t=window.setImmediate?function(t){setImmediate(function(){t()})}:function(t){setTimeout(function(){t()},0)};return t}();return{onSync:function(t,e,n){return i.call(this,"sync",t,e,n)},onAsync:function(t,e,n){return i.call(this,"async",t,e,n)},off:function(t){var e;if(!this._callbacks)return this;t=t.split(s);for(;e=t.shift();)delete this._callbacks[e];return this},trigger:function(t){var e,n,i,o,r;if(!this._callbacks)return this;t=t.split(s),i=[].slice.call(arguments,1);for(;(e=t.shift())&&(n=this._callbacks[e]);)o=l(n.sync,this,[e].concat(i)),r=l(n.async,this,[e].concat(i)),o()&&a(r);return this}};function i(t,e,n,i){var o,r,a;if(!n)return this;for(e=e.split(s),n=i?(a=i,(r=n).bind?r.bind(a):function(){r.apply(a,[].slice.call(arguments,0))}):n,this._callbacks=this._callbacks||{};o=e.shift();)this._callbacks[o]=this._callbacks[o]||{sync:[],async:[]},this._callbacks[o][t].push(n);return this}function l(i,o,r){return function(){for(var t,e=0,n=i.length;!t&&e<n;e+=1)t=!1===i[e].apply(o,r);return!t}}}(),l=function(a){"use strict";var t={node:null,pattern:null,tagName:"strong",className:null,wordsOnly:!1,caseSensitive:!1};return function(o){var r;(o=w.mixin({},t,o)).node&&o.pattern&&(o.pattern=w.isArray(o.pattern)?o.pattern:[o.pattern],r=function(t,e,n){for(var i,o=[],r=0,a=t.length;r<a;r++)o.push(w.escapeRegExChars(t[r]));return i=n?"\\b("+o.join("|")+")\\b":"("+o.join("|")+")",e?new RegExp(i):new RegExp(i,"i")}(o.pattern,o.caseSensitive,o.wordsOnly),function t(e,n){var i;for(var o=0;o<e.childNodes.length;o++)3===(i=e.childNodes[o]).nodeType?o+=n(i)?1:0:t(i,n)}(o.node,function(t){var e,n,i;(e=r.exec(t.data))&&(i=a.createElement(o.tagName),o.className&&(i.className=o.className),(n=t.splitText(e.index)).splitText(e[0].length),i.appendChild(n.cloneNode(!0)),t.parentNode.replaceChild(i,n));return!!e}))}}(window.document),$=function(){"use strict";var r;function a(t,e){var n;(t=t||{}).input||b.error("input is missing"),e.mixin(this),this.$hint=b(t.hint),this.$input=b(t.input),this.query=this.$input.val(),this.queryWhenFocused=this.hasFocus()?this.query:null,this.$overflowHelper=(n=this.$input,b('<pre aria-hidden="true"></pre>').css({position:"absolute",visibility:"hidden",whiteSpace:"pre",fontFamily:n.css("font-family"),fontSize:n.css("font-size"),fontStyle:n.css("font-style"),fontVariant:n.css("font-variant"),fontWeight:n.css("font-weight"),wordSpacing:n.css("word-spacing"),letterSpacing:n.css("letter-spacing"),textIndent:n.css("text-indent"),textRendering:n.css("text-rendering"),textTransform:n.css("text-transform")}).insertAfter(n)),this._checkLanguageDirection(),0===this.$hint.length&&(this.setHint=this.getHint=this.clearHint=this.clearHintIfInvalid=w.noop)}return r={9:"tab",27:"esc",37:"left",39:"right",13:"enter",38:"up",40:"down"},a.normalizeQuery=function(t){return w.toStr(t).replace(/^\s*/g,"").replace(/\s{2,}/g," ")},w.mixin(a.prototype,e,{_onBlur:function(){this.resetInputValue(),this.trigger("blurred")},_onFocus:function(){this.queryWhenFocused=this.query,this.trigger("focused")},_onKeydown:function(t){var e=r[t.which||t.keyCode];this._managePreventDefault(e,t),e&&this._shouldTrigger(e,t)&&this.trigger(e+"Keyed",t)},_onInput:function(){this._setQuery(this.getInputValue()),this.clearHintIfInvalid(),this._checkLanguageDirection()},_managePreventDefault:function(t,e){var n;switch(t){case"up":case"down":n=!i(e);break;default:n=!1}n&&e.preventDefault()},_shouldTrigger:function(t,e){var n;switch(t){case"tab":n=!i(e);break;default:n=!0}return n},_checkLanguageDirection:function(){var t=(this.$input.css("direction")||"ltr").toLowerCase();this.dir!==t&&(this.dir=t,this.$hint.attr("dir",t),this.trigger("langDirChanged",t))},_setQuery:function(t,e){var n,i,o,r;o=t,r=this.query,i=!!(n=a.normalizeQuery(o)===a.normalizeQuery(r))&&this.query.length!==t.length,this.query=t,e||n?!e&&i&&this.trigger("whitespaceChanged",this.query):this.trigger("queryChanged",this.query)},bind:function(){var t,e,n,i,o=this;return t=w.bind(this._onBlur,this),e=w.bind(this._onFocus,this),n=w.bind(this._onKeydown,this),i=w.bind(this._onInput,this),this.$input.on("blur.tt",t).on("focus.tt",e).on("keydown.tt",n),!w.isMsie()||9<w.isMsie()?this.$input.on("input.tt",i):this.$input.on("keydown.tt keypress.tt cut.tt paste.tt",function(t){r[t.which||t.keyCode]||w.defer(w.bind(o._onInput,o,t))}),this},focus:function(){this.$input.focus()},blur:function(){this.$input.blur()},getLangDir:function(){return this.dir},getQuery:function(){return this.query||""},setQuery:function(t,e){this.setInputValue(t),this._setQuery(t,e)},hasQueryChangedSinceLastFocus:function(){return this.query!==this.queryWhenFocused},getInputValue:function(){return this.$input.val()},setInputValue:function(t){this.$input.val(t),this.clearHintIfInvalid(),this._checkLanguageDirection()},resetInputValue:function(){this.setInputValue(this.query)},getHint:function(){return this.$hint.val()},setHint:function(t){this.$hint.val(t)},clearHint:function(){this.setHint("")},clearHintIfInvalid:function(){var t,e,n;n=(t=this.getInputValue())!==(e=this.getHint())&&0===e.indexOf(t),!(""!==t&&n&&!this.hasOverflow())&&this.clearHint()},hasFocus:function(){return this.$input.is(":focus")},hasOverflow:function(){var t=this.$input.width()-2;return this.$overflowHelper.text(this.getInputValue()),this.$overflowHelper.width()>=t},isCursorAtEnd:function(){var t,e,n;return t=this.$input.val().length,e=this.$input[0].selectionStart,w.isNumber(e)?e===t:!document.selection||((n=document.selection.createRange()).moveStart("character",-t),t===n.text.length)},destroy:function(){this.$hint.off(".tt"),this.$input.off(".tt"),this.$overflowHelper.remove(),this.$hint=this.$input=this.$overflowHelper=b("<div>")}}),a;function i(t){return t.altKey||t.ctrlKey||t.metaKey||t.shiftKey}}(),o=function(){"use strict";var a,s;function t(t,e){var n,i,o,r;(t=t||{}).templates=t.templates||{},t.templates.notFound=t.templates.notFound||t.templates.empty,t.source||b.error("missing source"),t.node||b.error("missing node"),t.name&&(n=t.name,!/^[_a-zA-Z0-9-]+$/.test(n))&&b.error("invalid dataset name: "+t.name),e.mixin(this),this.highlight=!!t.highlight,this.name=t.name||s(),this.limit=t.limit||5,this.displayFn=(i=(i=t.display||t.displayKey)||w.stringify,w.isFunction(i)?i:function(t){return t[i]}),this.templates=(o=t.templates,r=this.displayFn,{notFound:o.notFound&&w.templatify(o.notFound),pending:o.pending&&w.templatify(o.pending),header:o.header&&w.templatify(o.header),footer:o.footer&&w.templatify(o.footer),suggestion:o.suggestion||function(t){return b("<div>").text(r(t))}}),this.source=t.source.__ttAdapter?t.source.__ttAdapter():t.source,this.async=w.isUndefined(t.async)?2<this.source.length:!!t.async,this._resetLastSuggestion(),this.$el=b(t.node).addClass(this.classes.dataset).addClass(this.classes.dataset+"-"+this.name)}return a={val:"tt-selectable-display",obj:"tt-selectable-object"},s=w.getIdGenerator(),t.extractData=function(t){var e=b(t);return e.data(a.obj)?{val:e.data(a.val)||"",obj:e.data(a.obj)||null}:null},w.mixin(t.prototype,e,{_overwrite:function(t,e){(e=e||[]).length?this._renderSuggestions(t,e):this.async&&this.templates.pending?this._renderPending(t):!this.async&&this.templates.notFound?this._renderNotFound(t):this._empty(),this.trigger("rendered",this.name,e,!1)},_append:function(t,e){(e=e||[]).length&&this.$lastSuggestion.length?this._appendSuggestions(t,e):e.length?this._renderSuggestions(t,e):!this.$lastSuggestion.length&&this.templates.notFound&&this._renderNotFound(t),this.trigger("rendered",this.name,e,!0)},_renderSuggestions:function(t,e){var n;n=this._getSuggestionsFragment(t,e),this.$lastSuggestion=n.children().last(),this.$el.html(n).prepend(this._getHeader(t,e)).append(this._getFooter(t,e))},_appendSuggestions:function(t,e){var n,i;i=(n=this._getSuggestionsFragment(t,e)).children().last(),this.$lastSuggestion.after(n),this.$lastSuggestion=i},_renderPending:function(t){var e=this.templates.pending;this._resetLastSuggestion(),e&&this.$el.html(e({query:t,dataset:this.name}))},_renderNotFound:function(t){var e=this.templates.notFound;this._resetLastSuggestion(),e&&this.$el.html(e({query:t,dataset:this.name}))},_empty:function(){this.$el.empty(),this._resetLastSuggestion()},_getSuggestionsFragment:function(i,t){var o,r=this;return o=document.createDocumentFragment(),w.each(t,function(t){var e,n;n=r._injectQuery(i,t),e=b(r.templates.suggestion(n)).data(a.obj,t).data(a.val,r.displayFn(t)).addClass(r.classes.suggestion+" "+r.classes.selectable),o.appendChild(e[0])}),this.highlight&&l({className:this.classes.highlight,node:o,pattern:i}),b(o)},_getFooter:function(t,e){return this.templates.footer?this.templates.footer({query:t,suggestions:e,dataset:this.name}):null},_getHeader:function(t,e){return this.templates.header?this.templates.header({query:t,suggestions:e,dataset:this.name}):null},_resetLastSuggestion:function(){this.$lastSuggestion=b()},_injectQuery:function(t,e){return w.isObject(e)?w.mixin({_query:t},e):e},update:function(e){var n=this,i=!1,o=!1,r=0;function t(t){o||(o=!0,t=(t||[]).slice(0,n.limit),r=t.length,n._overwrite(e,t),r<n.limit&&n.async&&n.trigger("asyncRequested",e))}this.cancel(),this.cancel=function(){i=!0,n.cancel=b.noop,n.async&&n.trigger("asyncCanceled",e)},this.source(e,t,function(t){t=t||[],!i&&r<n.limit&&(n.cancel=b.noop,r+=t.length,n._append(e,t.slice(0,n.limit-r)),n.async&&n.trigger("asyncReceived",e))}),!o&&t([])},cancel:b.noop,clear:function(){this._empty(),this.cancel(),this.trigger("cleared")},isEmpty:function(){return this.$el.is(":empty")},destroy:function(){this.$el=b("<div>")}}),t}(),_=function(){"use strict";function t(t,n){var i=this;(t=t||{}).node||b.error("node is required"),n.mixin(this),this.$node=b(t.node),this.query=null,this.datasets=w.map(t.datasets,function(t){var e=i.$node.find(t.node).first();return t.node=e.length?e:b("<div>").appendTo(i.$node),new o(t,n)})}return w.mixin(t.prototype,e,{_onSelectableClick:function(t){this.trigger("selectableClicked",b(t.currentTarget))},_onRendered:function(t,e,n,i){this.$node.toggleClass(this.classes.empty,this._allDatasetsEmpty()),this.trigger("datasetRendered",e,n,i)},_onCleared:function(){this.$node.toggleClass(this.classes.empty,this._allDatasetsEmpty()),this.trigger("datasetCleared")},_propagate:function(){this.trigger.apply(this,arguments)},_allDatasetsEmpty:function(){return w.every(this.datasets,function(t){return t.isEmpty()})},_getSelectables:function(){return this.$node.find(this.selectors.selectable)},_removeCursor:function(){var t=this.getActiveSelectable();t&&t.removeClass(this.classes.cursor)},_ensureVisible:function(t){var e,n,i,o;n=(e=t.position().top)+t.outerHeight(!0),i=this.$node.scrollTop(),o=this.$node.height()+parseInt(this.$node.css("paddingTop"),10)+parseInt(this.$node.css("paddingBottom"),10),e<0?this.$node.scrollTop(i+e):o<n&&this.$node.scrollTop(i+(n-o))},bind:function(){var t,e=this;return t=w.bind(this._onSelectableClick,this),this.$node.on("click.tt",this.selectors.selectable,t),w.each(this.datasets,function(t){t.onSync("asyncRequested",e._propagate,e).onSync("asyncCanceled",e._propagate,e).onSync("asyncReceived",e._propagate,e).onSync("rendered",e._onRendered,e).onSync("cleared",e._onCleared,e)}),this},isOpen:function(){return this.$node.hasClass(this.classes.open)},open:function(){this.$node.addClass(this.classes.open)},close:function(){this.$node.removeClass(this.classes.open),this._removeCursor()},setLanguageDirection:function(t){this.$node.attr("dir",t)},selectableRelativeToCursor:function(t){var e,n,i;return n=this.getActiveSelectable(),e=this._getSelectables(),-1===(i=(i=((i=(n?e.index(n):-1)+t)+1)%(e.length+1)-1)<-1?e.length-1:i)?null:e.eq(i)},setCursor:function(t){this._removeCursor(),(t=t&&t.first())&&(t.addClass(this.classes.cursor),this._ensureVisible(t))},getSelectableData:function(t){return t&&t.length?o.extractData(t):null},getActiveSelectable:function(){var t=this._getSelectables().filter(this.selectors.cursor).first();return t.length?t:null},getTopSelectable:function(){var t=this._getSelectables().first();return t.length?t:null},update:function(e){var t=e!==this.query;return t&&(this.query=e,w.each(this.datasets,function(t){t.update(e)})),t},empty:function(){w.each(this.datasets,function(t){t.clear()}),this.query=null,this.$node.addClass(this.classes.empty)},destroy:function(){this.$node.off(".tt"),this.$node=b("<div>"),w.each(this.datasets,function(t){t.destroy()})}}),t}(),k=function(){"use strict";var e=_.prototype;function t(){_.apply(this,[].slice.call(arguments,0))}return w.mixin(t.prototype,_.prototype,{open:function(){return!this._allDatasetsEmpty()&&this._show(),e.open.apply(this,[].slice.call(arguments,0))},close:function(){return this._hide(),e.close.apply(this,[].slice.call(arguments,0))},_onRendered:function(){return this._allDatasetsEmpty()?this._hide():this.isOpen()&&this._show(),e._onRendered.apply(this,[].slice.call(arguments,0))},_onCleared:function(){return this._allDatasetsEmpty()?this._hide():this.isOpen()&&this._show(),e._onCleared.apply(this,[].slice.call(arguments,0))},setLanguageDirection:function(t){return this.$node.css("ltr"===t?this.css.ltr:this.css.rtl),e.setLanguageDirection.apply(this,[].slice.call(arguments,0))},_hide:function(){this.$node.hide()},_show:function(){this.$node.css("display","block")}}),t}(),C=function(){"use strict";function t(t,e){var n,i,o,r,a,s,l,u,c,p,h;(t=t||{}).input||b.error("missing input"),t.menu||b.error("missing menu"),t.eventBus||b.error("missing event bus"),e.mixin(this),this.eventBus=t.eventBus,this.minLength=w.isNumber(t.minLength)?t.minLength:1,this.input=t.input,this.menu=t.menu,this.enabled=!0,this.active=!1,this.input.hasFocus()&&this.activate(),this.dir=this.input.getLangDir(),this._hacks(),this.menu.bind().onSync("selectableClicked",this._onSelectableClicked,this).onSync("asyncRequested",this._onAsyncRequested,this).onSync("asyncCanceled",this._onAsyncCanceled,this).onSync("asyncReceived",this._onAsyncReceived,this).onSync("datasetRendered",this._onDatasetRendered,this).onSync("datasetCleared",this._onDatasetCleared,this),n=d(this,"activate","open","_onFocused"),i=d(this,"deactivate","_onBlurred"),o=d(this,"isActive","isOpen","_onEnterKeyed"),r=d(this,"isActive","isOpen","_onTabKeyed"),a=d(this,"isActive","_onEscKeyed"),s=d(this,"isActive","open","_onUpKeyed"),l=d(this,"isActive","open","_onDownKeyed"),u=d(this,"isActive","isOpen","_onLeftKeyed"),c=d(this,"isActive","isOpen","_onRightKeyed"),p=d(this,"_openIfActive","_onQueryChanged"),h=d(this,"_openIfActive","_onWhitespaceChanged"),this.input.bind().onSync("focused",n,this).onSync("blurred",i,this).onSync("enterKeyed",o,this).onSync("tabKeyed",r,this).onSync("escKeyed",a,this).onSync("upKeyed",s,this).onSync("downKeyed",l,this).onSync("leftKeyed",u,this).onSync("rightKeyed",c,this).onSync("queryChanged",p,this).onSync("whitespaceChanged",h,this).onSync("langDirChanged",this._onLangDirChanged,this)}return w.mixin(t.prototype,{_hacks:function(){var o,r;o=this.input.$input||b("<div>"),r=this.menu.$node||b("<div>"),o.on("blur.tt",function(t){var e,n,i;e=document.activeElement,n=r.is(e),i=0<r.has(e).length,w.isMsie()&&(n||i)&&(t.preventDefault(),t.stopImmediatePropagation(),w.defer(function(){o.focus()}))}),r.on("mousedown.tt",function(t){t.preventDefault()})},_onSelectableClicked:function(t,e){this.select(e)},_onDatasetCleared:function(){this._updateHint()},_onDatasetRendered:function(t,e,n,i){this._updateHint(),this.eventBus.trigger("render",n,i,e)},_onAsyncRequested:function(t,e,n){this.eventBus.trigger("asyncrequest",n,e)},_onAsyncCanceled:function(t,e,n){this.eventBus.trigger("asynccancel",n,e)},_onAsyncReceived:function(t,e,n){this.eventBus.trigger("asyncreceive",n,e)},_onFocused:function(){this._minLengthMet()&&this.menu.update(this.input.getQuery())},_onBlurred:function(){this.input.hasQueryChangedSinceLastFocus()&&this.eventBus.trigger("change",this.input.getQuery())},_onEnterKeyed:function(t,e){var n;(n=this.menu.getActiveSelectable())&&this.select(n)&&e.preventDefault()},_onTabKeyed:function(t,e){var n;(n=this.menu.getActiveSelectable())?this.select(n)&&e.preventDefault():(n=this.menu.getTopSelectable())&&this.autocomplete(n)&&e.preventDefault()},_onEscKeyed:function(){this.close()},_onUpKeyed:function(){this.moveCursor(-1)},_onDownKeyed:function(){this.moveCursor(1)},_onLeftKeyed:function(){"rtl"===this.dir&&this.input.isCursorAtEnd()&&this.autocomplete(this.menu.getTopSelectable())},_onRightKeyed:function(){"ltr"===this.dir&&this.input.isCursorAtEnd()&&this.autocomplete(this.menu.getTopSelectable())},_onQueryChanged:function(t,e){this._minLengthMet(e)?this.menu.update(e):this.menu.empty()},_onWhitespaceChanged:function(){this._updateHint()},_onLangDirChanged:function(t,e){this.dir!==e&&(this.dir=e,this.menu.setLanguageDirection(e))},_openIfActive:function(){this.isActive()&&this.open()},_minLengthMet:function(t){return(t=w.isString(t)?t:this.input.getQuery()||"").length>=this.minLength},_updateHint:function(){var t,e,n,i,o,r;t=this.menu.getTopSelectable(),e=this.menu.getSelectableData(t),n=this.input.getInputValue(),!e||w.isBlankString(n)||this.input.hasOverflow()?this.input.clearHint():(i=$.normalizeQuery(n),o=w.escapeRegExChars(i),(r=new RegExp("^(?:"+o+")(.+$)","i").exec(e.val))&&this.input.setHint(n+r[1]))},isEnabled:function(){return this.enabled},enable:function(){this.enabled=!0},disable:function(){this.enabled=!1},isActive:function(){return this.active},activate:function(){return!!this.isActive()||!(!this.isEnabled()||this.eventBus.before("active"))&&(this.active=!0,this.eventBus.trigger("active"),!0)},deactivate:function(){return!this.isActive()||!this.eventBus.before("idle")&&(this.active=!1,this.close(),this.eventBus.trigger("idle"),!0)},isOpen:function(){return this.menu.isOpen()},open:function(){return this.isOpen()||this.eventBus.before("open")||(this.menu.open(),this._updateHint(),this.eventBus.trigger("open")),this.isOpen()},close:function(){return this.isOpen()&&!this.eventBus.before("close")&&(this.menu.close(),this.input.clearHint(),this.input.resetInputValue(),this.eventBus.trigger("close")),!this.isOpen()},setVal:function(t){this.input.setQuery(w.toStr(t))},getVal:function(){return this.input.getQuery()},select:function(t){var e=this.menu.getSelectableData(t);return!(!e||this.eventBus.before("select",e.obj))&&(this.input.setQuery(e.val,!0),this.eventBus.trigger("select",e.obj),this.close(),!0)},autocomplete:function(t){var e,n;return e=this.input.getQuery(),!(!((n=this.menu.getSelectableData(t))&&e!==n.val)||this.eventBus.before("autocomplete",n.obj))&&(this.input.setQuery(n.val),this.eventBus.trigger("autocomplete",n.obj),!0)},moveCursor:function(t){var e,n,i,o;return e=this.input.getQuery(),n=this.menu.selectableRelativeToCursor(t),o=(i=this.menu.getSelectableData(n))?i.obj:null,!(this._minLengthMet()&&this.menu.update(e))&&!this.eventBus.before("cursorchange",o)&&(this.menu.setCursor(n),i?this.input.setInputValue(i.val):(this.input.resetInputValue(),this._updateHint()),this.eventBus.trigger("cursorchange",o),!0)},destroy:function(){this.input.destroy(),this.menu.destroy()}}),t;function d(n){var t=[].slice.call(arguments,1);return function(){var e=[].slice.call(arguments);w.each(t,function(t){return n[t].apply(n,e)})}}}();!function(){"use strict";var t,v,e;function i(t,n){t.each(function(){var t,e=b(this);(t=e.data(v.typeahead))&&n(t,e)})}function y(t){var e;return(e=w.isJQuery(t)||w.isElement(t)?b(t).first():[]).length?e:null}t=b.fn.typeahead,v={www:"tt-www",attrs:"tt-attrs",typeahead:"tt-typeahead"},e={initialize:function(f,g){var m;return g=w.isArray(g)?g:[].slice.call(arguments,1),m=n((f=f||{}).classNames),this.each(function(){var t,e,n,i,o,r,a,s,l,u,c;w.each(g,function(t){t.highlight=!!f.highlight}),t=b(this),e=b(m.html.wrapper),n=y(f.hint),i=y(f.menu),o=!1!==f.hint&&!n,r=!1!==f.menu&&!i,o&&(p=t,h=m,n=p.clone().addClass(h.classes.hint).removeData().css(h.css.hint).css((d=p,{backgroundAttachment:d.css("background-attachment"),backgroundClip:d.css("background-clip"),backgroundColor:d.css("background-color"),backgroundImage:d.css("background-image"),backgroundOrigin:d.css("background-origin"),backgroundPosition:d.css("background-position"),backgroundRepeat:d.css("background-repeat"),backgroundSize:d.css("background-size")})).prop("readonly",!0).removeAttr("id name placeholder required").attr({autocomplete:"off",spellcheck:"false",tabindex:-1})),r&&(i=b(m.html.menu).css(m.css.menu)),n&&n.val(""),t=function(t,e){t.data(v.attrs,{dir:t.attr("dir"),autocomplete:t.attr("autocomplete"),spellcheck:t.attr("spellcheck"),style:t.attr("style")}),t.addClass(e.classes.input).attr({autocomplete:"off",spellcheck:!1});try{!t.attr("dir")&&t.attr("dir","auto")}catch(t){}return t}(t,m),(o||r)&&(e.css(m.css.wrapper),t.css(o?m.css.input:m.css.inputWithNoHint),t.wrap(e).parent().prepend(o?n:null).append(r?i:null));var p,h,d;c=r?k:_,a=new x({el:t}),s=new $({hint:n,input:t},m),l=new c({node:i,datasets:g},m),u=new C({input:s,menu:l,eventBus:a,minLength:f.minLength},m),t.data(v.www,m),t.data(v.typeahead,u)})},isEnabled:function(){var e;return i(this.first(),function(t){e=t.isEnabled()}),e},enable:function(){return i(this,function(t){t.enable()}),this},disable:function(){return i(this,function(t){t.disable()}),this},isActive:function(){var e;return i(this.first(),function(t){e=t.isActive()}),e},activate:function(){return i(this,function(t){t.activate()}),this},deactivate:function(){return i(this,function(t){t.deactivate()}),this},isOpen:function(){var e;return i(this.first(),function(t){e=t.isOpen()}),e},open:function(){return i(this,function(t){t.open()}),this},close:function(){return i(this,function(t){t.close()}),this},select:function(t){var e=!1,n=b(t);return i(this.first(),function(t){e=t.select(n)}),e},autocomplete:function(t){var e=!1,n=b(t);return i(this.first(),function(t){e=t.autocomplete(n)}),e},moveCursor:function(e){var n=!1;return i(this.first(),function(t){n=t.moveCursor(e)}),n},val:function(e){var n;return arguments.length?(i(this,function(t){t.setVal(e)}),this):(i(this.first(),function(t){n=t.getVal()}),n)},destroy:function(){return i(this,function(t,e){var n,i,o;i=(n=e).data(v.www),o=n.parent().filter(i.selectors.wrapper),w.each(n.data(v.attrs),function(t,e){w.isUndefined(t)?n.removeAttr(e):n.attr(e,t)}),n.removeData(v.typeahead).removeData(v.www).removeData(v.attr).removeClass(i.classes.input),o.length&&(n.detach().insertAfter(o),o.remove()),t.destroy()}),this}},b.fn.typeahead=function(t){return e[t]?e[t].apply(this,[].slice.call(arguments,1)):e.initialize.apply(this,arguments)},b.fn.typeahead.noConflict=function(){return b.fn.typeahead=t,this}}()}),function(t,n,s){"use strict";var r=n.isDefined,f=n.isUndefined,l=n.isFunction,u=n.isString,c=n.isNumber,g=n.isObject,p=n.isArray,m=n.forEach,a=n.extend,h=n.copy,d=n.equals;function v(e){return p(e)?e:Object.keys(e).map(function(t){return e[t]})}function y(t){return null===t}function i(e,n){return-1==Object.keys(e).map(function(t){return n[t]!==s&&n[t]==e[t]}).indexOf(!1)}function b(t,e){function n(t,e,n){for(var i=0;e+i<=t.length;){if(t.charAt(e+i)==n)return i;i++}return-1}for(var i=0,o=0;o<=e.length;o++){var r=n(t,i,e.charAt(o));if(-1==r)return!1;i+=r+1}return!0}function w(t,n,i){var o=0;return t.filter(function(t){var e=r(i)?o<n&&i(t):o<n;return o=e?o+1:o,e})}function o(t,e){return Math.round(t*Math.pow(10,e))/Math.pow(10,e)}function x(t){return t&&t.$evalAsync&&t.$watch}function e(){return function(t,e){return e<t}}function $(){return function(t,e){return e<=t}}function _(){return function(t,e){return t<e}}function k(){return function(t,e){return t<=e}}function C(){return function(t,e){return t==e}}function S(){return function(t,e){return t!=e}}function T(){return function(t,e){return t===e}}function A(){return function(t,e){return t!==e}}function D(n){return function(t,e){return t=g(t)?v(t):t,!(!p(t)||f(e))&&t.some(function(t){return u(e)&&g(t)||l(e)?n(e)(t):t===e})}}function M(o){return function(t,e){if(t=g(t)?v(t):t,!p(t))return t;var n=[],i=o(e);return f(e)?t.filter(function(t,e,n){return n.indexOf(t)===e}):t.filter(function(t){var e=i(t);return!function(t,e){if(f(e))return!1;return t.some(function(t){return d(t,e)})}(n,e)&&(n.push(e),!0)})}}function E(){return function(t){return u(t)?t.split(" ").map(function(t){return t.charAt(0).toUpperCase()+t.substring(1)}).join(" "):t}}String.prototype.contains||(String.prototype.contains=function(){return-1!==String.prototype.indexOf.apply(this,arguments)}),n.module("a8m.angular",[]).filter("isUndefined",function(){return function(t){return n.isUndefined(t)}}).filter("isDefined",function(){return function(t){return n.isDefined(t)}}).filter("isFunction",function(){return function(t){return n.isFunction(t)}}).filter("isString",function(){return function(t){return n.isString(t)}}).filter("isNumber",function(){return function(t){return n.isNumber(t)}}).filter("isArray",function(){return function(t){return n.isArray(t)}}).filter("isObject",function(){return function(t){return n.isObject(t)}}).filter("isEqual",function(){return function(t,e){return n.equals(t,e)}}),n.module("a8m.conditions",[]).filter({isGreaterThan:e,">":e,isGreaterThanOrEqualTo:$,">=":$,isLessThan:_,"<":_,isLessThanOrEqualTo:k,"<=":k,isEqualTo:C,"==":C,isNotEqualTo:S,"!=":S,isIdenticalTo:T,"===":T,isNotIdenticalTo:A,"!==":A}),n.module("a8m.is-null",[]).filter("isNull",function(){return function(t){return y(t)}}),n.module("a8m.after-where",[]).filter("afterWhere",function(){return function(t,e){if(t=g(t)?v(t):t,!p(t)||f(e))return t;var n=t.map(function(t){return i(e,t)}).indexOf(!0);return t.slice(-1===n?0:n)}}),n.module("a8m.after",[]).filter("after",function(){return function(t,e){return t=g(t)?v(t):t,p(t)?t.slice(e):t}}),n.module("a8m.before-where",[]).filter("beforeWhere",function(){return function(t,e){if(t=g(t)?v(t):t,!p(t)||f(e))return t;var n=t.map(function(t){return i(e,t)}).indexOf(!0);return t.slice(0,-1===n?t.length:++n)}}),n.module("a8m.before",[]).filter("before",function(){return function(t,e){return t=g(t)?v(t):t,p(t)?t.slice(0,e?--e:e):t}}),n.module("a8m.chunk-by",["a8m.filter-watcher"]).filter("chunkBy",["filterWatcher",function(a){return function(t,e,n){return a.isMemoized("chunkBy",arguments)||a.memoize("chunkBy",arguments,this,(o=e,r=n,p(i=t)?i.map(function(t,e,n){return e*=o,t=n.slice(e,e+o),!f(r)&&t.length<o?t.concat(function(t,e){for(var n=[];t--;)n[t]=e;return n}(o-t.length,r)):t}).slice(0,Math.ceil(i.length/o)):i));var i,o,r}}]),n.module("a8m.concat",[]).filter("concat",[function(){return function(t,e){if(f(e))return t;if(p(t))return g(e)?t.concat(v(e)):t.concat(e);if(g(t)){var n=v(t);return g(e)?n.concat(v(e)):n.concat(e)}return t}}]),n.module("a8m.contains",[]).filter({contains:["$parse",D],some:["$parse",D]}),n.module("a8m.count-by",[]).filter("countBy",["$parse",function(r){return function(t,e){var n,i={},o=r(e);return t=g(t)?v(t):t,!p(t)||f(e)?t:(t.forEach(function(t){n=o(t),i[n]||(i[n]=0),i[n]++}),i)}}]),n.module("a8m.defaults",[]).filter("defaults",["$parse",function(r){return function(t,o){if(t=g(t)?v(t):t,!p(t)||!g(o))return t;var e=function i(o,r,a){return r=r||[],Object.keys(o).forEach(function(t){if(g(o[t])&&!p(o[t])){var e=a?a+"."+t:a;i(o[t],r,e||t)}else{var n=a?a+"."+t:t;r.push(n)}}),r}(o);return t.forEach(function(i){e.forEach(function(t){var e=r(t),n=e.assign;f(e(i))&&n(i,e(o))})}),t}}]),n.module("a8m.every",[]).filter("every",["$parse",function(n){return function(t,e){return t=g(t)?v(t):t,!(p(t)&&!f(e))||t.every(function(t){return g(t)||l(e)?n(e)(t):t===e})}}]),n.module("a8m.filter-by",[]).filter("filterBy",["$parse",function(a){return function(t,e,i,o){var r;return i=u(i)||c(i)?String(i).toLowerCase():s,t=g(t)?v(t):t,!p(t)||f(i)?t:t.filter(function(n){return e.some(function(t){if(~t.indexOf("+")){var e=t.replace(/\s+/g,"").split("+");r=e.map(function(t){return a(t)(n)}).join(" ")}else r=a(t)(n);return!(!u(r)&&!c(r))&&(r=String(r).toLowerCase(),o?r===i:r.contains(i))})})}}]),n.module("a8m.first",[]).filter("first",["$parse",function(o){return function(t){var e,n,i;return t=g(t)?v(t):t,p(t)?(i=Array.prototype.slice.call(arguments,1),e=c(i[0])?i[0]:1,n=c(i[0])?c(i[1])?s:i[1]:i[0],i.length?w(t,e,n?o(n):n):t[0]):t}}]),n.module("a8m.flatten",[]).filter("flatten",function(){return function(t,e){return e=e||!1,t=g(t)?v(t):t,p(t)?e?[].concat.apply([],t):function t(e,n){n=n||0;if(n>=e.length)return e;if(p(e[n]))return t(e.slice(0,n).concat(e[n],e.slice(n+1)),n);return t(e,n+1)}(t,0):t}}),n.module("a8m.fuzzy-by",[]).filter("fuzzyBy",["$parse",function(s){return function(t,e,n,i){var o,r,a=i||!1;return t=g(t)?v(t):t,!p(t)||f(e)||f(n)?t:(r=s(e),t.filter(function(t){return o=r(t),!!u(o)&&(o=a?o:o.toLowerCase(),n=a?n:n.toLowerCase(),!1!==b(o,n))}))}}]),n.module("a8m.fuzzy",[]).filter("fuzzy",function(){return function(t,r,e){var a=e||!1;return t=g(t)?v(t):t,!p(t)||f(r)?t:(r=a?r:r.toLowerCase(),t.filter(function(t){return u(t)?!1!==b(t=a?t:t.toLowerCase(),r):!!g(t)&&(e=t,n=r,0<Object.keys(e).filter(function(t){return i=e[t],!!o||!!u(i)&&(i=a?i:i.toLowerCase(),o=!1!==b(i,n))}).length);var e,n,i,o}))}}),n.module("a8m.group-by",["a8m.filter-watcher"]).filter("groupBy",["$parse","filterWatcher",function(a,s){return function(t,e){return!g(t)||f(e)?t:s.isMemoized("groupBy",arguments)||s.memoize("groupBy",arguments,this,(n=t,i=a(e),r={},m(n,function(t){o=i(t),r[o]||(r[o]=[]),r[o].push(t)}),r));var n,i,o,r}}]),n.module("a8m.is-empty",[]).filter("isEmpty",function(){return function(t){return g(t)?!v(t).length:!t.length}}),n.module("a8m.join",[]).filter("join",function(){return function(t,e){return f(t)||!p(t)?t:(f(e)&&(e=" "),t.join(e))}}),n.module("a8m.last",[]).filter("last",["$parse",function(r){return function(t){var e,n,i,o=h(t);return o=g(o)?v(o):o,p(o)?(i=Array.prototype.slice.call(arguments,1),e=c(i[0])?i[0]:1,n=c(i[0])?c(i[1])?s:i[1]:i[0],i.length?w(o.reverse(),e,n?r(n):n).reverse():o[o.length-1]):o}}]),n.module("a8m.map",[]).filter("map",["$parse",function(n){return function(t,e){return t=g(t)?v(t):t,!p(t)||f(e)?t:t.map(function(t){return n(e)(t)})}}]),n.module("a8m.omit",[]).filter("omit",["$parse",function(n){return function(t,e){return t=g(t)?v(t):t,!p(t)||f(e)?t:t.filter(function(t){return!n(e)(t)})}}]),n.module("a8m.pick",[]).filter("pick",["$parse",function(n){return function(t,e){return t=g(t)?v(t):t,!p(t)||f(e)?t:t.filter(function(t){return n(e)(t)})}}]),n.module("a8m.range",[]).filter("range",function(){return function(t,e,n,i,o){n=n||0,i=i||1;for(var r=0;r<parseInt(e);r++){var a=n+r*i;t.push(l(o)?o(a):a)}return t}}),n.module("a8m.remove-with",[]).filter("removeWith",function(){return function(t,e){return f(e)?t:(t=g(t)?v(t):t).filter(function(t){return!i(e,t)})}}),n.module("a8m.remove",[]).filter("remove",function(){return function(t){t=g(t)?v(t):t;var n=Array.prototype.slice.call(arguments,1);return p(t)?t.filter(function(e){return!n.some(function(t){return d(t,e)})}):t}}),n.module("a8m.reverse",[]).filter("reverse",[function(){return function(t){return t=g(t)?v(t):t,u(t)?t.split("").reverse().join(""):p(t)?t.slice().reverse():t}}]),n.module("a8m.search-field",[]).filter("searchField",["$parse",function(o){return function(t){var n;t=g(t)?v(t):t;var i=Array.prototype.slice.call(arguments,1);return p(t)&&i.length?t.map(function(e){return n=i.map(function(t){return o(t)(e)}).join(" "),a(e,{searchField:n})}):t}}]),n.module("a8m.to-array",[]).filter("toArray",function(){return function(e,t){return g(e)?t?Object.keys(e).map(function(t){return a(e[t],{$key:t})}):v(e):e}}),n.module("a8m.unique",[]).filter({unique:["$parse",M],uniq:["$parse",M]}),n.module("a8m.where",[]).filter("where",function(){return function(t,e){return f(e)?t:(t=g(t)?v(t):t).filter(function(t){return i(e,t)})}}),n.module("a8m.xor",[]).filter("xor",["$parse",function(r){return function(e,n,i){return i=i||!1,e=g(e)?v(e):e,n=g(n)?v(n):n,p(e)&&p(n)?e.concat(n).filter(function(t){return!(o(t,e)&&o(t,n))}):e;function o(e,t){var n=r(i);return t.some(function(t){return i?d(n(t),n(e)):d(t,e)})}}}]),n.module("a8m.math.abs",[]).filter("abs",function(){return function(t){return Math.abs(t)}}),n.module("a8m.math.byteFmt",[]).filter("byteFmt",function(){var i=[{str:"B",val:1024}];return["KB","MB","GB","TB","PB","EB","ZB","YB"].forEach(function(t,e){i.push({str:t,val:1024*i[e].val})}),function(t,e){if(c(e)&&isFinite(e)&&e%1==0&&0<=e&&c(t)&&isFinite(t)){for(var n=0;n<i.length-1&&t>=i[n].val;)n++;return o(t/=0<n?i[n-1].val:1,e)+" "+i[n].str}return"NaN"}}),n.module("a8m.math.degrees",[]).filter("degrees",function(){return function(t,e){if(c(e)&&isFinite(e)&&e%1==0&&0<=e&&c(t)&&isFinite(t)){var n=180*t/Math.PI;return Math.round(n*Math.pow(10,e))/Math.pow(10,e)}return"NaN"}}),n.module("a8m.math.kbFmt",[]).filter("kbFmt",function(){var i=[{str:"KB",val:1024}];return["MB","GB","TB","PB","EB","ZB","YB"].forEach(function(t,e){i.push({str:t,val:1024*i[e].val})}),function(t,e){if(c(e)&&isFinite(e)&&e%1==0&&0<=e&&c(t)&&isFinite(t)){for(var n=0;n<i.length-1&&t>=i[n].val;)n++;return o(t/=0<n?i[n-1].val:1,e)+" "+i[n].str}return"NaN"}}),n.module("a8m.math.max",[]).filter("max",["$parse",function(r){return function(t,e){return p(t)?f(e)?Math.max.apply(Math,t):t[(n=t,i=e,o=n.map(function(t){return r(i)(t)}),o.indexOf(Math.max.apply(Math,o)))]:t;var n,i,o}}]),n.module("a8m.math.min",[]).filter("min",["$parse",function(r){return function(t,e){return p(t)?f(e)?Math.min.apply(Math,t):t[(n=t,i=e,o=n.map(function(t){return r(i)(t)}),o.indexOf(Math.min.apply(Math,o)))]:t;var n,i,o}}]),n.module("a8m.math.percent",[]).filter("percent",function(){return function(t,e,n){var i=u(t)?Number(t):t;return e=e||100,n=n||!1,!c(i)||isNaN(i)?t:n?Math.round(i/e*100):i/e*100}}),n.module("a8m.math.radians",[]).filter("radians",function(){return function(t,e){if(c(e)&&isFinite(e)&&e%1==0&&0<=e&&c(t)&&isFinite(t)){var n=3.14159265359*t/180;return Math.round(n*Math.pow(10,e))/Math.pow(10,e)}return"NaN"}}),n.module("a8m.math.radix",[]).filter("radix",function(){return function(t,e){return c(t)&&/^[2-9]$|^[1-2]\d$|^3[0-6]$/.test(e)?t.toString(e).toUpperCase():t}}),n.module("a8m.math.shortFmt",[]).filter("shortFmt",function(){return function(t,e){return c(e)&&isFinite(e)&&e%1==0&&0<=e&&c(t)&&isFinite(t)?t<1e3?""+t:t<1e6?o(t/1e3,e)+" K":t<1e9?o(t/1e6,e)+" M":o(t/1e9,e)+" B":"NaN"}}),n.module("a8m.math.sum",[]).filter("sum",function(){return function(t,e){return p(t)?t.reduce(function(t,e){return t+e},e||0):t}}),n.module("a8m.ends-with",[]).filter("endsWith",function(){return function(t,e,n){var i,o=n||!1;return!u(t)||f(e)?t:(i=(t=o?t:t.toLowerCase()).length-e.length,-1!==t.indexOf(o?e:e.toLowerCase(),i))}}),n.module("a8m.latinize",[]).filter("latinize",[function(){for(var t=[{base:"A",letters:"A"},{base:"AA",letters:""},{base:"AE",letters:""},{base:"AO",letters:""},{base:"AU",letters:""},{base:"AV",letters:""},{base:"AY",letters:""},{base:"B",letters:"B"},{base:"C",letters:"C"},{base:"D",letters:"D"},{base:"DZ",letters:""},{base:"Dz",letters:""},{base:"E",letters:"E"},{base:"F",letters:"F"},{base:"G",letters:"G"},{base:"H",letters:"H"},{base:"I",letters:"I"},{base:"J",letters:"J"},{base:"K",letters:"K"},{base:"L",letters:"L"},{base:"LJ",letters:""},{base:"Lj",letters:""},{base:"M",letters:"M"},{base:"N",letters:"N"},{base:"NJ",letters:""},{base:"Nj",letters:""},{base:"O",letters:"O"},{base:"OI",letters:""},{base:"OO",letters:""},{base:"OU",letters:""},{base:"OE",letters:""},{base:"oe",letters:""},{base:"P",letters:"P"},{base:"Q",letters:"Q"},{base:"R",letters:"R"},{base:"S",letters:"S"},{base:"T",letters:"T"},{base:"TZ",letters:""},{base:"U",letters:"U"},{base:"V",letters:"V"},{base:"VY",letters:""},{base:"W",letters:"W"},{base:"X",letters:"X"},{base:"Y",letters:"Y"},{base:"Z",letters:"Z"},{base:"a",letters:"a"},{base:"aa",letters:""},{base:"ae",letters:""},{base:"ao",letters:""},{base:"au",letters:""},{base:"av",letters:""},{base:"ay",letters:""},{base:"b",letters:"b"},{base:"c",letters:"c"},{base:"d",letters:"d"},{base:"dz",letters:""},{base:"e",letters:"e"},{base:"f",letters:"f"},{base:"g",letters:"g"},{base:"h",letters:"h"},{base:"hv",letters:""},{base:"i",letters:"i"},{base:"j",letters:"j"},{base:"k",letters:"k"},{base:"l",letters:"l"},{base:"lj",letters:""},{base:"m",letters:"m"},{base:"n",letters:"n"},{base:"nj",letters:""},{base:"o",letters:"o"},{base:"oi",letters:""},{base:"ou",letters:""},{base:"oo",letters:""},{base:"p",letters:"p"},{base:"q",letters:"q"},{base:"r",letters:"r"},{base:"s",letters:"s"},{base:"t",letters:"t"},{base:"tz",letters:""},{base:"u",letters:"u"},{base:"v",letters:"v"},{base:"vy",letters:""},{base:"w",letters:"w"},{base:"x",letters:"x"},{base:"y",letters:"y"},{base:"z",letters:"z"}],e={},n=0;n<t.length;n++)for(var i=t[n].letters.split(""),o=0;o<i.length;o++)e[i[o]]=t[n].base;return function(t){return u(t)?t.replace(/[^\u0000-\u007E]/g,function(t){return e[t]||t}):t}}]),n.module("a8m.ltrim",[]).filter("ltrim",function(){return function(t,e){var n=e||"\\s";return u(t)?t.replace(new RegExp("^"+n+"+"),""):t}}),n.module("a8m.match",[]).filter("match",function(){return function(t,e,n){var i=new RegExp(e,n);return u(t)?t.match(i):null}}),n.module("a8m.phoneUS",[]).filter("phoneUS",function(){return function(t){return"("+(t+="").slice(0,3)+") "+t.slice(3,6)+"-"+t.slice(6)}}),n.module("a8m.repeat",[]).filter("repeat",[function(){return function(t,e,n){var i=~~e;return u(t)&&i?function t(e,n,i){if(!n)return e;return e+i+t(e,--n,i)}(t,--e,n||""):t}}]),n.module("a8m.rtrim",[]).filter("rtrim",function(){return function(t,e){var n=e||"\\s";return u(t)?t.replace(new RegExp(n+"+$"),""):t}}),n.module("a8m.slugify",[]).filter("slugify",[function(){return function(t,e){var n=f(e)?"-":e;return u(t)?t.toLowerCase().replace(/\s+/g,n):t}}]),n.module("a8m.split",[]).filter("split",function(){return function(t,e,n){var i,o,r,a;return f(t)||!u(t)?null:(f(e)&&(e=""),isNaN(n)&&(n=0),i=new RegExp(e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&"),"g"),y(o=t.match(i))||n>=o.length?[t]:0===n?t.split(e):(a=(r=t.split(e)).splice(0,n+1),r.unshift(a.join(e)),r))}}),n.module("a8m.starts-with",[]).filter("startsWith",function(){return function(t,e,n){var i=n||!1;return!u(t)||f(e)?t:!(t=i?t:t.toLowerCase()).indexOf(i?e:e.toLowerCase())}}),n.module("a8m.stringular",[]).filter("stringular",function(){return function(t){var n=Array.prototype.slice.call(arguments,1);return t.replace(/{(\d+)}/g,function(t,e){return f(n[e])?t:n[e]})}}),n.module("a8m.strip-tags",[]).filter("stripTags",function(){return function(t){return u(t)?t.replace(/<\S[^><]*>/g,""):t}}),n.module("a8m.test",[]).filter("test",function(){return function(t,e,n){var i=new RegExp(e,n);return u(t)?i.test(t):t}}),n.module("a8m.trim",[]).filter("trim",function(){return function(t,e){var n=e||"\\s";return u(t)?t.replace(new RegExp("^"+n+"+|"+n+"+$","g"),""):t}}),n.module("a8m.truncate",[]).filter("truncate",function(){return function(t,e,n,i){return e=f(e)?t.length:e,i=i||!1,n=n||"",!u(t)||t.length<=e?t:t.substring(0,i?-1===t.indexOf(" ",e)?t.length:t.indexOf(" ",e):e)+n}}),n.module("a8m.ucfirst",[]).filter({ucfirst:E,titleize:E}),n.module("a8m.uri-component-encode",[]).filter("uriComponentEncode",["$window",function(e){return function(t){return u(t)?e.encodeURIComponent(t):t}}]),n.module("a8m.uri-encode",[]).filter("uriEncode",["$window",function(e){return function(t){return u(t)?e.encodeURI(t):t}}]),n.module("a8m.wrap",[]).filter("wrap",function(){return function(t,e,n){return u(t)&&r(e)?[e,t,n||e].join(""):t}}),n.module("a8m.filter-watcher",[]).provider("filterWatcher",function(){this.$get=["$window","$rootScope",function(i,l){var u={},c={},p=i.setTimeout;function h(t,e){return[t,JSON.stringify(e,(n=[],function(t,e){if(g(e)&&!y(e)){if(~n.indexOf(e))return"[Circular]";n.push(e)}return i==e?"$WINDOW":i.document==e?"$DOCUMENT":x(e)?"$SCOPE":e}))].join("#").replace(/"/g,"");var n}function d(t){var e=t.targetScope.$id;m(c[e],function(t){delete u[t]}),delete c[e]}return{isMemoized:function(t,e){var n=h(t,e);return u[n]},memoize:function(t,e,n,i){var o,r,a,s=h(t,e);return u[s]=i,x(n)?(r=s,a=(o=n).$id,f(c[a])&&(o.$on("$destroy",d),c[a]=[]),c[a].push(r)):p(function(){l.$$phase||(u={})},2e3),i}}}]}),n.module("angular.filter",["a8m.ucfirst","a8m.uri-encode","a8m.uri-component-encode","a8m.slugify","a8m.latinize","a8m.strip-tags","a8m.stringular","a8m.truncate","a8m.starts-with","a8m.ends-with","a8m.wrap","a8m.trim","a8m.ltrim","a8m.rtrim","a8m.repeat","a8m.test","a8m.match","a8m.split","a8m.to-array","a8m.concat","a8m.contains","a8m.unique","a8m.is-empty","a8m.after","a8m.after-where","a8m.before","a8m.before-where","a8m.defaults","a8m.where","a8m.reverse","a8m.remove","a8m.remove-with","a8m.group-by","a8m.count-by","a8m.chunk-by","a8m.search-field","a8m.fuzzy-by","a8m.fuzzy","a8m.omit","a8m.pick","a8m.every","a8m.filter-by","a8m.xor","a8m.map","a8m.first","a8m.last","a8m.flatten","a8m.join","a8m.range","a8m.math.max","a8m.math.min","a8m.math.abs","a8m.math.percent","a8m.math.radix","a8m.math.sum","a8m.math.degrees","a8m.math.radians","a8m.math.byteFmt","a8m.math.kbFmt","a8m.math.shortFmt","a8m.angular","a8m.conditions","a8m.is-null","a8m.filter-watcher"])}(window,window.angular),function(t){t.module("ngTableToCsv.config",[]).config(["$compileProvider",function(t){t.aHrefSanitizationWhitelist(/^\s*(https?|ftp|mailto|data):/)}]).value("ngTableToCsv.config",{debug:!0}),t.module("ngTableToCsv.directives",[]),t.module("ngTableToCsv",["ngTableToCsv.config","ngTableToCsv.directives"])}(angular),function(u){"use strict";u.module("ngTableToCsv.directives").directive("exportCsv",["$parse",function(i){return{restrict:"A",scope:!1,link:function(t,e,n){var r="",a=n.separator?n.separator:",",s=n.exportCsvIgnore||".ng-table-filters",l={stringify:function(t){return'"'+t.replace(/^\s\s*/,"").replace(/\s*\s$/,"").replace(/"/g,'""')+'"'},generate:function(){r="";var t=e.find("tr");u.forEach(t,function(t,e){var n=u.element(t),i=n.find("th"),o="";n.hasClass(s)||(0===i.length&&(i=n.find("td")),u.forEach(i,function(t,e){var n="";(t=u.element(t)).hasClass(s)||(n=u.element(t).text()),o+=l.stringify(n)+a}),o=o.slice(0,o.length-1),r+=o+"\n")})},link:function(){return"data:text/csv;charset=UTF-8,"+encodeURIComponent(r)}};i(n.exportCsv).assign(t.$parent,l)}}}])}(angular),angular.module("schemaForm").config(["schemaFormProvider","schemaFormDecoratorsProvider","sfPathProvider",function(o,t,r){o.defaults.string.unshift(function(t,e,n){if("string"===e.type&&("date"===e.format||"date-time"===e.format)){var i=o.stdFormObj(t,e,n);return i.key=n.path,i.type="datepicker",n.lookup[r.stringify(n.path)]=i}}),t.addMapping("bootstrapDecorator","datepicker","directives/decorators/bootstrap/datepicker/datepicker.html"),t.createDirective("datepicker","directives/decorators/bootstrap/datepicker/datepicker.html")}]),function(t){"use strict";var l=window.nv;"undefined"!=typeof exports&&(l=require("nvd3")),angular.module("nvd3",[]).directive("nvd3",["nvd3Utils",function(r){return{restrict:"AE",scope:{data:"=",options:"=",api:"=?",events:"=?",config:"=?",onReady:"&?"},link:function(a,i,t){function s(n,i){n&&i&&angular.forEach(n,function(t,e){void 0===i[e]||null===i[e]?a._config.extended&&(i[e]=t.on):n.on(e+"._",i[e])})}function e(t){var e=r.deepExtend(function(t){switch(t){case"title":return{enable:!1,text:"Write Your Title",className:"h4",css:{width:a.options.chart.width+"px",textAlign:"center"}};case"subtitle":return{enable:!1,text:"Write Your Subtitle",css:{width:a.options.chart.width+"px",textAlign:"center"}};case"caption":return{enable:!1,text:"Figure 1. Write Your Caption text.",css:{width:a.options.chart.width+"px",textAlign:"center"}}}}(t),a.options[t]||{});a._config.extended&&(a.options[t]=e);var n=angular.element("<div></div>").html(e.html||"").addClass(t).addClass(e.className).removeAttr("style").css(e.css);e.html||n.text(e.text),e.enable&&("title"===t?i.prepend(n):"subtitle"===t?angular.element(i[0].querySelector(".title")).after(n):"caption"===t&&i.append(n))}function n(t,e){t!==e&&(a._config.disabled||(a._config.refreshDataOnly?a.api.update():a.api.refresh()))}var o={extended:!1,visible:!0,disabled:!1,refreshDataOnly:!0,deepWatchOptions:!0,deepWatchData:!0,deepWatchDataDepth:2,debounce:10,debounceImmediate:!0};a.isReady=!1,a._config=angular.extend(o,a.config),a.api={refresh:function(){a.api.updateWithOptions(),a.isReady=!0},refreshWithTimeout:function(t){setTimeout(function(){a.api.refresh()},t)},update:function(){a.chart&&a.svg?"sunburstChart"===a.options.chart.type?a.svg.datum(angular.copy(a.data)).call(a.chart):a.svg.datum(a.data).call(a.chart):a.api.refresh()},updateWithTimeout:function(t){setTimeout(function(){a.api.update()},t)},updateWithOptions:function(n){if(arguments.length){if(a.options=n,a._config.deepWatchOptions&&!a._config.disabled)return}else n=a.options;var t;a.api.clearElement(),!1!==angular.isDefined(n)&&a._config.visible&&(a.chart=l.models[n.chart.type](),a.chart.id=Math.random().toString(36).substr(2,15),angular.forEach(a.chart,function(t,e){"_"===e[0]||0<=["clearHighlights","highlightPoint","id","options","resizeHandler","state","open","close","tooltipContent"].indexOf(e)||("dispatch"===e?(void 0!==n.chart[e]&&null!==n.chart[e]||a._config.extended&&(n.chart[e]={}),s(a.chart[e],n.chart[e])):0<=["bars","bars1","bars2","boxplot","bullet","controls","discretebar","distX","distY","focus","interactiveLayer","legend","lines","lines1","lines2","multibar","pie","scatter","scatters1","scatters2","sparkline","stack1","stack2","sunburst","tooltip","x2Axis","xAxis","y1Axis","y2Axis","y3Axis","y4Axis","yAxis","yAxis1","yAxis2"].indexOf(e)||"stacked"===e&&"stackedAreaChart"===n.chart.type?(void 0!==n.chart[e]&&null!==n.chart[e]||a._config.extended&&(n.chart[e]={}),function n(i,o,r){i&&o&&angular.forEach(i,function(t,e){"_"===e[0]||("dispatch"===e?(void 0!==o[e]&&null!==o[e]||a._config.extended&&(o[e]={}),s(t,o[e])):"tooltip"===e?(void 0!==o[e]&&null!==o[e]||a._config.extended&&(o[e]={}),n(i[e],o[e],r)):"contentGenerator"===e?o[e]&&i[e](o[e]):-1===["axis","clearHighlights","defined","highlightPoint","nvPointerEventsClass","options","rangeBand","rangeBands","scatter","open","close","node"].indexOf(e)&&(void 0===o[e]||null===o[e]?a._config.extended&&(o[e]=t()):i[e](o[e])))})}(a.chart[e],n.chart[e],n.chart.type)):"focusHeight"===e&&"lineChart"===n.chart.type||"focusHeight"===e&&"lineWithFocusChart"===n.chart.type||("xTickFormat"!==e&&"yTickFormat"!==e||"lineWithFocusChart"!==n.chart.type)&&("tooltips"===e&&"boxPlotChart"===n.chart.type||("tooltipXContent"!==e&&"tooltipYContent"!==e||"scatterChart"!==n.chart.type)&&("x"!==e&&"y"!==e||"forceDirectedGraph"!==n.chart.type)&&(void 0===n.chart[e]||null===n.chart[e]?a._config.extended&&(n.chart[e]="barColor"===e?t()():t()):a.chart[e](n.chart[e]))))}),a.api.updateWithData(),(n.title||a._config.extended)&&e("title"),(n.subtitle||a._config.extended)&&e("subtitle"),(n.caption||a._config.extended)&&e("caption"),(n.styles||a._config.extended)&&(t=r.deepExtend({classes:{"with-3d-shadow":!0,"with-transitions":!0,gallery:!1},css:{}},a.options.styles||{}),a._config.extended&&(a.options.styles=t),angular.forEach(t.classes,function(t,e){t?i.addClass(e):i.removeClass(e)}),i.removeAttr("style").css(t.css)),l.addGraph(function(){return a.chart?(a.chart.resizeHandler&&a.chart.resizeHandler.clear(),a.chart.resizeHandler=l.utils.windowResize(function(){a.chart&&a.chart.update&&a.chart.update()}),void 0!==n.chart.zoom&&-1<["scatterChart","lineChart","candlestickBarChart","cumulativeLineChart","historicalBarChart","ohlcBarChart","stackedAreaChart"].indexOf(n.chart.type)&&r.zoom(a,n),a.chart):void 0},n.chart.callback))},updateWithData:function(t){if(arguments.length){if(a.data=t,a._config.deepWatchData&&!a._config.disabled)return}else t="sunburstChart"===a.options.chart.type?angular.copy(a.data):a.data;var e,n;t&&(d3.select(i[0]).select("svg").remove(),a.svg=d3.select(i[0]).insert("svg",".caption"),(e=a.options.chart.height)&&(isNaN(+e)||(e+="px"),a.svg.attr("height",e).style({height:e})),(n=a.options.chart.width)?(isNaN(+n)||(n+="px"),a.svg.attr("width",n).style({width:n})):a.svg.attr("width","100%").style({width:"100%"}),a.svg.datum(t).call(a.chart),a.chart&&a.chart.zoomRender&&a.chart.zoomRender())},clearElement:function(){if(i.find(".title").remove(),i.find(".subtitle").remove(),i.find(".caption").remove(),i.empty(),a.chart&&a.chart.tooltip&&a.chart.tooltip.id&&d3.select("#"+a.chart.tooltip.id()).remove(),l.graphs&&a.chart)for(var t=l.graphs.length-1;0<=t;t--)l.graphs[t]&&l.graphs[t].id===a.chart.id&&l.graphs.splice(t,1);l.tooltip&&l.tooltip.cleanup&&l.tooltip.cleanup(),a.chart&&a.chart.resizeHandler&&a.chart.resizeHandler.clear(),a.chart=null},getScope:function(){return a},getElement:function(){return i}},a._config.deepWatchOptions&&a.$watch("options",r.debounce(function(t){a._config.disabled||a.api.refresh()},a._config.debounce,a._config.debounceImmediate),!0),a._config.deepWatchData&&(1===a._config.deepWatchDataDepth?a.$watchCollection("data",n):a.$watch("data",n,2===a._config.deepWatchDataDepth)),a.$watch("config",function(t,e){t!==e&&(a._config=angular.extend(o,t),a.api.refresh())},!0),a._config.deepWatchOptions||a._config.deepWatchData||a.api.refresh(),angular.forEach(a.events,function(n,t){a.$on(t,function(t,e){return n(t,a,e)})}),i.on("$destroy",function(){a.api.clearElement()}),a.$watch("isReady",function(t){t&&a.onReady&&"function"==typeof a.onReady()&&a.onReady()(a,i)})}}}]).factory("nvd3Utils",function(){return{debounce:function(i,o,r){var a;return function(){var t=this,e=arguments,n=r&&!a;clearTimeout(a),a=setTimeout(function(){a=null,r||i.apply(t,e)},o),n&&i.apply(t,e)}},deepExtend:function(n){var i=this;return angular.forEach(arguments,function(t){t!==n&&angular.forEach(t,function(t,e){n[e]&&n[e].constructor&&n[e].constructor===Object?i.deepExtend(n[e],t):n[e]=t})}),n},zoom:function(e,t){var n=t.chart.zoom;if(void 0===n.enabled||null===n.enabled||n.enabled){var i,o,r,a,s,l=e.chart.xAxis.scale(),u=e.chart.yAxis.scale(),c=e.chart.xDomain||l.domain,p=e.chart.yDomain||u.domain,h=l.domain().slice(),d=u.domain().slice(),f=n.scale||1,g=n.translate||[0,0],m=n.scaleExtent||[1,10],v=n.useFixedDomain||!1,y=n.useNiceScale||!1,b=n.horizontalOff||!1,w=n.verticalOff||!1,x=n.unzoomEventType||"dblclick.zoom";y&&(l.nice(),u.nice()),i=function(t,e){return t[0]=Math.min(Math.max(t[0],e[0]),e[1]-e[1]/m[1]),t[1]=Math.max(e[0]+e[1]/m[1],Math.min(t[1],e[1])),t},r=function(){if(void 0!==n.zoomed){var t=n.zoomed(l.domain(),u.domain());b||c([t.x1,t.x2]),w||p([t.y1,t.y2])}else b||c(v?i(l.domain(),h):l.domain()),w||p(v?i(u.domain(),d):u.domain());e.chart&&e.chart.update()},a=function(){if(void 0!==n.unzoomed){var t=n.unzoomed(l.domain(),u.domain());b||c([t.x1,t.x2]),w||p([t.y1,t.y2])}else b||c(h),w||p(d);o.scale(f).translate(g),e.chart&&e.chart.update()},s=function(){void 0!==n.zoomend&&n.zoomend()},o=d3.behavior.zoom().x(l).y(u).scaleExtent(m).on("zoom",r).on("zoomend",s),e.svg&&(e.svg.call(o),o.scale(f).translate(g).event(e.svg),"none"!==x&&e.svg.on(x,a)),e.chart&&(e.chart.zoomRender=function(){o.scale(f).translate(g),l=e.chart.xAxis.scale(),u=e.chart.yAxis.scale(),c=e.chart.xDomain||l.domain,p=e.chart.yDomain||u.domain,h=l.domain().slice(),d=u.domain().slice(),o.x(l).y(u),e.svg.call(o),"none"!==x&&e.svg.on(x,a)})}}}})}(),function(){"use strict";function t(a,s,t,l,u,o,c){var p,h=0,d=[],f="",g={},m=c.defer();return{active:function(){return d.length},clear:function(t){if(1===arguments.length&&!t)return;if(t)v(t.toastId);else for(var e=0;e<d.length;e++)v(d[e].toastId)},error:function(t,e,n){return i(y().iconClasses.error,t,e,n)},info:function(t,e,n){return i(y().iconClasses.info,t,e,n)},remove:v,success:function(t,e,n){return i(y().iconClasses.success,t,e,n)},warning:function(t,e,n){return i(y().iconClasses.warning,t,e,n)},refreshTimer:function(t,e){t&&t.isOpened&&0<=d.indexOf(t)&&t.scope.refreshTimer(e)}};function v(t,n){var i=function(t){for(var e=0;e<d.length;e++)if(d[e].toastId===t)return d[e]}(t);i&&!i.deleting&&(i.deleting=!0,i.isOpened=!1,a.leave(i.el).then(function(){i.scope.options.onHidden&&i.scope.options.onHidden(!!n,i),i.scope.$destroy();var t=d.indexOf(i);delete g[i.scope.message],d.splice(t,1);var e=o.maxOpened;e&&d.length>=e&&d[e-1].open.resolve(),d.length||(p.remove(),p=null,m=c.defer())}))}function i(t,e,n,i){return angular.isObject(n)&&(i=n,n=null),function(i){var o=y();if(function(){var t=o.preventDuplicates&&i.message===f,e=o.preventOpenDuplicates&&g[i.message];if(t||e)return!0;return f=i.message,!(g[i.message]=!0)}())return;var e=function(){var t={toastId:h++,isOpened:!1,scope:l.$new(),open:c.defer()};t.iconClass=i.iconClass,i.optionsOverride&&(angular.extend(o,function(t){for(var e=["containerId","iconClasses","maxOpened","newestOnTop","positionClass","preventDuplicates","preventOpenDuplicates","templates"],n=0,i=e.length;n<i;n++)delete t[e[n]];return t}(i.optionsOverride)),t.iconClass=i.optionsOverride.iconClass||t.iconClass);return function(e,t,n){function i(t){if(n[t])return function(){n[t](e)}}n.allowHtml?(e.scope.allowHtml=!0,e.scope.title=u.trustAsHtml(t.title),e.scope.message=u.trustAsHtml(t.message)):(e.scope.title=t.title,e.scope.message=t.message),e.scope.toastType=e.iconClass,e.scope.toastId=e.toastId,e.scope.extraData=n.extraData,e.scope.options={extendedTimeOut:n.extendedTimeOut,messageClass:n.messageClass,onHidden:n.onHidden,onShown:i("onShown"),onTap:i("onTap"),progressBar:n.progressBar,tapToDismiss:n.tapToDismiss,timeOut:n.timeOut,titleClass:n.titleClass,toastClass:n.toastClass},n.closeButton&&(e.scope.options.closeHtml=n.closeHtml)}(t,i,o),t.el=(e=t.scope,n=angular.element("<div toast></div>"),s.get("$compile")(n)(e)),t;var e,n}();if(d.push(e),o.autoDismiss&&o.maxOpened&&d.length>o.maxOpened)for(var t=d.slice(0,d.length-o.maxOpened),n=0,r=t.length;n<r;n++)v(t[n].toastId);(o.maxOpened&&d.length<=o.maxOpened||!o.maxOpened)&&e.open.resolve();return e.open.promise.then(function(){(function(t){if(p)return m.promise;(p=angular.element("<div></div>")).attr("id",t.containerId),p.addClass(t.positionClass),p.css({"pointer-events":"auto"});var e=angular.element(document.querySelector(t.target));if(e&&e.length)return a.enter(p,e).then(function(){m.resolve()}),m.promise;throw"Target for toasts doesn't exist"})(o).then(function(){if(e.isOpened=!0,o.newestOnTop)a.enter(e.el,p).then(function(){e.scope.init()});else{var t=p[0].lastChild?angular.element(p[0].lastChild):null;a.enter(e.el,p,t).then(function(){e.scope.init()})}})}),e}({iconClass:t,message:e,optionsOverride:i,title:n})}function y(){return angular.extend({},o)}}angular.module("toastr",[]).factory("toastr",t),t.$inject=["$animate","$injector","$document","$rootScope","$sce","toastrConfig","$q"]}(),function(){"use strict";angular.module("toastr").constant("toastrConfig",{allowHtml:!1,autoDismiss:!1,closeButton:!1,closeHtml:"<button>&times;</button>",containerId:"toast-container",extendedTimeOut:1e3,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},maxOpened:0,messageClass:"toast-message",newestOnTop:!0,onHidden:null,onShown:null,onTap:null,positionClass:"toast-top-right",preventDuplicates:!1,preventOpenDuplicates:!1,progressBar:!1,tapToDismiss:!0,target:"body",templates:{toast:"directives/toast/toast.html",progressbar:"directives/progressbar/progressbar.html"},timeOut:5e3,titleClass:"toast-title",toastClass:"toast"})}(),function(){"use strict";function t(t){return{require:"^toast",templateUrl:function(){return t.templates.progressbar},link:function(t,e,n,i){var o,r,a;function s(){var t=(a-(new Date).getTime())/r*100;e.css("width",t+"%")}(i.progressBar=t).start=function(t){o&&clearInterval(o),r=parseFloat(t),a=(new Date).getTime()+r,o=setInterval(s,10)},t.stop=function(){o&&clearInterval(o)},t.$on("$destroy",function(){clearInterval(o)})}}}angular.module("toastr").directive("progressBar",t),t.$inject=["toastrConfig"]}(),function(){"use strict";angular.module("toastr").controller("ToastController",function(){this.progressBar=null,this.startProgressBar=function(t){this.progressBar&&this.progressBar.start(t)},this.stopProgressBar=function(){this.progressBar&&this.progressBar.stop()}})}(),function(){"use strict";function t(l,u,t,c){return{templateUrl:function(){return t.templates.toast},controller:"ToastController",link:function(n,t,e,i){var o;if(n.toastClass=n.options.toastClass,n.titleClass=n.options.titleClass,n.messageClass=n.options.messageClass,n.progressBar=n.options.progressBar,n.options.closeHtml){var r=angular.element(n.options.closeHtml),a=l.get("$compile");r.addClass("toast-close-button"),r.attr("ng-click","close(true, $event)"),a(r)(n),t.children().prepend(r)}function s(t){return i.startProgressBar(t),u(function(){i.stopProgressBar(),c.remove(n.toastId)},t,1)}n.init=function(){n.options.timeOut&&(o=s(n.options.timeOut)),n.options.onShown&&n.options.onShown()},t.on("mouseenter",function(){n.progressBar=!1,i.stopProgressBar(),o&&u.cancel(o)}),n.tapToast=function(){angular.isFunction(n.options.onTap)&&n.options.onTap(),n.options.tapToDismiss&&n.close(!0)},n.close=function(t,e){e&&angular.isFunction(e.stopPropagation)&&e.stopPropagation(),c.remove(n.toastId,t)},n.refreshTimer=function(t){o&&(u.cancel(o),o=s(t||n.options.timeOut))},t.on("mouseleave",function(){0===n.options.timeOut&&0===n.options.extendedTimeOut||(n.$apply(function(){n.progressBar=n.options.progressBar}),o=s(n.options.extendedTimeOut))})}}}angular.module("toastr").directive("toast",t),t.$inject=["$injector","$interval","toastrConfig","toastr"]}(),angular.module("toastr").run(["$templateCache",function(t){t.put("directives/progressbar/progressbar.html",'<div class="toast-progress"></div>\n'),t.put("directives/toast/toast.html",'<div class="{{toastClass}} {{toastType}}" ng-click="tapToast()">\n  <div ng-switch on="allowHtml">\n    <div ng-switch-default ng-if="title" class="{{titleClass}}" aria-label="{{title}}">{{title}}</div>\n    <div ng-switch-default class="{{messageClass}}" aria-label="{{message}}">{{message}}</div>\n    <div ng-switch-when="true" ng-if="title" class="{{titleClass}}" ng-bind-html="title"></div>\n    <div ng-switch-when="true" class="{{messageClass}}" ng-bind-html="message"></div>\n  </div>\n  <progress-bar ng-if="progressBar"></progress-bar>\n</div>\n')}]),function(n){function i(t){if(o[t])return o[t].exports;var e=o[t]={i:t,l:!1,exports:{}};return n[t].call(e.exports,e,e.exports,i),e.l=!0,e.exports}var o={};i.m=n,i.c=o,i.i=function(t){return t},i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:n})},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=17)}([function(t,a,e){"use strict";a.__esModule=!0;var r=e(1),o=e(2);a.KEYS={up:38,down:40,left:37,right:39,escape:27,enter:13},a.isValidMoment=function(t){return o.isMoment(t)&&t.isValid()},a.toValue=function(t,e,n){var i=t;return a.isValidMoment(t)||(i=a.toMoment(t,e,n)),a.momentToValue(i,e)},a.toMoment=function(t,e,n){var i=o(t,e,n);return a.isValidMoment(i)||(i=void 0),i},a.momentToValue=function(t,e){if(a.isValidMoment(t))return e?t.format(e):t.valueOf()},a.valueToMoment=function(t,n){var i;if(!t)return i;if(i=n.format?o(t,n.format,n.locale):o(t),n.model){var e=n.views.all.slice(0,n.views.all.indexOf(n.detectedMinView));r.forEach(e,function(t){var e=n.views.precisions[t];i[e](n.model[e]())})}return i},a.setValue=function(t,e,n,i){var o=a.isValidMoment(t)?t.clone():a.valueToMoment(t,e),r=a.momentToValue(o,e.format);e.model=a.updateMoment(e.model,o,e),n.$modelValue=a.updateMoment(n.$modelValue,o,e),i.ngModel!=i.momentPicker&&(e.value=r),i.ngModel&&(n.$setViewValue(r),n.$render())},a.updateMoment=function(n,i,o){if(a.isValidMoment(n)&&i){if(!n.isSame(i)){var t=o.views.all.slice(0,o.views.all.indexOf(o.detectedMaxView)+1);r.forEach(t,function(t){var e=o.views.precisions[t];n[e](i[e]())})}}else n=i;return n}},function(t,e){t.exports=angular},function(t,e){t.exports=moment},function(t,e){},function(t,e){},function(t,e,n){"use strict";e.__esModule=!0;var i=n(1),o=n(9);e.Provider=o.default;var s=n(7);e.Directive=s.default,i.module("moment-picker",[]).provider("momentPicker",[function(){return new o.default}]).directive("momentPicker",["$timeout","$sce","$log","$window","momentPicker","$compile","$templateCache",function(t,e,n,i,o,r,a){return new s.default(t,e,n,i,o,r,a)}])},function(t,e){t.exports='<div class=moment-picker> <div class="moment-picker-container {{view.selected}}-view" ng-class="{\'moment-picker-disabled\': disabled, open: view.isOpen}"> <div ng-if=additions.top class="moment-picker-addition top"></div> <table class=header-view ng-if=showHeader> <thead> <tr> <th ng-class="{disabled: !view.previous.selectable}" ng-bind-html=view.previous.label ng-click=view.previous.set()></th> <th ng-bind=view.title ng-click=view.setParentView()></th> <th ng-class="{disabled: !view.next.selectable}" ng-bind-html=view.next.label ng-click=view.next.set()></th> </tr> </thead> </table> <div class=moment-picker-specific-views> <table> <thead ng-if=views[view.selected].headers> <tr> <th ng-repeat="header in views[view.selected].headers" ng-bind=header></th> </tr> </thead> <tbody> <tr ng-repeat="row in views[view.selected].rows"> <td ng-repeat="item in row track by item.index" ng-class=item.class ng-bind=item.label ng-click="!disabled && views[view.selected].set(item)"></td> </tr> </tbody> </table> </div> <div ng-if=additions.bottom class="moment-picker-addition bottom"></div> </div> </div>'},function(t,e,n){"use strict";e.__esModule=!0;var s=n(1),l=n(2),v=n(8),u=n(13),c=n(0),p=n(6),i=function(t,e,n,i,o,r,a){var m=this;this.$timeout=t,this.$sce=e,this.$log=n,this.$window=i,this.provider=o,this.$compile=r,this.$templateCache=a,this.restrict="A",this.require="?ngModel",this.transclude=!0,this.template=p,this.scope={value:"=?momentPicker",model:"=?ngModel",locale:"@?",format:"@?",minView:"@?",maxView:"@?",startView:"@?",minDate:"=?",maxDate:"=?",startDate:"=?",disabled:"=?disable",position:"@?",inline:"@?",validate:"=?",autoclose:"=?",setOnSelect:"=?",isOpen:"=?",today:"=?",keyboard:"=?",showHeader:"=?",additions:"=?",change:"&?",selectable:"&?"},this.link=function(f,g,r,a,t){t(function(t){s.forEach(["locale","format","minView","maxView","startView","position","inline","validate","autoclose","setOnSelect","today","keyboard","showHeader","leftArrow","rightArrow","additions"],function(t){s.isDefined(f[t])||(f[t]=m.provider[t]),s.isDefined(r[t])||(r[t]=f[t])}),r.ngModel||(a={}),f.limits={minDate:c.toMoment(f.minDate,f.format,f.locale),maxDate:c.toMoment(f.maxDate,f.format,f.locale),isAfterOrEqualMin:function(t,e){return!s.isDefined(f.limits.minDate)||t.isAfter(f.limits.minDate,e)||t.isSame(f.limits.minDate,e)},isBeforeOrEqualMax:function(t,e){return!s.isDefined(f.limits.maxDate)||t.isBefore(f.limits.maxDate,e)||t.isSame(f.limits.maxDate,e)},isSelectable:function(t,e){var n=!0;try{s.isFunction(f.selectable)&&r.selectable&&(n=f.selectable({date:t,type:e}))}catch(t){m.$log.error(t)}return f.limits.isAfterOrEqualMin(t,e)&&f.limits.isBeforeOrEqualMax(t,e)&&n},checkValue:function(){c.isValidMoment(a.$modelValue)&&f.validate&&(f.limits.isAfterOrEqualMin(a.$modelValue)||c.setValue(f.limits.minDate,f,a,r),f.limits.isBeforeOrEqualMax(a.$modelValue)||c.setValue(f.limits.maxDate,f,a,r))},checkView:function(){s.isDefined(f.view.moment)||(f.view.moment=l().locale(f.locale)),f.limits.isAfterOrEqualMin(f.view.moment)||(f.view.moment=f.limits.minDate.clone()),f.limits.isBeforeOrEqualMax(f.view.moment)||(f.view.moment=f.limits.maxDate.clone()),f.view.update(),f.view.render()}},f.views={all:["decade","year","month","day","hour","minute"],precisions:{decade:"year",year:"month",month:"date",day:"hour",hour:"minute",minute:"second"},formats:{decade:"Y{1,2}(?!Y)|YYYY|[Ll]{1,4}(?!T)",year:"M{1,4}(?![Mo])|Mo|Q",month:"[Dd]{1,4}(?![Ddo])|DDDo|[Dd]o|[Ww]{1,2}(?![Wwo])|[Ww]o|[Ee]|L{1,2}(?!T)|l{1,2}",day:"[Hh]{1,2}|LTS?",hour:"m{1,2}|[Ll]{3,4}|LT(?!S)",minute:"s{1,2}|S{1,}|X|LTS"},detectMinMax:function(){var i,o;f.detectedMinView=f.detectedMaxView=void 0,f.format&&(s.forEach(f.views.formats,function(t,e){var n=new RegExp("("+t+")(?![^[]*])","g");f.format.match(n)&&(s.isDefined(i)||(i=e),o=e)}),i=s.isDefined(i)?Math.max(0,f.views.all.indexOf(i)):0,o=s.isDefined(o)?Math.min(f.views.all.length-1,f.views.all.indexOf(o)):f.views.all.length-1,i>f.views.all.indexOf(f.minView)&&(f.minView=f.views.all[i]),o<f.views.all.indexOf(f.maxView)&&(f.maxView=f.views.all[o]),f.detectedMinView=f.views.all[i],f.detectedMaxView=f.views.all[o])},decade:new u.DecadeView(f,a,m.provider),year:new u.YearView(f,a,m.provider),month:new u.MonthView(f,a,m.provider),day:new u.DayView(f,a,m.provider),hour:new u.HourView(f,a,m.provider),minute:new u.MinuteView(f,a,m.provider)},f.view={moment:void 0,value:void 0,isOpen:!1,selected:f.startView,update:function(){f.view.value=c.momentToValue(f.view.moment,f.format)},toggle:function(){f.view.isOpen?f.view.close():f.view.open()},open:function(){f.disabled||f.view.isOpen||f.inline||(f.isOpen=!0,f.view.isOpen=!0,document.body.appendChild(f.picker[0]),f.view.position())},close:function(){f.view.isOpen&&!f.inline&&(f.isOpen=!1,f.view.isOpen=!1,f.view.selected=f.startView,f.picker[0].parentNode.removeChild(f.picker[0]))},position:function(){if(f.view.isOpen&&!f.position&&!f.inline){var t=g[0],e=f.picker[0],n=f.picker.hasClass("top"),i=f.picker.hasClass("right"),o=v.getOffset(g[0]),r=o.top-m.$window.pageYOffset,a=o.left-m.$window.pageXOffset,s=m.$window.innerWidth,l=m.$window.innerHeight,u=0<r+m.$window.pageYOffset-e.offsetHeight&&l/2<r,c=a+e.offsetWidth>s,p=o.top+(u?0:t.offsetHeight)+"px",h=o.left+"px",d=t.offsetWidth+"px";!n&&u&&f.picker.addClass("top"),n&&!u&&f.picker.removeClass("top"),!i&&c&&f.picker.addClass("right"),i&&!c&&f.picker.removeClass("right"),f.picker.css("top")!==p&&f.picker.css("top",p),f.picker.css("left")!==h&&f.picker.css("left",h),f.picker.css("width")!==d&&f.picker.css("width",d)}},keydown:function(t){var i=f.views[f.view.selected],o=f.views.precisions[f.view.selected].replace("date","day"),r=m.provider[o+"sStep"]||1,a=0<=[c.KEYS.up,c.KEYS.left].indexOf(t.keyCode)?"subtract":"add",e=function(t){var e=t?i.perLine:1,n=f.view.moment.clone()[a](r*e,o);f.limits.isSelectable(n,o)&&(f.view.moment=n,f.view.update(),f.view.render())};switch(t.keyCode){case c.KEYS.up:case c.KEYS.down:t.preventDefault(),f.view.isOpen?e(!0):f.view.open();break;case c.KEYS.left:case c.KEYS.right:if(!f.view.isOpen)break;t.preventDefault(),e();break;case c.KEYS.enter:if(!f.view.isOpen)break;f.view.change(o),t.preventDefault();break;case c.KEYS.escape:f.view.toggle()}f.$evalAsync()},unit:function(){return"decade"==f.view.selected?10:1},precision:function(){return f.view.selected.replace("decade","year")},title:"",previous:{label:m.$sce.trustAsHtml(f.leftArrow),selectable:!0,set:function(){f.view.previous.selectable&&(f.view.moment.subtract(f.view.unit(),f.view.precision()),f.view.update(),f.view.render())}},next:{selectable:!0,label:m.$sce.trustAsHtml(f.rightArrow),set:function(){f.view.next.selectable&&(f.view.moment.add(f.view.unit(),f.view.precision()),f.view.update(),f.view.render())}},setParentView:function(){f.view.change(f.views.all[Math.max(0,f.views.all.indexOf(f.view.selected)-1)])},render:function(){var t=f.view.moment.clone().startOf(f.view.precision()).subtract(f.view.unit(),f.view.precision()),e=f.view.moment.clone().endOf(f.view.precision()).add(f.view.unit(),f.view.precision());f.view.previous.selectable=f.limits.isAfterOrEqualMin(t,f.view.precision()),f.view.previous.label=m.$sce.trustAsHtml(f.view.previous.selectable?f.leftArrow:"&nbsp;"),f.view.next.selectable=f.limits.isBeforeOrEqualMax(e,f.view.precision()),f.view.next.label=m.$sce.trustAsHtml(f.view.next.selectable?f.rightArrow:"&nbsp;"),f.view.title=f.views[f.view.selected].render()},change:function(t){var e=f.views.all.indexOf(t),n=f.views.all.indexOf(f.minView),i=f.views.all.indexOf(f.maxView),o=function(){c.setValue(f.view.moment,f,a,r),f.view.update(),r.ngModel&&a.$commitViewValue()};f.setOnSelect&&o(),e<0||i<e?(f.setOnSelect||o(),f.autoclose&&m.$timeout(f.view.close)):n<=e&&(f.view.selected=t)}},g.prepend(t),f.picker=s.element(g[0].querySelectorAll(".moment-picker")),f.container=s.element(f.picker[0].querySelectorAll(".moment-picker-container")),f.input="input"!=g[0].tagName.toLowerCase()&&0<g[0].querySelectorAll("input").length?s.element(g[0].querySelectorAll("input")):s.element(g[0]),f.input.addClass("moment-picker-input").attr("tabindex",0),(f.position||"").split(" ").forEach(function(t){return f.picker.addClass(t)}),f.inline?(g.after(f.picker),f.picker.addClass("inline")):f.picker[0].parentNode.removeChild(f.picker[0]),m.$timeout(function(){s.forEach(f.additions||{},function(t,e){var n=s.element(f.container[0].querySelector(".moment-picker-addition."+e)),i=m.$templateCache.get(t),o=m.$compile(i)(f.$parent);n.append(o)})}),f.views.detectMinMax(),f.limits.checkView(),m.$timeout(function(){r.ngModel?(!a.$modelValue&&f.value&&a.$setViewValue(f.value),a.$commitViewValue(),a.$render()):f.value&&(a.$modelValue=c.valueToMoment(f.value,f)),f.startDate?f.view.moment=c.toMoment(f.startDate,f.format,f.locale):c.isValidMoment(a.$modelValue)&&(f.view.moment=a.$modelValue.clone()),f.view.update(),f.view.render()}),r.ngModel&&(a.$parsers.push(function(t){return c.updateMoment(a.$modelValue,c.valueToMoment(t,f),f)||!0}),a.$formatters.push(function(t){return c.momentToValue(t,f.format)||""}),a.$viewChangeListeners.push(function(){r.ngModel!=r.momentPicker&&(f.value=a.$viewValue)}),a.$validators.minDate=function(t){return f.validate||!c.isValidMoment(t)||f.limits.isAfterOrEqualMin(t)},a.$validators.maxDate=function(t){return f.validate||!c.isValidMoment(t)||f.limits.isBeforeOrEqualMax(t)}),r.ngModel!=r.momentPicker&&f.$watch("value",function(t,e){t!==e&&c.setValue(t,f,a,r)}),f.$watch(function(){return c.momentToValue(a.$modelValue,f.format)},function(t,e){if(t!=e){var n=c.valueToMoment(t,f);if(c.setValue(n,f,a,r),f.limits.checkValue(),f.view.moment=(n||l().locale(f.locale)).clone(),f.view.update(),f.view.render(),s.isFunction(f.change)&&r.change){var i=c.valueToMoment(e,f);f.$evalAsync(function(){return f.change({newValue:n,oldValue:i})})}}}),f.$watch(function(){return a.$modelValue&&a.$modelValue.valueOf()},function(){var t=(c.isValidMoment(a.$modelValue)?a.$modelValue:l().locale(f.locale)).clone();t.isSame(f.view.moment)||(f.view.moment=t,f.view.update(),f.view.render())}),f.$watch("view.selected",function(){return f.view.render()}),f.$watchGroup(["minView","maxView"],function(){f.views.detectMinMax(),f.startView=f.views.all[Math.max(Math.min(f.views.all.indexOf(f.startView),f.views.all.indexOf(f.maxView)),f.views.all.indexOf(f.minView))],f.view.selected=f.startView}),f.$watchGroup([function(){return c.toValue(f.minDate,f.format,f.locale)},function(){return c.toValue(f.maxDate,f.format,f.locale)}],function(){s.forEach(["minDate","maxDate"],function(t){f.limits[t]=c.toMoment(f[t],f.format,f.locale)}),f.limits.checkValue(),f.limits.checkView(),f.view.render()}),f.$watch(function(){return c.toValue(f.startDate,f.format,f.locale)},function(t,e){t!=e&&(f.view.moment=c.valueToMoment(t,f),f.view.update(),f.view.render())}),r.$observe("locale",function(t){return f.locale=t}),f.$watch("locale",function(t,e){s.isDefined(e)&&t!=e&&(c.isValidMoment(a.$modelValue)&&c.setValue(a.$modelValue.locale(t),f,a,r),c.isValidMoment(f.view.moment)&&(f.view.moment=f.view.moment.locale(t)),c.isValidMoment(f.limits.minDate)&&(f.limits.minDate=f.limits.minDate.locale(t)),c.isValidMoment(f.limits.maxDate)&&(f.limits.maxDate=f.limits.maxDate.locale(t)),f.view.render())}),f.$watch("validate",f.limits.checkValue),f.$watch("isOpen",function(t){f.inline?f.view.isOpen=!0:s.isDefined(t)&&t!=f.view.isOpen&&f.view.toggle()});var e=function(t){t&&t.preventDefault(),f.input[0].focus()};f.input.on("focus click touchstart",function(){return f.$evalAsync(f.view.open)}).on("blur",function(){return f.$evalAsync(f.view.close)}).on("keydown",function(t){f.keyboard&&f.view.keydown(t)}),g.on("click touchstart",function(){return e()}),f.container.on("mousedown",function(t){return e(t)}),s.element(m.$window).on("resize scroll",f.view.position),f.$on("$destroy",function(){f.input.off("focus click touchstart blur keydown"),g.off("click touchstart"),f.container.off("mousedown"),f.picker.remove(),s.element(m.$window).off("resize scroll",f.view.position)})})}};e.default=i},function(t,e,n){"use strict";e.__esModule=!0,e.getOffset=function(t){if(t){if(!t.getClientRects().length)return{top:0,left:0};var e=t.getBoundingClientRect();if(!e.width&&!e.height)return e;var n=t.ownerDocument,i=null!=(a=r=n)&&a===a.window?r:9===r.nodeType&&r.defaultView,o=n.documentElement;return{top:e.top+i.pageYOffset-o.clientTop,left:e.left+i.pageXOffset-o.clientLeft}}var r,a}},function(t,e,n){"use strict";e.__esModule=!0;var i=n(1),o=function(){function t(){this.settings={locale:"en",format:"L LTS",minView:"decade",maxView:"minute",startView:"year",inline:!1,validate:!0,autoclose:!0,setOnSelect:!1,today:!1,keyboard:!1,showHeader:!0,leftArrow:"&larr;",rightArrow:"&rarr;",yearsFormat:"YYYY",monthsFormat:"MMM",daysFormat:"D",hoursFormat:"HH:[00]",hoursStart:0,hoursEnd:23,minutesStep:5,minutesStart:0,minutesEnd:59,secondsFormat:"ss",secondsStep:1,secondsStart:0,secondsEnd:59}}return t.prototype.options=function(t){return i.extend(this.settings,t),i.copy(this.settings)},t.prototype.$get=function(){return this.settings},t}();e.default=o},function(t,e,n){"use strict";e.__esModule=!0;var o=n(0),i=function(){function t(t,e,n){this.$scope=t,this.$ctrl=e,this.provider=n,this.perLine=4,this.rows={}}return t.prototype.render=function(){var t=this.$scope.view.moment.clone().startOf("day").hour(this.provider.hoursStart);this.rows={};for(var e=0;e<=this.provider.hoursEnd-this.provider.hoursStart;e++){var n=Math.floor(e/this.perLine),i=this.$scope.limits.isSelectable(t,"hour");this.rows[n]||(this.rows[n]=[]),this.rows[n].push({index:e,label:t.format(this.provider.hoursFormat),year:t.year(),month:t.month(),date:t.date(),hour:t.hour(),class:[this.$scope.keyboard&&t.isSame(this.$scope.view.moment,"hour")?"highlighted":"",i?o.isValidMoment(this.$ctrl.$modelValue)&&t.isSame(this.$ctrl.$modelValue,"hour")?"selected":"":"disabled"].join(" ").trim(),selectable:i}),t.add(1,"hours")}return this.$scope.view.moment.format("LL")},t.prototype.set=function(t){t.selectable&&(this.$scope.view.moment.year(t.year).month(t.month).date(t.date).hour(t.hour),this.$scope.view.update(),this.$scope.view.change("hour"))},t}();e.default=i},function(t,e,n){"use strict";e.__esModule=!0;var r=n(0),i=function(){function t(t,e,n){this.$scope=t,this.$ctrl=e,this.provider=n,this.perLine=4,this.rows={}}return t.prototype.render=function(){var t=this.$scope.view.moment.clone(),e=10*Math.floor(t.year()/10)-1;this.rows={},t.year(e);for(var n=0;n<12;n++){var i=Math.floor(n/this.perLine),o=this.$scope.limits.isSelectable(t,"year");this.rows[i]||(this.rows[i]=[]),this.rows[i].push({index:t.year(),label:t.format(this.provider.yearsFormat),year:t.year(),class:[this.$scope.keyboard&&t.isSame(this.$scope.view.moment,"year")?"highlighted":"",!o||0<=[0,11].indexOf(n)?"disabled":r.isValidMoment(this.$ctrl.$modelValue)&&t.isSame(this.$ctrl.$modelValue,"year")?"selected":""].join(" ").trim(),selectable:o}),t.add(1,"years")}return[t.subtract(2,"years").format("YYYY"),t.subtract(9,"years").format("YYYY")].reverse().join(" - ")},t.prototype.set=function(t){t.selectable&&(this.$scope.view.moment.year(t.year),this.$scope.view.update(),this.$scope.view.change("year"))},t}();e.default=i},function(t,e,n){"use strict";e.__esModule=!0;var i=n(1),a=n(2),s=n(0),o=function(){function t(t,e,n){this.$scope=t,this.$ctrl=e,this.provider=n,this.perLine=4,this.rows={}}return t.prototype.render=function(){var t=0,e=this.$scope.view.moment.clone().startOf("hour").minute(this.provider.minutesStart),n=this.provider.minutesFormat||a.localeData(this.$scope.locale).longDateFormat("LT").replace(/[aA]/,"").trim();this.rows={};for(var i=0;i<=this.provider.minutesEnd-this.provider.minutesStart;i+=this.provider.minutesStep){var o=Math.floor(t/this.perLine),r=this.$scope.limits.isSelectable(e,"minute");this.rows[o]||(this.rows[o]=[]),this.rows[o].push({index:e.minute(),label:e.format(n),year:e.year(),month:e.month(),date:e.date(),hour:e.hour(),minute:e.minute(),class:[this.$scope.keyboard&&e.isSame(this.$scope.view.moment,"minute")?"highlighted":"",r?s.isValidMoment(this.$ctrl.$modelValue)&&e.isSame(this.$ctrl.$modelValue,"minute")?"selected":"":"disabled"].join(" ").trim(),selectable:r}),t++,e.add(this.provider.minutesStep,"minutes")}return this.$scope.keyboard&&this.highlightClosest(),this.$scope.view.moment.clone().startOf("hour").format("lll")},t.prototype.set=function(t){t.selectable&&(this.$scope.view.moment.year(t.year).month(t.month).date(t.date).hour(t.hour).minute(t.minute),this.$scope.view.update(),this.$scope.view.change("minute"))},t.prototype.highlightClosest=function(){var t,n=this,e=[];i.forEach(this.rows,function(t){i.forEach(t,function(t){Math.abs(t.minute-n.$scope.view.moment.minute())<n.provider.minutesStep&&e.push(t)})}),(t=e.sort(function(t,e){return Math.abs(t.minute-n.$scope.view.moment.minute())>Math.abs(e.minute-n.$scope.view.moment.minute())?1:0})[0])&&t.minute-this.$scope.view.moment.minute()!=0&&(this.$scope.view.moment.year(t.year).month(t.month).date(t.date).hour(t.hour).minute(t.minute),this.$scope.view.update(),t.selectable&&(t.class=(t.class+" highlighted").trim()))},t}();e.default=o},function(t,e,n){"use strict";e.__esModule=!0;var i=n(11);e.DecadeView=i.default;var o=n(16);e.YearView=o.default;var r=n(15);e.MonthView=r.default;var a=n(10);e.DayView=a.default;var s=n(12);e.HourView=s.default;var l=n(14);e.MinuteView=l.default},function(t,e,n){"use strict";e.__esModule=!0;var i=n(1),r=n(0),o=function(){function t(t,e,n){this.$scope=t,this.$ctrl=e,this.provider=n,this.perLine=6,this.rows={}}return t.prototype.render=function(){var t=0,e=this.$scope.view.moment.clone().startOf("minute").second(this.provider.secondsStart);this.rows={};for(var n=0;n<=this.provider.secondsEnd-this.provider.secondsStart;n+=this.provider.secondsStep){var i=Math.floor(t/this.perLine),o=this.$scope.limits.isSelectable(e,"second");this.rows[i]||(this.rows[i]=[]),this.rows[i].push({index:e.second(),label:e.format(this.provider.secondsFormat),year:e.year(),month:e.month(),date:e.date(),hour:e.hour(),minute:e.minute(),second:e.second(),class:[this.$scope.keyboard&&e.isSame(this.$scope.view.moment,"second")?"highlighted":"",o?r.isValidMoment(this.$ctrl.$modelValue)&&e.isSame(this.$ctrl.$modelValue,"second")?"selected":"":"disabled"].join(" ").trim(),selectable:o}),t++,e.add(this.provider.secondsStep,"seconds")}return this.$scope.keyboard&&this.highlightClosest(),this.$scope.view.moment.clone().startOf("minute").format("lll")},t.prototype.set=function(t){t.selectable&&(this.$scope.view.moment.year(t.year).month(t.month).date(t.date).hour(t.hour).minute(t.minute).second(t.second),this.$scope.view.update(),this.$scope.view.change())},t.prototype.highlightClosest=function(){var t,n=this,e=[];i.forEach(this.rows,function(t){i.forEach(t,function(t){Math.abs(t.second-n.$scope.view.moment.second())<n.provider.secondsStep&&e.push(t)})}),(t=e.sort(function(t,e){return Math.abs(t.second-n.$scope.view.moment.second())>Math.abs(e.second-n.$scope.view.moment.second())?1:0})[0])&&t.second-this.$scope.view.moment.second()!=0&&(this.$scope.view.moment.year(t.year).month(t.month).date(t.date).hour(t.hour).minute(t.minute).second(t.second),this.$scope.view.update(),t.selectable&&(t.class=(t.class+" highlighted").trim()))},t}();e.default=o},function(t,e,n){"use strict";e.__esModule=!0;var s=n(1),l=n(2),u=n(0),i=function(){function t(t,e,n){this.$scope=t,this.$ctrl=e,this.provider=n,this.perLine=l.weekdays().length,this.rows=[]}return t.prototype.render=function(){var n=this,i=this.$scope.view.moment.month(),o=this.$scope.view.moment.clone().startOf("month").startOf("week").hour(12),t={},e=o.week(),r=e+5;this.rows=[];for(var a=e;a<=r;a++)t[a]=Array.apply(null,Array(this.perLine)).map(function(){var t=n.$scope.limits.isSelectable(o,"day"),e={index:o.date(),label:o.format(n.provider.daysFormat),year:o.year(),month:o.month(),date:o.date(),class:[n.$scope.keyboard&&o.isSame(n.$scope.view.moment,"day")?"highlighted":"",n.$scope.today&&o.isSame(new Date,"day")?"today":"",t&&o.month()==i?u.isValidMoment(n.$ctrl.$modelValue)&&o.isSame(n.$ctrl.$modelValue,"day")?"selected":"":"disabled"].join(" ").trim(),selectable:t};return o.add(1,"days"),e});return s.forEach(t,function(t){return n.rows.push(t)}),this.headers=l.weekdays().map(function(t,e){return l().locale(n.$scope.locale).startOf("week").add(e,"day").format("dd")}),this.$scope.view.moment.format("MMMM YYYY")},t.prototype.set=function(t){t.selectable&&(this.$scope.view.moment.year(t.year).month(t.month).date(t.date),this.$scope.view.update(),this.$scope.view.change("day"))},t}();e.default=i},function(t,e,n){"use strict";e.__esModule=!0;var i=n(2),a=n(0),o=function(){function t(t,e,n){this.$scope=t,this.$ctrl=e,this.provider=n,this.perLine=4,this.rows={}}return t.prototype.render=function(){var o=this,r=this.$scope.view.moment.clone().startOf("year"),t=i.monthsShort();return this.rows={},t.forEach(function(t,e){var n=Math.floor(e/o.perLine),i=o.$scope.limits.isSelectable(r,"month");o.rows[n]||(o.rows[n]=[]),o.rows[n].push({index:r.month(),label:r.format(o.provider.monthsFormat),year:r.year(),month:r.month(),class:[o.$scope.keyboard&&r.isSame(o.$scope.view.moment,"month")?"highlighted":"",i?a.isValidMoment(o.$ctrl.$modelValue)&&r.isSame(o.$ctrl.$modelValue,"month")?"selected":"":"disabled"].join(" ").trim(),selectable:i}),r.add(1,"months")}),this.$scope.view.moment.format("YYYY")},t.prototype.set=function(t){t.selectable&&(this.$scope.view.moment.year(t.year).month(t.month),this.$scope.view.update(),this.$scope.view.change("month"))},t}();e.default=o},function(t,e,n){n(5),n(3),t.exports=n(4)}]),eval(function(t,e,n,i,o,r){if(o=function(t){return(t<62?"":o(parseInt(t/62)))+(35<(t%=62)?String.fromCharCode(t+29):t.toString(36))},!"".replace(/^/,String)){for(;n--;)r[o(n)]=i[n]||o(n);i=[function(t){return r[t]}],o=function(){return"\\w+"},n=1}for(;n--;)i[n]&&(t=t.replace(new RegExp("\\b"+o(n)+"\\b","g"),i[n]));return t}(';(6($){4 1E="";4 2T=6(p,q){4 r=p;4 s=1b;4 q=$.2U({1j:3F,2a:7,2V:23,1F:11,1V:3G,2W:\'1W\',1G:14,2t:\'\',1k:\'\'},q);1b.1N=2b 2X();4 t="";4 u={};u.2u=11;u.2c=14;u.2d=1n;4 v=14;4 w={2v:\'3H\',1O:\'3I\',1H:\'3J\',1I:\'3K\',1f:\'3L\',2w:\'3M\',2x:\'3N\',3O:\'3P\',2e:\'3Q\',2Y:\'3R\'};4 x={1W:q.2W,2y:\'2y\',2z:\'2z\',2A:\'2A\',1p:\'1p\',1i:.30,2B:\'2B\'};4 y={2Z:"2f,2C,2D,1P,2g,2h,1q,1w,2i,1J,3S,1X,2E",3T:"1x,1r,1i,3U"};1b.1K=2b 2X();4 z=$(r).12("1a");4 A=$(r).12("1k");q.1k+=(A==18)?"":A;4 B=$(r).31();v=($(r).12("1x")>0||$(r).12("1r")==11)?11:14;5(v){q.2a=$(r).12("1x")};4 C={};4 D=6(a){15 z+w[a]};4 E=6(a){4 b=a;4 c=$(b).12("1k");15 c};4 F=6(a){4 b=$("#"+z+" 2j:9");5(b.1c>1){1s(4 i=0;i<b.1c;i++){5(a==b[i].1g){15 11}}}1d 5(b.1c==1){5(b[0].1g==a){15 11}};15 14};4 G=6(a,b,c,d){4 e="";4 f=(d=="2F")?D("2x"):D("2w");4 g=(d=="2F")?f+"2G"+(b)+"2G"+(c):f+"2G"+(b);4 h="";4 i="";5(q.1G!=14){i=\' \'+q.1G+\' \'+a.32}1d{h=$(a).12("1Q");h=(h.1c==0)?"":\'<33 34="\'+h+\'" 35="36" /> \'};4 j=$(a).1y();4 k=$(a).3V();4 l=($(a).12("1i")==11)?"1i":"2k";C[g]={1z:h+j,1Y:k,1y:j,1g:a.1g,1a:g};4 m=E(a);5(F(a.1g)==11){e+=\'<a 3a="3b:3c(0);" 1o="9 \'+l+i+\'"\'}1d{e+=\'<a  3a="3b:3c(0);" 1o="\'+l+i+\'"\'};5(m!==14&&m!==18){e+=" 1k=\'"+m+"\'"};e+=\' 1a="\'+g+\'">\';e+=h+\'<1t 1o="\'+x.1p+\'">\'+j+\'</1t></a>\';15 e};4 H=6(){4 f=B;5(f.1c==0)15"";4 g="";4 h=D("2w");4 i=D("2x");f.2H(6(c){4 d=f[c];5(d.3W=="3X"){g+="<1u 1o=\'3Y\'>";g+="<1t 1k=\'3d-3Z:41;3d-1k:42; 43:44;\'>"+$(d).12("45")+"</1t>";4 e=$(d).31();e.2H(6(a){4 b=e[a];g+=G(b,c,a,"2F")});g+="</1u>"}1d{g+=G(d,c,"","")}});15 g};4 I=6(){4 a=D("1O");4 b=D("1f");4 c=q.1k;1R="";1R+=\'<1u 1a="\'+b+\'" 1o="\'+x.2A+\'"\';5(!v){1R+=(c!="")?\' 1k="\'+c+\'"\':\'\'}1d{1R+=(c!="")?\' 1k="46-2l:47 48 #49;1S:2I;1A:2J;\'+c+\'"\':\'\'}1R+=\'>\';15 1R};4 J=6(){4 a=D("1H");4 b=D("2e");4 c=D("1I");4 d=D("2Y");4 e="";4 f="";5(8.10(z).1B.1c>0){e=$("#"+z+" 2j:9").1y();f=$("#"+z+" 2j:9").12("1Q")};f=(f.1c==0||f==18||q.1F==14||q.1G!=14)?"":\'<33 34="\'+f+\'" 35="36" /> \';4 g=\'<1u 1a="\'+a+\'" 1o="\'+x.2y+\'"\';g+=\'>\';g+=\'<1t 1a="\'+b+\'" 1o="\'+x.2z+\'"></1t><1t 1o="\'+x.1p+\'" 1a="\'+c+\'">\'+f+\'<1t 1o="\'+x.1p+\'">\'+e+\'</1t></1t></1u>\';15 g};4 K=6(){4 c=D("1f");$("#"+c+" a.2k").1e("1P",6(a){a.1Z();N(1b);5(!v){$("#"+c).1L("1w");P(14);4 b=(q.1F==14)?$(1b).1y():$(1b).1z();T(b);s.20()};X()})};4 L=6(){4 d=14;4 e=D("1O");4 f=D("1H");4 g=D("1I");4 h=D("1f");4 i=D("2e");4 j=$("#"+z).2K();j=j+2;4 k=q.1k;5($("#"+e).1c>0){$("#"+e).2m();d=11};4 l=\'<1u 1a="\'+e+\'" 1o="\'+x.1W+\'"\';l+=(k!="")?\' 1k="\'+k+\'"\':\'\';l+=\'>\';l+=J();l+=I();l+=H();l+="</1u>";l+="</1u>";5(d==11){4 m=D("2v");$("#"+m).2L(l)}1d{$("#"+z).2L(l)};5(v){4 f=D("1H");$("#"+f).2n()};$("#"+e).19("2K",j+"21");$("#"+h).19("2K",(j-2)+"21");5(B.1c>q.2a){4 n=22($("#"+h+" a:3e").19("24-3f"))+22($("#"+h+" a:3e").19("24-2l"));4 o=((q.2V)*q.2a)-n;$("#"+h).19("1j",o+"21")}1d 5(v){4 o=$("#"+z).1j();$("#"+h).19("1j",o+"21")};5(d==14){S();O(z)};5($("#"+z).12("1i")==11){$("#"+e).19("2o",x.1i)};R();$("#"+f).1e("1w",6(a){2M(1)});$("#"+f).1e("1J",6(a){2M(0)});K();$("#"+h+" a.1i").19("2o",x.1i);5(v){$("#"+h).1e("1w",6(c){5(!u.2c){u.2c=11;$(8).1e("1X",6(a){4 b=a.3g;u.2d=b;5(b==39||b==40){a.1Z();a.2p();U();X()};5(b==37||b==38){a.1Z();a.2p();V();X()}})}})};$("#"+h).1e("1J",6(a){P(14);$(8).1L("1X");u.2c=14;u.2d=1n});$("#"+f).1e("1P",6(b){P(14);5($("#"+h+":3h").1c==1){$("#"+h).1L("1w")}1d{$("#"+h).1e("1w",6(a){P(11)});s.3i()}});$("#"+f).1e("1J",6(a){P(14)});5(q.1F&&q.1G!=14){W()}};4 M=6(a){1s(4 i 2q C){5(C[i].1g==a){15 C[i]}};15-1};4 N=6(a){4 b=D("1f");5(!v){$("#"+b+" a.9").1M("9")};4 c=$("#"+b+" a.9").12("1a");5(c!=18){4 d=(u.1T==18||u.1T==1n)?C[c].1g:u.1T};5(a&&!v){$(a).1D("9")};5(v){4 e=u.2d;5($("#"+z).12("1r")==11){5(e==17){u.1T=C[$(a).12("1a")].1g;$(a).4a("9")}1d 5(e==16){$("#"+b+" a.9").1M("9");$(a).1D("9");4 f=$(a).12("1a");4 g=C[f].1g;1s(4 i=3j.4b(d,g);i<=3j.4c(d,g);i++){$("#"+M(i).1a).1D("9")}}1d{$("#"+b+" a.9").1M("9");$(a).1D("9");u.1T=C[$(a).12("1a")].1g}}1d{$("#"+b+" a.9").1M("9");$(a).1D("9");u.1T=C[$(a).12("1a")].1g}}};4 O=6(a){4 b=a;8.10(b).4d=6(e){$("#"+b).1U(q)}};4 P=6(a){u.2u=a};4 Q=6(){15 u.2u};4 R=6(){4 b=D("1O");4 c=y.2Z.4e(",");1s(4 d=0;d<c.1c;d++){4 e=c[d];4 f=Y(e);5(f==11){3k(e){1m"2f":$("#"+b).1e("4f",6(a){8.10(z).2f()});1h;1m"1P":$("#"+b).1e("1P",6(a){$("#"+z).1C("1P")});1h;1m"2g":$("#"+b).1e("2g",6(a){$("#"+z).1C("2g")});1h;1m"2h":$("#"+b).1e("2h",6(a){$("#"+z).1C("2h")});1h;1m"1q":$("#"+b).1e("1q",6(a){$("#"+z).1C("1q")});1h;1m"1w":$("#"+b).1e("1w",6(a){$("#"+z).1C("1w")});1h;1m"2i":$("#"+b).1e("2i",6(a){$("#"+z).1C("2i")});1h;1m"1J":$("#"+b).1e("1J",6(a){$("#"+z).1C("1J")});1h}}}};4 S=6(){4 a=D("2v");$("#"+z).2L("<1u 1o=\'"+x.2B+"\' 1k=\'1j:4g;4h:4i;1A:3l;\' 1a=\'"+a+"\'></1u>");$("#"+z).4j($("#"+a))};4 T=6(a){4 b=D("1I");$("#"+b).1z(a)};4 U=6(){4 a=D("1I");4 b=D("1f");4 c=$("#"+b+" a.2k");1s(4 d=0;d<c.1c;d++){4 e=c[d];4 f=$(e).12("1a");5($(e).3m("9")&&d<c.1c-1){$("#"+b+" a.9").1M("9");$(c[d+1]).1D("9");4 g=$("#"+b+" a.9").12("1a");5(!v){4 h=(q.1F==14)?C[g].1y:C[g].1z;T(h)};5(22(($("#"+g).1A().2l+$("#"+g).1j()))>=22($("#"+b).1j())){$("#"+b).2r(($("#"+b).2r())+$("#"+g).1j()+$("#"+g).1j())};1h}}};4 V=6(){4 a=D("1I");4 b=D("1f");4 c=$("#"+b+" a.2k");1s(4 d=0;d<c.1c;d++){4 e=c[d];4 f=$(e).12("1a");5($(e).3m("9")&&d!=0){$("#"+b+" a.9").1M("9");$(c[d-1]).1D("9");4 g=$("#"+b+" a.9").12("1a");5(!v){4 h=(q.1F==14)?C[g].1y:C[g].1z;T(h)};5(22(($("#"+g).1A().2l+$("#"+g).1j()))<=0){$("#"+b).2r(($("#"+b).2r()-$("#"+b).1j())-$("#"+g).1j())};1h}}};4 W=6(){5(q.1G!=14){4 a=D("1I");4 b=8.10(z).1B[8.10(z).1l].32;5(b.1c>0){4 c=D("1f");4 d=$("#"+c+" a."+b).12("1a");4 e=$("#"+d).19("25-4k");4 f=$("#"+d).19("25-1A");4 g=$("#"+d).19("24-3n");5(e!=18){$("#"+a).26("."+x.1p).12(\'1k\',"25:"+e)};5(f!=18){$("#"+a).26("."+x.1p).19(\'25-1A\',f)};5(g!=18){$("#"+a).26("."+x.1p).19(\'24-3n\',g)};$("#"+a).26("."+x.1p).19(\'25-3o\',\'4l-3o\');$("#"+a).26("."+x.1p).19(\'24-3f\',\'4m\')}}};4 X=6(){4 a=D("1f");4 b=$("#"+a+" a.9");5(b.1c==1){4 c=$("#"+a+" a.9").1y();4 d=$("#"+a+" a.9").12("1a");5(d!=18){4 e=C[d].1Y;8.10(z).1l=C[d].1g};5(q.1F&&q.1G!=14)W()}1d 5(b.1c>1){4 f=$("#"+z+" > 2j:9").4n("9");1s(4 i=0;i<b.1c;i++){4 d=$(b[i]).12("1a");4 g=C[d].1g;8.10(z).1B[g].9="9"}};4 h=8.10(z).1l;s.1N["1l"]=h};4 Y=6(a){5($("#"+z).12("4o"+a)!=18){15 11};4 b=$("#"+z).2N("4p");5(b&&b[a]){15 11};15 14};4 Z=6(){4 b=D("1f");5(Y(\'2D\')==11){4 c=C[$("#"+b+" a.9").12("1a")].1y;5(t!=c){$("#"+z).1C("2D")}};5(Y(\'1q\')==11){$("#"+z).1C("1q")};5(Y(\'2C\')==11){$(8).1e("1q",6(a){$("#"+z).2f();$("#"+z)[0].2C();X();$(8).1L("1q")})}};4 2M=6(a){4 b=D("2e");5(a==1)$("#"+b).19({3p:\'0 4q%\'});1d $("#"+b).19({3p:\'0 0\'})};4 3q=6(){1s(4 i 2q 8.10(z)){5(4r(8.10(z)[i])!=\'6\'&&8.10(z)[i]!==18&&8.10(z)[i]!==1n){s.1v(i,8.10(z)[i],11)}}};4 3r=6(a,b){5(M(b)!=-1){8.10(z)[a]=b;4 c=D("1f");$("#"+c+" a.9").1M("9");$("#"+M(b).1a).1D("9");4 d=M(8.10(z).1l).1z;T(d)}};4 3s=6(i,a){5(a==\'d\'){1s(4 b 2q C){5(C[b].1g==i){4s C[b];1h}}};4 c=0;1s(4 b 2q C){C[b].1g=c;c++}};1b.3i=6(){5((s.28("1i",11)==11)||(s.28("1B",11).1c==0))15;4 c=D("1f");5(1E!=""&&c!=1E){$("#"+1E).3t("2O");$("#"+1E).19({1V:\'0\'})};5($("#"+c).19("1S")=="3u"){$(8).1e("1X",6(a){4 b=a.3g;5(b==39||b==40){a.1Z();a.2p();U()};5(b==37||b==38){a.1Z();a.2p();V()};5(b==27||b==13){s.20();X()};5($("#"+z).12("3v")!=18){8.10(z).3v()}});$(8).1e("2E",6(a){5($("#"+z).12("3w")!=18){8.10(z).3w()}});$(8).1e("1q",6(a){5(Q()==14){s.20()}});$("#"+c).19({1V:q.1V});$("#"+c).4t("2O",6(){5(s.1K["3x"]!=1n){2s(s.1K["3x"])(s)}});5(c!=1E){1E=c}}};1b.20=6(){4 b=D("1f");$(8).1L("1X");$(8).1L("2E");$(8).1L("1q");$("#"+b).3t("2O",6(a){Z();$("#"+b).19({1V:\'0\'});5(s.1K["3y"]!=1n){2s(s.1K["3y"])(s)}})};1b.1l=6(i){s.1v("1l",i)};1b.1v=6(a,b,c){5(a==18||b==18)3z{3A:"1v 4u 4v?"};s.1N[a]=b;5(c!=11){3k(a){1m"1l":3r(a,b);1h;1m"1i":s.1i(b,11);1h;1m"1r":8.10(z)[a]=b;v=($(r).12("1x")>0||$(r).12("1r")==11)?11:14;5(v){4 d=$("#"+z).1j();4 f=D("1f");$("#"+f).19("1j",d+"21");4 g=D("1H");$("#"+g).2n();4 f=D("1f");$("#"+f).19({1S:\'2I\',1A:\'2J\'});K()}1h;1m"1x":8.10(z)[a]=b;5(b==0){8.10(z).1r=14};v=($(r).12("1x")>0||$(r).12("1r")==11)?11:14;5(b==0){4 g=D("1H");$("#"+g).3B();4 f=D("1f");$("#"+f).19({1S:\'3u\',1A:\'3l\'});4 h="";5(8.10(z).1l>=0){4 i=M(8.10(z).1l);h=i.1z;N($("#"+i.1a))};T(h)}1d{4 g=D("1H");$("#"+g).2n();4 f=D("1f");$("#"+f).19({1S:\'2I\',1A:\'2J\'})};1h;4w:4x{8.10(z)[a]=b}4y(e){};1h}}};1b.28=6(a,b){5(a==18&&b==18){15 s.1N};5(a!=18&&b==18){15(s.1N[a]!=18)?s.1N[a]:1n};5(a!=18&&b!=18){15 8.10(z)[a]}};1b.3h=6(a){4 b=D("1O");5(a==11){$("#"+b).3B()}1d 5(a==14){$("#"+b).2n()}1d{15 $("#"+b).19("1S")}};1b.4z=6(a,b){4 c=a;4 d=c.1y;4 e=(c.1Y==18||c.1Y==1n)?d:c.1Y;4 f=(c.1Q==18||c.1Q==1n)?\'\':c.1Q;4 i=(b==18||b==1n)?8.10(z).1B.1c:b;8.10(z).1B[i]=2b 4A(d,e);5(f!=\'\')8.10(z).1B[i].1Q=f;4 g=M(i);5(g!=-1){4 h=G(8.10(z).1B[i],i,"","");$("#"+g.1a).1z(h)}1d{4 h=G(8.10(z).1B[i],i,"","");4 j=D("1f");$("#"+j).4B(h);K()}};1b.2m=6(i){8.10(z).2m(i);5((M(i))!=-1){$("#"+M(i).1a).2m();3s(i,\'d\')};5(8.10(z).1c==0){T("")}1d{4 a=M(8.10(z).1l).1z;T(a)};s.1v("1l",8.10(z).1l)};1b.1i=6(a,b){8.10(z).1i=a;4 c=D("1O");5(a==11){$("#"+c).19("2o",x.1i);s.20()}1d 5(a==14){$("#"+c).19("2o",1)};5(b!=11){s.1v("1i",a)}};1b.2P=6(){15(8.10(z).2P==18)?1n:8.10(z).2P};1b.2Q=6(){5(29.1c==1){15 8.10(z).2Q(29[0])}1d 5(29.1c==2){15 8.10(z).2Q(29[0],29[1])}1d{3z{3A:"4C 1g 4D 4E!"}}};1b.3C=6(a){15 8.10(z).3C(a)};1b.1r=6(a){5(a==18){15 s.28("1r")}1d{s.1v("1r",a)}};1b.1x=6(a){5(a==18){15 s.28("1x")}1d{s.1v("1x",a)}};1b.4F=6(a,b){s.1K[a]=b};1b.4G=6(a){2s(s.1K[a])(s)};4 3D=6(){s.1v("2R",$.1U.2R);s.1v("2S",$.1U.2S)};4 3E=6(){L();3q();3D();5(q.2t!=\'\'){2s(q.2t)(s)}};3E()};$.1U={2R:2.3,2S:"4H 4I",4J:6(a,b){15 $(a).1U(b).2N("1W")}};$.4K.2U({1U:6(b){15 1b.2H(6(){4 a=2b 2T(1b,b);$(1b).2N(\'1W\',a)})}})})(4L);',0,296,"||||var|if|function||document|selected|||||||||||||||||||||||||||||||||||||||||||||||||||||getElementById|true|attr||false|return|||undefined|css|id|this|length|else|bind|postChildID|index|break|disabled|height|style|selectedIndex|case|null|class|ddTitleText|mouseup|multiple|for|span|div|set|mouseover|size|text|html|position|options|trigger|addClass|bg|showIcon|useSprite|postTitleID|postTitleTextID|mouseout|onActions|unbind|removeClass|ddProp|postID|click|title|sDiv|display|oldIndex|msDropDown|zIndex|dd|keydown|value|preventDefault|close|px|parseInt||padding|background|find||get|arguments|visibleRows|new|keyboardAction|currentKey|postArrowID|focus|dblclick|mousedown|mousemove|option|enabled|top|remove|hide|opacity|stopPropagation|in|scrollTop|eval|onInit|insideWindow|postElementHolder|postAID|postOPTAID|ddTitle|arrow|ddChild|ddOutOfVision|blur|change|keyup|opt|_|each|block|relative|width|after|bi|data|fast|form|item|version|author|bh|extend|rowHeight|mainCSS|Object|postInputhidden|actions||children|className|img|src|align|absmiddle||||href|javascript|void|font|first|bottom|keyCode|visible|open|Math|switch|absolute|hasClass|left|repeat|backgroundPosition|bj|bk|bl|slideUp|none|onkeydown|onkeyup|onOpen|onClose|throw|message|show|namedItem|bm|bn|120|9999|_msddHolder|_msdd|_title|_titletext|_child|_msa|_msopta|postInputID|_msinput|_arrow|_inp|keypress|prop|tabindex|val|nodeName|OPTGROUP|opta|weight||bold|italic|clear|both|label|border|1px|solid|c3c3c3|toggleClass|min|max|refresh|split|mouseenter|0px|overflow|hidden|appendTo|image|no|2px|removeAttr|on|events|100|typeof|delete|slideDown|to|what|default|try|catch|add|Option|append|An|is|required|addMyEvent|fireEvent|Marghoob|Suleman|create|fn|jQuery".split("|"),0,{})),angular.module("timepickerPop",["ui.bootstrap"]).directive("timeFormat",function(s){return{restrict:"A",require:"ngModel",scope:{showMeridian:"="},link:function(r,n,t,a){var i=function(t){if(!t)return a.$setValidity("time",!0),null;if(angular.isDate(t)&&!isNaN(t))return a.$setValidity("time",!0),t;if(angular.isString(t)){var e=/^(0?[0-9]|1[0-2]):[0-5][0-9] ?[a|p]m$/i;if(r.showMeridian||(e=/^([01]?[0-9]|2[0-3]):[0-5][0-9]$/),e.test(t)){a.$setValidity("time",!0);var n=new Date,i=t.split(":"),o=i[1].match(/[a|p]m/i);return o&&(i[1]=i[1].replace(/[a|p]m/i,""),"pm"==o[0].toLowerCase()&&(i[0]=i[0]+12)),n.setHours(i[0],i[1]),n}a.$setValidity("time",!1)}else a.$setValidity("time",!1)};a.$parsers.push(i);var o=function(t){i(t);var e=r.showMeridian?"hh:mm a":"HH:mm";return s("date")(t,e)};a.$formatters.push(o),r.$watch("showMeridian",function(t){var e=a.$modelValue;e&&n.val(o(e))})}}}).directive("timepickerPop",function(i){return{restrict:"E",transclude:!1,scope:{inputTime:"=",showMeridian:"="},controller:function(t,e){t.isOpen=!1,t.toggle=function(){t.isOpen=!t.isOpen},t.open=function(){t.isOpen=!0}},link:function(e,n,t){e.$watch("inputTime",function(t){e.inputTime?n.removeClass("has-error"):n.addClass("has-error")}),n.bind("click",function(t){t.preventDefault(),t.stopPropagation()}),i.bind("click",function(t){e.$apply(function(){e.isOpen=!1})})},template:"<input type='text' class='form-control' ng-model='inputTime'  time-format show-meridian='showMeridian' ng-focus='open()' />  <div class='input-group-btn' ng-class='{open:isOpen}'>     <button type='button' class='btn btn-default ' ng-class=\"{'btn-primary':isOpen}\" data-toggle='dropdown' ng-click='toggle()'>         <i class='glyphicon glyphicon-time'></i></button>           <div class='dropdown-menu pull-right'>             <timepicker ng-model='inputTime' show-meridian='showMeridian'></timepicker>            </div>   </div>"}}),$(document).ready(function(){$("#myTable01").fixedHeaderTable({footer:!0,cloneHeadToFoot:!0,altClass:"odd",autoShow:!1}),$("#myTable01").fixedHeaderTable("show",1e3),$("#myTable02").fixedHeaderTable({footer:!0,altClass:"odd"}),$("#myTable05").fixedHeaderTable({altClass:"odd",footer:!0,fixedColumns:1}),$("#myTable03").fixedHeaderTable({altClass:"odd",footer:!0,fixedColumns:1}),$("#myTable04").fixedHeaderTable({altClass:"odd",footer:!0,cloneHeadToFoot:!0,fixedColumns:3})}),RGraph=window.RGraph||{isRGraph:!0},function(win,doc,undefined){var RG=RGraph,ua=navigator.userAgent,ma=Math;RG.Highlight={},RG.Registry={},RG.Registry.store=[],RG.Registry.store["chart.event.handlers"]=[],RG.Registry.store.__rgraph_event_listeners__=[],RG.Background={},RG.background={},RG.objects=[],RG.Resizing={},RG.events=[],RG.cursor=[],RG.Effects=RG.Effects||{},RG.cache=[],RG.ObjectRegistry={},RG.ObjectRegistry.objects={},RG.ObjectRegistry.objects.byUID=[],RG.ObjectRegistry.objects.byCanvasID=[],RG.PI=ma.PI,RG.HALFPI=RG.PI/2,RG.TWOPI=2*RG.PI,RG.ISFF=-1!=ua.indexOf("Firefox"),RG.ISOPERA=-1!=ua.indexOf("Opera"),RG.ISCHROME=-1!=ua.indexOf("Chrome"),RG.ISSAFARI=-1!=ua.indexOf("Safari")&&!RG.ISCHROME,RG.ISWEBKIT=-1!=ua.indexOf("WebKit"),RG.ISIE=0<ua.indexOf("Trident")||0<navigator.userAgent.indexOf("MSIE"),RG.ISIE6=0<ua.indexOf("MSIE 6"),RG.ISIE7=0<ua.indexOf("MSIE 7"),RG.ISIE8=0<ua.indexOf("MSIE 8"),RG.ISIE9=0<ua.indexOf("MSIE 9"),RG.ISIE10=0<ua.indexOf("MSIE 10"),RG.ISOLD=RGraph.ISIE6||RGraph.ISIE7||RGraph.ISIE8,RG.ISIE11UP=-1==ua.indexOf("MSIE")&&0<ua.indexOf("Trident"),RG.ISIE10UP=RG.ISIE10||RG.ISIE11UP,RG.ISIE9UP=RG.ISIE9||RG.ISIE10UP,RG.getScale=function(t,e){if(0==t)return["0.2","0.4","0.6","0.8","1.0"];var n=t;if(t<=1){if(.5<t)return[.2,.4,.6,.8,Number(1).toFixed(1)];if(.1<=t)return e.Get("chart.scale.round")?[.2,.4,.6,.8,1]:[.1,.2,.3,.4,.5];for(var i=t,o=0;i<1.01;)o+=1,i*=10;var r=["2e-"+o,"4e-"+o,"6e-"+o,"8e-"+o,"10e-"+o];return t<="5e-"+o&&(r=["1e-"+o,"2e-"+o,"3e-"+o,"4e-"+o,"5e-"+o]),r}0<String(t).indexOf(".")&&(t=String(t).replace(/\.\d+$/,""));for(var a=ma.pow(10,Number(String(Number(t)).length-1)),s=a;s<t;)s+=a/2;return Number(n)>Number(s)&&(s+=a/2),t<10&&(s=Number(n)<=5?5:10),e&&"boolean"==typeof e.Get("chart.scale.round")&&e.Get("chart.scale.round")&&(s=10*a),[.2*s,.4*s,.6*s,.8*s,s]},RG.getScale2=function(t,e){t.canvas,t.context;var n=t.properties,i="number"==typeof e["ylabels.count"]?e["ylabels.count"]:5,o="string"==typeof e["units.pre"]?e["units.pre"]:"",r="string"==typeof e["units.post"]?e["units.post"]:"",a=Number(e.max),s="number"==typeof e.min?e.min:0,l=e.strict,u=Number(e["scale.decimals"]),c=e["scale.point"],p=e["scale.thousand"],h=a,d=e["scale.round"],f={max:1,labels:[],values:[]};if(a)if(a<=1&&!l)if(.5<a){a=1,s=s,f.min=s;for(x=0;x<i;++x){$=((a-s)/i*(x+1)+s).toFixed(u);f.labels.push(o+$+r),f.values.push(parseFloat($))}}else if(.1<=a){a=.5,s=s;for(x=0;x<i;++x){$=(((a-s)/i+s)*(x+1)).toFixed(u);f.labels.push(o+$+r),f.values.push(parseFloat($))}}else{var g=String(a);if(0<g.indexOf("e"))var m=ma.abs(g.substring(g.indexOf("e")+1));else m=String(a).length-2;for(a=1/ma.pow(10,m-1),x=0;x<i;++x){($=($=($=((a-s)/i+s)*(x+1)).toExponential()).split(/e/))[0]=ma.round($[0]),$=$.join("e"),f.labels.push($),f.values.push(parseFloat($))}tmp=f.labels[f.labels.length-1].split(/e/),tmp[0]+=0,tmp[1]=Number(tmp[1])-1,tmp=tmp[0]+"e"+tmp[1],f.labels[f.labels.length-1]=tmp,f.values[f.values.length-1]=tmp;for(x=0;x<f.labels.length;++x)f.labels[x]=o+f.labels[x]+r;f.max=Number(a)}else if(l){if("number"==typeof a&&l){for(x=0;x<i;++x)f.labels.push(RG.numberFormat(t,((x+1)/i*(a-s)+s).toFixed(u),o,r)),f.values.push(((x+1)/i*(a-s)+s).toFixed(u));f.max=a}}else{a=ma.ceil(a);for(var v=ma.pow(10,ma.max(1,Number(String(Number(a)-Number(s)).length-1))),y=v;y<a;)y+=v/2;Number(h)>Number(y)&&(y+=v/2),a<=10&&(y=Number(h)<=5?5:10),t&&"boolean"==typeof d&&d&&(y=10*v),f.max=y;var b=n["chart.scale.point"],w=n["chart.scale.thousand"];t.Set("chart.scale.thousand",p),t.Set("chart.scale.point",c);for(var x=0;x<i;++x)f.labels.push(RG.number_format(t,((x+1)/i*(y-s)+s).toFixed(u),o,r)),f.values.push(((x+1)/i*(y-s)+s).toFixed(u));t.Set("chart.scale.thousand",w),t.Set("chart.scale.point",b)}else for(var a=1,x=0;x<i;++x){var $=(((a-s)/i+s)*(x+1)).toFixed(u);f.labels.push(o+$+r),f.values.push(parseFloat($))}f.units_pre=o,f.units_post=r,f.point=c,f.decimals=u,f.thousand=p,f.numlabels=i,f.round=Boolean(d),f.min=s;for(x=0;x<f.values.length;++x)f.values[x]=parseFloat(f.values[x]);return f},RG.arrayTrim=function(t){for(var e=[],n=!1,i=0;i<t.length;i++)t[i]&&(n=!0),n&&e.push(t[i]);e=RG.arrayReverse(e);var o=[];for(n=!1,i=0;i<e.length;i++)e[i]&&(n=!0),n&&o.push(e[i]);return o=RG.arrayReverse(o)},RG.arrayClone=RG.array_clone=function(t){if(null===t||"object"!=typeof t)return t;for(var e,n,i=[],o=0,r=t.length;o<r;++o)"number"==typeof t[o]?i[o]=(n=t[o],Number(n)):"string"==typeof t[o]?i[o]=(e=t[o],String(e)):"function"==typeof t[o]?i[o]=t[o]:i[o]=RG.arrayClone(t[o]);return i},RG.arrayMax=RG.array_max=function(t){var e=null,n=Math;if("number"==typeof t)return t;if(RG.isNull(t))return 0;for(var i=0,o=t.length;i<o;++i)if("number"==typeof t[i]){var r=arguments[1]?n.abs(t[i]):t[i];e="number"==typeof e?n.max(e,r):r}return e},RG.arrayMin=function(t){var e=null,n=Math;if("number"==typeof t)return t;if(RG.isNull(t))return 0;for(var i=0,o=t.length;i<o;++i)if("number"==typeof t[i]){var r=arguments[1]?n.abs(t[i]):t[i];e="number"==typeof e?n.min(e,r):r}return e},RG.arrayPad=RG.array_pad=function(t,e){if(t.length<e)for(var n=arguments[2]?arguments[2]:null,i=t.length;i<e;i+=1)t[i]=n;return t},RG.arraySum=RG.array_sum=function(t){if("number"==typeof t)return t;if(RG.is_null(t))return 0;var e,n,i=t.length;for(n=e=0;e<i;n+=t[e++]);return n},RG.arrayLinearize=RG.array_linearize=function(){for(var t=[],e=arguments,n=0,i=e.length;n<i;++n)if("object"==typeof e[n]&&e[n])for(var o=0,r=e[n].length;o<r;++o)for(var a=RG.array_linearize(e[n][o]),s=0,l=a.length;s<l;++s)t.push(a[s]);else t.push(e[n]);return t},RG.arrayShift=RG.array_shift=function(t){for(var e=[],n=1,i=t.length;n<i;++n)e.push(t[n]);return e},RG.arrayReverse=RG.array_reverse=function(t){if(t){for(var e=[],n=t.length-1;0<=n;n-=1)e.push(t[n]);return e}},RG.abs=function(t){if("string"==typeof t&&(t=parseFloat(t)||0),"number"==typeof t)return ma.abs(t);if("object"!=typeof t)return 0;for(i in t)"string"!=typeof i&&"number"!=typeof i&&"object"!=typeof i||(t[i]=RG.abs(t[i]));return t},RG.clear=RG.Clear=function(t){var e=t.__object__,n=t.getContext("2d"),i=arguments[1]||e&&e.get("clearto");if(t){if(RG.fireCustomEvent(e,"onbeforeclear"),RG.text2.domNodeCache&&RG.text2.domNodeCache[t.id])for(var o in RG.text2.domNodeCache[t.id]){var r=RG.text2.domNodeCache[t.id][o];r&&r.style&&(r.style.display="none")}if(!i||i&&"rgba(0,0,0,0)"===i||"transparent"===i?(n.clearRect(-100,-100,t.width+200,t.height+200),n.globalCompositeOperation="source-over"):i?RG.path2(n,"fs % fr -100 -100 % %",i,t.width+200,t.height+200):RG.path2(n,"fs % fr -100 -100 % %",e.get("clearto"),t.width+200,t.height+200),RG.Registry.Get("chart.background.image."+t.id)){var a=RG.Registry.Get("chart.background.image."+t.id);a.style.position="absolute",a.style.left="-10000px",a.style.top="-10000px"}RG.Registry.Get("chart.tooltip")&&e&&!e.get("chart.tooltips.nohideonclear")&&RG.HideTooltip(t),t.style.cursor="default",RG.FireCustomEvent(e,"onclear")}},RG.drawTitle=RG.DrawTitle=function(t,e,n){var i=canvas=t.canvas,o=context=t.context,r=t.properties;if(gutterLeft=r["chart.gutter.left"],gutterRight=r["chart.gutter.right"],n=n,gutterBottom=r["chart.gutter.bottom"],size=arguments[4]?arguments[4]:12,bold=r["chart.title.bold"],italic=r["chart.title.italic"],centerx=arguments[3]?arguments[3]:(i.width-gutterLeft-gutterRight)/2+gutterLeft,keypos=r["chart.key.position"],vpos=r["chart.title.vpos"],hpos=r["chart.title.hpos"],bgcolor=r["chart.title.background"],x=r["chart.title.x"],y=r["chart.title.y"],a=halign="center","bar"==t.type&&"3d"==r["chart.variant"]&&(keypos="gutter"),o.beginPath(),o.fillStyle=r["chart.text.color"]?r["chart.text.color"]:"black",keypos&&"gutter"!=keypos)var a="center";else if(keypos)a="bottom";else var a="center";if("number"==typeof r["chart.title.vpos"]?(vpos=r["chart.title.vpos"]*n,"top"===r["chart.xaxispos"]&&(vpos=r["chart.title.vpos"]*gutterBottom+n+(i.height-n-gutterBottom))):(vpos=n-size-5,"top"===r["chart.xaxispos"]&&(vpos=i.height-gutterBottom+size+5)),"number"==typeof hpos&&(centerx=hpos*i.width),"number"==typeof x&&(centerx=x),"number"==typeof y&&(vpos=y),"string"==typeof r["chart.title.halign"]&&(halign=r["chart.title.halign"]),"string"==typeof r["chart.title.valign"]&&(a=r["chart.title.valign"]),null!==typeof r["chart.title.color"]){var s=o.fillStyle,l=r["chart.title.color"];o.fillStyle=l||"black"}var u=r["chart.text.font"];"string"==typeof r["chart.title.font"]&&(u=r["chart.title.font"]),RG.text2(o,{font:u,size:size,x:centerx,y:vpos,text:e,valign:a,halign:halign,bounding:null!=bgcolor,"bounding.fill":bgcolor,bold:bold,italic:italic,tag:"title",marker:!1}),o.fillStyle=s},RG.getMouseXY=function(t){if(t.target){var e,n,i=t.target,o=i,r=o.style,a=0,s=0,l="fixed"==o.style.position,u=parseInt(r.borderLeftWidth)||0,c=parseInt(r.borderTopWidth)||0,p=parseInt(r.paddingLeft)||0,h=parseInt(r.paddingTop)||0,d=u+p,f=c+h;if("number"==typeof t.offsetX&&"number"==typeof t.offsetY)n=l?RG.ISOPERA?(e=t.offsetX,t.offsetY):RG.ISWEBKIT?(e=t.offsetX-p-u,t.offsetY-h-c):RG.ISIE?(e=t.offsetX-p,t.offsetY-h):(e=t.offsetX,t.offsetY):RG.ISIE||RG.ISOPERA?RG.ISIE?(e=t.offsetX-p,t.offsetY-h):(e=t.offsetX,t.offsetY):(e=t.offsetX-u-p,t.offsetY-c-h);else{if(void 0!==i.offsetParent)for(;a+=i.offsetLeft,s+=i.offsetTop,i=i.offsetParent;);e=t.pageX-a-d,n=t.pageY-s-f,e-=2*(parseInt(document.body.style.borderLeftWidth)||0),n-=2*(parseInt(document.body.style.borderTopWidth)||0)}return[e,n]}},RG.getCanvasXY=function(t){for(var e=0,n=0,i=t;e+=i.offsetLeft,n+=i.offsetTop,"table"==i.tagName.toLowerCase()&&(RG.ISCHROME||RG.ISSAFARI)&&(e+=parseInt(i.border)||0,n+=parseInt(i.border)||0),(i=i.offsetParent)&&"body"!=i.tagName.toLowerCase(););var o=t.style.paddingLeft?parseInt(t.style.paddingLeft):0,r=t.style.paddingTop?parseInt(t.style.paddingTop):0,a=t.style.borderLeftWidth?parseInt(t.style.borderLeftWidth):0,s=t.style.borderTopWidth?parseInt(t.style.borderTopWidth):0;return 0<navigator.userAgent.indexOf("Firefox")&&(e+=parseInt(document.body.style.borderLeftWidth)||0,n+=parseInt(document.body.style.borderTopWidth)||0),[e+o+a,n+r+s]},RG.isFixed=function(t){for(var e=t;e&&"body"!=e.tagName.toLowerCase();){if("fixed"==e.style.position)return e;e=e.offsetParent}return!1},RG.register=RG.Register=function(t){t.Get("chart.noregister")||(RGraph.ObjectRegistry.Add(t),t.Set("chart.noregister",!0))},RG.redraw=RG.Redraw=function(){for(var t=RGraph.ObjectRegistry.objects.byCanvasID,e=document.getElementsByTagName("canvas"),n=0,i=e.length;n<i;++n)e[n].__object__&&e[n].__object__.isRGraph&&(e[n].noclear||RGraph.clear(e[n],arguments[0]?arguments[0]:null));for(n=0,i=t.length;n<i;++n)if(t[n]){t[n][0];t[n][1].Draw()}},RG.redrawCanvas=RG.RedrawCanvas=function(t){var e=RG.ObjectRegistry.getObjectsByCanvasID(t.id);if(!arguments[1]||"boolean"==typeof arguments[1]&&0==!arguments[1]){var n=arguments[2]||t.__object__.get("clearto")||"transparent";RG.clear(t,n)}for(var i=0,o=e.length;i<o;++i)e[i]&&e[i]&&e[i].isRGraph&&e[i].Draw()},RG.Background.draw=RG.background.draw=RG.background.Draw=function(t){var s=t.canvas,l=t.context,u=t.properties,c=0,p=t.gutterLeft,h=t.gutterRight,d=t.gutterTop,f=t.gutterBottom,e=u["chart.variant"];if(l.fillStyle=u["chart.text.color"],"3d"==e&&(l.save(),l.translate(u["chart.variant.threed.offsetx"],-1*u["chart.variant.threed.offsety"])),"string"==typeof u["chart.title.xaxis"]&&u["chart.title.xaxis"].length){var n=u["chart.text.size"]+2,i=u["chart.text.font"],o=u["chart.title.xaxis.bold"];"number"==typeof u["chart.title.xaxis.size"]&&(n=u["chart.title.xaxis.size"]),"string"==typeof u["chart.title.xaxis.font"]&&(i=u["chart.title.xaxis.font"]);var r=(s.width-p-h)/2+p,a=s.height-f+25;"number"==typeof u["chart.title.xaxis.pos"]&&(a=s.height-f*u["chart.title.xaxis.pos"]),"number"==typeof u["chart.title.xaxis.x"]&&(r=u["chart.title.xaxis.x"]),"number"==typeof u["chart.title.xaxis.y"]&&(a=u["chart.title.xaxis.y"]),RG.text2(u["chart.text.accessible"]?t.context:l,{font:i,size:n,x:r,y:a,text:u["chart.title.xaxis"],halign:"center",valign:"center",bold:o,tag:"title xaxis"})}if("string"==typeof u["chart.title.yaxis"]&&u["chart.title.yaxis"].length){n=u["chart.text.size"]+2,i=u["chart.text.font"];var g=270,m=(o=u["chart.title.yaxis.bold"],u["chart.title.yaxis.color"]);if("number"==typeof u["chart.title.yaxis.pos"])var v=u["chart.title.yaxis.pos"]*p;else v=(p-25)/p*p;"number"==typeof u["chart.title.yaxis.size"]&&(n=u["chart.title.yaxis.size"]),"string"==typeof u["chart.title.yaxis.font"]&&(i=u["chart.title.yaxis.font"]),v="right"==u["chart.title.yaxis.align"]||"right"==u["chart.title.yaxis.position"]||"hbar"===t.type&&"right"===u["chart.yaxispos"]&&void 0===u["chart.title.yaxis.align"]&&void 0===u["chart.title.yaxis.position"]?(g=90,u["chart.title.yaxis.pos"]?s.width-h+u["chart.title.yaxis.pos"]*h:s.width-h+u["chart.text.size"]+5):v;var y=(s.height-d-f)/2+d;"number"==typeof u["chart.title.yaxis.x"]&&(v=u["chart.title.yaxis.x"]),"number"==typeof u["chart.title.yaxis.y"]&&(y=u["chart.title.yaxis.y"]),l.fillStyle=m,RG.text2(u["chart.text.accessible"]?t.context:l,{font:i,size:n,x:v,y:y,valign:"center",halign:"center",angle:g,bold:o,text:u["chart.title.yaxis"],tag:"title yaxis",accessible:!1})}var b=u["chart.background.color"];b&&(l.fillStyle=b,l.fillRect(p+.5,d+.5,s.width-p-h,s.height-d-f));var w=u["chart.ylabels.count"]||5,$=(s.height-f-d)/w;l.beginPath(),l.fillStyle=u["chart.background.barcolor1"],l.strokeStyle=l.fillStyle,c=s.height-f;for(var _=0;_<w;_+=2)l.rect(p,_*$+d,s.width-p-h,$);l.fill(),l.beginPath(),l.fillStyle=u["chart.background.barcolor2"],l.strokeStyle=l.fillStyle;for(_=1;_<w;_+=2)l.rect(p,_*$+d,s.width-p-h,$);l.fill(),l.beginPath();if(RG.cachedDraw(t,t.uid+"_background",function(t,e,n){if(u["chart.background.grid"]){if(u["chart.background.grid.autofit.numhlines"]+=1e-4,u["chart.background.grid.autofit"]){if(u["chart.background.grid.autofit.align"])if("hbar"===t.type&&t.set("chart.background.grid.autofit.numhlines",t.data.length),"line"===t.type)"number"==typeof u["chart.background.grid.autofit.numvlines"]||(u["chart.labels"]&&u["chart.labels"].length?t.Set("chart.background.grid.autofit.numvlines",u["chart.labels"].length-1):t.Set("chart.background.grid.autofit.numvlines",t.data[0].length-1));else if("waterfall"===t.type)t.set("backgroundGridAutofitNumvlines",t.data.length+(u["chart.total"]?1:0));else if("bar"!==t.type&&"scatter"!==t.type||!(u["chart.labels"]&&u["chart.labels"].length||"bar"===t.type))"gantt"===t.type?("number"==typeof t.get("chart.background.grid.autofit.numvlines")||t.set("chart.background.grid.autofit.numvlines",u["chart.xmax"]),t.set("chart.background.grid.autofit.numhlines",t.data.length)):"hbar"===t.type&&RG.isNull(u["chart.background.grid.autofit.numhlines"])&&t.set("chart.background.grid.autofit.numhlines",t.data.length);else{var i=u["chart.labels"]&&u["chart.labels"].length||t.data.length;t.set({backgroundGridAutofitNumvlines:i})}var o=(e.width-p-h)/u["chart.background.grid.autofit.numvlines"],r=(e.height-d-f)/u["chart.background.grid.autofit.numhlines"];t.Set("chart.background.grid.vsize",o),t.Set("chart.background.grid.hsize",r)}if(l.beginPath(),n.lineWidth=u["chart.background.grid.width"]?u["chart.background.grid.width"]:1,n.strokeStyle=u["chart.background.grid.color"],u["chart.background.grid.dashed"]&&"function"==typeof n.setLineDash&&n.setLineDash([3,5]),u["chart.background.grid.dotted"]&&"function"==typeof n.setLineDash&&n.setLineDash([1,3]),l.beginPath(),u["chart.background.grid.hlines"])for(c=e.height-f,r=u["chart.background.grid.hsize"],y=d;y<=c;y+=r)n.moveTo(p,ma.round(y)),n.lineTo(s.width-h,ma.round(y));if(u["chart.background.grid.vlines"]){var a=e.width-h;for(o=u["chart.background.grid.vsize"],x=p;x<=a;x+=o)n.moveTo(ma.round(x),d),n.lineTo(ma.round(x),s.height-f)}u["chart.background.grid.border"]&&(n.strokeStyle=u["chart.background.grid.color"],n.strokeRect(ma.round(p),ma.round(d),s.width-p-h,s.height-d-f))}n.stroke(),n.beginPath(),n.closePath()}),"3d"==e&&l.restore(),"function"==typeof l.setLineDash&&l.setLineDash([1,0]),l.stroke(),"string"==typeof t.properties["chart.title"]){u=t.properties;RG.drawTitle(t,u["chart.title"],t.gutterTop,null,u["chart.title.size"]?u["chart.title.size"]:u["chart.text.size"]+2,t)}},RG.numberFormat=RG.number_format=function(t,e){t.canvas,t.context;var n,i,o=t.properties,r=arguments[2]?String(arguments[2]):"",a=arguments[3]?String(arguments[3]):"",s="",l="",u="string"==typeof o["chart.scale.point"]?o["chart.scale.point"]:".",c="string"==typeof o["chart.scale.thousand"]?o["chart.scale.thousand"]:",";if(RegExp.$1="","function"==typeof o["chart.scale.formatter"])return o["chart.scale.formatter"](t,e);if(0<String(e).indexOf("e"))return String(r+String(e)+a);if(0<(e=String(e)).indexOf(".")){var p=e;e=e.replace(/\.(.*)/,""),l=p.replace(/(.*)\.(.*)/,"$2")}var h=c;for(n=e.length-1,i=0;0<=n;i++,n--){i%3==0&&0!=i&&(s+=h),s+=e.charAt(n)}var d=s;for(s="",n=d.length-1;0<=n;n--)s+=d.charAt(n);return 0==s.indexOf("-"+o["chart.scale.thousand"])&&(s="-"+s.substr(("-"+o["chart.scale.thousand"]).length)),l.length&&(s=s+u+l,l="",RegExp.$1=""),"-"==s.charAt(0)&&(s=s.replace(/-/,""),r="-"+r),r+s+a},RG.drawBars=RG.DrawBars=function(t){var e=t.properties,n=t.context,o=t.canvas,r=e["chart.background.hbars"];if(null!==r)for(n.beginPath(),i=0,len=r.length;i<len;++i){var a=r[i][0],s=r[i][1],l=r[i][2];RG.is_null(a)&&(a=t.scale2.max),a>t.scale2.max&&(a=t.scale2.max),RG.is_null(s)&&(s=t.scale2.max-a),a+s>t.scale2.max&&(s=t.scale2.max-a),a+s<-1*t.scale2.max&&(s=-1*t.scale2.max-a),"center"==e["chart.xaxispos"]&&a==t.scale2.max&&s<-2*t.scale2.max&&(s=-2*t.scale2.max);var u=e["chart.gutter.left"],c=t.getYCoord(a),p=o.width-e["chart.gutter.left"]-e["chart.gutter.right"],h=t.getYCoord(a+s)-c;-1!=RG.ISOPERA&&"center"==e["chart.xaxispos"]&&h<0&&(c-=h*=-1),"top"==e["chart.xaxispos"]&&(c=o.height-c,h*=-1),n.fillStyle=l,n.fillRect(u,c,p,h)}},RG.drawInGraphLabels=RG.DrawInGraphLabels=function(t){t.canvas;var e=t.context,n=t.properties,i=n["chart.labels.ingraph"],o=[];if(i){for(var r=0,a=i.length;r<a;r+=1)if("number"==typeof i[r])for(var s=0;s<i[r];++s)o.push(null);else"string"==typeof i[r]||"object"==typeof i[r]?o.push(i[r]):o.push("");if(RG.noShadow(t),o&&0<o.length)for(r=0,a=o.length;r<a;r+=1)if(o[r]){var l=t.coords[r];if(l&&0<l.length){var u="bar"==t.type?l[0]+l[2]/2:l[0],c="bar"==t.type?l[1]+l[3]/2:l[1],p="number"==typeof o[r][4]?o[r][4]:25;if(e.beginPath(),e.fillStyle="black",e.strokeStyle="black","bar"===t.type){if("top"==t.Get("chart.xaxispos")&&(p*=-1),"dot"==n["chart.variant"]){e.moveTo(ma.round(u),t.coords[r][1]-5),e.lineTo(ma.round(u),t.coords[r][1]-5-p);var h=ma.round(u),d=t.coords[r][1]-5-p}else if("arrow"==n["chart.variant"]){e.moveTo(ma.round(u),t.coords[r][1]-5),e.lineTo(ma.round(u),t.coords[r][1]-5-p);h=ma.round(u),d=t.coords[r][1]-5-p}else{e.arc(ma.round(u),c,2.5,0,6.28,0),e.moveTo(ma.round(u),c),e.lineTo(ma.round(u),c-p);h=ma.round(u),d=c-p}e.stroke(),e.fill()}else{if("object"==typeof o[r]&&"number"==typeof o[r][3]&&-1==o[r][3]){e.moveTo(ma.round(u),c+5),e.lineTo(ma.round(u),c+5+p),e.stroke(),e.beginPath(),e.moveTo(ma.round(u),c+5),e.lineTo(ma.round(u)-3,c+10),e.lineTo(ma.round(u)+3,c+10),e.closePath();h=u,d=c+5+p}else{h=u,d=c-5-p;e.moveTo(ma.round(u),c-5),e.lineTo(ma.round(u),c-5-p),e.stroke(),e.beginPath(),e.moveTo(ma.round(u),c-5),e.lineTo(ma.round(u)-3,c-10),e.lineTo(ma.round(u)+3,c-10),e.closePath()}e.fill()}e.beginPath(),e.fillStyle="object"==typeof o[r]&&"string"==typeof o[r][1]?o[r][1]:"black",RG.text2(t,{font:n["chart.text.font"],size:n["chart.text.size"],x:h,y:d+(t.properties["chart.text.accessible"]?2:0),text:"object"==typeof o[r]&&"string"==typeof o[r][0]?o[r][0]:o[r],valign:"bottom",halign:"center",bounding:!0,"bounding.fill":"object"==typeof o[r]&&"string"==typeof o[r][2]?o[r][2]:"white",tag:"labels ingraph"}),e.fill()}}}},RG.fixEventObject=RG.FixEventObject=function(t){RG.ISOLD&&((t=event).pageX=event.clientX+doc.body.scrollLeft,t.pageY=event.clientY+doc.body.scrollTop,t.target=event.srcElement,!doc.body.scrollTop&&doc.documentElement.scrollTop&&(t.pageX+=parseInt(doc.documentElement.scrollLeft),t.pageY+=parseInt(doc.documentElement.scrollTop)));return t.stopPropagation||(t.stopPropagation=function(){window.event.cancelBubble=!0}),t},RG.hideCrosshairCoords=RG.HideCrosshairCoords=function(){var t=RG.Registry.Get("chart.coordinates.coords.div");if(t&&1==t.style.opacity&&t.__object__.Get("chart.crosshairs.coords.fadeout")){var e=RG.Registry.Get("chart.coordinates.coords.div").style;setTimeout(function(){e.opacity=.9},25),setTimeout(function(){e.opacity=.8},50),setTimeout(function(){e.opacity=.7},75),setTimeout(function(){e.opacity=.6},100),setTimeout(function(){e.opacity=.5},125),setTimeout(function(){e.opacity=.4},150),setTimeout(function(){e.opacity=.3},175),setTimeout(function(){e.opacity=.2},200),setTimeout(function(){e.opacity=.1},225),setTimeout(function(){e.opacity=0},250),setTimeout(function(){e.display="none"},275)}},RG.draw3DAxes=RG.Draw3DAxes=function(t){var e=t.properties,n=t.context,i=t.canvas,o=t.gutterLeft,r=t.gutterRight,a=t.gutterTop,s=t.gutterBottom,l=e["chart.xaxispos"],u=(i.height-a-s)/2,c=e["chart.variant.threed.offsetx"],p=e["chart.variant.threed.offsety"],h=e["chart.variant.threed.xaxis"];if(e["chart.variant.threed.yaxis"]&&RG.draw3DYAxis(t),h)if("center"===l)RG.path2(n,"b m % % l % % l % % l % % c s #aaa f #ddd",o,a+u,o+c,a+u-p,i.width-r+c,a+u-p,i.width-r,a+u);else{if("hbar"===t.type)var d=t.canvas.height-t.properties["chart.gutter.bottom"];else d=t.getYCoord(0);RG.path2(n,"m % % l % % l % % l % % c s #aaa f #ddd",o,d,o+c,d-p,i.width-r+c,d-p,i.width-r,d)}},RG.draw3DYAxis=function(t){var e=t.properties,n=t.context,i=t.canvas,o=t.gutterLeft,r=t.gutterRight,a=t.gutterTop,s=t.gutterBottom,l=(e["chart.xaxispos"],i.height,e["chart.variant.threed.offsetx"]),u=e["chart.variant.threed.offsety"];if("hbar"!==t.type&&"bar"!==t.type||"center"!==e["chart.yaxispos"])if("hbar"!==t.type&&"bar"!==t.type||"right"!==e["chart.yaxispos"])c=o;else var c=i.width-r;else var c=(i.width-o-r)/2+o;RG.path2(n,"b m % % l % % l % % l % % s #aaa f #ddd",c,a,c+l,a-u,c+l,i.height-s-u,c,i.height-s)},RG.strokedCurvyRect=function(t,e,n,i,o){var r=arguments[5]?arguments[5]:3,a=!(!arguments[6]&&null!=arguments[6]),s=!(!arguments[7]&&null!=arguments[7]),l=!(!arguments[8]&&null!=arguments[8]),u=!(!arguments[9]&&null!=arguments[9]);t.beginPath(),t.moveTo(e+(a?r:0),n),t.lineTo(e+i-(s?r:0),n),s&&t.arc(e+i-r,n+r,r,RG.PI+RG.HALFPI,RG.TWOPI,!1),t.lineTo(e+i,n+o-(l?r:0)),l&&t.arc(e+i-r,n-r+o,r,RG.TWOPI,RG.HALFPI,!1),t.lineTo(e+(u?r:0),n+o),u&&t.arc(e+r,n-r+o,r,RG.HALFPI,RG.PI,!1),t.lineTo(e,n+(a?r:0)),a&&t.arc(e+r,n+r,r,RG.PI,RG.PI+RG.HALFPI,!1),t.stroke()},RG.filledCurvyRect=function(t,e,n,i,o){var r=arguments[5]?arguments[5]:3,a=!(!arguments[6]&&null!=arguments[6]),s=!(!arguments[7]&&null!=arguments[7]),l=!(!arguments[8]&&null!=arguments[8]),u=!(!arguments[9]&&null!=arguments[9]);t.beginPath(),a?(t.moveTo(e+r,n+r),t.arc(e+r,n+r,r,RG.PI,RG.PI+RG.HALFPI,!1)):t.fillRect(e,n,r,r),s?(t.moveTo(e+i-r,n+r),t.arc(e+i-r,n+r,r,RG.PI+RG.HALFPI,0,!1)):(t.moveTo(e+i-r,n),t.fillRect(e+i-r,n,r,r)),l?(t.moveTo(e+i-r,n+o-r),t.arc(e+i-r,n-r+o,r,0,RG.HALFPI,!1)):(t.moveTo(e+i-r,n+o-r),t.fillRect(e+i-r,n+o-r,r,r)),u?(t.moveTo(e+r,n+o-r),t.arc(e+r,n-r+o,r,RG.HALFPI,RG.PI,!1)):(t.moveTo(e,n+o-r),t.fillRect(e,n+o-r,r,r)),t.fillRect(e+r,n,i-r-r,o),t.fillRect(e,n+r,r+1,o-r-r),t.fillRect(e+i-r-1,n+r,r+1,o-r-r),t.fill()},RG.hideZoomedCanvas=RG.HideZoomedCanvas=function(){if("object"==typeof RG.zoom_image){var t=RG.zoom_image.obj.properties;if(t["chart.zoom.fade.out"]){for(var e=15,n=1;0<=e;--e,++n)"object"==typeof RG.zoom_image&&setTimeout("RGraph.zoom_image.style.opacity = "+String(e/10),10*n);"object"==typeof RG.zoom_background&&setTimeout("RGraph.zoom_background.style.opacity = "+String(e/15),10*n)}"object"==typeof RG.zoom_image&&setTimeout("RGraph.zoom_image.style.display = 'none'",t["chart.zoom.fade.out"]?160:0),"object"==typeof RG.zoom_background&&setTimeout("RGraph.zoom_background.style.display = 'none'",t["chart.zoom.fade.out"]?160:0)}},RG.addCustomEventListener=RG.AddCustomEventListener=function(t,e,n){var i=RGraph;return void 0===i.events[t.uid]&&(i.events[t.uid]=[]),i.events[t.uid].push([t,e,n]),i.events[t.uid].length-1},RG.fireCustomEvent=RG.FireCustomEvent=function(t,e){if(t&&t.isRGraph){t[e]&&t[e](t);var n=t.uid;if("string"==typeof n&&"object"==typeof RG.events&&"object"==typeof RG.events[n]&&0<RG.events[n].length)for(var i=0;i<RG.events[n].length;++i)RG.events[n][i]&&RG.events[n][i][1]==e&&RG.events[n][i][2](t)}},RGraph.removeAllCustomEventListeners=RGraph.RemoveAllCustomEventListeners=function(){var t=arguments[0];t&&RG.events[t]?RG.events[t]=[]:RG.events=[]},RG.removeCustomEventListener=RG.RemoveCustomEventListener=function(t,e){"object"==typeof RG.events&&"object"==typeof RG.events[t.id]&&"object"==typeof RG.events[t.id][e]&&(RG.events[t.id][e]=null)},RG.drawBackgroundImage=RG.DrawBackgroundImage=function(t){var e=t.properties,n=t.canvas,i=t.context;if("string"==typeof e["chart.background.image"]){if(void 0===n.__rgraph_background_image__){var o=new Image;o.__object__=t,o.__canvas__=n,o.__context__=i,o.src=t.Get("chart.background.image"),n.__rgraph_background_image__=o}else o=n.__rgraph_background_image__;o.onload=function(){t.__rgraph_background_image_loaded__=!0,RG.clear(n),RG.redrawCanvas(n)};var r=t.gutterLeft,a=t.gutterRight,s=t.gutterTop,l=t.gutterBottom,u=e["chart.background.image.stretch"],c=e["chart.background.image.align"];if("string"==typeof c){if(-1!=c.indexOf("right"))var p=n.width-(e["chart.background.image.w"]||o.width)-a;else p=r;if(-1!=c.indexOf("bottom"))var h=n.height-(e["chart.background.image.h"]||o.height)-l;else h=s}else p=r||25,h=s||25;p="number"==typeof e["chart.background.image.x"]?e["chart.background.image.x"]:p,h="number"==typeof e["chart.background.image.y"]?e["chart.background.image.y"]:h;var d=u?n.width-r-a:o.width,f=u?n.height-s-l:o.height;"number"==typeof e["chart.background.image.w"]&&(d=e["chart.background.image.w"]),"number"==typeof e["chart.background.image.h"]&&(f=e["chart.background.image.h"]);var g=i.globalAlpha;i.globalAlpha=e["chart.background.image.alpha"],i.drawImage(o,p,h,d,f),i.globalAlpha=g}},RG.hasTooltips=function(t){var e=t.properties;if("object"==typeof e["chart.tooltips"]&&e["chart.tooltips"]){for(var n=0,i=e["chart.tooltips"].length;n<i;++n)if(!RG.is_null(t.Get("chart.tooltips")[n]))return!0}else if("function"==typeof e["chart.tooltips"])return!0;return!1},RG.createUID=RG.CreateUID=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var e=16*ma.random()|0;return("x"==t?e:3&e|8).toString(16)})},RG.ObjectRegistry.add=RG.ObjectRegistry.Add=function(t){var e=t.uid,n=t.canvas.id;RG.ObjectRegistry.objects.byUID.push([e,t]),RG.ObjectRegistry.objects.byCanvasID.push([n,t])},RG.ObjectRegistry.remove=RG.ObjectRegistry.Remove=function(t){t.id;for(var e=t.uid,n=0;n<RG.ObjectRegistry.objects.byUID.length;++n)RG.ObjectRegistry.objects.byUID[n]&&RG.ObjectRegistry.objects.byUID[n][1].uid==e&&(RG.ObjectRegistry.objects.byUID[n]=null);for(n=0;n<RG.ObjectRegistry.objects.byCanvasID.length;++n)RG.ObjectRegistry.objects.byCanvasID[n]&&RG.ObjectRegistry.objects.byCanvasID[n][1]&&RG.ObjectRegistry.objects.byCanvasID[n][1].uid==e&&(RG.ObjectRegistry.objects.byCanvasID[n]=null)},RG.ObjectRegistry.clear=RG.ObjectRegistry.Clear=function(){if(arguments[0])for(var t="object"==typeof arguments[0]?arguments[0].id:arguments[0],e=RG.ObjectRegistry.getObjectsByCanvasID(t),n=0,i=e.length;n<i;++n)RG.ObjectRegistry.remove(e[n]);else RG.ObjectRegistry.objects={},RG.ObjectRegistry.objects.byUID=[],RG.ObjectRegistry.objects.byCanvasID=[]},RGraph.ObjectRegistry.list=RGraph.ObjectRegistry.List=function(){for(var t=[],e=0,n=RG.ObjectRegistry.objects.byUID.length;e<n;++e)RG.ObjectRegistry.objects.byUID[e]&&t.push(RG.ObjectRegistry.objects.byUID[e][1].type);if(arguments[0])return t;p(t)},RG.ObjectRegistry.clearByType=RG.ObjectRegistry.ClearByType=function(t){for(var e=RG.ObjectRegistry.objects.byUID,n=0,i=e.length;n<i;++n)if(e[n]){e[n][0];var o=e[n][1];o&&o.type==t&&RG.ObjectRegistry.remove(o)}},RG.ObjectRegistry.iterate=RG.ObjectRegistry.Iterate=function(t){for(var e=RGraph.ObjectRegistry.objects.byUID,n=0,i=e.length;n<i;++n)if("string"==typeof arguments[1])for(var o=arguments[1].split(/,/),r=0,a=o.length;r<a;++r)o[r]==e[n][1].type&&t(e[n][1]);else t(e[n][1])},RG.ObjectRegistry.getObjectsByCanvasID=function(t){for(var e=RG.ObjectRegistry.objects.byCanvasID,n=[],i=0,o=e.length;i<o;++i)e[i]&&e[i][0]==t&&n.push(e[i][1]);return n},RG.ObjectRegistry.getFirstObjectByXY=RG.ObjectRegistry.getObjectByXY=function(t){for(var e=t.target,n=RG.ObjectRegistry.getObjectsByCanvasID(e.id),i=n.length-1;0<=i;--i){var o=n[i].getObjectByXY(t);if(o)return o}},RG.ObjectRegistry.getObjectsByXY=function(t){for(var e=t.target,n=[],i=RG.ObjectRegistry.getObjectsByCanvasID(e.id),o=i.length-1;0<=o;--o){var r=i[o].getObjectByXY(t);r&&n.push(r)}return n},RG.ObjectRegistry.getObjectByUID=function(t){for(var e=RG.ObjectRegistry.objects.byUID,n=0,i=e.length;n<i;++n)if(e[n]&&e[n][1].uid==t)return e[n][1]},RG.ObjectRegistry.bringToFront=function(t){var e=void 0===arguments[1]||arguments[1];RG.ObjectRegistry.remove(t),RG.ObjectRegistry.add(t),e&&RG.redrawCanvas(t.canvas)},RG.ObjectRegistry.getObjectsByType=function(t){for(var e=RG.ObjectRegistry.objects.byUID,n=[],i=0,o=e.length;i<o;++i)e[i]&&e[i][1]&&e[i][1].type&&e[i][1].type&&e[i][1].type==t&&n.push(e[i][1]);return n},RG.ObjectRegistry.getFirstObjectByType=function(t){for(var e=RG.ObjectRegistry.objects.byUID,n=0,i=e.length;n<i;++n)if(e[n]&&e[n][1]&&e[n][1].type==t)return e[n][1];return null},RG.getAngleByXY=function(t,e,n,i){var o=ma.atan((i-e)/(n-t));return o=ma.abs(o),t<=n&&e<=i?o+=RG.TWOPI:t<=n&&i<e?o=RG.HALFPI-o+(RG.PI+RG.HALFPI):n<t&&i<e?o+=RG.PI:o=RG.PI-o,o>RG.TWOPI&&(o-=RG.TWOPI),o},RG.getHypLength=function(t,e,n,i){return ma.sqrt((n-t)*(n-t)+(i-e)*(i-e))},RG.getRadiusEndPoint=function(t,e,n,i){return[t+ma.cos(n)*i,e+ma.sin(n)*i]},RG.installEventListeners=RG.InstallEventListeners=function(t){var e=t.properties;RG.ISOLD||(RG.installCanvasClickListener?(RG.installWindowMousedownListener(t),RG.installWindowMouseupListener(t),RG.installCanvasMousemoveListener(t),RG.installCanvasMouseupListener(t),RG.installCanvasMousedownListener(t),RG.installCanvasClickListener(t)):(RG.hasTooltips(t)||e["chart.adjustable"]||e["chart.annotatable"]||e["chart.contextmenu"]||e["chart.resizable"]||e["chart.key.interactive"]||e["chart.events.click"]||e["chart.events.mousemove"]||"function"==typeof t.onclick||"function"==typeof t.onmousemove)&&alert("[RGRAPH] You appear to have used dynamic features but not included the file: RGraph.common.dynamic.js"))},RG.pr=function(t){var e=arguments[2]?arguments[2]:"    ",n="",i="number"==typeof arguments[3]?arguments[3]:0;if(5<=i)return"";switch(typeof t){case"string":n+=t+" ("+typeof t+", "+t.length+")";break;case"number":case"boolean":n+=t+" ("+typeof t+")";break;case"function":n+="function () {}";break;case"undefined":n+="undefined";break;case"null":n+="null";break;case"object":if(RGraph.is_null(t))n+=e+"null\n";else{for(j in n+=e+"Object {\n",t)n+=e+"    "+j+" => "+RGraph.pr(t[j],!0,e+"    ",i+1)+"\n";n+=e+"}"}break;default:n+="Unknown type: "+typeof t}return arguments[1]||alert(n),n},RG.dashedLine=RG.DashedLine=function(t,e,n,i,o){var r=5;"number"==typeof arguments[5]&&(r=arguments[5]);for(var a=i-e,s=o-n,l=ma.floor(ma.sqrt(a*a+s*s)/r),u=a/l,c=s/l,p=0;p%2==0&&0<p?t.lineTo(e,n):t.moveTo(e,n),e+=u,n+=c,p++<=l;);},RG.AJAX=function(t,e){if(window.XMLHttpRequest)var n=new XMLHttpRequest;else if(window.ActiveXObject)n=new ActiveXObject("Microsoft.XMLHTTP");n.onreadystatechange=function(){4==this.readyState&&200==this.status&&(this.__user_callback__=e,this.__user_callback__(this.responseText))},n.open("GET",t,!0),n.send()},RG.AJAX.POST=function(t,e,n){var o=[];if(window.XMLHttpRequest)var r=new XMLHttpRequest;else if(window.ActiveXObject)r=new ActiveXObject("Microsoft.XMLHTTP");for(i in r.onreadystatechange=function(){4==this.readyState&&200==this.status&&(this.__user_callback__=n,this.__user_callback__(this.responseText))},r.open("POST",t,!0),r.setRequestHeader("Content-type","application/x-www-form-urlencoded"),e)"string"==typeof i&&o.push(i+"="+encodeURIComponent(e[i]));r.send(o.join("&"))},RG.AJAX.getNumber=function(t,e){RG.AJAX(t,function(){var t=parseFloat(this.responseText);e(t)})},RG.AJAX.getString=function(t,e){RG.AJAX(t,function(){var t=String(this.responseText);e(t)})},RG.AJAX.getJSON=function(url,callback){RG.AJAX(url,function(){var json=eval("("+this.responseText+")");callback(json)})},RG.AJAX.getCSV=function(t,o){var r=arguments[2]?arguments[2]:",";RG.AJAX(t,function(){for(var t=new RegExp(r),e=this.responseText.split(t),n=0,i=e.length;n<i;++n)e[n]=parseFloat(e[n]);o(e)})},RG.rotateCanvas=RG.RotateCanvas=function(t,e,n,i){var o=t.getContext("2d");o.translate(e,n),o.rotate(i),o.translate(0-e,0-n)},RG.measureText=RG.MeasureText=function(t,e,n,i){void 0===RGraph.measuretext_cache&&(RGraph.measuretext_cache=[]);var o=t+":"+e+":"+n+":"+i;if("object"==typeof RGraph.measuretext_cache&&RGraph.measuretext_cache[o])return RGraph.measuretext_cache[o];if(RGraph.measuretext_cache["text-div"]){if(RGraph.measuretext_cache["text-div"])var r=RGraph.measuretext_cache["text-div"]}else(r=document.createElement("DIV")).style.position="absolute",r.style.top="-100px",r.style.left="-100px",document.body.appendChild(r),RGraph.measuretext_cache["text-div"]=r;r.innerHTML=t.replace(/\r\n/g,"<br />"),r.style.fontFamily=n,r.style.fontWeight=e?"bold":"normal",r.style.fontSize=(i||12)+"pt";i=[r.offsetWidth,r.offsetHeight];return RGraph.measuretext_cache[o]=i},RG.text2=RG.Text2=function(u,c){if(u&&u.isRGraph)var p=(u=u).context,h=u.canvas;else if("string"==typeof u)p=(h=document.getElementById(u)).getContext("2d"),u=h.__object__;else if("function"==typeof u.getContext)p=(h=u).getContext("2d"),u=h.__object__;else if(-1!=u.toString().indexOf("CanvasRenderingContext2D")||RGraph.ISIE8&&u.moveTo)p=u,u=(h=u.canvas).__object__;else if(RG.ISOLD&&u.fillText)p=u,u=(h=u.canvas).__object__;if("string"==typeof c.boundingFill&&(c["bounding.fill"]=c.boundingFill),"string"==typeof c.boundingStroke&&(c["bounding.stroke"]=c.boundingStroke),u&&u.properties["chart.text.accessible"]&&!1!==c.accessible)return function(){-1!==String(c.size).toLowerCase().indexOf("italic")&&(c.size=c.size.replace(/ *italic +/,""),c.italic=!0);var t=ma.abs(parseInt(c.x))+"_"+ma.abs(parseInt(c.y))+"_"+String(c.text).replace(/[^a-zA-Z0-9]+/g,"_")+"_"+u.canvas.id;if(h.rgraph_domtext_wrapper)e=h.rgraph_domtext_wrapper;else{var e=document.createElement("div");e.id=h.id+"_rgraph_domtext_wrapper",e.className="rgraph_domtext_wrapper",e.style.overflow=0!=u.properties["chart.text.accessible.overflow"]&&"hidden"!=u.properties["chart.text.accessible.overflow"]?"visible":"hidden",e.style.width=h.offsetWidth+"px",e.style.height=h.offsetHeight+"px",e.style.cssFloat=h.style.cssFloat,e.style.display=h.style.display||"inline-block",e.style.position=h.style.position||"relative",e.style.left=h.style.left,e.style.top=h.style.top,e.style.width=h.width+"px",e.style.height=h.height+"px",h.style.position="absolute",h.style.left=0,h.style.top=0,h.style.display="inline",h.style.cssFloat="none","bar"!==u.type&&"bipolar"!==u.type&&"hbar"!==u.type||"3d"!==u.properties["chart.variant"]||(e.style.transform="skewY(5.7deg)"),h.parentNode.insertBefore(e,h),h.parentNode.removeChild(h),e.appendChild(h),h.rgraph_domtext_wrapper=e}var n={size:12,font:"Arial",italic:"normal",bold:"normal",valign:"bottom",halign:"left",marker:!0,color:p.fillStyle,bounding:{enabled:!1,fill:"rgba(255,255,255,0.7)",stroke:"#666"}};if(c.text=String(c.text).replace(/\r?\n/g,"[[RETURN]]"),void 0===RG.text2.domNodeCache&&(RG.text2.domNodeCache=new Array),void 0===RG.text2.domNodeCache[u.id]&&(RG.text2.domNodeCache[u.id]=new Array),void 0===RG.text2.domNodeDimensionCache&&(RG.text2.domNodeDimensionCache=new Array),void 0===RG.text2.domNodeDimensionCache[u.id]&&(RG.text2.domNodeDimensionCache[u.id]=new Array),RG.text2.domNodeCache[u.id]&&RG.text2.domNodeCache[u.id][t])(i=RG.text2.domNodeCache[u.id][t]).style.display="inline",o=RG.text2.domNodeDimensionCache[u.id][t].width,r=RG.text2.domNodeDimensionCache[u.id][t].height,a=RG.text2.domNodeDimensionCache[u.id][t].top,s=RG.text2.domNodeDimensionCache[u.id][t].left;else{var i=document.createElement("span");i.style.position="absolute",i.style.display="inline",i.style.left=c.x*(parseInt(h.offsetWidth)/parseInt(h.width))+"px",i.style.top=c.y*(parseInt(h.offsetHeight)/parseInt(h.height))+"px",i.style.color=c.color||n.color,i.style.fontFamily=c.font||n.font,i.style.fontWeight=c.bold?"bold":n.bold,i.style.fontStyle=c.italic?"italic":n.italic,i.style.fontSize=(c.size||n.size)+"pt",i.style.whiteSpace="nowrap",i.tag=c.tag,c.bounding&&(i.style.border="1px solid "+(c["bounding.stroke"]||n.bounding.stroke),i.style.backgroundColor=c["bounding.fill"]||n.bounding.fill),void 0!==u.properties["chart.text.accessible.pointerevents"]&&!u.properties["chart.text.accessible.pointerevents"]||"none"===u.properties["chart.text.accessible.pointerevents"]?i.style.pointerEvents="none":i.style.pointerEvents="auto",i.style.padding=c.bounding?"2px":null,i.__text__=c.text,i.innerHTML=c.text.replace("&","&amp;").replace("<","&lt;").replace(">","&gt;"),i.innerHTML=i.innerHTML.replace(/\[\[RETURN\]\]/g,"<br />"),e.appendChild(i),c.halign=c.halign||"left",c.valign=c.valign||"bottom","right"===c.halign?(i.style.left=parseFloat(i.style.left)-i.offsetWidth+"px",i.style.textAlign="right"):"center"===c.halign&&(i.style.left=parseFloat(i.style.left)-i.offsetWidth/2+"px",i.style.textAlign="center"),"top"===c.valign||("center"===c.valign?i.style.top=parseFloat(i.style.top)-i.offsetHeight/2+"px":i.style.top=parseFloat(i.style.top)-i.offsetHeight+"px");var o=parseFloat(i.offsetWidth),r=parseFloat(i.offsetHeight),a=parseFloat(i.style.top),s=parseFloat(i.style.left);RG.text2.domNodeCache[u.id][t]=i,RG.text2.domNodeDimensionCache[u.id][t]={left:s,top:a,width:o,height:r},i.id=t}c.marker&&RG.path2(context,"b m % % l % % m % % l % % s",c.x-5,c.y,c.x+5,c.y,c.x,c.y-5,c.x,c.y+5),"drawing.text"===u.type&&(u.properties["chart.events.mousemove"]&&i.addEventListener("mousemove",function(t){u.properties["chart.events.mousemove"](t,u)},!1),u.properties["chart.events.click"]&&i.addEventListener("click",function(t){u.properties["chart.events.click"](t,u)},!1),u.properties["chart.tooltips"]&&i.addEventListener(-1!==u.properties["chart.tooltips.event"].indexOf("mousemove")?"mousemove":"click",function(t){RG.Registry.get("chart.tooltip")&&0===RG.Registry.get("chart.tooltip").__index__&&RG.Registry.get("chart.tooltip").__object__.uid==u.uid||(RG.hideTooltip(),RG.redraw(),RG.tooltip(u,u.properties["chart.tooltips"][0],c.x,c.y,0,t))},!1));var l={};return l.x=s,l.y=a,l.width=o,l.height=r,l.object=u,l.text=c.text,l.tag=c.tag,RG.text2.domNodeCache.reset=function(){if(arguments[0]){var t=RG.text2.domNodeCache[arguments[0].id];for(j in t){var e=RG.text2.domNodeCache[arguments[0].id][j];e&&e.parentNode&&e.parentNode.removeChild(e)}}else for(M in RG.text2.domNodeCache)for(j in RG.text2.domNodeCache[M])RG.text2.domNodeCache[M][j]&&RG.text2.domNodeCache[M][j].parentNode&&RG.text2.domNodeCache[M][j].parentNode.removeChild(RG.text2.domNodeCache[M][j])},RG.text2.find=function(t){var e,n=[],i="string"==typeof t.id?t.id:t.object.id;for(M in RG.text2.domNodeCache[i])if(e=RG.text2.domNodeCache[i][M],"string"!=typeof t.tag||t.tag!==e.tag){if("object"==typeof t.tag&&t.tag.constructor.toString().indexOf("RegExp")&&new RegExp(t.tag).test(e.tag)){n.push(e);continue}if("string"!=typeof t.text||t.text!==e.__text__){if("object"==typeof t.text&&t.text.constructor.toString().indexOf("RegExp")&&new RegExp(t.text).test(e.__text__)){n.push(e);continue}}else n.push(e)}else n.push(e);return n},l.node=i,u&&u.isRGraph&&u.coordsText&&u.coordsText.push(l),l}();var t=c.x,e=c.y,n=t,i=e,o=c.text,r="string"==typeof o?o.split(/\r?\n/g):"",a=r.length,s=c.font?c.font:"Arial",l=c.size?c.size:10,d=1.5*l,f=(c.bold,c.italic,c.halign?c.halign:"left"),g=c.valign?c.valign:"bottom",m="string"==typeof c.tag&&0<c.tag.length?c.tag:"",v=(c.marker,c.angle||0),y=c.bounding,b=c["bounding.stroke"]?c["bounding.stroke"]:"black",w=c["bounding.fill"]?c["bounding.fill"]:"rgba(255,255,255,0.7)",x=c["bounding.shadow"],$=c["bounding.shadow.color"]||"#ccc",_=c["bounding.shadow.blur"]||3,k=c["bounding.shadow.offsetx"]||3,C=c["bounding.shadow.offsety"]||3,S=c["bounding.linewidth"]||1,T={};if("string"==typeof c.color){var A=p.fillStyle;p.fillStyle=c.color}if("number"==typeof o&&(o=String(o)),"string"==typeof o){0!=v&&(p.save(),p.translate(t,e),p.rotate(ma.PI/180*v),e=t=0),p.font=(c.italic?"italic ":"")+(c.bold?"bold ":"")+l+"pt "+s;for(var D=0,M=0;M<a;++M)D=ma.max(D,p.measureText(r[M]).width);var E=d*a;if(c.marker){var P=p.strokeStyle;p.beginPath(),p.strokeStyle="red",p.moveTo(t,e-10),p.lineTo(t,e+10),p.moveTo(t-10,e),p.lineTo(t+10,e),p.stroke(),p.strokeStyle=P}if("center"==f){p.textAlign="center";var O=t-2-D/2}else if("right"==f){p.textAlign="right";O=t-2-D}else{p.textAlign="left";O=t-2}if("center"==g){p.textBaseline="middle",e-=1;var I=(e-=(a-1)/2*d)-d/2-2}else if("top"==g){p.textBaseline="top";I=e-2}else{p.textBaseline="bottom",1<a&&(e-=(a-1)*d);I=e-d-2}var R=D+4,L=E+4;if(y){var F=p.lineWidth,N=p.strokeStyle,B=p.fillStyle,U=p.shadowColor,z=p.shadowBlur,H=p.shadowOffsetX,V=p.shadowOffsetY;p.lineWidth=S,p.strokeStyle=b,p.fillStyle=w,x&&(p.shadowColor=$,p.shadowBlur=_,p.shadowOffsetX=k,p.shadowOffsetY=C),p.strokeRect(O,I,R,L),p.fillRect(O,I,R,L),p.lineWidth=F,p.strokeStyle=N,p.fillStyle=B,p.shadowColor=U,p.shadowBlur=z,p.shadowOffsetX=H,p.shadowOffsetY=V}if(1<a)for(M=0;M<a;++M)p.fillText(r[M],t,e+d*M);else p.fillText(o,t+.5,e+.5);return 0!=v&&(90==v?"left"==f?("bottom"==g&&(O=n-2,I=i-2,R=E+4,L=D+4),"center"==g&&(O=n-E/2-2,I=i-2,R=E+4,L=D+4),"top"==g&&(O=n-E-2,I=i-2,R=E+4,L=D+4)):"center"==f?("bottom"==g&&(O=n-2,I=i-D/2-2,R=E+4,L=D+4),"center"==g&&(O=n-E/2-2,I=i-D/2-2,R=E+4,L=D+4),"top"==g&&(O=n-E-2,I=i-D/2-2,R=E+4,L=D+4)):"right"==f&&("bottom"==g&&(O=n-2,I=i-D-2,R=E+4,L=D+4),"center"==g&&(O=n-E/2-2,I=i-D-2,R=E+4,L=D+4),"top"==g&&(O=n-E-2,I=i-D-2,R=E+4,L=D+4)):180==v?"left"==f?("bottom"==g&&(O=n-D-2,I=i-2,R=D+4,L=E+4),"center"==g&&(O=n-D-2,I=i-E/2-2,R=D+4,L=E+4),"top"==g&&(O=n-D-2,I=i-E-2,R=D+4,L=E+4)):"center"==f?("bottom"==g&&(O=n-D/2-2,I=i-2,R=D+4,L=E+4),"center"==g&&(O=n-D/2-2,I=i-E/2-2,R=D+4,L=E+4),"top"==g&&(O=n-D/2-2,I=i-E-2,R=D+4,L=E+4)):"right"==f&&("bottom"==g&&(O=n-2,I=i-2,R=D+4,L=E+4),"center"==g&&(O=n-2,I=i-E/2-2,R=D+4,L=E+4),"top"==g&&(O=n-2,I=i-E-2,R=D+4,L=E+4)):270==v&&("left"==f?("bottom"==g&&(O=n-E-2,I=i-D-2,R=E+4,L=D+4),"center"==g&&(O=n-E/2-4,I=i-D-2,R=E+4,L=D+4),"top"==g&&(O=n-2,I=i-D-2,R=E+4,L=D+4)):"center"==f?("bottom"==g&&(O=n-E-2,I=i-D/2-2,R=E+4,L=D+4),"center"==g&&(O=n-E/2-4,I=i-D/2-2,R=E+4,L=D+4),"top"==g&&(O=n-2,I=i-D/2-2,R=E+4,L=D+4)):"right"==f&&("bottom"==g&&(O=n-E-2,I=i-2,R=E+4,L=D+4),"center"==g&&(O=n-E/2-2,I=i-2,R=E+4,L=D+4),"top"==g&&(O=n-2,I=i-2,R=E+4,L=D+4))),p.restore()),p.textBaseline="alphabetic",p.textAlign="left",T.x=O,T.y=I,T.width=R,T.height=L,T.object=u,T.text=o,T.tag=m,u&&u.isRGraph&&u.coordsText&&u.coordsText.push(T),"string"==typeof A&&(p.fillStyle=A),T}},RG.sequentialIndexToGrouped=function(t,e){for(var n=0,i=0;0<=--t;)RG.is_null(e[n])?(n++,i=0):"number"!=typeof e[n]?++i>=e[n].length&&(n++,i=0):(n++,i=0);return[n,i]},RG.Highlight.rect=RG.Highlight.Rect=function(t,e){t.canvas;var n=t.context,i=t.properties;i["chart.tooltips.highlight"]&&(n.lineWidth=1,n.beginPath(),n.strokeStyle=i["chart.highlight.stroke"],n.fillStyle=i["chart.highlight.fill"],n.rect(e.x,e.y,e.width,e.height),n.stroke(),n.fill())},RG.Highlight.point=RG.Highlight.Point=function(t,e){var n=t.properties,i=(t.canvas,t.context);if(n["chart.tooltips.highlight"]){i.beginPath(),i.strokeStyle=n["chart.highlight.stroke"],i.fillStyle=n["chart.highlight.fill"];var o=n["chart.highlight.point.radius"]||2;i.arc(e.x,e.y,o,0,RG.TWOPI,0),i.stroke(),i.fill()}},RG.parseDate=function(t){if("now"===(t=RG.trim(t))&&(t=(new Date).toString()),t.match(/^(\d\d)(?:-|\/)(\d\d)(?:-|\/)(\d\d\d\d)(.*)$/)&&(t="{1}/{2}/{3}{4}".format(RegExp.$3,RegExp.$2,RegExp.$1,RegExp.$4)),t.match(/^(\d\d\d\d)(-|\/)(\d\d)(-|\/)(\d\d)( |T)(\d\d):(\d\d):(\d\d)$/)&&(t=RegExp.$1+"-"+RegExp.$3+"-"+RegExp.$5+"T"+RegExp.$7+":"+RegExp.$8+":"+RegExp.$9),t.match(/^\d\d\d\d-\d\d-\d\d$/)&&(t=t.replace(/-/g,"/")),t.match(/^\d\d:\d\d:\d\d$/)){var e=new Date,n=e.getDate(),i=e.getMonth()+1,o=e.getFullYear();1===String(i).length&&(i="0"+i),1===String(n).length&&(n="0"+n),t=o+"/"+i+"/"+n+" "+t}return Date.parse(t)},RG.resetColorsToOriginalValues=function(t){if(t.original_colors)for(var e in t.original_colors)"string"==typeof e&&"chart."===e.substr(0,6)&&(t.properties[e]=RG.arrayClone(t.original_colors[e]));"function"==typeof t.resetColorsToOriginalValues&&t.resetColorsToOriginalValues(),t.colorsParsed=!1},RG.linearGradient=RG.LinearGradient=function(t,e,n,i,o,r,a){for(var s=t.context.createLinearGradient(e,n,i,o),l=arguments.length-5,u=5;u<arguments.length;++u){var c=arguments[u],p=(u-5)/(l-1);s.addColorStop(p,c)}return s},RG.radialGradient=RG.RadialGradient=function(t,e,n,i,o,r,a,s,l){for(var u=t.context.createRadialGradient(e,n,i,o,r,a),c=arguments.length-7,p=7;p<arguments.length;++p){var h=arguments[p],d=(p-7)/(c-1);u.addColorStop(d,h)}return u},RG.addEventListener=RG.AddEventListener=function(t,e,n){var i=arguments[3]?arguments[3]:"unknown";RG.Registry.get("chart.event.handlers").push([t,e,n,i])},RG.clearEventListeners=RG.ClearEventListeners=function(t){if(t&&"window"==t)window.removeEventListener("mousedown",window.__rgraph_mousedown_event_listener_installed__,!1),window.removeEventListener("mouseup",window.__rgraph_mouseup_event_listener_installed__,!1);else{var e=document.getElementById(t);e.removeEventListener("mouseup",e.__rgraph_mouseup_event_listener_installed__,!1),e.removeEventListener("mousemove",e.__rgraph_mousemove_event_listener_installed__,!1),e.removeEventListener("mousedown",e.__rgraph_mousedown_event_listener_installed__,!1),e.removeEventListener("click",e.__rgraph_click_event_listener_installed__,!1)}},RG.hidePalette=RG.HidePalette=function(){var t=RG.Registry.get("palette");"object"==typeof t&&t&&(t.style.visibility="hidden",t.style.display="none",RG.Registry.set("palette",null))},RG.random=function(t,e){var n=arguments[2]?arguments[2]:0,i=ma.random();return Number(((e-t)*i+t).toFixed(n))},RG.arrayRand=RG.arrayRandom=RG.random.array=function(t,e,n){for(var i=0,o=[];i<t;i+=1)o.push(RG.random(e,n,arguments[3]));return o},RG.noShadow=RG.NoShadow=function(t){var e=t.context;e.shadowColor="rgba(0,0,0,0)",e.shadowBlur=0,e.shadowOffsetX=0,e.shadowOffsetY=0},RG.setShadow=RG.SetShadow=function(t,e,n,i,o){var r=t.context;r.shadowColor=e,r.shadowOffsetX=n,r.shadowOffsetY=i,r.shadowBlur=o},RG.Registry.set=RG.Registry.Set=function(t,e){return"chart."!==(t=t.replace(/([A-Z])/g,function(t){return"."+String(RegExp.$1).toLowerCase()})).substr(0,6)&&(t="chart."+t),RG.Registry.store[t]=e},RG.Registry.get=RG.Registry.Get=function(t){return"chart."!==(t=t.replace(/([A-Z])/g,function(t){return"."+String(RegExp.$1).toLowerCase()})).substr(0,6)&&(t="chart."+t),RG.Registry.store[t]},RG.degrees2Radians=function(t){return t*(RG.PI/180)},RG.log=function(t,e){return ma.log(t)/(e?ma.log(e):1)},RG.isArray=RG.is_array=function(t){if(!t||!t.constructor)return!1;var e=t.constructor.toString().indexOf("Array");return null!=t&&"number"==typeof e&&0<e&&e<20},RG.trim=function(t){return RG.ltrim(RG.rtrim(t))},RG.ltrim=function(t){return t.replace(/^(\s|\0)+/,"")},RG.rtrim=function(t){return t.replace(/(\s|\0)+$/,"")},RG.isNull=RG.is_null=function(t){return null==t||"object"==typeof t&&!t},RG.async=RG.Async=function(t){return setTimeout(t,arguments[1]?arguments[1]:1)},RG.reset=RG.Reset=function(t){t.width=t.width,RG.ObjectRegistry.clear(t),t.__rgraph_aa_translated__=!1,RG.text2.domNodeCache&&RG.text2.domNodeCache.reset&&RG.text2.domNodeCache.reset(t),RG.text2.domNodeCache||(RG.text2.domNodeCache=[]),RG.text2.domNodeDimensionCache||(RG.text2.domNodeDimensionCache=[]),RG.text2.domNodeCache[t.id]=[],RG.text2.domNodeDimensionCache[t.id]=[]},RG.att=function(t){},RG.getCanvasTag=function(t){return[t="object"==typeof t?t.id:t,doc.getElementById(t)]},RG.Effects.updateCanvas=RG.Effects.UpdateCanvas=function(t){win.requestAnimationFrame=win.requestAnimationFrame||win.webkitRequestAnimationFrame||win.msRequestAnimationFrame||win.mozRequestAnimationFrame||function(t){setTimeout(t,16.666)},win.requestAnimationFrame(t)},RG.Effects.getEasingMultiplier=function(t,e){return ma.pow(ma.sin(e/t*RG.HALFPI),3)},RG.stringsToNumbers=function(t){var e=arguments[1]||",";if("number"==typeof t)return t;if("string"==typeof t&&(t=-1!=t.indexOf(e)?t.split(e):parseFloat(t)),"object"==typeof t)for(var n=0,i=t.length;n<i;n+=1)t[n]=parseFloat(t[n]);return t},RG.cachedDraw=function(t,e,n){RG.cache[e]||(RG.cache[e]={},RG.cache[e].object=t,RG.cache[e].canvas=document.createElement("canvas"),RG.cache[e].canvas.setAttribute("width",t.canvas.width),RG.cache[e].canvas.setAttribute("height",t.canvas.height),RG.cache[e].canvas.setAttribute("id","background_cached_canvas"+t.canvas.id),RG.cache[e].canvas.__object__=t,RG.cache[e].context=RG.cache[e].canvas.getContext("2d"),RG.cache[e].context.translate(.5,.5),n(t,RG.cache[e].canvas,RG.cache[e].context)),t.context.drawImage(RG.cache[e].canvas,-.5,-.5)},RG.parseObjectStyleConfig=function(t,e){var s=function(t,e,n,i){for(key in e)if(key.match(/^exec[0-9]*$/))e[key](t,i);else{for(var o=!1,r=!1,a=e[key];key.match(/([A-Z])/);)key=key.replace(/([A-Z])/,"."+RegExp.$1.toLowerCase());!RG.isNull(a)&&a.constructor&&(o=0<a.constructor.toString().indexOf("Object"),r=0<a.constructor.toString().indexOf("Array")),o&&!r?s(t,e[key],n+"."+key,i):"self"===key?i[n]=a:i[n+"."+key]=a}return i},n=s(t,e,"chart",{});for(key in n)"string"==typeof key&&t.set(key,n[key])},RG.path2=function(t,e){var l=arguments;"string"==typeof e&&(e=function(t){for(var e=[],n="",i=!1,o=2,r=0;r<t.length;r+=1){var a=t[r],s=a.match(/ /);s?i?n+=a:('"'!==n[0]&&"'"!==n[0]||(n=n.substr(1,n.length-2)),"%"===n.trim()&&void 0!==l[o]&&(n=l[o++]),e.push(n),n=""):("'"!==a&&'"'!==a||(i=!i),n+=a)}"%"===n.trim()&&l[o]&&(n=l[o++]);return e.push(n),e}(e)),RG.path2.last=RG.arrayClone(e);for(var n=0,i=e.length;n<i;n+=1)switch(e[n]){case"b":t.beginPath();break;case"c":t.closePath();break;case"m":t.moveTo(parseFloat(e[n+1]),parseFloat(e[n+2])),n+=2;break;case"l":t.lineTo(parseFloat(e[n+1]),parseFloat(e[n+2])),n+=2;break;case"s":e[n+1]&&(t.strokeStyle=e[n+1]),t.stroke(),n++;break;case"f":e[n+1]&&(t.fillStyle=e[n+1]),t.fill(),n++;break;case"qc":t.quadraticCurveTo(parseFloat(e[n+1]),parseFloat(e[n+2]),parseFloat(e[n+3]),parseFloat(e[n+4])),n+=4;break;case"bc":t.bezierCurveTo(parseFloat(e[n+1]),parseFloat(e[n+2]),parseFloat(e[n+3]),parseFloat(e[n+4]),parseFloat(e[n+5]),parseFloat(e[n+6])),n+=6;break;case"r":t.rect(parseFloat(e[n+1]),parseFloat(e[n+2]),parseFloat(e[n+3]),parseFloat(e[n+4])),n+=4;break;case"a":t.arc(parseFloat(e[n+1]),parseFloat(e[n+2]),parseFloat(e[n+3]),parseFloat(e[n+4]),parseFloat(e[n+5]),"true"===e[n+6]||!0===e[n+6]||1===e[n+6]||"1"===e[n+6]),n+=6;break;case"at":t.arcTo(parseFloat(e[n+1]),parseFloat(e[n+2]),parseFloat(e[n+3]),parseFloat(e[n+4]),parseFloat(e[n+5])),n+=5;break;case"lw":t.lineWidth=parseFloat(e[n+1]),n++;break;case"e":t.ellipse(parseFloat(e[n+1]),parseFloat(e[n+2]),parseFloat(e[n+3]),parseFloat(e[n+4]),parseFloat(e[n+5]),parseFloat(e[n+6]),parseFloat(e[n+7]),"true"===e[n+8]),n+=8;break;case"lj":t.lineJoin=e[n+1],n++;break;case"lc":t.lineCap=e[n+1],n++;break;case"sc":t.shadowColor=e[n+1],n++;break;case"sb":t.shadowBlur=parseFloat(e[n+1]),n++;break;case"sx":t.shadowOffsetX=parseFloat(e[n+1]),n++;break;case"sy":t.shadowOffsetY=parseFloat(e[n+1]),n++;break;case"fs":t.fillStyle=e[n+1],n++;break;case"ss":t.strokeStyle=e[n+1],n++;break;case"fr":t.fillRect(parseFloat(e[n+1]),parseFloat(e[n+2]),parseFloat(e[n+3]),parseFloat(e[n+4])),n+=4;break;case"sr":t.strokeRect(parseFloat(e[n+1]),parseFloat(e[n+2]),parseFloat(e[n+3]),parseFloat(e[n+4])),n+=4;break;case"cl":t.clip();break;case"sa":t.save();break;case"rs":t.restore();break;case"tr":t.translate(parseFloat(e[n+1]),parseFloat(e[n+2])),n+=2;break;case"sl":t.scale(parseFloat(e[n+1]),parseFloat(e[n+2])),n+=2;break;case"ro":t.rotate(parseFloat(e[n+1])),n++;break;case"tf":t.transform(parseFloat(e[n+1]),parseFloat(e[n+2]),parseFloat(e[n+3]),parseFloat(e[n+4]),parseFloat(e[n+5]),parseFloat(e[n+6])),n+=6;break;case"stf":t.setTransform(parseFloat(e[n+1]),parseFloat(e[n+2]),parseFloat(e[n+3]),parseFloat(e[n+4]),parseFloat(e[n+5]),parseFloat(e[n+6])),n+=6;break;case"cr":t.clearRect(parseFloat(e[n+1]),parseFloat(e[n+2]),parseFloat(e[n+3]),parseFloat(e[n+4])),n+=4;break;case"ld":var o=e[n+1];t.setLineDash(o),n+=1;break;case"ldo":t.lineDashOffset=e[n+1],n++;break;case"fo":t.font=e[n+1],n++;break;case"ft":t.fillText(e[n+1],parseFloat(e[n+2]),parseFloat(e[n+3])),n+=3;break;case"st":t.strokeText(e[n+1],parseFloat(e[n+2]),parseFloat(e[n+3])),n+=3;break;case"ta":t.textAlign=e[n+1],n++;break;case"tbl":t.textBaseline=e[n+1],n++;break;case"ga":t.globalAlpha=parseFloat(e[n+1]),n++;break;case"gco":t.globalCompositeOperation=e[n+1],n++;break;case"fu":e[n+1](t.canvas.__object__),n++;break;case"":break;default:alert("[ERROR] Unknown option: "+e[n])}},RG.wrap=function(){}}(window,document),window.$p=function(t){RGraph.pr(t,arguments[1],arguments[3])},window.$a=function(t){alert(t)},window.$cl=function(t){return console.log(t)},String.prototype.format||(String.prototype.format=function(){var n=arguments;return this.replace(/{(\d+)}/g,function(t,e){return void 0!==n[e-1]?n[e-1]:t})}),function(t,e){"object"==typeof exports?module.exports=e():"function"==typeof define&&define.amd?define([],e):t.ol=e()}(this,function(){var t,e={},o=this;function n(t,e,n){t=t.split("."),n=n||o,t[0]in n||!n.execScript||n.execScript("var "+t[0]);for(var i;t.length&&(i=t.shift());)t.length||void 0===e?n=n[i]?n[i]:n[i]={}:n[i]=e}function i(t){t.Zb=function(){return t.Tg?t.Tg:t.Tg=new t}}function r(t){var e=typeof t;if("object"==e){if(!t)return"null";if(t instanceof Array)return"array";if(t instanceof Object)return e;var n=Object.prototype.toString.call(t);if("[object Window]"==n)return"object";if("[object Array]"==n||"number"==typeof t.length&&void 0!==t.splice&&void 0!==t.propertyIsEnumerable&&!t.propertyIsEnumerable("splice"))return"array";if("[object Function]"==n||void 0!==t.call&&void 0!==t.propertyIsEnumerable&&!t.propertyIsEnumerable("call"))return"function"}else if("function"==e&&void 0===t.call)return"object";return e}function s(t){return"string"==typeof t}function v(t){return"number"==typeof t}function p(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}function O(t){return t[u]||(t[u]=++c)}var a,l,u="closure_uid_"+(1e9*Math.random()>>>0),c=0;function h(t,e,n){return t.call.apply(t.bind,arguments)}function d(e,n,t){if(!e)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var t=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(t,i),e.apply(n,t)}}return function(){return e.apply(n,arguments)}}function f(t,e,n){return(f=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?h:d).apply(null,arguments)}function g(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t}function m(){}var y=Function("return this")(),b=String.prototype.trim?function(t){return t.trim()}:function(t){return t.replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")};function w(t,e){return t<e?-1:e<t?1:0}function x(t,e,n){return Math.min(Math.max(t,e),n)}var $="cosh"in Math?Math.cosh:function(t){return((t=Math.exp(t))+1/t)/2};function _(t,e,n,i,o,r){var a=o-n,s=r-i;if(0!==a||0!==s){var l=((t-n)*a+(e-i)*s)/(a*a+s*s);1<l?(n=o,i=r):0<l&&(n+=a*l,i+=s*l)}return k(t,e,n,i)}function k(t,e,n,i){return(t=n-t)*t+(e=i-e)*e}function C(t){return t*Math.PI/180}function A(t,e){var n=t%e;return n*e<0?n+e:n}function S(t,e,n){return t+n*(e-t)}function T(t){return t}function D(t,e,n){this.center=t,this.resolution=e,this.rotation=n}var M="function"==typeof Object.assign?Object.assign:function(t,e){if(!t||!t)throw new TypeError("Cannot convert undefined or null to object");for(var n=Object(t),i=1,o=arguments.length;i<o;++i){var r=arguments[i];if(null!=r)for(var a in r)r.hasOwnProperty(a)&&(n[a]=r[a])}return n};function E(t){for(var e in t)delete t[e]}function P(t){var e,n=[];for(e in t)n.push(t[e]);return n}function I(t){for(var e in t)return!1;return!e}var R="olm_"+(1e4*Math.random()|0);function L(t,e,n,i){for(var o,r=0,a=t.length;r<a;++r)if((o=t[r]).listener===e&&o.ng===n)return i&&(o.deleteIndex=r),o}function F(t,e){var n=t[R];return n?n[e]:void 0}function N(t){var e=t[R];return e||(e=t[R]={}),e}function j(t,e){var n=F(t,e);if(n){for(var i=0,o=n.length;i<o;++i)t.removeEventListener(e,n[i].og),E(n[i]);n.length=0,(n=t[R])&&(delete n[e],0===Object.keys(n).length&&delete t[R])}}function B(t,e,n,i,o){var r,a=N(t),s=a[e];return s||(s=a[e]=[]),(a=L(s,n,i,!1))?o||(a.pg=!1):(a={ng:i,pg:!!o,listener:n,target:t,type:e},t.addEventListener(e,(r=a).og=function(t){var e=r.listener,n=r.ng||r.target;return r.pg&&H(r),e.call(n,t)}),s.push(a)),a}function U(t,e,n,i){return B(t,e,n,i,!0)}function z(t,e,n,i){(t=F(t,e))&&(n=L(t,n,i,!0))&&H(n)}function H(t){if(t&&t.target){t.target.removeEventListener(t.type,t.og);var e=F(t.target,t.type);if(e){var n="deleteIndex"in t?t.deleteIndex:e.indexOf(t);-1!==n&&e.splice(n,1),0===e.length&&j(t.target,t.type)}E(t)}}function V(t){var e,n=N(t);for(e in n)j(t,e)}function q(){}function W(t){t.Gb||(t.Gb=!0,t.ka())}function G(t,e){this.type=t,this.target=e||null}function Y(t){t.stopPropagation()}function K(t){t.preventDefault()}function Z(){this.Ra={},this.Ba={},this.ya={}}function X(t,e){return e?e in t.ya:0<Object.keys(t.ya).length}function J(){Z.call(this),this.g=0}function Q(t){if(Array.isArray(t))for(var e=0,n=t.length;e<n;++e)H(t[e]);else H(t)}function tt(t,e,n){G.call(this,t),this.key=e,this.oldValue=n}function et(t){J.call(this),O(this),this.U={},void 0!==t&&this.G(t)}q.prototype.Gb=!1,q.prototype.ka=m,G.prototype.preventDefault=G.prototype.stopPropagation=function(){this.to=!0},g(Z,q),Z.prototype.addEventListener=function(t,e){var n=this.ya[t];n||(n=this.ya[t]=[]),-1===n.indexOf(e)&&n.push(e)},Z.prototype.b=function(t){var e="string"==typeof t?new G(t):t;t=e.type;var n,i=(e.target=this).ya[t];if(i){t in this.Ba||(this.Ba[t]=0,this.Ra[t]=0),++this.Ba[t];for(var o=0,r=i.length;o<r;++o)if(!1===i[o].call(this,e)||e.to){n=!1;break}if(--this.Ba[t],0===this.Ba[t]){for(e=this.Ra[t],delete this.Ra[t];e--;)this.removeEventListener(t,m);delete this.Ba[t]}return n}},Z.prototype.ka=function(){V(this)},Z.prototype.removeEventListener=function(t,e){var n=this.ya[t];if(n){var i=n.indexOf(e);t in this.Ra?(n[i]=m,++this.Ra[t]):(n.splice(i,1),0===n.length&&delete this.ya[t])}},g(J,Z),(t=J.prototype).u=function(){++this.g,this.b("change")},t.K=function(){return this.g},t.I=function(t,e,n){if(Array.isArray(t)){for(var i=t.length,o=Array(i),r=0;r<i;++r)o[r]=B(this,t[r],e,n);return o}return B(this,t,e,n)},t.L=function(t,e,n){if(Array.isArray(t)){for(var i=t.length,o=Array(i),r=0;r<i;++r)o[r]=U(this,t[r],e,n);return o}return U(this,t,e,n)},t.J=function(t,e,n){if(Array.isArray(t))for(var i=0,o=t.length;i<o;++i)z(this,t[i],e,n);else z(this,t,e,n)},t.M=Q,g(tt,G),g(et,J);var nt={};function it(t){return nt.hasOwnProperty(t)?nt[t]:nt[t]="change:"+t}function ot(t,e,n){var i;i=it(e),t.b(new tt(i,e,n)),t.b(new tt("propertychange",e,n))}function rt(t,e){return e<t?1:t<e?-1:0}function at(t,e){return 0<=t.indexOf(e)}function st(t,e,n){var i=t.length;if(t[0]<=e)return 0;if(!(e<=t[i-1]))if(0<n){for(n=1;n<i;++n)if(t[n]<e)return n-1}else if(n<0){for(n=1;n<i;++n)if(t[n]<=e)return n}else for(n=1;n<i;++n){if(t[n]==e)return n;if(t[n]<e)return t[n-1]-e<e-t[n]?n-1:n}return i-1}function lt(t){return t.reduce(function(t,e){return Array.isArray(e)?t.concat(lt(e)):t.concat(e)},[])}function ut(t,e){var n,i="array"==(n=r(e))||"object"==n&&"number"==typeof e.length?e:[e],o=i.length;for(n=0;n<o;n++)t[t.length]=i[n]}function ct(t,e){var n=t.indexOf(e),i=-1<n;return i&&t.splice(n,1),i}function pt(t,e){for(var n,i=t.length>>>0,o=0;o<i;o++)if(e(n=t[o],o,t))return n;return null}function ht(t,e){var n=t.length;if(n!==e.length)return!1;for(var i=0;i<n;i++)if(t[i]!==e[i])return!1;return!0}function dt(t){var e,n=ca,i=t.length,o=Array(t.length);for(e=0;e<i;e++)o[e]={index:e,value:t[e]};for(o.sort(function(t,e){return n(t.value,e.value)||t.index-e.index}),e=0;e<t.length;e++)t[e]=o[e].value}function ft(n,i){var o;return n.every(function(t,e){return!i(t,o=e,n)})?-1:o}function gt(t){if(void 0!==t)return 0}function mt(t,e){if(void 0!==t)return t+e}function vt(t,e){var n,i=void 0!==e?t.toFixed(e):""+t;return 2<(n=-1===(n=i.indexOf("."))?i.length:n)?i:Array(3-n).join("0")+i}function yt(t){t=(""+t).split(".");for(var e=["1","3"],n=0;n<Math.max(t.length,e.length);n++){var i=parseInt(t[n]||"0",10),o=parseInt(e[n]||"0",10);if(o<i)return 1;if(i<o)return-1}return 0}function bt(t,e){return t[0]+=e[0],t[1]+=e[1],t}function wt(t,e){var n=t[0],i=t[1],o=e[0],r=e[1],a=o[0],s=(o=o[1],r[0]),l=s-a,u=(r=r[1])-o;return(n=0===l&&0===u?0:(l*(n-a)+u*(i-o))/(l*l+u*u||0))<=0||(1<=n?(a=s,o=r):(a+=n*l,o+=n*u)),[a,o]}function xt(t,e,n){t=A(t+180,360)-180;var i=Math.abs(3600*t);return Math.floor(i/3600)+" "+vt(Math.floor(i/60%60))+" "+vt(i%60,n||0)+" "+e.charAt(t<0?1:0)}function $t(t,e,n){return t?e.replace("{x}",t[0].toFixed(n)).replace("{y}",t[1].toFixed(n)):""}function _t(t,e){for(var n=!0,i=t.length-1;0<=i;--i)if(t[i]!=e[i]){n=!1;break}return n}function kt(t,e){var n=Math.cos(e),i=Math.sin(e),o=t[1]*n+t[0]*i;return t[0]=t[0]*n-t[1]*i,t[1]=o,t}function Ct(t,e){var n=t[0]-e[0],i=t[1]-e[1];return n*n+i*i}function St(t,e){return Ct(t,wt(t,e))}function Tt(t,e){return $t(t,"{x}, {y}",e)}function At(t){for(var e=Lt(),n=0,i=t.length;n<i;++n)zt(e,t[n]);return e}function Dt(t,e,n){return n?(n[0]=t[0]-e,n[1]=t[1]-e,n[2]=t[2]+e,n[3]=t[3]+e,n):[t[0]-e,t[1]-e,t[2]+e,t[3]+e]}function Mt(t,e){return e?(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e):t.slice()}function Et(t,e,n){return(e=e<t[0]?t[0]-e:t[2]<e?e-t[2]:0)*e+(t=n<t[1]?t[1]-n:t[3]<n?n-t[3]:0)*t}function Pt(t,e){return It(t,e[0],e[1])}function Ot(t,e){return t[0]<=e[0]&&e[2]<=t[2]&&t[1]<=e[1]&&e[3]<=t[3]}function It(t,e,n){return t[0]<=e&&e<=t[2]&&t[1]<=n&&n<=t[3]}function Rt(t,e){var n=t[1],i=t[2],o=t[3],r=e[0],a=e[1],s=0;return r<t[0]?s|=16:i<r&&(s|=4),a<n?s|=8:o<a&&(s|=2),0===s&&(s=1),s}function Lt(){return[1/0,1/0,-1/0,-1/0]}function Ft(t,e,n,i,o){return o?(o[0]=t,o[1]=e,o[2]=n,o[3]=i,o):[t,e,n,i]}function Nt(t,e){var n=t[0],i=t[1];return Ft(n,i,n,i,e)}function jt(t,e,n,i,o){return Ht(o=Ft(1/0,1/0,-1/0,-1/0,o),t,e,n,i)}function Bt(t,e){return t[0]==e[0]&&t[2]==e[2]&&t[1]==e[1]&&t[3]==e[3]}function Ut(t,e){return e[0]<t[0]&&(t[0]=e[0]),e[2]>t[2]&&(t[2]=e[2]),e[1]<t[1]&&(t[1]=e[1]),e[3]>t[3]&&(t[3]=e[3]),t}function zt(t,e){e[0]<t[0]&&(t[0]=e[0]),e[0]>t[2]&&(t[2]=e[0]),e[1]<t[1]&&(t[1]=e[1]),e[1]>t[3]&&(t[3]=e[1])}function Ht(t,e,n,i,o){for(;n<i;n+=o){var r=t,a=e[n],s=e[n+1];r[0]=Math.min(r[0],a),r[1]=Math.min(r[1],s),r[2]=Math.max(r[2],a),r[3]=Math.max(r[3],s)}return t}function Vt(t,e,n){var i;return(i=e.call(n,Wt(t)))||(i=e.call(n,Gt(t)))||(i=e.call(n,Qt(t)))?i:!!(i=e.call(n,Jt(t)))&&i}function qt(t){var e=0;return ne(t)||(e=te(t)*Zt(t)),e}function Wt(t){return[t[0],t[1]]}function Gt(t){return[t[2],t[1]]}function Yt(t){return[(t[0]+t[2])/2,(t[1]+t[3])/2]}function Kt(t,e,n,i,o){var r=e*i[0]/2;i=e*i[1]/2,e=Math.cos(n);var a=Math.sin(n);n=r*e,r*=a,e*=i;var s=i*a,l=t[0],u=t[1];t=l-n+s,i=l-n-s,a=l+n-s,n=l+n+s;s=u-r-e,l=u-r+e;var c=u+r+e;r=u+r-e;return Ft(Math.min(t,i,a,n),Math.min(s,l,c,r),Math.max(t,i,a,n),Math.max(s,l,c,r),o)}function Zt(t){return t[3]-t[1]}function Xt(t,e,n){return n=n||[1/0,1/0,-1/0,-1/0],ee(t,e)&&(n[0]=t[0]>e[0]?t[0]:e[0],n[1]=t[1]>e[1]?t[1]:e[1],n[2]=t[2]<e[2]?t[2]:e[2],n[3]=t[3]<e[3]?t[3]:e[3]),n}function Jt(t){return[t[0],t[3]]}function Qt(t){return[t[2],t[3]]}function te(t){return t[2]-t[0]}function ee(t,e){return t[0]<=e[2]&&t[2]>=e[0]&&t[1]<=e[3]&&t[3]>=e[1]}function ne(t){return t[2]<t[0]||t[3]<t[1]}function ie(t,e){var n=(t[2]-t[0])/2*(e-1),i=(t[3]-t[1])/2*(e-1);t[0]-=n,t[2]+=n,t[1]-=i,t[3]+=i}function oe(t,e,n){e(t=[t[0],t[1],t[0],t[3],t[2],t[1],t[2],t[3]],t,2);var i=[t[0],t[2],t[4],t[6]],o=[t[1],t[3],t[5],t[7]];return Ft(e=Math.min.apply(null,i),t=Math.min.apply(null,o),i=Math.max.apply(null,i),o=Math.max.apply(null,o),n)}function re(){return!0}function ae(){return!1}function se(t){this.radius=t}(t=et.prototype).get=function(t){var e;return this.U.hasOwnProperty(t)&&(e=this.U[t]),e},t.N=function(){return Object.keys(this.U)},t.O=function(){return M({},this.U)},t.set=function(t,e,n){n?this.U[t]=e:(n=this.U[t])!==(this.U[t]=e)&&ot(this,t,n)},t.G=function(t,e){for(var n in t)this.set(n,t[n],e)},t.P=function(t,e){if(t in this.U){var n=this.U[t];delete this.U[t],e||ot(this,t,n)}},se.prototype.a=function(t){for(var e=0,n=t.length,i=t[n-1][0],o=t[n-1][1],r=0;r<n;r++){var a=t[r][0],s=t[r][1];e=e+C(a-i)*(2+Math.sin(C(o))+Math.sin(C(s))),i=a,o=s}return e*this.radius*this.radius/2},se.prototype.b=function(t,e){var n=C(t[1]),i=C(e[1]),o=(i-n)/2,r=C(e[0]-t[0])/2;n=Math.sin(o)*Math.sin(o)+Math.sin(r)*Math.sin(r)*Math.cos(n)*Math.cos(i);return 2*this.radius*Math.atan2(Math.sqrt(n),Math.sqrt(1-n))},se.prototype.offset=function(t,e,n){var i=C(t[1]);e/=this.radius;var o=Math.asin(Math.sin(i)*Math.cos(e)+Math.cos(i)*Math.sin(e)*Math.cos(n));return[180*(C(t[0])+Math.atan2(Math.sin(n)*Math.sin(e)*Math.cos(i),Math.cos(e)-Math.sin(i)*Math.sin(o)))/Math.PI,180*o/Math.PI]};var le=new se(6370997),ue={};function ce(t){this.cb=t.code,this.c=t.units,this.f=void 0!==t.extent?t.extent:null,this.i=void 0!==t.worldExtent?t.worldExtent:null,this.b=void 0!==t.axisOrientation?t.axisOrientation:"enu",this.g=void 0!==t.global&&t.global,this.a=!(!this.g||!this.f),this.o=void 0!==t.getPointResolution?t.getPointResolution:this.sk,this.l=null,this.j=t.metersPerUnit;var e=pe,n=t.code,i=de||y.proj4;if("function"==typeof i&&void 0===e[n]){var o=i.defs(n);if(void 0!==o)for(var r in void 0!==o.axis&&void 0===t.axisOrientation&&(this.b=o.axis),void 0===t.metersPerUnit&&(this.j=o.to_meter),void 0===t.units&&(this.c=o.units),e)void 0!==(e=i.defs(r))&&(t=we(r),e===o?fe([t,this]):ye(t,this,(e=i(r,n)).forward,e.inverse))}}ue.degrees=2*Math.PI*le.radius/360,ue.ft=.3048,ue.m=1,ue["us-ft"]=1200/3937,(t=ce.prototype).Sj=function(){return this.cb},t.H=function(){return this.f},t.wb=function(){return this.c},t.$b=function(){return this.j||ue[this.c]},t.Ek=function(){return this.i},t.pl=function(){return this.g},t.ep=function(t){this.g=t,this.a=!(!t||!this.f)},t.Mm=function(t){this.f=t,this.a=!(!this.g||!t)},t.mp=function(t){this.i=t},t.cp=function(t){this.o=t},t.sk=function(t,e){if("degrees"==this.wb())return t;var n,i=(n=_e(this,we("EPSG:4326")))(i=[e[0]-t/2,e[1],e[0]+t/2,e[1],e[0],e[1]-t/2,e[0],e[1]+t/2],i,2);i=((n=le.b(i.slice(0,2),i.slice(2,4)))+(i=le.b(i.slice(4,6),i.slice(6,8))))/2;return void 0!==(n=this.$b())&&(i/=n),i},t.getPointResolution=function(t,e){return this.o(t,e)};var pe={},he={},de=null;function fe(t){var e;e=[],t.forEach(function(t){e.push(ge(t))}),t.forEach(function(e){t.forEach(function(t){e!==t&&ve(e,t,Ce)})})}function ge(t){ve(pe[t.cb]=t,t,Ce)}function me(t){return t?"string"==typeof t?we(t):t:we("EPSG:3857")}function ve(t,e,n){t=t.cb,e=e.cb,t in he||(he[t]={}),he[t][e]=n}function ye(t,e,n,i){ve(t=we(t),e=we(e),be(n)),ve(e,t,be(i))}function be(a){return function(t,e,n){var i,o,r=t.length;for(n=void 0!==n?n:2,e=void 0!==e?e:Array(r),o=0;o<r;o+=n)for(i=a([t[o],t[o+1]]),e[o]=i[0],e[o+1]=i[1],i=n-1;2<=i;--i)e[o+i]=t[o+i];return e}}function we(t){var e;if(t instanceof ce)e=t;else if("string"==typeof t){e=pe[t];var n=de||y.proj4;void 0===e&&"function"==typeof n&&void 0!==n.defs(t)&&ge(e=new ce({code:t}))}else e=null;return e}function xe(t,e){if(t===e)return!0;var n=t.wb()===e.wb();return t.cb===e.cb?n:_e(t,e)===Ce&&n}function $e(t,e){return _e(we(t),we(e))}function _e(t,e){var n,i=t.cb,o=e.cb;return i in he&&o in he[i]&&(n=he[i][o]),void 0===n&&(n=ke),n}function ke(t,e){if(void 0!==e&&t!==e){for(var n=0,i=t.length;n<i;++n)e[n]=t[n];t=e}return t}function Ce(t,e){var n;if(void 0!==e){n=0;for(var i=t.length;n<i;++n)e[n]=t[n];n=e}else n=t.slice();return n}function Se(t,e,n){return $e(e,n)(t,void 0,t.length)}function Te(t,e,n){return oe(t,e=$e(e,n))}function Ae(){et.call(this),this.v=[1/0,1/0,-1/0,-1/0],this.A=-1,this.l={},this.s=this.o=0}function De(t){this.length=t.length||t;for(var e=0;e<this.length;e++)this[e]=t[e]||0}function Me(t){this.length=t.length||t;for(var e=0;e<this.length;e++)this[e]=t[e]||0}if(g(Ae,et),(t=Ae.prototype).vb=function(t,e){var n=e||[NaN,NaN];return this.sb(t[0],t[1],n,1/0),n},t.sg=function(t){return this.Bc(t[0],t[1])},t.Bc=ae,t.H=function(t){this.A!=this.g&&(this.v=this.Od(this.v),this.A=this.g);var e=this.v;return t?(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3]):t=e,t},t.Bb=function(t){return this.od(t*t)},t.jb=function(t,e){return this.rc($e(t,e)),this},De.prototype.BYTES_PER_ELEMENT=4,De.prototype.set=function(t,e){e=e||0;for(var n=0;n<t.length&&e+n<this.length;n++)this[e+n]=t[n]},De.prototype.toString=Array.prototype.join,"undefined"==typeof Float32Array&&(De.BYTES_PER_ELEMENT=4,De.prototype.BYTES_PER_ELEMENT=De.prototype.BYTES_PER_ELEMENT,De.prototype.set=De.prototype.set,De.prototype.toString=De.prototype.toString,n("Float32Array",De,void 0)),Me.prototype.BYTES_PER_ELEMENT=8,Me.prototype.set=function(t,e){e=e||0;for(var n=0;n<t.length&&e+n<this.length;n++)this[e+n]=t[n]},Me.prototype.toString=Array.prototype.join,"undefined"==typeof Float64Array){try{Me.BYTES_PER_ELEMENT=8}catch(t){}Me.prototype.BYTES_PER_ELEMENT=Me.prototype.BYTES_PER_ELEMENT,Me.prototype.set=Me.prototype.set,Me.prototype.toString=Me.prototype.toString,n("Float64Array",Me,void 0)}function Ee(){var t=Array(16);return Oe(t,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0),t}function Pe(){var t=Array(16);return Oe(t,1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),t}function Oe(t,e,n,i,o,r,a,s,l,u,c,p,h,d,f,g,m){t[0]=e,t[1]=n,t[2]=i,t[3]=o,t[4]=r,t[5]=a,t[6]=s,t[7]=l,t[8]=u,t[9]=c,t[10]=p,t[11]=h,t[12]=d,t[13]=f,t[14]=g,t[15]=m}function Ie(t,e){t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]}function Re(t){t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1}function Le(t,e,n){var i=t[0],o=t[1],r=t[2],a=t[3],s=t[4],l=t[5],u=t[6],c=t[7],p=t[8],h=t[9],d=t[10],f=t[11],g=t[12],m=t[13],v=t[14];t=t[15];var y=e[0],b=e[1],w=e[2],x=e[3],$=e[4],_=e[5],k=e[6],C=e[7],S=e[8],T=e[9],A=e[10],D=e[11],M=e[12],E=e[13],P=e[14];e=e[15],n[0]=i*y+s*b+p*w+g*x,n[1]=o*y+l*b+h*w+m*x,n[2]=r*y+u*b+d*w+v*x,n[3]=a*y+c*b+f*w+t*x,n[4]=i*$+s*_+p*k+g*C,n[5]=o*$+l*_+h*k+m*C,n[6]=r*$+u*_+d*k+v*C,n[7]=a*$+c*_+f*k+t*C,n[8]=i*S+s*T+p*A+g*D,n[9]=o*S+l*T+h*A+m*D,n[10]=r*S+u*T+d*A+v*D,n[11]=a*S+c*T+f*A+t*D,n[12]=i*M+s*E+p*P+g*e,n[13]=o*M+l*E+h*P+m*e,n[14]=r*M+u*E+d*P+v*e,n[15]=a*M+c*E+f*P+t*e}function Fe(t,e){var n=t[0],i=t[1],o=t[2],r=t[3],a=t[4],s=t[5],l=t[6],u=t[7],c=t[8],p=t[9],h=t[10],d=t[11],f=t[12],g=t[13],m=t[14],v=t[15],y=n*s-i*a,b=n*l-o*a,w=n*u-r*a,x=i*l-o*s,$=i*u-r*s,_=o*u-r*l,k=c*g-p*f,C=c*m-h*f,S=c*v-d*f,T=p*m-h*g,A=p*v-d*g,D=h*v-d*m,M=y*D-b*A+w*T+x*S-$*C+_*k;0!=M&&(M=1/M,e[0]=(s*D-l*A+u*T)*M,e[1]=(-i*D+o*A-r*T)*M,e[2]=(g*_-m*$+v*x)*M,e[3]=(-p*_+h*$-d*x)*M,e[4]=(-a*D+l*S-u*C)*M,e[5]=(n*D-o*S+r*C)*M,e[6]=(-f*_+m*w-v*b)*M,e[7]=(c*_-h*w+d*b)*M,e[8]=(a*A-s*S+u*k)*M,e[9]=(-n*A+i*S-r*k)*M,e[10]=(f*$-g*w+v*y)*M,e[11]=(-c*$+p*w-d*y)*M,e[12]=(-a*T+s*C-l*k)*M,e[13]=(n*T-i*C+o*k)*M,e[14]=(-f*x+g*b-m*y)*M,e[15]=(c*x-p*b+h*y)*M)}function Ne(t,e,n){var i=t[1]*e+t[5]*n+0*t[9]+t[13],o=t[2]*e+t[6]*n+0*t[10]+t[14],r=t[3]*e+t[7]*n+0*t[11]+t[15];t[12]=t[0]*e+t[4]*n+0*t[8]+t[12],t[13]=i,t[14]=o,t[15]=r}function je(t,e,n){Oe(t,t[0]*e,t[1]*e,t[2]*e,t[3]*e,t[4]*n,t[5]*n,t[6]*n,t[7]*n,1*t[8],1*t[9],1*t[10],1*t[11],t[12],t[13],t[14],t[15])}function Be(t,e){var n=t[0],i=t[1],o=t[2],r=t[3],a=t[4],s=t[5],l=t[6],u=t[7],c=Math.cos(e),p=Math.sin(e);t[0]=n*c+a*p,t[1]=i*c+s*p,t[2]=o*c+l*p,t[3]=r*c+u*p,t[4]=n*-p+a*c,t[5]=i*-p+s*c,t[6]=o*-p+l*c,t[7]=r*-p+u*c}function Ue(t,e,n,i,o,r){var a=o[0],s=o[1],l=o[4],u=o[5],c=o[12];o=o[13];for(var p=r||[],h=0;e<n;e+=i){var d=t[e],f=t[e+1];p[h++]=a*d+l*f+c,p[h++]=s*d+u*f+o}return r&&p.length!=h&&(p.length=h),p}function ze(){Ae.call(this),this.f="XY",this.a=2,this.B=null}function He(t){return"XY"==t?2:"XYZ"==t||"XYM"==t?3:"XYZM"==t?4:void 0}function Ve(t,e,n){t.a=He(e),t.f=e,t.B=n}function qe(t,e,n,i){if(e)n=He(e);else{for(e=0;e<i;++e){if(0===n.length)return t.f="XY",void(t.a=2);n=n[0]}e=2==(n=n.length)?"XY":3==n?"XYZ":4==n?"XYZM":void 0}t.f=e,t.a=n}function We(t,e,n,i){for(var o=0,r=t[n-i],a=t[n-i+1];e<n;e+=i){var s=t[e],l=t[e+1];o=o+(a*s-r*l),r=s,a=l}return o/2}function Ge(t,e,n,i){var o,r,a=0;for(o=0,r=n.length;o<r;++o){var s=n[o];a=a+We(t,e,s,i);e=s}return a}function Ye(t,e,n,i,o,r,a){var s=t[e],l=t[e+1],u=t[n]-s,c=t[n+1]-l;if(0!==u||0!==c)if(1<(r=((o-s)*u+(r-l)*c)/(u*u+c*c)))e=n;else if(0<r){for(o=0;o<i;++o)a[o]=S(t[e+o],t[n+o],r);return void(a.length=i)}for(o=0;o<i;++o)a[o]=t[e+o];a.length=i}function Ke(t,e,n,i,o){var r=t[e],a=t[e+1];for(e+=i;e<n;e+=i){var s=t[e],l=t[e+1];o<(r=k(r,a,s,l))&&(o=r),r=s,a=l}return o}function Ze(t,e,n,i,o){var r,a;for(r=0,a=n.length;r<a;++r){var s=n[r];o=Ke(t,e,s,i,o),e=s}return o}function Xe(t,e,n,i,o,r,a,s,l,u,c){if(e==n)return u;var p;if(0===o){if((p=k(a,s,t[e],t[e+1]))<u){for(c=0;c<i;++c)l[c]=t[e+c];return l.length=i,p}return u}for(var h=c||[NaN,NaN],d=e+i;d<n;)if(Ye(t,d-i,d,i,a,s,h),(p=k(a,s,h[0],h[1]))<u){for(u=p,c=0;c<i;++c)l[c]=h[c];d+=l.length=i}else d+=i*Math.max((Math.sqrt(p)-Math.sqrt(u))/o|0,1);if(r&&(Ye(t,n-i,e,i,a,s,h),(p=k(a,s,h[0],h[1]))<u)){for(u=p,c=0;c<i;++c)l[c]=h[c];l.length=i}return u}function Je(t,e,n,i,o,r,a,s,l,u,c){var p,h;for(c=c||[NaN,NaN],p=0,h=n.length;p<h;++p){var d=n[p];u=Xe(t,e,d,i,o,r,a,s,l,u,c),e=d}return u}function Qe(t,e){var n,i,o=0;for(n=0,i=e.length;n<i;++n)t[o++]=e[n];return o}function tn(t,e,n,i){var o,r;for(o=0,r=n.length;o<r;++o){var a,s=n[o];for(a=0;a<i;++a)t[e++]=s[a]}return e}function en(t,e,n,i,o){o=o||[];var r,a,s=0;for(r=0,a=n.length;r<a;++r)e=tn(t,e,n[r],i),o[s++]=e;return o.length=s,o}function nn(t,e,n,i,o){o=void 0!==o?o:[];for(var r=0;e<n;e+=i)o[r++]=t.slice(e,e+i);return o.length=r,o}function on(t,e,n,i,o){o=void 0!==o?o:[];var r,a,s=0;for(r=0,a=n.length;r<a;++r){var l=n[r];o[s++]=nn(t,e,l,i,o[s]),e=l}return o.length=s,o}function rn(t,e,n,i,o,r,a){var s=(n-e)/i;if(s<3){for(;e<n;e+=i)r[a++]=t[e],r[a++]=t[e+1];return a}var l=Array(s);l[0]=1,l[s-1]=1,n=[e,n-i];for(var u,c=0;0<n.length;){var p=n.pop(),h=n.pop(),d=0,f=t[h],g=t[h+1],m=t[p],v=t[p+1];for(u=h+i;u<p;u+=i){var y=_(t[u],t[u+1],f,g,m,v);d<y&&(c=u,d=y)}o<d&&(l[(c-e)/i]=1,h+i<c&&n.push(h,c),c+i<p&&n.push(c,p))}for(u=0;u<s;++u)l[u]&&(r[a++]=t[e+u*i],r[a++]=t[e+u*i+1]);return a}function an(t,e,n,i,o,r,a,s){var l,u;for(l=0,u=n.length;l<u;++l){var c=n[l];t:{var p=t,h=c,d=i,f=o,g=r;if(e!=h){var m,v,y=f*Math.round(p[e]/f),b=f*Math.round(p[e+1]/f);e+=d,g[a++]=y,g[a++]=b;do{if(m=f*Math.round(p[e]/f),v=f*Math.round(p[e+1]/f),(e+=d)==h){g[a++]=m,g[a++]=v;break t}}while(m==y&&v==b);for(;e<h;){var w,x;if(w=f*Math.round(p[e]/f),x=f*Math.round(p[e+1]/f),e+=d,w!=m||x!=v){var $=m-y,_=v-b,k=w-y,C=x-b;$*C==_*k&&($<0&&k<$||$==k||0<$&&$<k)&&(_<0&&C<_||_==C||0<_&&_<C)||(y=g[a++]=m,b=g[a++]=v),m=w,v=x}}g[a++]=m,g[a++]=v}}s.push(a),e=c}return a}function sn(t,e){ze.call(this),this.i=this.j=-1,this.pa(t,e)}function ln(t,e,n){Ve(t,e,n),t.u()}function un(t,e){ze.call(this),this.pa(t,e)}function cn(e,n,i,o,t){return!Vt(t,function(t){return!pn(e,n,i,o,t[0],t[1])})}function pn(t,e,n,i,o,r){for(var a=!1,s=t[n-i],l=t[n-i+1];e<n;e+=i){var u=t[e],c=t[e+1];r<l!=r<c&&o<(u-s)*(r-l)/(c-l)+s&&(a=!a),s=u,l=c}return a}function hn(t,e,n,i,o,r){if(0===n.length||!pn(t,e,n[0],i,o,r))return!1;var a;for(e=1,a=n.length;e<a;++e)if(pn(t,n[e-1],n[e],i,o,r))return!1;return!0}function dn(t,e,n,i,o,r,a){var s,l,u,c,p,h=o[r+1],d=[],f=n[0];for(u=t[f-i],p=t[f-i+1],s=e;s<f;s+=i)c=t[s],l=t[s+1],(h<=p&&l<=h||p<=h&&h<=l)&&(u=(h-p)/(l-p)*(c-u)+u,d.push(u)),u=c,p=l;for(f=NaN,p=-1/0,d.sort(rt),u=d[0],s=1,l=d.length;s<l;++s){c=d[s];var g=Math.abs(c-u);p<g&&(hn(t,e,n,i,u=(u+c)/2,h)&&(f=u,p=g)),u=c}return isNaN(f)&&(f=o[r]),a?(a.push(f,h),a):[f,h]}function fn(t,e,n,i,o,r){for(var a,s=[t[e],t[e+1]],l=[];e+i<n;e+=i){if(l[0]=t[e+i],l[1]=t[e+i+1],a=o.call(r,s,l))return a;s[0]=l[0],s[1]=l[1]}return!1}function gn(t,e,n,i,h){var o=Ht([1/0,1/0,-1/0,-1/0],t,e,n,i);return!!ee(h,o)&&(!!(Ot(h,o)||o[0]>=h[0]&&o[2]<=h[2]||o[1]>=h[1]&&o[3]<=h[3])||fn(t,e,n,i,function(t,e){var n=!1,i=Rt(h,t),o=Rt(h,e);if(1===i||1===o)n=!0;else{var r=h[0],a=h[1],s=h[2],l=h[3],u=e[0],c=e[1],p=(c-t[1])/(u-t[0]);2&o&&!(2&i)&&(n=r<=(n=u-(c-l)/p)&&n<=s),n||!(4&o)||4&i||(n=a<=(n=c-(u-s)*p)&&n<=l),n||!(8&o)||8&i||(n=r<=(n=u-(c-a)/p)&&n<=s),n||!(16&o)||16&i||(n=a<=(n=c-(u-r)*p)&&n<=l)}return n}))}function mn(t,e,n,i,o){var r=n[0];if(!(gn(t,e,r,i,o)||pn(t,e,r,i,o[0],o[1])||pn(t,e,r,i,o[0],o[3])||pn(t,e,r,i,o[2],o[1])||pn(t,e,r,i,o[2],o[3])))return!1;if(1===n.length)return!0;for(e=1,r=n.length;e<r;++e)if(cn(t,n[e-1],n[e],i,o))return!1;return!0}function vn(t,e,n,i){for(var o=0,r=t[n-i],a=t[n-i+1];e<n;e+=i){var s=t[e],l=t[e+1];o=o+(s-r)*(l+a),r=s,a=l}return 0<o}function yn(t,e,n,i){var o,r,a=0;for(i=void 0!==i&&i,o=0,r=e.length;o<r;++o){var s=e[o];a=vn(t,a,s,n);if(0===o){if(i&&a||!i&&!a)return!1}else if(i&&!a||!i&&a)return!1;a=s}return!0}function bn(t,e,n,i,o){var r,a;for(o=void 0!==o&&o,r=0,a=n.length;r<a;++r){var s=n[r],l=vn(t,e,s,i);if(0===r?o&&l||!o&&!l:o&&!l||!o&&l){l=t;for(var u=s,c=i;e<u-c;){var p;for(p=0;p<c;++p){var h=l[e+p];l[e+p]=l[u-c+p],l[u-c+p]=h}e+=c,u-=c}}e=s}return e}function wn(t,e,n,i){var o,r,a=0;for(o=0,r=e.length;o<r;++o)a=bn(t,a,e[o],n,i);return a}function xn(t,e){ze.call(this),this.i=[],this.C=-1,this.D=null,this.T=this.R=this.S=-1,this.j=null,this.pa(t,e)}function $n(t){if(t.C!=t.g){var e=Yt(t.H());t.D=dn(t.Mb(),0,t.i,t.a,e,0),t.C=t.g}return t.D}function _n(t,e,n,i){var o,r=i||32;for(i=[],o=0;o<r;++o)ut(i,t.offset(e,n,2*Math.PI*o/r));return i.push(i[0],i[1]),(t=new xn(null)).ba("XY",i,[i.length]),t}function kn(t){var e=t[0],n=t[1],i=t[2];return e=[e,n,e,t=t[3],i,t,i,n,e,n],(n=new xn(null)).ba("XY",e,[e.length]),n}function Cn(t,e,n){for(var i=e||32,o=t.va(),r=new xn(null,e=t.f),a=(i=o*(i+1),o=Array(i),0);a<i;a++)o[a]=0;return r.ba(e,o,[o.length]),Sn(r,t.rd(),t.wf(),n),r}function Sn(t,e,n,i){var o=t.la(),r=t.f,a=t.va(),s=t.Db(),l=o.length/a-1;i=i||0;for(var u,c,p=0;p<=l;++p)c=p*a,u=i+2*A(p,l)*Math.PI/l,o[c]=e[0]+n*Math.cos(u),o[c+1]=e[1]+n*Math.sin(u);t.ba(r,o,s)}function Tn(t){et.call(this),t=t||{},this.f=[0,0];var e={};e.center=void 0!==t.center?t.center:null,this.l=me(t.projection);var n,i,o,r=void 0!==t.minZoom?t.minZoom:0;n=void 0!==t.maxZoom?t.maxZoom:28;var a,s,l,u,c,p,h,d,f=void 0!==t.zoomFactor?t.zoomFactor:2;if(void 0!==t.resolutions)i=(n=t.resolutions)[0],o=n[n.length-1],u=n,n=function(t,e,n){if(void 0!==t)return t=x((t=st(u,t,n))+e,0,u.length-1),u[t]};else{var g=((o=(i=me(t.projection)).H())?Math.max(te(o),Zt(o)):360*ue.degrees/i.$b())/256/Math.pow(2,0),m=g/Math.pow(2,28);void 0!==(i=t.maxResolution)?r=0:i=g/Math.pow(f,r),void 0===(o=t.minResolution)&&(o=void 0!==t.maxZoom?void 0!==t.maxResolution?i/Math.pow(f,n):g/Math.pow(f,n):m),n=r+Math.floor(Math.log(i/o)/Math.log(f)),o=i/Math.pow(f,n-r),a=f,s=i,l=n-r,n=function(t,e,n){if(void 0!==t)return t=Math.max(Math.floor(Math.log(s/t)/Math.log(a)+(0<n?0:n<0?1:.5))+e,0),void 0!==l&&(t=Math.min(t,l)),s/Math.pow(a,t)}}this.a=i,this.c=o,this.j=t.resolutions,this.i=r,r=void 0!==t.extent?(c=t.extent,function(t){if(t)return[x(t[0],c[0],c[2]),x(t[1],c[1],c[3])]}):T,i=void 0===t.enableRotation||t.enableRotation?void 0===(i=t.constrainRotation)||!0===i?(d=C(5),function(t,e){if(void 0!==t)return Math.abs(t+e)<=d?0:t+e}):!1===i?mt:v(i)?(p=i,h=2*Math.PI/p,function(t,e){if(void 0!==t)return Math.floor((t+e)/h+.5)*h}):mt:gt,this.o=new D(r,n,i),void 0!==t.resolution?e.resolution=t.resolution:void 0!==t.zoom&&(e.resolution=this.constrainResolution(this.a,t.zoom-this.i)),e.rotation=void 0!==t.rotation?t.rotation:0,this.G(e)}function An(t,e){return void 0!==e?(e[0]=t.f[0],e[1]=t.f[1],e):t.f.slice()}function Dn(t,e){return Math.max(te(t)/e[0],Zt(t)/e[1])}function Mn(t){return!!t.ab()&&void 0!==t.$()}function En(t,e){t.f[1]+=e}function Pn(t){return Math.pow(t,3)}function On(t){return 1-Pn(1-t)}function In(t){return 3*t*t-2*t*t*t}function Rn(t){return t}function Ln(t){return t<.5?In(2*t):1-In(2*(t-.5))}function Fn(t){var e=t.source,r=t.start?t.start:Date.now(),a=e[0],s=e[1],l=void 0!==t.duration?t.duration:1e3,u=t.easing?t.easing:In;return function(t,e){if(e.time<r)return e.animate=!0,e.viewHints[0]+=1,!0;if(e.time<r+l){var n=1-u((e.time-r)/l),i=a-e.viewState.center[0],o=s-e.viewState.center[1];return e.animate=!0,e.viewState.center[0]+=n*i,e.viewState.center[1]+=n*o,e.viewHints[0]+=1,!0}return!1}}function Nn(t){var o=t.rotation?t.rotation:0,r=t.start?t.start:Date.now(),a=void 0!==t.duration?t.duration:1e3,s=t.easing?t.easing:In,l=t.anchor?t.anchor:null;return function(t,e){if(e.time<r)return e.animate=!0,e.viewHints[0]+=1,!0;if(e.time<r+a){var n=1-s((e.time-r)/a);n=(o-e.viewState.rotation)*n;if(e.animate=!0,e.viewState.rotation+=n,l){var i=e.viewState.center;i[0]-=l[0],i[1]-=l[1],kt(i,n),bt(i,l)}return e.viewHints[0]+=1,!0}return!1}}function jn(t){var o=t.resolution,r=t.start?t.start:Date.now(),a=void 0!==t.duration?t.duration:1e3,s=t.easing?t.easing:In;return function(t,e){if(e.time<r)return e.animate=!0,e.viewHints[0]+=1,!0;if(e.time<r+a){var n=1-s((e.time-r)/a),i=o-e.viewState.resolution;return e.animate=!0,e.viewState.resolution+=n*i,e.viewHints[0]+=1,!0}return!1}}function Bn(t,e,n,i){this.ca=t,this.ea=e,this.fa=n,this.ga=i}function Un(t,e,n){return t.ca<=e&&e<=t.ea&&t.fa<=n&&n<=t.ga}function zn(t,e){return t.ca<=e.ea&&t.ea>=e.ca&&t.fa<=e.ga&&t.ga>=e.fa}function Hn(t){this.a=t.html,this.b=t.tileRanges?t.tileRanges:null}function Vn(t,e,n){G.call(this,t,n),this.element=e}function qn(t){et.call(this),this.a=t||[],Wn(this)}function Wn(t){t.set("length",t.a.length)}function Gn(t){return Array.prototype.concat.apply(Array.prototype,arguments)}function Yn(t,e,n){return arguments.length<=2?Array.prototype.slice.call(t,e):Array.prototype.slice.call(t,e,n)}new Float64Array(3),new Float64Array(3),new Float64Array(4),new Float64Array(4),new Float64Array(4),new Float64Array(16),g(ze,Ae),(t=ze.prototype).Bc=ae,t.Od=function(t){return jt(this.B,0,this.B.length,this.a,t)},t.Ib=function(){return this.B.slice(0,this.a)},t.la=function(){return this.B},t.Jb=function(){return this.B.slice(this.B.length-this.a)},t.Kb=function(){return this.f},t.od=function(t){if(this.s!=this.g&&(E(this.l),this.o=0,this.s=this.g),t<0||0!==this.o&&t<=this.o)return this;var e=t.toString();if(this.l.hasOwnProperty(e))return this.l[e];var n=this.Nc(t);return n.la().length<this.B.length?this.l[e]=n:(this.o=t,this)},t.Nc=function(){return this},t.va=function(){return this.a},t.rc=function(t){this.B&&(t(this.B,this.B,this.a),this.u())},t.rotate=function(t,e){var n=this.la();if(n){for(var i=n.length,o=this.va(),r=n||[],a=Math.cos(t),s=Math.sin(t),l=e[0],u=e[1],c=0,p=0;p<i;p+=o){var h=n[p]-l,d=n[p+1]-u;for(r[c++]=l+h*a-d*s,r[c++]=u+h*s+d*a,h=p+2;h<p+o;++h)r[c++]=n[h]}n&&r.length!=c&&(r.length=c),this.u()}},t.Sc=function(t,e){var n=this.la();if(n){var i,o,r=n.length,a=this.va(),s=n||[],l=0;for(i=0;i<r;i+=a)for(s[l++]=n[i]+t,s[l++]=n[i+1]+e,o=i+2;o<i+a;++o)s[l++]=n[o];n&&s.length!=l&&(s.length=l),this.u()}},g(sn,ze),(t=sn.prototype).clone=function(){var t=new sn(null);return ln(t,this.f,this.B.slice()),t},t.sb=function(t,e,n,i){return i<Et(this.H(),t,e)?i:(this.i!=this.g&&(this.j=Math.sqrt(Ke(this.B,0,this.B.length,this.a,0)),this.i=this.g),Xe(this.B,0,this.B.length,this.a,this.j,!0,t,e,n,i))},t.nm=function(){return We(this.B,0,this.B.length,this.a)},t.Z=function(){return nn(this.B,0,this.B.length,this.a)},t.Nc=function(t){var e=[];return e.length=rn(this.B,0,this.B.length,this.a,t,e,0),ln(t=new sn(null),"XY",e),t},t.X=function(){return"LinearRing"},t.pa=function(t,e){t?(qe(this,e,t,1),this.B||(this.B=[]),this.B.length=tn(this.B,0,t,this.a),this.u()):ln(this,"XY",null)},g(un,ze),(t=un.prototype).clone=function(){var t=new un(null);return t.ba(this.f,this.B.slice()),t},t.sb=function(t,e,n,i){var o=this.B;if((t=k(t,e,o[0],o[1]))<i){for(i=this.a,e=0;e<i;++e)n[e]=o[e];return n.length=i,t}return i},t.Z=function(){return this.B?this.B.slice():[]},t.Od=function(t){return Nt(this.B,t)},t.X=function(){return"Point"},t.Ka=function(t){return It(t,this.B[0],this.B[1])},t.pa=function(t,e){t?(qe(this,e,t,0),this.B||(this.B=[]),this.B.length=Qe(this.B,t),this.u()):this.ba("XY",null)},t.ba=function(t,e){Ve(this,t,e),this.u()},g(xn,ze),(t=xn.prototype).yj=function(t){this.B?ut(this.B,t.la()):this.B=t.la().slice(),this.i.push(this.B.length),this.u()},t.clone=function(){var t=new xn(null);return t.ba(this.f,this.B.slice(),this.i.slice()),t},t.sb=function(t,e,n,i){return i<Et(this.H(),t,e)?i:(this.R!=this.g&&(this.S=Math.sqrt(Ze(this.B,0,this.i,this.a,0)),this.R=this.g),Je(this.B,0,this.i,this.a,this.S,!0,t,e,n,i))},t.Bc=function(t,e){return hn(this.Mb(),0,this.i,this.a,t,e)},t.qm=function(){return Ge(this.Mb(),0,this.i,this.a)},t.Z=function(t){var e;return void 0!==t?bn(e=this.Mb().slice(),0,this.i,this.a,t):e=this.B,on(e,0,this.i,this.a)},t.Db=function(){return this.i},t.bk=function(){return new un($n(this))},t.gk=function(){return this.i.length},t.Hg=function(t){if(t<0||this.i.length<=t)return null;var e=new sn(null);return ln(e,this.f,this.B.slice(0===t?0:this.i[t-1],this.i[t])),e},t.Vd=function(){var t,e,n=this.f,i=this.B,o=this.i,r=[],a=0;for(t=0,e=o.length;t<e;++t){var s=o[t],l=new sn(null);ln(l,n,i.slice(a,s)),r.push(l),a=s}return r},t.Mb=function(){if(this.T!=this.g){var t=this.B;yn(t,this.i,this.a)?this.j=t:(this.j=t.slice(),this.j.length=bn(this.j,0,this.i,this.a)),this.T=this.g}return this.j},t.Nc=function(t){var e=[],n=[];return e.length=an(this.B,0,this.i,this.a,Math.sqrt(t),e,0,n),(t=new xn(null)).ba("XY",e,n),t},t.X=function(){return"Polygon"},t.Ka=function(t){return mn(this.Mb(),0,this.i,this.a,t)},t.pa=function(t,e){if(t){qe(this,e,t,2),this.B||(this.B=[]);var n=en(this.B,0,t,this.a,this.i);this.B.length=0===n.length?0:n[n.length-1],this.u()}else this.ba("XY",null,this.i)},t.ba=function(t,e,n){Ve(this,t,e),this.i=n,this.u()},g(Tn,et),(t=Tn.prototype).Pd=function(t){return this.o.center(t)},t.constrainResolution=function(t,e,n){return this.o.resolution(t,e||0,n||0)},t.constrainRotation=function(t,e){return this.o.rotation(t,e||0)},t.ab=function(){return this.get("center")},t.Kc=function(t){return Kt(this.ab(),this.$(),this.La(),t)},t.Vl=function(){return this.a},t.Wl=function(){return this.c},t.Xl=function(){return this.l},t.$=function(){return this.get("resolution")},t.Yl=function(){return this.j},t.La=function(){return this.get("rotation")},t.V=function(){var t=this.ab(),e=this.l,n=this.$(),i=this.La();return{center:[Math.round(t[0]/n)*n,Math.round(t[1]/n)*n],projection:void 0!==e?e:null,resolution:n,rotation:i}},t.Fk=function(){var t,e=this.$();if(void 0!==e){var n,i=0;do{if((n=this.constrainResolution(this.a,i))==e){t=i;break}++i}while(n>this.c)}return void 0!==t?this.i+t:t},t.cf=function(t,e,n){t instanceof ze||(t=kn(t)),n=void 0!==(l=n||{}).padding?l.padding:[0,0,0,0];var i,o=void 0===l.constrainResolution||l.constrainResolution,r=void 0!==l.nearest&&l.nearest;i=void 0!==l.minResolution?l.minResolution:void 0!==l.maxZoom?this.constrainResolution(this.a,l.maxZoom-this.i,0):0;var a=t.la(),s=this.La(),l=Math.cos(-s),u=(s=Math.sin(-s),1/0),c=1/0,p=-1/0,h=-1/0;t=t.va();for(var d=0,f=a.length;d<f;d+=t){var g=a[d]*l-a[d+1]*s,m=a[d]*s+a[d+1]*l;u=Math.min(u,g),c=Math.min(c,m),p=Math.max(p,g),h=Math.max(h,m)}e=Dn([u,c,p,h],[e[0]-n[1]-n[3],e[1]-n[0]-n[2]]),e=isNaN(e)?i:Math.max(e,i),o&&(i=this.constrainResolution(e,0,0),!r&&i<e&&(i=this.constrainResolution(i,-1,0)),e=i),this.Ub(e),s=-s,r=(u+p)/2+(n[1]-n[3])/2*e,n=(c+h)/2+(n[0]-n[2])/2*e,this.mb([r*l-n*s,n*l+r*s])},t.Ej=function(t,e,n){var i=this.La(),o=Math.cos(-i),r=(i=Math.sin(-i),t[0]*o-t[1]*i);t=t[1]*o+t[0]*i;var a=this.$();r+=(e[0]/2-n[0])*a;t+=(n[1]-e[1]/2)*a,i=-i,this.mb([r*o-t*i,t*o+r*i])},t.rotate=function(t,e){if(void 0!==e){var n,i=this.ab();void 0!==i&&(kt(n=[i[0]-e[0],i[1]-e[1]],t-this.La()),bt(n,e)),this.mb(n)}this.ie(t)},t.mb=function(t){this.set("center",t)},t.Ub=function(t){this.set("resolution",t)},t.ie=function(t){this.set("rotation",t)},t.np=function(t){t=this.constrainResolution(this.a,t-this.i,0),this.Ub(t)},Bn.prototype.contains=function(t){return Un(this,t[1],t[2])},Hn.prototype.g=function(){return this.a},g(Vn,G),g(qn,et),(t=qn.prototype).clear=function(){for(;0<this.dc();)this.pop()},t.qf=function(t){var e,n;for(e=0,n=t.length;e<n;++e)this.push(t[e]);return this},t.forEach=function(t,e){this.a.forEach(t,e)},t.Gl=function(){return this.a},t.item=function(t){return this.a[t]},t.dc=function(){return this.get("length")},t.ee=function(t,e){this.a.splice(t,0,e),Wn(this),this.b(new Vn("add",e,this))},t.pop=function(){return this.Rf(this.dc()-1)},t.push=function(t){var e=this.a.length;return this.ee(e,t),e},t.remove=function(t){var e,n,i=this.a;for(e=0,n=i.length;e<n;++e)if(i[e]===t)return this.Rf(e)},t.Rf=function(t){var e=this.a[t];return this.a.splice(t,1),Wn(this),this.b(new Vn("remove",e,this)),e},t.Zo=function(t,e){var n=this.dc();if(t<n)n=this.a[t],this.a[t]=e,this.b(new Vn("remove",n,this)),this.b(new Vn("add",e,this));else{for(;n<t;++n)this.ee(n,void 0);this.ee(t,e)}};var Kn=/^#(?:[0-9a-f]{3}){1,2}$/i,Zn=/^(?:rgb)?\((0|[1-9]\d{0,2}),\s?(0|[1-9]\d{0,2}),\s?(0|[1-9]\d{0,2})\)$/i,Xn=/^(?:rgba)?\((0|[1-9]\d{0,2}),\s?(0|[1-9]\d{0,2}),\s?(0|[1-9]\d{0,2}),\s?(0|1|0\.\d{0,10})\)$/i;function Jn(t){return Array.isArray(t)?t:ii(t)}function Qn(t){if("string"!=typeof t){var e=t[0];e!=(0|e)&&(e=e+.5|0);var n=t[1];n!=(0|n)&&(n=n+.5|0);var i=t[2];i!=(0|i)&&(i=i+.5|0),t="rgba("+e+","+n+","+i+","+(void 0===t[3]?1:t[3])+")"}return t}var ti,ei,ni,ii=(ti={},ei=0,function(t){var e;if(ti.hasOwnProperty(t))e=ti[t];else{if(1024<=ei)for(var n in e=0,ti)0==(3&e++)&&(delete ti[n],--ei);var i,o;e=Kn.exec(t)?(o=3==t.length-1?1:2,e=parseInt(t.substr(1+0*o,o),16),n=parseInt(t.substr(1+1*o,o),16),i=parseInt(t.substr(1+2*o,o),16),1==o&&(e=(e<<4)+e,n=(n<<4)+n,i=(i<<4)+i),[e,n,i,1]):(o=Xn.exec(t))?oi(e=[e=Number(o[1]),n=Number(o[2]),i=Number(o[3]),o=Number(o[4])],e):(o=Zn.exec(t))?oi(e=[e=Number(o[1]),n=Number(o[2]),i=Number(o[3]),1],e):void 0,ti[t]=e,++ei}return e});function oi(t,e){var n=e||[];return n[0]=x(t[0]+.5|0,0,255),n[1]=x(t[1]+.5|0,0,255),n[2]=x(t[2]+.5|0,0,255),n[3]=x(t[3],0,1),n}function ri(t){return"string"==typeof t||t instanceof CanvasPattern||t instanceof CanvasGradient?t:Qn(t)}t:{var ai=o.navigator;if(ai){var si=ai.userAgent;if(si){ni=si;break t}}ni=""}function li(t){return-1!=ni.indexOf(t)}var ui,ci,pi=li("Opera"),hi=li("Trident")||li("MSIE"),di=li("Edge"),fi=li("Gecko")&&!(-1!=ni.toLowerCase().indexOf("webkit")&&!li("Edge"))&&!(li("Trident")||li("MSIE"))&&!li("Edge"),gi=-1!=ni.toLowerCase().indexOf("webkit")&&!li("Edge");t:{var mi="",vi=(ci=ni,fi?/rv\:([^\);]+)(\)|;)/.exec(ci):di?/Edge\/([\d\.]+)/.exec(ci):hi?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(ci):gi?/WebKit\/(\S+)/.exec(ci):pi?/(?:Version)[ \/]?(\S+)/.exec(ci):void 0);if(vi&&(mi=vi?vi[1]:""),hi){var yi,bi=o.document;if(null!=(yi=bi?bi.documentMode:void 0)&&yi>parseFloat(mi)){ui=String(yi);break t}}ui=mi}var wi={};function xi(t,e){var n=document.createElement("CANVAS");return t&&(n.width=t),e&&(n.height=e),n.getContext("2d")}var $i,_i,ki=function(){if(void 0===_i){var t,e=document.createElement("P"),n={webkitTransform:"-webkit-transform",OTransform:"-o-transform",msTransform:"-ms-transform",MozTransform:"-moz-transform",transform:"transform"};for(var i in document.body.appendChild(e),n)i in e.style&&(e.style[i]="translate(1px,1px)",t=y.getComputedStyle(e).getPropertyValue(n[i]));document.body.removeChild(e),_i=t&&"none"!==t}return _i},Ci=function(){if(void 0===$i){var t,e=document.createElement("P"),n={webkitTransform:"-webkit-transform",OTransform:"-o-transform",msTransform:"-ms-transform",MozTransform:"-moz-transform",transform:"transform"};for(var i in document.body.appendChild(e),n)i in e.style&&(e.style[i]="translate3d(1px,1px,1px)",t=y.getComputedStyle(e).getPropertyValue(n[i]));document.body.removeChild(e),$i=t&&"none"!==t}return $i};function Si(t,e){if((n=t.style).WebkitTransform=e,n.MozTransform=e,n.b=e,n.msTransform=e,n.transform=e,(n=hi)&&!(n=wi["9.0"])){for(var n=0,i=b(String(ui)).split("."),o=b("9.0").split("."),r=Math.max(i.length,o.length),a=0;0==n&&a<r;a++){var s=i[a]||"",l=o[a]||"",u=RegExp("(\\d*)(\\D*)","g"),c=RegExp("(\\d*)(\\D*)","g");do{var p=u.exec(s)||["","",""],h=c.exec(l)||["","",""];if(0==p[0].length&&0==h[0].length)break;n=w(0==p[1].length?0:parseInt(p[1],10),0==h[1].length?0:parseInt(h[1],10))||w(0==p[2].length,0==h[2].length)||w(p[2],h[2])}while(0==n)}n=wi["9.0"]=0<=n}n&&(t.style.transformOrigin="0 0")}function Ti(t,e){var n;if(Ci()){var i=Array(16);for(n=0;n<16;++n)i[n]=e[n].toFixed(6);Si(t,"matrix3d("+i.join(",")+")")}else if(ki()){i=[e[0],e[1],e[4],e[5],e[12],e[13]];var o=Array(6);for(n=0;n<6;++n)o[n]=i[n].toFixed(6);Si(t,"matrix("+o.join(",")+")")}else t.style.left=Math.round(e[12])+"px",t.style.top=Math.round(e[13])+"px"}function Ai(t,e){var n=e.parentNode;n&&n.replaceChild(t,e)}function Di(t){t&&t.parentNode&&t.parentNode.removeChild(t)}function Mi(t){for(;t.lastChild;)t.removeChild(t.lastChild)}function Ei(t,e,n){G.call(this,t),this.map=e,this.frameState=void 0!==n?n:null}function Pi(t){et.call(this),this.element=t.element?t.element:null,this.a=this.S=null,this.s=[],this.render=t.render?t.render:m,t.target&&this.c(t.target)}function Oi(){this.g=0,this.f={},this.a=this.b=null}function Ii(t,e){return t.f.hasOwnProperty(e)}function Ri(t,e,n,i){return void 0!==i?(i[0]=t,i[1]=e,i[2]=n,i):[t,e,n]}function Li(t){Oi.call(this),this.c=void 0!==t?t:2048}function Fi(t){return t.wc()>t.c}function Ni(t,e){Z.call(this),this.ma=t,this.state=e,this.a=null,this.key=""}function ji(t){t.b("change")}function Bi(t,e,n){return void 0===n&&(n=[0,0]),n[0]=t[0]+2*e,n[1]=t[1]+2*e,n}function Ui(t,e,n){return void 0===n&&(n=[0,0]),n[0]=t[0]*e+.5|0,n[1]=t[1]*e+.5|0,n}function zi(t,e){return Array.isArray(t)?t:(void 0===e?e=[t,t]:(e[0]=t,e[1]=t),e)}function Hi(t){et.call(this),this.f=we(t.projection),this.l=Vi(t.attributions),this.R=t.logo,this.za=void 0!==t.state?t.state:"ready",this.D=void 0!==t.wrapX&&t.wrapX}function Vi(t){if("string"==typeof t)return[new Hn({html:t})];if(t instanceof Hn)return[t];if(Array.isArray(t)){for(var e=t.length,n=Array(e),i=0;i<e;i++){var o=t[i];n[i]="string"==typeof o?new Hn({html:o}):o}return n}return null}function qi(t,e){t.za=e,t.u()}function Wi(t){this.minZoom=void 0!==t.minZoom?t.minZoom:0,this.b=t.resolutions,this.maxZoom=this.b.length-1,this.g=void 0!==t.origin?t.origin:null,this.c=null,void 0!==t.origins&&(this.c=t.origins);var e=t.extent;void 0===e||this.g||this.c||(this.g=Jt(e)),this.i=null,void 0!==t.tileSizes&&(this.i=t.tileSizes),this.o=void 0!==t.tileSize?t.tileSize:this.i?null:256,this.s=void 0!==e?e:null,this.a=null,this.f=[0,0],void 0!==t.sizes?this.a=t.sizes.map(function(t){return new Bn(Math.min(0,t[0]),Math.max(t[0]-1,-1),Math.min(0,t[1]),Math.max(t[1]-1,-1))},this):e&&function(t,e){for(var n=t.b.length,i=Array(n),o=t.minZoom;o<n;++o)i[o]=Xi(t,e,o);t.a=i}(this,e)}g(Ei,G),g(Pi,et),Pi.prototype.ka=function(){Di(this.element),et.prototype.ka.call(this)},Pi.prototype.i=function(){return this.a},Pi.prototype.setMap=function(t){this.a&&Di(this.element);for(var e=0,n=this.s.length;e<n;++e)H(this.s[e]);this.s.length=0,(this.a=t)&&((this.S?this.S:t.v).appendChild(this.element),this.render!==m&&this.s.push(B(t,"postrender",this.render,this)),t.render())},Pi.prototype.c=function(t){this.S="string"==typeof t?document.getElementById(t):t},(t=Oi.prototype).clear=function(){this.g=0,this.f={},this.a=this.b=null},t.forEach=function(t,e){for(var n=this.b;n;)t.call(e,n.pc,n.cc,this),n=n.yb},t.get=function(t){return(t=this.f[t])===this.a||(t===this.b?(this.b=this.b.yb,this.b.kc=null):(t.yb.kc=t.kc,t.kc.yb=t.yb),t.yb=null,t.kc=this.a,this.a=this.a.yb=t),t.pc},t.wc=function(){return this.g},t.N=function(){var t,e=Array(this.g),n=0;for(t=this.a;t;t=t.kc)e[n++]=t.cc;return e},t.zc=function(){var t,e=Array(this.g),n=0;for(t=this.a;t;t=t.kc)e[n++]=t.pc;return e},t.pop=function(){var t=this.b;return delete this.f[t.cc],t.yb&&(t.yb.kc=null),this.b=t.yb,this.b||(this.a=null),--this.g,t.pc},t.replace=function(t,e){this.get(t),this.f[t].pc=e},t.set=function(t,e){var n={cc:t,yb:null,kc:this.a,pc:e};this.a?this.a.yb=n:this.b=n,this.a=n,this.f[t]=n,++this.g},g(Li,Oi),Li.prototype.Lc=function(t){for(var e,n;Fi(this)&&!((n=(e=this.b.pc).ma[0].toString())in t&&t[n].contains(e.ma));)W(this.pop())},g(Ni,Z),Ni.prototype.ib=function(){return O(this).toString()},Ni.prototype.i=function(){return this.ma},Ni.prototype.V=function(){return this.state},g(Hi,et),(t=Hi.prototype).ra=m,t.wa=function(){return this.l},t.ua=function(){return this.R},t.xa=function(){return this.f},t.V=function(){return this.za},t.sa=function(){this.u()},t.oa=function(t){this.l=Vi(t),this.u()};var Gi=[0,0,0];function Yi(t,e,n,i,o){for(o=t.Ea(e,o),e=e[0]-1;e>=t.minZoom;){if(n.call(null,e,Xi(t,o,e,i)))return!0;--e}return!1}function Ki(t,e,n,i){return e[0]<t.maxZoom?Xi(t,i=t.Ea(e,i),e[0]+1,n):null}function Zi(t,e,n,i){Qi(t,e[0],e[1],n,!1,Gi);var o=Gi[1],r=Gi[2];return Qi(t,e[2],e[3],n,!0,Gi),t=Gi[1],e=Gi[2],void 0!==i?(i.ca=o,i.ea=t,i.fa=r,i.ga=e):i=new Bn(o,t,r,e),i}function Xi(t,e,n,i){return Zi(t,e,n=t.$(n),i)}function Ji(t,e){var n=t.Ia(e[0]),i=t.$(e[0]),o=zi(t.Ja(e[0]),t.f);return[n[0]+(e[1]+.5)*o[0]*i,n[1]+(e[2]+.5)*o[1]*i]}function Qi(t,e,n,i,o,r){var a=t.Lb(i),s=i/t.$(a),l=t.Ia(a);return t=zi(t.Ja(a),t.f),e=s*Math.floor((e-l[0])/i+(o?.5:0))/t[0],n=s*Math.floor((n-l[1])/i+(o?0:.5))/t[1],Ri(a,e,n=o?(e=Math.ceil(e)-1,Math.ceil(n)-1):(e=Math.floor(e),Math.floor(n)),r)}function to(t){if(!(n=t.l)){var e=no(n=io(t),void 0,void 0),n=new Wi({extent:n,origin:Jt(n),resolutions:e,tileSize:void 0});t.l=n}return n}function eo(t){var e={};return M(e,void 0!==t?t:{}),void 0===e.extent&&(e.extent=we("EPSG:3857").H()),e.resolutions=no(e.extent,e.maxZoom,e.tileSize),delete e.maxZoom,new Wi(e)}function no(t,e,n){e=void 0!==e?e:42;var i=Zt(t);for(t=te(t),n=zi(void 0!==n?n:256),n=Math.max(t/n[0],i/n[1]),e+=1,i=Array(e),t=0;t<e;++t)i[t]=n/Math.pow(2,t);return i}function io(t){var e=(t=we(t)).H();return e||(e=Ft(-(t=180*ue.degrees/t.$b()),-t,t,t)),e}function oo(t){Hi.call(this,{attributions:t.attributions,extent:t.extent,logo:t.logo,projection:t.projection,state:t.state,wrapX:t.wrapX}),this.ia=void 0!==t.opaque&&t.opaque,this.ta=void 0!==t.tilePixelRatio?t.tilePixelRatio:1,this.tileGrid=void 0!==t.tileGrid?t.tileGrid:null,this.a=new Li(t.cacheSize),this.o=[0,0],this.cc=""}function ro(t,e,n,i,o){if(!(e=t.pd(e)))return!1;for(var r,a,s=!0,l=i.ca;l<=i.ea;++l)for(var u=i.fa;u<=i.ga;++u)a=!1,Ii(e,r=t.Eb(n,l,u))&&((a=2===(r=e.get(r)).V())&&(a=!1!==o(r))),a||(s=!1);return s}function ao(t,e){t.cc!==e&&(t.cc=e,t.u())}function so(t,e,n){var i=void 0!==n?n:t.f;if(n=t.eb(i),t.D&&i.g){var o=e;e=o[0],t=Ji(n,o),e=Pt(i=io(i),t)?o:(o=te(i),t[0]+=o*Math.ceil((i[0]-t[0])/o),n.qd(t,e))}if(o=e[0],i=e[1],t=e[2],n.minZoom>o||o>n.maxZoom)n=!1;else{var r=n.H();n=!(n=r?Xi(n,r,o):n.a?n.a[o]:null)||Un(n,i,t)}return n?e:null}function lo(t,e){G.call(this,t),this.tile=e}function uo(t){t=t||{},this.R=document.createElement("UL"),this.v=document.createElement("LI"),this.R.appendChild(this.v),this.v.style.display="none",this.f=void 0===t.collapsed||t.collapsed,this.o=void 0===t.collapsible||t.collapsible,this.o||(this.f=!1);var e=void 0!==t.className?t.className:"ol-attribution",n=void 0!==t.tipLabel?t.tipLabel:"Attributions";"string"==typeof(i=void 0!==t.collapseLabel?t.collapseLabel:"")?(this.A=document.createElement("span"),this.A.textContent=i):this.A=i,"string"==typeof(i=void 0!==t.label?t.label:"i")?(this.C=document.createElement("span"),this.C.textContent=i):this.C=i;var i,o=this.o&&!this.f?this.A:this.C;(i=document.createElement("button")).setAttribute("type","button"),i.title=n,i.appendChild(o),B(i,"click",this.am,this),(n=document.createElement("div")).className=e+" ol-unselectable ol-control"+(this.f&&this.o?" ol-collapsed":"")+(this.o?"":" ol-uncollapsible"),n.appendChild(this.R),n.appendChild(i),Pi.call(this,{element:n,render:t.render?t.render:co,target:t.target}),this.D=!0,this.j={},this.l={},this.T={}}function co(t){if(t=t.frameState){var e,n,i,o,r,a,s,l,u,c,p,h,d=t.layerStatesArray,f=M({},t.attributions),g={},m=t.viewState.projection;for(n=0,e=d.length;n<e;n++)if((a=d[n].layer.ha())&&(c=O(a).toString(),u=a.l))for(i=0,o=u.length;i<o;i++)if(!((l=O(s=u[i]).toString())in f)){if(r=t.usedTiles[c]){var v=a.eb(m);t:{var y=m;if((p=s).b){var b,w,x,$=void 0;for($ in r)if($ in p.b){var _;for(x=r[$],b=0,w=p.b[$].length;b<w;++b){if(zn(_=p.b[$][b],x)){p=!0;break t}var k=Xi(v,io(y),parseInt($,10)),C=k.ea-k.ca+1;if((x.ca<k.ca||x.ea>k.ea)&&(zn(_,new Bn(A(x.ca,C),A(x.ea,C),x.fa,x.ga))||x.ea-x.ca+1>C&&zn(_,k))){p=!0;break t}}}p=!1}else p=!0}}else p=!1;p?(l in g&&delete g[l],f[l]=s):g[l]=s}for(var S in n=(e=[f,g])[0],e=e[1],this.j)S in n?(this.l[S]||(this.j[S].style.display="",this.l[S]=!0),delete n[S]):S in e?(this.l[S]&&(this.j[S].style.display="none",delete this.l[S]),delete e[S]):(Di(this.j[S]),delete this.j[S],delete this.l[S]);for(S in n)(i=document.createElement("LI")).innerHTML=n[S].a,this.R.appendChild(i),this.j[S]=i,this.l[S]=!0;for(S in e)(i=document.createElement("LI")).innerHTML=e[S].a,i.style.display="none",this.R.appendChild(i),this.j[S]=i;for(h in S=!I(this.l)||!I(t.logos),this.D!=S&&(this.element.style.display=S?"":"none",this.D=S),S&&I(this.l)?this.element.classList.add("ol-logo-only"):this.element.classList.remove("ol-logo-only"),t=t.logos,S=this.T)h in t||(Di(S[h]),delete S[h]);for(var T in t)(e=t[T])instanceof HTMLElement&&(this.v.appendChild(e),S[T]=e),T in S||((h=new Image).src=T,""===e?n=h:((n=document.createElement("a")).href=e,n.appendChild(h)),this.v.appendChild(n),S[T]=n);this.v.style.display=I(t)?"none":""}else this.D&&(this.element.style.display="none",this.D=!1)}function po(t){t.element.classList.toggle("ol-collapsed"),t.f?Ai(t.A,t.C):Ai(t.C,t.A),t.f=!t.f}function ho(t){var e=void 0!==(t=t||{}).className?t.className:"ol-rotate",n=void 0!==t.label?t.label:"";this.f=null,"string"==typeof n?(this.f=document.createElement("span"),this.f.className="ol-compass",this.f.textContent=n):(this.f=n,this.f.classList.add("ol-compass"));var i=t.tipLabel?t.tipLabel:"Reset rotation";(n=document.createElement("button")).className=e+"-reset",n.setAttribute("type","button"),n.title=i,n.appendChild(this.f),B(n,"click",ho.prototype.A,this),(i=document.createElement("div")).className=e+" ol-unselectable ol-control",i.appendChild(n),e=t.render?t.render:fo,this.o=t.resetNorth?t.resetNorth:void 0,Pi.call(this,{element:i,render:e,target:t.target}),this.j=void 0!==t.duration?t.duration:250,this.l=void 0===t.autoHide||t.autoHide,this.v=void 0,this.l&&this.element.classList.add("ol-hidden")}function fo(t){if(t=t.frameState){if((t=t.viewState.rotation)!=this.v){var e="rotate("+t+"rad)";if(this.l){var n=this.element.classList.contains("ol-hidden");n||0!==t?n&&0!==t&&this.element.classList.remove("ol-hidden"):this.element.classList.add("ol-hidden")}this.f.style.msTransform=e,this.f.style.webkitTransform=e,this.f.style.transform=e}this.v=t}}function go(t){var e=void 0!==(t=t||{}).className?t.className:"ol-zoom",n=void 0!==t.delta?t.delta:1,i=void 0!==t.zoomInLabel?t.zoomInLabel:"+",o=void 0!==t.zoomOutLabel?t.zoomOutLabel:"",r=void 0!==t.zoomInTipLabel?t.zoomInTipLabel:"Zoom in",a=void 0!==t.zoomOutTipLabel?t.zoomOutTipLabel:"Zoom out",s=document.createElement("button");s.className=e+"-in",s.setAttribute("type","button"),s.title=r,s.appendChild("string"==typeof i?document.createTextNode(i):i),B(s,"click",go.prototype.l.bind(this,n)),(i=document.createElement("button")).className=e+"-out",i.setAttribute("type","button"),i.title=a,i.appendChild("string"==typeof o?document.createTextNode(o):o),B(i,"click",go.prototype.l.bind(this,-n)),(n=document.createElement("div")).className=e+" ol-unselectable ol-control",n.appendChild(s),n.appendChild(i),Pi.call(this,{element:n,target:t.target}),this.f=void 0!==t.duration?t.duration:250}function mo(t){t=t||{};var e=new qn;return(void 0===t.zoom||t.zoom)&&e.push(new go(t.zoomOptions)),(void 0===t.rotate||t.rotate)&&e.push(new ho(t.rotateOptions)),(void 0===t.attribution||t.attribution)&&e.push(new uo(t.attributionOptions)),e}function vo(t){t=t||{},this.f=void 0!==t.className?t.className:"ol-full-screen";var e=void 0!==t.label?t.label:"";this.o="string"==typeof e?document.createTextNode(e):e,e=void 0!==t.labelActive?t.labelActive:"",this.j="string"==typeof e?document.createTextNode(e):e;var n=t.tipLabel?t.tipLabel:"Toggle full-screen";(e=document.createElement("button")).className=this.f+"-"+bo(),e.setAttribute("type","button"),e.title=n,e.appendChild(this.o),B(e,"click",this.C,this),(n=document.createElement("div")).className=this.f+" ol-unselectable ol-control "+(yo()?"":"ol-unsupported"),n.appendChild(e),Pi.call(this,{element:n,target:t.target}),this.A=void 0!==t.keys&&t.keys,this.l=t.source}function yo(){var t=document.body;return!!(t.webkitRequestFullscreen||t.mozRequestFullScreen&&document.mozFullScreenEnabled||t.msRequestFullscreen&&document.msFullscreenEnabled||t.requestFullscreen&&document.fullscreenEnabled)}function bo(){return!!(document.webkitIsFullScreen||document.mozFullScreen||document.msFullscreenElement||document.fullscreenElement)}function wo(t){t.requestFullscreen?t.requestFullscreen():t.msRequestFullscreen?t.msRequestFullscreen():t.mozRequestFullScreen?t.mozRequestFullScreen():t.webkitRequestFullscreen&&t.webkitRequestFullscreen()}(t=Wi.prototype).yg=function(t,e,n){for(var i=(t=Xi(this,t,e)).ca,o=t.ea;i<=o;++i)for(var r=t.fa,a=t.ga;r<=a;++r)n([e,i,r])},t.H=function(){return this.s},t.Ig=function(){return this.maxZoom},t.Jg=function(){return this.minZoom},t.Ia=function(t){return this.g?this.g:this.c[t]},t.$=function(t){return this.b[t]},t.Kh=function(){return this.b},t.Ea=function(t,e){var n=this.Ia(t[0]),i=this.$(t[0]),o=zi(this.Ja(t[0]),this.f),r=n[0]+t[1]*o[0]*i;return Ft(r,n=n[1]+t[2]*o[1]*i,r+o[0]*i,n+o[1]*i,e)},t.Zd=function(t,e,n){return Qi(this,t[0],t[1],e,!1,n)},t.qd=function(t,e,n){return e=this.$(e),Qi(this,t[0],t[1],e,!1,n)},t.Ja=function(t){return this.o?this.o:this.i[t]},t.Lb=function(t,e){return x(st(this.b,t,e||0),this.minZoom,this.maxZoom)},g(oo,Hi),(t=oo.prototype).Ah=function(){return Fi(this.a)},t.Lc=function(t,e){var n=this.pd(t);n&&n.Lc(e)},t.Ud=function(){return 0},t.Eb=function(t,e,n){return t+"/"+e+"/"+n},t.jf=function(){return this.ia},t.Na=function(){return this.tileGrid},t.eb=function(t){return this.tileGrid?this.tileGrid:to(t)},t.pd=function(t){var e=this.f;return e&&!xe(e,t)?null:this.a},t.bc=function(){return this.ta},t.$d=function(t,e,n){return n=this.eb(n),e=this.bc(e),t=zi(n.Ja(t),this.o),1==e?t:Ui(t,e,this.o)},t.sa=function(){this.a.clear(),this.u()},t.Yf=m,g(lo,G),g(uo,Pi),(t=uo.prototype).am=function(t){t.preventDefault(),po(this)},t.$l=function(){return this.o},t.cm=function(t){this.o!==t&&(this.o=t,this.element.classList.toggle("ol-uncollapsible"),!t&&this.f&&po(this))},t.bm=function(t){this.o&&this.f!==t&&po(this)},t.Zl=function(){return this.f},g(ho,Pi),ho.prototype.A=function(t){if(t.preventDefault(),void 0!==this.o)this.o();else{var e=(t=this.a).aa();if(e){var n=e.La();void 0!==n&&(0<this.j&&((n%=2*Math.PI)<-Math.PI&&(n+=2*Math.PI),n>Math.PI&&(n-=2*Math.PI),t.Wa(Nn({rotation:n,duration:this.j,easing:On}))),e.ie(0))}}},g(go,Pi),go.prototype.l=function(t,e){e.preventDefault();var n=this.a,i=n.aa();if(i){var o=i.$();o&&(0<this.f&&n.Wa(jn({resolution:o,duration:this.f,easing:On})),n=i.constrainResolution(o,t),i.Ub(n))}},g(vo,Pi),vo.prototype.C=function(t){t.preventDefault(),yo()&&(t=this.a)&&(bo()?document.exitFullscreen?document.exitFullscreen():document.msExitFullscreen?document.msExitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen&&document.webkitExitFullscreen():(t=this.l?"string"==typeof this.l?document.getElementById(this.l):this.l:t.yc(),this.A?t.mozRequestFullScreenWithKeys?t.mozRequestFullScreenWithKeys():t.webkitRequestFullscreen?t.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT):wo(t):wo(t)))},vo.prototype.v=function(){var t=this.element.firstElementChild,e=this.a;bo()?(t.className=this.f+"-true",Ai(this.j,this.o)):(t.className=this.f+"-false",Ai(this.o,this.j)),e&&e.Xc()},vo.prototype.setMap=function(t){Pi.prototype.setMap.call(this,t),t&&this.s.push(B(y.document,_o(),this.v,this))};var xo,$o,_o=function(){if(!xo){var t=document.body;t.webkitRequestFullscreen?xo="webkitfullscreenchange":t.mozRequestFullScreen?xo="mozfullscreenchange":t.msRequestFullscreen?xo="MSFullscreenChange":t.requestFullscreen&&(xo="fullscreenchange")}return xo};function ko(t){t=t||{};var e=document.createElement("DIV");e.className=void 0!==t.className?t.className:"ol-mouse-position",Pi.call(this,{element:e,render:t.render?t.render:Co,target:t.target}),B(this,it("projection"),this.dm,this),t.coordinateFormat&&this.ei(t.coordinateFormat),t.projection&&this.ih(we(t.projection)),this.v=void 0!==t.undefinedHTML?t.undefinedHTML:"",this.j=e.innerHTML,this.o=this.l=this.f=null}function Co(t){(t=t.frameState)?this.f!=t.viewState.projection&&(this.f=t.viewState.projection,this.l=null):this.f=null,So(this,this.o)}function So(t,e){var n=t.v;if(e&&t.f){if(!t.l){var i=t.hh();t.l=i?_e(t.f,i):ke}(i=t.a.Ma(e))&&(t.l(i,i),n=(n=t.Cg())?n(i):i.toString())}t.j&&n==t.j||(t.element.innerHTML=n,t.j=n)}function To(t,e){var n=t;e&&(n=f(t,e)),"function"!=r(o.setImmediate)||o.Window&&o.Window.prototype&&!li("Edge")&&o.Window.prototype.setImmediate==o.setImmediate?($o||($o=function(){var t=o.MessageChannel;if(void 0===t&&"undefined"!=typeof window&&window.postMessage&&window.addEventListener&&!li("Presto")&&(t=function(){(i=document.createElement("IFRAME")).style.display="none",i.src="",document.documentElement.appendChild(i);var t=i.contentWindow;(i=t.document).open(),i.write(""),i.close();var e="callImmediate"+Math.random(),n="file:"==t.location.protocol?"*":t.location.protocol+"//"+t.location.host,i=f(function(t){"*"!=n&&t.origin!=n||t.data!=e||this.port1.onmessage()},this);t.addEventListener("message",i,!1),this.port1={},this.port2={postMessage:function(){t.postMessage(e,n)}}}),void 0===t||li("Trident")||li("MSIE"))return"undefined"!=typeof document&&"onreadystatechange"in document.createElement("SCRIPT")?function(t){var e=document.createElement("SCRIPT");e.onreadystatechange=function(){e.onreadystatechange=null,e.parentNode.removeChild(e),e=null,t(),t=null},document.documentElement.appendChild(e)}:function(t){o.setTimeout(t,0)};var e=new t,n={},i=n;return e.port1.onmessage=function(){if(void 0!==n.next){var t=(n=n.next).rg;n.rg=null,t()}},function(t){i.next={rg:t},i=i.next,e.port2.postMessage(0)}}()),$o(n)):o.setImmediate(n)}function Ao(t,e,n){var i,o;G.call(this,t),this.b=e,t=n||{},this.buttons=function(t){if(t.buttons||Do)t=t.buttons;else switch(t.which){case 1:t=1;break;case 2:t=4;break;case 3:t=2;break;default:t=0}return t}(t),this.pressure=(i=t,o=this.buttons,i.pressure?i.pressure:o?.5:0),this.bubbles="bubbles"in t&&t.bubbles,this.cancelable="cancelable"in t&&t.cancelable,this.view="view"in t?t.view:null,this.detail="detail"in t?t.detail:null,this.screenX="screenX"in t?t.screenX:0,this.screenY="screenY"in t?t.screenY:0,this.clientX="clientX"in t?t.clientX:0,this.clientY="clientY"in t?t.clientY:0,this.button="button"in t?t.button:0,this.relatedTarget="relatedTarget"in t?t.relatedTarget:null,this.pointerId="pointerId"in t?t.pointerId:0,this.width="width"in t?t.width:0,this.height="height"in t?t.height:0,this.pointerType="pointerType"in t?t.pointerType:"",this.isPrimary="isPrimary"in t&&t.isPrimary,e.preventDefault&&(this.preventDefault=function(){e.preventDefault()})}g(ko,Pi),(t=ko.prototype).dm=function(){this.l=null},t.Cg=function(){return this.get("coordinateFormat")},t.hh=function(){return this.get("projection")},t.Xk=function(t){this.o=this.a.Td(t),So(this,this.o)},t.Yk=function(){So(this,null),this.o=null},t.setMap=function(t){Pi.prototype.setMap.call(this,t),t&&(t=t.a,this.s.push(B(t,"mousemove",this.Xk,this),B(t,"mouseout",this.Yk,this)))},t.ei=function(t){this.set("coordinateFormat",t)},t.ih=function(t){this.set("projection",t)},g(Ao,G);var Do=!1;try{Do=1===new MouseEvent("click",{buttons:1}).buttons}catch(t){}var Mo=["experimental-webgl","webgl","webkit-3d","moz-webgl"];function Eo(t,e){var n,i,o=Mo.length;for(i=0;i<o;++i)try{if(n=t.getContext(Mo[i],e))return n}catch(t){}return null}var Po,Oo,Io="undefined"!=typeof navigator?navigator.userAgent.toLowerCase():"",Ro=-1!==Io.indexOf("firefox"),Lo=-1!==Io.indexOf("safari")&&-1===Io.indexOf("chrom"),Fo=-1!==Io.indexOf("macintosh"),No=y.devicePixelRatio||1,jo=!1,Bo=function(){if(!("HTMLCanvasElement"in y))return!1;try{var t=xi();return!!t&&(t.setLineDash&&(jo=!0),!0)}catch(t){return!1}}(),Uo="DeviceOrientationEvent"in y,zo="geolocation"in y.navigator,Ho="ontouchstart"in y,Vo="PointerEvent"in y,qo=!!y.navigator.msPointerEnabled,Wo=!1,Go=[];if("WebGLRenderingContext"in y)try{var Yo=Eo(document.createElement("CANVAS"),{failIfMajorPerformanceCaveat:!0});Yo&&(Wo=!0,Oo=Yo.getParameter(Yo.MAX_TEXTURE_SIZE),Go=Yo.getSupportedExtensions())}catch(t){}function Ko(t,e){this.b=t,this.c=e}function Zo(t){Ko.call(this,t,{mousedown:this.rl,mousemove:this.sl,mouseup:this.vl,mouseover:this.ul,mouseout:this.tl}),this.a=t.g,this.g=[]}function Xo(t,e){for(var n,i=t.g,o=e.clientX,r=e.clientY,a=0,s=i.length;a<s&&(n=i[a]);a++){var l=Math.abs(r-n[1]);if(Math.abs(o-n[0])<=25&&l<=25)return!0}return!1}function Jo(t){var e=sr(t,t),n=e.preventDefault;return e.preventDefault=function(){t.preventDefault(),n()},e.pointerId=1,e.isPrimary=!0,e.pointerType="mouse",e}function Qo(t){Ko.call(this,t,{MSPointerDown:this.Al,MSPointerMove:this.Bl,MSPointerUp:this.El,MSPointerOut:this.Cl,MSPointerOver:this.Dl,MSPointerCancel:this.zl,MSGotPointerCapture:this.xl,MSLostPointerCapture:this.yl}),this.a=t.g,this.g=["","unavailable","touch","pen","mouse"]}function tr(t,e){var n=e;return v(e.pointerType)&&((n=sr(e,e)).pointerType=t.g[e.pointerType]),n}function er(t){Ko.call(this,t,{pointerdown:this.lo,pointermove:this.mo,pointerup:this.po,pointerout:this.no,pointerover:this.oo,pointercancel:this.ko,gotpointercapture:this.Gk,lostpointercapture:this.ql})}function nr(t,e){Ko.call(this,t,{touchstart:this.sp,touchmove:this.rp,touchend:this.qp,touchcancel:this.pp}),this.a=t.g,this.l=e,this.g=void 0,this.i=0,this.f=void 0}function ir(t,e,n){function i(){e.preventDefault()}var o,r,a,s,l,u=Array.prototype.slice.call(e.changedTouches),c=u.length;for(o=0;o<c;++o)a=t,s=e,l=u[o],(s=sr(s,l)).pointerId=l.identifier+2,s.bubbles=!0,s.cancelable=!0,s.detail=a.i,s.button=0,s.buttons=1,s.width=l.webkitRadiusX||l.radiusX||0,s.height=l.webkitRadiusY||l.radiusY||0,s.pressure=l.webkitForce||l.force||.5,s.isPrimary=a.g===l.identifier,s.pointerType="touch",s.clientX=l.clientX,s.clientY=l.clientY,s.screenX=l.screenX,s.screenY=l.screenY,(r=s).preventDefault=i,n.call(t,e,r)}function or(t,e){var n=t.l.g,i=e.changedTouches[0];if(t.g===i.identifier){var o=[i.clientX,i.clientY];n.push(o),y.setTimeout(function(){ct(n,o)},2500)}}function rr(t){Z.call(this),this.i=t,this.g={},this.c={},this.a=[],Vo?ar(this,new er(this)):qo?ar(this,new Qo(this)):(ar(this,t=new Zo(this)),Ho&&ar(this,new nr(this,t))),t=this.a.length;for(var e,n=0;n<t;n++)e=this.a[n],i=this,Object.keys(e.c).forEach(function(t){B(this.i,t,this.f,this)},i);var i}function ar(t,n){var e=Object.keys(n.c);e&&(e.forEach(function(t){var e=n.c[t];e&&(this.c[t]=e.bind(n))},t),t.a.push(n))}function sr(t,e){for(var n,i={},o=0,r=wr.length;o<r;o++)i[n=wr[o][0]]=t[n]||e[n]||wr[o][1];return i}function lr(t,e,n){t.out(e,n);var i=e.target,o=e.relatedTarget;i&&o&&i.contains(o)||(e.bubbles=!1,cr(t,yr,e,n))}function ur(t,e,n){e.bubbles=!0,cr(t,gr,e,n);var i=e.target,o=e.relatedTarget;i&&o&&i.contains(o)||(e.bubbles=!1,cr(t,vr,e,n))}function cr(t,e,n,i){t.b(new Ao(e,i,n))}function pr(t,e){t.b(new Ao(e.type,e,e))}Po=Wo,l=Go,a=Oo,g(Zo,Ko),(t=Zo.prototype).rl=function(t){if(!Xo(this,t)){if(1..toString()in this.a){var e=Jo(t);cr(this.b,br,e,t),delete this.a[1..toString()]}e=Jo(t),this.a[1..toString()]=t,cr(this.b,dr,e,t)}},t.sl=function(t){if(!Xo(this,t)){var e=Jo(t);cr(this.b,hr,e,t)}},t.vl=function(t){if(!Xo(this,t)){var e=this.a[1..toString()];e&&e.button===t.button&&(e=Jo(t),cr(this.b,fr,e,t),delete this.a[1..toString()])}},t.ul=function(t){if(!Xo(this,t)){var e=Jo(t);ur(this.b,e,t)}},t.tl=function(t){if(!Xo(this,t)){var e=Jo(t);lr(this.b,e,t)}},g(Qo,Ko),(t=Qo.prototype).Al=function(t){this.a[t.pointerId.toString()]=t;var e=tr(this,t);cr(this.b,dr,e,t)},t.Bl=function(t){var e=tr(this,t);cr(this.b,hr,e,t)},t.El=function(t){var e=tr(this,t);cr(this.b,fr,e,t),delete this.a[t.pointerId.toString()]},t.Cl=function(t){var e=tr(this,t);lr(this.b,e,t)},t.Dl=function(t){var e=tr(this,t);ur(this.b,e,t)},t.zl=function(t){var e=tr(this,t);cr(this.b,br,e,t),delete this.a[t.pointerId.toString()]},t.yl=function(t){this.b.b(new Ao("lostpointercapture",t,t))},t.xl=function(t){this.b.b(new Ao("gotpointercapture",t,t))},g(er,Ko),(t=er.prototype).lo=function(t){pr(this.b,t)},t.mo=function(t){pr(this.b,t)},t.po=function(t){pr(this.b,t)},t.no=function(t){pr(this.b,t)},t.oo=function(t){pr(this.b,t)},t.ko=function(t){pr(this.b,t)},t.ql=function(t){pr(this.b,t)},t.Gk=function(t){pr(this.b,t)},g(nr,Ko),(t=nr.prototype).ci=function(){this.i=0,this.f=void 0},t.sp=function(t){var e=t.touches,n=Object.keys(this.a),i=n.length;if(i>=e.length){var o,r,a,s=[];for(o=0;o<i;++o){var l;if(r=n[o],a=this.a[r],!(l=1==r))t:{l=e.length;for(var u=0;u<l;u++)if(e[u].identifier===r-2){l=!0;break t}l=!1}l||s.push(a.out)}for(o=0;o<s.length;++o)this.Ue(t,s[o])}e=t.changedTouches[0],(0===(n=Object.keys(this.a).length)||1===n&&1..toString()in this.a)&&(this.g=e.identifier,void 0!==this.f&&y.clearTimeout(this.f)),or(this,t),this.i++,ir(this,t,this.fo)},t.fo=function(t,e){this.a[e.pointerId]={target:e.target,out:e,Lh:e.target};var n=this.b;e.bubbles=!0,cr(n,gr,e,t),n=this.b,e.bubbles=!1,cr(n,vr,e,t),cr(this.b,dr,e,t)},t.rp=function(t){t.preventDefault(),ir(this,t,this.wl)},t.wl=function(t,e){var n=this.a[e.pointerId];if(n){var i=n.out,o=n.Lh;cr(this.b,hr,e,t),i&&o!==e.target&&(i.relatedTarget=e.target,e.relatedTarget=o,i.target=o,e.target?(lr(this.b,i,t),ur(this.b,e,t)):(e.target=o,e.relatedTarget=null,this.Ue(t,e))),n.out=e,n.Lh=e.target}},t.qp=function(t){or(this,t),ir(this,t,this.tp)},t.tp=function(t,e){cr(this.b,fr,e,t),this.b.out(e,t);var n=this.b;e.bubbles=!1,cr(n,yr,e,t),delete this.a[e.pointerId],e.isPrimary&&(this.g=void 0,this.f=y.setTimeout(this.ci.bind(this),200))},t.pp=function(t){ir(this,t,this.Ue)},t.Ue=function(t,e){cr(this.b,br,e,t),this.b.out(e,t);var n=this.b;e.bubbles=!1,cr(n,yr,e,t),delete this.a[e.pointerId],e.isPrimary&&(this.g=void 0,this.f=y.setTimeout(this.ci.bind(this),200))},g(rr,Z),rr.prototype.f=function(t){var e=this.c[t.type];e&&e(t)},rr.prototype.out=function(t,e){t.bubbles=!0,cr(this,mr,t,e)};var hr="pointermove",dr="pointerdown",fr="pointerup",gr="pointerover",mr="pointerout",vr="pointerenter",yr="pointerleave",br="pointercancel",wr=[["bubbles",!(rr.prototype.ka=function(){for(var t,e=this.a.length,n=0;n<e;n++)t=this.a[n],i=this,Object.keys(t.c).forEach(function(t){z(this.i,t,this.f,this)},i);var i;Z.prototype.ka.call(this)})],["cancelable",!1],["view",null],["detail",null],["screenX",0],["screenY",0],["clientX",0],["clientY",0],["ctrlKey",!1],["altKey",!1],["shiftKey",!1],["metaKey",!1],["button",0],["relatedTarget",null],["buttons",0],["pointerId",0],["width",0],["height",0],["pressure",0],["tiltX",0],["tiltY",0],["pointerType",""],["hwTimestamp",0],["isPrimary",!1],["type",""],["target",null],["currentTarget",null],["which",0]];function xr(t,e,n,i,o){Ei.call(this,t,e,o),this.originalEvent=n,this.pixel=e.Td(n),this.coordinate=e.Ma(this.pixel),this.dragging=void 0!==i&&i}function $r(t,e,n,i,o){xr.call(this,t,e,n.b,i,o),this.b=n}function _r(t){Z.call(this),this.f=t,this.l=0,this.o=!1,this.c=[],this.g=null,t=this.f.a,this.U=0,this.v={},this.i=new rr(t),this.a=null,this.j=B(this.i,dr,this.$k,this),this.s=B(this.i,hr,this.No,this)}function kr(t,e){e.type==Er||e.type==Pr?delete t.v[e.pointerId]:e.type==Mr&&(t.v[e.pointerId]=!0),t.U=Object.keys(t.v).length}g(xr,Ei),xr.prototype.preventDefault=function(){Ei.prototype.preventDefault.call(this),this.originalEvent.preventDefault()},xr.prototype.stopPropagation=function(){Ei.prototype.stopPropagation.call(this),this.originalEvent.stopPropagation()},g($r,xr),g(_r,Z),(t=_r.prototype).Qg=function(t){kr(this,t);var e,n,i,o=new $r(Er,this.f,t);this.b(o),!this.o&&0===t.button&&(n=(e=this).g,i=new $r(Sr,e.f,n),e.b(i),0!==e.l?(y.clearTimeout(e.l),e.l=0,i=new $r(Tr,e.f,n),e.b(i)):e.l=y.setTimeout(function(){this.l=0;var t=new $r(Cr,this.f,n);this.b(t)}.bind(e),250)),0===this.U&&(this.c.forEach(H),this.c.length=0,this.o=!1,this.g=null,W(this.a),this.a=null)},t.$k=function(t){kr(this,t);var e=new $r(Mr,this.f,t);this.b(e),this.g=t,0===this.c.length&&(this.a=new rr(document),this.c.push(B(this.a,Dr,this.Sl,this),B(this.a,Er,this.Qg,this),B(this.i,Pr,this.Qg,this)))},t.Sl=function(t){if(t.clientX!=this.g.clientX||t.clientY!=this.g.clientY){this.o=!0;var e=new $r(Ar,this.f,t,this.o);this.b(e)}t.preventDefault()},t.No=function(t){this.b(new $r(t.type,this.f,t,!(!this.g||t.clientX==this.g.clientX&&t.clientY==this.g.clientY)))},t.ka=function(){this.s&&(H(this.s),this.s=null),this.j&&(H(this.j),this.j=null),this.c.forEach(H),this.c.length=0,this.a&&(W(this.a),this.a=null),this.i&&(W(this.i),this.i=null),Z.prototype.ka.call(this)};var Cr="singleclick",Sr="click",Tr="dblclick",Ar="pointerdrag",Dr="pointermove",Mr="pointerdown",Er="pointerup",Pr="pointercancel",Or={Mp:Cr,Bp:Sr,Cp:Tr,Fp:Ar,Ip:Dr,Ep:Mr,Lp:Er,Kp:"pointerover",Jp:"pointerout",Gp:"pointerenter",Hp:"pointerleave",Dp:Pr};function Ir(t){et.call(this);var e=M({},t);e.opacity=void 0!==t.opacity?t.opacity:1,e.visible=void 0===t.visible||t.visible,e.zIndex=void 0!==t.zIndex?t.zIndex:0,e.maxResolution=void 0!==t.maxResolution?t.maxResolution:1/0,e.minResolution=void 0!==t.minResolution?t.minResolution:0,this.G(e)}function Rr(t){var e=t.Pb(),n=t.kf(),i=t.xb(),o=t.H(),r=t.Qb(),a=t.Nb(),s=t.Ob();return{layer:t,opacity:x(e,0,1),R:n,visible:i,Qc:!0,extent:o,zIndex:r,maxResolution:a,minResolution:Math.max(s,0)}}function Lr(){}function Fr(t,e,n,i,o,r){G.call(this,t,e),this.vectorContext=n,this.frameState=i,this.context=o,this.glContext=r}function Nr(t){var e=M({},t);delete e.source,Ir.call(this,e),this.v=this.j=this.o=null,t.map&&this.setMap(t.map),B(this,it("source"),this.fl,this),this.Fc(t.source?t.source:null)}function jr(t,e){return t.visible&&e>=t.minResolution&&e<t.maxResolution}function Br(t,e,n,i,o){Z.call(this),this.l=o,this.extent=t,this.f=n,this.resolution=e,this.state=i}function Ur(t){t.b("change")}function zr(t,e,n,i,o,r,a,s){return Re(t),0===e&&0===n||Ne(t,e,n),1==i&&1==o||je(t,i,o),0!==r&&Be(t,r),0===a&&0===s||Ne(t,a,s),t}function Hr(t,e){return t[0]==e[0]&&t[1]==e[1]&&t[4]==e[4]&&t[5]==e[5]&&t[12]==e[12]&&t[13]==e[13]}function Vr(t,e,n){var i=t[1],o=t[5],r=t[13],a=e[0];return e=e[1],n[0]=t[0]*a+t[4]*e+t[12],n[1]=i*a+o*e+r,n}function qr(t){J.call(this),this.a=t}function Wr(t,e){var n=e.V();return 2!=n&&3!=n&&B(e,"change",t.Om,t),0==n&&(e.load(),n=e.V()),2==n}function Gr(t){var e=t.a;e.xb()&&"ready"==e.kf()&&t.u()}function Yr(t,e){e.Ah()&&t.postRenderFunctions.push(function(t,e,n){e=O(t).toString(),t.Lc(n.viewState.projection,n.usedTiles[e])}.bind(null,e))}function Kr(t,e){var n,i,o;if(e)for(i=0,o=e.length;i<o;++i)t[O(n=e[i]).toString()]=n}function Zr(t,e){var n=e.R;void 0!==n&&("string"==typeof n?t.logos[n]="":p(n)&&(t.logos[n.src]=n.href))}function Xr(t,e,n,i){e=O(e).toString(),n=n.toString(),e in t?n in t[e]?(t=t[e][n],i.ca<t.ca&&(t.ca=i.ca),i.ea>t.ea&&(t.ea=i.ea),i.fa<t.fa&&(t.fa=i.fa),i.ga>t.ga&&(t.ga=i.ga)):t[e][n]=i:(t[e]={},t[e][n]=i)}function Jr(t,e,n){return[e*(Math.round(t[0]/e)+n[0]%2/2),e*(Math.round(t[1]/e)+n[1]%2/2)]}function Qr(t,e,n,i,o,r,a,s,l,u){var c=O(e).toString();c in t.wantedTiles||(t.wantedTiles[c]={});var p=t.wantedTiles[c];t=t.tileQueue;var h,d,f,g,m,v,y=n.minZoom;for(v=a;y<=v;--v)for(d=Xi(n,r,v,d),f=n.$(v),g=d.ca;g<=d.ea;++g)for(m=d.fa;m<=d.ga;++m)a-v<=s?(0==(h=e.ac(v,g,m,i,o)).V()&&(p[h.ma.toString()]=!0,h.ib()in t.g||t.f([h,c,Ji(n,h.ma),f])),void 0!==l&&l.call(u,h)):e.Yf(v,g,m,o)}function ta(t){this.v=t.opacity,this.U=t.rotateWithView,this.j=t.rotation,this.i=t.scale,this.C=t.snapToPixel}function ea(t){t=t||{},this.c=void 0!==t.anchor?t.anchor:[.5,.5],this.f=null,this.a=void 0!==t.anchorOrigin?t.anchorOrigin:"top-left",this.o=void 0!==t.anchorXUnits?t.anchorXUnits:"fraction",this.s=void 0!==t.anchorYUnits?t.anchorYUnits:"fraction";var e=void 0!==t.crossOrigin?t.crossOrigin:null,n=void 0!==t.img?t.img:null,i=void 0!==t.imgSize?t.imgSize:null,o=t.src;void 0!==o&&0!==o.length||!n||(o=n.src||O(n).toString());var r=void 0!==t.src?0:2,a=void 0!==t.color?Jn(t.color):null,s=oa.Zb(),l=s.get(o,e,a);l||(l=new na(n,o,i,e,r,a),s.set(o,e,a,l)),this.b=l,this.D=void 0!==t.offset?t.offset:[0,0],this.g=void 0!==t.offsetOrigin?t.offsetOrigin:"top-left",this.l=null,this.A=void 0!==t.size?t.size:null,ta.call(this,{opacity:void 0!==t.opacity?t.opacity:1,rotation:void 0!==t.rotation?t.rotation:0,scale:void 0!==t.scale?t.scale:1,snapToPixel:void 0===t.snapToPixel||t.snapToPixel,rotateWithView:void 0!==t.rotateWithView&&t.rotateWithView})}function na(t,e,n,i,o,r){Z.call(this),this.o=null,this.a=t||new Image,null!==i&&(this.a.crossOrigin=i),this.c=r?document.createElement("CANVAS"):null,this.l=r,this.i=null,this.f=o,this.g=n,this.j=e,this.s=!1,2==this.f&&ia(this)}function ia(e){var t=xi(1,1);try{t.drawImage(e.a,0,0),t.getImageData(0,0,1,1)}catch(t){e.s=!0}}function oa(){this.b={},this.a=0}function ra(t,e){this.i=e,this.g={},this.s={}}function aa(t){var e=t.viewState,n=t.coordinateToPixelMatrix;zr(n,t.size[0]/2,t.size[1]/2,1/e.resolution,-1/e.resolution,-e.rotation,-e.center[0],-e.center[1]),Fe(n,t.pixelToCoordinateMatrix)}function sa(){var t=oa.Zb();if(32<t.a){var e,n,i=0;for(e in t.b)n=t.b[e],0!=(3&i++)||X(n)||(delete t.b[e],--t.a)}}function la(t,e){var n=O(e).toString();if(n in t.g)return t.g[n];var i=t.Xe(e);return t.g[n]=i,t.s[n]=B(i,"change",t.Rk,t),i}function ua(t,e){for(var n in t.g)if(!(n in e.layerStates)){e.postRenderFunctions.push(t.To.bind(t));break}}function ca(t,e){return t.zIndex-e.zIndex}function pa(t,e){this.j=t,this.l=e,this.b=[],this.a=[],this.g={}}function ha(t){var e=t.b,n=t.a,i=e[0];return 1==e.length?(e.length=0,n.length=0):(e[0]=e.pop(),n[0]=n.pop(),da(t,0)),e=t.l(i),delete t.g[e],i}function da(t,e){for(var n=t.b,i=t.a,o=n.length,r=n[e],a=i[e],s=e;e<o>>1;){var l=2*e+1,u=2*e+2;l=u<o&&i[u]<i[l]?u:l;n[e]=n[l],i[e]=i[l],e=l}n[e]=r,i[e]=a,fa(t,s,e)}function fa(t,e,n){var i=t.b;t=t.a;for(var o=i[n],r=t[n];e<n;){var a=n-1>>1;if(!(t[a]>r))break;i[n]=i[a],t[n]=t[a],n=a}i[n]=o,t[n]=r}function ga(t){var e,n,i,o=t.j,r=t.b,a=t.a,s=0,l=r.length;for(n=0;n<l;++n)1/0==(i=o(e=r[n]))?delete t.g[t.l(e)]:(a[s]=i,r[s++]=e);for(r.length=s,a.length=s,o=(t.b.length>>1)-1;0<=o;o--)da(t,o)}function ma(e,t){pa.call(this,function(t){return e.apply(null,t)},function(t){return t[0].ib()}),this.s=t,this.i=0,this.c={}}function va(t,e,n){for(var i,o,r=0;t.i<e&&r<n&&0<t.wc();)o=(i=ha(t)[0]).ib(),0!==i.V()||o in t.c||(t.c[o]=!0,++t.i,++r,i.load())}function ya(t,e,n){this.f=t,this.g=e,this.i=n,this.b=[],this.a=this.c=0}function ba(t){et.call(this),this.v=null,this.i(!0),this.handleEvent=t.handleEvent}function wa(t,e,n,i,o){if(void 0!==n){var r=e.La(),a=e.ab();void 0!==r&&a&&o&&0<o&&(t.Wa(Nn({rotation:r,duration:o,easing:On})),i&&t.Wa(Fn({source:a,duration:o,easing:On}))),e.rotate(n,i)}}function xa(t,e,n,i,o){var r=e.$();$a(t,e,n=e.constrainResolution(r,n,0),i,o)}function $a(t,e,n,i,o){if(n){var r,a=e.$(),s=e.ab();if(void 0!==a&&s&&n!==a&&o&&0<o&&(t.Wa(jn({resolution:a,duration:o,easing:On})),i&&t.Wa(Fn({source:s,duration:o,easing:On}))),i)t=e.ab(),o=e.$(),void 0!==t&&void 0!==o&&(r=[i[0]-n*(i[0]-t[0])/o,i[1]-n*(i[1]-t[1])/o]),e.mb(r);e.Ub(n)}}function _a(t){t=t||{},this.a=t.delta?t.delta:1,ba.call(this,{handleEvent:ka}),this.c=void 0!==t.duration?t.duration:250}function ka(t){var e=!1,n=t.originalEvent;if(t.type==Tr){e=t.map;var i=t.coordinate;n=n.shiftKey?-this.a:this.a;xa(e,e.aa(),n,i,this.c),t.preventDefault(),e=!0}return!e}function Ca(t){return(t=t.originalEvent).altKey&&!(t.metaKey||t.ctrlKey)&&t.shiftKey}function Sa(t){return 0==(t=t.originalEvent).button&&!(gi&&Fo&&t.ctrlKey)}function Ta(t){return"pointermove"==t.type}function Aa(t){return t.type==Cr}function Da(t){return!(t=t.originalEvent).altKey&&!(t.metaKey||t.ctrlKey)&&!t.shiftKey}function Ma(t){return!(t=t.originalEvent).altKey&&!(t.metaKey||t.ctrlKey)&&t.shiftKey}function Ea(t){return"INPUT"!==(t=t.originalEvent.target.tagName)&&"SELECT"!==t&&"TEXTAREA"!==t}function Pa(t){return"mouse"==t.b.pointerType}function Oa(t){return(t=t.b).isPrimary&&0===t.button}function Ia(t){ba.call(this,{handleEvent:(t=t||{}).handleEvent?t.handleEvent:La}),this.Oe=t.handleDownEvent?t.handleDownEvent:ae,this.Pe=t.handleDragEvent?t.handleDragEvent:m,this.Mi=t.handleMoveEvent?t.handleMoveEvent:m,this.tj=t.handleUpEvent?t.handleUpEvent:ae,this.C=!1,this.ia={},this.o=[]}function Ra(t){for(var e=t.length,n=0,i=0,o=0;o<e;o++)n+=t[o].clientX,i+=t[o].clientY;return[n/e,i/e]}function La(t){if(!(t instanceof $r))return!0;var e=!1,n=t.type;return n!==Mr&&n!==Ar&&n!==Er||(n=t.b,t.type==Er?delete this.ia[n.pointerId]:t.type==Mr?this.ia[n.pointerId]=n:n.pointerId in this.ia&&(this.ia[n.pointerId]=n),this.o=P(this.ia)),this.C&&(t.type==Ar?this.Pe(t):t.type==Er&&(this.C=this.tj(t))),t.type==Mr?(this.C=t=this.Oe(t),e=this.Gc(t)):t.type==Dr&&this.Mi(t),!e}function Fa(t){Ia.call(this,{handleDownEvent:Ba,handleDragEvent:Na,handleUpEvent:ja}),t=t||{},this.a=t.kinetic,this.c=this.j=null,this.A=t.condition?t.condition:Da,this.s=!1}function Na(t){var e=Ra(this.o);if(this.a&&this.a.b.push(e[0],e[1],Date.now()),this.c){var n=this.c[0]-e[0],i=e[1]-this.c[1],o=(t=t.map).aa(),r=o.V(),a=(i=n=[n,i],r.resolution);i[0]*=a,i[1]*=a,kt(n,r.rotation),bt(n,r.center),n=o.Pd(n),t.render(),o.mb(n)}this.c=e}function ja(t){var e,n,i,o,r,a,s,l=(t=t.map).aa();if(0!==this.o.length)return!(this.c=null);if(s=!this.s&&this.a)if((s=this.a).b.length<6)s=!1;else{var u=Date.now()-s.i,c=s.b.length-3;if(s.b[c+2]<u)s=!1;else{for(var p=c-3;0<p&&s.b[p+2]>u;)p-=3;u=s.b[c+2]-s.b[p+2];var h=s.b[c]-s.b[p];c=s.b[c+1]-s.b[p+1];s.c=Math.atan2(c,h),s.a=Math.sqrt(h*h+c*c)/u,s=s.a>s.g}}return s&&(s=((s=this.a).g-s.a)/s.f,c=this.a.c,p=l.ab(),this.j=(e=this.a,n=p,i=e.f,o=e.a,r=e.g-o,a=Math.log(e.g/e.a)/e.f,Fn({source:n,duration:a,easing:function(t){return o*(Math.exp(i*t*a)-1)/r}})),t.Wa(this.j),p=t.Ga(p),s=t.Ma([p[0]-s*Math.cos(c),p[1]-s*Math.sin(c)]),s=l.Pd(s),l.mb(s)),En(l,-1),t.render(),!1}function Ba(t){if(0<this.o.length&&this.A(t)){var e=t.map,n=e.aa();return this.c=null,this.C||En(n,1),e.render(),this.j&&ct(e.R,this.j)&&(n.mb(t.frameState.viewState.center),this.j=null),this.a&&((t=this.a).b.length=0,t.c=0,t.a=0),this.s=1<this.o.length,!0}return!1}function Ua(t){t=t||{},Ia.call(this,{handleDownEvent:Va,handleDragEvent:za,handleUpEvent:Ha}),this.c=t.condition?t.condition:Ca,this.a=void 0,this.j=void 0!==t.duration?t.duration:250}function za(t){if(Pa(t)){var e=t.map,n=e.Za();if(t=t.pixel,n=Math.atan2(n[1]/2-t[1],t[0]-n[0]/2),void 0!==this.a){t=n-this.a;var i=e.aa(),o=i.La();e.render(),wa(e,i,o-t)}this.a=n}}function Ha(t){if(!Pa(t))return!0;var e=(t=t.map).aa();En(e,-1);var n=e.La(),i=this.j;return wa(t,e,n=e.constrainRotation(n,0),void 0,i),!1}function Va(t){return!!(Pa(t)&&Sa(t)&&this.c(t))&&(En((t=t.map).aa(),1),t.render(),!(this.a=void 0))}function qa(t){this.f=null,this.a=document.createElement("div"),this.a.style.position="absolute",this.a.className="ol-box "+t,this.g=this.c=this.b=null}function Wa(t){var e=t.c,n=t.g;(t=t.a.style).left=Math.min(e[0],n[0])+"px",t.top=Math.min(e[1],n[1])+"px",t.width=Math.abs(n[0]-e[0])+"px",t.height=Math.abs(n[1]-e[1])+"px"}function Ga(t){var e=t.c,n=t.g;(e=[e,[e[0],n[1]],n,[n[0],e[1]]].map(t.b.Ma,t.b))[4]=e[0].slice(),t.f?t.f.pa([e]):t.f=new xn([e])}function Ya(t,e,n){G.call(this,t),this.coordinate=e,this.mapBrowserEvent=n}function Ka(t){Ia.call(this,{handleDownEvent:Qa,handleDragEvent:Xa,handleUpEvent:Ja}),t=t||{},this.a=new qa(t.className||"ol-dragbox"),this.c=null,this.D=t.condition?t.condition:re,this.A=t.boxEndCondition?t.boxEndCondition:Za}function Za(t,e,n){return 64<=(t=n[0]-e[0])*t+(e=n[1]-e[1])*e}function Xa(t){if(Pa(t)){var e=this.a,n=t.pixel;e.c=this.c,e.g=n,Ga(e),Wa(e),this.b(new Ya("boxdrag",t.coordinate,t))}}function Ja(t){return!Pa(t)||(this.a.setMap(null),this.A(t,this.c,t.pixel)&&(this.s(t),this.b(new Ya("boxend",t.coordinate,t))),!1)}function Qa(t){if(Pa(t)&&Sa(t)&&this.D(t)){this.c=t.pixel,this.a.setMap(t.map);var e=this.a,n=this.c;return e.c=this.c,e.g=n,Ga(e),Wa(e),this.b(new Ya("boxstart",t.coordinate,t)),!0}return!1}function ts(t){var e=(t=t||{}).condition?t.condition:Ma;this.j=void 0!==t.duration?t.duration:200,this.R=void 0!==t.out&&t.out,Ka.call(this,{condition:e,className:t.className||"ol-dragzoom"})}function es(t){ba.call(this,{handleEvent:ns}),t=t||{},this.a=function(t){return Da(t)&&Ea(t)},this.c=void 0!==t.condition?t.condition:this.a,this.o=void 0!==t.duration?t.duration:100,this.j=void 0!==t.pixelDelta?t.pixelDelta:128}function ns(t){var e=!1;if("keydown"==t.type){var n=t.originalEvent.keyCode;if(this.c(t)&&(40==n||37==n||39==n||38==n)){var i=t.map,o=(e=i.aa()).$()*this.j,r=0,a=0;40==n?a=-o:37==n?r=-o:39==n?r=o:a=o,kt(n=[r,a],e.La()),o=this.o,(r=e.ab())&&(o&&0<o&&i.Wa(Fn({source:r,duration:o,easing:Rn})),i=e.Pd([r[0]+n[0],r[1]+n[1]]),e.mb(i)),t.preventDefault(),e=!0}}return!e}function is(t){ba.call(this,{handleEvent:os}),t=t||{},this.c=t.condition?t.condition:Ea,this.a=t.delta?t.delta:1,this.o=void 0!==t.duration?t.duration:100}function os(t){var e=!1;if("keydown"==t.type||"keypress"==t.type){var n=t.originalEvent.charCode;if(this.c(t)&&(43==n||45==n))e=t.map,n=43==n?this.a:-this.a,e.render(),xa(e,e.aa(),n,void 0,this.o),t.preventDefault(),e=!0}return!e}function rs(t){ba.call(this,{handleEvent:as}),t=t||{},this.c=0,this.C=void 0!==t.duration?t.duration:250,this.s=void 0===t.useAnchor||t.useAnchor,this.a=null,this.j=this.o=void 0}function as(t){var e=!1;if("wheel"==t.type||"mousewheel"==t.type){e=t.map;var n,i=t.originalEvent;this.s&&(this.a=t.coordinate),"wheel"==t.type?(n=i.deltaY,Ro&&i.deltaMode===y.WheelEvent.DOM_DELTA_PIXEL&&(n/=No),i.deltaMode===y.WheelEvent.DOM_DELTA_LINE&&(n*=40)):"mousewheel"==t.type&&(n=-i.wheelDeltaY,Lo&&(n/=3)),this.c+=n,void 0===this.o&&(this.o=Date.now()),n=Math.max(80-(Date.now()-this.o),0),y.clearTimeout(this.j),this.j=y.setTimeout(this.A.bind(this,e),n),t.preventDefault(),e=!0}return!e}function ss(t){Ia.call(this,{handleDownEvent:cs,handleDragEvent:ls,handleUpEvent:us}),t=t||{},this.c=null,this.j=void 0,this.a=!1,this.s=0,this.D=void 0!==t.threshold?t.threshold:.3,this.A=void 0!==t.duration?t.duration:250}function ls(t){var e=0,n=this.o[0],i=this.o[1];n=Math.atan2(i.clientY-n.clientY,i.clientX-n.clientX);void 0!==this.j&&(e=n-this.j,this.s+=e,!this.a&&Math.abs(this.s)>this.D&&(this.a=!0)),this.j=n,n=(t=t.map).a.getBoundingClientRect(),(i=Ra(this.o))[0]-=n.left,i[1]-=n.top,this.c=t.Ma(i),this.a&&(i=(n=t.aa()).La(),t.render(),wa(t,n,i+e,this.c))}function us(t){if(this.o.length<2){var e=(t=t.map).aa();if(En(e,-1),this.a){var n=e.La(),i=this.c,o=this.A;wa(t,e,n=e.constrainRotation(n,0),i,o)}return!1}return!0}function cs(t){return 2<=this.o.length&&(t=t.map,this.c=null,this.j=void 0,this.a=!1,this.s=0,this.C||En(t.aa(),1),t.render(),!0)}function ps(t){Ia.call(this,{handleDownEvent:fs,handleDragEvent:hs,handleUpEvent:ds}),t=t||{},this.c=null,this.s=void 0!==t.duration?t.duration:400,this.a=void 0,this.j=1}function hs(t){var e=1,n=this.o[0],i=this.o[1],o=n.clientX-i.clientX;n=n.clientY-i.clientY,o=Math.sqrt(o*o+n*n);void 0!==this.a&&(e=this.a/o),this.a=o,1!=e&&(this.j=e);n=(o=(t=t.map).aa()).$(),i=t.a.getBoundingClientRect();var r=Ra(this.o);r[0]-=i.left,r[1]-=i.top,this.c=t.Ma(r),t.render(),$a(t,o,n*e,this.c)}function ds(t){if(this.o.length<2){var e=(t=t.map).aa();En(e,-1);var n=e.$(),i=this.c,o=this.s;return $a(t,e,n=e.constrainResolution(n,0,this.j-1),i,o),!1}return!0}function fs(t){return 2<=this.o.length&&(t=t.map,this.c=null,this.a=void 0,this.j=1,this.C||En(t.aa(),1),t.render(),!0)}function gs(t){t=t||{};var e=new qn,n=new ya(-.005,.05,100);return(void 0===t.altShiftDragRotate||t.altShiftDragRotate)&&e.push(new Ua),(void 0===t.doubleClickZoom||t.doubleClickZoom)&&e.push(new _a({delta:t.zoomDelta,duration:t.zoomDuration})),(void 0===t.dragPan||t.dragPan)&&e.push(new Fa({kinetic:n})),(void 0===t.pinchRotate||t.pinchRotate)&&e.push(new ss),(void 0===t.pinchZoom||t.pinchZoom)&&e.push(new ps({duration:t.zoomDuration})),(void 0===t.keyboard||t.keyboard)&&(e.push(new es),e.push(new is({delta:t.zoomDelta,duration:t.zoomDuration}))),(void 0===t.mouseWheelZoom||t.mouseWheelZoom)&&e.push(new rs({duration:t.zoomDuration})),(void 0===t.shiftDragZoom||t.shiftDragZoom)&&e.push(new ts({duration:t.zoomDuration})),e}function ms(t){var e=t||{};delete(t=M({},e)).layers,e=e.layers,Ir.call(this,t),this.f=[],this.a={},B(this,it("layers"),this.Tk,this),e?Array.isArray(e)&&(e=new qn(e.slice())):e=new qn,this.oh(e)}function vs(t){ce.call(this,{code:t,units:"m",extent:bs,global:!0,worldExtent:ws})}g(Ir,et),(t=Ir.prototype).H=function(){return this.get("extent")},t.Nb=function(){return this.get("maxResolution")},t.Ob=function(){return this.get("minResolution")},t.Pb=function(){return this.get("opacity")},t.xb=function(){return this.get("visible")},t.Qb=function(){return this.get("zIndex")},t.fc=function(t){this.set("extent",t)},t.nc=function(t){this.set("maxResolution",t)},t.oc=function(t){this.set("minResolution",t)},t.gc=function(t){this.set("opacity",t)},t.hc=function(t){this.set("visible",t)},t.ic=function(t){this.set("zIndex",t)},g(Fr,G),g(Nr,Ir),(t=Nr.prototype).hf=function(t){return(t=t||[]).push(Rr(this)),t},t.ha=function(){return this.get("source")||null},t.kf=function(){var t=this.ha();return t?t.V():"undefined"},t.Lm=function(){this.u()},t.fl=function(){this.v&&(H(this.v),this.v=null);var t=this.ha();t&&(this.v=B(t,"change",this.Lm,this)),this.u()},t.setMap=function(t){this.o&&(H(this.o),this.o=null),t||this.u(),this.j&&(H(this.j),this.j=null),t&&(this.o=B(t,"precompose",function(t){var e=Rr(this);e.Qc=!1,e.zIndex=1/0,t.frameState.layerStatesArray.push(e),t.frameState.layerStates[O(this)]=e},this),this.j=B(this,"change",t.render,t),this.u())},t.Fc=function(t){this.set("source",t)},g(Br,Z),Br.prototype.H=function(){return this.extent},Br.prototype.$=function(){return this.resolution},Br.prototype.V=function(){return this.state},g(qr,J),(t=qr.prototype).ra=m,t.Cc=function(t,e,n,i){if(t=t.slice(),Vr(e.pixelToCoordinateMatrix,t,t),this.ra(t,e,re,this))return n.call(i,this.a)},t.le=ae,t.Qd=function(n,i,o){return function(e,t){return ro(n,i,e,t,function(t){o[e]||(o[e]={}),o[e][t.ma.toString()]=t})}},t.Om=function(t){2===t.target.V()&&Gr(this)},(t=ta.prototype).qe=function(){return this.v},t.Xd=function(){return this.U},t.re=function(){return this.j},t.se=function(){return this.i},t.Yd=function(){return this.C},t.te=function(t){this.v=t},t.ue=function(t){this.j=t},t.ve=function(t){this.i=t},g(ea,ta),(t=ea.prototype).Yb=function(){if(this.f)return this.f;var t=this.c,e=this.Fb();if("fraction"==this.o||"fraction"==this.s){if(!e)return null;t=this.c.slice(),"fraction"==this.o&&(t[0]*=e[0]),"fraction"==this.s&&(t[1]*=e[1])}if("top-left"!=this.a){if(!e)return null;t===this.c&&(t=this.c.slice()),"top-right"!=this.a&&"bottom-right"!=this.a||(t[0]=-t[0]+e[0]),"bottom-left"!=this.a&&"bottom-right"!=this.a||(t[1]=-t[1]+e[1])}return this.f=t},t.jc=function(){var t=this.b;return t.c?t.c:t.a},t.ld=function(){return this.b.g},t.td=function(){return this.b.f},t.pe=function(){var t=this.b;if(!t.o)if(t.s){var e=t.g[0],n=t.g[1],i=xi(e,n);i.fillRect(0,0,e,n),t.o=i.canvas}else t.o=t.a;return t.o},t.Ia=function(){if(this.l)return this.l;var t=this.D;if("top-left"!=this.g){var e=this.Fb(),n=this.b.g;if(!e||!n)return null;t=t.slice(),"top-right"!=this.g&&"bottom-right"!=this.g||(t[0]=n[0]-e[0]-t[0]),"bottom-left"!=this.g&&"bottom-right"!=this.g||(t[1]=n[1]-e[1]-t[1])}return this.l=t},t.En=function(){return this.b.j},t.Fb=function(){return this.A?this.A:this.b.g},t.pf=function(t,e){return B(this.b,"change",t,e)},t.load=function(){this.b.load()},t.Xf=function(t,e){z(this.b,"change",t,e)},g(na,Z),na.prototype.v=function(){this.f=3,this.i.forEach(H),this.i=null,this.b("change")},na.prototype.U=function(){if(this.f=2,this.g&&(this.a.width=this.g[0],this.a.height=this.g[1]),this.g=[this.a.width,this.a.height],this.i.forEach(H),this.i=null,ia(this),!this.s&&null!==this.l){this.c.width=this.a.width,this.c.height=this.a.height;var t=this.c.getContext("2d");t.drawImage(this.a,0,0);for(var e=t.getImageData(0,0,this.a.width,this.a.height),n=e.data,i=this.l[0]/255,o=this.l[1]/255,r=this.l[2]/255,a=0,s=n.length;a<s;a+=4)n[a]*=i,n[a+1]*=o,n[a+2]*=r;t.putImageData(e,0,0)}this.b("change")},na.prototype.load=function(){if(0==this.f){this.f=1,this.i=[U(this.a,"error",this.v,this),U(this.a,"load",this.U,this)];try{this.a.src=this.j}catch(t){this.v()}}},i(oa),oa.prototype.clear=function(){this.b={},this.a=0},oa.prototype.get=function(t,e,n){return(t=e+":"+t+":"+(n?Qn(n):"null"))in this.b?this.b[t]:null},oa.prototype.set=function(t,e,n,i){this.b[e+":"+t+":"+(n?Qn(n):"null")]=i,++this.a},g(ra,q),(t=ra.prototype).ka=function(){for(var t in this.g)W(this.g[t])},t.ra=function(t,o,r,a,e,n){function i(t,e){var n=O(t).toString(),i=o.layerStates[O(e)].Qc;if(!(n in o.skippedFeatureUids)||i)return r.call(a,t,i?e:null)}var s,l=(c=o.viewState).resolution,u=c.projection,c=t;if(u.a){var p=te(u=u.H());((d=t[0])<u[0]||d>u[2])&&(c=[d+p*Math.ceil((u[0]-d)/p),t[1]])}for(p=(u=o.layerStatesArray).length-1;0<=p;--p){var h=u[p],d=h.layer;if(jr(h,l)&&e.call(n,d)&&(h=la(this,d),d.ha()&&(s=h.ra(d.ha().D?c:t,o,i,a)),s))return s}},t.rh=function(t,e,n,i,o,r){var a,s,l=e.viewState.resolution,u=e.layerStatesArray;for(s=u.length-1;0<=s;--s){var c=(a=u[s]).layer;if(jr(a,l)&&o.call(r,c)&&(a=la(this,c).Cc(t,e,n,i)))return a}},t.sh=function(t,e,n,i){return void 0!==this.ra(t,e,re,this,n,i)},t.Rk=function(){this.i.render()},t.Ce=m,t.To=function(t,e){for(var n in this.g)if(!(e&&n in e.layerStates)){var i=n,o=this.g[i];delete this.g[i],H(this.s[i]),delete this.s[i],W(o)}},pa.prototype.clear=function(){this.b.length=0,this.a.length=0,E(this.g)},pa.prototype.f=function(t){var e=this.j(t);return 1/0!=e&&(this.b.push(t),this.a.push(e),this.g[this.l(t)]=!0,fa(this,0,this.b.length-1),!0)},pa.prototype.wc=function(){return this.b.length},pa.prototype.Ya=function(){return 0===this.b.length},g(ma,pa),ma.prototype.f=function(t){var e=pa.prototype.f.call(this,t);return e&&B(t[0],"change",this.o,this),e},ma.prototype.o=function(t){var e=(t=t.target).V();2!==e&&3!==e&&4!==e&&5!==e||(z(t,"change",this.o,this),(t=t.ib())in this.c&&(delete this.c[t],--this.i),this.s())},g(ba,et),ba.prototype.f=function(){return this.get("active")},ba.prototype.l=function(){return this.v},ba.prototype.i=function(t){this.set("active",t)},ba.prototype.setMap=function(t){this.v=t},g(_a,ba),g(Ia,ba),Ia.prototype.Gc=function(t){return t},g(Fa,Ia),Fa.prototype.Gc=ae,g(Ua,Ia),Ua.prototype.Gc=ae,g(qa,q),qa.prototype.ka=function(){this.setMap(null)},qa.prototype.setMap=function(t){if(this.b){this.b.A.removeChild(this.a);var e=this.a.style;e.left=e.top=e.width=e.height="inherit"}(this.b=t)&&this.b.A.appendChild(this.a)},qa.prototype.W=function(){return this.f},g(Ya,G),g(Ka,Ia),Ka.prototype.W=function(){return this.a.W()},Ka.prototype.s=m,g(ts,Ka),ts.prototype.s=function(){var t=this.v,e=t.aa(),n=t.Za(),i=this.W().H();if(this.R){var o,r,a=e.Kc(n),s=(i=[t.Ga(Wt(i)),t.Ga(Qt(i))],Ft(1/0,1/0,-1/0,-1/0,void 0));for(o=0,r=i.length;o<r;++o)zt(s,i[o]);ie(a,1/Dn(s,n)),i=a}n=e.constrainResolution(Dn(i,n)),a=e.$(),s=e.ab(),t.Wa(jn({resolution:a,duration:this.j,easing:On})),t.Wa(Fn({source:s,duration:this.j,easing:On})),e.mb(Yt(i)),e.Ub(n)},g(es,ba),g(is,ba),g(rs,ba),rs.prototype.A=function(t){var e=x(this.c,-1,1),n=t.aa();t.render(),xa(t,n,-e,this.a,this.C),this.c=0,this.a=null,this.j=this.o=void 0},rs.prototype.D=function(t){(this.s=t)||(this.a=null)},g(ss,Ia),ss.prototype.Gc=ae,g(ps,Ia),ps.prototype.Gc=ae,g(ms,Ir),(t=ms.prototype).ce=function(){this.xb()&&this.u()},t.Tk=function(){this.f.forEach(H),this.f.length=0;var t,e,n=this.Tc();for(var i in this.f.push(B(n,"add",this.Sk,this),B(n,"remove",this.Uk,this)),this.a)this.a[i].forEach(H);for(E(this.a),i=0,t=(n=n.a).length;i<t;i++)e=n[i],this.a[O(e).toString()]=[B(e,"propertychange",this.ce,this),B(e,"change",this.ce,this)];this.u()},t.Sk=function(t){var e=O(t=t.element).toString();this.a[e]=[B(t,"propertychange",this.ce,this),B(t,"change",this.ce,this)],this.u()},t.Uk=function(t){t=O(t.element).toString(),this.a[t].forEach(H),delete this.a[t],this.u()},t.Tc=function(){return this.get("layers")},t.oh=function(t){this.set("layers",t)},t.hf=function(t){var e,n,i=void 0!==t?t:[],o=i.length;for(this.Tc().forEach(function(t){t.hf(i)}),t=Rr(this),e=i.length;o<e;o++)(n=i[o]).opacity*=t.opacity,n.visible=n.visible&&t.visible,n.maxResolution=Math.min(n.maxResolution,t.maxResolution),n.minResolution=Math.max(n.minResolution,t.minResolution),void 0!==t.extent&&(n.extent=void 0!==n.extent?Xt(n.extent,t.extent):t.extent);return i},t.kf=function(){return"ready"},g(vs,ce),vs.prototype.getPointResolution=function(t,e){return t/$(e[1]/6378137)};var ys=6378137*Math.PI,bs=[-ys,-ys,ys,ys],ws=[-180,-85,180,85],xs="EPSG:3857 EPSG:102100 EPSG:102113 EPSG:900913 urn:ogc:def:crs:EPSG:6.18:3:3857 urn:ogc:def:crs:EPSG::3857 http://www.opengis.net/gml/srs/epsg.xml#3857".split(" ").map(function(t){return new vs(t)});function $s(t,e,n){var i=t.length;n=1<n?n:2,void 0===e&&(e=2<n?t.slice():Array(i));for(var o=0;o<i;o+=n)e[o]=6378137*Math.PI*t[o]/180,e[o+1]=6378137*Math.log(Math.tan(Math.PI*(t[o+1]+90)/360));return e}function _s(t,e,n){var i=t.length;n=1<n?n:2,void 0===e&&(e=2<n?t.slice():Array(i));for(var o=0;o<i;o+=n)e[o]=180*t[o]/(6378137*Math.PI),e[o+1]=360*Math.atan(Math.exp(t[o+1]/6378137))/Math.PI-90;return e}var ks=new se(6378137);function Cs(t,e){ce.call(this,{code:t,units:"degrees",extent:Ss,axisOrientation:e,global:!0,metersPerUnit:Ts,worldExtent:Ss})}g(Cs,ce),Cs.prototype.getPointResolution=function(t){return t};var Ss=[-180,-90,180,90],Ts=Math.PI*ks.radius/180,As=[new Cs("CRS:84"),new Cs("EPSG:4326","neu"),new Cs("urn:ogc:def:crs:EPSG::4326","neu"),new Cs("urn:ogc:def:crs:EPSG:6.6:4326","neu"),new Cs("urn:ogc:def:crs:OGC:1.3:CRS84"),new Cs("urn:ogc:def:crs:OGC:2:84"),new Cs("http://www.opengis.net/gml/srs/epsg.xml#4326","neu"),new Cs("urn:x-ogc:def:crs:EPSG:4326","neu")];function Ds(){var t,n,i;fe(xs),fe(As),t=xs,n=$s,i=_s,As.forEach(function(e){t.forEach(function(t){ve(e,t,n),ve(t,e,i)})})}function Ms(t){Nr.call(this,t||{})}function Es(t){var e=M({},t=t||{});delete e.preload,delete e.useInterimTilesOnError,Nr.call(this,e),this.l(void 0!==t.preload?t.preload:0),this.A(void 0===t.useInterimTilesOnError||t.useInterimTilesOnError)}g(Ms,Nr),g(Es,Nr),Es.prototype.f=function(){return this.get("preload")},Es.prototype.l=function(t){this.set("preload",t)},Es.prototype.c=function(){return this.get("useInterimTilesOnError")},Es.prototype.A=function(t){this.set("useInterimTilesOnError",t)};var Ps=[0,0,0,1],Os=[],Is=[0,0,0,1];function Rs(t,e,n,i){0!==e&&(t.translate(n,i),t.rotate(e),t.translate(-n,-i))}function Ls(t){t=t||{},this.b=void 0!==t.color?t.color:null,this.a=void 0}function Fs(t){return void 0===t.a&&(t.a=t.b instanceof CanvasPattern||t.b instanceof CanvasGradient?O(t.b).toString():"f"+(t.b?Qn(t.b):"-")),t.a}function Ns(){this.a=-1}function js(){this.a=64,this.b=Array(4),this.c=Array(this.a),this.b[0]=1732584193,this.b[1]=4023233417,this.b[2]=2562383102,this.b[3]=271733878,this.f=this.g=0}function Bs(t,e,n){n||(n=0);var i=Array(16);if(s(e))for(var o=0;o<16;++o)i[o]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(o=0;o<16;++o)i[o]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.b[0],n=t.b[1];o=t.b[2];var r,a=t.b[3];r=(n=(o=(a=(e=(n=(o=(a=(e=(n=(o=(a=(e=(n=(o=(a=(e=(n=(o=(a=(e=(n=(o=(a=(e=(n=(o=(a=(e=(n=(o=(a=(e=(n=(o=(a=(e=(n=(o=(a=(e=(n=(o=(a=(e=(n=(o=(a=(e=(n=(o=(a=(e=(n=(o=(a=(e=(n=(o=(a=(e=n+((r=e+(a^n&(o^a))+i[0]+3614090360&4294967295)<<7&4294967295|r>>>25))+((r=a+(o^e&(n^o))+i[1]+3905402710&4294967295)<<12&4294967295|r>>>20))+((r=o+(n^a&(e^n))+i[2]+606105819&4294967295)<<17&4294967295|r>>>15))+((r=n+(e^o&(a^e))+i[3]+3250441966&4294967295)<<22&4294967295|r>>>10))+((r=e+(a^n&(o^a))+i[4]+4118548399&4294967295)<<7&4294967295|r>>>25))+((r=a+(o^e&(n^o))+i[5]+1200080426&4294967295)<<12&4294967295|r>>>20))+((r=o+(n^a&(e^n))+i[6]+2821735955&4294967295)<<17&4294967295|r>>>15))+((r=n+(e^o&(a^e))+i[7]+4249261313&4294967295)<<22&4294967295|r>>>10))+((r=e+(a^n&(o^a))+i[8]+1770035416&4294967295)<<7&4294967295|r>>>25))+((r=a+(o^e&(n^o))+i[9]+2336552879&4294967295)<<12&4294967295|r>>>20))+((r=o+(n^a&(e^n))+i[10]+4294925233&4294967295)<<17&4294967295|r>>>15))+((r=n+(e^o&(a^e))+i[11]+2304563134&4294967295)<<22&4294967295|r>>>10))+((r=e+(a^n&(o^a))+i[12]+1804603682&4294967295)<<7&4294967295|r>>>25))+((r=a+(o^e&(n^o))+i[13]+4254626195&4294967295)<<12&4294967295|r>>>20))+((r=o+(n^a&(e^n))+i[14]+2792965006&4294967295)<<17&4294967295|r>>>15))+((r=n+(e^o&(a^e))+i[15]+1236535329&4294967295)<<22&4294967295|r>>>10))+((r=e+(o^a&(n^o))+i[1]+4129170786&4294967295)<<5&4294967295|r>>>27))+((r=a+(n^o&(e^n))+i[6]+3225465664&4294967295)<<9&4294967295|r>>>23))+((r=o+(e^n&(a^e))+i[11]+643717713&4294967295)<<14&4294967295|r>>>18))+((r=n+(a^e&(o^a))+i[0]+3921069994&4294967295)<<20&4294967295|r>>>12))+((r=e+(o^a&(n^o))+i[5]+3593408605&4294967295)<<5&4294967295|r>>>27))+((r=a+(n^o&(e^n))+i[10]+38016083&4294967295)<<9&4294967295|r>>>23))+((r=o+(e^n&(a^e))+i[15]+3634488961&4294967295)<<14&4294967295|r>>>18))+((r=n+(a^e&(o^a))+i[4]+3889429448&4294967295)<<20&4294967295|r>>>12))+((r=e+(o^a&(n^o))+i[9]+568446438&4294967295)<<5&4294967295|r>>>27))+((r=a+(n^o&(e^n))+i[14]+3275163606&4294967295)<<9&4294967295|r>>>23))+((r=o+(e^n&(a^e))+i[3]+4107603335&4294967295)<<14&4294967295|r>>>18))+((r=n+(a^e&(o^a))+i[8]+1163531501&4294967295)<<20&4294967295|r>>>12))+((r=e+(o^a&(n^o))+i[13]+2850285829&4294967295)<<5&4294967295|r>>>27))+((r=a+(n^o&(e^n))+i[2]+4243563512&4294967295)<<9&4294967295|r>>>23))+((r=o+(e^n&(a^e))+i[7]+1735328473&4294967295)<<14&4294967295|r>>>18))+((r=n+(a^e&(o^a))+i[12]+2368359562&4294967295)<<20&4294967295|r>>>12))+((r=e+(n^o^a)+i[5]+4294588738&4294967295)<<4&4294967295|r>>>28))+((r=a+(e^n^o)+i[8]+2272392833&4294967295)<<11&4294967295|r>>>21))+((r=o+(a^e^n)+i[11]+1839030562&4294967295)<<16&4294967295|r>>>16))+((r=n+(o^a^e)+i[14]+4259657740&4294967295)<<23&4294967295|r>>>9))+((r=e+(n^o^a)+i[1]+2763975236&4294967295)<<4&4294967295|r>>>28))+((r=a+(e^n^o)+i[4]+1272893353&4294967295)<<11&4294967295|r>>>21))+((r=o+(a^e^n)+i[7]+4139469664&4294967295)<<16&4294967295|r>>>16))+((r=n+(o^a^e)+i[10]+3200236656&4294967295)<<23&4294967295|r>>>9))+((r=e+(n^o^a)+i[13]+681279174&4294967295)<<4&4294967295|r>>>28))+((r=a+(e^n^o)+i[0]+3936430074&4294967295)<<11&4294967295|r>>>21))+((r=o+(a^e^n)+i[3]+3572445317&4294967295)<<16&4294967295|r>>>16))+((r=n+(o^a^e)+i[6]+76029189&4294967295)<<23&4294967295|r>>>9))+((r=e+(n^o^a)+i[9]+3654602809&4294967295)<<4&4294967295|r>>>28))+((r=a+(e^n^o)+i[12]+3873151461&4294967295)<<11&4294967295|r>>>21))+((r=o+(a^e^n)+i[15]+530742520&4294967295)<<16&4294967295|r>>>16))+((r=n+(o^a^e)+i[2]+3299628645&4294967295)<<23&4294967295|r>>>9))+((r=e+(o^(n|~a))+i[0]+4096336452&4294967295)<<6&4294967295|r>>>26))+((r=a+(n^(e|~o))+i[7]+1126891415&4294967295)<<10&4294967295|r>>>22))+((r=o+(e^(a|~n))+i[14]+2878612391&4294967295)<<15&4294967295|r>>>17))+((r=n+(a^(o|~e))+i[5]+4237533241&4294967295)<<21&4294967295|r>>>11))+((r=e+(o^(n|~a))+i[12]+1700485571&4294967295)<<6&4294967295|r>>>26))+((r=a+(n^(e|~o))+i[3]+2399980690&4294967295)<<10&4294967295|r>>>22))+((r=o+(e^(a|~n))+i[10]+4293915773&4294967295)<<15&4294967295|r>>>17))+((r=n+(a^(o|~e))+i[1]+2240044497&4294967295)<<21&4294967295|r>>>11))+((r=e+(o^(n|~a))+i[8]+1873313359&4294967295)<<6&4294967295|r>>>26))+((r=a+(n^(e|~o))+i[15]+4264355552&4294967295)<<10&4294967295|r>>>22))+((r=o+(e^(a|~n))+i[6]+2734768916&4294967295)<<15&4294967295|r>>>17))+((r=n+(a^(o|~e))+i[13]+1309151649&4294967295)<<21&4294967295|r>>>11))+((a=(e=n+((r=e+(o^(n|~a))+i[4]+4149444226&4294967295)<<6&4294967295|r>>>26))+((r=a+(n^(e|~o))+i[11]+3174756917&4294967295)<<10&4294967295|r>>>22))^((o=a+((r=o+(e^(a|~n))+i[2]+718787259&4294967295)<<15&4294967295|r>>>17))|~e))+i[9]+3951481745&4294967295,t.b[0]=t.b[0]+e&4294967295,t.b[1]=t.b[1]+(o+(r<<21&4294967295|r>>>11))&4294967295,t.b[2]=t.b[2]+o&4294967295,t.b[3]=t.b[3]+a&4294967295}function Us(t,e){var n;void 0===n&&(n=e.length);for(var i=n-t.a,o=t.c,r=t.g,a=0;a<n;){if(0==r)for(;a<=i;)Bs(t,e,a),a+=t.a;if(s(e)){for(;a<n;)if(o[r++]=e.charCodeAt(a++),r==t.a){Bs(t,o),r=0;break}}else for(;a<n;)if(o[r++]=e[a++],r==t.a){Bs(t,o),r=0;break}}t.g=r,t.f+=n}function zs(t){t=t||{},this.b=void 0!==t.color?t.color:null,this.f=t.lineCap,this.g=void 0!==t.lineDash?t.lineDash:null,this.c=t.lineJoin,this.i=t.miterLimit,this.a=t.width,this.l=void 0}function Hs(t){if(void 0===t.l){var e="s"+(t.b?Qn(t.b):"-")+","+(void 0!==t.f?t.f.toString():"-")+","+(t.g?t.g.toString():"-")+","+(void 0!==t.c?t.c:"-")+","+(void 0!==t.i?t.i.toString():"-")+","+(void 0!==t.a?t.a.toString():"-"),n=new js;Us(n,e),(e=Array((n.g<56?n.a:2*n.a)-n.g))[0]=128;for(var i=1;i<e.length-8;++i)e[i]=0;var o=8*n.f;for(i=e.length-8;i<e.length;++i)e[i]=255&o,o/=256;for(Us(n,e),e=Array(16),i=o=0;i<4;++i)for(var r=0;r<32;r+=8)e[o++]=n.b[i]>>>r&255;if(e.length<=8192)n=String.fromCharCode.apply(null,e);else for(n="",i=0;i<e.length;i+=8192)o=Yn(e,i,i+8192),n+=String.fromCharCode.apply(null,o);t.l=n}return t.l}function Vs(t){t=t||{},this.l=this.f=this.c=null,this.g=void 0!==t.fill?t.fill:null,this.b=void 0!==t.stroke?t.stroke:null,this.a=t.radius,this.A=[0,0],this.s=this.D=this.o=null;var e,n,i=t.atlasManager,o=null,r=0;this.b&&(n=Qn(this.b.b),void 0===(r=this.b.a)&&(r=1),o=this.b.g,jo||(o=null));var a=2*(this.a+r)+1;if(n={strokeStyle:n,Bd:r,size:a,lineDash:o},void 0===i)i=xi(a,a),this.f=i.canvas,e=a=this.f.width,this.Gh(n,i,0,0),this.g?this.l=this.f:(i=xi(n.size,n.size),this.l=i.canvas,this.Fh(n,i,0,0));else{a=Math.round(a),(o=!this.g)&&(e=this.Fh.bind(this,n));r=this.b?Hs(this.b):"-";var s=this.g?Fs(this.g):"-";this.c&&r==this.c[1]&&s==this.c[2]&&this.a==this.c[3]||(this.c=["c"+r+s+(void 0!==this.a?this.a.toString():"-"),r,s,this.a]),i=i.add(this.c[0],a,a,this.Gh.bind(this,n),e),this.f=i.image,this.A=[i.offsetX,i.offsetY],e=i.image.width,this.l=o?i.Sg:this.f}this.o=[a/2,a/2],this.D=[a,a],this.s=[e,e],ta.call(this,{opacity:1,rotateWithView:!1,rotation:0,scale:1,snapToPixel:void 0===t.snapToPixel||t.snapToPixel})}function qs(t){t=t||{},this.i=null,this.g=Zs,void 0!==t.geometry&&this.Jh(t.geometry),this.c=void 0!==t.fill?t.fill:null,this.a=void 0!==t.image?t.image:null,this.f=void 0!==t.stroke?t.stroke:null,this.l=void 0!==t.text?t.text:null,this.b=t.zIndex}function Ws(t){var e;"function"!=typeof t&&(e=Array.isArray(t)?t:[t],t=function(){return e});return t}Ls.prototype.g=function(){return this.b},Ls.prototype.f=function(t){this.b=t,this.a=void 0},function(){function t(){}t.prototype=Ns.prototype,js.a=Ns.prototype,((js.prototype=new t).constructor=js).b=function(t,e,n){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return Ns.prototype[e].apply(t,i)}}(),(t=zs.prototype).Kn=function(){return this.b},t.dk=function(){return this.f},t.Ln=function(){return this.g},t.ek=function(){return this.c},t.jk=function(){return this.i},t.Mn=function(){return this.a},t.Nn=function(t){this.b=t,this.l=void 0},t.fp=function(t){this.f=t,this.l=void 0},t.On=function(t){this.g=t,this.l=void 0},t.gp=function(t){this.c=t,this.l=void 0},t.hp=function(t){this.i=t,this.l=void 0},t.lp=function(t){this.a=t,this.l=void 0},g(Vs,ta),(t=Vs.prototype).Yb=function(){return this.o},t.Bn=function(){return this.g},t.pe=function(){return this.l},t.jc=function(){return this.f},t.td=function(){return 2},t.ld=function(){return this.s},t.Ia=function(){return this.A},t.Cn=function(){return this.a},t.Fb=function(){return this.D},t.Dn=function(){return this.b},t.pf=m,t.load=m,t.Xf=m,t.Gh=function(t,e,n,i){e.setTransform(1,0,0,1,0,0),e.translate(n,i),e.beginPath(),e.arc(t.size/2,t.size/2,this.a,0,2*Math.PI,!0),this.g&&(e.fillStyle=ri(this.g.b),e.fill()),this.b&&(e.strokeStyle=t.strokeStyle,e.lineWidth=t.Bd,t.lineDash&&e.setLineDash(t.lineDash),e.stroke()),e.closePath()},t.Fh=function(t,e,n,i){e.setTransform(1,0,0,1,0,0),e.translate(n,i),e.beginPath(),e.arc(t.size/2,t.size/2,this.a,0,2*Math.PI,!0),e.fillStyle=Qn(Ps),e.fill(),this.b&&(e.strokeStyle=t.strokeStyle,e.lineWidth=t.Bd,t.lineDash&&e.setLineDash(t.lineDash),e.stroke()),e.closePath()},(t=qs.prototype).W=function(){return this.i},t.Zj=function(){return this.g},t.Pn=function(){return this.c},t.Qn=function(){return this.a},t.Rn=function(){return this.f},t.Ha=function(){return this.l},t.Sn=function(){return this.b},t.Jh=function(e){"function"==typeof e?this.g=e:"string"==typeof e?this.g=function(t){return t.get(e)}:e?e&&(this.g=function(){return e}):this.g=Zs,this.i=e},t.Tn=function(t){this.b=t};var Gs=null;function Ys(){if(!Gs){var t=new Ls({color:"rgba(255,255,255,0.4)"}),e=new zs({color:"#3399CC",width:1.25});Gs=[new qs({image:new Vs({fill:t,stroke:e,radius:5}),fill:t,stroke:e})]}return Gs}function Ks(){var t={},e=[255,255,255,1],n=[0,153,255,1];return t.Polygon=[new qs({fill:new Ls({color:[255,255,255,.5]})})],t.MultiPolygon=t.Polygon,t.LineString=[new qs({stroke:new zs({color:e,width:5})}),new qs({stroke:new zs({color:n,width:3})})],t.MultiLineString=t.LineString,t.Circle=t.Polygon.concat(t.LineString),t.Point=[new qs({image:new Vs({radius:6,fill:new Ls({color:n}),stroke:new zs({color:e,width:1.5})}),zIndex:1/0})],t.MultiPoint=t.Point,t.GeometryCollection=t.Polygon.concat(t.LineString,t.Point),t}function Zs(t){return t.W()}function Xs(t){var e=M({},t=t||{});delete e.style,delete e.renderBuffer,delete e.updateWhileAnimating,delete e.updateWhileInteracting,Nr.call(this,e),this.a=void 0!==t.renderBuffer?t.renderBuffer:100,this.A=null,this.i=void 0,this.l(t.style),this.S=void 0!==t.updateWhileAnimating&&t.updateWhileAnimating,this.T=void 0!==t.updateWhileInteracting&&t.updateWhileInteracting}function Js(t){return t.get("renderOrder")}function Qs(t){var e=M({},t=t||{});delete e.preload,delete e.useInterimTilesOnError,Xs.call(this,e),this.Y(t.preload?t.preload:0),this.ia(!t.useInterimTilesOnError||t.useInterimTilesOnError),this.s=t.renderMode||"hybrid"}function tl(t,e,n,i,o){this.f=t,this.A=e,this.c=n,this.D=i,this.Hc=o,this.i=this.b=this.a=this.ia=this.Ra=this.Y=null,this.qa=this.za=this.v=this.Ba=this.ya=this.R=0,this.Gb=!1,this.l=this.ta=0,this.Aa=!1,this.S=0,this.g="",this.j=this.C=this.qb=this.Sa=0,this.T=this.s=this.o=null,this.U=[],this.Hb=Ee()}function el(t,e,n){if(t.i){e=Ue(e,0,n,2,t.D,t.U),n=t.f;var i=t.Hb,o=n.globalAlpha;1!=t.v&&(n.globalAlpha=o*t.v);var r,a,s=t.ta;for(t.Gb&&(s+=t.Hc),r=0,a=e.length;r<a;r+=2){var l=e[r]-t.R,u=e[r+1]-t.ya;if(t.Aa&&(l=Math.round(l),u=Math.round(u)),0!==s||1!=t.l){var c=l+t.R,p=u+t.ya;zr(i,c,p,t.l,t.l,s,-c,-p),n.setTransform(i[0],i[1],i[4],i[5],i[12],i[13])}n.drawImage(t.i,t.za,t.qa,t.S,t.Ba,l,u,t.S,t.Ba)}0===s&&1==t.l||n.setTransform(1,0,0,1,0,0),1!=t.v&&(n.globalAlpha=o)}}function nl(t,e,n,i){var o=0;if(t.T&&""!==t.g){t.o&&rl(t,t.o),t.s&&al(t,t.s);var r=t.T,a=t.f,s=t.ia;for(s?(s.font!=r.font&&(s.font=a.font=r.font),s.textAlign!=r.textAlign&&(s.textAlign=a.textAlign=r.textAlign),s.textBaseline!=r.textBaseline&&(s.textBaseline=a.textBaseline=r.textBaseline)):(a.font=r.font,a.textAlign=r.textAlign,a.textBaseline=r.textBaseline,t.ia={font:r.font,textAlign:r.textAlign,textBaseline:r.textBaseline}),e=Ue(e,o,n,i,t.D,t.U),r=t.f;o<n;o+=i){if(a=e[o]+t.Sa,s=e[o+1]+t.qb,0!==t.C||1!=t.j){var l=zr(t.Hb,a,s,t.j,t.j,t.C,-a,-s);r.setTransform(l[0],l[1],l[4],l[5],l[12],l[13])}t.s&&r.strokeText(t.g,a,s),t.o&&r.fillText(t.g,a,s)}0===t.C&&1==t.j||r.setTransform(1,0,0,1,0,0)}}function il(t,e,n,i,o,r){var a=t.f;for(t=Ue(e,n,i,o,t.D,t.U),a.moveTo(t[0],t[1]),e=t.length,r&&(e-=2),n=2;n<e;n+=2)a.lineTo(t[n],t[n+1]);return r&&a.closePath(),i}function ol(t,e,n,i,o){var r,a;for(r=0,a=i.length;r<a;++r)n=il(t,e,n,i[r],o,!0);return n}function rl(t,e){var n=t.f,i=t.Y;i?i.fillStyle!=e.fillStyle&&(i.fillStyle=n.fillStyle=e.fillStyle):(n.fillStyle=e.fillStyle,t.Y={fillStyle:e.fillStyle})}function al(t,e){var n=t.f,i=t.Ra;i?(i.lineCap!=e.lineCap&&(i.lineCap=n.lineCap=e.lineCap),jo&&!ht(i.lineDash,e.lineDash)&&n.setLineDash(i.lineDash=e.lineDash),i.lineJoin!=e.lineJoin&&(i.lineJoin=n.lineJoin=e.lineJoin),i.lineWidth!=e.lineWidth&&(i.lineWidth=n.lineWidth=e.lineWidth),i.miterLimit!=e.miterLimit&&(i.miterLimit=n.miterLimit=e.miterLimit),i.strokeStyle!=e.strokeStyle&&(i.strokeStyle=n.strokeStyle=e.strokeStyle)):(n.lineCap=e.lineCap,jo&&n.setLineDash(e.lineDash),n.lineJoin=e.lineJoin,n.lineWidth=e.lineWidth,n.miterLimit=e.miterLimit,n.strokeStyle=e.strokeStyle,t.Ra={lineCap:e.lineCap,lineDash:e.lineDash,lineJoin:e.lineJoin,lineWidth:e.lineWidth,miterLimit:e.miterLimit,strokeStyle:e.strokeStyle})}function sl(t){qr.call(this,t),this.R=Ee()}function ll(t,e,n,i,o){var r=t.a;if(X(r,e)){var a=i.size[0]*i.pixelRatio,s=i.size[1]*i.pixelRatio,l=i.viewState.rotation;Rs(n,-l,a/2,s/2),t=void 0!==o?o:cl(t,i,0),t=new tl(n,i.pixelRatio,i.extent,t,i.viewState.rotation),r.b(new Fr(e,r,t,i,n,null)),Rs(n,l,a/2,s/2)}}function ul(t,e,n,i){ll(t,"postcompose",e,n,i)}function cl(t,e,n){var i=e.viewState,o=e.pixelRatio;return zr(t.R,o*e.size[0]/2,o*e.size[1]/2,o/i.resolution,-o/i.resolution,-i.rotation,-i.center[0]+n,-i.center[1])}g(Xs,Nr),Xs.prototype.C=function(){return this.A},Xs.prototype.D=function(){return this.i},Xs.prototype.l=function(t){this.A=void 0!==t?t:Ys,this.i=null===t?void 0:Ws(this.A),this.u()},g(Qs,Xs),Qs.prototype.f=function(){return this.get("preload")},Qs.prototype.c=function(){return this.get("useInterimTilesOnError")},Qs.prototype.Y=function(t){this.set("preload",t)},Qs.prototype.ia=function(t){this.set("useInterimTilesOnError",t)},g(tl,Lr),(t=tl.prototype).Rd=function(t){if(ee(this.c,t.H())){if(this.a||this.b){var e;this.a&&rl(this,this.a),this.b&&al(this,this.b),e=this.D;var n=this.U,i=t.la();n=(e=i?Ue(i,0,i.length,t.va(),e,n):null)[2]-e[0],i=e[3]-e[1],n=Math.sqrt(n*n+i*i),(i=this.f).beginPath(),i.arc(e[0],e[1],n,0,2*Math.PI),this.a&&i.fill(),this.b&&i.stroke()}""!==this.g&&nl(this,t.rd(),2,2)}},t.sd=function(t){this.Sb(t.c,t.f),this.Tb(t.a),this.Vb(t.Ha())},t.sc=function(t){switch(t.X()){case"Point":this.uc(t);break;case"LineString":this.hd(t);break;case"Polygon":this.bf(t);break;case"MultiPoint":this.tc(t);break;case"MultiLineString":this.$e(t);break;case"MultiPolygon":this.af(t);break;case"GeometryCollection":this.Ze(t);break;case"Circle":this.Rd(t)}},t.Ye=function(t,e){var n=(0,e.g)(t);n&&ee(this.c,n.H())&&(this.sd(e),this.sc(n))},t.Ze=function(t){var e,n;for(e=0,n=(t=t.c).length;e<n;++e)this.sc(t[e])},t.uc=function(t){var e=t.la();t=t.va(),this.i&&el(this,e,e.length),""!==this.g&&nl(this,e,e.length,t)},t.tc=function(t){var e=t.la();t=t.va(),this.i&&el(this,e,e.length),""!==this.g&&nl(this,e,e.length,t)},t.hd=function(t){if(ee(this.c,t.H())){if(this.b){al(this,this.b);var e=this.f,n=t.la();e.beginPath(),il(this,n,0,n.length,t.va(),!1),e.stroke()}""!==this.g&&nl(this,t=jp(t),2,2)}},t.$e=function(t){var e=t.H();if(ee(this.c,e)){if(this.b){al(this,this.b);e=this.f;var n,i,o=t.la(),r=0,a=t.Db(),s=t.va();for(e.beginPath(),n=0,i=a.length;n<i;++n)r=il(this,o,r,a[n],s,!1);e.stroke()}""!==this.g&&nl(this,t=Up(t),t.length,2)}},t.bf=function(t){if(ee(this.c,t.H())){if(this.b||this.a){this.a&&rl(this,this.a),this.b&&al(this,this.b);var e=this.f;e.beginPath(),ol(this,t.Mb(),0,t.Db(),t.va()),this.a&&e.fill(),this.b&&e.stroke()}""!==this.g&&nl(this,t=$n(t),2,2)}},t.af=function(t){if(ee(this.c,t.H())){if(this.b||this.a){this.a&&rl(this,this.a),this.b&&al(this,this.b);var e,n,i=this.f,o=Wp(t),r=0,a=t.i,s=t.va();for(e=0,n=a.length;e<n;++e){var l=a[e];i.beginPath(),r=ol(this,o,r,l,s),this.a&&i.fill(),this.b&&i.stroke()}}""!==this.g&&nl(this,t=qp(t),t.length,2)}},t.Sb=function(t,e){if(t){var n=t.b;this.a={fillStyle:ri(n||Ps)}}else this.a=null;if(e){n=e.b;var i=e.f,o=e.g,r=e.c,a=e.a,s=e.i;this.b={lineCap:void 0!==i?i:"round",lineDash:o||Os,lineJoin:void 0!==r?r:"round",lineWidth:this.A*(void 0!==a?a:1),miterLimit:void 0!==s?s:10,strokeStyle:Qn(n||Is)}}else this.b=null},t.Tb=function(t){if(t){var e=t.Yb(),n=t.jc(1),i=t.Ia(),o=t.Fb();this.R=e[0],this.ya=e[1],this.Ba=o[1],this.i=n,this.v=t.v,this.za=i[0],this.qa=i[1],this.Gb=t.U,this.ta=t.j,this.l=t.i,this.Aa=t.C,this.S=o[0]}else this.i=null},t.Vb=function(t){if(t){var e=t.b;if(this.o=e?{fillStyle:ri((e=e.b)||Ps)}:null,a=t.l){e=a.b;var n=a.f,i=a.g,o=a.c,r=a.a,a=a.i;this.s={lineCap:void 0!==n?n:"round",lineDash:i||Os,lineJoin:void 0!==o?o:"round",lineWidth:void 0!==r?r:1,miterLimit:void 0!==a?a:10,strokeStyle:Qn(e||Is)}}else this.s=null;e=t.g,n=t.f,i=t.c,o=t.i,r=t.a,a=t.Ha();var s=t.o;t=t.j,this.T={font:void 0!==e?e:"10px sans-serif",textAlign:void 0!==s?s:"center",textBaseline:void 0!==t?t:"middle"},this.g=void 0!==a?a:"",this.Sa=void 0!==n?this.A*n:0,this.qb=void 0!==i?this.A*i:0,this.C=void 0!==o?o:0,this.j=this.A*(void 0!==r?r:1)}else this.g=""},g(sl,qr),sl.prototype.i=function(t,e,n){ll(this,"precompose",n,t,void 0);var i=this.f?this.f.a():null;if(i){var o=void 0!==(h=e.extent);if(o){var r=t.pixelRatio,a=t.size[0]*r,s=t.size[1]*r,l=t.viewState.rotation,u=Jt(h),c=Qt(h),p=Gt(h),h=Wt(h);Vr(t.coordinateToPixelMatrix,u,u),Vr(t.coordinateToPixelMatrix,c,c),Vr(t.coordinateToPixelMatrix,p,p),Vr(t.coordinateToPixelMatrix,h,h),n.save(),Rs(n,-l,a/2,s/2),n.beginPath(),n.moveTo(u[0]*r,u[1]*r),n.lineTo(c[0]*r,c[1]*r),n.lineTo(p[0]*r,p[1]*r),n.lineTo(h[0]*r,h[1]*r),n.clip(),Rs(n,l,a/2,s/2)}r=this.s,a=n.globalAlpha,n.globalAlpha=e.opacity,n.drawImage(i,0,0,+i.width,+i.height,Math.round(r[12]),Math.round(r[13]),Math.round(i.width*r[0]),Math.round(i.height*r[5])),n.globalAlpha=a,o&&n.restore()}ul(this,n,t)};var pl=["Polygon","LineString","Image","Text"];function hl(t,e,n){this.qa=t,this.T=e,this.f=null,this.c=0,this.resolution=n,this.Ba=this.ya=null,this.a=[],this.coordinates=[],this.Ra=Ee(),this.b=[],this.Y=[],this.ia=Ee(),this.za=Ee()}function dl(t,e,n,i,o,r){var a,s,l,u=t.coordinates.length,c=t.df(),p=[e[n],e[n+1]],h=[NaN,NaN],d=!0;for(a=n+o;a<i;a+=o)h[0]=e[a],h[1]=e[a+1],d=(l=Rt(c,h))!==s?(d&&(t.coordinates[u++]=p[0],t.coordinates[u++]=p[1]),t.coordinates[u++]=h[0],t.coordinates[u++]=h[1],!1):1!==l||(t.coordinates[u++]=h[0],t.coordinates[u++]=h[1],!1),p[0]=h[0],p[1]=h[1],s=l;return a===n+o&&(t.coordinates[u++]=p[0],t.coordinates[u++]=p[1]),r&&(t.coordinates[u++]=e[n],t.coordinates[u++]=e[n+1]),u}function fl(t,e){t.ya=[0,e,0],t.a.push(t.ya),t.Ba=[0,e,0],t.b.push(t.Ba)}function gl(t,e,n,i,o,r,a,s,l){var u;Hr(i,t.Ra)?u=t.Y:(u=Ue(t.coordinates,0,t.coordinates.length,2,i,t.Y),Ie(t.Ra,i)),i=!I(r);var c,p,h,d,f,g,m=0,v=a.length,y=t.ia;for(t=t.za;m<v;){var b,w,x,$,_=a[m];switch(_[0]){case 0:c=_[1],i&&r[O(c).toString()]||!c.W()?m=_[2]:void 0===l||ee(l,c.W().H())?++m:m=_[2];break;case 1:e.beginPath(),++m;break;case 2:p=u[c=_[1]],_=u[c+1],f=u[c+2]-p,c=u[c+3]-_,e.arc(p,_,Math.sqrt(f*f+c*c),0,2*Math.PI,!0),++m;break;case 3:e.closePath(),++m;break;case 4:c=_[1],p=_[2],b=_[3],x=_[4]*n;var k=_[5]*n,C=_[6];w=_[7];var S=_[8],T=_[9];f=_[11],g=_[12];var A=_[13],D=_[14];for(_[10]&&(f+=o);c<p;c+=2){if(_=u[c]-x,$=u[c+1]-k,A&&(_=Math.round(_),$=Math.round($)),1!=g||0!==f){var M=_+x;zr(y,M,E=$+k,g,g,f,-M,-E),e.transform(y[0],y[1],y[4],y[5],y[12],y[13])}M=e.globalAlpha,1!=w&&(e.globalAlpha=M*w);var E=D+S>b.width?b.width-S:D,P=C+T>b.height?b.height-T:C;e.drawImage(b,S,T,E,P,_,$,E*n,P*n),1!=w&&(e.globalAlpha=M),1==g&&0===f||(Fe(y,t),e.transform(t[0],t[1],t[4],t[5],t[12],t[13]))}++m;break;case 5:for(c=_[1],p=_[2],x=_[3],k=_[4]*n,C=_[5]*n,f=_[6],g=_[7]*n,b=_[8],w=_[9];c<p;c+=2){for(_=u[c]+k,$=u[c+1]+C,1==g&&0===f||(zr(y,_,$,g,g,f,-_,-$),e.transform(y[0],y[1],y[4],y[5],y[12],y[13])),1<(T=(S=x.split("\n")).length)?$-=(T-1)/2*(A=Math.round(1.5*e.measureText("M").width)):A=0,D=0;D<T;D++)M=S[D],w&&e.strokeText(M,_,$),b&&e.fillText(M,_,$),$+=A;1==g&&0===f||(Fe(y,t),e.transform(t[0],t[1],t[4],t[5],t[12],t[13]))}++m;break;case 6:if(void 0!==s&&(c=s(c=_[1])))return c;++m;break;case 7:e.fill(),++m;break;case 8:for(c=_[1],p=_[2],_=u[c],g=($=u[c+1])+.5|0,(f=_+.5|0)===h&&g===d||(e.moveTo(_,$),h=f,d=g),c+=2;c<p;c+=2)f=(_=u[c])+.5|0,g=($=u[c+1])+.5|0,(c==p-2||f!==h||g!==d)&&(e.lineTo(_,$),h=f,d=g);++m;break;case 9:e.fillStyle=_[1],++m;break;case 10:h=void 0===_[7]||_[7],d=_[2],e.strokeStyle=_[1],e.lineWidth=h?d*n:d,e.lineCap=_[3],e.lineJoin=_[4],e.miterLimit=_[5],jo&&e.setLineDash(_[6]),d=h=NaN,++m;break;case 11:e.font=_[1],e.textAlign=_[2],e.textBaseline=_[3],++m;break;case 12:e.stroke(),++m;break;default:++m}}}function ml(t){var e=t.b;e.reverse();var n,i,o,r=e.length,a=-1;for(n=0;n<r;++n)if(6==(o=(i=e[n])[0]))a=n;else if(0==o){for(i[2]=n,i=t.b,o=n;a<o;){var s=i[a];i[a]=i[o],i[o]=s,++a,--o}a=-1}}function vl(t,e){t.ya[2]=t.a.length,t.ya=null,t.Ba[2]=t.b.length,t.Ba=null;var n=[6,e];t.a.push(n),t.b.push(n)}function yl(t,e,n){hl.call(this,t,e,n),this.o=this.S=null,this.R=this.D=this.C=this.A=this.U=this.v=this.s=this.j=this.l=this.i=this.g=void 0}function bl(t,e,n){hl.call(this,t,e,n),this.g={fd:void 0,ad:void 0,bd:null,cd:void 0,dd:void 0,ed:void 0,nf:0,strokeStyle:void 0,lineCap:void 0,lineDash:null,lineJoin:void 0,lineWidth:void 0,miterLimit:void 0}}function wl(t,e,n,i,o){var r=t.coordinates.length;return r=[8,r,e=dl(t,e,n,i,o,!1)],t.a.push(r),t.b.push(r),i}function xl(t){var e=t.g,n=e.strokeStyle,i=e.lineCap,o=e.lineDash,r=e.lineJoin,a=e.lineWidth,s=e.miterLimit;e.fd==n&&e.ad==i&&ht(e.bd,o)&&e.cd==r&&e.dd==a&&e.ed==s||(e.nf!=t.coordinates.length&&(t.a.push([12]),e.nf=t.coordinates.length),t.a.push([10,n,a,i,r,s,o],[1]),e.fd=n,e.ad=i,e.bd=o,e.cd=r,e.dd=a,e.ed=s)}function $l(t,e,n){hl.call(this,t,e,n),this.g={ug:void 0,fd:void 0,ad:void 0,bd:null,cd:void 0,dd:void 0,ed:void 0,fillStyle:void 0,strokeStyle:void 0,lineCap:void 0,lineDash:null,lineJoin:void 0,lineWidth:void 0,miterLimit:void 0}}function _l(t,e,n,i,o){var r=t.g,a=[1];t.a.push(a),t.b.push(a);var s;a=0;for(s=i.length;a<s;++a){var l=i[a],u=t.coordinates.length;n=[8,u,n=dl(t,e,n,l,o,!0)],u=[3],t.a.push(n,u),t.b.push(n,u),n=l}return e=[7],t.b.push(e),void 0!==r.fillStyle&&t.a.push(e),void 0!==r.strokeStyle&&(r=[12],t.a.push(r),t.b.push(r)),n}function kl(t){var e=t.g,n=e.fillStyle,i=e.strokeStyle,o=e.lineCap,r=e.lineDash,a=e.lineJoin,s=e.lineWidth,l=e.miterLimit;void 0!==n&&e.ug!=n&&(t.a.push([9,n]),e.ug=e.fillStyle),void 0===i||e.fd==i&&e.ad==o&&e.bd==r&&e.cd==a&&e.dd==s&&e.ed==l||(t.a.push([10,i,s,o,a,l,r]),e.fd=i,e.ad=o,e.bd=r,e.cd=a,e.dd=s,e.ed=l)}function Cl(t,e,n){hl.call(this,t,e,n),this.D=this.C=this.A=null,this.o="",this.U=this.v=this.s=this.j=0,this.l=this.i=this.g=null}function Sl(t,e,n,i,o){if(""!==t.o&&t.l&&(t.g||t.i)){if(t.g){var r=t.g,a=t.A;if(!a||a.fillStyle!=r.fillStyle){var s=[9,r.fillStyle];t.a.push(s),t.b.push(s),a?a.fillStyle=r.fillStyle:t.A={fillStyle:r.fillStyle}}}t.i&&(r=t.i,(a=t.C)&&a.lineCap==r.lineCap&&a.lineDash==r.lineDash&&a.lineJoin==r.lineJoin&&a.lineWidth==r.lineWidth&&a.miterLimit==r.miterLimit&&a.strokeStyle==r.strokeStyle||(s=[10,r.strokeStyle,r.lineWidth,r.lineCap,r.lineJoin,r.miterLimit,r.lineDash,!1],t.a.push(s),t.b.push(s),a?(a.lineCap=r.lineCap,a.lineDash=r.lineDash,a.lineJoin=r.lineJoin,a.lineWidth=r.lineWidth,a.miterLimit=r.miterLimit,a.strokeStyle=r.strokeStyle):t.C={lineCap:r.lineCap,lineDash:r.lineDash,lineJoin:r.lineJoin,lineWidth:r.lineWidth,miterLimit:r.miterLimit,strokeStyle:r.strokeStyle})),r=t.l,(a=t.D)&&a.font==r.font&&a.textAlign==r.textAlign&&a.textBaseline==r.textBaseline||(s=[11,r.font,r.textAlign,r.textBaseline],t.a.push(s),t.b.push(s),a?(a.font=r.font,a.textAlign=r.textAlign,a.textBaseline=r.textBaseline):t.D={font:r.font,textAlign:r.textAlign,textBaseline:r.textBaseline}),fl(t,o),e=[5,r=t.coordinates.length,e=dl(t,e,0,n,i,!1),t.o,t.j,t.s,t.v,t.U,!!t.g,!!t.i],t.a.push(e),t.b.push(e),vl(t,o)}}function Tl(t,e,n,i){this.o=t,this.g=e,this.l=n,this.f=i,this.a={},this.c=xi(1,1),this.i=Ee()}function Al(t){for(var e in t.a){var n,i=t.a[e];for(n in i)i[n].ke()}}g(hl,Lr),hl.prototype.Pa=function(t,e,n,i,o){gl(this,t,e,n,i,o,this.a,void 0)},hl.prototype.ke=m,hl.prototype.df=function(){return this.T},g(yl,hl),yl.prototype.uc=function(t,e){if(this.o){fl(this,e);var n=t.la(),i=this.coordinates.length;n=dl(this,n,0,n.length,t.va(),!1);this.a.push([4,i,n,this.o,this.g,this.i,this.l,this.j,this.s,this.v,this.U,this.A,this.C,this.D,this.R]),this.b.push([4,i,n,this.S,this.g,this.i,this.l,this.j,this.s,this.v,this.U,this.A,this.C,this.D,this.R]),vl(this,e)}},yl.prototype.tc=function(t,e){if(this.o){fl(this,e);var n=t.la(),i=this.coordinates.length;n=dl(this,n,0,n.length,t.va(),!1);this.a.push([4,i,n,this.o,this.g,this.i,this.l,this.j,this.s,this.v,this.U,this.A,this.C,this.D,this.R]),this.b.push([4,i,n,this.S,this.g,this.i,this.l,this.j,this.s,this.v,this.U,this.A,this.C,this.D,this.R]),vl(this,e)}},yl.prototype.ke=function(){ml(this),this.i=this.g=void 0,this.o=this.S=null,this.R=this.D=this.A=this.U=this.v=this.s=this.j=this.C=this.l=void 0},yl.prototype.Tb=function(t){var e=t.Yb(),n=t.Fb(),i=t.pe(1),o=t.jc(1),r=t.Ia();this.g=e[0],this.i=e[1],this.S=i,this.o=o,this.l=n[1],this.j=t.v,this.s=r[0],this.v=r[1],this.U=t.U,this.A=t.j,this.C=t.i,this.D=t.C,this.R=n[0]},g(bl,hl),(t=bl.prototype).df=function(){return this.f||(this.f=Mt(this.T),0<this.c&&Dt(this.f,this.resolution*(this.c+1)/2,this.f)),this.f},t.hd=function(t,e){var n=this.g,i=n.lineWidth;void 0!==n.strokeStyle&&void 0!==i&&(xl(this),fl(this,e),this.b.push([10,n.strokeStyle,n.lineWidth,n.lineCap,n.lineJoin,n.miterLimit,n.lineDash],[1]),wl(this,n=t.la(),0,n.length,t.va()),this.b.push([12]),vl(this,e))},t.$e=function(t,e){var n=(r=this.g).lineWidth;if(void 0!==r.strokeStyle&&void 0!==n){xl(this),fl(this,e),this.b.push([10,r.strokeStyle,r.lineWidth,r.lineCap,r.lineJoin,r.miterLimit,r.lineDash],[1]);var i,o,r=t.Db(),a=(n=t.la(),t.va()),s=0;for(i=0,o=r.length;i<o;++i)s=wl(this,n,s,r[i],a);this.b.push([12]),vl(this,e)}},t.ke=function(){this.g.nf!=this.coordinates.length&&this.a.push([12]),ml(this),this.g=null},t.Sb=function(t,e){var n=e.b;this.g.strokeStyle=Qn(n||Is),n=e.f,this.g.lineCap=void 0!==n?n:"round",n=e.g,this.g.lineDash=n||Os,n=e.c,this.g.lineJoin=void 0!==n?n:"round",n=e.a,this.g.lineWidth=void 0!==n?n:1,n=e.i,this.g.miterLimit=void 0!==n?n:10,this.g.lineWidth>this.c&&(this.c=this.g.lineWidth,this.f=null)},g($l,hl),(t=$l.prototype).Rd=function(t,e){var n=this.g,i=n.strokeStyle;if(void 0!==n.fillStyle||void 0!==i){kl(this),fl(this,e),this.b.push([9,Qn(Ps)]),void 0!==n.strokeStyle&&this.b.push([10,n.strokeStyle,n.lineWidth,n.lineCap,n.lineJoin,n.miterLimit,n.lineDash]);var o=t.la();i=this.coordinates.length;dl(this,o,0,o.length,t.va(),!1),o=[1],i=[2,i],this.a.push(o,i),this.b.push(o,i),i=[7],this.b.push(i),void 0!==n.fillStyle&&this.a.push(i),void 0!==n.strokeStyle&&(n=[12],this.a.push(n),this.b.push(n)),vl(this,e)}},t.bf=function(t,e){var n=this.g,i=n.strokeStyle;void 0===n.fillStyle&&void 0===i||(kl(this),fl(this,e),this.b.push([9,Qn(Ps)]),void 0!==n.strokeStyle&&this.b.push([10,n.strokeStyle,n.lineWidth,n.lineCap,n.lineJoin,n.miterLimit,n.lineDash]),n=t.Db(),_l(this,i=t.Mb(),0,n,t.va()),vl(this,e))},t.af=function(t,e){var n=(r=this.g).strokeStyle;if(void 0!==r.fillStyle||void 0!==n){kl(this),fl(this,e),this.b.push([9,Qn(Ps)]),void 0!==r.strokeStyle&&this.b.push([10,r.strokeStyle,r.lineWidth,r.lineCap,r.lineJoin,r.miterLimit,r.lineDash]);var i,o,r=t.i,a=(n=Wp(t),t.va()),s=0;for(i=0,o=r.length;i<o;++i)s=_l(this,n,s,r[i],a);vl(this,e)}},t.ke=function(){ml(this),this.g=null;var t=this.qa;if(0!==t){var e,n,i=this.coordinates;for(e=0,n=i.length;e<n;++e)i[e]=t*Math.round(i[e]/t)}},t.df=function(){return this.f||(this.f=Mt(this.T),0<this.c&&Dt(this.f,this.resolution*(this.c+1)/2,this.f)),this.f},t.Sb=function(t,e){var n=this.g;if(t){var i=t.b;n.fillStyle=ri(i||Ps)}else n.fillStyle=void 0;e?(i=e.b,n.strokeStyle=Qn(i||Is),i=e.f,n.lineCap=void 0!==i?i:"round",i=e.g,n.lineDash=i?i.slice():Os,i=e.c,n.lineJoin=void 0!==i?i:"round",i=e.a,n.lineWidth=void 0!==i?i:1,i=e.i,n.miterLimit=void 0!==i?i:10,n.lineWidth>this.c&&(this.c=n.lineWidth,this.f=null)):(n.strokeStyle=void 0,n.lineCap=void 0,n.lineDash=null,n.lineJoin=void 0,n.lineWidth=void 0,n.miterLimit=void 0)},g(Cl,hl),Cl.prototype.Vb=function(t){if(t){if((e=t.b)?(e=ri((e=e.b)||Ps),this.g?this.g.fillStyle=e:this.g={fillStyle:e}):this.g=null,a=t.l){var e=a.b,n=a.f,i=a.g,o=a.c,r=a.a,a=a.i;n=void 0!==n?n:"round",i=i?i.slice():Os,o=void 0!==o?o:"round",r=void 0!==r?r:1,a=void 0!==a?a:10,e=Qn(e||Is);if(this.i)(l=this.i).lineCap=n,l.lineDash=i,l.lineJoin=o,l.lineWidth=r,l.miterLimit=a,l.strokeStyle=e;else this.i={lineCap:n,lineDash:i,lineJoin:o,lineWidth:r,miterLimit:a,strokeStyle:e}}else this.i=null;var s=t.g,l=(e=t.f,n=t.c,i=t.i,r=t.a,a=t.Ha(),o=t.o,t.j);t=void 0!==s?s:"10px sans-serif",o=void 0!==o?o:"center",l=void 0!==l?l:"middle",this.l?((s=this.l).font=t,s.textAlign=o,s.textBaseline=l):this.l={font:t,textAlign:o,textBaseline:l},this.o=void 0!==a?a:"",this.j=void 0!==e?e:0,this.s=void 0!==n?n:0,this.v=void 0!==i?i:0,this.U=void 0!==r?r:1}else this.o=""},Tl.prototype.ra=function(t,e,n,i,o){var r=this.i;zr(r,.5,.5,1/e,-1/e,-n,-t[0],-t[1]);var a,s=this.c;return s.clearRect(0,0,1,1),void 0!==this.f&&(zt(a=[1/0,1/0,-1/0,-1/0],t),Dt(a,e*this.f,a)),function(t,e,n,i,o,r,a){var s,l,u,c,p,h=Object.keys(t.a).map(Number);for(h.sort(function(t,e){return e-t}),s=0,l=h.length;s<l;++s)for(c=t.a[h[s].toString()],u=pl.length-1;0<=u;--u)if(void 0!==(p=c[pl[u]])&&(p=gl(p,e,1,n,i,o,p.b,r,a)))return p}(this,s,r,n,i,function(t){if(0<s.getImageData(0,0,1,1).data[3]){if(t=o(t))return t;s.clearRect(0,0,1,1)}},a)},Tl.prototype.b=function(t,e){var n=void 0!==t?t.toString():"0",i=this.a[n];return void 0===i&&(i={},this.a[n]=i),void 0===(n=i[e])&&(n=new Dl[e](this.o,this.g,this.l),i[e]=n),n},Tl.prototype.Ya=function(){return I(this.a)},Tl.prototype.Pa=function(t,e,n,i,o,r){var a=Object.keys(this.a).map(Number);a.sort(rt);var s,l=(s=this.g)[0],u=s[1],c=s[2];Ue(l=[l,u,l,s=s[3],c,s,c,u],0,8,2,n,l),t.save(),t.beginPath(),t.moveTo(l[0],l[1]),t.lineTo(l[2],l[3]),t.lineTo(l[4],l[5]),t.lineTo(l[6],l[7]),t.closePath(),t.clip(),r=r||pl;var p,h;for(l=0,u=a.length;l<u;++l)for(p=this.a[a[l].toString()],c=0,s=r.length;c<s;++c)void 0!==(h=p[r[c]])&&h.Pa(t,e,n,i,o);t.restore()};var Dl={Image:yl,LineString:bl,Polygon:$l,Text:Cl};function Ml(t,e,n,i){this.g=t,this.b=e,this.c=n,this.f=i}function El(t,e){return O(t)-O(e)}function Pl(t,e){var n=.5*t/e;return n*n}function Ol(t,e,n,i,o,r){var a,s,l=!1;return(a=n.a)&&(2==(s=a.td())||3==s?a.Xf(o,r):(0==s&&a.load(),a.pf(o,r),l=!0)),(o=(0,n.g)(e))&&(i=o.od(i),(0,Il[i.X()])(t,i,n,e)),l}(t=Ml.prototype).get=function(t){return this.f[t]},t.Db=function(){return this.c},t.H=function(){return this.a||(this.a="Point"===this.g?Nt(this.b):jt(this.b,0,this.b.length,2)),this.a},t.Mb=function(){return this.b},t.la=Ml.prototype.Mb,t.W=function(){return this},t.Nm=function(){return this.f},t.od=Ml.prototype.W,t.va=function(){return 2},t.ec=m,t.X=function(){return this.g};var Il={Point:function(t,e,n,i){var o=n.a;if(o){if(2!=o.td())return;var r=t.b(n.b,"Image");r.Tb(o),r.uc(e,i)}(o=n.Ha())&&((t=t.b(n.b,"Text")).Vb(o),Sl(t,e.la(),2,2,i))},LineString:function(t,e,n,i){var o=n.f;if(o){var r=t.b(n.b,"LineString");r.Sb(null,o),r.hd(e,i)}(o=n.Ha())&&((t=t.b(n.b,"Text")).Vb(o),Sl(t,jp(e),2,2,i))},Polygon:function(t,e,n,i){var o=n.c,r=n.f;if(o||r){var a=t.b(n.b,"Polygon");a.Sb(o,r),a.bf(e,i)}(o=n.Ha())&&((t=t.b(n.b,"Text")).Vb(o),Sl(t,$n(e),2,2,i))},MultiPoint:function(t,e,n,i){var o=n.a;if(o){if(2!=o.td())return;var r=t.b(n.b,"Image");r.Tb(o),r.tc(e,i)}(o=n.Ha())&&((t=t.b(n.b,"Text")).Vb(o),Sl(t,n=e.la(),n.length,e.va(),i))},MultiLineString:function(t,e,n,i){var o=n.f;if(o){var r=t.b(n.b,"LineString");r.Sb(null,o),r.$e(e,i)}(o=n.Ha())&&((t=t.b(n.b,"Text")).Vb(o),Sl(t,e=Up(e),e.length,2,i))},MultiPolygon:function(t,e,n,i){var o=n.c,r=n.f;if(r||o){var a=t.b(n.b,"Polygon");a.Sb(o,r),a.af(e,i)}(o=n.Ha())&&((t=t.b(n.b,"Text")).Vb(o),Sl(t,e=qp(e),e.length,2,i))},GeometryCollection:function(t,e,n,i){var o,r;for(o=0,r=(e=e.c).length;o<r;++o)(0,Il[e[o].X()])(t,e[o],n,i)},Circle:function(t,e,n,i){var o=n.c,r=n.f;if(o||r){var a=t.b(n.b,"Polygon");a.Sb(o,r),a.Rd(e,i)}(o=n.Ha())&&((t=t.b(n.b,"Text")).Vb(o),Sl(t,e.rd(),2,2,i))}};function Rl(t,e,n,i,o,r){this.c=void 0!==r?r:null,Br.call(this,t,e,n,void 0!==r?0:2,i),this.g=o}g(Rl,Br),Rl.prototype.i=function(t){this.state=t?3:2,Ur(this)},Rl.prototype.load=function(){0==this.state&&(this.state=1,Ur(this),this.c(this.i.bind(this)))},Rl.prototype.a=function(){return this.g};var Ll,Fl=y.navigator,Nl=y.chrome,jl=-1<Fl.userAgent.indexOf("OPR"),Bl=-1<Fl.userAgent.indexOf("Edge");function Ul(t,e,n,i){var o=Se(n,e,t);return n=e.getPointResolution(i,n),void 0!==(e=e.$b())&&(n*=e),void 0!==(e=t.$b())&&(n/=e),t=t.getPointResolution(n,o)/n,isFinite(t)&&0<t&&(n/=t),n}function zl(t,e,n,i){t=n-t,e=i-e;var o=Math.sqrt(t*t+e*e);return[Math.round(n+t/o),Math.round(i+e/o)]}function Hl(t,e,g,m,n,v,i,o,r,a,s){var y=xi(Math.round(g*t),Math.round(g*e));if(0===r.length)return y.canvas;y.scale(g,g);var b=[1/0,1/0,-1/0,-1/0];r.forEach(function(t){Ut(b,t.extent)});var w=xi(Math.round(g*te(b)/m),Math.round(g*Zt(b)/m)),l=g/m;r.forEach(function(t){w.drawImage(t.image,a,a,t.image.width-2*a,t.image.height-2*a,(t.extent[0]-b[0])*l,-(t.extent[3]-b[3])*l,te(t.extent)*l,Zt(t.extent)*l)});var x=Jt(i);return o.f.forEach(function(t){var e=t.source,n=t.target,i=e[1][0],o=e[1][1],r=e[2][0],a=e[2][1];t=(n[0][0]-x[0])/v;var s=-(n[0][1]-x[1])/v,l=(n[1][0]-x[0])/v,u=-(n[1][1]-x[1])/v,c=(n[2][0]-x[0])/v,p=-(n[2][1]-x[1])/v;t:{for(o=(i=[[i=i-(n=e[0][0]),o=o-(e=e[0][1]),0,0,l-t],[r=r-n,a=a-e,0,0,c-t],[0,0,i,o,u-s],[0,0,r,a,p-s]]).length,r=0;r<o;r++){a=r;for(var h=Math.abs(i[r][r]),d=r+1;d<o;d++){var f=Math.abs(i[d][r]);h<f&&(h=f,a=d)}if(0===h){i=null;break t}for(h=i[a],i[a]=i[r],i[r]=h,a=r+1;a<o;a++)for(h=-i[a][r]/i[r][r],d=r;d<o+1;d++)i[a][d]=r==d?0:i[a][d]+h*i[r][d]}for(r=Array(o),a=o-1;0<=a;a--)for(r[a]=i[a][o]/i[a][a],h=a-1;0<=h;h--)i[h][o]-=i[h][a]*r[a];i=r}i&&(y.save(),y.beginPath(),Ll?(o=zl(r=(t+l+c)/3,a=(s+u+p)/3,t,s),l=zl(r,a,l,u),c=zl(r,a,c,p),y.moveTo(o[0],o[1]),y.lineTo(l[0],l[1]),y.lineTo(c[0],c[1])):(y.moveTo(t,s),y.lineTo(l,u),y.lineTo(c,p)),y.closePath(),y.clip(),y.transform(i[0],i[2],i[1],i[3],t,s),y.translate(b[0]-n,b[3]-e),y.scale(m/g,-m/g),y.drawImage(w.canvas,0,0),y.restore())}),s&&(y.save(),y.strokeStyle="black",y.lineWidth=1,o.f.forEach(function(t){t=((r=t.target)[0][0]-x[0])/v;var e=-(r[0][1]-x[1])/v,n=(r[1][0]-x[0])/v,i=-(r[1][1]-x[1])/v,o=(r[2][0]-x[0])/v,r=-(r[2][1]-x[1])/v;y.beginPath(),y.moveTo(t,e),y.lineTo(n,i),y.lineTo(o,r),y.closePath(),y.stroke()}),y.restore()),y.canvas}function Vl(t,e,n,i,o){this.g=t,this.c=e;var r={},a=$e(this.c,this.g);if(this.a=function(t){var e=t[0]+"/"+t[1];return r[e]||(r[e]=a(t)),r[e]},this.i=i,this.s=o*o,this.f=[],this.o=!1,this.j=this.g.a&&!!i&&!!this.g.H()&&te(i)==te(this.g.H()),this.b=this.g.H()?te(this.g.H()):null,this.l=this.c.H()?te(this.c.H()):null,function t(e,n,i,o,r,a,s,l,u,c){var p=At([a,s,l,u]),h=e.b?te(p)/e.b:null,d=e.g.a&&.5<h&&h<1,f=!1;if(0<c){if(e.c.g&&e.l)var g=At([n,i,o,r]),f=f|.25<te(g)/e.l;!d&&e.g.g&&h&&(f|=.25<h)}if(f||!e.i||ee(p,e.i)){if(!(f||isFinite(a[0])&&isFinite(a[1])&&isFinite(s[0])&&isFinite(s[1])&&isFinite(l[0])&&isFinite(l[1])&&isFinite(u[0])&&isFinite(u[1]))){if(!(0<c))return;f=!0}if(0<c&&(f||(h=e.a([(n[0]+o[0])/2,(n[1]+o[1])/2]),p=d?(A(a[0],e.b)+A(l[0],e.b))/2-A(h[0],e.b):(a[0]+l[0])/2-h[0],h=(a[1]+l[1])/2-h[1],f=p*p+h*h>e.s),f))return void(Math.abs(n[0]-o[0])<=Math.abs(n[1]-o[1])?(d=[(i[0]+o[0])/2,(i[1]+o[1])/2],p=e.a(d),h=[(r[0]+n[0])/2,(r[1]+n[1])/2],f=e.a(h),t(e,n,i,d,h,a,s,p,f,c-1),t(e,h,d,o,r,f,p,l,u,c-1)):(d=[(n[0]+i[0])/2,(n[1]+i[1])/2],p=e.a(d),h=[(o[0]+r[0])/2,(o[1]+r[1])/2],f=e.a(h),t(e,n,d,h,r,a,p,f,u,c-1),t(e,d,i,o,h,p,s,l,f,c-1)));if(d){if(!e.j)return;e.o=!0}e.f.push({source:[a,l,u],target:[n,o,r]}),e.f.push({source:[a,s,l],target:[n,i,o]})}}(this,t=Jt(n),e=Qt(n),i=Gt(n),n=Wt(n),o=this.a(t),this.a(e),this.a(i),this.a(n),10),this.o){var s=1/0;this.f.forEach(function(t){s=Math.min(s,t.source[0][0],t.source[1][0],t.source[2][0])}),this.f.forEach(function(t){if(Math.max(t.source[0][0],t.source[1][0],t.source[2][0])-s>this.b/2){var e=[[t.source[0][0],t.source[0][1]],[t.source[1][0],t.source[1][1]],[t.source[2][0],t.source[2][1]]];e[0][0]-s>this.b/2&&(e[0][0]-=this.b),e[1][0]-s>this.b/2&&(e[1][0]-=this.b),e[2][0]-s>this.b/2&&(e[2][0]-=this.b),Math.max(e[0][0],e[1][0],e[2][0])-Math.min(e[0][0],e[1][0],e[2][0])<this.b/2&&(t.source=e)}},this)}r={}}function ql(t){var e=[1/0,1/0,-1/0,-1/0];return t.f.forEach(function(t){t=t.source,zt(e,t[0]),zt(e,t[1]),zt(e,t[2])}),e}function Wl(t,e,n,i,o,r){this.v=e,this.s=t.H();var a=(s=e.H())?Xt(n,s):n,s=Ul(t,e,Yt(a),i);this.o=new Vl(t,e,a,this.s,.5*s),this.c=i,this.g=n,t=ql(this.o),this.j=(this.ob=r(t,s,o))?this.ob.f:1,this.Ad=this.i=null,o=2,r=[],this.ob&&(o=0,r=this.ob.l),Br.call(this,n,i,this.j,o,r)}function Gl(t){Hi.call(this,{attributions:t.attributions,extent:t.extent,logo:t.logo,projection:t.projection,state:t.state}),this.C=void 0!==t.resolutions?t.resolutions:null,this.a=null,this.qa=0}function Yl(t,e){if(t.C){var n=st(t.C,e,0);e=t.C[n]}return e}function Kl(t,e){t.a().src=e}function Zl(t,e){G.call(this,t),this.image=e}Ll=!(!Fl.userAgent.match("CriOS")&&null!=Nl&&"Google Inc."===Fl.vendor&&0==jl&&0==Bl),g(Wl,Br),Wl.prototype.ka=function(){1==this.state&&(H(this.Ad),this.Ad=null),Br.prototype.ka.call(this)},Wl.prototype.a=function(){return this.i},Wl.prototype.zd=function(){var t=this.ob.V();2==t&&(this.i=Hl(te(this.g)/this.c,Zt(this.g)/this.c,this.j,this.ob.$(),0,this.c,this.g,this.o,[{extent:this.ob.H(),image:this.ob.a()}],0)),this.state=t,Ur(this)},Wl.prototype.load=function(){if(0==this.state){this.state=1,Ur(this);var t=this.ob.V();2==t||3==t?this.zd():(this.Ad=B(this.ob,"change",function(){var t=this.ob.V();2!=t&&3!=t||(H(this.Ad),this.Ad=null,this.zd())},this),this.ob.load())}},g(Gl,Hi),Gl.prototype.A=function(t,e,n,i){var o=this.f;if(o&&i&&!xe(o,i)){if(this.a){if(this.qa==this.g&&xe(this.a.v,i)&&this.a.$()==e&&this.a.f==n&&Bt(this.a.H(),t))return this.a;W(this.a),this.a=null}return this.a=new Wl(o,i,t,e,n,function(t,e,n){return this.Mc(t,e,n,o)}.bind(this)),this.qa=this.g,this.a}return o&&(i=o),this.Mc(t,e,n,i)},Gl.prototype.o=function(t){switch((t=t.target).V()){case 1:this.b(new Zl(Xl,t));break;case 2:this.b(new Zl(Jl,t));break;case 3:this.b(new Zl(Ql,t))}},g(Zl,G);var Xl="imageloadstart",Jl="imageloadend",Ql="imageloaderror";function tu(t){Gl.call(this,{attributions:t.attributions,logo:t.logo,projection:t.projection,resolutions:t.resolutions,state:t.state}),this.ia=t.canvasFunction,this.T=null,this.Y=0,this.ta=void 0!==t.ratio?t.ratio:1.5}function eu(t){et.call(this),this.i=void 0,this.a="geometry",this.c=null,this.l=void 0,this.f=null,B(this,it(this.a),this.be,this),void 0!==t&&(t instanceof Ae||!t?this.Ua(t):this.G(t))}function nu(t,e,n,i,o){Ni.call(this,t,e),this.g=xi(),this.l=i,this.c=null,this.f={gd:!1,Tf:null,bi:-1,Uf:-1,yd:null,ui:[]},this.v=o,this.j=n}g(tu,Gl),tu.prototype.Mc=function(t,e,n,i){e=Yl(this,e);var o=this.T;return o&&this.Y==this.g&&o.$()==e&&o.f==n&&Ot(o.H(),t)||(ie(t=t.slice(),this.ta),(i=this.ia(t,e,n,[te(t)/e*n,Zt(t)/e*n],i))&&(o=new Rl(t,e,n,this.l,i)),this.T=o,this.Y=this.g),o},g(eu,et),(t=eu.prototype).clone=function(){var t=new eu(this.O());t.Ec(this.a);var e=this.W();return e&&t.Ua(e.clone()),(e=this.c)&&t.sf(e),t},t.W=function(){return this.get(this.a)},t.Xa=function(){return this.i},t.$j=function(){return this.a},t.Jl=function(){return this.c},t.ec=function(){return this.l},t.Kl=function(){this.u()},t.be=function(){this.f&&(H(this.f),this.f=null);var t=this.W();t&&(this.f=B(t,"change",this.Kl,this)),this.u()},t.Ua=function(t){this.set(this.a,t)},t.sf=function(t){this.l=(this.c=t)?function(t){if("function"!=typeof t){var e;e=Array.isArray(t)?t:[t],t=function(){return e}}return t}(t):void 0,this.u()},t.mc=function(t){this.i=t,this.u()},t.Ec=function(t){z(this,it(this.a),this.be,this),this.a=t,B(this,it(this.a),this.be,this),this.be()},g(nu,Ni),(t=nu.prototype).$a=function(){return-1==this.f.Uf?null:this.g.canvas},t.Ul=function(){return this.l},t.ib=function(){return this.j},t.load=function(){0==this.state&&(this.state=1,ji(this),this.v(this,this.j),this.s(null,NaN,null))},t.gi=function(t){this.c=t,this.state=2,ji(this)},t.vf=function(t){this.o=t},t.ki=function(t){this.s=t};var iu=document.implementation.createDocument("","",null);function ou(t,e){return iu.createElementNS(t,e)}function ru(t,e){return function t(e,n,i){if(e.nodeType==Node.CDATA_SECTION_NODE||e.nodeType==Node.TEXT_NODE)n?i.push(String(e.nodeValue).replace(/(\r\n|\r|\n)/g,"")):i.push(e.nodeValue);else for(e=e.firstChild;e;e=e.nextSibling)t(e,n,i);return i}(t,e,[]).join("")}function au(t){return t instanceof Document}function su(t){return t instanceof Node}function lu(t){return(new DOMParser).parseFromString(t,"application/xml")}function uu(i,o){return function(t,e){var n=i.call(o,t,e);void 0!==n&&ut(e[e.length-1],n)}}function cu(i,o){return function(t,e){var n=i.call(void 0!==o?o:this,t,e);void 0!==n&&e[e.length-1].push(n)}}function pu(i,o){return function(t,e){var n=i.call(void 0!==o?o:this,t,e);void 0!==n&&(e[e.length-1]=n)}}function hu(r){return function(t,e){var n=r.call(this,t,e);if(void 0!==n){var i=e[e.length-1],o=t.localName;(o in i?i[o]:i[o]=[]).push(n)}}}function du(i,o){return function(t,e){var n=i.call(this,t,e);void 0!==n&&(e[e.length-1][void 0!==o?o:t.localName]=n)}}function fu(i,o){return function(t,e,n){i.call(void 0!==o?o:this,t,e,n),n[n.length-1].node.appendChild(t)}}function gu(o){var r,a;return function(t,e,n){if(!r){r={};var i={};i[t.localName]=o,r[t.namespaceURI]=i,a=mu(t.localName)}Au(r,a,e,n)}}function mu(i,o){return function(t,e,n){return t=e[e.length-1].node,void 0===(e=i)&&(e=n),void 0===(n=o)&&(n=t.namespaceURI),ou(n,e)}}var vu,yu,bu,wu,xu,$u,_u=mu();function ku(t,e){for(var n=e.length,i=Array(n),o=0;o<n;++o)i[o]=t[e[o]];return i}function Cu(t,e,n){var i,o;for(n=void 0!==n?n:{},i=0,o=t.length;i<o;++i)n[t[i]]=e;return n}function Su(t,e,n,i){for(e=e.firstElementChild;e;e=e.nextElementSibling){var o=t[e.namespaceURI];void 0!==o&&(o=o[e.localName])&&o.call(i,e,n)}}function Tu(t,e,n,i,o){return i.push(t),Su(e,n,i,o),i.pop()}function Au(t,e,n,i,o,r){for(var a,s,l=(void 0!==o?o:n).length,u=0;u<l;++u)void 0!==(a=n[u])&&(void 0!==(s=e.call(r,a,i,void 0!==o?o[u]:void 0))&&t[s.namespaceURI][s.localName].call(r,s,a,i))}function Du(t,e,n,i,o,r,a){o.push(t),Au(e,n,i,o,r,a),o.pop()}function Mu(o,r,a,s){return function(t,e,n){var i=new XMLHttpRequest;i.open("GET","function"==typeof o?o(t,e,n):o,!0),"arraybuffer"==r.X()&&(i.responseType="arraybuffer"),i.onload=function(){if(200<=i.status&&i.status<300){var t,e=r.X();"json"==e||"text"==e?t=i.responseText:"xml"==e?(t=i.responseXML)||(t=lu(i.responseText)):"arraybuffer"==e&&(t=i.response),t&&a.call(this,r.Fa(t,{featureProjection:n}),r.Oa(t))}else s.call(this)}.bind(this),i.send()}}function Eu(t,e){return Mu(t,e,function(t,e){this.vf(e),this.gi(t)},function(){this.state=3,ji(this)})}function Pu(t,e){return Mu(t,e,function(t){this.Jc(t)},m)}function Ou(){return[[-1/0,-1/0,1/0,1/0]]}function Iu(t){this.a=vu(t),this.b={}}function Ru(t,e,n){var i=O(n);Bt([(i=t.b[i]).ca,i.fa,i.ea,i.ga],e)||(t.remove(n),t.Ca(e,n))}function Lu(t){return t.a.all().map(function(t){return t.value})}function Fu(t,e){return t.a.search({ca:e[0],fa:e[1],ea:e[2],ga:e[3]}).map(function(t){return t.value})}function Nu(t,e,n,i){return ju(Fu(t,e),n,i)}function ju(t,e,n){for(var i,o=0,r=t.length;o<r&&!(i=e.call(n,t[o]));o++);return i}function Bu(t){Hi.call(this,{attributions:(t=t||{}).attributions,logo:t.logo,projection:void 0,state:"ready",wrapX:void 0===t.wrapX||t.wrapX}),this.S=m,this.qa=t.format,this.T=t.url,void 0!==t.loader?this.S=t.loader:void 0!==this.T&&(this.S=Pu(this.T,this.qa)),this.qb=void 0!==t.strategy?t.strategy:Ou;var e,n,i,o,r,a=void 0===t.useSpatialIndex||t.useSpatialIndex;this.a=a?new Iu:null,this.Y=new Iu,this.i={},this.o={},this.j={},this.s={},this.c=null,t.features instanceof qn?n=(e=t.features).a:Array.isArray(t.features)&&(n=t.features),a||void 0!==e||(e=new qn(n)),void 0!==n&&Hu(this,n),void 0!==e&&(o=e,r=!1,B(i=this,"addfeature",function(t){r||(r=!0,o.push(t.feature),r=!1)}),B(i,"removefeature",function(t){r||(r=!0,o.remove(t.feature),r=!1)}),B(o,"add",function(t){r||(t=t.element,r=!0,this.rb(t),r=!1)},i),B(o,"remove",function(t){r||(t=t.element,r=!0,this.nb(t),r=!1)},i),i.c=o)}function Uu(t,e,n){t.s[e]=[B(n,"change",t.Eh,t),B(n,"propertychange",t.Eh,t)]}function zu(t,e,n){var i=!0,o=n.Xa();return void 0!==o?o.toString()in t.o?i=!1:t.o[o.toString()]=n:t.j[e]=n,i}function Hu(t,e){var n,i,o,r,a=[],s=[],l=[];for(i=0,o=e.length;i<o;i++)zu(t,n=O(r=e[i]).toString(),r)&&s.push(r);for(i=0,o=s.length;i<o;i++){Uu(t,n=O(r=s[i]).toString(),r);var u=r.W();u?(n=u.H(),a.push(n),l.push(r)):t.i[n]=r}for(t.a&&t.a.load(a,l),i=0,o=s.length;i<o;i++)t.b(new qu("addfeature",s[i]))}function Vu(t,e){for(var n in t.o)if(t.o[n]===e){delete t.o[n];break}}function qu(t,e){G.call(this,t),this.feature=e}function Wu(t){this.c=t.source,this.Aa=Ee(),this.i=xi(),this.j=[0,0],this.v=null,tu.call(this,{attributions:t.attributions,canvasFunction:this.Dj.bind(this),logo:t.logo,projection:t.projection,ratio:t.ratio,resolutions:t.resolutions,state:this.c.V()}),this.S=null,this.s=void 0,this.xh(t.style),B(this.c,"change",this.en,this)}function Gu(t){sl.call(this,t),this.f=null,this.s=Ee(),this.o=this.c=null}function Yu(t){sl.call(this,t),this.c=xi(),this.o=null,this.j=[1/0,1/0,-1/0,-1/0],this.S=[0,0,0],this.D=Ee(),this.C=0}function Ku(t,e,n,i){var o,r,a,s,l=n.pixelRatio,u=(h=n.viewState).center,c=h.projection,p=h.resolution,h=h.rotation,d=n.size,f=Math.round(l*d[0]/2),g=Math.round(l*d[1]/2),m=(d=l/p,(b=t.a).ha()),v=m.Ud(c),y=m.eb(c),b=X(b,"render"),w=e;(h||b)&&(o=(w=t.c).canvas,s=y.Lb(p),a=m.$d(s,l,c),s=zi(y.Ja(s)),a=a[0]/s[0],p=e.canvas.width*a,r=e.canvas.height*a,s=Math.round(Math.sqrt(p*p+r*r)),o.width!=s?o.width=o.height=s:w.clearRect(0,0,s,s),o=(s-p)/2/a,r=(s-r)/2/a,d*=a,f=Math.round(a*(f+o)),g=Math.round(a*(g+r))),p=w.globalAlpha,w.globalAlpha=i.opacity;var x,$=t.o,_=m.jf(c)&&1==i.opacity;if(_||($.reverse(),x=[]),i=void 0!==(T=i.extent)){var k=Jt(T),C=Qt(T),S=Gt(T),T=Wt(T);Vr(n.coordinateToPixelMatrix,k,k),Vr(n.coordinateToPixelMatrix,C,C),Vr(n.coordinateToPixelMatrix,S,S),Vr(n.coordinateToPixelMatrix,T,T);var A=o||0,D=r||0;w.save(),Rs(w,-h,E=w.canvas.width*l/2,M=w.canvas.height*l/2),w.beginPath(),w.moveTo(k[0]*l+A,k[1]*l+D),w.lineTo(C[0]*l+A,C[1]*l+D),w.lineTo(S[0]*l+A,S[1]*l+D),w.lineTo(T[0]*l+A,T[1]*l+D),w.clip(),Rs(w,h,E,M)}for(k=0,C=$.length;k<C;++k){T=(S=$[k]).ma;var M=y.Ea(T,t.j),E=T[0],P=Wt(y.Ea(y.qd(u,E,t.S)));T=Math.round(te(M)*d),A=Math.round(Zt(M)*d),D=Math.round((M[0]-P[0])*d/T)*T+f+Math.round((P[0]-u[0])*d),M=Math.round((P[1]-M[3])*d/A)*A+g+Math.round((u[1]-P[1])*d);if(!_){P=[D,M,D+T,M+A],w.save();for(var O=0,I=x.length;O<I;++O){var R=x[O];ee(P,R)&&(w.beginPath(),w.moveTo(P[0],P[1]),w.lineTo(P[0],P[3]),w.lineTo(P[2],P[3]),w.lineTo(P[2],P[1]),w.moveTo(R[0],R[1]),w.lineTo(R[2],R[1]),w.lineTo(R[2],R[3]),w.lineTo(R[0],R[3]),w.closePath(),w.clip())}x.push(P)}E=m.$d(E,l,c),w.drawImage(S.$a(),v,v,E[0],E[1],D,M,T,A),_||w.restore()}i&&w.restore(),b&&(l=o-f/a+f,c=r-g/a+g,ll(t,"render",w,n,u=zr(t.D,s/2-l,s/2-c,d,-d,-h,-u[0]+l/d,-u[1]-c/d))),(h||b)&&e.drawImage(w.canvas,-Math.round(o),-Math.round(r),s/a,s/a),w.globalAlpha=p}function Zu(t){sl.call(this,t),this.c=!1,this.C=-1,this.A=NaN,this.v=[1/0,1/0,-1/0,-1/0],this.o=this.U=null,this.j=xi()}function Xu(t,n){var i=/\{z\}/g,o=/\{x\}/g,r=/\{y\}/g,a=/\{-y\}/g;return function(e){if(e)return t.replace(i,e[0].toString()).replace(o,e[1].toString()).replace(r,function(){return(-e[2]-1).toString()}).replace(a,function(){var t=n.a?n.a[e[0]]:null;return(t.ga-t.fa+1+e[2]).toString()})}}function Ju(t,e){for(var n=t.length,i=Array(n),o=0;o<n;++o)i[o]=Xu(t[o],e);return Qu(i)}function Qu(i){return 1===i.length?i[0]:function(t,e,n){if(t)return i[A((t[1]<<t[0])+t[2],i.length)](t,e,n)}}function tc(){}function ec(t){var e=[],n=/\{(\d)-(\d)\}/.exec(t)||/\{([a-z])-([a-z])\}/.exec(t);if(n){var i,o=n[2].charCodeAt(0);for(i=n[1].charCodeAt(0);i<=o;++i)e.push(t.replace(n[0],String.fromCharCode(i)))}else e.push(t);return e}function nc(t){oo.call(this,{attributions:t.attributions,cacheSize:t.cacheSize,extent:t.extent,logo:t.logo,opaque:t.opaque,projection:t.projection,state:t.state,tileGrid:t.tileGrid,tilePixelRatio:t.tilePixelRatio,wrapX:t.wrapX}),this.tileLoadFunction=t.tileLoadFunction,this.tileUrlFunction=this.vc?this.vc.bind(this):tc,this.urls=null,t.urls?this.bb(t.urls):t.url&&this.Va(t.url),t.tileUrlFunction&&this.Qa(t.tileUrlFunction)}function ic(t){nc.call(this,{attributions:t.attributions,cacheSize:void 0!==t.cacheSize?t.cacheSize:128,extent:t.extent,logo:t.logo,opaque:!1,projection:t.projection,state:t.state,tileGrid:t.tileGrid,tileLoadFunction:t.tileLoadFunction?t.tileLoadFunction:oc,tileUrlFunction:t.tileUrlFunction,tilePixelRatio:t.tilePixelRatio,url:t.url,urls:t.urls,wrapX:void 0===t.wrapX||t.wrapX}),this.c=t.format?t.format:null,this.tileClass=t.tileClass?t.tileClass:nu}function oc(t,e){t.ki(Eu(e,t.l))}$u={ja:xu={}},function(t){"object"==typeof xu&&void 0!==$u?$u.ja=t():("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).Tp=t()}(function(){return function i(o,r,a){function s(n,t){if(!r[n]){if(!o[n]){var e="function"==typeof require&&require;if(!t&&e)return e(n,!0);if(l)return l(n,!0);throw(e=Error("Cannot find module '"+n+"'")).code="MODULE_NOT_FOUND",e}e=r[n]={ja:{}},o[n][0].call(e.ja,function(t){var e=o[n][1][t];return s(e||t)},e,e.ja,i,o,r,a)}return r[n].ja}for(var l="function"==typeof require&&require,t=0;t<a.length;t++)s(a[t]);return s}({1:[function(t,e){function n(t,e){if(!(this instanceof n))return new n(t,e);this.Te=Math.max(4,t||9),this.hg=Math.max(2,Math.ceil(.4*this.Te)),e&&this.mj(e),this.clear()}function c(t,e){p(t,0,t.children.length,e,t)}function p(t,e,n,i,o){o||(o=m(null)),o.ca=1/0,o.fa=1/0,o.ea=-1/0,o.ga=-1/0;for(var r;e<n;e++)r=t.children[e],u(o,t.Ta?i(r):r);return o}function u(t,e){t.ca=Math.min(t.ca,e.ca),t.fa=Math.min(t.fa,e.fa),t.ea=Math.max(t.ea,e.ea),t.ga=Math.max(t.ga,e.ga)}function r(t,e){return t.ca-e.ca}function a(t,e){return t.fa-e.fa}function h(t){return(t.ea-t.ca)*(t.ga-t.fa)}function d(t){return t.ea-t.ca+(t.ga-t.fa)}function f(t,e){return t.ca<=e.ca&&t.fa<=e.fa&&e.ea<=t.ea&&e.ga<=t.ga}function g(t,e){return e.ca<=t.ea&&e.fa<=t.ga&&e.ea>=t.ca&&e.ga>=t.fa}function m(t){return{children:t,height:1,Ta:!0,ca:1/0,fa:1/0,ea:-1/0,ga:-1/0}}function v(t,e,n,i,o){for(var r,a=[e,n];a.length;)(n=a.pop())-(e=a.pop())<=i||(r=e+Math.ceil((n-e)/i/2)*i,s(t,r,e,n,o),a.push(e,r,r,n))}e.ja=n;var s=t("quickselect");n.prototype={all:function(){return this.cg(this.data,[])},search:function(t){var e=this.data,n=[],i=this.lb;if(!g(t,e))return n;for(var o,r,a,s,l=[];e;){for(o=0,r=e.children.length;o<r;o++)a=e.children[o],g(t,s=e.Ta?i(a):a)&&(e.Ta?n.push(a):f(t,s)?this.cg(a,n):l.push(a));e=l.pop()}return n},load:function(t){if(!t||!t.length)return this;if(t.length<this.hg){for(var e=0,n=t.length;e<n;e++)this.Ca(t[e]);return this}return t=this.eg(t.slice(),0,t.length-1,0),this.data.children.length?this.data.height===t.height?this.jg(this.data,t):(this.data.height<t.height&&(e=this.data,this.data=t,t=e),this.gg(t,this.data.height-t.height-1,!0)):this.data=t,this},Ca:function(t){return t&&this.gg(t,this.data.height-1),this},clear:function(){return this.data=m([]),this},remove:function(t,e){if(!t)return this;for(var n,i,o,r,a=this.data,s=this.lb(t),l=[],u=[];a||l.length;){if(a||(a=l.pop(),i=l[l.length-1],n=u.pop(),r=!0),a.Ta){t:{o=t;var c=a.children,p=e;if(p){for(var h=0;h<c.length;h++)if(p(o,c[h])){o=h;break t}o=-1}else o=c.indexOf(o)}if(-1!==o){a.children.splice(o,1),l.push(a),this.kj(l);break}}r||a.Ta||!f(a,s)?i?(n++,a=i.children[n],r=!1):a=null:(l.push(a),u.push(n),n=0,a=(i=a).children[0])}return this},lb:function(t){return t},Ve:r,We:a,toJSON:function(){return this.data},cg:function(t,e){for(var n=[];t;)t.Ta?e.push.apply(e,t.children):n.push.apply(n,t.children),t=n.pop();return e},eg:function(t,e,n,i){var o,r,a,s,l,u;if((r=n-e+1)<=(a=this.Te))return c(o=m(t.slice(e,n+1)),this.lb),o;for(i||(i=Math.ceil(Math.log(r)/Math.log(a)),a=Math.ceil(r/Math.pow(a,i-1))),(o=m([])).Ta=!1,o.height=i,v(t,e,n,a=(r=Math.ceil(r/a))*Math.ceil(Math.sqrt(a)),this.Ve);e<=n;e+=a)for(v(t,e,l=Math.min(e+a-1,n),r,this.We),s=e;s<=l;s+=r)u=Math.min(s+r-1,l),o.children.push(this.eg(t,s,u,i-1));return c(o,this.lb),o},jj:function(t,e,n,i){for(var o,r,a,s,l,u,c,p;i.push(e),!e.Ta&&i.length-1!==n;){for(c=p=1/0,o=0,r=e.children.length;o<r;o++)l=h(a=e.children[o]),(u=(Math.max(a.ea,t.ea)-Math.min(a.ca,t.ca))*(Math.max(a.ga,t.ga)-Math.min(a.fa,t.fa))-l)<p?(p=u,c=l<c?l:c,s=a):u===p&&l<c&&(c=l,s=a);e=s||e.children[0]}return e},gg:function(t,e,n){var i=this.lb;n=n?t:i(t),i=[];var o=this.jj(n,this.data,e,i);for(o.children.push(t),u(o,n);0<=e&&i[e].children.length>this.Te;)this.sj(i,e),e--;this.gj(n,i,e)},sj:function(t,e){var n=t[e],i=n.children.length,o=this.hg;this.hj(n,o,i),i=this.ij(n,o,i),(i=m(n.children.splice(i,n.children.length-i))).height=n.height,i.Ta=n.Ta,c(n,this.lb),c(i,this.lb),e?t[e-1].children.push(i):this.jg(n,i)},jg:function(t,e){this.data=m([t,e]),this.data.height=t.height+1,this.data.Ta=!1,c(this.data,this.lb)},ij:function(t,e,n){var i,o,r,a,s,l,u;for(s=l=1/0,i=e;i<=n-e;i++)o=p(t,0,i,this.lb),r=p(t,i,n,this.lb),a=Math.max(0,Math.min(o.ea,r.ea)-Math.max(o.ca,r.ca))*Math.max(0,Math.min(o.ga,r.ga)-Math.max(o.fa,r.fa)),o=h(o)+h(r),a<s?(s=a,u=i,l=o<l?o:l):a===s&&o<l&&(l=o,u=i);return u},hj:function(t,e,n){var i=t.Ta?this.Ve:r,o=t.Ta?this.We:a;this.dg(t,e,n,i)<(e=this.dg(t,e,n,o))&&t.children.sort(i)},dg:function(t,e,n,i){t.children.sort(i);var o,r,a=p(t,0,e,i=this.lb),s=p(t,n-e,n,i),l=d(a)+d(s);for(o=e;o<n-e;o++)r=t.children[o],u(a,t.Ta?i(r):r),l+=d(a);for(o=n-e-1;e<=o;o--)r=t.children[o],u(s,t.Ta?i(r):r),l+=d(s);return l},gj:function(t,e,n){for(;0<=n;n--)u(e[n],t)},kj:function(t){for(var e,n=t.length-1;0<=n;n--)0===t[n].children.length?0<n?(e=t[n-1].children).splice(e.indexOf(t[n]),1):this.clear():c(t[n],this.lb)},mj:function(t){var e=["return a"," - b",";"];this.Ve=new Function("a","b",e.join(t[0])),this.We=new Function("a","b",e.join(t[1])),this.lb=new Function("a","return {minX: a"+t[0]+", minY: a"+t[1]+", maxX: a"+t[2]+", maxY: a"+t[3]+"};")}}},{quickselect:2}],2:[function(t,e){function c(t,e,n){var i=t[e];t[e]=t[n],t[n]=i}function p(t,e){return t<e?-1:e<t?1:0}e.ja=function t(e,n,i,o,r){for(i=i||0,o=o||e.length-1,r=r||p;i<o;){if(600<o-i){var a=o-i+1,s=n-i+1,l=Math.log(a),u=.5*Math.exp(2*l/3);l=.5*Math.sqrt(l*u*(a-u)/a)*(s-a/2<0?-1:1),t(e,n,Math.max(i,Math.floor(n-s*u/a+l)),Math.min(o,Math.floor(n+(a-s)*u/a+l)),r)}for(a=e[n],u=o,c(e,s=i,n),0<r(e[o],a)&&c(e,i,o);s<u;){for(c(e,s,u),s++,u--;r(e[s],a)<0;)s++;for(;0<r(e[u],a);)u--}0===r(e[i],a)?c(e,i,u):c(e,++u,o),u<=n&&(i=u+1),n<=u&&(o=u-1)}}},{}]},{},[1])(1)}),vu=$u.ja,(t=Iu.prototype).Ca=function(t,e){var n={ca:t[0],fa:t[1],ea:t[2],ga:t[3],value:e};this.a.Ca(n),this.b[O(e)]=n},t.load=function(t,e){for(var n=Array(e.length),i=0,o=e.length;i<o;i++){var r=t[i],a=e[i];r={ca:r[0],fa:r[1],ea:r[2],ga:r[3],value:a};n[i]=r,this.b[O(a)]=r}this.a.load(n)},t.remove=function(t){t=O(t);var e=this.b[t];return delete this.b[t],null!==this.a.remove(e)},t.forEach=function(t,e){return ju(Lu(this),t,e)},t.Ya=function(){return I(this.b)},t.clear=function(){this.a.clear(),this.b={}},t.H=function(){var t=this.a.data;return[t.ca,t.fa,t.ea,t.ga]},g(Bu,Hi),(t=Bu.prototype).rb=function(t){var e=O(t).toString();if(zu(this,e,t)){Uu(this,e,t);var n=t.W();n?(e=n.H(),this.a&&this.a.Ca(e,t)):this.i[e]=t,this.b(new qu("addfeature",t))}this.u()},t.Jc=function(t){Hu(this,t),this.u()},t.clear=function(t){if(t){for(var e in this.s)this.s[e].forEach(H);this.c||(this.s={},this.o={},this.j={})}else if(this.a)for(var n in this.a.forEach(this.Sf,this),this.i)this.Sf(this.i[n]);this.c&&this.c.clear(),this.a&&this.a.clear(),this.Y.clear(),this.i={},this.b(new qu("clear")),this.u()},t.wg=function(t,e){return this.a?this.a.forEach(t,e):this.c?this.c.forEach(t,e):void 0},t.ub=function(t,e,n){return this.a?Nu(this.a,t,e,n):this.c?this.c.forEach(e,n):void 0},t.xg=function(e,n,i){return this.ub(e,function(t){if(t.W().Ka(e)&&(t=n.call(i,t)))return t})},t.Fg=function(){return this.c},t.oe=function(){var t;return this.c?t=this.c.a:this.a&&(t=Lu(this.a),I(this.i)||ut(t,P(this.i))),t},t.Eg=function(t){var e,n,i=[];return e=t,n=function(t){i.push(t)},this.ub([e[0],e[1],e[0],e[1]],function(t){if(t.W().sg(e))return n.call(void 0,t)}),i},t.ef=function(t){return Fu(this.a,t)},t.Ag=function(t,e){var i=t[0],o=t[1],r=null,a=[NaN,NaN],s=1/0,l=[-1/0,-1/0,1/0,1/0],u=e||re;return Nu(this.a,l,function(t){if(u(t)){var e=t.W(),n=s;(s=e.sb(i,o,a,s))<n&&(r=t,t=Math.sqrt(s),l[0]=i-t,l[1]=o-t,l[2]=i+t,l[3]=o+t)}}),r},t.H=function(){return this.a.H()},t.Dg=function(t){return void 0!==(t=this.o[t.toString()])?t:null},t.Ch=function(){return this.qa},t.Dh=function(){return this.T},t.Eh=function(t){var e=O(t=t.target).toString(),n=t.W();n?(n=n.H(),e in this.i?(delete this.i[e],this.a&&this.a.Ca(n,t)):this.a&&Ru(this.a,n,t)):e in this.i||(this.a&&this.a.remove(t),this.i[e]=t),void 0!==(n=t.Xa())?(n=n.toString(),e in this.j?(delete this.j[e],this.o[n]=t):this.o[n]!==t&&(Vu(this,t),this.o[n]=t)):e in this.j||(Vu(this,t),this.j[e]=t),this.u(),this.b(new qu("changefeature",t))},t.Ya=function(){return this.a.Ya()&&I(this.i)},t.Pc=function(t,e,n){var i,o,r=this.Y;for(i=0,o=(t=this.qb(t,e)).length;i<o;++i){var a=t[i];Nu(r,a,function(t){return Ot(t.extent,a)})||(this.S.call(this,a,e,n),r.Ca(a,{extent:a.slice()}))}},t.nb=function(t){var e=O(t).toString();e in this.i?delete this.i[e]:this.a&&this.a.remove(t),this.Sf(t),this.u()},t.Sf=function(t){var e=O(t).toString();this.s[e].forEach(H),delete this.s[e];var n=t.Xa();void 0!==n?delete this.o[n.toString()]:delete this.j[e],this.b(new qu("removefeature",t))},g(qu,G),g(Wu,tu),(t=Wu.prototype).Dj=function(t,r,a,e,n){var s=new Tl(.5*r/a,t,r);this.c.Pc(t,r,n);var i,o,l,u,c,p=!1;return this.c.ub(t,function(t){var e,n;if(!(e=p))if((e=t.ec())?n=e.call(t,r):this.s&&(n=this.s(t,r)),n){var i,o=!1;for(Array.isArray(n)||(n=[n]),e=0,i=n.length;e<i;++e)o=Ol(s,t,n[e],Pl(r,a),this.dn,this)||o;e=o}else e=!1;p=e},this),Al(s),p?null:(this.j[0]!=e[0]||this.j[1]!=e[1]?(this.i.canvas.width=e[0],this.i.canvas.height=e[1],this.j[0]=e[0],this.j[1]=e[1]):this.i.clearRect(0,0,e[0],e[1]),i=this,o=Yt(t),l=r,u=a,c=e,t=zr(i.Aa,c[0]/2,c[1]/2,u/l,-u/l,0,-o[0],-o[1]),s.Pa(this.i,a,t,0,{}),this.v=s,this.i.canvas)},t.ra=function(t,e,n,i,o){if(this.v){var r={};return this.v.ra(t,e,0,i,function(t){var e=O(t).toString();if(!(e in r))return r[e]=!0,o(t)})}},t.an=function(){return this.c},t.bn=function(){return this.S},t.cn=function(){return this.s},t.dn=function(){this.u()},t.en=function(){qi(this,this.c.V())},t.xh=function(t){this.S=void 0!==t?t:Ys,this.s=t?Ws(this.S):void 0,this.u()},g(Gu,sl),Gu.prototype.ra=function(t,e,n,i){var o=this.a;return o.ha().ra(t,e.viewState.resolution,e.viewState.rotation,e.skippedFeatureUids,function(t){return n.call(i,t,o)})},Gu.prototype.Cc=function(t,e,n,i){if(this.f&&this.f.a())if(this.a.ha()instanceof Wu){if(t=t.slice(),Vr(e.pixelToCoordinateMatrix,t,t),this.ra(t,e,re,this))return n.call(i,this.a)}else if(this.c||(this.c=Ee(),Fe(this.s,this.c)),e=[0,0],Vr(this.c,t,e),this.o||(this.o=xi(1,1)),this.o.clearRect(0,0,1,1),this.o.drawImage(this.f?this.f.a():null,e[0],e[1],1,1,0,0,1,1),0<this.o.getImageData(0,0,1,1).data[3])return n.call(i,this.a)},Gu.prototype.l=function(t,e){var n=t.pixelRatio,i=(l=t.viewState).center,o=l.resolution,r=this.a.ha(),a=t.viewHints,s=t.extent;if(void 0!==e.extent&&(s=Xt(s,e.extent)),a[0]||a[1]||ne(s)||(l=r.A(s,o,n,l.projection))&&Wr(this,l)&&(this.f=l),this.f){a=(l=this.f).H(),s=l.$();var l,u=l.f;o=n*s/(o*u);zr(this.s,n*t.size[0]/2,n*t.size[1]/2,o,o,0,u*(a[0]-i[0])/s,u*(i[1]-a[3])/s),this.c=null,Kr(t.attributions,l.l),Zr(t,r)}return!!this.f},g(Yu,sl),Yu.prototype.i=function(t,e,n){var i=cl(this,t,0);ll(this,"precompose",n,t,i),Ku(this,n,t,e),ul(this,n,t,i)},Yu.prototype.l=function(t,e){function n(t){return 2==(t=t.V())||4==t||3==t&&!m}var i=t.pixelRatio,o=t.viewState,r=o.projection,a=this.a,s=a.ha(),l=s.eb(r),u=l.Lb(o.resolution,this.C),c=l.$(u),p=o.center;if(o=c==o.resolution?Kt(p=Jr(p,c,t.size),c,o.rotation,t.size):t.extent,void 0!==e.extent&&(o=Xt(o,e.extent)),ne(o))return!1;c=Zi(l,o,c),(p={})[u]={};var h,d,f,g=this.Qd(s,r,p),m=a.c(),v=[1/0,1/0,-1/0,-1/0],y=new Bn(0,0,0,0);for(d=c.ca;d<=c.ea;++d)for(f=c.fa;f<=c.ga;++f)!n(h=s.ac(u,d,f,i,r))&&h.a&&(h=h.a),n(h)?p[u][h.ma.toString()]=h:Yi(l,h.ma,g,y,v)||(h=Ki(l,h.ma,y,v))&&g(u+1,h);(g=Object.keys(p).map(Number)).sort(rt);var b;v=[],y=0;for(d=g.length;y<d;++y)for(b in f=p[h=g[y]])2==(h=f[b]).V()&&v.push(h);return this.o=v,Xr(t.usedTiles,s,u,c),Qr(t,s,l,i,r,o,u,a.f()),Yr(t,s),Zr(t,s),!0},Yu.prototype.Cc=function(t,e,n,i){var o=this.c.canvas,r=e.size;if(o.width=r[0],o.height=r[1],this.i(e,Rr(this.a),this.c),0<this.c.getImageData(t[0],t[1],1,1).data[3])return n.call(i,this.a)},g(Zu,sl),Zu.prototype.i=function(t,e,n){var i=t.extent,o=t.pixelRatio,r=e.Qc?t.skippedFeatureUids:{},a=(s=t.viewState).projection,s=s.rotation,l=a.H(),u=this.a.ha(),c=cl(this,t,0);ll(this,"precompose",n,t,c);var p=this.o;if(p&&!p.Ya()){var h,d=(h=X(this.a,"render")?(this.j.canvas.width=n.canvas.width,this.j.canvas.height=n.canvas.height,this.j):n).globalAlpha;h.globalAlpha=e.opacity,e=t.size[0]*o;var f=t.size[1]*o;if(Rs(h,-s,e/2,f/2),p.Pa(h,o,c,s,r),u.D&&a.a&&!Ot(l,i)){a=i[0],u=te(l);for(var g=0;a<l[0];)c=cl(this,t,c=u*--g),p.Pa(h,o,c,s,r),a+=u;for(g=0,a=i[2];a>l[2];)c=cl(this,t,c=u*++g),p.Pa(h,o,c,s,r),a-=u;c=cl(this,t,0)}Rs(h,s,e/2,f/2),h!=n&&(ll(this,"render",h,t,c),n.drawImage(h.canvas,0,0)),h.globalAlpha=d}ul(this,n,t,c)},Zu.prototype.ra=function(t,e,n,i){if(this.o){var o=this.a,r={};return this.o.ra(t,e.viewState.resolution,e.viewState.rotation,{},function(t){var e=O(t).toString();if(!(e in r))return r[e]=!0,n.call(i,t,o)})}},Zu.prototype.D=function(){Gr(this)},Zu.prototype.l=function(t){function e(t){var e,n=t.ec();if(n?e=n.call(t,u):(n=r.i)&&(e=n(t,u)),e){if(e){if(n=!1,Array.isArray(e))for(var i=0,o=e.length;i<o;++i)n=Ol(h,t,e[i],Pl(u,c),this.D,this)||n;else n=Ol(h,t,e,Pl(u,c),this.D,this)||n;t=n}else t=!1;this.c=this.c||t}}var r=this.a,n=r.ha();Kr(t.attributions,n.l),Zr(t,n);var i=t.viewHints[0],o=t.viewHints[1],a=r.S,s=r.T;if(!this.c&&!a&&i||!s&&o)return!0;var l=t.extent,u=(i=(s=t.viewState).projection,s.resolution),c=t.pixelRatio,p=(o=r.g,r.a);if(void 0===(a=Js(r))&&(a=El),l=Dt(l,p*u),p=s.projection.H(),n.D&&s.projection.a&&!Ot(p,t.extent)&&(t=Math.max(te(l)/2,te(p)),l[0]=p[0]-t,l[2]=p[2]+t),!this.c&&this.A==u&&this.C==o&&this.U==a&&Ot(this.v,l))return!0;this.o=null,this.c=!1;var h=new Tl(.5*u/c,l,u,r.a);if(n.Pc(l,u,i),a){var d=[];n.ub(l,function(t){d.push(t)},this),d.sort(a),d.forEach(e,this)}else n.ub(l,e,this);return Al(h),this.A=u,this.C=o,this.U=a,this.v=l,this.o=h,!0},g(nc,oo),(t=nc.prototype).fb=function(){return this.tileLoadFunction},t.gb=function(){return this.tileUrlFunction},t.hb=function(){return this.urls},t.Bh=function(t){switch((t=t.target).V()){case 1:this.b(new lo("tileloadstart",t));break;case 2:this.b(new lo("tileloadend",t));break;case 3:this.b(new lo("tileloaderror",t))}},t.kb=function(t){this.a.clear(),this.tileLoadFunction=t,this.u()},t.Qa=function(t,e){this.tileUrlFunction=t,void 0!==e?ao(this,e):this.u()},t.Va=function(t){var e=this.urls=ec(t);this.Qa(this.vc?this.vc.bind(this):Ju(e,this.tileGrid),t)},t.bb=function(t){var e=(this.urls=t).join("\n");this.Qa(this.vc?this.vc.bind(this):Ju(t,this.tileGrid),e)},t.Yf=function(t,e,n){t=this.Eb(t,e,n),Ii(this.a,t)&&this.a.get(t)},g(ic,nc),ic.prototype.ac=function(t,e,n,i,o){var r=this.Eb(t,e,n);return Ii(this.a,r)?this.a.get(r):(i=(e=so(this,t=[t,e,n],o))?this.tileUrlFunction(e,i,o):void 0,B(i=new this.tileClass(t,void 0!==i?0:4,void 0!==i?i:"",this.c,this.tileLoadFunction),"change",this.Bh,this),this.a.set(r,i),i)},ic.prototype.$d=function(t,e){var n=zi(this.tileGrid.Ja(t));return[n[0]*e,n[1]*e]};var rc={image:pl,hybrid:["Polygon","LineString"]},ac={hybrid:["Image","Text"],vector:pl};function sc(t){Yu.call(this,t),this.U=!1,this.v=Ee(),this.C="vector"==t.s?1:0}function lc(t,e,n){function i(t){var e;if((n=t.ec())?e=n.call(t,g):(n=s.i)&&(e=n(t,g)),e){Array.isArray(e)||(e=[e]);var n=v,i=m;if(e){var o=!1;if(Array.isArray(e))for(var r=0,a=e.length;r<a;++r)o=Ol(i,t,e[r],n,this.A,this)||o;else o=Ol(i,t,e,n,this.A,this)||o;t=o}else t=!1;this.U=this.U||t,l.gd=l.gd||t}}var s=t.a,o=n.pixelRatio;n=n.viewState.projection;var r=s.g,a=Js(s)||null,l=e.f;if(l.gd||l.bi!=r||l.Tf!=a){l.yd=null,l.gd=!1;var u,c=s.ha(),p=c.tileGrid,h=e.ma,d=e.o,f="tile-pixels"==d.wb(),g=p.$(h[0]);f?(f=c=c.bc(o),p=[0,0,(p=zi(p.Ja(h[0])))[0]*f,p[1]*f]):(c=g,p=p.Ea(h),xe(n,d)||(u=!0,e.vf(n))),l.gd=!1;var m=new Tl(0,p,c,s.a),v=Pl(c,o);for(e=e.c,a&&a!==l.Tf&&e.sort(a),p=0,h=e.length;p<h;++p)o=e[p],u&&o.W().jb(d,n),i.call(t,o);Al(m),l.bi=r,l.Tf=a,l.yd=m,l.resolution=NaN}}function uc(t,e){ra.call(this,0,e),this.f=xi(),this.b=this.f.canvas,this.b.style.width="100%",this.b.style.height="100%",this.b.className="ol-unselectable",t.insertBefore(this.b,t.childNodes[0]||null),this.a=!0,this.c=Ee()}function cc(t,e,n){var i=t.i,o=t.f;if(X(i,e)){var r=n.extent,a=n.pixelRatio,s=n.viewState.rotation,l=n.pixelRatio,u=n.viewState,c=u.resolution;r=new tl(o,a,r,t=zr(t.c,t.b.width/2,t.b.height/2,l/c,-l/c,-u.rotation,-u.center[0],-u.center[1]),s),i.b(new Fr(e,i,r,n,o,null))}}function pc(t,e){qr.call(this,t),this.target=e}function hc(t){var e=document.createElement("DIV");e.style.position="absolute",pc.call(this,t,e),this.f=null,this.c=Pe()}function dc(t){var e=document.createElement("DIV");e.style.position="absolute",pc.call(this,t,e),this.c=!0,this.l=1,this.i=0,this.f={}}function fc(t,e){this.target=document.createElement("DIV"),this.target.style.position="absolute",this.target.style.width="100%",this.target.style.height="100%",this.c=t,this.g=e,this.i=Jt(t.Ea(e)),this.l=t.$(e[0]),this.a={},this.b=null,this.f=Pe(),this.o=[0,0]}function gc(t){this.i=xi();var e=this.i.canvas;e.style.maxWidth="none",e.style.position="absolute",pc.call(this,t,e),this.f=!1,this.l=-1,this.s=NaN,this.o=[1/0,1/0,-1/0,-1/0],this.c=this.j=null,this.U=Ee(),this.v=Ee()}function mc(t,e,n,i){var o=t.i;X(t=t.a,e)&&(i=new tl(o,n.pixelRatio,n.extent,i,n.viewState.rotation),t.b(new Fr(e,t,i,n,o,null)))}function vc(t,e){ra.call(this,0,e),this.f=xi();var n=this.f.canvas;n.style.position="absolute",n.style.width="100%",n.style.height="100%",n.className="ol-unselectable",t.insertBefore(n,t.childNodes[0]||null),this.c=Ee(),this.b=document.createElement("DIV"),this.b.className="ol-unselectable",(n=this.b.style).position="absolute",n.width="100%",n.height="100%",B(this.b,"touchstart",K),t.insertBefore(this.b,t.childNodes[0]||null),this.a=!0}function yc(t,e,n){var i=t.i;if(X(i,e)){var o=n.extent,r=n.pixelRatio,a=n.viewState,s=a.rotation,l=t.f,u=l.canvas;zr(t.c,u.width/2,u.height/2,r/a.resolution,-r/a.resolution,-a.rotation,-a.center[0],-a.center[1]),t=new tl(l,r,o,t.c,s),i.b(new Fr(e,i,t,n,l,null))}}function bc(t){this.b=t}function wc(t){this.b=t}function xc(t){this.b=t}function $c(){this.b="precision mediump float;varying vec2 a;varying float b;uniform float k;uniform sampler2D l;void main(void){vec4 texColor=texture2D(l,a);gl_FragColor.rgb=texColor.rgb;float alpha=texColor.a*b*k;if(alpha==0.0){discard;}gl_FragColor.a=alpha;}"}function _c(){this.b="varying vec2 a;varying float b;attribute vec2 c;attribute vec2 d;attribute vec2 e;attribute float f;attribute float g;uniform mat4 h;uniform mat4 i;uniform mat4 j;void main(void){mat4 offsetMatrix=i;if(g==1.0){offsetMatrix=i*j;}vec4 offsets=offsetMatrix*vec4(e,0.,0.);gl_Position=h*vec4(c,0.,1.)+offsets;a=d;b=f;}"}function kc(t,e){this.o=t.getUniformLocation(e,"j"),this.j=t.getUniformLocation(e,"i"),this.i=t.getUniformLocation(e,"k"),this.l=t.getUniformLocation(e,"h"),this.b=t.getAttribLocation(e,"e"),this.a=t.getAttribLocation(e,"f"),this.f=t.getAttribLocation(e,"c"),this.g=t.getAttribLocation(e,"g"),this.c=t.getAttribLocation(e,"d")}function Cc(t){this.b=void 0!==t?t:[]}function Sc(t,e){this.l=t,this.b=e,this.a={},this.c={},this.f={},this.j=this.s=this.i=this.o=null,(this.g=at(l,"OES_element_index_uint"))&&e.getExtension("OES_element_index_uint"),B(this.l,"webglcontextlost",this.ao,this),B(this.l,"webglcontextrestored",this.bo,this)}function Tc(t,e,n){var i=t.b,o=n.b,r=String(O(n));if(r in t.a)i.bindBuffer(e,t.a[r].buffer);else{var a,s=i.createBuffer();i.bindBuffer(e,s),34962==e?a=new Float32Array(o):34963==e&&(a=t.g?new Uint32Array(o):new Uint16Array(o)),i.bufferData(e,a,35044),t.a[r]={Cb:n,buffer:s}}}function Ac(t,e){var n=t.b,i=String(O(e)),o=t.a[i];n.isContextLost()||n.deleteBuffer(o.buffer),delete t.a[i]}function Dc(t){if(!t.i){var e=t.b,n=e.createFramebuffer();e.bindFramebuffer(e.FRAMEBUFFER,n);var i=Oc(e,1,1),o=e.createRenderbuffer();e.bindRenderbuffer(e.RENDERBUFFER,o),e.renderbufferStorage(e.RENDERBUFFER,e.DEPTH_COMPONENT16,1,1),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,i,0),e.framebufferRenderbuffer(e.FRAMEBUFFER,e.DEPTH_ATTACHMENT,e.RENDERBUFFER,o),e.bindTexture(e.TEXTURE_2D,null),e.bindRenderbuffer(e.RENDERBUFFER,null),e.bindFramebuffer(e.FRAMEBUFFER,null),t.i=n,t.s=i,t.j=o}return t.i}function Mc(t,e){var n=String(O(e));if(n in t.c)return t.c[n];var i=t.b,o=i.createShader(e.X());return i.shaderSource(o,e.b),i.compileShader(o),t.c[n]=o}function Ec(t,e,n){var i=O(e)+"/"+O(n);if(i in t.f)return t.f[i];var o=t.b,r=o.createProgram();return o.attachShader(r,Mc(t,e)),o.attachShader(r,Mc(t,n)),o.linkProgram(r),t.f[i]=r}function Pc(t,e,n){var i=t.createTexture();return t.bindTexture(t.TEXTURE_2D,i),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.LINEAR),void 0!==e&&t.texParameteri(3553,10242,e),void 0!==n&&t.texParameteri(3553,10243,n),i}function Oc(t,e,n){var i=Pc(t,void 0,void 0);return t.texImage2D(t.TEXTURE_2D,0,t.RGBA,e,n,0,t.RGBA,t.UNSIGNED_BYTE,null),i}function Ic(t,e){var n=Pc(t,33071,33071);return t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,e),n}function Rc(t,e){this.C=this.A=void 0,this.j=Yt(e),this.U=[],this.i=[],this.R=void 0,this.c=[],this.f=[],this.Ba=this.ya=void 0,this.a=[],this.D=this.o=null,this.S=void 0,this.ta=Pe(),this.Aa=Pe(),this.Y=this.T=void 0,this.Sa=Pe(),this.za=this.ia=this.Ra=void 0,this.Gb=[],this.l=[],this.b=[],this.v=null,this.g=[],this.s=[],this.qa=void 0}function Lc(t,n){var i=t.v,o=t.o,r=t.Gb,a=t.l,s=n.b;return function(){if(!s.isContextLost()){var t,e;for(t=0,e=r.length;t<e;++t)s.deleteTexture(r[t]);for(t=0,e=a.length;t<e;++t)s.deleteTexture(a[t])}Ac(n,i),Ac(n,o)}}function Fc(t,e,n,i){var o,r,a,s,l,u,c=t.A,p=t.C,h=t.R,d=t.ya,f=t.Ba,g=t.S,m=t.T,v=t.Y,y=t.Ra?1:0,b=t.ia,w=t.za,x=t.qa,$=Math.cos(b),_=(b=Math.sin(b),t.a.length),k=t.b.length;for(o=0;o<n;o+=i)l=e[o]-t.j[0],u=e[o+1]-t.j[1],r=k/8,a=-w*c,s=-w*(h-p),t.b[k++]=l,t.b[k++]=u,t.b[k++]=a*$-s*b,t.b[k++]=a*b+s*$,t.b[k++]=m/f,t.b[k++]=(v+h)/d,t.b[k++]=g,t.b[k++]=y,a=w*(x-c),s=-w*(h-p),t.b[k++]=l,t.b[k++]=u,t.b[k++]=a*$-s*b,t.b[k++]=a*b+s*$,t.b[k++]=(m+x)/f,t.b[k++]=(v+h)/d,t.b[k++]=g,t.b[k++]=y,a=w*(x-c),s=w*p,t.b[k++]=l,t.b[k++]=u,t.b[k++]=a*$-s*b,t.b[k++]=a*b+s*$,t.b[k++]=(m+x)/f,t.b[k++]=v/d,t.b[k++]=g,t.b[k++]=y,a=-w*c,s=w*p,t.b[k++]=l,t.b[k++]=u,t.b[k++]=a*$-s*b,t.b[k++]=a*b+s*$,t.b[k++]=m/f,t.b[k++]=v/d,t.b[k++]=g,t.b[k++]=y,t.a[_++]=r,t.a[_++]=r+1,t.a[_++]=r+2,t.a[_++]=r,t.a[_++]=r+2,t.a[_++]=r+3}function Nc(t,e){var n=e.b;t.U.push(t.a.length),t.i.push(t.a.length),t.v=new Cc(t.b),Tc(e,34962,t.v),t.o=new Cc(t.a),Tc(e,34963,t.o);var i={};jc(t.Gb,t.c,i,n),jc(t.l,t.f,i,n),t.A=void 0,t.C=void 0,t.R=void 0,t.c=null,t.f=null,t.ya=void 0,t.Ba=void 0,t.a=null,t.S=void 0,t.T=void 0,t.Y=void 0,t.Ra=void 0,t.ia=void 0,t.za=void 0,t.b=null,t.qa=void 0}function jc(t,e,n,i){var o,r,a,s=e.length;for(a=0;a<s;++a)(r=O(o=e[a]).toString())in n?o=n[r]:(o=Ic(i,o),n[r]=o),t[a]=o}function Bc(t,e,n,i,o,r){var a=n.g?5125:5123;if(n=n.g?4:2,I(i)){var s;for(t=0,i=o.length,s=0;t<i;++t){e.bindTexture(3553,o[t]);var l=r[t];e.drawElements(4,l-s,a,s*n),s=l}}else{var u;l=s=0;for(u=o.length;l<u;++l){e.bindTexture(3553,o[l]);for(var c=0<l?r[l-1]:0,p=r[l],h=c;s<t.g.length&&t.g[s]<=p;){c=void 0!==i[O(t.s[s]).toString()]?(h!==c&&e.drawElements(4,c-h,a,h*n),h=s===t.g.length-1?p:t.g[s+1]):s===t.g.length-1?p:t.g[s+1],s++}h!==c&&e.drawElements(4,c-h,a,h*n)}}}function Uc(t,e,n){this.f=e,this.c=t,this.g=n,this.a={}}function zc(t,e){var n,i=[];for(n in t.a)i.push(Lc(t.a[n],e));return function(){for(var t,e=i.length,n=0;n<e;n++)t=i[n].apply(this,arguments);return t}}function Hc(t,e,n,i,o,r,a,s,l,u,c){var p,h,d=qc;for(p=pl.length-1;0<=p;--p)if(void 0!==(h=t.a[pl[p]])&&(h=h.Pa(e,n,i,o,d,r,a,s,l,u,c)))return h}g(sc,Yu),sc.prototype.i=function(t,e,n){var i=cl(this,t,0);if(ll(this,"precompose",n,t,i),"vector"!==(r=this.a.s)&&Ku(this,n,t,e),"image"!==r){var o=this.a,r=ac[o.s],a=t.pixelRatio,s=e.Qc?t.skippedFeatureUids:{},l=(p=t.viewState).center,u=p.rotation,c=t.size,p=a/p.resolution,h=(_=o.ha()).bc(a),d=cl(this,t,0),f=(o=X(o,"render")?(this.c.canvas.width=n.canvas.width,this.c.canvas.height=n.canvas.height,this.c):n).globalAlpha;o.globalAlpha=e.opacity,e=this.o;var g,m,v,y,b,w,x,$,_=_.tileGrid;for(m=0,v=e.length;m<v;++m)x=(y=e[m]).f,b=_.Ea(y.ma,this.j),g=y.ma[0],w="tile-pixels"==y.o.wb(),$=(g=_.$(g))/h,g=Math.round(a*c[0]/2),y=Math.round(a*c[1]/2),b=w?(b=Jt(b),zr(this.v,g,y,p*$,p*$,u,(b[0]-l[0])/$,(l[1]-b[1])/$)):d,Rs(o,-u,g,y),x.yd.Pa(o,a,b,u,s,r),Rs(o,u,g,y);o!=n&&(ll(this,"render",o,t,d),n.drawImage(o.canvas,0,0)),o.globalAlpha=f}ul(this,n,t,i)},sc.prototype.ra=function(t,e,n,i){var o=e.pixelRatio,r=e.viewState.resolution;e=e.viewState.rotation;var a,s,l,u,c,p,h=this.a,d={},f=this.o,g=h.ha(),m=g.tileGrid;for(l=0,u=f.length;l<u;++l)s=(p=f[l]).ma,Pt(c=g.tileGrid.Ea(s,this.j),t)&&(s="tile-pixels"===p.o.wb()?(c=Jt(c),r=g.bc(o),s=m.$(s[0])/r,[(t[0]-c[0])/s,(c[1]-t[1])/s]):t,p=p.f.yd,a=a||p.ra(s,r,e,{},function(t){var e=O(t).toString();if(!(e in d))return d[e]=!0,n.call(i,t,h)}));return a},sc.prototype.A=function(){Gr(this)},sc.prototype.l=function(t,e){var n=Yu.prototype.l.call(this,t,e);if(n)for(var i=Object.keys(t.Ee||{}),o=0,r=this.o.length;o<r;++o){lc(this,s=this.o[o],t);var a=s,s=t,l=this.a,u=rc[l.s];if(u){var c=s.pixelRatio,p=a.f,h=l.g;if(!ht(p.ui,i)||p.Uf!==h){p.ui=i,p.Uf=h;h=a.g;var d=l.ha(),f=d.tileGrid,g=a.ma[0],m=f.$(g),v=(l=zi(f.Ja(g)),(g=f.$(g))/m),y=l[0]*c*v,b=l[1]*c*v;h.canvas.width=y/v+.5,h.canvas.height=b/v+.5,h.scale(1/v,1/v),h.translate(y/2,b/2),v="tile-pixels"==a.o.wb(),m=c/m,g/=d=d.bc(c),a=f.Ea(a.ma,this.j),a=v?zr(this.v,0,0,m*g,m*g,0,-l[0]*d/2,-l[1]*d/2):(a=Yt(a),zr(this.v,0,0,m,-m,0,-a[0],-a[1])),p.yd.Pa(h,c,a,0,s.skippedFeatureUids||{},u)}}}return n},g(uc,ra),uc.prototype.Xe=function(t){return t instanceof Ms?new Gu(t):t instanceof Es?new Yu(t):t instanceof Qs?new sc(t):t instanceof Xs?new Zu(t):null},uc.prototype.X=function(){return"canvas"},uc.prototype.Ce=function(t){if(t){var e=this.f,n=t.pixelRatio,i=Math.round(t.size[0]*n);n=Math.round(t.size[1]*n);this.b.width!=i||this.b.height!=n?(this.b.width=i,this.b.height=n):e.clearRect(0,0,i,n);var o=t.viewState.rotation;aa(t),cc(this,"precompose",t);var r=t.layerStatesArray;dt(r),Rs(e,o,i/2,n/2);var a,s,l,u,c=t.viewState.resolution;for(a=0,s=r.length;a<s;++a)l=la(this,l=(u=r[a]).layer),jr(u,c)&&"ready"==u.R&&l.l(t,u)&&l.i(t,u,e);Rs(e,-o,i/2,n/2),cc(this,"postcompose",t),this.a||(this.b.style.display="",this.a=!0),ua(this,t),t.postRenderFunctions.push(sa)}else this.a&&(this.b.style.display="none",this.a=!1)},g(pc,qr),pc.prototype.Nd=m,pc.prototype.th=m,g(hc,pc),hc.prototype.ra=function(t,e,n,i){var o=this.a;return o.ha().ra(t,e.viewState.resolution,e.viewState.rotation,e.skippedFeatureUids,function(t){return n.call(i,t,o)})},hc.prototype.Nd=function(){Mi(this.target),this.f=null},hc.prototype.yf=function(t,e){var n=t.viewState,i=n.center,o=n.resolution,r=n.rotation,a=this.f,s=this.a.ha(),l=t.viewHints,u=t.extent;return void 0!==e.extent&&(u=Xt(u,e.extent)),l[0]||l[1]||ne(u)||(n=s.A(u,o,t.pixelRatio,n.projection))&&Wr(this,n)&&(a=n),a&&(l=a.H(),u=a.$(),zr(n=Ee(),t.size[0]/2,t.size[1]/2,u/o,u/o,r,(l[0]-i[0])/u,(i[1]-l[3])/u),a!=this.f&&((i=a.a(this)).style.maxWidth="none",i.style.position="absolute",Mi(this.target),this.target.appendChild(i),this.f=a),Hr(n,this.c)||(Ti(this.target,n),Ie(this.c,n)),Kr(t.attributions,a.l),Zr(t,s)),!0},g(dc,pc),dc.prototype.Nd=function(){Mi(this.target),this.i=0},dc.prototype.yf=function(t,e){if(!e.visible)return this.c&&(this.target.style.display="none",this.c=!1),!0;var n,i=t.pixelRatio,o=t.viewState,r=o.projection,a=this.a,s=a.ha(),l=s.eb(r),u=s.Ud(r),c=l.Lb(o.resolution),p=l.$(c),h=o.center;n=p==o.resolution?Kt(h=Jr(h,p,t.size),p,o.rotation,t.size):t.extent,void 0!==e.extent&&(n=Xt(n,e.extent));p=Zi(l,n,p);var d={};d[c]={};var f,g,m,v,y,b=this.Qd(s,r,d),w=a.c(),x=[1/0,1/0,-1/0,-1/0],$=new Bn(0,0,0,0);for(m=p.ca;m<=p.ea;++m)for(v=p.fa;v<=p.ga;++v)!(g=2==(g=(f=s.ac(c,m,v,i,r)).V())||4==g||3==g&&!w)&&f.a&&(f=f.a),2==(g=f.V())?d[c][f.ma.toString()]=f:4==g||3==g&&!w||((g=Yi(l,f.ma,b,$,x))||(f=Ki(l,f.ma,$,x))&&b(c+1,f));if(this.i!=s.g){for(y in this.f)Di((w=this.f[+y]).target);this.f={},this.i=s.g}(x=Object.keys(d).map(Number)).sort(rt);var _;b={};for(m=0,v=x.length;m<v;++m){for(_ in(y=x[m])in this.f?w=this.f[y]:(w=new fc(l,w=l.qd(h,y)),b[y]=!0,this.f[y]=w),y=d[y]){f=w;var k,C=u,S=(k=(g=y[_]).ma)[0],T=k[1],A=k[2];if(!((k=k.toString())in f.a)){S=zi(f.c.Ja(S),f.o);var D,M,E=g.$a(f),P=E.style;P.maxWidth="none",0<C?((M=(D=document.createElement("DIV")).style).overflow="hidden",M.width=S[0]+"px",M.height=S[1]+"px",P.position="absolute",P.left=-C+"px",P.top=-C+"px",P.width=S[0]+2*C+"px",P.height=S[1]+2*C+"px",D.appendChild(E)):(P.width=S[0]+"px",P.height=S[1]+"px",D=E,M=P),M.position="absolute",M.left=(T-f.g[1])*S[0]+"px",M.top=(f.g[2]-A)*S[1]+"px",f.b||(f.b=document.createDocumentFragment()),f.b.appendChild(D),f.a[k]=g}}w.b&&(w.target.appendChild(w.b),w.b=null)}for((u=Object.keys(this.f).map(Number)).sort(rt),m=Ee(),_=0,x=u.length;_<x;++_)if(y=u[_],w=this.f[y],y in d){if(f=w.$(),v=w.Ia(),zr(m,t.size[0]/2,t.size[1]/2,f/o.resolution,f/o.resolution,o.rotation,(v[0]-h[0])/f,(h[1]-v[1])/f),w.setTransform(m),y in b){for(--y;0<=y;--y)if(y in this.f){this.f[y].target.parentNode&&this.f[y].target.parentNode.insertBefore(w.target,this.f[y].target.nextSibling);break}y<0&&this.target.insertBefore(w.target,this.target.childNodes[0]||null)}else if(!t.viewHints[0]&&!t.viewHints[1]){for(f in g=Xi(w.c,n,w.g[0],$),y=[],f=void 0,w.a)v=w.a[f],g.contains(v.ma)||y.push(v);for(g=0,C=y.length;g<C;++g)f=(v=y[g]).ma.toString(),Di(v.$a(w)),delete w.a[f]}}else Di(w.target),delete this.f[y];return e.opacity!=this.l&&(this.l=this.target.style.opacity=e.opacity),e.visible&&!this.c&&(this.target.style.display="",this.c=!0),Xr(t.usedTiles,s,c,p),Qr(t,s,l,i,r,n,c,a.f()),Yr(t,s),Zr(t,s),!0},fc.prototype.Ia=function(){return this.i},fc.prototype.$=function(){return this.l},fc.prototype.setTransform=function(t){Hr(t,this.f)||(Ti(this.target,t),Ie(this.f,t))},g(gc,pc),(t=gc.prototype).Nd=function(){var t=this.i.canvas;t.width=t.width,this.l=0},t.th=function(t,e){var n=(r=t.viewState).center,i=r.rotation,o=r.resolution,r=t.pixelRatio,a=t.size[0],s=t.size[1],l=a*r,u=s*r;n=zr(this.U,r*a/2,r*s/2,r/o,-r/o,-i,-n[0],-n[1]);(o=this.i).canvas.width=l,o.canvas.height=u,a=zr(this.v,0,0,1/r,1/r,0,-(l-a)/2*r,-(u-s)/2*r),Ti(o.canvas,a),mc(this,"precompose",t,n),(a=this.c)&&!a.Ya()&&(o.globalAlpha=e.opacity,a.Pa(o,r,n,i,e.Qc?t.skippedFeatureUids:{}),mc(this,"render",t,n)),mc(this,"postcompose",t,n)},t.ra=function(t,e,n,i){if(this.c){var o=this.a,r={};return this.c.ra(t,e.viewState.resolution,e.viewState.rotation,{},function(t){var e=O(t).toString();if(!(e in r))return r[e]=!0,n.call(i,t,o)})}},t.uh=function(){Gr(this)},t.yf=function(t){function e(t){var e,n=t.ec();if(n?e=n.call(t,l):(n=r.i)&&(e=n(t,l)),e){if(e){if(n=!1,Array.isArray(e))for(var i=0,o=e.length;i<o;++i)n=Ol(c,t,e[i],Pl(l,u),this.uh,this)||n;else n=Ol(c,t,e,Pl(l,u),this.uh,this)||n;t=n}else t=!1;this.f=this.f||t}}var r=this.a,n=r.ha();Kr(t.attributions,n.l),Zr(t,n);var i=t.viewHints[0],o=t.viewHints[1],a=r.S,s=r.T;if(!this.f&&!a&&i||!s&&o)return!0;o=t.extent,i=(a=t.viewState).projection;var l=a.resolution,u=t.pixelRatio;if(t=r.g,s=r.a,void 0===(a=Js(r))&&(a=El),o=Dt(o,s*l),!this.f&&this.s==l&&this.l==t&&this.j==a&&Ot(this.o,o))return!0;this.c=null,this.f=!1;var c=new Tl(.5*l/u,o,l,r.a);if(n.Pc(o,l,i),a){var p=[];n.ub(o,function(t){p.push(t)},this),p.sort(a),p.forEach(e,this)}else n.ub(o,e,this);return Al(c),this.s=l,this.l=t,this.j=a,this.o=o,this.c=c,!0},g(vc,ra),vc.prototype.ka=function(){Di(this.b),ra.prototype.ka.call(this)},vc.prototype.Xe=function(t){if(t instanceof Ms)t=new hc(t);else if(t instanceof Es)t=new dc(t);else{if(!(t instanceof Xs))return null;t=new gc(t)}return t},vc.prototype.X=function(){return"dom"},vc.prototype.Ce=function(t){if(t){if(X(e=this.i,"precompose")||X(e,"postcompose")){var e=this.f.canvas,n=t.pixelRatio;e.width=t.size[0]*n,e.height=t.size[1]*n}yc(this,"precompose",t),dt(e=t.layerStatesArray);var i,o,r,a;n=t.viewState.resolution;for(i=0,o=e.length;i<o;++i)r=la(this,r=(a=e[i]).layer),this.b.insertBefore(r.target,this.b.childNodes[i]||null),jr(a,n)&&"ready"==a.R?r.yf(t,a)&&r.th(t,a):r.Nd();var s;e=t.layerStates;for(s in this.g)s in e||Di((r=this.g[s]).target);this.a||(this.b.style.display="",this.a=!0),aa(t),ua(this,t),t.postRenderFunctions.push(sa),yc(this,"postcompose",t)}else this.a&&(this.b.style.display="none",this.a=!1)},g(wc,bc),wc.prototype.X=function(){return 35632},g(xc,bc),xc.prototype.X=function(){return 35633},g($c,wc),i($c),g(_c,xc),i(_c),g(Sc,q),(t=Sc.prototype).ka=function(){V(this.l);var t=this.b;if(!t.isContextLost()){for(var e in this.a)t.deleteBuffer(this.a[e].buffer);for(e in this.f)t.deleteProgram(this.f[e]);for(e in this.c)t.deleteShader(this.c[e]);t.deleteFramebuffer(this.i),t.deleteRenderbuffer(this.j),t.deleteTexture(this.s)}},t.$n=function(){return this.b},t.ao=function(){E(this.a),E(this.c),E(this.f),this.j=this.s=this.i=this.o=null},t.bo=function(){},t.we=function(t){return t!=this.o&&(this.b.useProgram(t),this.o=t,!0)},g(Rc,Lr),Rc.prototype.tc=function(t,e){this.g.push(this.a.length),this.s.push(e);var n=t.la();Fc(this,n,n.length,t.va())},Rc.prototype.uc=function(t,e){this.g.push(this.a.length),this.s.push(e);var n=t.la();Fc(this,n,n.length,t.va())},Rc.prototype.Pa=function(t,e,n,i,o,r,a,s,l,u,c){r=t.b,Tc(t,34962,this.v),Tc(t,34963,this.o);var p,h=$c.Zb(),d=Ec(t,h,d=_c.Zb());if(this.D?h=this.D:this.D=h=new kc(r,d),t.we(d),r.enableVertexAttribArray(h.f),r.vertexAttribPointer(h.f,2,5126,!1,32,0),r.enableVertexAttribArray(h.b),r.vertexAttribPointer(h.b,2,5126,!1,32,8),r.enableVertexAttribArray(h.c),r.vertexAttribPointer(h.c,2,5126,!1,32,16),r.enableVertexAttribArray(h.a),r.vertexAttribPointer(h.a,1,5126,!1,32,24),r.enableVertexAttribArray(h.g),r.vertexAttribPointer(h.g,1,5126,!1,32,28),zr(d=this.Sa,0,0,2/(n*o[0]),2/(n*o[1]),-i,-(e[0]-this.j[0]),-(e[1]-this.j[1])),e=this.Aa,n=2/o[0],o=2/o[1],Re(e),e[0]=n,e[5]=o,e[10]=1,e[15]=1,Re(o=this.ta),0!==i&&Be(o,-i),r.uniformMatrix4fv(h.l,!1,d),r.uniformMatrix4fv(h.j,!1,e),r.uniformMatrix4fv(h.o,!1,o),r.uniform1f(h.i,a),void 0===l)Bc(this,r,t,s,this.Gb,this.U);else{if(u)t:{for(i=t.g?5125:5123,t=t.g?4:2,o=this.g.length-1,a=this.l.length-1;0<=a;--a)for(r.bindTexture(3553,this.l[a]),u=0<a?this.i[a-1]:0,e=this.i[a];0<=o&&this.g[o]>=u;){if(p=this.g[o],void 0===s[d=O(n=this.s[o]).toString()]&&n.W()&&(void 0===c||ee(c,n.W().H()))&&(r.clear(r.COLOR_BUFFER_BIT|r.DEPTH_BUFFER_BIT),r.drawElements(4,e-p,i,p*t),e=l(n))){s=e;break t}e=p,o--}s=void 0}else r.clear(r.COLOR_BUFFER_BIT|r.DEPTH_BUFFER_BIT),Bc(this,r,t,s,this.l,this.i),s=(s=l(null))?s:void 0;p=s}return r.disableVertexAttribArray(h.f),r.disableVertexAttribArray(h.b),r.disableVertexAttribArray(h.c),r.disableVertexAttribArray(h.a),r.disableVertexAttribArray(h.g),p},Rc.prototype.Tb=function(t){var e=t.Yb(),n=t.jc(1),i=t.ld(),o=t.pe(1),r=t.v,a=t.Ia(),s=t.U,l=t.j,u=t.Fb();t=t.i,0===this.c.length?this.c.push(n):O(this.c[this.c.length-1])!=O(n)&&(this.U.push(this.a.length),this.c.push(n)),0===this.f.length?this.f.push(o):O(this.f[this.f.length-1])!=O(o)&&(this.i.push(this.a.length),this.f.push(o)),this.A=e[0],this.C=e[1],this.R=u[1],this.ya=i[1],this.Ba=i[0],this.S=r,this.T=a[0],this.Y=a[1],this.ia=l,this.Ra=s,this.za=t,this.qa=u[0]},Uc.prototype.b=function(t,e){var n=this.a[e];return void 0===n&&(n=new Vc[e](this.c,this.f),this.a[e]=n),n},Uc.prototype.Ya=function(){return I(this.a)},Uc.prototype.Pa=function(t,e,n,i,o,r,a,s){var l,u,c;for(l=0,u=pl.length;l<u;++l)void 0!==(c=this.a[pl[l]])&&c.Pa(t,e,n,i,o,r,a,s,void 0,!1)},Uc.prototype.ra=function(t,e,n,i,o,r,a,s,l,u){var c,p=e.b;return p.bindFramebuffer(p.FRAMEBUFFER,Dc(e)),void 0!==this.g&&(c=Dt(Nt(t),i*this.g)),Hc(this,e,t,i,o,a,s,l,function(t){var e=new Uint8Array(4);if(p.readPixels(0,0,1,1,p.RGBA,p.UNSIGNED_BYTE,e),0<e[3]&&(t=u(t)))return t},!0,c)};var Vc={Image:Rc},qc=[1,1];function Wc(t,e,n,i,o,r,a){this.b=t,this.f=e,this.g=r,this.c=a,this.o=o,this.l=i,this.i=n,this.a=null}function Gc(){this.b="precision mediump float;varying vec2 a;uniform float f;uniform sampler2D g;void main(void){vec4 texColor=texture2D(g,a);gl_FragColor.rgb=texColor.rgb;gl_FragColor.a=texColor.a*f;}"}function Yc(){this.b="varying vec2 a;attribute vec2 b;attribute vec2 c;uniform mat4 d;uniform mat4 e;void main(void){gl_Position=e*vec4(b,0.,1.);a=(d*vec4(c,0.,1.)).st;}"}function Kc(t,e){this.g=t.getUniformLocation(e,"f"),this.f=t.getUniformLocation(e,"e"),this.i=t.getUniformLocation(e,"d"),this.c=t.getUniformLocation(e,"g"),this.b=t.getAttribLocation(e,"b"),this.a=t.getAttribLocation(e,"c")}function Zc(t,e){qr.call(this,e),this.f=t,this.S=new Cc([-1,-1,0,0,1,-1,1,0,-1,1,0,1,1,1,1,1]),this.i=this.pb=null,this.l=void 0,this.s=Ee(),this.U=Pe(),this.v=null}function Xc(t,e,n,i){if(X(t=t.a,e)){var o=i.viewState;t.b(new Fr(e,t,new Wc(n,o.center,o.resolution,o.rotation,i.size,i.extent,i.pixelRatio),i,null,n))}}function Jc(t,e){Zc.call(this,t,e),this.j=this.o=this.c=null}function Qc(){this.b="precision mediump float;varying vec2 a;uniform sampler2D e;void main(void){gl_FragColor=texture2D(e,a);}"}function tp(){this.b="varying vec2 a;attribute vec2 b;attribute vec2 c;uniform vec4 d;void main(void){gl_Position=vec4(b*d.xy+d.zw,0.,1.);a=c;}"}function ep(t,e){this.g=t.getUniformLocation(e,"e"),this.f=t.getUniformLocation(e,"d"),this.b=t.getAttribLocation(e,"b"),this.a=t.getAttribLocation(e,"c")}function np(t,e){Zc.call(this,t,e),this.D=Qc.Zb(),this.T=tp.Zb(),this.c=null,this.C=new Cc([0,0,0,1,1,0,1,1,0,1,0,0,1,1,1,0]),this.A=this.o=null,this.j=-1,this.R=[0,0]}function ip(t,e){Zc.call(this,t,e),this.j=!1,this.R=-1,this.D=NaN,this.A=[1/0,1/0,-1/0,-1/0],this.o=this.c=this.C=null}function op(t,e){ra.call(this,0,e),this.b=document.createElement("CANVAS"),this.b.style.width="100%",this.b.style.height="100%",this.b.className="ol-unselectable",t.insertBefore(this.b,t.childNodes[0]||null),this.U=this.A=0,this.C=xi(),this.j=!0,this.f=Eo(this.b,{antialias:!0,depth:!1,failIfMajorPerformanceCaveat:!0,preserveDrawingBuffer:!1,stencil:!0}),this.c=new Sc(this.b,this.f),B(this.b,"webglcontextlost",this.Pm,this),B(this.b,"webglcontextrestored",this.Qm,this),this.a=new Oi,this.v=null,this.o=new pa(function(t){var e=t[1];t=t[2];var n=e[0]-this.v[0];e=e[1]-this.v[1];return 65536*Math.log(t)+Math.sqrt(n*n+e*e)/t}.bind(this),function(t){return t[0].ib()}),this.D=function(){if(!this.o.Ya()){ga(this.o);var t=ha(this.o);rp(this,t[0],t[3],t[4])}return!1}.bind(this),this.l=0,sp(this)}function rp(t,e,n,i){var o=t.f,r=e.ib();if(Ii(t.a,r))t=t.a.get(r),o.bindTexture(3553,t.pb),9729!=t.Wg&&(o.texParameteri(3553,10240,9729),t.Wg=9729),9729!=t.Yg&&(o.texParameteri(3553,10241,9729),t.Yg=9729);else{var a=o.createTexture();if(o.bindTexture(3553,a),0<i){var s=t.C.canvas,l=t.C;t.A!==n[0]||t.U!==n[1]?(s.width=n[0],s.height=n[1],t.A=n[0],t.U=n[1]):l.clearRect(0,0,n[0],n[1]),l.drawImage(e.$a(),i,i,n[0],n[1],0,0,n[0],n[1]),o.texImage2D(3553,0,6408,6408,5121,s)}else o.texImage2D(3553,0,6408,6408,5121,e.$a());o.texParameteri(3553,10240,9729),o.texParameteri(3553,10241,9729),o.texParameteri(3553,10242,33071),o.texParameteri(3553,10243,33071),t.a.set(r,{pb:a,Wg:9729,Yg:9729})}}function ap(t,e,n){var i=t.i;if(X(i,e)){t=t.c;var o=n.viewState;i.b(new Fr(e,i,new Wc(t,o.center,o.resolution,o.rotation,n.size,n.extent,n.pixelRatio),n,null,t))}}function sp(t){(t=t.f).activeTexture(33984),t.blendFuncSeparate(770,771,1,771),t.disable(2884),t.disable(2929),t.disable(3089),t.disable(2960)}g(Wc,Lr),(t=Wc.prototype).sd=function(t){this.Tb(t.a)},t.sc=function(t){switch(t.X()){case"Point":this.uc(t,null);break;case"MultiPoint":this.tc(t,null);break;case"GeometryCollection":this.Ze(t,null)}},t.Ye=function(t,e){var n=(0,e.g)(t);n&&ee(this.g,n.H())&&(this.sd(e),this.sc(n))},t.Ze=function(t){var e,n;for(e=0,n=(t=t.c).length;e<n;++e)this.sc(t[e])},t.uc=function(t,e){var n=this.b,i=new Uc(1,this.g).b(0,"Image");i.Tb(this.a),i.uc(t,e),Nc(i,n),i.Pa(this.b,this.f,this.i,this.l,this.o,this.c,1,{},void 0,!1),Lc(i,n)()},t.tc=function(t,e){var n=this.b,i=new Uc(1,this.g).b(0,"Image");i.Tb(this.a),i.tc(t,e),Nc(i,n),i.Pa(this.b,this.f,this.i,this.l,this.o,this.c,1,{},void 0,!1),Lc(i,n)()},t.Tb=function(t){this.a=t},g(Gc,wc),i(Gc),g(Yc,xc),i(Yc),g(Zc,qr),Zc.prototype.vh=function(t,e,n){Xc(this,"precompose",n,t),Tc(n,34962,this.S);var i=n.b,o=Gc.Zb(),r=Yc.Zb();o=Ec(n,o,r);this.v?r=this.v:this.v=r=new Kc(i,o),n.we(o)&&(i.enableVertexAttribArray(r.b),i.vertexAttribPointer(r.b,2,5126,!1,16,0),i.enableVertexAttribArray(r.a),i.vertexAttribPointer(r.a,2,5126,!1,16,8),i.uniform1i(r.c,0)),i.uniformMatrix4fv(r.i,!1,this.s),i.uniformMatrix4fv(r.f,!1,this.U),i.uniform1f(r.g,e.opacity),i.bindTexture(3553,this.pb),i.drawArrays(5,0,4),Xc(this,"postcompose",n,t)},Zc.prototype.zf=function(){this.i=this.pb=null,this.l=void 0},g(Jc,Zc),Jc.prototype.ra=function(t,e,n,i){var o=this.a;return o.ha().ra(t,e.viewState.resolution,e.viewState.rotation,e.skippedFeatureUids,function(t){return n.call(i,t,o)})},Jc.prototype.Af=function(t,e){var n,i,o,r,a,s,l,u,c,p,h=this.f.f,d=t.pixelRatio,f=t.viewState,g=f.center,m=f.resolution,v=f.rotation,y=this.c,b=this.pb,w=this.a.ha(),x=t.viewHints,$=t.extent;return void 0!==e.extent&&($=Xt($,e.extent)),x[0]||x[1]||ne($)||(f=w.A($,m,d,f.projection))&&Wr(this,f)&&(n=this,i=(y=f).a(),b=Ic(n.f.f,i),this.pb&&t.postRenderFunctions.push(function(t,e){t.isContextLost()||t.deleteTexture(e)}.bind(null,h,this.pb))),y&&(h=this.f.c.l,o=this,r=h.width,a=h.height,s=d,l=g,u=m,c=v,p=y.H(),r*=u,a*=u,Re(o=o.U),je(o,2*s/r,2*s/a),Be(o,-c),Ne(o,p[0]-l[0],p[1]-l[1]),je(o,(p[2]-p[0])/2,(p[3]-p[1])/2),Ne(o,1,1),this.j=null,Re(d=this.s),je(d,1,-1),Ne(d,0,-1),this.c=y,this.pb=b,Kr(t.attributions,y.l),Zr(t,w)),!0},Jc.prototype.le=function(t,e){return void 0!==this.ra(t,e,re,this)},Jc.prototype.Cc=function(t,e,n,i){if(this.c&&this.c.a())if(this.a.ha()instanceof Wu){if(t=t.slice(),Vr(e.pixelToCoordinateMatrix,t,t),this.ra(t,e,re,this))return n.call(i,this.a)}else{var o=[this.c.a().width,this.c.a().height];if(!this.j){var r=e.size;Re(e=Ee()),Ne(e,-1,-1),je(e,2/r[0],2/r[1]),Ne(e,0,r[1]),je(e,1,-1),r=Ee(),Fe(this.U,r);var a=Ee();Re(a),Ne(a,0,o[1]),je(a,1,-1),je(a,o[0]/2,o[1]/2),Ne(a,1,1);var s=Ee();Le(a,r,s),Le(s,e,s),this.j=s}if(e=[0,0],Vr(this.j,t,e),!(e[0]<0||e[0]>o[0]||e[1]<0||e[1]>o[1])&&(this.o||(this.o=xi(1,1)),this.o.clearRect(0,0,1,1),this.o.drawImage(this.c.a(),e[0],e[1],1,1,0,0,1,1),0<this.o.getImageData(0,0,1,1).data[3]))return n.call(i,this.a)}},g(Qc,wc),i(Qc),g(tp,xc),i(tp),g(np,Zc),(t=np.prototype).ka=function(){Ac(this.f.c,this.C),Zc.prototype.ka.call(this)},t.Qd=function(e,i,o){var r=this.f;return function(n,t){return ro(e,i,n,t,function(t){var e=Ii(r.a,t.ib());return e&&(o[n]||(o[n]={}),o[n][t.ma.toString()]=t),e})}},t.zf=function(){Zc.prototype.zf.call(this),this.c=null},t.Af=function(t,e,n){var i,o,r,a,s,l,u,c,p=this.f,h=n.b,d=t.viewState,f=d.projection,g=this.a,m=g.ha(),v=m.eb(f),y=v.Lb(d.resolution),b=v.$(y),w=m.$d(y,t.pixelRatio,f),x=w[0]/zi(v.Ja(y),this.R)[0],$=b/x,_=m.Ud(f),k=d.center;if(i=b==d.resolution?Kt(k=Jr(k,b,t.size),b,d.rotation,t.size):t.extent,b=Zi(v,i,b),this.o&&(u=this.o,c=b,u.ca==c.ca&&u.fa==c.fa&&u.ea==c.ea&&u.ga==c.ga)&&this.j==m.g)$=this.A;else{var C=[b.ea-b.ca+1,b.ga-b.fa+1],S=(C=$*(P=Math.pow(2,Math.ceil(Math.log(Math.max(C[0]*w[0],C[1]*w[1]))/Math.LN2))),v.Ia(y));$=[O=S[0]+b.ca*w[0]*$,$=S[1]+b.fa*w[1]*$,O+C,$+C];!function(t,e,n){var i=t.f.f;if(void 0===t.l||t.l!=n){e.postRenderFunctions.push(function(t,e,n){t.isContextLost()||(t.deleteFramebuffer(e),t.deleteTexture(n))}.bind(null,i,t.i,t.pb)),e=Oc(i,n,n);var o=i.createFramebuffer();i.bindFramebuffer(36160,o),i.framebufferTexture2D(36160,36064,3553,e,0),t.pb=e,t.i=o,t.l=n}else i.bindFramebuffer(36160,t.i)}(this,t,P),h.viewport(0,0,P,P),h.clearColor(0,0,0,0),h.clear(16384),h.disable(3042),P=Ec(n,this.D,this.T),n.we(P),this.c||(this.c=new ep(h,P)),Tc(n,34962,this.C),h.enableVertexAttribArray(this.c.b),h.vertexAttribPointer(this.c.b,2,5126,!1,16,0),h.enableVertexAttribArray(this.c.a),h.vertexAttribPointer(this.c.a,2,5126,!1,16,8),h.uniform1i(this.c.g,0),(n={})[y]={};var T,A,D,M=this.Qd(m,f,n),E=g.c(),P=!0,O=[1/0,1/0,-1/0,-1/0],I=new Bn(0,0,0,0);for(A=b.ca;A<=b.ea;++A)for(D=b.fa;D<=b.ga;++D)if(S=m.ac(y,A,D,x,f),void 0===e.extent||ee(T=v.Ea(S.ma,O),e.extent)){if(!(T=2==(T=S.V())||4==T||3==T&&!E)&&S.a&&(S=S.a),2==(T=S.V())){if(Ii(p.a,S.ib())){n[y][S.ma.toString()]=S;continue}}else if(4==T||3==T&&!E)continue;P=!1,(T=Yi(v,S.ma,M,I,O))||(S=Ki(v,S.ma,I,O))&&M(y+1,S)}(e=Object.keys(n).map(Number)).sort(rt);var R,L,F;for(M=new Float32Array(4),E=0,I=e.length;E<I;++E)for(R in L=n[e[E]])S=L[R],A=2*((T=v.Ea(S.ma,O))[2]-T[0])/C,D=2*(T[3]-T[1])/C,F=2*(T[0]-$[0])/C-1,T=2*(T[1]-$[1])/C-1,r=A,a=D,s=F,l=T,(o=M)[0]=r,o[1]=a,o[2]=s,o[3]=l,h.uniform4fv(this.c.f,M),rp(p,S,w,_*x),h.drawArrays(5,0,4);P?(this.o=b,this.A=$,this.j=m.g):(this.A=this.o=null,this.j=-1,t.animate=!0)}Xr(t.usedTiles,m,y,b);var N=p.o;return Qr(t,m,v,x,f,i,y,g.f(),function(t){var e;(e=2!=t.V()||Ii(p.a,t.ib()))||(e=t.ib()in N.g),e||N.f([t,Ji(v,t.ma),v.$(t.ma[0]),w,_*x])},this),Yr(t,m),Zr(t,m),Re(h=this.s),Ne(h,(k[0]-$[0])/($[2]-$[0]),(k[1]-$[1])/($[3]-$[1])),0!==d.rotation&&Be(h,d.rotation),je(h,t.size[0]*d.resolution/($[2]-$[0]),t.size[1]*d.resolution/($[3]-$[1])),Ne(h,-.5,-.5),!0},t.Cc=function(t,e,n,i){if(this.i){var o=[0,0];if(Vr(this.s,[t[0]/e.size[0],(e.size[1]-t[1])/e.size[1]],o),t=[o[0]*this.l,o[1]*this.l],(e=this.f.c.b).bindFramebuffer(e.FRAMEBUFFER,this.i),o=new Uint8Array(4),e.readPixels(t[0],t[1],1,1,e.RGBA,e.UNSIGNED_BYTE,o),0<o[3])return n.call(i,this.a)}},g(ip,Zc),(t=ip.prototype).vh=function(t,e,n){this.o=e;var i=t.viewState,o=this.c;o&&!o.Ya()&&o.Pa(n,i.center,i.resolution,i.rotation,t.size,t.pixelRatio,e.opacity,e.Qc?t.skippedFeatureUids:{})},t.ka=function(){var t=this.c;t&&(zc(t,this.f.c)(),this.c=null),Zc.prototype.ka.call(this)},t.ra=function(t,e,n,i){if(this.c&&this.o){var o=e.viewState,r=this.a,a={};return this.c.ra(t,this.f.c,o.center,o.resolution,o.rotation,e.size,e.pixelRatio,this.o.opacity,{},function(t){var e=O(t).toString();if(!(e in a))return a[e]=!0,n.call(i,t,r)})}},t.le=function(t,e){if(this.c&&this.o){var n=e.viewState;return i=this.c,o=t,r=this.f.c,a=n.resolution,s=n.rotation,l=e.pixelRatio,u=this.o.opacity,c=e.skippedFeatureUids,(p=r.b).bindFramebuffer(p.FRAMEBUFFER,Dc(r)),void 0!==Hc(i,r,o,a,s,l,u,c,function(){var t=new Uint8Array(4);return p.readPixels(0,0,1,1,p.RGBA,p.UNSIGNED_BYTE,t),0<t[3]},!1)}var i,o,r,a,s,l,u,c,p;return!1},t.Cc=function(t,e,n,i){if(t=t.slice(),Vr(e.pixelToCoordinateMatrix,t,t),this.le(t,e))return n.call(i,this.a)},t.wh=function(){Gr(this)},t.Af=function(t,e,n){function i(t){var e,n=t.ec();if(n?e=n.call(t,u):(n=r.i)&&(e=n(t,u)),e){if(e){if(n=!1,Array.isArray(e))for(var i=0,o=e.length;i<o;++i)n=Ol(h,t,e[i],Pl(u,c),this.wh,this)||n;else n=Ol(h,t,e,Pl(u,c),this.wh,this)||n;t=n}else t=!1;this.j=this.j||t}}var r=this.a;e=r.ha(),Kr(t.attributions,e.l),Zr(t,e);var o=t.viewHints[0],a=t.viewHints[1],s=r.S,l=r.T;if(!this.j&&!s&&o||!l&&a)return!0;a=t.extent,o=(s=t.viewState).projection;var u=s.resolution,c=t.pixelRatio,p=(s=r.g,r.a);if(void 0===(l=Js(r))&&(l=El),a=Dt(a,p*u),!this.j&&this.D==u&&this.R==s&&this.C==l&&Ot(this.A,a))return!0;this.c&&t.postRenderFunctions.push(zc(this.c,n)),this.j=!1;var h=new Uc(.5*u/c,a,r.a);if(e.Pc(a,u,o),l){var d=[];e.ub(a,function(t){d.push(t)},this),d.sort(l),d.forEach(i,this)}else e.ub(a,i,this);return function(t,e){for(var n in t.a)Nc(t.a[n],e)}(h,n),this.D=u,this.R=s,this.C=l,this.A=a,this.c=h,!0},g(op,ra),(t=op.prototype).Xe=function(t){return t instanceof Ms?new Jc(this,t):t instanceof Es?new np(this,t):t instanceof Xs?new ip(this,t):null},t.ka=function(){var e=this.f;e.isContextLost()||this.a.forEach(function(t){t&&e.deleteTexture(t.pb)}),W(this.c),ra.prototype.ka.call(this)},t.Gj=function(t,e){for(var n,i=this.f;1024<this.a.wc()-this.l;){if(n=this.a.b.pc)i.deleteTexture(n.pb);else{if(+this.a.b.cc==e.index)break;--this.l}this.a.pop()}},t.X=function(){return"webgl"},t.Pm=function(t){for(var e in t.preventDefault(),this.a.clear(),this.l=0,t=this.g)t[e].zf()},t.Qm=function(){sp(this),this.i.render()},t.Ce=function(t){var e=this.c,n=this.f;if(n.isContextLost())return!1;if(!t)return this.j&&(this.b.style.display="none",this.j=!1),!1;this.v=t.focus,this.a.set((-t.index).toString(),null),++this.l,ap(this,"precompose",t);var i=[],o=t.layerStatesArray;dt(o);var r,a,s,l=t.viewState.resolution;for(r=0,a=o.length;r<a;++r)jr(s=o[r],l)&&"ready"==s.R&&(la(this,s.layer).Af(t,s,e)&&i.push(s));for(o=t.size[0]*t.pixelRatio,l=t.size[1]*t.pixelRatio,this.b.width==o&&this.b.height==l||(this.b.width=o,this.b.height=l),n.bindFramebuffer(36160,null),n.clearColor(0,0,0,0),n.clear(16384),n.enable(3042),n.viewport(0,0,this.b.width,this.b.height),r=0,a=i.length;r<a;++r)la(this,(s=i[r]).layer).vh(t,s,e);this.j||(this.b.style.display="",this.j=!0),aa(t),1024<this.a.wc()-this.l&&t.postRenderFunctions.push(this.Gj.bind(this)),this.o.Ya()||(t.postRenderFunctions.push(this.D),t.animate=!0),ap(this,"postcompose",t),ua(this,t),t.postRenderFunctions.push(sa)},t.ra=function(t,e,n,i,o,r){var a;if(this.f.isContextLost())return!1;var s,l=e.viewState,u=e.layerStatesArray;for(s=u.length-1;0<=s;--s){var c=(a=u[s]).layer;if(jr(a,l.resolution)&&o.call(r,c)&&(a=la(this,c).ra(t,e,n,i)))return a}},t.sh=function(t,e,n,i){var o=!1;if(this.f.isContextLost())return!1;var r,a=e.viewState,s=e.layerStatesArray;for(r=s.length-1;0<=r;--r){var l=s[r],u=l.layer;if(jr(l,a.resolution)&&n.call(i,u)&&(o=la(this,u).le(t,e)))return!0}return o},t.rh=function(t,e,n,i,o){if(this.f.isContextLost())return!1;var r,a,s=e.viewState,l=e.layerStatesArray;for(a=l.length-1;0<=a;--a){var u=(r=l[a]).layer;if(jr(r,s.resolution)&&o.call(i,u)&&(r=la(this,u).Cc(t,e,n,i)))return r}};var lp=["canvas","webgl","dom"];function up(t){et.call(this);var e=function(t){var e=null;void 0!==t.keyboardEventTarget&&(e="string"==typeof t.keyboardEventTarget?document.getElementById(t.keyboardEventTarget):t.keyboardEventTarget);var n={},i={};if(void 0===t.logo||"boolean"==typeof t.logo&&t.logo)i["data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAAA3NCSVQICAjb4U/gAAAACXBIWXMAAAHGAAABxgEXwfpGAAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAAAhNQTFRF////AP//AICAgP//AFVVQECA////K1VVSbbbYL/fJ05idsTYJFtbbcjbJllmZszWWMTOIFhoHlNiZszTa9DdUcHNHlNlV8XRIVdiasrUHlZjIVZjaMnVH1RlIFRkH1RkH1ZlasvYasvXVsPQH1VkacnVa8vWIVZjIFRjVMPQa8rXIVVkXsXRsNveIFVkIFZlIVVj3eDeh6GmbMvXH1ZkIFRka8rWbMvXIFVkIFVjIFVkbMvWH1VjbMvWIFVlbcvWIFVla8vVIFVkbMvWbMvVH1VkbMvWIFVlbcvWIFVkbcvVbMvWjNPbIFVkU8LPwMzNIFVkbczWIFVkbsvWbMvXIFVkRnB8bcvW2+TkW8XRIFVkIlZlJVloJlpoKlxrLl9tMmJwOWd0Omh1RXF8TneCT3iDUHiDU8LPVMLPVcLPVcPQVsPPVsPQV8PQWMTQWsTQW8TQXMXSXsXRX4SNX8bSYMfTYcfTYsfTY8jUZcfSZsnUaIqTacrVasrVa8jTa8rWbI2VbMvWbcvWdJObdcvUdszUd8vVeJaee87Yfc3WgJyjhqGnitDYjaarldPZnrK2oNbborW5o9bbo9fbpLa6q9ndrL3ArtndscDDutzfu8fJwN7gwt7gxc/QyuHhy+HizeHi0NfX0+Pj19zb1+Tj2uXk29/e3uLg3+Lh3+bl4uXj4ufl4+fl5Ofl5ufl5ujm5+jmySDnBAAAAFp0Uk5TAAECAgMEBAYHCA0NDg4UGRogIiMmKSssLzU7PkJJT1JTVFliY2hrdHZ3foSFhYeJjY2QkpugqbG1tre5w8zQ09XY3uXn6+zx8vT09vf4+Pj5+fr6/P39/f3+gz7SsAAAAVVJREFUOMtjYKA7EBDnwCPLrObS1BRiLoJLnte6CQy8FLHLCzs2QUG4FjZ5GbcmBDDjxJBXDWxCBrb8aM4zbkIDzpLYnAcE9VXlJSWlZRU13koIeW57mGx5XjoMZEUqwxWYQaQbSzLSkYGfKFSe0QMsX5WbjgY0YS4MBplemI4BdGBW+DQ11eZiymfqQuXZIjqwyadPNoSZ4L+0FVM6e+oGI6g8a9iKNT3o8kVzNkzRg5lgl7p4wyRUL9Yt2jAxVh6mQCogae6GmflI8p0r13VFWTHBQ0rWPW7ahgWVcPm+9cuLoyy4kCJDzCm6d8PSFoh0zvQNC5OjDJhQopPPJqph1doJBUD5tnkbZiUEqaCnB3bTqLTFG1bPn71kw4b+GFdpLElKIzRxxgYgWNYc5SCENVHKeUaltHdXx0dZ8uBI1hJ2UUDgq82CM2MwKeibqAvSO7MCABq0wXEPiqWEAAAAAElFTkSuQmCC"]="http://openlayers.org/";else{var o=t.logo;"string"==typeof o?i[o]="":o instanceof HTMLElement?i[O(o).toString()]=o:p(o)&&(i[o.src]=o.href)}o=t.layers instanceof ms?t.layers:new ms({layers:t.layers}),n.layergroup=o,n.target=t.target,n.view=void 0!==t.view?t.view:new Tn;var r,a,s,l,u,o=ra;for(void 0!==t.renderer?Array.isArray(t.renderer)?r=t.renderer:"string"==typeof t.renderer&&(r=[t.renderer]):r=lp,a=0,s=r.length;a<s;++a){var c=r[a];if("canvas"==c){if(Bo){o=uc;break}}else{if("dom"==c){o=vc;break}if("webgl"==c&&Po){o=op;break}}}return l=void 0!==t.controls?Array.isArray(t.controls)?new qn(t.controls.slice()):t.controls:mo(),u=void 0!==t.interactions?Array.isArray(t.interactions)?new qn(t.interactions.slice()):t.interactions:gs(),t=void 0!==t.overlays?Array.isArray(t.overlays)?new qn(t.overlays.slice()):t.overlays:new qn,{controls:l,interactions:u,keyboardEventTarget:e,logos:i,overlays:t,Wo:o,values:n}}(t);this.Hb=void 0!==t.loadTilesWhileAnimating&&t.loadTilesWhileAnimating,this.Hc=void 0!==t.loadTilesWhileInteracting&&t.loadTilesWhileInteracting,this.Oe=void 0!==t.pixelRatio?t.pixelRatio:No,this.Ne=e.logos,this.Y=function(){this.i=void 0,this.Uo.call(this,Date.now())}.bind(this),this.Sa=Ee(),this.Pe=Ee(),this.qb=0,this.f=null,this.Aa=[1/0,1/0,-1/0,-1/0],this.D=this.S=null,this.a=document.createElement("DIV"),this.a.className="ol-viewport"+(Ho?" ol-touch":""),this.a.style.position="relative",this.a.style.overflow="hidden",this.a.style.width="100%",this.a.style.height="100%",this.a.style.msTouchAction="none",this.a.style.touchAction="none",this.A=document.createElement("DIV"),this.A.className="ol-overlaycontainer",this.a.appendChild(this.A),this.v=document.createElement("DIV"),this.v.className="ol-overlaycontainer-stopevent";for(var n=0,i=(t=["click","dblclick","mousedown","touchstart","mspointerdown",Mr,"mousewheel","wheel"]).length;n<i;++n)B(this.v,t[n],Y);for(var o in this.a.appendChild(this.v),this.za=new _r(this),Or)B(this.za,Or[o],this.Pg,this);this.ia=e.keyboardEventTarget,this.s=null,B(this.a,"wheel",this.Oc,this),B(this.a,"mousewheel",this.Oc,this),this.o=e.controls,this.l=e.interactions,this.j=e.overlays,this.Cf={},this.C=new e.Wo(this.a,this),this.T=null,this.R=[],this.ta=[],this.qa=new ma(this.Bk.bind(this),this.hl.bind(this)),this.Ee={},B(this,it("layergroup"),this.Ok,this),B(this,it("view"),this.il,this),B(this,it("size"),this.el,this),B(this,it("target"),this.gl,this),this.G(e.values),this.o.forEach(function(t){t.setMap(this)},this),B(this.o,"add",function(t){t.element.setMap(this)},this),B(this.o,"remove",function(t){t.element.setMap(null)},this),this.l.forEach(function(t){t.setMap(this)},this),B(this.l,"add",function(t){t.element.setMap(this)},this),B(this.l,"remove",function(t){t.element.setMap(null)},this),this.j.forEach(this.mg,this),B(this.j,"add",function(t){this.mg(t.element)},this),B(this.j,"remove",function(t){var e=t.element.Xa();void 0!==e&&delete this.Cf[e.toString()],t.element.setMap(null)},this)}function cp(t){et.call(this),this.j=t.id,this.o=void 0===t.insertFirst||t.insertFirst,this.s=void 0===t.stopEvent||t.stopEvent,this.f=document.createElement("DIV"),this.f.className="ol-overlay-container",this.f.style.position="absolute",this.autoPan=void 0!==t.autoPan&&t.autoPan,this.i=void 0!==t.autoPanAnimation?t.autoPanAnimation:{},this.l=void 0!==t.autoPanMargin?t.autoPanMargin:20,this.a={Md:"",fe:"",De:"",Fe:"",visible:!0},this.c=null,B(this,it("element"),this.Jk,this),B(this,it("map"),this.Vk,this),B(this,it("offset"),this.Zk,this),B(this,it("position"),this.al,this),B(this,it("positioning"),this.bl,this),void 0!==t.element&&this.fi(t.element),this.li(void 0!==t.offset?t.offset:[0,0]),this.oi(void 0!==t.positioning?t.positioning:"top-left"),void 0!==t.position&&this.uf(t.position)}function pp(t,e){var n,i=(n=t.getBoundingClientRect()).left+y.pageXOffset;return[i,n=n.top+y.pageYOffset,i+e[0],n+e[1]]}function hp(t,e){t.a.visible!==e&&(t.f.style.display=e?"":"none",t.a.visible=e)}function dp(t){var e=t.he(),n=t.gh();if(void 0!==e&&e.f&&void 0!==n){n=e.Ga(n);var i=e.Za(),o=(e=t.f.style,t.Kg()),r=t.Lg(),a=o[0];o=o[1];"bottom-right"==r||"center-right"==r||"top-right"==r?(""!==t.a.fe&&(t.a.fe=e.left=""),a=Math.round(i[0]-n[0]-a)+"px",t.a.De!=a&&(t.a.De=e.right=a)):(""!==t.a.De&&(t.a.De=e.right=""),"bottom-center"!=r&&"center-center"!=r&&"top-center"!=r||(a-=t.f.offsetWidth/2),a=Math.round(n[0]+a)+"px",t.a.fe!=a&&(t.a.fe=e.left=a)),"bottom-left"==r||"bottom-center"==r||"bottom-right"==r?(""!==t.a.Fe&&(t.a.Fe=e.top=""),n=Math.round(i[1]-n[1]-o)+"px",t.a.Md!=n&&(t.a.Md=e.bottom=n)):(""!==t.a.Md&&(t.a.Md=e.bottom=""),"center-left"!=r&&"center-center"!=r&&"center-right"!=r||(o-=t.f.offsetHeight/2),n=Math.round(n[1]+o)+"px",t.a.Fe!=n&&(t.a.Fe=e.top=n)),hp(t,!0)}else hp(t,!1)}function fp(t){t=t||{},this.l=void 0===t.collapsed||t.collapsed,this.o=void 0===t.collapsible||t.collapsible,this.o||(this.l=!1);var e=void 0!==t.className?t.className:"ol-overviewmap",n=void 0!==t.tipLabel?t.tipLabel:"Overview map";"string"==typeof(i=void 0!==t.collapseLabel?t.collapseLabel:"")?(this.j=document.createElement("span"),this.j.textContent=i):this.j=i,"string"==typeof(i=void 0!==t.label?t.label:"")?(this.v=document.createElement("span"),this.v.textContent=i):this.v=i;var i,o=this.o&&!this.l?this.j:this.v;(i=document.createElement("button")).setAttribute("type","button"),i.title=n,i.appendChild(o),B(i,"click",this.gm,this),(n=document.createElement("DIV")).className="ol-overviewmap-map";var r=this.f=new up({controls:new qn,interactions:new qn,target:n,view:t.view});t.layers&&t.layers.forEach(function(t){r.kg(t)},this),(o=document.createElement("DIV")).className="ol-overviewmap-box",o.style.boxSizing="border-box",this.A=new cp({position:[0,0],positioning:"bottom-left",element:o}),this.f.lg(this.A),(o=document.createElement("div")).className=e+" ol-unselectable ol-control"+(this.l&&this.o?" ol-collapsed":"")+(this.o?"":" ol-uncollapsible"),o.appendChild(n),o.appendChild(i),Pi.call(this,{element:o,render:t.render?t.render:gp,target:t.target})}function gp(){var t=this.a,e=this.f;if(t.f&&e.f){var n=t.Za(),i=(t=t.aa().Kc(n),e.Za()),o=(n=e.aa().Kc(i),e.Ga(Jt(t))),r=e.Ga(Gt(t));e=Math.abs(o[0]-r[0]),o=Math.abs(o[1]-r[1]),r=i[0],i=i[1];e<.1*r||o<.1*i||.75*r<e||.75*i<o?mp(this):Ot(n,t)||(t=this.f,n=this.a.aa(),t.aa().mb(n.ab()))}vp(this)}function mp(t){var e=t.a;t=t.f;var n=e.Za();e=e.aa().Kc(n),n=t.Za();t=t.aa(),ie(e,1/(.1*Math.pow(2,Math.log(7.5)/Math.LN2/2))),t.cf(e,n)}function vp(t){var e=t.a,n=t.f;if(e.f&&n.f){var i=e.Za(),o=e.aa(),r=n.aa();n.Za();n=o.La(),e=t.A;var a,s=t.A.Sd();o=o.Kc(i),i=r.$(),r=Wt(o),o=Qt(o);(t=t.a.aa().ab())&&(kt(a=[r[0]-t[0],r[1]-t[1]],n),bt(a,t)),e.uf(a),s&&(s.style.width=Math.abs((r[0]-o[0])/i)+"px",s.style.height=Math.abs((o[1]-r[1])/i)+"px")}}function yp(t){t.element.classList.toggle("ol-collapsed"),t.l?Ai(t.j,t.v):Ai(t.v,t.j),t.l=!t.l;var e=t.f;t.l||e.f||(e.Xc(),mp(t),U(e,"postrender",function(){vp(this)},t))}function bp(t){var e=void 0!==(t=t||{}).className?t.className:"ol-scale-line";this.o=document.createElement("DIV"),this.o.className=e+"-inner",this.f=document.createElement("DIV"),this.f.className=e+" ol-unselectable",this.f.appendChild(this.o),this.v=null,this.j=void 0!==t.minWidth?t.minWidth:64,this.l=!1,this.C=void 0,this.A="",Pi.call(this,{element:this.f,render:t.render?t.render:xp,target:t.target}),B(this,it("units"),this.R,this),this.D(t.units||"metric")}g(up,et),(t=up.prototype).uj=function(t){this.o.push(t)},t.vj=function(t){this.l.push(t)},t.kg=function(t){this.xc().Tc().push(t)},t.lg=function(t){this.j.push(t)},t.mg=function(t){var e=t.Xa();void 0!==e&&(this.Cf[e.toString()]=t),t.setMap(this)},t.Wa=function(t){this.render(),Array.prototype.push.apply(this.R,arguments)},t.ka=function(){W(this.za),W(this.C),z(this.a,"wheel",this.Oc,this),z(this.a,"mousewheel",this.Oc,this),void 0!==this.c&&(y.removeEventListener("resize",this.c,!1),this.c=void 0),this.i&&(y.cancelAnimationFrame(this.i),this.i=void 0),this.fh(null),et.prototype.ka.call(this)},t.kd=function(t,e,n,i,o){if(this.f)return t=this.Ma(t),this.C.ra(t,this.f,e,void 0!==n?n:null,void 0!==i?i:re,void 0!==o?o:null)},t.Tl=function(t,e,n,i,o){if(this.f)return this.C.rh(t,this.f,e,void 0!==n?n:null,void 0!==i?i:re,void 0!==o?o:null)},t.kl=function(t,e,n){return!!this.f&&(t=this.Ma(t),this.C.sh(t,this.f,void 0!==e?e:re,void 0!==n?n:null))},t.Wj=function(t){return this.Ma(this.Td(t))},t.Td=function(t){var e=this.a.getBoundingClientRect();return[(t=t.changedTouches?t.changedTouches[0]:t).clientX-e.left,t.clientY-e.top]},t.tf=function(){return this.get("target")},t.yc=function(){var t=this.tf();return void 0!==t?"string"==typeof t?document.getElementById(t):t:null},t.Ma=function(t){var e=this.f;return e?(t=t.slice(),Vr(e.pixelToCoordinateMatrix,t,t)):null},t.Uj=function(){return this.o},t.nk=function(){return this.j},t.mk=function(t){return void 0!==(t=this.Cf[t.toString()])?t:null},t.ak=function(){return this.l},t.xc=function(){return this.get("layergroup")},t.eh=function(){return this.xc().Tc()},t.Ga=function(t){var e=this.f;return e?(t=t.slice(0,2),Vr(e.coordinateToPixelMatrix,t,t)):null},t.Za=function(){return this.get("size")},t.aa=function(){return this.get("view")},t.Dk=function(){return this.a},t.Bk=function(t,e,n,i){var o=this.f;return o&&e in o.wantedTiles&&o.wantedTiles[e][t.ma.toString()]?(t=n[0]-o.focus[0],n=n[1]-o.focus[1],65536*Math.log(i)+Math.sqrt(t*t+n*n)/i):1/0},t.Oc=function(t,e){var n=new xr(e||t.type,this,t);this.Pg(n)},t.Pg=function(t){if(this.f){this.T=t.coordinate,t.frameState=this.f;var e,n=this.l.a;if(!1!==this.b(t))for(e=n.length-1;0<=e;e--){var i=n[e];if(i.f()&&!i.handleEvent(t))break}}},t.cl=function(){var t=this.f,e=this.qa;if(!e.Ya()){var n=16,i=n;if(t){var o=t.viewHints;o[0]&&(n=this.Hb?8:0,i=2),o[1]&&(n=this.Hc?8:0,i=2)}e.i<n&&(ga(e),va(e,n,i))}for(n=0,i=(e=this.ta).length;n<i;++n)e[n](this,t);e.length=0},t.el=function(){this.render()},t.gl=function(){var t;if(this.tf()&&(t=this.yc()),this.s){for(var e=0,n=this.s.length;e<n;++e)H(this.s[e]);this.s=null}t?(t.appendChild(this.a),t=this.ia?this.ia:t,this.s=[B(t,"keydown",this.Oc,this),B(t,"keypress",this.Oc,this)],this.c||(this.c=this.Xc.bind(this),y.addEventListener("resize",this.c,!1))):(Di(this.a),void 0!==this.c&&(y.removeEventListener("resize",this.c,!1),this.c=void 0)),this.Xc()},t.hl=function(){this.render()},t.jl=function(){this.render()},t.il=function(){this.S&&(H(this.S),this.S=null);var t=this.aa();t&&(this.S=B(t,"propertychange",this.jl,this)),this.render()},t.Pk=function(){this.render()},t.Qk=function(){this.render()},t.Ok=function(){this.D&&(this.D.forEach(H),this.D=null);var t=this.xc();t&&(this.D=[B(t,"propertychange",this.Qk,this),B(t,"change",this.Pk,this)]),this.render()},t.Vo=function(){this.i&&y.cancelAnimationFrame(this.i),this.Y()},t.render=function(){void 0===this.i&&(this.i=y.requestAnimationFrame(this.Y))},t.Oo=function(t){return this.o.remove(t)},t.Po=function(t){return this.l.remove(t)},t.Ro=function(t){return this.xc().Tc().remove(t)},t.So=function(t){return this.j.remove(t)},t.Uo=function(t){var e,n,i,o=this.Za(),r=this.aa(),a=[1/0,1/0,-1/0,-1/0],s=null;if(void 0!==o&&0<o[0]&&0<o[1]&&r&&Mn(r)){s=An(r,this.f?this.f.viewHints:void 0);var l=this.xc().hf(),u={};for(e=0,n=l.length;e<n;++e)u[O(l[e].layer)]=l[e];i=r.V(),s={animate:!1,attributions:{},coordinateToPixelMatrix:this.Sa,extent:a,focus:this.T?this.T:i.center,index:this.qb++,layerStates:u,layerStatesArray:l,logos:M({},this.Ne),pixelRatio:this.Oe,pixelToCoordinateMatrix:this.Pe,postRenderFunctions:[],size:o,skippedFeatureUids:this.Ee,tileQueue:this.qa,time:t,usedTiles:{},viewState:i,viewHints:s,wantedTiles:{}}}if(s){for(e=o=0,n=(t=this.R).length;e<n;++e)(r=t[e])(this,s)&&(t[o++]=r);t.length=o,s.extent=Kt(i.center,i.resolution,i.rotation,s.size,a)}this.f=s,this.C.Ce(s),s&&(s.animate&&this.render(),Array.prototype.push.apply(this.ta,s.postRenderFunctions),0!==this.R.length||s.viewHints[0]||s.viewHints[1]||Bt(s.extent,this.Aa)||(this.b(new Ei("moveend",this,s)),Mt(s.extent,this.Aa))),this.b(new Ei("postrender",this,s)),To(this.cl,this)},t.ji=function(t){this.set("layergroup",t)},t.Wf=function(t){this.set("size",t)},t.fh=function(t){this.set("target",t)},t.kp=function(t){this.set("view",t)},t.ti=function(t){t=O(t).toString(),this.Ee[t]=!0,this.render()},t.Xc=function(){var t=this.yc();if(t){var e=y.getComputedStyle(t);this.Wf([t.offsetWidth-parseFloat(e.borderLeftWidth)-parseFloat(e.paddingLeft)-parseFloat(e.paddingRight)-parseFloat(e.borderRightWidth),t.offsetHeight-parseFloat(e.borderTopWidth)-parseFloat(e.paddingTop)-parseFloat(e.paddingBottom)-parseFloat(e.borderBottomWidth)])}else this.Wf(void 0)},t.wi=function(t){t=O(t).toString(),delete this.Ee[t],this.render()},Ds(),g(cp,et),(t=cp.prototype).Sd=function(){return this.get("element")},t.Xa=function(){return this.j},t.he=function(){return this.get("map")},t.Kg=function(){return this.get("offset")},t.gh=function(){return this.get("position")},t.Lg=function(){return this.get("positioning")},t.Jk=function(){Mi(this.f);var t=this.Sd();t&&this.f.appendChild(t)},t.Vk=function(){this.c&&(Di(this.f),H(this.c),this.c=null);var t=this.he();t&&(this.c=B(t,"postrender",this.render,this),dp(this),t=this.s?t.v:t.A,this.o?t.insertBefore(this.f,t.childNodes[0]||null):t.appendChild(this.f))},t.render=function(){dp(this)},t.Zk=function(){dp(this)},t.al=function(){if(dp(this),void 0!==this.get("position")&&this.autoPan){var t=this.he();if(void 0!==t&&t.yc()){var e=pp(t.yc(),t.Za()),n=(a=this.Sd()).offsetWidth,i=a.currentStyle||y.getComputedStyle(a),o=(n=n+(parseInt(i.marginLeft,10)+parseInt(i.marginRight,10)),i=a.offsetHeight,a.currentStyle||y.getComputedStyle(a)),r=pp(a,[n,i=i+(parseInt(o.marginTop,10)+parseInt(o.marginBottom,10))]),a=this.l;Ot(e,r)||(n=r[0]-e[0],i=e[2]-r[2],o=r[1]-e[1],r=e[3]-r[3],e=[0,0],n<0?e[0]=n-a:i<0&&(e[0]=Math.abs(i)+a),o<0?e[1]=o-a:r<0&&(e[1]=Math.abs(r)+a),0===e[0]&&0===e[1])||(a=t.aa().ab(),e=[(n=t.Ga(a))[0]+e[0],n[1]+e[1]],this.i&&(this.i.source=a,t.Wa(Fn(this.i))),t.aa().mb(t.Ma(e)))}}},t.bl=function(){dp(this)},t.fi=function(t){this.set("element",t)},t.setMap=function(t){this.set("map",t)},t.li=function(t){this.set("offset",t)},t.uf=function(t){this.set("position",t)},t.oi=function(t){this.set("positioning",t)},g(fp,Pi),(t=fp.prototype).setMap=function(t){var e=this.a;t!==e&&(e&&(e=e.aa())&&z(e,it("rotation"),this.de,this),Pi.prototype.setMap.call(this,t),t&&(this.s.push(B(t,"propertychange",this.Wk,this)),0===this.f.eh().dc()&&this.f.ji(t.xc()),t=t.aa()))&&(B(t,it("rotation"),this.de,this),Mn(t)&&(this.f.Xc(),mp(this)))},t.Wk=function(t){"view"===t.key&&((t=t.oldValue)&&z(t,it("rotation"),this.de,this),B(t=this.a.aa(),it("rotation"),this.de,this))},t.de=function(){this.f.aa().ie(this.a.aa().La())},t.gm=function(t){t.preventDefault(),yp(this)},t.fm=function(){return this.o},t.im=function(t){this.o!==t&&(this.o=t,this.element.classList.toggle("ol-uncollapsible"),!t&&this.l&&yp(this))},t.hm=function(t){this.o&&this.l!==t&&yp(this)},t.em=function(){return this.l},t.pk=function(){return this.f},g(bp,Pi);var wp=[1,2,5];function xp(t){(t=t.frameState)?this.v=t.viewState:this.v=null,$p(this)}function $p(t){if(n=t.v){var e=(i=n.projection).$b(),n=i.getPointResolution(n.resolution,n.center)*e,i=(e=t.j*n,"");"degrees"==(r=t.wb())?(n/=i=ue.degrees,e<i/60?(i="",n*=3600):e<i?(i="",n*=60):i=""):"imperial"==r?e<.9144?(i="in",n/=.0254):e<1609.344?(i="ft",n/=.3048):(i="mi",n/=1609.344):"nautical"==r?(n/=1852,i="nm"):"metric"==r?e<1?(i="mm",n*=1e3):e<1e3?i="m":(i="km",n/=1e3):"us"==r&&(e<.9144?(i="in",n*=39.37):e<1609.344?(i="ft",n/=.30480061):(i="mi",n/=1609.3472));for(var o,r=3*Math.floor(Math.log(t.j*n)/Math.log(10));;){if(o=wp[(r%3+3)%3]*Math.pow(10,Math.floor(r/3)),e=Math.round(o/n),isNaN(e))return t.f.style.display="none",void(t.l=!1);if(e>=t.j)break;++r}n=o+" "+i,t.A!=n&&(t.o.innerHTML=n,t.A=n),t.C!=e&&(t.o.style.width=e+"px",t.C=e),t.l||(t.f.style.display="",t.l=!0)}else t.l&&(t.f.style.display="none",t.l=!1)}function _p(t){t=t||{},this.f=void 0,this.l=kp,this.v=[],this.C=this.j=0,this.T=null,this.ia=!1,this.Y=void 0!==t.duration?t.duration:200;var e=void 0!==t.className?t.className:"ol-zoomslider",n=document.createElement("button");n.setAttribute("type","button"),n.className=e+"-thumb ol-unselectable";var i=document.createElement("div");i.className=e+" ol-unselectable ol-control",i.appendChild(n),this.o=new rr(i),B(this.o,dr,this.Ik,this),B(this.o,hr,this.Ng,this),B(this.o,fr,this.Og,this),B(i,"click",this.Hk,this),B(n,"click",Y),Pi.call(this,{element:i,render:t.render?t.render:Cp})}bp.prototype.wb=function(){return this.get("units")},bp.prototype.R=function(){$p(this)},bp.prototype.D=function(t){this.set("units",t)},g(_p,Pi),_p.prototype.ka=function(){W(this.o),Pi.prototype.ka.call(this)};var kp=0;function Cp(t){if(t.frameState){if(!this.ia){var e=(r=this.element).offsetWidth,n=r.offsetHeight,i=r.firstElementChild,o=y.getComputedStyle(i),r=i.offsetWidth+parseFloat(o.marginRight)+parseFloat(o.marginLeft);i=i.offsetHeight+parseFloat(o.marginTop)+parseFloat(o.marginBottom);this.T=[r,i],n<e?(this.l=1,this.C=e-r):(this.l=kp,this.j=n-i),this.ia=!0}(t=t.frameState.viewState.resolution)!==this.f&&(this.f=t,Sp(this,t))}}function Sp(t,e){var n,i,o,r,a;n=1-(o=t.a.aa(),r=o.a,a=Math.log(r/o.c)/Math.log(2),i=e,Math.log(r/i)/Math.log(2)/a);var s=t.element.firstElementChild;1==t.l?s.style.left=t.C*n+"px":s.style.top=t.j*n+"px"}function Tp(t,e){return i=t.a.aa(),o=i.a,r=Math.log(o/i.c)/Math.log(2),n=1-e,o/Math.pow(2,n*r);var n,i,o,r}function Ap(t){t=t||{},this.f=t.extent?t.extent:null;var e=void 0!==t.className?t.className:"ol-zoom-extent",n=void 0!==t.label?t.label:"E",i=void 0!==t.tipLabel?t.tipLabel:"Fit to extent",o=document.createElement("button");o.setAttribute("type","button"),o.title=i,o.appendChild("string"==typeof n?document.createTextNode(n):n),B(o,"click",this.l,this),(n=document.createElement("div")).className=e+" ol-unselectable ol-control",n.appendChild(o),Pi.call(this,{element:n,target:t.target})}function Dp(t){et.call(this),t=t||{},this.a=null,B(this,it("tracking"),this.Il,this),this.rf(void 0!==t.tracking&&t.tracking)}function Mp(){this.defaultDataProjection=null}function Ep(t,e,n){var i;return n&&(i={dataProjection:n.dataProjection?n.dataProjection:t.Oa(e),featureProjection:n.featureProjection}),Pp(t,i)}function Pp(t,e){var n;return e&&(n={featureProjection:e.featureProjection,dataProjection:e.dataProjection?e.dataProjection:t.defaultDataProjection,rightHanded:e.rightHanded},e.decimals&&(n.decimals=e.decimals)),n}function Op(t,e,n){var i,o=n?we(n.featureProjection):null,r=n?we(n.dataProjection):null;if(i=o&&r&&!xe(o,r)?t instanceof Ae?(e?t.clone():t).jb(e?o:r,e?r:o):Te(e?t.slice():t,e?o:r,e?r:o):t,e&&n&&n.decimals){var a=Math.pow(10,n.decimals);t=function(t){for(var e=0,n=t.length;e<n;++e)t[e]=Math.round(t[e]*a)/a;return t},Array.isArray(i)?t(i):i.rc(t)}return i}function Ip(){this.defaultDataProjection=null}function Rp(t){return p(t)?t:"string"==typeof t&&(t=JSON.parse(t))?t:null}function Lp(t,e,n,i,o,r){var a=NaN,s=NaN;if(0!==(u=(n-e)/i))if(1==u)a=t[e],s=t[e+1];else if(2==u)a=(1-o)*t[e]+o*t[e+i],s=(1-o)*t[e+1]+o*t[e+i+1];else{s=t[e];var l,u=t[e+1],c=0;a=[0];for(l=e+i;l<n;l+=i){var p=t[l],h=t[l+1];c=c+Math.sqrt((p-s)*(p-s)+(h-u)*(h-u));a.push(c),s=p,u=h}for(n=o*c,u=0,c=a.length,l=!1;u<c;)(s=+rt(a[o=u+(c-u>>1)],n))<0?u=o+1:(c=o,l=!s);s=(o=l?u:~u)<0?(n=(n-a[-o-2])/(a[-o-1]-a[-o-2]),a=S(t[e+=(-o-2)*i],t[e+i],n),S(t[e+1],t[e+i+1],n)):(a=t[e+o*i],t[e+o*i+1])}return r?(r[0]=a,r[1]=s,r):[a,s]}function Fp(t,e,n,i,o,r){if(n==e)return null;if(o<t[e+i-1])return r?((n=t.slice(e,e+i))[i-1]=o,n):null;if(t[n-1]<o)return r?((n=t.slice(n-i,n))[i-1]=o,n):null;if(o==t[e+i-1])return t.slice(e,e+i);for(e/=i,n/=i;e<n;)o<t[((r=e+n>>1)+1)*i-1]?n=r:e=r+1;if(o==(n=t[e*i-1]))return t.slice((e-1)*i,(e-1)*i+i);var a;for(r=(o-n)/(t[(e+1)*i-1]-n),n=[],a=0;a<i-1;++a)n.push(S(t[(e-1)*i+a],t[e*i+a],r));return n.push(o),n}function Np(t,e){ze.call(this),this.i=null,this.C=this.D=this.j=-1,this.pa(t,e)}function jp(t){return t.j!=t.g&&(t.i=t.Bg(.5,t.i),t.j=t.g),t.i}function Bp(t,e){ze.call(this),this.i=[],this.j=this.C=-1,this.pa(t,e)}function Up(t){var e,n,i=[],o=t.B,r=0,a=t.i;for(t=t.a,e=0,n=a.length;e<n;++e){var s=a[e];ut(i,r=Lp(o,r,s,t,.5)),r=s}return i}function zp(t,e){var n,i,o=t.f,r=[],a=[];for(n=0,i=e.length;n<i;++n){var s=e[n];0===n&&(o=s.f),ut(r,s.la()),a.push(r.length)}t.ba(o,r,a)}function Hp(t,e){ze.call(this),this.pa(t,e)}function Vp(t,e){ze.call(this),this.i=[],this.C=-1,this.D=null,this.T=this.R=this.S=-1,this.j=null,this.pa(t,e)}function qp(t){if(t.C!=t.g){var e,n,i=t.B,o=t.i,r=t.a,a=0,s=[];for(e=0,n=o.length;e<n;++e){var l=o[e];a=jt(i,a,l[0],r);s.push((a[0]+a[2])/2,(a[1]+a[3])/2),a=l[l.length-1]}for(i=Wp(t),o=t.i,r=t.a,n=[],l=e=0,a=o.length;l<a;++l){var u=o[l];n=dn(i,e,u,r,s,2*l,n),e=u[u.length-1]}t.D=n,t.C=t.g}return t.D}function Wp(t){if(t.T!=t.g){var e,n=t.B;t:{var i,o;for(i=0,o=(e=t.i).length;i<o;++i)if(!yn(n,e[i],t.a,void 0)){e=!1;break t}e=!0}e?t.j=n:(t.j=n.slice(),t.j.length=wn(t.j,t.i,t.a)),t.T=t.g}return t.j}function Gp(t,e,n,i){Ve(t,e,n),t.i=i,t.u()}function Yp(t,e){var n,i,o,r=t.f,a=[],s=[];for(n=0,i=e.length;n<i;++n){var l=e[n];0===n&&(r=l.f);var u,c,p=a.length;for(u=0,c=(o=l.Db()).length;u<c;++u)o[u]+=p;ut(a,l.la()),s.push(o)}Gp(t,r,a,s)}function Kp(t){t=t||{},this.defaultDataProjection=null,this.b=t.geometryName}function Zp(t,e){if(!t)return null;var n;if(v(t.x)&&v(t.y))n="Point";else if(t.points)n="MultiPoint";else if(t.paths)n=1===t.paths.length?"LineString":"MultiLineString";else if(t.rings){var i,o,r=t.rings,a=Xp(t),s=[];for(n=[],i=0,o=r.length;i<o;++i){var l=lt(r[i]);vn(l,0,l.length,a.length)?s.push([r[i]]):n.push(r[i])}for(;n.length;){for(r=n.shift(),a=!1,i=s.length-1;0<=i;i--)if(Ot(new sn(s[i][0]).H(),new sn(r).H())){s[i].push(r),a=!0;break}a||s.push([r.reverse()])}t=M({},t),1===s.length?(n="Polygon",t.rings=s[0]):(n="MultiPolygon",t.rings=s)}return Op((0,Qp[n])(t),!1,e)}function Xp(t){var e="XY";return!0===t.hasZ&&!0===t.hasM?e="XYZM":!0===t.hasZ?e="XYZ":!0===t.hasM&&(e="XYM"),e}function Jp(t){return{hasZ:"XYZ"===(t=t.f)||"XYZM"===t,hasM:"XYM"===t||"XYZM"===t}}(t=_p.prototype).setMap=function(t){Pi.prototype.setMap.call(this,t),t&&t.render()},t.Hk=function(t){var e=this.a,n=e.aa(),i=n.$();e.Wa(jn({resolution:i,duration:this.Y,easing:On})),t=Tp(this,x(1===this.l?(t.offsetX-this.T[0]/2)/this.C:(t.offsetY-this.T[1]/2)/this.j,0,1)),n.Ub(n.constrainResolution(t))},t.Ik=function(t){if(!this.A&&t.b.target===this.element.firstElementChild&&(En(this.a.aa(),1),this.D=t.clientX,this.R=t.clientY,this.A=!0,0===this.v.length)){t=this.Ng;var e=this.Og;this.v.push(B(document,"mousemove",t,this),B(document,"touchmove",t,this),B(document,hr,t,this),B(document,"mouseup",e,this),B(document,"touchend",e,this),B(document,fr,e,this))}},t.Ng=function(t){if(this.A){var e=this.element.firstElementChild;this.f=Tp(this,x(1===this.l?(t.clientX-this.D+parseInt(e.style.left,10))/this.C:(t.clientY-this.R+parseInt(e.style.top,10))/this.j,0,1)),this.a.aa().Ub(this.f),Sp(this,this.f),this.D=t.clientX,this.R=t.clientY}},t.Og=function(){if(this.A){var t=this.a,e=t.aa();En(e,-1),t.Wa(jn({resolution:this.f,duration:this.Y,easing:On})),t=e.constrainResolution(this.f),e.Ub(t),this.A=!1,this.R=this.D=void 0,this.v.forEach(H),this.v.length=0}},g(Ap,Pi),Ap.prototype.l=function(t){t.preventDefault(),t=(n=this.a).aa();var e=this.f?this.f:t.l.H(),n=n.Za();t.cf(e,n)},g(Dp,et),(t=Dp.prototype).ka=function(){this.rf(!1),et.prototype.ka.call(this)},t.co=function(t){if(null!==t.alpha){var e=C(t.alpha);this.set("alpha",e),"boolean"==typeof t.absolute&&t.absolute?this.set("heading",e):v(t.webkitCompassHeading)&&-1!=t.webkitCompassAccuracy&&this.set("heading",C(t.webkitCompassHeading))}null!==t.beta&&this.set("beta",C(t.beta)),null!==t.gamma&&this.set("gamma",C(t.gamma)),this.u()},t.Oj=function(){return this.get("alpha")},t.Rj=function(){return this.get("beta")},t.Yj=function(){return this.get("gamma")},t.Hl=function(){return this.get("heading")},t.$g=function(){return this.get("tracking")},t.Il=function(){if(Uo){var t=this.$g();t&&!this.a?this.a=B(y,"deviceorientation",this.co,this):t||null===this.a||(H(this.a),this.a=null)}},t.rf=function(t){this.set("tracking",t)},g(Ip,Mp),(t=Ip.prototype).X=function(){return"json"},t.Rb=function(t,e){return this.Uc(Rp(t),Ep(this,t,e))},t.Fa=function(t,e){return this.Jf(Rp(t),Ep(this,t,e))},t.Vc=function(t,e){return this.Rh(Rp(t),Ep(this,t,e))},t.Oa=function(t){return this.Yh(Rp(t))},t.Dd=function(t,e){return JSON.stringify(this.Yc(t,e))},t.Xb=function(t,e){return JSON.stringify(this.Ie(t,e))},t.Zc=function(t,e){return JSON.stringify(this.Ke(t,e))},g(Np,ze),(t=Np.prototype).wj=function(t){this.B?ut(this.B,t):this.B=t.slice(),this.u()},t.clone=function(){var t=new Np(null);return t.ba(this.f,this.B.slice()),t},t.sb=function(t,e,n,i){return i<Et(this.H(),t,e)?i:(this.C!=this.g&&(this.D=Math.sqrt(Ke(this.B,0,this.B.length,this.a,0)),this.C=this.g),Xe(this.B,0,this.B.length,this.a,this.D,!1,t,e,n,i))},t.Lj=function(t,e){return fn(this.B,0,this.B.length,this.a,t,e)},t.lm=function(t,e){return"XYM"!=this.f&&"XYZM"!=this.f?null:Fp(this.B,0,this.B.length,this.a,t,void 0!==e&&e)},t.Z=function(){return nn(this.B,0,this.B.length,this.a)},t.Bg=function(t,e){return Lp(this.B,0,this.B.length,this.a,t,e)},t.mm=function(){var t,e=this.B,n=this.a,i=e[0],o=e[1],r=0;for(t=0+n;t<this.B.length;t+=n){var a=e[t],s=e[t+1];r=r+Math.sqrt((a-i)*(a-i)+(s-o)*(s-o)),i=a,o=s}return r},t.Nc=function(t){var e=[];return e.length=rn(this.B,0,this.B.length,this.a,t,e,0),(t=new Np(null)).ba("XY",e),t},t.X=function(){return"LineString"},t.Ka=function(t){return gn(this.B,0,this.B.length,this.a,t)},t.pa=function(t,e){t?(qe(this,e,t,1),this.B||(this.B=[]),this.B.length=tn(this.B,0,t,this.a),this.u()):this.ba("XY",null)},t.ba=function(t,e){Ve(this,t,e),this.u()},g(Bp,ze),(t=Bp.prototype).xj=function(t){this.B?ut(this.B,t.la().slice()):this.B=t.la().slice(),this.i.push(this.B.length),this.u()},t.clone=function(){var t=new Bp(null);return t.ba(this.f,this.B.slice(),this.i.slice()),t},t.sb=function(t,e,n,i){return i<Et(this.H(),t,e)?i:(this.j!=this.g&&(this.C=Math.sqrt(Ze(this.B,0,this.i,this.a,0)),this.j=this.g),Je(this.B,0,this.i,this.a,this.C,!1,t,e,n,i))},t.om=function(t,e,n){return"XYM"!=this.f&&"XYZM"!=this.f||0===this.B.length?null:function(t,e,n,i,o,r){var a=0;if(r)return Fp(t,a,e[e.length-1],n,i,o);if(i<t[n-1])return o?((t=t.slice(0,n))[n-1]=i,t):null;if(t[t.length-1]<i)return o?((t=t.slice(t.length-n))[n-1]=i,t):null;for(o=0,r=e.length;o<r;++o){var s=e[o];if(a!=s){if(i<t[a+n-1])break;if(i<=t[s-1])return Fp(t,a,s,n,i,!1);a=s}}return null}(this.B,this.i,this.a,t,void 0!==e&&e,void 0!==n&&n)},t.Z=function(){return on(this.B,0,this.i,this.a)},t.Db=function(){return this.i},t.fk=function(t){if(t<0||this.i.length<=t)return null;var e=new Np(null);return e.ba(this.f,this.B.slice(0===t?0:this.i[t-1],this.i[t])),e},t.md=function(){var t,e,n=this.B,i=this.i,o=this.f,r=[],a=0;for(t=0,e=i.length;t<e;++t){var s=i[t],l=new Np(null);l.ba(o,n.slice(a,s)),r.push(l),a=s}return r},t.Nc=function(t){var e,n,i=[],o=[],r=this.B,a=this.i,s=this.a,l=0,u=0;for(e=0,n=a.length;e<n;++e){var c=a[e];u=rn(r,l,c,s,t,i,u);o.push(u),l=c}return i.length=u,(t=new Bp(null)).ba("XY",i,o),t},t.X=function(){return"MultiLineString"},t.Ka=function(t){t:{var e,n,i=this.B,o=this.i,r=this.a,a=0;for(e=0,n=o.length;e<n;++e){if(gn(i,a,o[e],r,t)){t=!0;break t}a=o[e]}t=!1}return t},t.pa=function(t,e){if(t){qe(this,e,t,2),this.B||(this.B=[]);var n=en(this.B,0,t,this.a,this.i);this.B.length=0===n.length?0:n[n.length-1],this.u()}else this.ba("XY",null,this.i)},t.ba=function(t,e,n){Ve(this,t,e),this.i=n,this.u()},g(Hp,ze),(t=Hp.prototype).zj=function(t){this.B?ut(this.B,t.la()):this.B=t.la().slice(),this.u()},t.clone=function(){var t=new Hp(null);return t.ba(this.f,this.B.slice()),t},t.sb=function(t,e,n,i){if(i<Et(this.H(),t,e))return i;var o,r,a,s=this.B,l=this.a;for(o=0,r=s.length;o<r;o+=l)if((a=k(t,e,s[o],s[o+1]))<i){for(i=a,a=0;a<l;++a)n[a]=s[o+a];n.length=l}return i},t.Z=function(){return nn(this.B,0,this.B.length,this.a)},t.rk=function(t){var e=this.B?this.B.length/this.a:0;return t<0||e<=t?null:((e=new un(null)).ba(this.f,this.B.slice(t*this.a,(t+1)*this.a)),e)},t.je=function(){var t,e,n=this.B,i=this.f,o=this.a,r=[];for(t=0,e=n.length;t<e;t+=o){var a=new un(null);a.ba(i,n.slice(t,t+o)),r.push(a)}return r},t.X=function(){return"MultiPoint"},t.Ka=function(t){var e,n,i=this.B,o=this.a;for(e=0,n=i.length;e<n;e+=o)if(It(t,i[e],i[e+1]))return!0;return!1},t.pa=function(t,e){t?(qe(this,e,t,1),this.B||(this.B=[]),this.B.length=tn(this.B,0,t,this.a),this.u()):this.ba("XY",null)},t.ba=function(t,e){Ve(this,t,e),this.u()},g(Vp,ze),(t=Vp.prototype).Aj=function(t){if(this.B){var e,n,i=this.B.length;for(ut(this.B,t.la()),e=0,n=(t=t.Db().slice()).length;e<n;++e)t[e]+=i}else this.B=t.la().slice(),t=t.Db().slice(),this.i.push();this.i.push(t),this.u()},t.clone=function(){for(var t=new Vp(null),e=this.i.length,n=Array(e),i=0;i<e;++i)n[i]=this.i[i].slice();return Gp(t,this.f,this.B.slice(),n),t},t.sb=function(t,e,n,i){if(i<Et(this.H(),t,e))return i;if(this.R!=this.g){var o,r,a=this.i,s=0,l=0;for(o=0,r=a.length;o<r;++o){var u=a[o];l=Ze(this.B,s,u,this.a,l),s=u[u.length-1]}this.S=Math.sqrt(l),this.R=this.g}a=Wp(this),s=this.i,l=this.a,o=this.S;var c,p;u=[NaN,NaN];for(c=r=0,p=s.length;c<p;++c){var h=s[c];i=Je(a,r,h,l,o,!0,t,e,n,i,u),r=h[h.length-1]}return i},t.Bc=function(t,e){var n;t:{n=Wp(this);var i,o,r=this.i,a=0;if(0!==r.length)for(i=0,o=r.length;i<o;++i){var s=r[i];if(hn(n,a,s,this.a,t,e)){n=!0;break t}a=s[s.length-1]}n=!1}return n},t.pm=function(){var t,e,n=Wp(this),i=this.i,o=0,r=0;for(t=0,e=i.length;t<e;++t){var a=i[t];r=r+Ge(n,o,a,this.a),o=a[a.length-1]}return r},t.Z=function(t){var e;void 0!==t?wn(e=Wp(this).slice(),this.i,this.a,t):e=this.B,t=e,e=this.i;var n,i,o=this.a,r=0,a=[],s=0;for(n=0,i=e.length;n<i;++n){var l=e[n];a[s++]=on(t,r,l,o,a[s]),r=l[l.length-1]}return a.length=s,a},t.ck=function(){var t=new Hp(null);return t.ba("XY",qp(this).slice()),t},t.Nc=function(t){var e=[],n=[],i=this.B,o=this.i,r=this.a;t=Math.sqrt(t);var a,s,l=0,u=0;for(a=0,s=o.length;a<s;++a){var c=o[a],p=[];u=an(i,l,c,r,t,e,u,p);n.push(p),l=c[c.length-1]}return e.length=u,Gp(i=new Vp(null),"XY",e,n),i},t.tk=function(t){if(t<0||this.i.length<=t)return null;var e;e=0===t?0:(e=this.i[t-1])[e.length-1];var n,i,o=(t=this.i[t].slice())[t.length-1];if(0!==e)for(n=0,i=t.length;n<i;++n)t[n]-=e;return(n=new xn(null)).ba(this.f,this.B.slice(e,o),t),n},t.Wd=function(){var t,e,n,i,o=this.f,r=this.B,a=this.i,s=[],l=0;for(t=0,e=a.length;t<e;++t){var u=a[t].slice(),c=u[u.length-1];if(0!==l)for(n=0,i=u.length;n<i;++n)u[n]-=l;(n=new xn(null)).ba(o,r.slice(l,c),u),s.push(n),l=c}return s},t.X=function(){return"MultiPolygon"},t.Ka=function(t){t:{var e,n,i=Wp(this),o=this.i,r=this.a,a=0;for(e=0,n=o.length;e<n;++e){var s=o[e];if(mn(i,a,s,r,t)){t=!0;break t}a=s[s.length-1]}t=!1}return t},t.pa=function(t,e){if(t){qe(this,e,t,3),this.B||(this.B=[]);var n,i,o=this.B,r=this.a,a=0,s=(s=this.i)||[],l=0;for(n=0,i=t.length;n<i;++n)a=en(o,a,t[n],r,s[l]),a=(s[l++]=a)[a.length-1];s.length=l,0===s.length?this.B.length=0:(o=s[s.length-1],this.B.length=0===o.length?0:o[o.length-1]),this.u()}else Gp(this,"XY",null,this.i)},g(Kp,Ip);var Qp={Point:function(t){return void 0!==t.m&&void 0!==t.z?new un([t.x,t.y,t.z,t.m],"XYZM"):void 0!==t.z?new un([t.x,t.y,t.z],"XYZ"):void 0!==t.m?new un([t.x,t.y,t.m],"XYM"):new un([t.x,t.y])},LineString:function(t){return new Np(t.paths[0],Xp(t))},Polygon:function(t){return new xn(t.rings,Xp(t))},MultiPoint:function(t){return new Hp(t.points,Xp(t))},MultiLineString:function(t){return new Bp(t.paths,Xp(t))},MultiPolygon:function(t){return new Vp(t.rings,Xp(t))}},th={Point:function(t){var e=t.Z();return"XYZ"===(t=t.f)?{x:e[0],y:e[1],z:e[2]}:"XYM"===t?{x:e[0],y:e[1],m:e[2]}:"XYZM"===t?{x:e[0],y:e[1],z:e[2],m:e[3]}:"XY"===t?{x:e[0],y:e[1]}:void 0},LineString:function(t){var e=Jp(t);return{hasZ:e.hasZ,hasM:e.hasM,paths:[t.Z()]}},Polygon:function(t){var e=Jp(t);return{hasZ:e.hasZ,hasM:e.hasM,rings:t.Z(!1)}},MultiPoint:function(t){var e=Jp(t);return{hasZ:e.hasZ,hasM:e.hasM,points:t.Z()}},MultiLineString:function(t){var e=Jp(t);return{hasZ:e.hasZ,hasM:e.hasM,paths:t.Z()}},MultiPolygon:function(t){var e=Jp(t);t=t.Z(!1);for(var n=[],i=0;i<t.length;i++)for(var o=t[i].length-1;0<=o;o--)n.push(t[i][o]);return{hasZ:e.hasZ,hasM:e.hasM,rings:n}}};function eh(t,e){return(0,th[t.X()])(Op(t,!0,e),e)}function nh(t){Ae.call(this),this.c=t||null,rh(this)}function ih(t){var e,n,i=[];for(e=0,n=t.length;e<n;++e)i.push(t[e].clone());return i}function oh(t){var e,n;if(t.c)for(e=0,n=t.c.length;e<n;++e)z(t.c[e],"change",t.u,t)}function rh(t){var e,n;if(t.c)for(e=0,n=t.c.length;e<n;++e)B(t.c[e],"change",t.u,t)}function ah(t){t=t||{},this.defaultDataProjection=null,this.defaultDataProjection=we(t.defaultDataProjection?t.defaultDataProjection:"EPSG:4326"),this.b=t.geometryName}function sh(t,e){return t?Op((0,uh[t.type])(t),!1,e):null}function lh(t,e){return(0,ch[t.X()])(Op(t,!0,e),e)}(t=Kp.prototype).Uc=function(t,e){var n=Zp(t.geometry,e),i=new eu;return this.b&&i.Ec(this.b),i.Ua(n),e&&e.mf&&t.attributes[e.mf]&&i.mc(t.attributes[e.mf]),t.attributes&&i.G(t.attributes),i},t.Jf=function(t,e){var n=e||{};if(t.features){var i,o,r=[],a=t.features;for(n.mf=t.objectIdFieldName,i=0,o=a.length;i<o;++i)r.push(this.Uc(a[i],n));return r}return[this.Uc(t,n)]},t.Rh=function(t,e){return Zp(t,e)},t.Yh=function(t){return t.spatialReference&&t.spatialReference.wkid?we("EPSG:"+t.spatialReference.wkid):null},t.Ke=function(t,e){return eh(t,Pp(this,e))},t.Yc=function(t,e){e=Pp(this,e);var n={},i=t.W();return i&&(n.geometry=eh(i,e)),delete(i=t.O())[t.a],n.attributes=I(i)?{}:i,e&&e.featureProjection&&(n.spatialReference={wkid:we(e.featureProjection).cb.split(":").pop()}),n},t.Ie=function(t,e){e=Pp(this,e);var n,i,o=[];for(n=0,i=t.length;n<i;++n)o.push(this.Yc(t[n],e));return{features:o}},g(nh,Ae),(t=nh.prototype).clone=function(){var t=new nh(null);return t.hi(this.c),t},t.sb=function(t,e,n,i){if(i<Et(this.H(),t,e))return i;var o,r,a=this.c;for(o=0,r=a.length;o<r;++o)i=a[o].sb(t,e,n,i);return i},t.Bc=function(t,e){var n,i,o=this.c;for(n=0,i=o.length;n<i;++n)if(o[n].Bc(t,e))return!0;return!1},t.Od=function(t){Ft(1/0,1/0,-1/0,-1/0,t);for(var e=this.c,n=0,i=e.length;n<i;++n)Ut(t,e[n].H());return t},t.ff=function(){return ih(this.c)},t.od=function(t){if(this.s!=this.g&&(E(this.l),this.o=0,this.s=this.g),t<0||0!==this.o&&t<this.o)return this;var e=t.toString();if(this.l.hasOwnProperty(e))return this.l[e];var n,i,o=[],r=this.c,a=!1;for(n=0,i=r.length;n<i;++n){var s=r[n],l=s.od(t);o.push(l),l!==s&&(a=!0)}return a?(oh(t=new nh(null)),t.c=o,rh(t),t.u(),this.l[e]=t):(this.o=t,this)},t.X=function(){return"GeometryCollection"},t.Ka=function(t){var e,n,i=this.c;for(e=0,n=i.length;e<n;++e)if(i[e].Ka(t))return!0;return!1},t.Ya=function(){return 0===this.c.length},t.rotate=function(t,e){for(var n=this.c,i=0,o=n.length;i<o;++i)n[i].rotate(t,e);this.u()},t.hi=function(t){t=ih(t),oh(this),this.c=t,rh(this),this.u()},t.rc=function(t){var e,n,i=this.c;for(e=0,n=i.length;e<n;++e)i[e].rc(t);this.u()},t.Sc=function(t,e){var n,i,o=this.c;for(n=0,i=o.length;n<i;++n)o[n].Sc(t,e);this.u()},t.ka=function(){oh(this),Ae.prototype.ka.call(this)},g(ah,Ip);var uh={Point:function(t){return new un(t.coordinates)},LineString:function(t){return new Np(t.coordinates)},Polygon:function(t){return new xn(t.coordinates)},MultiPoint:function(t){return new Hp(t.coordinates)},MultiLineString:function(t){return new Bp(t.coordinates)},MultiPolygon:function(t){return new Vp(t.coordinates)},GeometryCollection:function(t,e){return new nh(t.geometries.map(function(t){return sh(t,e)}))}},ch={Point:function(t){return{type:"Point",coordinates:t.Z()}},LineString:function(t){return{type:"LineString",coordinates:t.Z()}},Polygon:function(t,e){var n;return e&&(n=e.rightHanded),{type:"Polygon",coordinates:t.Z(n)}},MultiPoint:function(t){return{type:"MultiPoint",coordinates:t.Z()}},MultiLineString:function(t){return{type:"MultiLineString",coordinates:t.Z()}},MultiPolygon:function(t,e){var n;return e&&(n=e.rightHanded),{type:"MultiPolygon",coordinates:t.Z(n)}},GeometryCollection:function(t,n){return{type:"GeometryCollection",geometries:t.c.map(function(t){var e=M({},n);return delete e.featureProjection,lh(t,e)})}},Circle:function(){return{type:"GeometryCollection",geometries:[]}}};function ph(){this.f=new XMLSerializer,this.defaultDataProjection=null}function hh(t,e,n){return 0<(t=dh(t,e,n)).length?t[0]:null}function dh(t,e,n){var i=[];for(e=e.firstChild;e;e=e.nextSibling)e.nodeType==Node.ELEMENT_NODE&&ut(i,t.lc(e,n));return i}function fh(t){t=t||{},this.featureType=t.featureType,this.featureNS=t.featureNS,this.srsName=t.srsName,this.schemaLocation="",this.b={},this.b["http://www.opengis.net/gml"]={featureMember:pu(fh.prototype.vd),featureMembers:pu(fh.prototype.vd)},ph.call(this)}(t=ah.prototype).Uc=function(t,e){var n=sh(t.geometry,e),i=new eu;return this.b&&i.Ec(this.b),i.Ua(n),void 0!==t.id&&i.mc(t.id),t.properties&&i.G(t.properties),i},t.Jf=function(t,e){if("Feature"==t.type)return[this.Uc(t,e)];if("FeatureCollection"!=t.type)return[];var n,i,o=[],r=t.features;for(n=0,i=r.length;n<i;++n)o.push(this.Uc(r[n],e));return o},t.Rh=function(t,e){return sh(t,e)},t.Yh=function(t){return(t=t.crs)?"name"==t.type?we(t.properties.name):"EPSG"==t.type?we("EPSG:"+t.properties.code):null:this.defaultDataProjection},t.Yc=function(t,e){e=Pp(this,e);var n={type:"Feature"},i=t.Xa();return void 0!==i&&(n.id=i),(i=t.W())?n.geometry=lh(i,e):n.geometry=null,delete(i=t.O())[t.a],I(i)?n.properties=null:n.properties=i,n},t.Ie=function(t,e){e=Pp(this,e);var n,i,o=[];for(n=0,i=t.length;n<i;++n)o.push(this.Yc(t[n],e));return{type:"FeatureCollection",features:o}},t.Ke=function(t,e){return lh(t,Pp(this,e))},g(ph,Mp),(t=ph.prototype).X=function(){return"xml"},t.Rb=function(t,e){return au(t)?hh(this,t,e):su(t)?this.Ph(t,e):"string"!=typeof t?null:hh(this,lu(t),e)},t.Fa=function(t,e){return au(t)?dh(this,t,e):su(t)?this.lc(t,e):"string"!=typeof t?[]:dh(this,lu(t),e)},t.Vc=function(t,e){if(au(t))return this.v(t,e);if(su(t)){var n=this.ye(t,[Ep(this,t,e||{})]);return n||null}return"string"==typeof t?(n=lu(t),this.v(n,e)):null},t.Oa=function(t){return au(t)?this.Pf(t):su(t)?this.Be(t):"string"==typeof t?(t=lu(t),this.Pf(t)):null},t.Pf=function(){return this.defaultDataProjection},t.Be=function(){return this.defaultDataProjection},t.Dd=function(t,e){var n=this.A(t,e);return this.f.serializeToString(n)},t.Xb=function(t,e){var n=this.a(t,e);return this.f.serializeToString(n)},t.Zc=function(t,e){var n=this.s(t,e);return this.f.serializeToString(n)},g(fh,ph);var gh=/^[\s\xa0]*$/;function mh(t){return vh(t=ru(t,!1))}function vh(t){if(t=/^\s*(true|1)|(false|0)\s*$/.exec(t))return void 0!==t[1]||!1}function yh(t){if(t=ru(t,!1),t=/^\s*(\d{4})-(\d{2})-(\d{2})T(\d{2}):(\d{2}):(\d{2})(Z|(?:([+\-])(\d{2})(?::(\d{2}))?))\s*$/.exec(t)){var e=Date.UTC(parseInt(t[1],10),parseInt(t[2],10)-1,parseInt(t[3],10),parseInt(t[4],10),parseInt(t[5],10),parseInt(t[6],10))/1e3;if("Z"!=t[7]){var n="-"==t[8]?-1:1;e=e+60*n*parseInt(t[9],10);void 0!==t[10]&&(e+=3600*n*parseInt(t[10],10))}return e}}function bh(t){return wh(t=ru(t,!1))}function wh(t){if(t=/^\s*([+\-]?\d*\.?\d+(?:e[+\-]?\d+)?)\s*$/i.exec(t))return parseFloat(t[1])}function xh(t){return $h(t=ru(t,!1))}function $h(t){if(t=/^\s*(\d+)\s*$/.exec(t))return parseInt(t[1],10)}function _h(t){return ru(t,!1).trim()}function kh(t,e){Th(t,e?"1":"0")}function Ch(t,e){t.appendChild(iu.createTextNode(e.toPrecision()))}function Sh(t,e){t.appendChild(iu.createTextNode(e.toString()))}function Th(t,e){t.appendChild(iu.createTextNode(e))}function Ah(t){fh.call(this,t=t||{}),this.b["http://www.opengis.net/gml"].featureMember=cu(fh.prototype.vd),this.schemaLocation=t.schemaLocation?t.schemaLocation:"http://www.opengis.net/gml http://schemas.opengis.net/gml/2.1.2/feature.xsd"}function Dh(t){fh.call(this,t=t||{}),this.j=void 0!==t.surface&&t.surface,this.i=void 0!==t.curve&&t.curve,this.l=void 0===t.multiCurve||t.multiCurve,this.o=void 0===t.multiSurface||t.multiSurface,this.schemaLocation=t.schemaLocation?t.schemaLocation:"http://www.opengis.net/gml http://schemas.opengis.net/gml/3.1.1/profiles/gmlsfProfile/1.0.0/gmlsf.xsd"}function Mh(t,e,n){n=n[n.length-1].srsName;for(var i,o=(e=e.Z()).length,r=Array(o),a=0;a<o;++a){i=e[a];var s=a,l="enu";n&&(l=we(n).b),r[s]="en"===l.substr(0,2)?i[0]+" "+i[1]:i[1]+" "+i[0]}Th(t,r.join(" "))}(t=fh.prototype).vd=function(t,e){var n=t.localName,i=null;if("FeatureCollection"==n)i="http://www.opengis.net/wfs"===t.namespaceURI?Tu([],this.b,t,e,this):Tu(null,this.b,t,e,this);else if("featureMembers"==n||"featureMember"==n){var o,r,a=(f=e[0]).featureType,s=f.featureNS;if(!a&&t.childNodes){for(a=[],s={},o=0,r=t.childNodes.length;o<r;++o){if(1===(h=t.childNodes[o]).nodeType){var l=h.nodeName.split(":").pop();if(-1===a.indexOf(l)){var u,c="",p=0,h=h.namespaceURI;for(u in s){if(s[u]===h){c=u;break}++p}c||(s[c="p"+p]=h),a.push(c+":"+l)}}}"featureMember"!=n&&(f.featureType=a,f.featureNS=s)}"string"==typeof s&&(o=s,(s={}).p0=o);var d,f={};a=Array.isArray(a)?a:[a];for(d in s){for(l={},o=0,r=a.length;o<r;++o)(-1===a[o].indexOf(":")?"p0":a[o].split(":")[0])===d&&(l[a[o].split(":").pop()]="featureMembers"==n?cu(this.If,this):pu(this.If,this));f[s[d]]=l}i=Tu("featureMember"==n?void 0:[],f,t,e)}return null===i&&(i=[]),i},t.ye=function(t,e){var n=e[0];n.srsName=t.firstElementChild.getAttribute("srsName");var i=Tu(null,this.bg,t,e,this);if(i)return Op(i,!1,n)},t.If=function(t,e){var n,i;(i=t.getAttribute("fid"))||(i=t.getAttributeNS("http://www.opengis.net/gml","id")||"");var o,r={};for(n=t.firstElementChild;n;n=n.nextElementSibling){var a=n.localName;if(0===n.childNodes.length||1===n.childNodes.length&&(3===n.firstChild.nodeType||4===n.firstChild.nodeType)){var s=ru(n,!1);gh.test(s)&&(s=void 0),r[a]=s}else"boundedBy"!==a&&(o=a),r[a]=this.ye(n,e)}return n=new eu(r),o&&n.Ec(o),i&&n.mc(i),n},t.Xh=function(t,e){var n=this.xe(t,e);if(n){var i=new un(null);return i.ba("XYZ",n),i}},t.Vh=function(t,e){var n=Tu([],this.Ui,t,e,this);if(n)return new Hp(n)},t.Uh=function(t,e){var n=Tu([],this.Ti,t,e,this);if(n){var i=new Bp(null);return zp(i,n),i}},t.Wh=function(t,e){var n=Tu([],this.Vi,t,e,this);if(n){var i=new Vp(null);return Yp(i,n),i}},t.Mh=function(t,e){Su(this.Yi,t,e,this)},t.Ug=function(t,e){Su(this.Ri,t,e,this)},t.Nh=function(t,e){Su(this.Zi,t,e,this)},t.ze=function(t,e){var n=this.xe(t,e);if(n){var i=new Np(null);return i.ba("XYZ",n),i}},t.zo=function(t,e){var n=Tu(null,this.Fd,t,e,this);if(n)return n},t.Th=function(t,e){var n=this.xe(t,e);if(n){var i=new sn(null);return ln(i,"XYZ",n),i}},t.Ae=function(t,e){var n=Tu([null],this.Me,t,e,this);if(n&&n[0]){var i,o,r=new xn(null),a=n[0],s=[a.length];for(i=1,o=n.length;i<o;++i)ut(a,n[i]),s.push(a.length);return r.ba("XYZ",a,s),r}},t.xe=function(t,e){return Tu(null,this.Fd,t,e,this)},t.Ui={"http://www.opengis.net/gml":{pointMember:cu(fh.prototype.Mh),pointMembers:cu(fh.prototype.Mh)}},t.Ti={"http://www.opengis.net/gml":{lineStringMember:cu(fh.prototype.Ug),lineStringMembers:cu(fh.prototype.Ug)}},t.Vi={"http://www.opengis.net/gml":{polygonMember:cu(fh.prototype.Nh),polygonMembers:cu(fh.prototype.Nh)}},t.Yi={"http://www.opengis.net/gml":{Point:cu(fh.prototype.xe)}},t.Ri={"http://www.opengis.net/gml":{LineString:cu(fh.prototype.ze)}},t.Zi={"http://www.opengis.net/gml":{Polygon:cu(fh.prototype.Ae)}},t.Gd={"http://www.opengis.net/gml":{LinearRing:pu(fh.prototype.zo)}},t.lc=function(t,e){var n={featureType:this.featureType,featureNS:this.featureNS};return e&&M(n,Ep(this,t,e)),this.vd(t,[n])||[]},t.Be=function(t){return we(this.srsName?this.srsName:t.firstElementChild.getAttribute("srsName"))},g(Ah,fh),(t=Ah.prototype).Qh=function(t,e){var n=ru(t,!1).replace(/^\s*|\s*$/g,""),i=e[0].srsName,o=t.parentNode.getAttribute("srsDimension"),r="enu";i&&(i=we(i))&&(r=i.b),n=n.split(/[\s,]+/),i=2,t.getAttribute("srsDimension")?i=$h(t.getAttribute("srsDimension")):t.getAttribute("dimension")?i=$h(t.getAttribute("dimension")):o&&(i=$h(o));for(var a,s,l=[],u=0,c=n.length;u<c;u+=i)o=parseFloat(n[u]),a=parseFloat(n[u+1]),s=3===i?parseFloat(n[u+2]):0,"en"===r.substr(0,2)?l.push(o,a,s):l.push(a,o,s);return l},t.wo=function(t,e){var n=Tu([null],this.Ni,t,e,this);return Ft(n[1][0],n[1][1],n[1][3],n[1][4])},t.ml=function(t,e){var n=Tu(void 0,this.Gd,t,e,this);n&&e[e.length-1].push(n)},t.eo=function(t,e){var n=Tu(void 0,this.Gd,t,e,this);n&&(e[e.length-1][0]=n)},t.Fd={"http://www.opengis.net/gml":{coordinates:pu(Ah.prototype.Qh)}},t.Me={"http://www.opengis.net/gml":{innerBoundaryIs:Ah.prototype.ml,outerBoundaryIs:Ah.prototype.eo}},t.Ni={"http://www.opengis.net/gml":{coordinates:cu(Ah.prototype.Qh)}},t.bg={"http://www.opengis.net/gml":{Point:pu(fh.prototype.Xh),MultiPoint:pu(fh.prototype.Vh),LineString:pu(fh.prototype.ze),MultiLineString:pu(fh.prototype.Uh),LinearRing:pu(fh.prototype.Th),Polygon:pu(fh.prototype.Ae),MultiPolygon:pu(fh.prototype.Wh),Box:pu(Ah.prototype.wo)}},g(Dh,fh),(t=Dh.prototype).Do=function(t,e){var n=Tu([],this.Si,t,e,this);if(n){var i=new Bp(null);return zp(i,n),i}},t.Eo=function(t,e){var n=Tu([],this.Wi,t,e,this);if(n){var i=new Vp(null);return Yp(i,n),i}},t.vg=function(t,e){Su(this.Oi,t,e,this)},t.vi=function(t,e){Su(this.cj,t,e,this)},t.Ho=function(t,e){return Tu([null],this.Xi,t,e,this)},t.Jo=function(t,e){return Tu([null],this.bj,t,e,this)},t.Io=function(t,e){return Tu([null],this.Me,t,e,this)},t.Co=function(t,e){return Tu([null],this.Fd,t,e,this)},t.ol=function(t,e){var n=Tu(void 0,this.Gd,t,e,this);n&&e[e.length-1].push(n)},t.Hj=function(t,e){var n=Tu(void 0,this.Gd,t,e,this);n&&(e[e.length-1][0]=n)},t.Zh=function(t,e){var n=Tu([null],this.dj,t,e,this);if(n&&n[0]){var i,o,r=new xn(null),a=n[0],s=[a.length];for(i=1,o=n.length;i<o;++i)ut(a,n[i]),s.push(a.length);return r.ba("XYZ",a,s),r}},t.Oh=function(t,e){var n=Tu([null],this.Pi,t,e,this);if(n){var i=new Np(null);return i.ba("XYZ",n),i}},t.yo=function(t,e){var n=Tu([null],this.Qi,t,e,this);return Ft(n[1][0],n[1][1],n[2][0],n[2][1])},t.Ao=function(t,e){for(var n,i=ru(t,!1),o=/^\s*([+\-]?\d*\.?\d+(?:[eE][+\-]?\d+)?)\s*/,r=[];n=o.exec(i);)r.push(parseFloat(n[1])),i=i.substr(n[0].length);if(""===i){if(o="enu",(i=e[0].srsName)&&(o=we(i).b),"neu"===o)for(i=0,o=r.length;i<o;i+=3)n=r[i],r[i]=r[i+1],r[i+1]=n;return 2==(i=r.length)&&r.push(0),0===i?void 0:r}},t.Mf=function(t,e){var n=ru(t,!1).replace(/^\s*|\s*$/g,""),i=e[0].srsName,o=t.parentNode.getAttribute("srsDimension"),r="enu";i&&(r=we(i).b),n=n.split(/\s+/),i=2,t.getAttribute("srsDimension")?i=$h(t.getAttribute("srsDimension")):t.getAttribute("dimension")?i=$h(t.getAttribute("dimension")):o&&(i=$h(o));for(var a,s,l=[],u=0,c=n.length;u<c;u+=i)o=parseFloat(n[u]),a=parseFloat(n[u+1]),s=3===i?parseFloat(n[u+2]):0,"en"===r.substr(0,2)?l.push(o,a,s):l.push(a,o,s);return l},t.Fd={"http://www.opengis.net/gml":{pos:pu(Dh.prototype.Ao),posList:pu(Dh.prototype.Mf)}},t.Me={"http://www.opengis.net/gml":{interior:Dh.prototype.ol,exterior:Dh.prototype.Hj}},t.bg={"http://www.opengis.net/gml":{Point:pu(fh.prototype.Xh),MultiPoint:pu(fh.prototype.Vh),LineString:pu(fh.prototype.ze),MultiLineString:pu(fh.prototype.Uh),LinearRing:pu(fh.prototype.Th),Polygon:pu(fh.prototype.Ae),MultiPolygon:pu(fh.prototype.Wh),Surface:pu(Dh.prototype.Zh),MultiSurface:pu(Dh.prototype.Eo),Curve:pu(Dh.prototype.Oh),MultiCurve:pu(Dh.prototype.Do),Envelope:pu(Dh.prototype.yo)}},t.Si={"http://www.opengis.net/gml":{curveMember:cu(Dh.prototype.vg),curveMembers:cu(Dh.prototype.vg)}},t.Wi={"http://www.opengis.net/gml":{surfaceMember:cu(Dh.prototype.vi),surfaceMembers:cu(Dh.prototype.vi)}},t.Oi={"http://www.opengis.net/gml":{LineString:cu(fh.prototype.ze),Curve:cu(Dh.prototype.Oh)}},t.cj={"http://www.opengis.net/gml":{Polygon:cu(fh.prototype.Ae),Surface:cu(Dh.prototype.Zh)}},t.dj={"http://www.opengis.net/gml":{patches:pu(Dh.prototype.Ho)}},t.Pi={"http://www.opengis.net/gml":{segments:pu(Dh.prototype.Jo)}},t.Qi={"http://www.opengis.net/gml":{lowerCorner:cu(Dh.prototype.Mf),upperCorner:cu(Dh.prototype.Mf)}},t.Xi={"http://www.opengis.net/gml":{PolygonPatch:pu(Dh.prototype.Io)}},t.bj={"http://www.opengis.net/gml":{LineStringSegment:pu(Dh.prototype.Co)}},t.Ji=function(t,e,n){var i=n[n.length-1].srsName;i&&t.setAttribute("srsName",i),i=ou(t.namespaceURI,"pos"),t.appendChild(i),t="enu",(n=n[n.length-1].srsName)&&(t=we(n).b),e=e.Z(),Th(i,"en"===t.substr(0,2)?e[0]+" "+e[1]:e[1]+" "+e[0])};var Eh={"http://www.opengis.net/gml":{lowerCorner:fu(Th),upperCorner:fu(Th)}};(t=Dh.prototype).xp=function(t,e,n){var i=n[n.length-1].srsName;i&&t.setAttribute("srsName",i),Du({node:t},Eh,_u,[e[0]+" "+e[1],e[2]+" "+e[3]],n,["lowerCorner","upperCorner"],this)},t.Gi=function(t,e,n){var i=n[n.length-1].srsName;i&&t.setAttribute("srsName",i),i=ou(t.namespaceURI,"posList"),t.appendChild(i),Mh(i,e,n)},t.aj=function(t,e){var n=e[e.length-1],i=n.node,o=n.exteriorWritten;return void 0===o&&(n.exteriorWritten=!0),ou(i.namespaceURI,void 0!==o?"interior":"exterior")},t.Le=function(t,e,n){var i=n[n.length-1].srsName;"PolygonPatch"!==t.nodeName&&i&&t.setAttribute("srsName",i),"Polygon"===t.nodeName||"PolygonPatch"===t.nodeName?(e=e.Vd(),Du({node:t,srsName:i},Rh,this.aj,e,n,void 0,this)):"Surface"===t.nodeName&&(i=ou(t.namespaceURI,"patches"),t.appendChild(i),t=ou(i.namespaceURI,"PolygonPatch"),i.appendChild(t),this.Le(t,e,n))},t.Ge=function(t,e,n){var i=n[n.length-1].srsName;"LineStringSegment"!==t.nodeName&&i&&t.setAttribute("srsName",i),"LineString"===t.nodeName||"LineStringSegment"===t.nodeName?(i=ou(t.namespaceURI,"posList"),t.appendChild(i),Mh(i,e,n)):"Curve"===t.nodeName&&(i=ou(t.namespaceURI,"segments"),t.appendChild(i),t=ou(i.namespaceURI,"LineStringSegment"),i.appendChild(t),this.Ge(t,e,n))},t.Ii=function(t,e,n){var i=(o=n[n.length-1]).srsName,o=o.surface;i&&t.setAttribute("srsName",i),e=e.Wd(),Du({node:t,srsName:i,surface:o},Ph,this.c,e,n,void 0,this)},t.yp=function(t,e,n){var i=n[n.length-1].srsName;i&&t.setAttribute("srsName",i),e=e.je(),Du({node:t,srsName:i},Oh,mu("pointMember"),e,n,void 0,this)},t.Hi=function(t,e,n){var i=(o=n[n.length-1]).srsName,o=o.curve;i&&t.setAttribute("srsName",i),e=e.md(),Du({node:t,srsName:i,curve:o},Ih,this.c,e,n,void 0,this)},t.Ki=function(t,e,n){var i=ou(t.namespaceURI,"LinearRing");t.appendChild(i),this.Gi(i,e,n)},t.Li=function(t,e,n){var i=this.g(e,n);i&&(t.appendChild(i),this.Le(i,e,n))},t.zp=function(t,e,n){var i=ou(t.namespaceURI,"Point");t.appendChild(i),this.Ji(i,e,n)},t.Fi=function(t,e,n){var i=this.g(e,n);i&&(t.appendChild(i),this.Ge(i,e,n))},t.Je=function(t,e,n){var i,o=n[n.length-1],r=M({},o);r.node=t,i=Array.isArray(e)?o.dataProjection?Te(e,o.featureProjection,o.dataProjection):e:Op(e,!0,o),Du(r,Lh,this.g,[i],n,void 0,this)},t.Bi=function(t,e,n){(i=e.Xa())&&t.setAttribute("fid",i);var i,o=(i=n[n.length-1]).featureNS,r=e.a;i.Dc||(i.Dc={},i.Dc[o]={});var a=e.O();e=[];var s,l=[];for(s in a){var u=a[s];null!==u&&(e.push(s),l.push(u),s==r||u instanceof Ae?s in i.Dc[o]||(i.Dc[o][s]=fu(this.Je,this)):s in i.Dc[o]||(i.Dc[o][s]=fu(Th)))}(s=M({},i)).node=t,Du(s,i.Dc,mu(void 0,o),l,n,e)};var Ph={"http://www.opengis.net/gml":{surfaceMember:fu(Dh.prototype.Li),polygonMember:fu(Dh.prototype.Li)}},Oh={"http://www.opengis.net/gml":{pointMember:fu(Dh.prototype.zp)}},Ih={"http://www.opengis.net/gml":{lineStringMember:fu(Dh.prototype.Fi),curveMember:fu(Dh.prototype.Fi)}},Rh={"http://www.opengis.net/gml":{exterior:fu(Dh.prototype.Ki),interior:fu(Dh.prototype.Ki)}},Lh={"http://www.opengis.net/gml":{Curve:fu(Dh.prototype.Ge),MultiCurve:fu(Dh.prototype.Hi),Point:fu(Dh.prototype.Ji),MultiPoint:fu(Dh.prototype.yp),LineString:fu(Dh.prototype.Ge),MultiLineString:fu(Dh.prototype.Hi),LinearRing:fu(Dh.prototype.Gi),Polygon:fu(Dh.prototype.Le),MultiPolygon:fu(Dh.prototype.Ii),Surface:fu(Dh.prototype.Le),MultiSurface:fu(Dh.prototype.Ii),Envelope:fu(Dh.prototype.xp)}},Fh={MultiLineString:"lineStringMember",MultiCurve:"curveMember",MultiPolygon:"polygonMember",MultiSurface:"surfaceMember"};function Nh(t){t=t||{},ph.call(this),this.defaultDataProjection=we("EPSG:4326"),this.b=t.readExtensions}Dh.prototype.c=function(t,e){return ou("http://www.opengis.net/gml",Fh[e[e.length-1].node.nodeName])},Dh.prototype.g=function(t,e){var n,i=(a=e[e.length-1]).multiSurface,o=a.surface,r=a.curve,a=a.multiCurve;return Array.isArray(t)?n="Envelope":"MultiPolygon"===(n=t.X())&&!0===i?n="MultiSurface":"Polygon"===n&&!0===o?n="Surface":"LineString"===n&&!0===r?n="Curve":"MultiLineString"===n&&!0===a&&(n="MultiCurve"),ou("http://www.opengis.net/gml",n)},Dh.prototype.s=function(t,e){e=Pp(this,e);var n=ou("http://www.opengis.net/gml","geom"),i={node:n,srsName:this.srsName,curve:this.i,surface:this.j,multiSurface:this.o,multiCurve:this.l};return e&&M(i,e),this.Je(n,t,[i]),n},Dh.prototype.a=function(t,e){e=Pp(this,e);var n=ou("http://www.opengis.net/gml","featureMembers");n.setAttributeNS("http://www.w3.org/2001/XMLSchema-instance","xsi:schemaLocation",this.schemaLocation);var i={srsName:this.srsName,curve:this.i,surface:this.j,multiSurface:this.o,multiCurve:this.l,featureNS:this.featureNS,featureType:this.featureType};e&&M(i,e);var o=(i=[i])[i.length-1],r=o.featureType,a=o.featureNS,s={};return s[a]={},s[a][r]=fu(this.Bi,this),(o=M({},o)).node=n,Du(o,s,mu(r,a),t,i),n},g(Nh,ph);var jh=[null,"http://www.topografix.com/GPX/1/0","http://www.topografix.com/GPX/1/1"];function Bh(t,e,n){return t.push(parseFloat(e.getAttribute("lon")),parseFloat(e.getAttribute("lat"))),"ele"in n?(t.push(n.ele),delete n.ele):t.push(0),"time"in n?(t.push(n.time),delete n.time):t.push(0),t}function Uh(t,e){var n=e[e.length-1],i=t.getAttribute("href");null!==i&&(n.link=i),Su(Yh,t,e)}function zh(t,e){e[e.length-1].extensionsNode_=t}function Hh(t,e){var n=e[0],i=Tu({flatCoordinates:[]},Kh,t,e);if(i){var o=i.flatCoordinates;delete i.flatCoordinates;var r=new Np(null);return r.ba("XYZM",o),Op(r,!1,n),(n=new eu(r)).G(i),n}}function Vh(t,e){var n=e[0],i=Tu({flatCoordinates:[],ends:[]},Xh,t,e);if(i){var o=i.flatCoordinates;delete i.flatCoordinates;var r=i.ends;delete i.ends;var a=new Bp(null);return a.ba("XYZM",o,r),Op(a,!1,n),(n=new eu(a)).G(i),n}}function qh(t,e){var n,i=e[0],o=Tu({},td,t,e);if(o)return Op(n=new un(n=Bh([],t,o),"XYZM"),!1,i),(i=new eu(n)).G(o),i}var Wh={rte:Hh,trk:Vh,wpt:qh},Gh=Cu(jh,{rte:cu(Hh),trk:cu(Vh),wpt:cu(qh)}),Yh=Cu(jh,{text:du(_h,"linkText"),type:du(_h,"linkType")}),Kh=Cu(jh,{name:du(_h),cmt:du(_h),desc:du(_h),src:du(_h),link:Uh,number:du(xh),extensions:zh,type:du(_h),rtept:function(t,e){var n=Tu({},Zh,t,e);n&&Bh(e[e.length-1].flatCoordinates,t,n)}}),Zh=Cu(jh,{ele:du(bh),time:du(yh)}),Xh=Cu(jh,{name:du(_h),cmt:du(_h),desc:du(_h),src:du(_h),link:Uh,number:du(xh),type:du(_h),extensions:zh,trkseg:function(t,e){var n=e[e.length-1];Su(Jh,t,e),n.ends.push(n.flatCoordinates.length)}}),Jh=Cu(jh,{trkpt:function(t,e){var n=Tu({},Qh,t,e);n&&Bh(e[e.length-1].flatCoordinates,t,n)}}),Qh=Cu(jh,{ele:du(bh),time:du(yh)}),td=Cu(jh,{ele:du(bh),time:du(yh),magvar:du(bh),geoidheight:du(bh),name:du(_h),cmt:du(_h),desc:du(_h),src:du(_h),link:Uh,sym:du(_h),type:du(_h),fix:du(_h),sat:du(xh),hdop:du(bh),vdop:du(bh),pdop:du(bh),ageofdgpsdata:du(bh),dgpsid:du(xh),extensions:zh});function ed(t,e){e||(e=[]);for(var n=0,i=e.length;n<i;++n){var o=e[n];if(t.b){var r=o.get("extensionsNode_")||null;t.b(o,r)}o.set("extensionsNode_",void 0)}}function nd(t,e,n){t.setAttribute("href",e),e=n[n.length-1].properties,Du({node:t},rd,_u,[e.linkText,e.linkType],n,od)}function id(t,e,n){var i=n[n.length-1],o=i.node.namespaceURI,r=i.properties;switch(t.setAttributeNS(null,"lat",e[1]),t.setAttributeNS(null,"lon",e[0]),i.geometryLayout){case"XYZM":0!==e[3]&&(r.time=e[3]);case"XYZ":0!==e[2]&&(r.ele=e[2]);break;case"XYM":0!==e[2]&&(r.time=e[2])}i=ku(r,e="rtept"==t.nodeName?ld[o]:dd[o]),Du({node:t,properties:r},fd,_u,i,n,e)}Nh.prototype.Ph=function(t,e){if(!at(jh,t.namespaceURI))return null;var n=Wh[t.localName];return n&&(n=n(t,[Ep(this,t,e)]))?(ed(this,[n]),n):null},Nh.prototype.lc=function(t,e){if(!at(jh,t.namespaceURI))return[];if("gpx"==t.localName){var n=Tu([],Gh,t,[Ep(this,t,e)]);if(n)return ed(this,n),n}return[]};var od=["text","type"],rd=Cu(jh,{text:fu(Th),type:fu(Th)}),ad=Cu(jh,"name cmt desc src link number type rtept".split(" ")),sd=Cu(jh,{name:fu(Th),cmt:fu(Th),desc:fu(Th),src:fu(Th),link:fu(nd),number:fu(Sh),type:fu(Th),rtept:gu(fu(id))}),ld=Cu(jh,["ele","time"]),ud=Cu(jh,"name cmt desc src link number type trkseg".split(" ")),cd=Cu(jh,{name:fu(Th),cmt:fu(Th),desc:fu(Th),src:fu(Th),link:fu(nd),number:fu(Sh),type:fu(Th),trkseg:gu(fu(function(t,e,n){Du({node:t,geometryLayout:e.f,properties:{}},hd,pd,e.Z(),n)}))}),pd=mu("trkpt"),hd=Cu(jh,{trkpt:fu(id)}),dd=Cu(jh,"ele time magvar geoidheight name cmt desc src link sym type fix sat hdop vdop pdop ageofdgpsdata dgpsid".split(" ")),fd=Cu(jh,{ele:fu(Ch),time:fu(function(t,e){var n=new Date(1e3*e);t.appendChild(iu.createTextNode(n.getUTCFullYear()+"-"+vt(n.getUTCMonth()+1)+"-"+vt(n.getUTCDate())+"T"+vt(n.getUTCHours())+":"+vt(n.getUTCMinutes())+":"+vt(n.getUTCSeconds())+"Z"))}),magvar:fu(Ch),geoidheight:fu(Ch),name:fu(Th),cmt:fu(Th),desc:fu(Th),src:fu(Th),link:fu(nd),sym:fu(Th),type:fu(Th),fix:fu(Th),sat:fu(Sh),hdop:fu(Ch),vdop:fu(Ch),pdop:fu(Ch),ageofdgpsdata:fu(Ch),dgpsid:fu(Sh)}),gd={Point:"wpt",LineString:"rte",MultiLineString:"trk"};function md(t,e){var n=t.W();if(n&&(n=gd[n.X()]))return ou(e[e.length-1].node.namespaceURI,n)}var vd=Cu(jh,{rte:fu(function(t,e,n){var i=n[0],o=e.O();t={node:t,properties:o},(e=e.W())&&(e=Op(e,!0,i),t.geometryLayout=e.f,o.rtept=e.Z()),o=ku(o,i=ad[n[n.length-1].node.namespaceURI]),Du(t,sd,_u,o,n,i)}),trk:fu(function(t,e,n){var i=n[0],o=e.O();t={node:t,properties:o},(e=e.W())&&(e=Op(e,!0,i),o.trkseg=e.md()),o=ku(o,i=ud[n[n.length-1].node.namespaceURI]),Du(t,cd,_u,o,n,i)}),wpt:fu(function(t,e,n){var i=n[0],o=n[n.length-1];o.properties=e.O(),(e=e.W())&&(e=Op(e,!0,i),o.geometryLayout=e.f,id(t,e.Z(),n))})});function yd(){this.defaultDataProjection=null}function bd(t){return"string"==typeof t?t:""}function wd(t){t=t||{},this.defaultDataProjection=null,this.defaultDataProjection=we("EPSG:4326"),this.b=t.altitudeMode?t.altitudeMode:"none"}Nh.prototype.a=function(t,e){e=Pp(this,e);var n=ou("http://www.topografix.com/GPX/1/1","gpx");return n.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:xsi","http://www.w3.org/2001/XMLSchema-instance"),n.setAttributeNS("http://www.w3.org/2001/XMLSchema-instance","xsi:schemaLocation","http://www.topografix.com/GPX/1/1 http://www.topografix.com/GPX/1/1/gpx.xsd"),n.setAttribute("version","1.1"),n.setAttribute("creator","OpenLayers 3"),Du({node:n},vd,md,t,[e]),n},g(yd,Mp),(t=yd.prototype).X=function(){return"text"},t.Rb=function(t,e){return this.ud(bd(t),Pp(this,e))},t.Fa=function(t,e){return this.Kf(bd(t),Pp(this,e))},t.Vc=function(t,e){return this.wd(bd(t),Pp(this,e))},t.Oa=function(t){return bd(t),this.defaultDataProjection},t.Dd=function(t,e){return this.He(t,Pp(this,e))},t.Xb=function(t,e){return this.Ci(t,Pp(this,e))},t.Zc=function(t,e){return this.Ed(t,Pp(this,e))},g(wd,yd);var xd=/^B(\d{2})(\d{2})(\d{2})(\d{2})(\d{5})([NS])(\d{3})(\d{5})([EW])([AV])(\d{5})(\d{5})/,$d=/^H.([A-Z]{3}).*?:(.*)/,_d=/^HFDTE(\d{2})(\d{2})(\d{2})/,kd=/\r\n|\r|\n/;function Cd(t,e){if(this.a={},this.b=[],this.g=0,1<(o=arguments.length)){if(o%2)throw Error("Uneven number of arguments");for(var n=0;n<o;n+=2)this.set(arguments[n],arguments[n+1])}else if(t){var i;if(t instanceof Cd)i=t.N(),n=t.zc();else{var o=[],r=0;for(i in t)o[r++]=i;for(n in i=o,o=[],r=0,t)o[r++]=t[n];n=o}for(o=0;o<i.length;o++)this.set(i[o],n[o])}}function Sd(t){if(t.g!=t.b.length){for(var e=0,n=0;e<t.b.length;){var i=t.b[e];Td(t.a,i)&&(t.b[n++]=i),e++}t.b.length=n}if(t.g!=t.b.length){var o={};for(n=e=0;e<t.b.length;)Td(o,i=t.b[e])||(o[t.b[n++]=i]=1),e++;t.b.length=n}}function Td(t,e){return Object.prototype.hasOwnProperty.call(t,e)}wd.prototype.ud=function(t,e){var n,i,o=this.b,r=t.split(kd),a={},s=[],l=2e3,u=0,c=1,p=-1;for(n=0,i=r.length;n<i;++n){var h;if("B"==(d=r[n]).charAt(0)){if(h=xd.exec(d)){var d=parseInt(h[1],10),f=parseInt(h[2],10),g=parseInt(h[3],10),m=parseInt(h[4],10)+parseInt(h[5],10)/6e4;"S"==h[6]&&(m=-m);var v=parseInt(h[7],10)+parseInt(h[8],10)/6e4;"W"==h[9]&&(v=-v),s.push(v,m),"none"!=o&&s.push("gps"==o?parseInt(h[11],10):"barometric"==o?parseInt(h[12],10):0),(h=Date.UTC(l,u,c,d,f,g))<p&&(h=Date.UTC(l,u,c+1,d,f,g)),s.push(h/1e3),p=h}}else"H"==d.charAt(0)&&((h=_d.exec(d))?(c=parseInt(h[1],10),u=parseInt(h[2],10)-1,l=2e3+parseInt(h[3],10)):(h=$d.exec(d))&&(a[h[1]]=h[2].trim()))}return 0===s.length?null:((r=new Np(null)).ba("none"==o?"XYM":"XYZM",s),(o=new eu(Op(r,!1,e))).G(a),o)},wd.prototype.Kf=function(t,e){var n=this.ud(t,e);return n?[n]:[]},(t=Cd.prototype).wc=function(){return this.g},t.zc=function(){Sd(this);for(var t=[],e=0;e<this.b.length;e++)t.push(this.a[this.b[e]]);return t},t.N=function(){return Sd(this),this.b.concat()},t.Ya=function(){return 0==this.g},t.clear=function(){this.a={},this.g=this.b.length=0},t.remove=function(t){return!!Td(this.a,t)&&(delete this.a[t],this.g--,this.b.length>2*this.g&&Sd(this),!0)},t.get=function(t,e){return Td(this.a,t)?this.a[t]:e},t.set=function(t,e){Td(this.a,t)||(this.g++,this.b.push(t)),this.a[t]=e},t.forEach=function(t,e){for(var n=this.N(),i=0;i<n.length;i++){var o=n[i],r=this.get(o);t.call(e,r,o,this)}},t.clone=function(){return new Cd(this)};var Ad=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#(.*))?$/;function Dd(t,e){var n;this.a=this.l=this.g="",this.o=null,this.f=this.b="",this.c=!1,t instanceof Dd?(this.c=void 0!==e?e:t.c,Md(this,t.g),this.l=t.l,this.a=t.a,Ed(this,t.o),this.b=t.b,Pd(this,t.i.clone()),this.f=t.f):t&&(n=String(t).match(Ad))?(this.c=!!e,Md(this,n[1]||"",!0),this.l=Rd(n[2]||""),this.a=Rd(n[3]||"",!0),Ed(this,n[4]),this.b=Rd(n[5]||"",!0),Pd(this,n[6]||"",!0),this.f=Rd(n[7]||"")):(this.c=!!e,this.i=new Hd(null,0,this.c))}function Md(t,e,n){t.g=n?Rd(e,!0):e,t.g&&(t.g=t.g.replace(/:$/,""))}function Ed(t,e){if(e){if(e=Number(e),isNaN(e)||e<0)throw Error("Bad port number "+e);t.o=e}else t.o=null}function Pd(t,e,n){var i,o;e instanceof Hd?(t.i=e,i=t.i,(o=t.c)&&!i.f&&(Vd(i),i.g=null,i.b.forEach(function(t,e){var n=e.toLowerCase();e!=n&&(this.remove(e),this.remove(n),0<t.length&&(this.g=null,this.b.set(Wd(this,n),function(t){var e=t.length;if(0<e){for(var n=Array(e),i=0;i<e;i++)n[i]=t[i];return n}return[]}(t)),this.a=this.a+t.length))},i)),i.f=o):(n||(e=Ld(e,Ud)),t.i=new Hd(e,0,t.c))}function Od(t){return t instanceof Dd?t.clone():new Dd(t,void 0)}function Id(t,e){t instanceof Dd||(t=Od(t)),e instanceof Dd||(e=Od(e));var n=e,i=(a=t).clone(),o=!!n.g;o?Md(i,n.g):o=!!n.l,o?i.l=n.l:o=!!n.a,o?i.a=n.a:o=null!=n.o;var r=n.b;if(o)Ed(i,n.o);else if(o=!!n.b)if("/"!=r.charAt(0)&&(a.a&&!a.b?r="/"+r:-1!=(a=i.b.lastIndexOf("/"))&&(r=i.b.substr(0,a+1)+r)),".."==(a=r)||"."==a)r="";else if(-1!=a.indexOf("./")||-1!=a.indexOf("/.")){r=0==a.lastIndexOf("/",0);for(var a=a.split("/"),s=[],l=0;l<a.length;){var u=a[l++];"."==u?r&&l==a.length&&s.push(""):".."==u?((1<s.length||1==s.length&&""!=s[0])&&s.pop(),r&&l==a.length&&s.push("")):(s.push(u),r=!0)}r=s.join("/")}else r=a;return o?i.b=r:o=""!==n.i.toString(),o?Pd(i,Rd(n.i.toString())):o=!!n.f,o&&(i.f=n.f),i}function Rd(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Ld(t,e,n){return s(t)?(t=encodeURI(t).replace(e,Fd),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Fd(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Dd.prototype.toString=function(){var t=[],e=this.g;e&&t.push(Ld(e,Nd,!0),":");var n=this.a;return(n||"file"==e)&&(t.push("//"),(e=this.l)&&t.push(Ld(e,Nd,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.o)&&t.push(":",String(n))),(n=this.b)&&(this.a&&"/"!=n.charAt(0)&&t.push("/"),t.push(Ld(n,"/"==n.charAt(0)?Bd:jd,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.f)&&t.push("#",Ld(n,zd)),t.join("")},Dd.prototype.clone=function(){return new Dd(this)};var Nd=/[#\/\?@]/g,jd=/[\#\?:]/g,Bd=/[\#\?]/g,Ud=/[\#\?@]/g,zd=/#/g;function Hd(t,e,n){this.a=this.b=null,this.g=t||null,this.f=!!n}function Vd(n){n.b||(n.b=new Cd,n.a=0,n.g&&function(t,e){if(t)for(var n=t.split("&"),i=0;i<n.length;i++){var o,r=n[i].indexOf("="),a=null;0<=r?(o=n[i].substring(0,r),a=n[i].substring(r+1)):o=n[i],e(o,a?decodeURIComponent(a.replace(/\+/g," ")):"")}}(n.g,function(t,e){n.add(decodeURIComponent(t.replace(/\+/g," ")),e)}))}function qd(t,e){return Vd(t),e=Wd(t,e),Td(t.b.a,e)}function Wd(t,e){var n=String(e);return t.f&&(n=n.toLowerCase()),n}function Gd(t){t=t||{},this.g=t.font,this.i=t.rotation,this.a=t.scale,this.s=t.text,this.o=t.textAlign,this.j=t.textBaseline,this.b=void 0!==t.fill?t.fill:new Ls({color:"#333"}),this.l=void 0!==t.stroke?t.stroke:null,this.f=void 0!==t.offsetX?t.offsetX:0,this.c=void 0!==t.offsetY?t.offsetY:0}function Yd(t){t=t||{},ph.call(this),this.defaultDataProjection=we("EPSG:4326"),this.g=t.defaultStyle?t.defaultStyle:rf,this.c=void 0===t.extractStyles||t.extractStyles,this.l=void 0===t.writeStyles||t.writeStyles,this.b={},this.i=void 0===t.showPointNames||t.showPointNames}(t=Hd.prototype).wc=function(){return Vd(this),this.a},t.add=function(t,e){Vd(this),this.g=null,t=Wd(this,t);var n=this.b.get(t);return n||this.b.set(t,n=[]),n.push(e),this.a=this.a+1,this},t.remove=function(t){return Vd(this),t=Wd(this,t),!!Td(this.b.a,t)&&(this.g=null,this.a=this.a-this.b.get(t).length,this.b.remove(t))},t.clear=function(){this.b=this.g=null,this.a=0},t.Ya=function(){return Vd(this),0==this.a},t.N=function(){Vd(this);for(var t=this.b.zc(),e=this.b.N(),n=[],i=0;i<e.length;i++)for(var o=t[i],r=0;r<o.length;r++)n.push(e[i]);return n},t.zc=function(t){Vd(this);var e=[];if(s(t))qd(this,t)&&(e=Gn(e,this.b.get(Wd(this,t))));else{t=this.b.zc();for(var n=0;n<t.length;n++)e=Gn(e,t[n])}return e},t.set=function(t,e){return Vd(this),this.g=null,qd(this,t=Wd(this,t))&&(this.a=this.a-this.b.get(t).length),this.b.set(t,[e]),this.a=this.a+1,this},t.get=function(t,e){var n=t?this.zc(t):[];return 0<n.length?String(n[0]):e},t.toString=function(){if(this.g)return this.g;if(!this.b)return"";for(var t=[],e=this.b.N(),n=0;n<e.length;n++)for(var i=e[n],o=encodeURIComponent(String(i)),r=(i=this.zc(i),0);r<i.length;r++){var a=o;""!==i[r]&&(a+="="+encodeURIComponent(String(i[r]))),t.push(a)}return this.g=t.join("&")},t.clone=function(){var t=new Hd;return t.g=this.g,this.b&&(t.b=this.b.clone(),t.a=this.a),t},(t=Gd.prototype).Xj=function(){return this.g},t.kk=function(){return this.f},t.lk=function(){return this.c},t.Un=function(){return this.b},t.Vn=function(){return this.i},t.Wn=function(){return this.a},t.Xn=function(){return this.l},t.Ha=function(){return this.s},t.yk=function(){return this.o},t.zk=function(){return this.j},t.bp=function(t){this.g=t},t.mi=function(t){this.f=t},t.ni=function(t){this.c=t},t.ap=function(t){this.b=t},t.Yn=function(t){this.i=t},t.Zn=function(t){this.a=t},t.ip=function(t){this.l=t},t.pi=function(t){this.s=t},t.ri=function(t){this.o=t},t.jp=function(t){this.j=t},g(Yd,ph);var Kd=["http://www.google.com/kml/ext/2.2"],Zd=[null,"http://earth.google.com/kml/2.0","http://earth.google.com/kml/2.1","http://earth.google.com/kml/2.2","http://www.opengis.net/kml/2.2"],Xd=[255,255,255,1],Jd=new Ls({color:Xd}),Qd=[20,2],tf=[64,64],ef=new ea({anchor:Qd,anchorOrigin:"bottom-left",anchorXUnits:"pixels",anchorYUnits:"pixels",crossOrigin:"anonymous",rotation:0,scale:.5,size:tf,src:"https://maps.google.com/mapfiles/kml/pushpin/ylw-pushpin.png"}),nf=new zs({color:Xd,width:1}),of=new Gd({font:"bold 16px Helvetica",fill:Jd,stroke:new zs({color:[51,51,51,1],width:2}),scale:.8}),rf=[new qs({fill:Jd,image:ef,text:of,stroke:nf,zIndex:0})],af={fraction:"fraction",pixels:"pixels"};function sf(t,e){var n,i=[0,0],o="start";t.a&&((r=t.a.ld())&&2==r.length&&(i[0]=t.a.i*r[0]/2,i[1]=-t.a.i*r[1]/2,o="left"));if(I(t.Ha()))n=new Gd({text:e,offsetX:i[0],offsetY:i[1],textAlign:o});else{var r=t.Ha(),a={};for(n in r)a[n]=r[n];(n=a).pi(e),n.ri(o),n.mi(i[0]),n.ni(i[1])}return new qs({text:n})}function lf(i,o,r,a,s){return function(){var t=s,e="";if(t&&this.W()&&(t="Point"===this.W().X()),t&&(e=this.get("name"),t=t&&e),i)return t?(t=sf(i[0],e),i.concat(t)):i;if(o){var n=function t(e,n,i){return Array.isArray(e)?e:"string"==typeof e?(!(e in i)&&"#"+e in i&&(e="#"+e),t(i[e],n,i)):n}(o,r,a);return t?(t=sf(n[0],e),n.concat(t)):n}return t?(t=sf(r[0],e),r.concat(t)):r}}function uf(t){if(t=ru(t,!1),t=/^\s*#?\s*([0-9A-Fa-f]{8})\s*$/.exec(t))return t=t[1],[parseInt(t.substr(6,2),16),parseInt(t.substr(4,2),16),parseInt(t.substr(2,2),16),parseInt(t.substr(0,2),16)/255]}function cf(t){t=ru(t,!1);for(var e,n=[],i=/^\s*([+\-]?\d*\.?\d+(?:e[+\-]?\d+)?)\s*,\s*([+\-]?\d*\.?\d+(?:e[+\-]?\d+)?)(?:\s*,\s*([+\-]?\d*\.?\d+(?:e[+\-]?\d+)?))?\s*/i;e=i.exec(t);)n.push(parseFloat(e[1]),parseFloat(e[2]),e[3]?parseFloat(e[3]):0),t=t.substr(e[0].length);return""!==t?void 0:n}function pf(t){var e=ru(t,!1);return t.baseURI?Id(t.baseURI,e.trim()).toString():e.trim()}function hf(t){if(void 0!==(t=bh(t)))return Math.sqrt(t)}function df(t,e){return Tu(null,Sf,t,e)}function ff(t,e){if(r=Tu({B:[],zi:[]},Af,t,e)){var n,i,o=r.B,r=r.zi;for(n=0,i=Math.min(o.length,r.length);n<i;++n)o[4*n+3]=r[n];return(r=new Np(null)).ba("XYZM",o),r}}function gf(t,e){var n=Tu({},Cf,t,e),i=Tu(null,Df,t,e);if(i){var o=new Np(null);return o.ba("XYZ",i),o.G(n),o}}function mf(t,e){var n=Tu({},Cf,t,e),i=Tu(null,Df,t,e);if(i){var o=new xn(null);return o.ba("XYZ",i,[i.length]),o.G(n),o}}function vf(t,e){var n=Tu([],Rf,t,e);if(!n)return null;if(0===n.length)return new nh(n);var i,o,r,a=!0,s=n[0].X();for(o=1,r=n.length;o<r;++o)if((i=n[o]).X()!=s){a=!1;break}if(a){if("Point"!=s)return"LineString"==s?(zp(i=new Bp(null),n),xf(i,n),i):"Polygon"==s?(Yp(i=new Vp(null),n),xf(i,n),i):"GeometryCollection"==s?new nh(n):null;for(a=(i=n[0]).f,s=i.la(),o=1,r=n.length;o<r;++o)ut(s,(i=n[o]).la());return(i=new Hp(null)).ba(a,s),xf(i,n),i}return new nh(n)}function yf(t,e){var n=Tu({},Cf,t,e),i=Tu(null,Df,t,e);if(i){var o=new un(null);return o.ba("XYZ",i),o.G(n),o}}function bf(t,e){var n=Tu({},Cf,t,e),i=Tu([null],Tf,t,e);if(i&&i[0]){var o,r,a=new xn(null),s=i[0],l=[s.length];for(o=1,r=i.length;o<r;++o)ut(s,i[o]),l.push(s.length);return a.ba("XYZ",s,l),a.G(n),a}}function wf(t,e){if(!(i=Tu({},Vf,t,e)))return null;var n="fillStyle"in i?i.fillStyle:Jd;void 0===(o=i.fill)||o||(n=null);var i,o="imageStyle"in i?i.imageStyle:ef,r="textStyle"in i?i.textStyle:of,a="strokeStyle"in i?i.strokeStyle:nf;return void 0===(i=i.outline)||i||(a=null),[new qs({fill:n,image:o,stroke:a,text:r,zIndex:void 0})]}function xf(t,e){var n,i,o,r,a=e.length,s=Array(e.length),l=Array(e.length);for(o=r=!1,i=0;i<a;++i)n=e[i],s[i]=n.get("extrude"),l[i]=n.get("altitudeMode"),o=o||void 0!==s[i],r=r||l[i];o&&t.set("extrude",s),r&&t.set("altitudeMode",l)}function $f(t,e){Su(kf,t,e)}var _f=Cu(Zd,{value:pu(_h)}),kf=Cu(Zd,{Data:function(t,e){var n=t.getAttribute("name");if(null!==n){var i=Tu(void 0,_f,t,e);i&&(e[e.length-1][n]=i)}},SchemaData:function(t,e){Su(Hf,t,e)}}),Cf=Cu(Zd,{extrude:du(mh),altitudeMode:du(_h)}),Sf=Cu(Zd,{coordinates:pu(cf)}),Tf=Cu(Zd,{innerBoundaryIs:function(t,e){var n=Tu(void 0,Pf,t,e);n&&e[e.length-1].push(n)},outerBoundaryIs:function(t,e){var n=Tu(void 0,jf,t,e);n&&(e[e.length-1][0]=n)}}),Af=Cu(Zd,{when:function(t,e){var n=e[e.length-1].zi,i=ru(t,!1);if(i=/^\s*(\d{4})($|-(\d{2})($|-(\d{2})($|T(\d{2}):(\d{2}):(\d{2})(Z|(?:([+\-])(\d{2})(?::(\d{2}))?)))))\s*$/.exec(i)){var o=Date.UTC(parseInt(i[1],10),i[3]?parseInt(i[3],10)-1:0,i[5]?parseInt(i[5],10):1,i[7]?parseInt(i[7],10):0,i[8]?parseInt(i[8],10):0,i[9]?parseInt(i[9],10):0);if(i[10]&&"Z"!=i[10]){var r="-"==i[11]?-1:1;o=o+60*r*parseInt(i[12],10);i[13]&&(o+=3600*r*parseInt(i[13],10))}n.push(o)}else n.push(0)}},Cu(Kd,{coord:function(t,e){var n=e[e.length-1].B,i=ru(t,!1);(i=/^\s*([+\-]?\d+(?:\.\d*)?(?:e[+\-]?\d*)?)\s+([+\-]?\d+(?:\.\d*)?(?:e[+\-]?\d*)?)\s+([+\-]?\d+(?:\.\d*)?(?:e[+\-]?\d*)?)\s*$/i.exec(i))?n.push(parseFloat(i[1]),parseFloat(i[2]),parseFloat(i[3]),0):n.push(0,0,0,0)}})),Df=Cu(Zd,{coordinates:pu(cf)}),Mf=Cu(Zd,{href:du(pf)},Cu(Kd,{x:du(bh),y:du(bh),w:du(bh),h:du(bh)})),Ef=Cu(Zd,{Icon:du(function(t,e){var n=Tu({},Mf,t,e);return n||null}),heading:du(bh),hotSpot:du(function(t){var e=t.getAttribute("xunits"),n=t.getAttribute("yunits");return{x:parseFloat(t.getAttribute("x")),$f:af[e],y:parseFloat(t.getAttribute("y")),ag:af[n]}}),scale:du(hf)}),Pf=Cu(Zd,{LinearRing:pu(df)}),Of=Cu(Zd,{color:du(uf),scale:du(hf)}),If=Cu(Zd,{color:du(uf),width:du(bh)}),Rf=Cu(Zd,{LineString:cu(gf),LinearRing:cu(mf),MultiGeometry:cu(vf),Point:cu(yf),Polygon:cu(bf)}),Lf=Cu(Kd,{Track:cu(ff)}),Ff=Cu(Zd,{ExtendedData:$f,Link:function(t,e){Su(Nf,t,e)},address:du(_h),description:du(_h),name:du(_h),open:du(mh),phoneNumber:du(_h),visibility:du(mh)}),Nf=Cu(Zd,{href:du(pf)}),jf=Cu(Zd,{LinearRing:pu(df)}),Bf=Cu(Zd,{Style:du(wf),key:du(_h),styleUrl:du(function(t){var e=ru(t,!1).trim();return t.baseURI?Id(t.baseURI,e).toString():e})}),Uf=Cu(Zd,{ExtendedData:$f,MultiGeometry:du(vf,"geometry"),LineString:du(gf,"geometry"),LinearRing:du(mf,"geometry"),Point:du(yf,"geometry"),Polygon:du(bf,"geometry"),Style:du(wf),StyleMap:function(t,e){var n=Tu(void 0,qf,t,e);if(n){var i=e[e.length-1];Array.isArray(n)?i.Style=n:"string"==typeof n&&(i.styleUrl=n)}},address:du(_h),description:du(_h),name:du(_h),open:du(mh),phoneNumber:du(_h),styleUrl:du(pf),visibility:du(mh)},Cu(Kd,{MultiTrack:du(function(t,e){var n=Tu([],Lf,t,e);if(n){var i=new Bp(null);return zp(i,n),i}},"geometry"),Track:du(ff,"geometry")})),zf=Cu(Zd,{color:du(uf),fill:du(mh),outline:du(mh)}),Hf=Cu(Zd,{SimpleData:function(t,e){var n=t.getAttribute("name");if(null!==n){var i=_h(t);e[e.length-1][n]=i}}}),Vf=Cu(Zd,{IconStyle:function(t,e){var n=Tu({},Ef,t,e);if(n){var i,o,r,a,s=e[e.length-1];i=(i=(d="Icon"in n?n.Icon:{}).href)?i:"https://maps.google.com/mapfiles/kml/pushpin/ylw-pushpin.png",(u=n.hotSpot)?(o=[u.x,u.y],r=u.$f,a=u.ag):"https://maps.google.com/mapfiles/kml/pushpin/ylw-pushpin.png"===i?(o=Qd,a=r="pixels"):/^http:\/\/maps\.(?:google|gstatic)\.com\//.test(i)&&(o=[.5,0],a=r="fraction");var l,u=d.x,c=d.y;void 0!==u&&void 0!==c&&(l=[u,c]);u=d.w;var p,h,d=d.h;void 0!==u&&void 0!==d&&(p=[u,d]),void 0!==(d=n.heading)&&(h=C(d)),n=n.scale,"https://maps.google.com/mapfiles/kml/pushpin/ylw-pushpin.png"==i&&(p=tf,void 0===n&&(n=.5)),o=new ea({anchor:o,anchorOrigin:"bottom-left",anchorXUnits:r,anchorYUnits:a,crossOrigin:"anonymous",offset:l,offsetOrigin:"bottom-left",rotation:h,scale:n,size:p,src:i}),s.imageStyle=o}},LabelStyle:function(t,e){var n=Tu({},Of,t,e);n&&(e[e.length-1].textStyle=new Gd({fill:new Ls({color:"color"in n?n.color:Xd}),scale:n.scale}))},LineStyle:function(t,e){var n=Tu({},If,t,e);n&&(e[e.length-1].strokeStyle=new zs({color:"color"in n?n.color:Xd,width:"width"in n?n.width:1}))},PolyStyle:function(t,e){var n=Tu({},zf,t,e);if(n){var i=e[e.length-1];i.fillStyle=new Ls({color:"color"in n?n.color:Xd});var o=n.fill;void 0!==o&&(i.fill=o),void 0!==(n=n.outline)&&(i.outline=n)}}}),qf=Cu(Zd,{Pair:function(t,e){var n=Tu({},Bf,t,e);if(n){var i=n.key;i&&"normal"==i&&((i=n.styleUrl)&&(e[e.length-1]=i),(n=n.Style)&&(e[e.length-1]=n))}}});function Wf(t,e){var n;for(n=e.firstChild;n;n=n.nextSibling)if(n.nodeType==Node.ELEMENT_NODE){var i=Gf(t,n);if(i)return i}}function Gf(t,e){var n;for(n=e.firstElementChild;n;n=n.nextElementSibling)if(at(Zd,n.namespaceURI)&&"name"==n.localName)return _h(n);for(n=e.firstElementChild;n;n=n.nextElementSibling){var i=n.localName;if(at(Zd,n.namespaceURI)&&("Document"==i||"Folder"==i||"Placemark"==i||"kml"==i)&&(i=Gf(t,n)))return i}}function Yf(t,e){var n,i=[];for(n=e.firstChild;n;n=n.nextSibling)n.nodeType==Node.ELEMENT_NODE&&ut(i,Kf(t,n));return i}function Kf(t,e){var n,i=[];for(n=e.firstElementChild;n;n=n.nextElementSibling)if(at(Zd,n.namespaceURI)&&"NetworkLink"==n.localName){var o=Tu({},Ff,n,[]);i.push(o)}for(n=e.firstElementChild;n;n=n.nextElementSibling)o=n.localName,!at(Zd,n.namespaceURI)||"Document"!=o&&"Folder"!=o&&"kml"!=o||ut(i,Kf(t,n));return i}function Zf(t,e){var n,i=[255*(4==(i=Jn(e)).length?i[3]:1),i[2],i[1],i[0]];for(n=0;n<4;++n){var o=parseInt(i[n],10).toString(16);i[n]=1==o.length?"0"+o:o}Th(t,i.join(""))}function Xf(t,e,n){t={node:t};var i,o,r=e.X();"GeometryCollection"==r?(i=e.ff(),o=Sg):"MultiPoint"==r?(i=e.je(),o=Ig):"MultiLineString"==r?(i=e.md(),o=Rg):"MultiPolygon"==r&&(i=e.Wd(),o=Fg),Du(t,mg,o,i,n)}function Jf(t,e,n){Du({node:t},gg,Lg,[e],n)}function Qf(t,e,n){var i={node:t};e.Xa()&&t.setAttribute("id",e.Xa()),t=e.O();var o=e.ec();o&&(o=o.call(e,0))&&(o=Array.isArray(o)?o[0]:o,this.l&&(t.Style=o),(o=o.Ha())&&(t.name=o.Ha())),t=ku(t,o=vg[n[n.length-1].node.namespaceURI]),Du(i,yg,_u,t,n,o),t=n[0],(e=e.W())&&(e=Op(e,!0,t)),Du(i,yg,Sg,[e],n)}function tg(t,e,n){var i=e.la();(t={node:t}).layout=e.f,t.stride=e.va(),Du(t,bg,Pg,[i],n)}function eg(t,e,n){var i=(e=e.Vd()).shift();Du(t={node:t},wg,Og,e,n),Du(t,wg,Ng,[i],n)}function ng(t,e){Ch(t,Math.round(e*e*1e6)/1e6)}(t=Yd.prototype).Gf=function(t,e){var n=Cu(Zd,{Document:uu(this.Gf,this),Folder:uu(this.Gf,this),Placemark:cu(this.Of,this),Style:this.Lo.bind(this),StyleMap:this.Ko.bind(this)});if(n=Tu([],n,t,e,this))return n},t.Of=function(t,e){var n=Tu({geometry:null},Uf,t,e);if(n){var i=new eu;null!==(o=t.getAttribute("id"))&&i.mc(o);var o=e[0],r=n.geometry;return r&&Op(r,!1,o),i.Ua(r),delete n.geometry,this.c&&i.sf(lf(n.Style,n.styleUrl,this.g,this.b,this.i)),delete n.Style,i.G(n),i}},t.Lo=function(t,e){var n=t.getAttribute("id");if(null!==n){var i=wf(t,e);i&&(n=t.baseURI?Id(t.baseURI,"#"+n).toString():"#"+n,this.b[n]=i)}},t.Ko=function(t,e){var n=t.getAttribute("id");if(null!==n){var i=Tu(void 0,qf,t,e);i&&(n=t.baseURI?Id(t.baseURI,"#"+n).toString():"#"+n,this.b[n]=i)}},t.Ph=function(t,e){if(!at(Zd,t.namespaceURI))return null;var n=this.Of(t,[Ep(this,t,e)]);return n||null},t.lc=function(t,e){if(!at(Zd,t.namespaceURI))return[];var n,i;if("Document"==(n=t.localName)||"Folder"==n)return(n=this.Gf(t,[Ep(this,t,e)]))?n:[];if("Placemark"==n)return(n=this.Of(t,[Ep(this,t,e)]))?[n]:[];if("kml"!=n)return[];for(n=[],i=t.firstElementChild;i;i=i.nextElementSibling){var o=this.lc(i,e);o&&ut(n,o)}return n},t.Fo=function(t){return au(t)?Wf(this,t):su(t)?Gf(this,t):"string"==typeof t?Wf(this,t=lu(t)):void 0},t.Go=function(t){var e=[];return au(t)?ut(e,Yf(this,t)):su(t)?ut(e,Kf(this,t)):"string"==typeof t&&ut(e,Yf(this,t=lu(t))),e};var ig=Cu(Zd,["Document","Placemark"]),og=Cu(Zd,{Document:fu(function(t,e,n){Du({node:t},rg,Cg,e,n,void 0,this)}),Placemark:fu(Qf)}),rg=Cu(Zd,{Placemark:fu(Qf)}),ag={Point:"Point",LineString:"LineString",LinearRing:"LinearRing",Polygon:"Polygon",MultiPoint:"MultiGeometry",MultiLineString:"MultiGeometry",MultiPolygon:"MultiGeometry",GeometryCollection:"MultiGeometry"},sg=Cu(Zd,["href"],Cu(Kd,["x","y","w","h"])),lg=Cu(Zd,{href:fu(Th)},Cu(Kd,{x:fu(Ch),y:fu(Ch),w:fu(Ch),h:fu(Ch)})),ug=Cu(Zd,["scale","heading","Icon","hotSpot"]),cg=Cu(Zd,{Icon:fu(function(t,e,n){t={node:t};var i=sg[n[n.length-1].node.namespaceURI],o=ku(e,i);Du(t,lg,_u,o,n,i),o=ku(e,i=sg[Kd[0]]),Du(t,lg,kg,o,n,i)}),heading:fu(Ch),hotSpot:fu(function(t,e){t.setAttribute("x",e.x),t.setAttribute("y",e.y),t.setAttribute("xunits",e.$f),t.setAttribute("yunits",e.ag)}),scale:fu(ng)}),pg=Cu(Zd,["color","scale"]),hg=Cu(Zd,{color:fu(Zf),scale:fu(ng)}),dg=Cu(Zd,["color","width"]),fg=Cu(Zd,{color:fu(Zf),width:fu(Ch)}),gg=Cu(Zd,{LinearRing:fu(tg)}),mg=Cu(Zd,{LineString:fu(tg),Point:fu(tg),Polygon:fu(eg),GeometryCollection:fu(Xf)}),vg=Cu(Zd,"name open visibility address phoneNumber description styleUrl Style".split(" ")),yg=Cu(Zd,{MultiGeometry:fu(Xf),LineString:fu(tg),LinearRing:fu(tg),Point:fu(tg),Polygon:fu(eg),Style:fu(function(t,e,n){t={node:t};var i={},o=e.c,r=e.f,a=e.a;e=e.Ha(),a instanceof ea&&(i.IconStyle=a),e&&(i.LabelStyle=e),r&&(i.LineStyle=r),o&&(i.PolyStyle=o),i=ku(i,e=$g[n[n.length-1].node.namespaceURI]),Du(t,_g,_u,i,n,e)}),address:fu(Th),description:fu(Th),name:fu(Th),open:fu(kh),phoneNumber:fu(Th),styleUrl:fu(Th),visibility:fu(kh)}),bg=Cu(Zd,{coordinates:fu(function(t,e,n){var i,o=(n=n[n.length-1]).layout;n=n.stride,"XY"==o||"XYM"==o?i=2:("XYZ"==o||"XYZM"==o)&&(i=3);var r,a=e.length,s="";if(0<a){for(s+=e[0],o=1;o<i;++o)s+=","+e[o];for(r=n;r<a;r+=n)for(s+=" "+e[r],o=1;o<i;++o)s+=","+e[r+o]}Th(t,s)})}),wg=Cu(Zd,{outerBoundaryIs:fu(Jf),innerBoundaryIs:fu(Jf)}),xg=Cu(Zd,{color:fu(Zf)}),$g=Cu(Zd,["IconStyle","LabelStyle","LineStyle","PolyStyle"]),_g=Cu(Zd,{IconStyle:fu(function(t,e,n){t={node:t};var i={},o=e.Fb(),r=e.ld(),a={href:e.b.j};if(o){a.w=o[0],a.h=o[1];var s=e.Yb(),l=e.Ia();l&&r&&0!==l[0]&&l[1]!==o[1]&&(a.x=l[0],a.y=r[1]-(l[1]+o[1])),s&&0!==s[0]&&s[1]!==o[1]&&(i.hotSpot={x:s[0],$f:"pixels",y:o[1]-s[1],ag:"pixels"})}i.Icon=a,1!==(o=e.i)&&(i.scale=o),0!==(e=e.j)&&(i.heading=e),i=ku(i,e=ug[n[n.length-1].node.namespaceURI]),Du(t,cg,_u,i,n,e)}),LabelStyle:fu(function(t,e,n){t={node:t};var i={},o=e.b;o&&(i.color=o.b),(e=e.a)&&1!==e&&(i.scale=e),i=ku(i,e=pg[n[n.length-1].node.namespaceURI]),Du(t,hg,_u,i,n,e)}),LineStyle:fu(function(t,e,n){t={node:t};var i=dg[n[n.length-1].node.namespaceURI];e=ku({color:e.b,width:e.a},i),Du(t,fg,_u,e,n,i)}),PolyStyle:fu(function(t,e,n){Du({node:t},xg,Eg,[e.b],n)})});function kg(t,e,n){return ou(Kd[0],"gx:"+n)}function Cg(t,e){return ou(e[e.length-1].node.namespaceURI,"Placemark")}function Sg(t,e){if(t)return ou(e[e.length-1].node.namespaceURI,ag[t.X()])}var Tg,Ag,Dg,Mg,Eg=mu("color"),Pg=mu("coordinates"),Og=mu("innerBoundaryIs"),Ig=mu("Point"),Rg=mu("LineString"),Lg=mu("LinearRing"),Fg=mu("Polygon"),Ng=mu("outerBoundaryIs");function jg(t){this.defaultDataProjection=null,t=t||{},this.defaultDataProjection=new ce({code:"",units:"tile-pixels"}),this.b=t.featureClass?t.featureClass:Ml,this.g=t.geometryName?t.geometryName:"geometry",this.a=t.layerName?t.layerName:"layer",this.f=t.layers?t.layers:null}function Bg(t,e,n){for(var i=0,o=0,r=t.length;o<r;++o){var a,s,l=t[o];for(a=0,s=l.length;a<s;++a){var u=l[a];e.push(u.x,u.y)}i+=2*a,n.push(i)}}function Ug(t,e){return new Wg(t,e)}function zg(t,e,n){return new Kg(t,e,n)}function Hg(t){this.Wb=t}function Vg(t){this.Wb=t}function qg(t,e,n){this.Wb=t,this.b=e,this.a=n}function Wg(t,e){qg.call(this,"And",t,e)}function Gg(t,e){qg.call(this,"Or",t,e)}function Yg(t){this.Wb="Not",this.condition=t}function Kg(t,e,n){this.Wb="BBOX",this.geometryName=t,this.extent=e,this.srsName=n}function Zg(t,e){this.Wb=t,this.b=e}function Xg(t,e,n,i){Zg.call(this,t,e),this.g=n,this.a=i}function Jg(t,e,n){Xg.call(this,"PropertyIsEqualTo",t,e,n)}function Qg(t,e,n){Xg.call(this,"PropertyIsNotEqualTo",t,e,n)}function tm(t,e){Xg.call(this,"PropertyIsLessThan",t,e)}function em(t,e){Xg.call(this,"PropertyIsLessThanOrEqualTo",t,e)}function nm(t,e){Xg.call(this,"PropertyIsGreaterThan",t,e)}function im(t,e){Xg.call(this,"PropertyIsGreaterThanOrEqualTo",t,e)}function om(t){Zg.call(this,"PropertyIsNull",t)}function rm(t,e,n){Zg.call(this,"PropertyIsBetween",t),this.a=e,this.g=n}function am(t,e,n,i,o,r){Zg.call(this,"PropertyIsLike",t),this.f=e,this.i=void 0!==n?n:"*",this.c=void 0!==i?i:".",this.g=void 0!==o?o:"!",this.a=r}function sm(){ph.call(this),this.defaultDataProjection=we("EPSG:4326")}function lm(t,e){e[e.length-1].Cd[t.getAttribute("k")]=t.getAttribute("v")}Yd.prototype.a=function(t,e){e=Pp(this,e);var n=ou(Zd[4],"kml");n.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:gx",Kd[0]),n.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:xsi","http://www.w3.org/2001/XMLSchema-instance"),n.setAttributeNS("http://www.w3.org/2001/XMLSchema-instance","xsi:schemaLocation","http://www.opengis.net/kml/2.2 https://developers.google.com/kml/schema/kml22gx.xsd");var i={node:n},o={};1<t.length?o.Document=t:1==t.length&&(o.Placemark=t[0]);var r=ig[n.namespaceURI];o=ku(o,r);return Du(i,og,_u,o,[e],r,this),n},Ag={ja:Tg={}},function(t){"object"==typeof Tg&&void 0!==Ag?Ag.ja=t():("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).Rp=t()}(function(){return function i(o,r,a){function s(n,t){if(!r[n]){if(!o[n]){var e="function"==typeof require&&require;if(!t&&e)return e(n,!0);if(l)return l(n,!0);throw(e=Error("Cannot find module '"+n+"'")).code="MODULE_NOT_FOUND",e}e=r[n]={ja:{}},o[n][0].call(e.ja,function(t){var e=o[n][1][t];return s(e||t)},e,e.ja,i,o,r,a)}return r[n].ja}for(var l="function"==typeof require&&require,t=0;t<a.length;t++)s(a[t]);return s}({1:[function(t,e){function n(t){var e;return t&&t.length&&(t=(e=t).length),t=new Uint8Array(t||0),e&&t.set(e),t.$h=i.$h,t.Zf=i.Zf,t.Sh=i.Sh,t.Ei=i.Ei,t.Nf=i.Nf,t.Di=i.Di,t.Hf=i.Hf,t.Ai=i.Ai,t.toString=i.toString,t.write=i.write,t.slice=i.slice,t.tg=i.tg,t.nj=!0,t}function o(t){for(var e,n,i=t.length,o=[],r=0;r<i;r++){if(55295<(e=t.charCodeAt(r))&&e<57344){if(!n){56319<e||r+1===i?o.push(239,191,189):n=e;continue}if(e<56320){o.push(239,191,189),n=e;continue}e=n-55296<<10|e-56320|65536,n=null}else n&&(o.push(239,191,189),n=null);e<128?o.push(e):e<2048?o.push(e>>6|192,63&e|128):e<65536?o.push(e>>12|224,e>>6&63|128,63&e|128):o.push(e>>18|240,e>>12&63|128,e>>6&63|128,63&e|128)}return o}e.ja=n;var i,r,a,s=t("ieee754");(i={$h:function(t){return(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},Zf:function(t,e){this[e]=t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24},Sh:function(t){return(this[t]|this[t+1]<<8|this[t+2]<<16)+(this[t+3]<<24)},Nf:function(t){return s.read(this,t,!0,23,4)},Hf:function(t){return s.read(this,t,!0,52,8)},Di:function(t,e){return s.write(this,t,e,!0,23,4)},Ai:function(t,e){return s.write(this,t,e,!0,52,8)},toString:function(t,e,n){var i=t="";for(n=Math.min(this.length,n||this.length),e=e||0;e<n;e++){var o=this[e];o<=127?(t+=decodeURIComponent(i)+String.fromCharCode(o),i=""):i+="%"+o.toString(16)}return t+decodeURIComponent(i)},write:function(t,e){for(var n=t===r?a:o(t),i=0;i<n.length;i++)this[e+i]=n[i]},slice:function(t,e){return this.subarray(t,e)},tg:function(t,e){e=e||0;for(var n=0;n<this.length;n++)t[e+n]=this[n]}}).Ei=i.Zf,n.byteLength=function(t){return(a=o(r=t)).length},n.isBuffer=function(t){return!(!t||!t.nj)}},{ieee754:3}],2:[function(i,o){(function(t){function e(t){this.Cb=n.isBuffer(t)?t:new n(t||0),this.da=0,this.length=this.Cb.length}o.ja=e;var n=t.Ap||i("./buffer");e.f=0,e.g=1,e.b=2,e.a=5;var r=Math.pow(2,63);e.prototype={Lf:function(t,e,n){for(n=n||this.length;this.da<n;){var i=this.Da(),o=this.da;t(i>>3,e,this),this.da===o&&this.op(i)}return e},Bo:function(){var t=this.Cb.Nf(this.da);return this.da+=4,t},xo:function(){var t=this.Cb.Hf(this.da);return this.da+=8,t},Da:function(){var t,e,n=this.Cb;return t=127&(e=n[this.da++]),e<128?t:(t|=(127&(e=n[this.da++]))<<7,e<128?t:(t|=(127&(e=n[this.da++]))<<14,e<128?t:(t|=(127&(e=n[this.da++]))<<21,e<128?t:function(t,e){var n,i=e.Cb;if(t+=268435456*(127&(n=i[e.da++])),n<128)return t;if(t+=34359738368*(127&(n=i[e.da++])),n<128)return t;if(t+=4398046511104*(127&(n=i[e.da++])),n<128)return t;if(t+=562949953421312*(127&(n=i[e.da++])),n<128)return t;if(t+=72057594037927940*(127&(n=i[e.da++])),n<128)return t;if((n=i[e.da++])<128)return t+0x8000000000000000*(127&n);throw Error("Expected varint not more than 10 bytes")}(t,this))))},Mo:function(){var t=this.da;if((o=this.Da())<r)return o;for(var e=this.da-2;255===this.Cb[e];)e--;e<t&&(e=t);for(var n=o=0;n<e-t+1;n++)var i=127&~this.Cb[t+n],o=o+(n<4?i<<7*n:i*Math.pow(2,7*n));return-o-1},xd:function(){var t=this.Da();return 1==t%2?(t+1)/-2:t/2},vo:function(){return!!this.Da()},Qf:function(){var t=this.Da()+this.da,e=this.Cb.toString("utf8",this.da,t);return this.da=t,e},op:function(t){if((t&=7)===e.f)for(;127<this.Cb[this.da++];);else if(t===e.b)this.da=this.Da()+this.da;else if(t===e.a)this.da+=4;else{if(t!==e.g)throw Error("Unimplemented type: "+t);this.da+=8}}}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./buffer":1}],3:[function(t,e,n){n.read=function(t,e,n,i,o){var r,a=(1<<(r=8*o-i-1))-1,s=a>>1,l=-7,u=n?-1:1,c=t[e+(o=n?o-1:0)];for(o+=u,n=c&(1<<-l)-1,c>>=-l,l+=r;0<l;n=256*n+t[e+o],o+=u,l-=8);for(r=n&(1<<-l)-1,n>>=-l,l+=i;0<l;r=256*r+t[e+o],o+=u,l-=8);if(0===n)n=1-s;else{if(n===a)return r?NaN:1/0*(c?-1:1);r+=Math.pow(2,i),n-=s}return(c?-1:1)*r*Math.pow(2,n-i)},n.write=function(t,e,n,i,o,r){var a,s=8*r-o-1,l=(1<<s)-1,u=l>>1,c=23===o?Math.pow(2,-24)-Math.pow(2,-77):0;r=i?0:r-1;var p=i?1:-1,h=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||1/0===e?(e=isNaN(e)?1:0,i=l):(i=Math.floor(Math.log(e)/Math.LN2),e*(a=Math.pow(2,-i))<1&&(i--,a*=2),2<=(e=1<=i+u?e+c/a:e+c*Math.pow(2,1-u))*a&&(i++,a/=2),l<=i+u?(e=0,i=l):1<=i+u?(e=(e*a-1)*Math.pow(2,o),i+=u):(e=e*Math.pow(2,u-1)*Math.pow(2,o),i=0));8<=o;t[n+r]=255&e,r+=p,e/=256,o-=8);for(i=i<<o|e,s+=o;0<s;t[n+r]=255&i,r+=p,i/=256,s-=8);t[n+r-p]|=128*h}},{}]},{},[2])(2)}),yu=Ag.ja,Mg={ja:Dg={}},function(t){"object"==typeof Dg&&void 0!==Mg?Mg.ja=t():("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).Up=t()}(function(){return function i(o,r,a){function s(n,t){if(!r[n]){if(!o[n]){var e="function"==typeof require&&require;if(!t&&e)return e(n,!0);if(l)return l(n,!0);throw(e=Error("Cannot find module '"+n+"'")).code="MODULE_NOT_FOUND",e}e=r[n]={ja:{}},o[n][0].call(e.ja,function(t){var e=o[n][1][t];return s(e||t)},e,e.ja,i,o,r,a)}return r[n].ja}for(var l="function"==typeof require&&require,t=0;t<a.length;t++)s(a[t]);return s}({1:[function(t,e){e.ja.ej=t("./lib/vectortile.js"),e.ja.Np=t("./lib/vectortilefeature.js"),e.ja.Op=t("./lib/vectortilelayer.js")},{"./lib/vectortile.js":2,"./lib/vectortilefeature.js":3,"./lib/vectortilelayer.js":4}],2:[function(t,e){function n(t,e,n){3===t&&(t=new i(n,n.Da()+n.da)).length&&(e[t.name]=t)}var i=t("./vectortilelayer");e.ja=function(t,e){this.layers=t.Lf(n,{},e)}},{"./vectortilelayer":4}],3:[function(t,e){function n(t,e,n,i,o){this.properties={},this.extent=n,this.type=0,this.qc=t,this.Qe=-1,this.Id=i,this.Kd=o,t.Lf(r,this,e)}function r(t,e,n){if(1==t)e.Qp=n.Da();else if(2==t)for(t=n.Da()+n.da;n.da<t;){var i=e.Id[n.Da()],o=e.Kd[n.Da()];e.properties[i]=o}else 3==t?e.type=n.Da():4==t&&(e.Qe=n.da)}var l=t("point-geometry");(e.ja=n).b=["Unknown","Point","LineString","Polygon"],n.prototype.Vg=function(){var t=this.qc;t.da=this.Qe;for(var e,n=t.Da()+t.da,i=1,o=0,r=0,a=0,s=[];t.da<n;)if(o||(i=7&(o=t.Da()),o>>=3),o--,1===i||2===i)r+=t.xd(),a+=t.xd(),1===i&&(e&&s.push(e),e=[]),e.push(new l(r,a));else{if(7!==i)throw Error("unknown command "+i);e&&e.push(e[0].clone())}return e&&s.push(e),s},n.prototype.bbox=function(){var t=this.qc;t.da=this.Qe;for(var e=t.Da()+t.da,n=1,i=0,o=0,r=0,a=1/0,s=-1/0,l=1/0,u=-1/0;t.da<e;)if(i||(n=7&(i=t.Da()),i>>=3),i--,1===n||2===n)(o+=t.xd())<a&&(a=o),s<o&&(s=o),(r+=t.xd())<l&&(l=r),u<r&&(u=r);else if(7!==n)throw Error("unknown command "+n);return[a,l,s,u]}},{"point-geometry":5}],4:[function(t,e){function n(t,e){this.version=1,this.name=null,this.extent=4096,this.length=0,this.qc=t,this.Id=[],this.Kd=[],this.Hd=[],t.Lf(i,this,e),this.length=this.Hd.length}function i(t,e,n){15===t?e.version=n.Da():1===t?e.name=n.Qf():5===t?e.extent=n.Da():2===t?e.Hd.push(n.da):3===t?e.Id.push(n.Qf()):4===t&&e.Kd.push(function(t){for(var e=null,n=t.Da()+t.da;t.da<n;)e=1==(e=t.Da()>>3)?t.Qf():2===e?t.Bo():3===e?t.xo():4===e?t.Mo():5===e?t.Da():6===e?t.xd():7===e?t.vo():null;return e}(n))}var o=t("./vectortilefeature.js");(e.ja=n).prototype.feature=function(t){if(t<0||t>=this.Hd.length)throw Error("feature index out of bounds");return this.qc.da=this.Hd[t],t=this.qc.Da()+this.qc.da,new o(this.qc,t,this.extent,this.Id,this.Kd)}},{"./vectortilefeature.js":3}],5:[function(t,e){function n(t,e){this.x=t,this.y=e}(e.ja=n).prototype={clone:function(){return new n(this.x,this.y)},add:function(t){return this.clone().fj(t)},rotate:function(t){return this.clone().qj(t)},round:function(){return this.clone().rj()},angle:function(){return Math.atan2(this.y,this.x)},fj:function(t){return this.x+=t.x,this.y+=t.y,this},qj:function(t){var e=Math.cos(t),n=(t=Math.sin(t))*this.x+e*this.y;return this.x=e*this.x-t*this.y,this.y=n,this},rj:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},n.b=function(t){return t instanceof n?t:Array.isArray(t)?new n(t[0],t[1]):t}},{}]},{},[1])(1)}),bu=Mg.ja,g(jg,Mp),jg.prototype.X=function(){return"arraybuffer"},jg.prototype.Fa=function(t,e){var n,i,o,r=this.f,a=new yu(t),s=(a=new bu.ej(a),[]),l=this.b;for(o in a.layers)if(!r||-1!=r.indexOf(o))for(var u=0,c=(n=a.layers[o]).length;u<c;++u){if(l===Ml){var p=n.feature(u);i=o;var h=p.Vg(),d=[],f=[];Bg(h,f,d);var g=p.type,m=void 0;1===g?m=1===h.length?"Point":"MultiPoint":2===g?m=1===h.length?"LineString":"MultiLineString":3===g&&(m="Polygon"),(p=p.properties)[this.a]=i,i=new this.b(m,f,d,p)}else{if(p=n.feature(u),m=o,f=e,i=new this.b,(d=p.properties)[this.a]=m,0===(m=p.type))m=null;else{Bg(p=p.Vg(),g=[],h=[]);var v=void 0;1===m?v=1===p.length?new un(null):new Hp(null):2===m?v=1===p.length?new Np(null):new Bp(null):3===m&&(v=new xn(null)),v.ba("XY",g,h),m=v}(f=Op(m,!1,Pp(this,f)))&&(d[this.g]=f),i.G(d),i.Ec(this.g)}s.push(i)}return s},jg.prototype.Oa=function(){return this.defaultDataProjection},jg.prototype.c=function(t){this.f=t},g(Vg,Hg),g(qg,Vg),g(Wg,qg),g(Gg,qg),g(Yg,Vg),g(Kg,Hg),g(Zg,Hg),g(Xg,Zg),g(Jg,Xg),g(Qg,Xg),g(tm,Xg),g(em,Xg),g(nm,Xg),g(im,Xg),g(om,Zg),g(rm,Zg),g(am,Zg),g(sm,ph);var um=[null],cm=Cu(um,{nd:function(t,e){e[e.length-1].Rc.push(t.getAttribute("ref"))},tag:lm}),pm=Cu(um,{node:function(t,e){var n=e[0],i=e[e.length-1],o=t.getAttribute("id"),r=[parseFloat(t.getAttribute("lon")),parseFloat(t.getAttribute("lat"))];i.Zg[o]=r;var a=Tu({Cd:{}},hm,t,e);I(a.Cd)||(Op(r=new un(r),!1,n),(n=new eu(r)).mc(o),n.G(a.Cd),i.features.push(n))},way:function(t,e){for(var n=e[0],i=t.getAttribute("id"),o=Tu({Rc:[],Cd:{}},cm,t,e),r=e[e.length-1],a=[],s=0,l=o.Rc.length;s<l;s++)ut(a,r.Zg[o.Rc[s]]);o.Rc[0]==o.Rc[o.Rc.length-1]?(s=new xn(null)).ba("XY",a,[a.length]):(s=new Np(null)).ba("XY",a),Op(s,!1,n),(n=new eu(s)).mc(i),n.G(o.Cd),r.features.push(n)}}),hm=Cu(um,{tag:lm});function dm(t){return t.getAttributeNS("http://www.w3.org/1999/xlink","href")}function fm(){}function gm(){}sm.prototype.lc=function(t,e){var n=Ep(this,t,e);return"osm"==t.localName&&(n=Tu({Zg:{},features:[]},pm,t,[n])).features?n.features:[]},fm.prototype.read=function(t){return au(t)?this.a(t):su(t)?this.b(t):"string"==typeof t?(t=lu(t),this.a(t)):null},g(gm,fm),gm.prototype.a=function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType==Node.ELEMENT_NODE)return this.b(t);return null},gm.prototype.b=function(t){return(t=Tu({},vm,t,[]))?t:null};var mm=[null,"http://www.opengis.net/ows/1.1"],vm=Cu(mm,{ServiceIdentification:du(function(t,e){return Tu({},Dm,t,e)}),ServiceProvider:du(function(t,e){return Tu({},Mm,t,e)}),OperationsMetadata:du(function(t,e){return Tu({},Cm,t,e)})}),ym=Cu(mm,{DeliveryPoint:du(_h),City:du(_h),AdministrativeArea:du(_h),PostalCode:du(_h),Country:du(_h),ElectronicMailAddress:du(_h)}),bm=Cu(mm,{Value:hu(function(t){return _h(t)})}),wm=Cu(mm,{AllowedValues:du(function(t,e){return Tu({},bm,t,e)})}),xm=Cu(mm,{Phone:du(function(t,e){return Tu({},Sm,t,e)}),Address:du(function(t,e){return Tu({},ym,t,e)})}),$m=Cu(mm,{HTTP:du(function(t,e){return Tu({},_m,t,e)})}),_m=Cu(mm,{Get:hu(function(t,e){var n=dm(t);return n?Tu({href:n},Tm,t,e):void 0}),Post:void 0}),km=Cu(mm,{DCP:du(function(t,e){return Tu({},$m,t,e)})}),Cm=Cu(mm,{Operation:function(t,e){var n=t.getAttribute("name"),i=Tu({},km,t,e);i&&(e[e.length-1][n]=i)}}),Sm=Cu(mm,{Voice:du(_h),Facsimile:du(_h)}),Tm=Cu(mm,{Constraint:hu(function(t,e){var n=t.getAttribute("name");return n?Tu({name:n},wm,t,e):void 0})}),Am=Cu(mm,{IndividualName:du(_h),PositionName:du(_h),ContactInfo:du(function(t,e){return Tu({},xm,t,e)})}),Dm=Cu(mm,{Title:du(_h),ServiceTypeVersion:du(_h),ServiceType:du(_h)}),Mm=Cu(mm,{ProviderName:du(_h),ProviderSite:du(dm),ServiceContact:du(function(t,e){return Tu({},Am,t,e)})});function Em(t,e,n,i){var o;o=void 0!==i?i:[];for(var r=i=0;r<e;){var a=t[r++];for(o[i++]=t[r++],o[i++]=a,a=2;a<n;++a)o[i++]=t[r++]}o.length=i}function Pm(t){t=t||{},this.defaultDataProjection=null,this.defaultDataProjection=we("EPSG:4326"),this.b=t.factor?t.factor:1e5,this.a=t.geometryLayout?t.geometryLayout:"XY"}function Om(t,e,n){var i,o,r,a=Array(e);for(i=0;i<e;++i)a[i]=0;for(o=0,r=t.length;o<r;)for(i=0;i<e;++i,++o){var s=t[o],l=s-a[i];a[i]=s,t[o]=l}return Rm(t,n||1e5)}function Im(t,e,n){var i,o,r=Array(e);for(i=0;i<e;++i)r[i]=0;for(t=Lm(t,n||1e5),n=0,o=t.length;n<o;)for(i=0;i<e;++i,++n)r[i]+=t[n],t[n]=r[i];return t}function Rm(t,e){var n,i,o=e||1e5;for(n=0,i=t.length;n<i;++n)t[n]=Math.round(t[n]*o);for(o=0,n=t.length;o<n;++o)i=t[o],t[o]=i<0?~(i<<1):i<<1;for(o="",n=0,i=t.length;n<i;++n){for(var r,a=t[n],s="";32<=a;)r=63+(32|31&a),s+=String.fromCharCode(r),a>>=5;o+=s+=String.fromCharCode(a+63)}return o}function Lm(t,e){var n,i,o=e||1e5,r=[],a=0,s=0;for(n=0,i=t.length;n<i;++n){var l=t.charCodeAt(n)-63;a=a|(31&l)<<s;l<32?(r.push(a),s=a=0):s+=5}for(a=0,s=r.length;a<s;++a)n=r[a],r[a]=1&n?~(n>>1):n>>1;for(a=0,s=r.length;a<s;++a)r[a]/=o;return r}function Fm(t){t=t||{},this.defaultDataProjection=null,this.defaultDataProjection=we(t.defaultDataProjection?t.defaultDataProjection:"EPSG:4326")}function Nm(t,e){var n,i,o,r,a=[];for(o=0,r=t.length;o<r;++o)n=t[o],0<o&&a.pop(),i=0<=n?e[n]:e[~n].slice().reverse(),a.push.apply(a,i);for(n=0,i=a.length;n<i;++n)a[n]=a[n].slice();return a}function jm(t,e,n,i,o){var r,a,s=[];for(r=0,a=(t=t.geometries).length;r<a;++r)s[r]=Bm(t[r],e,n,i,o);return s}function Bm(t,e,n,i,o){var r=t.type,a=zm[r];return e="Point"===r||"MultiPoint"===r?a(t,n,i):a(t,e),(n=new eu).Ua(Op(e,!1,o)),void 0!==t.id&&n.mc(t.id),t.properties&&n.G(t.properties),n}function Um(t,e,n){t[0]=t[0]*e[0]+n[0],t[1]=t[1]*e[1]+n[1]}g(Pm,yd),(t=Pm.prototype).ud=function(t,e){return new eu(this.wd(t,e))},t.Kf=function(t,e){return[this.ud(t,e)]},t.wd=function(t,e){var n=He(this.a),i=Im(t,n,this.b);return Em(i,i.length,n,i),Op(new Np(n=nn(i,0,i.length,n),this.a),!1,Pp(this,e))},t.He=function(t,e){var n=t.W();return n?this.Ed(n,e):""},t.Ci=function(t,e){return this.He(t[0],e)},t.Ed=function(t,e){var n=(t=Op(t,!0,Pp(this,e))).la(),i=t.va();return Em(n,n.length,i,n),Om(n,i,this.b)},g(Fm,Ip),Fm.prototype.Jf=function(t,e){if("Topology"!=t.type)return[];var n,i=null,o=null;t.transform&&(i=(n=t.transform).scale,o=n.translate);var r=t.arcs;if(n){n=i;var a,s,l=o;for(a=0,s=r.length;a<s;++a){var u,c,p,h=r[a],d=n,f=l,g=0,m=0;for(c=0,p=h.length;c<p;++c)g+=(u=h[c])[0],m+=u[1],u[0]=g,u[1]=m,Um(u,d,f)}}for(n=[],a=0,s=(l=P(t.objects)).length;a<s;++a)"GeometryCollection"===l[a].type?(h=l[a],n.push.apply(n,jm(h,r,i,o,e))):(h=l[a],n.push(Bm(h,r,i,o,e)));return n},Fm.prototype.Oa=function(){return this.defaultDataProjection};var zm={Point:function(t,e,n){return t=t.coordinates,e&&n&&Um(t,e,n),new un(t)},LineString:function(t,e){return new Np(Nm(t.arcs,e))},Polygon:function(t,e){var n,i,o=[];for(n=0,i=t.arcs.length;n<i;++n)o[n]=Nm(t.arcs[n],e);return new xn(o)},MultiPoint:function(t,e,n){var i,o;if(t=t.coordinates,e&&n)for(i=0,o=t.length;i<o;++i)Um(t[i],e,n);return new Hp(t)},MultiLineString:function(t,e){var n,i,o=[];for(n=0,i=t.arcs.length;n<i;++n)o[n]=Nm(t.arcs[n],e);return new Bp(o)},MultiPolygon:function(t,e){var n,i,o,r,a,s,l=[];for(a=0,s=t.arcs.length;a<s;++a){for(i=[],o=0,r=(n=t.arcs[a]).length;o<r;++o)i[o]=Nm(n[o],e);l[a]=i}return new Vp(l)}};function Hm(t){t=t||{},this.i=t.featureType,this.g=t.featureNS,this.b=t.gmlFormat?t.gmlFormat:new Dh,this.c=t.schemaLocation?t.schemaLocation:"http://www.opengis.net/wfs http://schemas.opengis.net/wfs/1.1.0/wfs.xsd",ph.call(this)}function Vm(t,e){for(var n=e.firstChild;n;n=n.nextSibling)if(n.nodeType==Node.ELEMENT_NODE)return Wm(t,n)}g(Hm,ph),Hm.prototype.lc=function(t,e){var n={featureType:this.i,featureNS:this.g};return M(n,Ep(this,t,e||{})),n=[n],this.b.b["http://www.opengis.net/gml"].featureMember=cu(fh.prototype.vd),(n=Tu([],this.b.b,t,n,this.b))||(n=[]),n},Hm.prototype.o=function(t){return au(t)?Xm(t):su(t)?Tu({},Zm,t,[]):"string"==typeof t?Xm(t=lu(t)):void 0},Hm.prototype.l=function(t){return au(t)?Vm(this,t):su(t)?Wm(this,t):"string"==typeof t?Vm(this,t=lu(t)):void 0};var qm={"http://www.opengis.net/gml":{boundedBy:du(fh.prototype.ye,"bounds")}};function Wm(t,e){var n={},i=$h(e.getAttribute("numberOfFeatures"));return n.numberOfFeatures=i,Tu(n,qm,e,[],t.b)}var Gm={"http://www.opengis.net/wfs":{totalInserted:du(xh),totalUpdated:du(xh),totalDeleted:du(xh)}},Ym={"http://www.opengis.net/ogc":{FeatureId:cu(function(t){return t.getAttribute("fid")})}},Km={"http://www.opengis.net/wfs":{Feature:function(t,e){Su(Ym,t,e)}}},Zm={"http://www.opengis.net/wfs":{TransactionSummary:du(function(t,e){return Tu({},Gm,t,e)},"transactionSummary"),InsertResults:du(function(t,e){return Tu([],Km,t,e)},"insertIds")}};function Xm(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType==Node.ELEMENT_NODE)return Tu({},Zm,t,[])}var Jm={"http://www.opengis.net/wfs":{PropertyName:fu(Th)}};function Qm(t,e){var n=ou("http://www.opengis.net/ogc","Filter"),i=ou("http://www.opengis.net/ogc","FeatureId");n.appendChild(i),i.setAttribute("fid",e),t.appendChild(n)}var tv={"http://www.opengis.net/wfs":{Insert:fu(function(t,e,n){var i=ou((i=n[n.length-1]).featureNS,i.featureType);t.appendChild(i),Dh.prototype.Bi(i,e,n)}),Update:fu(function(t,e,n){var i=n[n.length-1],o=i.featureType,r=(r=i.featurePrefix)||"feature",a=i.featureNS;if(t.setAttribute("typeName",r+":"+o),t.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:"+r,a),void 0!==(o=e.Xa())){a=[];for(var s=0,l=(r=e.N()).length;s<l;s++){var u=e.get(r[s]);void 0!==u&&a.push({name:r[s],value:u})}Du({node:t,srsName:i.srsName},tv,mu("Property"),a,n),Qm(t,o)}}),Delete:fu(function(t,e,n){n=(o=n[n.length-1]).featureType;var i=(i=o.featurePrefix)||"feature",o=o.featureNS;t.setAttribute("typeName",i+":"+n),t.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:"+i,o),void 0!==(e=e.Xa())&&Qm(t,e)}),Property:fu(function(t,e,n){var i=ou("http://www.opengis.net/wfs","Name");t.appendChild(i),Th(i,e.name),void 0!==e.value&&null!==e.value&&(i=ou("http://www.opengis.net/wfs","Value"),t.appendChild(i),e.value instanceof Ae?Dh.prototype.Je(i,e.value,n):Th(i,e.value))}),Native:fu(function(t,e){e.wp&&t.setAttribute("vendorId",e.wp),void 0!==e.Yo&&t.setAttribute("safeToIgnore",e.Yo),void 0!==e.value&&Th(t,e.value)})}};function ev(t,e,n){t={node:t};var i=e.b;Du(t,rv,mu(i.Wb),[i],n),e=e.a,Du(t,rv,mu(e.Wb),[e],n)}function nv(t,e){void 0!==e.a&&t.setAttribute("matchCase",e.a.toString()),ov(t,e.b),iv("Literal",t,""+e.g)}function iv(t,e,n){Th(t=ou("http://www.opengis.net/ogc",t),n),e.appendChild(t)}function ov(t,e){iv("PropertyName",t,e)}var rv={"http://www.opengis.net/wfs":{Query:fu(function(t,e,n){var i=n[n.length-1],o=i.featurePrefix,r=i.featureNS,a=i.propertyNames,s=i.srsName;t.setAttribute("typeName",(o?o+":":"")+e),s&&t.setAttribute("srsName",s),r&&t.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:"+o,r),(e=M({},i)).node=t,Du(e,Jm,mu("PropertyName"),a,n),(i=i.filter)&&(a=ou("http://www.opengis.net/ogc","Filter"),t.appendChild(a),Du({node:a},rv,mu(i.Wb),[i],n))})},"http://www.opengis.net/ogc":{And:fu(ev),Or:fu(ev),Not:fu(function(t,e,n){e=e.condition,Du({node:t},rv,mu(e.Wb),[e],n)}),BBOX:fu(function(t,e,n){n[n.length-1].srsName=e.srsName,ov(t,e.geometryName),Dh.prototype.Je(t,e.extent,n)}),PropertyIsEqualTo:fu(nv),PropertyIsNotEqualTo:fu(nv),PropertyIsLessThan:fu(nv),PropertyIsLessThanOrEqualTo:fu(nv),PropertyIsGreaterThan:fu(nv),PropertyIsGreaterThanOrEqualTo:fu(nv),PropertyIsNull:fu(function(t,e){ov(t,e.b)}),PropertyIsBetween:fu(function(t,e){ov(t,e.b),iv("LowerBoundary",t,""+e.a),iv("UpperBoundary",t,""+e.g)}),PropertyIsLike:fu(function(t,e){t.setAttribute("wildCard",e.i),t.setAttribute("singleChar",e.c),t.setAttribute("escapeChar",e.g),void 0!==e.a&&t.setAttribute("matchCase",e.a.toString()),ov(t,e.b),iv("Literal",t,""+e.f)})}};function av(t){t=t||{},this.defaultDataProjection=null,this.b=void 0!==t.splitCollection&&t.splitCollection}function sv(t){return 0===(t=t.Z()).length?"":t[0]+" "+t[1]}function lv(t){for(var e=[],n=0,i=(t=t.Z()).length;n<i;++n)e.push(t[n][0]+" "+t[n][1]);return e.join(",")}function uv(t){for(var e=[],n=0,i=(t=t.Vd()).length;n<i;++n)e.push("("+lv(t[n])+")");return e.join(",")}function cv(t){var e=t.X();return t=(0,pv[e])(t),e=e.toUpperCase(),0===t.length?e+" EMPTY":e+"("+t+")"}Hm.prototype.j=function(t){var e,n=ou("http://www.opengis.net/wfs","GetFeature");if(n.setAttribute("service","WFS"),n.setAttribute("version","1.1.0"),t&&(t.handle&&n.setAttribute("handle",t.handle),t.outputFormat&&n.setAttribute("outputFormat",t.outputFormat),void 0!==t.maxFeatures&&n.setAttribute("maxFeatures",t.maxFeatures),t.resultType&&n.setAttribute("resultType",t.resultType),void 0!==t.startIndex&&n.setAttribute("startIndex",t.startIndex),void 0!==t.count&&n.setAttribute("count",t.count),e=t.filter,t.bbox)){var i=zg(t.geometryName,t.bbox,t.srsName);e=e?Ug(e,i):i}return n.setAttributeNS("http://www.w3.org/2001/XMLSchema-instance","xsi:schemaLocation",this.c),i=t.featureTypes,t=[{node:n,srsName:t.srsName,featureNS:t.featureNS?t.featureNS:this.g,featurePrefix:t.featurePrefix,geometryName:t.geometryName,filter:e,propertyNames:t.propertyNames?t.propertyNames:[]}],(e=M({},t[t.length-1])).node=n,Du(e,rv,mu("Query"),i,t),n},Hm.prototype.U=function(t,e,n,i){var o,r,a=[],s=ou("http://www.opengis.net/wfs","Transaction");return s.setAttribute("service","WFS"),s.setAttribute("version","1.1.0"),i&&(o=i.gmlOptions?i.gmlOptions:{},i.handle&&s.setAttribute("handle",i.handle)),s.setAttributeNS("http://www.w3.org/2001/XMLSchema-instance","xsi:schemaLocation",this.c),t&&(r={node:s,featureNS:i.featureNS,featureType:i.featureType,featurePrefix:i.featurePrefix,srsName:i.srsName},M(r,o),Du(r,tv,mu("Insert"),t,a)),e&&(r={node:s,featureNS:i.featureNS,featureType:i.featureType,featurePrefix:i.featurePrefix,srsName:i.srsName},M(r,o),Du(r,tv,mu("Update"),e,a)),n&&Du({node:s,featureNS:i.featureNS,featureType:i.featureType,featurePrefix:i.featurePrefix,srsName:i.srsName},tv,mu("Delete"),n,a),i.nativeElements&&Du({node:s,featureNS:i.featureNS,featureType:i.featureType,featurePrefix:i.featurePrefix,srsName:i.srsName},tv,mu("Native"),i.nativeElements,a),s},Hm.prototype.Pf=function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType==Node.ELEMENT_NODE)return this.Be(t);return null},Hm.prototype.Be=function(t){if(t.firstElementChild&&t.firstElementChild.firstElementChild)for(t=(t=t.firstElementChild.firstElementChild).firstElementChild;t;t=t.nextElementSibling)if(0!==t.childNodes.length&&(1!==t.childNodes.length||3!==t.firstChild.nodeType)){var e=[{}];return this.b.ye(t,e),we(e.pop().srsName)}return null},g(av,yd);var pv={Point:sv,LineString:lv,Polygon:uv,MultiPoint:function(t){for(var e=[],n=0,i=(t=t.je()).length;n<i;++n)e.push("("+sv(t[n])+")");return e.join(",")},MultiLineString:function(t){for(var e=[],n=0,i=(t=t.md()).length;n<i;++n)e.push("("+lv(t[n])+")");return e.join(",")},MultiPolygon:function(t){for(var e=[],n=0,i=(t=t.Wd()).length;n<i;++n)e.push("("+uv(t[n])+")");return e.join(",")},GeometryCollection:function(t){for(var e=[],n=0,i=(t=t.ff()).length;n<i;++n)e.push(cv(t[n]));return e.join(",")}};function hv(t){this.a=t,this.b=-1}function dv(t){var e=t.a.charAt(++t.b),n={position:t.b,value:e};if("("==e)n.type=2;else if(","==e)n.type=5;else if(")"==e)n.type=3;else if("0"<=e&&e<="9"||"."==e||"-"==e){n.type=4;e=t.b;for(var i,o=!1,r=!1;"."==i?o=!0:"e"!=i&&"E"!=i||(r=!0),"0"<=(i=t.a.charAt(++t.b))&&i<="9"||"."==i&&(void 0===o||!o)||!r&&("e"==i||"E"==i)||r&&("-"==i||"+"==i););t=parseFloat(t.a.substring(e,t.b--)),n.value=t}else if("a"<=e&&e<="z"||"A"<=e&&e<="Z"){for(n.type=1,e=t.b;"a"<=(i=t.a.charAt(++t.b))&&i<="z"||"A"<=i&&i<="Z";);t=t.a.substring(e,t.b--).toUpperCase(),n.value=t}else{if(" "==e||"\t"==e||"\r"==e||"\n"==e)return dv(t);if(""!==e)throw Error("Unexpected character: "+e);n.type=6}return n}function fv(t){this.a=t}function gv(t){for(var e=[],n=0;n<2;++n){var i=t.b;if(!t.match(4))break;e.push(i.value)}if(2==e.length)return e;throw Error(bv(t))}function mv(t){for(var e=[gv(t)];t.match(5);)e.push(gv(t));return e}function vv(t){for(var e=[t.Df()];t.match(5);)e.push(t.Df());return e}function yv(t){var e=1==t.b.type&&"EMPTY"==t.b.value;return e&&(t.b=dv(t.a)),e}function bv(t){return"Unexpected `"+t.b.value+"` at position "+t.b.position+" in `"+t.a.a+"`"}(t=av.prototype).ud=function(t,e){var n=this.wd(t,e);if(n){var i=new eu;return i.Ua(n),i}return null},t.Kf=function(t,e){for(var n=[],i=this.wd(t,e),o=[],r=0,a=(n=this.b&&"GeometryCollection"==i.X()?i.c:[i]).length;r<a;++r)(i=new eu).Ua(n[r]),o.push(i);return o},t.wd=function(t,e){var n;return(n=new fv(new hv(t))).b=dv(n.a),(n=function t(e){var n=e.b;if(e.match(1)){var i=n.value;if("GEOMETRYCOLLECTION"==i){t:{if(e.match(2)){for(n=[];n.push(t(e)),e.match(5););if(e.match(3)){e=n;break t}}else if(yv(e)){e=[];break t}throw Error(bv(e))}return new nh(e)}var o=xv[i],n=wv[i];if(!o||!n)throw Error("Invalid geometry type: "+i);return e=o.call(e),new n(e)}throw Error(bv(e))}(n))?Op(n,!1,e):null},t.He=function(t,e){var n=t.W();return n?this.Ed(n,e):""},t.Ci=function(t,e){if(1==t.length)return this.He(t[0],e);for(var n=[],i=0,o=t.length;i<o;++i)n.push(t[i].W());return n=new nh(n),this.Ed(n,e)},t.Ed=function(t,e){return cv(Op(t,!0,e))},(t=fv.prototype).match=function(t){return(t=this.b.type==t)&&(this.b=dv(this.a)),t},t.Ef=function(){if(this.match(2)){var t=gv(this);if(this.match(3))return t}else if(yv(this))return null;throw Error(bv(this))},t.Df=function(){if(this.match(2)){var t=mv(this);if(this.match(3))return t}else if(yv(this))return[];throw Error(bv(this))},t.Ff=function(){if(this.match(2)){var t=vv(this);if(this.match(3))return t}else if(yv(this))return[];throw Error(bv(this))},t.io=function(){if(this.match(2)){var t;if(2==this.b.type)for(t=[this.Ef()];this.match(5);)t.push(this.Ef());else t=mv(this);if(this.match(3))return t}else if(yv(this))return[];throw Error(bv(this))},t.ho=function(){if(this.match(2)){var t=vv(this);if(this.match(3))return t}else if(yv(this))return[];throw Error(bv(this))},t.jo=function(){if(this.match(2)){for(var t=[this.Ff()];this.match(5);)t.push(this.Ff());if(this.match(3))return t}else if(yv(this))return[];throw Error(bv(this))};var wv={POINT:un,LINESTRING:Np,POLYGON:xn,MULTIPOINT:Hp,MULTILINESTRING:Bp,MULTIPOLYGON:Vp},xv={POINT:fv.prototype.Ef,LINESTRING:fv.prototype.Df,POLYGON:fv.prototype.Ff,MULTIPOINT:fv.prototype.io,MULTILINESTRING:fv.prototype.ho,MULTIPOLYGON:fv.prototype.jo};function $v(){this.version=void 0}function _v(t,e){return Tu({},Hv,t,e)}function kv(t,e){return Tu({},jv,t,e)}function Cv(t,e){var n=_v(t,e);if(n){var i=[$h(t.getAttribute("width")),$h(t.getAttribute("height"))];return n.size=i,n}}function Sv(t,e){return Tu([],Vv,t,e)}g($v,fm),$v.prototype.a=function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType==Node.ELEMENT_NODE)return this.b(t);return null},$v.prototype.b=function(t){return this.version=t.getAttribute("version").trim(),(t=Tu({version:this.version},Av,t,[]))?t:null};var Tv=[null,"http://www.opengis.net/wms"],Av=Cu(Tv,{Service:du(function(t,e){return Tu({},Mv,t,e)}),Capability:du(function(t,e){return Tu({},Dv,t,e)})}),Dv=Cu(Tv,{Request:du(function(t,e){return Tu({},Nv,t,e)}),Exception:du(function(t,e){return Tu([],Iv,t,e)}),Layer:du(function(t,e){return Tu({},Rv,t,e)})}),Mv=Cu(Tv,{Name:du(_h),Title:du(_h),Abstract:du(_h),KeywordList:du(Sv),OnlineResource:du(dm),ContactInformation:du(function(t,e){return Tu({},Ev,t,e)}),Fees:du(_h),AccessConstraints:du(_h),LayerLimit:du(xh),MaxWidth:du(xh),MaxHeight:du(xh)}),Ev=Cu(Tv,{ContactPersonPrimary:du(function(t,e){return Tu({},Pv,t,e)}),ContactPosition:du(_h),ContactAddress:du(function(t,e){return Tu({},Ov,t,e)}),ContactVoiceTelephone:du(_h),ContactFacsimileTelephone:du(_h),ContactElectronicMailAddress:du(_h)}),Pv=Cu(Tv,{ContactPerson:du(_h),ContactOrganization:du(_h)}),Ov=Cu(Tv,{AddressType:du(_h),Address:du(_h),City:du(_h),StateOrProvince:du(_h),PostCode:du(_h),Country:du(_h)}),Iv=Cu(Tv,{Format:cu(_h)}),Rv=Cu(Tv,{Name:du(_h),Title:du(_h),Abstract:du(_h),KeywordList:du(Sv),CRS:hu(_h),EX_GeographicBoundingBox:du(function(t,e){if(r=Tu({},Fv,t,e)){var n=r.westBoundLongitude,i=r.southBoundLatitude,o=r.eastBoundLongitude,r=r.northBoundLatitude;return void 0===n||void 0===i||void 0===o||void 0===r?void 0:[n,i,o,r]}}),BoundingBox:hu(function(t){var e=[wh(t.getAttribute("minx")),wh(t.getAttribute("miny")),wh(t.getAttribute("maxx")),wh(t.getAttribute("maxy"))],n=[wh(t.getAttribute("resx")),wh(t.getAttribute("resy"))];return{crs:t.getAttribute("CRS"),extent:e,res:n}}),Dimension:hu(function(t){return{name:t.getAttribute("name"),units:t.getAttribute("units"),unitSymbol:t.getAttribute("unitSymbol"),default:t.getAttribute("default"),multipleValues:vh(t.getAttribute("multipleValues")),nearestValue:vh(t.getAttribute("nearestValue")),current:vh(t.getAttribute("current")),values:_h(t)}}),Attribution:du(function(t,e){return Tu({},Lv,t,e)}),AuthorityURL:hu(function(t,e){var n=_v(t,e);if(n)return n.name=t.getAttribute("name"),n}),Identifier:hu(_h),MetadataURL:hu(function(t,e){var n=_v(t,e);if(n)return n.type=t.getAttribute("type"),n}),DataURL:hu(_v),FeatureListURL:hu(_v),Style:hu(function(t,e){return Tu({},zv,t,e)}),MinScaleDenominator:du(bh),MaxScaleDenominator:du(bh),Layer:hu(function(t,e){var n=e[e.length-1],i=Tu({},Rv,t,e);if(i){var o=vh(t.getAttribute("queryable"));return void 0===o&&(o=n.queryable),i.queryable=void 0!==o&&o,void 0===(o=$h(t.getAttribute("cascaded")))&&(o=n.cascaded),i.cascaded=o,void 0===(o=vh(t.getAttribute("opaque")))&&(o=n.opaque),i.opaque=void 0!==o&&o,void 0===(o=vh(t.getAttribute("noSubsets")))&&(o=n.noSubsets),i.noSubsets=void 0!==o&&o,(o=wh(t.getAttribute("fixedWidth")))||(o=n.fixedWidth),i.fixedWidth=o,(o=wh(t.getAttribute("fixedHeight")))||(o=n.fixedHeight),i.fixedHeight=o,["Style","CRS","AuthorityURL"].forEach(function(t){t in n&&(i[t]=(i[t]||[]).concat(n[t]))}),"EX_GeographicBoundingBox BoundingBox Dimension Attribution MinScaleDenominator MaxScaleDenominator".split(" ").forEach(function(t){t in i||(i[t]=n[t])}),i}})}),Lv=Cu(Tv,{Title:du(_h),OnlineResource:du(dm),LogoURL:du(Cv)}),Fv=Cu(Tv,{westBoundLongitude:du(bh),eastBoundLongitude:du(bh),southBoundLatitude:du(bh),northBoundLatitude:du(bh)}),Nv=Cu(Tv,{GetCapabilities:du(kv),GetMap:du(kv),GetFeatureInfo:du(kv)}),jv=Cu(Tv,{Format:hu(_h),DCPType:hu(function(t,e){return Tu({},Bv,t,e)})}),Bv=Cu(Tv,{HTTP:du(function(t,e){return Tu({},Uv,t,e)})}),Uv=Cu(Tv,{Get:du(_v),Post:du(_v)}),zv=Cu(Tv,{Name:du(_h),Title:du(_h),Abstract:du(_h),LegendURL:hu(Cv),StyleSheetURL:du(_v),StyleURL:du(_v)}),Hv=Cu(Tv,{Format:du(_h),OnlineResource:du(dm)}),Vv=Cu(Tv,{Keyword:cu(_h)});function qv(t){t=t||{},this.g="http://mapserver.gis.umn.edu/mapserver",this.b=new Ah,this.c=t.layers?t.layers:null,ph.call(this)}function Wv(){this.g=new gm}function Gv(t){var e=_h(t).split(" ");if(e&&2==e.length)return t=+e[0],e=+e[1],isNaN(t)||isNaN(e)?void 0:[t,e]}g(qv,ph),qv.prototype.lc=function(t,e){var n={};e&&M(n,Ep(this,t,e));var i=[n];t.setAttribute("namespaceURI",this.g);var o=t.localName;n=[];if(0!==t.childNodes.length){if("msGMLOutput"==o)for(var r=0,a=t.childNodes.length;r<a;r++){var s=t.childNodes[r];if(s.nodeType===Node.ELEMENT_NODE){var l=i[0],u=s.localName.replace("_layer","");if(!this.c||at(this.c,u)){u+="_feature",l.featureType=u,l.featureNS=this.g;var c={};c[u]=cu(this.b.If,this.b),l=Cu([l.featureNS,null],c),s.setAttribute("namespaceURI",this.g),(s=Tu([],l,s,i,this.b))&&ut(n,s)}}}"FeatureCollection"==o&&(i=Tu([],this.b.b,t,[{}],this.b))&&(n=i)}return n},g(Wv,fm),Wv.prototype.a=function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType==Node.ELEMENT_NODE)return this.b(t);return null},Wv.prototype.b=function(t){var e=t.getAttribute("version").trim(),n=this.g.b(t);return n?(n.version=e,(n=Tu(n,Zv,t,[]))?n:null):null};var Yv=[null,"http://www.opengis.net/wmts/1.0"],Kv=[null,"http://www.opengis.net/ows/1.1"],Zv=Cu(Yv,{Contents:du(function(t,e){return Tu({},Xv,t,e)})}),Xv=Cu(Yv,{Layer:hu(function(t,e){return Tu({},Jv,t,e)}),TileMatrixSet:hu(function(t,e){return Tu({},iy,t,e)})}),Jv=Cu(Yv,{Style:hu(function(t,e){var n=Tu({},Qv,t,e);if(n){var i="true"===t.getAttribute("isDefault");return n.isDefault=i,n}}),Format:hu(_h),TileMatrixSetLink:hu(function(t,e){return Tu({},ty,t,e)}),Dimension:hu(function(t,e){return Tu({},ey,t,e)}),ResourceURL:hu(function(t){var e=t.getAttribute("format"),n=t.getAttribute("template");t=t.getAttribute("resourceType");var i={};return e&&(i.format=e),n&&(i.template=n),t&&(i.resourceType=t),i})},Cu(Kv,{Title:du(_h),Abstract:du(_h),WGS84BoundingBox:du(function(t,e){var n=Tu([],ny,t,e);return 2!=n.length?void 0:At(n)}),Identifier:du(_h)})),Qv=Cu(Yv,{LegendURL:hu(function(t){var e={};return e.format=t.getAttribute("format"),e.href=dm(t),e})},Cu(Kv,{Title:du(_h),Identifier:du(_h)})),ty=Cu(Yv,{TileMatrixSet:du(_h)}),ey=Cu(Yv,{Default:du(_h),Value:hu(_h)},Cu(Kv,{Identifier:du(_h)})),ny=Cu(Kv,{LowerCorner:cu(Gv),UpperCorner:cu(Gv)}),iy=Cu(Yv,{WellKnownScaleSet:du(_h),TileMatrix:hu(function(t,e){return Tu({},oy,t,e)})},Cu(Kv,{SupportedCRS:du(_h),Identifier:du(_h)})),oy=Cu(Yv,{TopLeftCorner:du(Gv),ScaleDenominator:du(bh),TileWidth:du(xh),TileHeight:du(xh),MatrixWidth:du(xh),MatrixHeight:du(xh)},Cu(Kv,{Identifier:du(_h)}));function ry(t){et.call(this),t=t||{},this.a=null,this.c=ke,this.f=void 0,B(this,it("projection"),this.Nl,this),B(this,it("tracking"),this.Ol,this),void 0!==t.projection&&this.dh(we(t.projection)),void 0!==t.trackingOptions&&this.si(t.trackingOptions),this.ge(void 0!==t.tracking&&t.tracking)}function ay(t,e,n){ze.call(this),this.Vf(t,e||0,n)}function sy(t){var e=t.B[t.a]-t.B[0];return e*e+(t=t.B[t.a+1]-t.B[1])*t}function ly(t,e,n){for(var i,o,r,a,s,l=[],u=t(0),c=t(1),p=e(u),h=e(c),d=[c,u],f=[h,p],g=[1,0],m={},v=1e5;0<--v&&0<g.length;)r=g.pop(),u=d.pop(),p=f.pop(),(c=r.toString())in m||(l.push(p[0],p[1]),m[c]=!0),a=g.pop(),c=d.pop(),h=f.pop(),_((o=e(i=t(s=(r+a)/2)))[0],o[1],p[0],p[1],h[0],h[1])<n?(l.push(h[0],h[1]),m[c=a.toString()]=!0):(g.push(a,s,s,r),f.push(h,o,o,p),d.push(c,i,i,u));return l}function uy(t){t=t||{},this.c=this.o=null,this.g=this.i=1/0,this.f=this.l=-1/0,this.A=this.U=1/0,this.D=this.C=-1/0,this.Ba=void 0!==t.targetSize?t.targetSize:100,this.R=void 0!==t.maxLines?t.maxLines:100,this.b=[],this.a=[],this.ya=void 0!==t.strokeStyle?t.strokeStyle:cy,this.v=this.j=void 0,this.s=null,this.setMap(void 0!==t.map?t.map:null)}g(ry,et),(t=ry.prototype).ka=function(){this.ge(!1),et.prototype.ka.call(this)},t.Nl=function(){var t=this.ah();t&&(this.c=_e(we("EPSG:4326"),t),this.a&&this.set("position",this.c(this.a)))},t.Ol=function(){if(zo){var t=this.bh();t&&void 0===this.f?this.f=y.navigator.geolocation.watchPosition(this.qo.bind(this),this.ro.bind(this),this.Mg()):t||void 0===this.f||(y.navigator.geolocation.clearWatch(this.f),this.f=void 0)}},t.qo=function(t){t=t.coords,this.set("accuracy",t.accuracy),this.set("altitude",null===t.altitude?void 0:t.altitude),this.set("altitudeAccuracy",null===t.altitudeAccuracy?void 0:t.altitudeAccuracy),this.set("heading",null===t.heading?void 0:C(t.heading)),this.a?(this.a[0]=t.longitude,this.a[1]=t.latitude):this.a=[t.longitude,t.latitude];var e=this.c(this.a);this.set("position",e),this.set("speed",null===t.speed?void 0:t.speed),(t=_n(ks,this.a,t.accuracy)).rc(this.c),this.set("accuracyGeometry",t),this.u()},t.ro=function(t){t.type="error",this.ge(!1),this.b(t)},t.Mj=function(){return this.get("accuracy")},t.Nj=function(){return this.get("accuracyGeometry")||null},t.Pj=function(){return this.get("altitude")},t.Qj=function(){return this.get("altitudeAccuracy")},t.Ll=function(){return this.get("heading")},t.Ml=function(){return this.get("position")},t.ah=function(){return this.get("projection")},t.wk=function(){return this.get("speed")},t.bh=function(){return this.get("tracking")},t.Mg=function(){return this.get("trackingOptions")},t.dh=function(t){this.set("projection",t)},t.ge=function(t){this.set("tracking",t)},t.si=function(t){this.set("trackingOptions",t)},g(ay,ze),(t=ay.prototype).clone=function(){var t=new ay(null),e=this.B.slice();return Ve(t,this.f,e),t.u(),t},t.sb=function(t,e,n,i){var o=this.B;t-=o[0];var r=e-o[1];if((e=t*t+r*r)<i){if(0===e)for(i=0;i<this.a;++i)n[i]=o[i];else for(i=this.wf()/Math.sqrt(e),n[0]=o[0]+i*t,n[1]=o[1]+i*r,i=2;i<this.a;++i)n[i]=o[i];return n.length=this.a,e}return i},t.Bc=function(t,e){var n,i=t-(n=this.B)[0];return i*i+(n=e-n[1])*n<=sy(this)},t.rd=function(){return this.B.slice(0,this.a)},t.Od=function(t){var e=this.B,n=e[this.a]-e[0];return Ft(e[0]-n,e[1]-n,e[0]+n,e[1]+n,t)},t.wf=function(){return Math.sqrt(sy(this))},t.X=function(){return"Circle"},t.Ka=function(t){var e=this.H();return!!ee(t,e)&&(e=this.rd(),t[0]<=e[0]&&t[2]>=e[0]||t[1]<=e[1]&&t[3]>=e[1]||Vt(t,this.sg,this))},t.jm=function(t){var e=this.a,n=this.B[e]-this.B[0],i=t.slice();for(i[e]=i[0]+n,n=1;n<e;++n)i[e+n]=t[n];Ve(this,this.f,i),this.u()},t.Vf=function(t,e,n){if(t){var i;for(qe(this,n,t,0),this.B||(this.B=[]),t=Qe(n=this.B,t),n[t++]=n[0]+e,e=1,i=this.a;e<i;++e)n[t++]=n[e];n.length=t}else Ve(this,"XY",null);this.u()},t.km=function(t){this.B[this.a]=this.B[0]+t,this.u()};var cy=new zs({color:"rgba(0,0,0,0.2)"}),py=[90,45,30,20,10,5,2,1,.5,.2,.1,.05,.01,.005,.002,.001];function hy(t,e,n,i,o,r,a){var s,l,u,c,p,h=a;return s=e,l=n,u=i,c=t.c,p=o,e=ly(function(t){return[s,l+(u-l)*t]},$e(we("EPSG:4326"),c),p),(h=void 0!==t.b[h]?t.b[h]:new Np(null)).ba("XY",e),ee(h.H(),r)&&(t.b[a++]=h),a}function dy(t,e,n,i,o){var r,a,s,l,u,c=o;return r=e,a=t.f,s=t.g,l=t.c,u=n,e=ly(function(t){return[a+(s-a)*t,r]},$e(we("EPSG:4326"),l),u),(c=void 0!==t.a[c]?t.a[c]:new Np(null)).ba("XY",e),ee(c.H(),i)&&(t.a[o++]=c),o}function fy(t,e,n,i,o,r,a){Br.call(this,t,e,n,0,i),this.j=o,this.g=new Image,null!==r&&(this.g.crossOrigin=r),this.i={},this.c=null,this.state=0,this.o=a}function gy(t,e,n,i,o){Ni.call(this,t,e),this.s=n,this.g=new Image,null!==i&&(this.g.crossOrigin=i),this.c={},this.j=null,this.v=o}function my(t){t.j.forEach(H),t.j=null}function vy(t){t=t||{},ba.call(this,{handleEvent:re}),this.c=t.formatConstructors?t.formatConstructors:[],this.j=t.projection?we(t.projection):null,this.a=null,this.target=t.target?t.target:null}function yy(t){var e,n,i;for(e=0,n=(t=t.dataTransfer.files).length;e<n;++e){i=t.item(e);var o=new FileReader;o.addEventListener("load",this.o.bind(this,i)),o.readAsText(i)}}function by(t){t.stopPropagation(),t.preventDefault(),t.dataTransfer.dropEffect="copy"}(t=uy.prototype).Pl=function(){return this.o},t.ik=function(){return this.b},t.qk=function(){return this.a},t.Rg=function(t){var e=t.vectorContext,n=t.frameState,i=n.extent,o=(t=n.viewState).center,r=t.projection,a=t.resolution;if(t=a*a/(4*(t=n.pixelRatio)*t),!this.c||!xe(this.c,r)){var s=we("EPSG:4326"),l=r.H(),u=r.i,c=Te(u,s,r),p=u[2],h=u[1],d=u[0],f=c[3],g=c[2],m=c[1];c=c[0];this.i=u[3],this.g=p,this.l=h,this.f=d,this.U=f,this.A=g,this.C=m,this.D=c,this.j=$e(s,r),this.v=$e(r,s),this.s=this.v(Yt(l)),this.c=r}for(r.a&&(s=te(r=r.H()),(n=n.focus[0])<r[0]||n>r[2])&&(n=s*Math.ceil((r[0]-n)/s),i=[i[0]+n,i[1],i[2]+n,i[3]]),n=this.s[0],r=this.s[1],s=-1,u=Math.pow(this.Ba*a,2),p=[],h=[],a=0,l=py.length;a<l&&(d=py[a]/2,p[0]=n-d,p[1]=r-d,h[0]=n+d,h[1]=r+d,this.j(p,p),this.j(h,h),!((d=Math.pow(h[0]-p[0],2)+Math.pow(h[1]-p[1],2))<=u));++a)s=py[a];if(-1==(a=s))this.b.length=this.a.length=0;else{for(o=(n=this.v(o))[0],n=n[1],r=this.R,u=(s=Te(s=[Math.max(i[0],this.D),Math.max(i[1],this.C),Math.min(i[2],this.A),Math.min(i[3],this.U)],this.c,"EPSG:4326"))[3],h=s[1],l=hy(this,p=x(o=Math.floor(o/a)*a,this.f,this.g),h,u,t,i,0),s=0;p!=this.f&&s++<r;)l=hy(this,p=Math.max(p-a,this.f),h,u,t,i,l);for(p=x(o,this.f,this.g),s=0;p!=this.g&&s++<r;)l=hy(this,p=Math.min(p+a,this.g),h,u,t,i,l);for(this.b.length=l,l=dy(this,o=x(n=Math.floor(n/a)*a,this.l,this.i),t,i,0),s=0;o!=this.l&&s++<r;)l=dy(this,o=Math.max(o-a,this.l),t,i,l);for(o=x(n,this.l,this.i),s=0;o!=this.i&&s++<r;)l=dy(this,o=Math.min(o+a,this.i),t,i,l);this.a.length=l}for(e.Sb(null,this.ya),t=0,o=this.b.length;t<o;++t)a=this.b[t],e.hd(a,null);for(t=0,o=this.a.length;t<o;++t)a=this.a[t],e.hd(a,null)},t.setMap=function(t){this.o&&(this.o.J("postcompose",this.Rg,this),this.o.render()),t&&(t.I("postcompose",this.Rg,this),t.render()),this.o=t},g(fy,Br),fy.prototype.a=function(t){return void 0===t?this.g:(t=O(t))in this.i?this.i[t]:(e=I(this.i)?this.g:this.g.cloneNode(!1),this.i[t]=e);var e},fy.prototype.s=function(){this.state=3,this.c.forEach(H),this.c=null,Ur(this)},fy.prototype.v=function(){void 0===this.resolution&&(this.resolution=Zt(this.extent)/this.g.height),this.state=2,this.c.forEach(H),this.c=null,Ur(this)},fy.prototype.load=function(){0!=this.state&&3!=this.state||(this.state=1,Ur(this),this.c=[U(this.g,"error",this.s,this),U(this.g,"load",this.v,this)],this.o(this,this.j))},g(gy,Ni),(t=gy.prototype).ka=function(){1==this.state&&my(this),this.a&&W(this.a),this.state=5,ji(this),Ni.prototype.ka.call(this)},t.$a=function(t){if(void 0===t)return this.g;var e=O(t);return e in this.c?this.c[e]:(t=I(this.c)?this.g:this.g.cloneNode(!1),this.c[e]=t)},t.ib=function(){return this.s},t.Ql=function(){this.state=3,my(this),ji(this)},t.Rl=function(){this.state=this.g.naturalWidth&&this.g.naturalHeight?2:4,my(this),ji(this)},t.load=function(){0!=this.state&&3!=this.state||(this.state=1,ji(this),this.j=[U(this.g,"error",this.Ql,this),U(this.g,"load",this.Rl,this)],this.v(this,this.s))},g(vy,ba),vy.prototype.o=function(t,e){var n=e.target.result,i=this.v,o=this.j;o||(o=i.aa().l);var r,a,s=[];for(r=0,a=(i=this.c).length;r<a;++r){var l=new i[r],u={featureProjection:o};try{s=l.Fa(n,u)}catch(t){s=null}if(s&&0<s.length)break}this.b(new xy(wy,this,t,s,o))},vy.prototype.setMap=function(t){this.a&&(this.a.forEach(H),this.a=null),ba.prototype.setMap.call(this,t),t&&(t=this.target?this.target:t.a,this.a=[B(t,"drop",yy,this),B(t,"dragenter",by,this),B(t,"dragover",by,this),B(t,"drop",by,this)])};var wy="addfeatures";function xy(t,e,n,i,o){G.call(this,t,e),this.features=i,this.file=n,this.projection=o}function $y(t){t=t||{},Ia.call(this,{handleDownEvent:Cy,handleDragEvent:_y,handleUpEvent:ky}),this.s=t.condition?t.condition:Ma,this.a=this.c=void 0,this.j=0,this.A=void 0!==t.duration?t.duration:400}function _y(t){if(Pa(t)){var e=t.map,n=e.Za(),i=t.pixel;if(t=i[0]-n[0]/2,i=n[1]/2-i[1],n=Math.atan2(i,t),t=Math.sqrt(t*t+i*i),i=e.aa(),e.render(),void 0!==this.c){var o=n-this.c;wa(e,i,i.La()-o)}this.c=n,void 0!==this.a&&$a(e,i,n=this.a*(i.$()/t)),void 0!==this.a&&(this.j=this.a/t),this.a=t}}function ky(t){if(!Pa(t))return!0;var e=(t=t.map).aa();En(e,-1);var n=this.j-1,i=e.La();wa(t,e,i=e.constrainRotation(i,0),void 0,void 0);i=e.$();var o=this.A;return $a(t,e,i=e.constrainResolution(i,0,n),void 0,o),this.j=0,!1}function Cy(t){return!(!Pa(t)||!this.s(t))&&(En(t.map.aa(),1),this.a=this.c=void 0,!0)}function Sy(t,e){G.call(this,t),this.feature=e}function Ty(t){var e,n,i;if(Ia.call(this,{handleDownEvent:Dy,handleEvent:Ay,handleUpEvent:My}),this.za=null,this.S=!1,this.Hc=t.source?t.source:null,this.qb=t.features?t.features:null,this.Cj=t.snapTolerance?t.snapTolerance:12,this.Y=t.type,this.c=("Point"===(e=this.Y)||"MultiPoint"===e?n=Fy:"LineString"===e||"MultiLineString"===e?n=Ny:"Polygon"===e||"MultiPolygon"===e?n=jy:"Circle"===e&&(n=By),n),this.Sa=t.minPoints?t.minPoints:this.c===jy?3:2,this.Aa=t.maxPoints?t.maxPoints:1/0,this.Ne=t.finishCondition?t.finishCondition:re,!(r=t.geometryFunction))if("Circle"===this.Y)r=function(t,e){var n=e||new ay([NaN,NaN]);return n.Vf(t[0],Math.sqrt(Ct(t[0],t[1]))),n};else{var o,r;(r=this.c)===Fy?o=un:r===Ny?o=Np:r===jy&&(o=xn),r=function(t,e){var n=e;return n?n.pa(t):n=new o(t),n}}this.D=r,this.T=this.A=this.a=this.R=this.j=this.s=null,this.Fj=t.clickTolerance?t.clickTolerance*t.clickTolerance:36,this.qa=new Xs({source:new Bu({useSpatialIndex:!1,wrapX:!!t.wrapX&&t.wrapX}),style:t.style?t.style:(i=Ks(),function(t){return i[t.W().X()]})}),this.Hb=t.geometryName,this.Bj=t.condition?t.condition:Da,this.ta=t.freehandCondition?t.freehandCondition:Ma,B(this,it("active"),this.yi,this)}function Ay(t){this.c!==Ny&&this.c!==jy||!this.ta(t)||(this.S=!0);var e=!this.S;return this.S&&t.type===Ar?(Iy(this,t),e=!1):t.type===Dr?e=Ey(this,t):t.type===Tr&&(e=!1),La.call(this,t)&&e}function Dy(t){return this.Bj(t)?(this.za=t.pixel,!0):!!this.S&&(this.za=t.pixel,this.s||Oy(this,t),!0)}function My(t){this.S=!1;var e=this.za,n=t.pixel,i=e[0]-n[0];e=e[1]-n[1],n=!0;return i*i+e*e<=this.Fj&&(Ey(this,t),this.s?this.c===By?this.jd():Py(this,t)?this.Ne(t)&&this.jd():Iy(this,t):(Oy(this,t),this.c===Fy&&this.jd()),n=!1),n}function Ey(t,e){if(t.s){var n,i=e.coordinate,o=t.j.W();t.c===Fy?n=t.a:t.c===jy?(n=(n=t.a[0])[n.length-1],Py(t,e)&&(i=t.s.slice())):n=(n=t.a)[n.length-1],n[0]=i[0],n[1]=i[1],t.D(t.a,o),t.R&&t.R.W().pa(i),o instanceof xn&&t.c!==jy?(t.A||(t.A=new eu(new Np(null))),o=o.Hg(0),(i=t.A.W()).ba(o.f,o.la())):t.T&&(i=t.A.W()).pa(t.T),Ly(t)}else i=e.coordinate.slice(),t.R?t.R.W().pa(i):(t.R=new eu(new un(i)),Ly(t));return!0}function Py(t,e){var n=!1;if(t.j){var i=!1,o=[t.s];if(t.c===Ny?i=t.a.length>t.Sa:t.c===jy&&(i=t.a[0].length>t.Sa,o=[t.a[0][0],t.a[0][t.a[0].length-2]]),i){i=e.map;for(var r=0,a=o.length;r<a;r++){var s=o[r],l=i.Ga(s),u=(n=(u=e.pixel)[0]-l[0],l=u[1]-l[1],t.S&&t.ta(e)?1:t.Cj);if(n=Math.sqrt(n*n+l*l)<=u){t.s=s;break}}}}return n}function Oy(t,e){var n=e.coordinate;t.s=n,t.c===Fy?t.a=n.slice():t.c===jy?(t.a=[[n.slice(),n.slice()]],t.T=t.a[0]):(t.a=[n.slice(),n.slice()],t.c===By&&(t.T=t.a)),t.T&&(t.A=new eu(new Np(t.T))),n=t.D(t.a),t.j=new eu,t.Hb&&t.j.Ec(t.Hb),t.j.Ua(n),Ly(t),t.b(new Sy("drawstart",t.j))}function Iy(t,e){var n,i,o=e.coordinate,r=t.j.W();t.c===Ny?(t.s=o.slice(),(i=t.a).push(o.slice()),n=i.length>t.Aa,t.D(i,r)):t.c===jy&&((i=t.a[0]).push(o.slice()),(n=i.length>t.Aa)&&(t.s=i[0]),t.D(t.a,r)),Ly(t),n&&t.jd()}function Ry(t){t.s=null;var e=t.j;return e&&(t.j=null,t.R=null,t.A=null,t.qa.ha().clear(!0)),e}function Ly(t){var e=[];t.j&&e.push(t.j),t.A&&e.push(t.A),t.R&&e.push(t.R),(t=t.qa.ha()).clear(!0),t.Jc(e)}g(xy,G),g($y,Ia),g(Sy,G),g(Ty,Ia),(t=Ty.prototype).setMap=function(t){Ia.prototype.setMap.call(this,t),this.yi()},t.Qo=function(){var t,e=this.j.W();this.c===Ny?((t=this.a).splice(-2,1),this.D(t,e)):this.c===jy&&((t=this.a[0]).splice(-2,1),this.A.W().pa(t),this.D(this.a,e)),0===t.length&&(this.s=null),Ly(this)},t.jd=function(){var t=Ry(this),e=this.a,n=t.W();this.c===Ny?(e.pop(),this.D(e,n)):this.c===jy&&(e[0].pop(),e[0].push(e[0][0]),this.D(e,n)),"MultiPoint"===this.Y?t.Ua(new Hp([e])):"MultiLineString"===this.Y?t.Ua(new Bp([e])):"MultiPolygon"===this.Y&&t.Ua(new Vp([e])),this.b(new Sy("drawend",t)),this.qb&&this.qb.push(t),this.Hc&&this.Hc.rb(t)},t.rm=function(t){var e=t.W();this.j=t,this.a=e.Z(),t=this.a[this.a.length-1],this.s=t.slice(),this.a.push(t.slice()),Ly(this),this.b(new Sy("drawstart",this.j))},t.Gc=ae,t.yi=function(){var t=this.v,e=this.f();t&&e||Ry(this),this.qa.setMap(e?t:null)};var Fy="Point",Ny="LineString",jy="Polygon",By="Circle";function Uy(t,e,n){G.call(this,t),this.features=e,this.mapBrowserEvent=n}function zy(t){var e;Ia.call(this,{handleDownEvent:Gy,handleDragEvent:Yy,handleEvent:Zy,handleUpEvent:Ky}),this.Hb=t.condition?t.condition:Oa,this.Sa=function(t){return Da(t)&&Aa(t)},this.qb=t.deleteCondition?t.deleteCondition:this.Sa,this.Aa=this.c=null,this.qa=[0,0],this.D=this.T=!1,this.a=new Iu,this.R=void 0!==t.pixelTolerance?t.pixelTolerance:10,this.s=this.ta=!1,this.j=[],this.S=new Xs({source:new Bu({useSpatialIndex:!1,wrapX:!!t.wrapX}),style:t.style?t.style:(e=Ks(),function(){return e.Point}),updateWhileAnimating:!0,updateWhileInteracting:!0}),this.za={Point:this.ym,LineString:this.kh,LinearRing:this.kh,Polygon:this.zm,MultiPoint:this.wm,MultiLineString:this.vm,MultiPolygon:this.xm,GeometryCollection:this.um},this.A=t.features,this.A.forEach(this.xf,this),B(this.A,"add",this.sm,this),B(this.A,"remove",this.tm,this),this.Y=null}function Hy(t,e){t.D||(t.D=!0,t.b(new Uy("modifystart",t.A,e)))}function Vy(t,e){!function(t,e){var n=t.a,i=[];n.forEach(function(t){e===t.feature&&i.push(t)});for(var o=i.length-1;0<=o;--o)n.remove(i[o])}(t,e),t.c&&0===t.A.dc()&&(t.S.ha().nb(t.c),t.c=null),z(e,"change",t.jh,t)}function qy(t,e){var n=t.c;n?n.W().pa(e):(n=new eu(new un(e)),t.c=n,t.S.ha().rb(n))}function Wy(t,e){return t.index-e.index}function Gy(t){if(!this.Hb(t))return!1;if(Xy(this,t.pixel,t.map),this.j.length=0,this.D=!1,e=this.c){var e,n=[],i=At([e=e.W().Z()]),o={};(i=Fu(this.a,i)).sort(Wy);for(var r=0,a=i.length;r<a;++r){var s=i[r],l=s.na,u=O(s.feature),c=s.depth;c&&(u+="-"+c.join("-")),o[u]||(o[u]=Array(2)),_t(l[0],e)&&!o[u][0]?(this.j.push([s,0]),o[u][0]=s):_t(l[1],e)&&!o[u][1]?("LineString"!==s.geometry.X()&&"MultiLineString"!==s.geometry.X()||!o[u][0]||0!==o[u][0].index)&&(this.j.push([s,1]),o[u][1]=s):O(l)in this.Aa&&!o[u][0]&&!o[u][1]&&n.push([s,e])}for(n.length&&Hy(this,t),t=n.length-1;0<=t;--t)this.nl.apply(this,n[t])}return!!this.c}function Yy(t){this.T=!1,Hy(this,t),t=t.coordinate;for(var e=0,n=this.j.length;e<n;++e){for(var i=(l=this.j[e])[0],o=i.depth,r=i.geometry,a=r.Z(),s=i.na,l=l[1];t.length<r.va();)t.push(0);switch(r.X()){case"Point":a=t,s[0]=s[1]=t;break;case"MultiPoint":a[i.index]=t,s[0]=s[1]=t;break;case"LineString":a[i.index+l]=t,s[l]=t;break;case"MultiLineString":case"Polygon":a[o[0]][i.index+l]=t,s[l]=t;break;case"MultiPolygon":a[o[1]][o[0]][i.index+l]=t,s[l]=t}i=r,this.s=!0,i.pa(a),this.s=!1}qy(this,t)}function Ky(t){for(var e,n=this.j.length-1;0<=n;--n)e=this.j[n][0],Ru(this.a,At(e.na),e);return this.D&&(this.b(new Uy("modifyend",this.A,t)),this.D=!1),!1}function Zy(t){return!(t instanceof $r)||(An((this.Y=t).map.aa())[1]||t.type!=Dr||this.C||(this.qa=t.pixel,Xy(this,t.pixel,t.map)),this.c&&this.qb(t)&&(e=!(t.type!=Cr||!this.T)||(this.c.W(),this.ai())),t.type==Cr&&(this.T=!1),La.call(this,t)&&!e);var e}function Xy(t,e,n){var i=n.Ma(e),o=At([o=n.Ma([e[0]-t.R,e[1]+t.R]),r=n.Ma([e[0]+t.R,e[1]-t.R])]);if(0<(o=Fu(t.a,o)).length){o.sort(function(t,e){return St(i,t.na)-St(i,e.na)});var r=o[0].na,a=wt(i,r),s=n.Ga(a);if(Math.sqrt(Ct(e,s))<=t.R){for(e=n.Ga(r[0]),n=n.Ga(r[1]),e=Ct(s,e),n=Ct(s,n),t.ta=Math.sqrt(Math.min(e,n))<=t.R,t.ta&&(a=n<e?r[1]:r[0]),qy(t,a),(n={})[O(r)]=!0,e=1,s=o.length;e<s&&(a=o[e].na,_t(r[0],a[0])&&_t(r[1],a[1])||_t(r[0],a[1])&&_t(r[1],a[0]));++e)n[O(a)]=!0;return void(t.Aa=n)}}t.c&&(t.S.ha().nb(t.c),t.c=null)}function Jy(t,e,n,i,o){Nu(t.a,e.H(),function(t){t.geometry===e&&(void 0===i||void 0===t.depth||ht(t.depth,i))&&t.index>n&&(t.index+=o)})}function Qy(t,e,n,i){G.call(this,t),this.selected=e,this.deselected=n,this.mapBrowserEvent=i}function tb(t){ba.call(this,{handleEvent:eb});var e,n=t||{};if(this.C=n.condition?n.condition:Aa,this.A=n.addCondition?n.addCondition:ae,this.D=n.removeCondition?n.removeCondition:ae,this.R=n.toggleCondition?n.toggleCondition:Ma,this.j=!!n.multi&&n.multi,this.o=n.filter?n.filter:re,this.c=new Xs({source:new Bu({useSpatialIndex:!1,features:n.features,wrapX:n.wrapX}),style:n.style?n.style:(e=Ks(),ut(e.Polygon,e.LineString),ut(e.GeometryCollection,e.LineString),function(t){return e[t.W().X()]}),updateWhileAnimating:!0,updateWhileInteracting:!0}),n.layers)if("function"==typeof n.layers)t=function(t){return n.layers(t)};else{var i=n.layers;t=function(t){return at(i,t)}}else t=re;this.s=t,this.a={},B(t=this.c.ha().c,"add",this.Am,this),B(t,"remove",this.Dm,this)}function eb(t){if(!this.C(t))return!0;var i=this.A(t),o=this.D(t),r=this.R(t),e=!i&&!o&&!r,n=t.map,a=this.c.ha().c,s=[],l=[];if(e)E(this.a),n.kd(t.pixel,function(t,e){if(this.o(t,e)){l.push(t);var n=O(t);return this.a[n]=e,!this.j}},this,this.s),0<l.length&&1==a.dc()&&a.item(0)==l[0]?l.length=0:(0!==a.dc()&&(s=Array.prototype.concat(a.a),a.clear()),a.qf(l));else{for(n.kd(t.pixel,function(t,e){if(this.o(t,e)){if(!i&&!r||at(a.a,t))(o||r)&&at(a.a,t)&&(s.push(t),n=O(t),delete this.a[n]);else{l.push(t);var n=O(t);this.a[n]=e}return!this.j}},this,this.s),e=s.length-1;0<=e;--e)a.remove(s[e]);a.qf(l)}return(0<l.length||0<s.length)&&this.b(new Qy("select",l,s,t)),Ta(t)}function nb(t){Ia.call(this,{handleEvent:ib,handleDownEvent:re,handleUpEvent:ob}),t=t||{},this.s=t.source?t.source:null,this.qa=void 0===t.vertex||t.vertex,this.T=void 0===t.edge||t.edge,this.j=t.features?t.features:null,this.ta=[],this.D={},this.R={},this.Y={},this.A={},this.S=null,this.c=void 0!==t.pixelTolerance?t.pixelTolerance:10,this.Aa=function(t,e){return St(this.S,t.na)-St(this.S,e.na)}.bind(this),this.a=new Iu,this.za={Point:this.Jm,LineString:this.nh,LinearRing:this.nh,Polygon:this.Km,MultiPoint:this.Hm,MultiLineString:this.Gm,MultiPolygon:this.Im,GeometryCollection:this.Fm}}function ib(t){var e,n,i,o=t.pixel,r=t.coordinate,a=At([a=(e=t.map).Ma([o[0]-this.c,o[1]+this.c]),n=e.Ma([o[0]+this.c,o[1]-this.c])]),s=Fu(this.a,a),l=(a=!1,null);return n=null,0<s.length&&(this.S=r,s.sort(this.Aa),s=s[0].na,this.qa&&!this.T?(r=e.Ga(s[0]),i=e.Ga(s[1]),r=Ct(o,r),o=Ct(o,i),(i=(i=Math.sqrt(Math.min(r,o)))<=this.c)&&(a=!0,l=o<r?s[1]:s[0],n=e.Ga(l))):this.T&&(l=wt(r,s),n=e.Ga(l),Math.sqrt(Ct(o,n))<=this.c&&(a=!0,this.qa&&(r=e.Ga(s[0]),i=e.Ga(s[1]),r=Ct(n,r),o=Ct(n,i),i=(i=Math.sqrt(Math.min(r,o)))<=this.c)))&&(l=o<r?s[1]:s[0],n=e.Ga(l)),a&&(n=[Math.round(n[0]),Math.round(n[1])])),e=l,a&&(t.coordinate=e.slice(0,2),t.pixel=n),La.call(this,t)}function ob(){var t=P(this.A);return t.length&&(t.forEach(this.xi,this),this.A={}),!1}function rb(t,e,n){G.call(this,t),this.features=e,this.coordinate=n}function ab(e){var t;if(Ia.call(this,{handleDownEvent:sb,handleDragEvent:ub,handleMoveEvent:cb,handleUpEvent:lb}),this.s=void 0,this.a=null,this.c=void 0!==e.features?e.features:null,e.layers)if("function"==typeof e.layers)t=function(t){return e.layers(t)};else{var n=e.layers;t=function(t){return at(n,t)}}else t=re;this.A=t,this.j=null}function sb(t){var e,n,i,o;return this.j=(e=this,n=t.pixel,i=t.map,o=null,n=i.kd(n,function(t){return t},e,e.A),e.c&&at(e.c.a,n)&&(o=n),o),!(this.a||!this.j)&&(this.a=t.coordinate,cb.call(this,t),this.b(new rb("translatestart",this.c,t.coordinate)),!0)}function lb(t){return!!this.a&&(this.a=null,cb.call(this,t),this.b(new rb("translateend",this.c,t.coordinate)),!0)}function ub(t){if(this.a){var n=(t=t.coordinate)[0]-this.a[0],i=t[1]-this.a[1];if(this.c)this.c.forEach(function(t){var e=t.W();e.Sc(n,i),t.Ua(e)});else if(this.j){var e=this.j.W();e.Sc(n,i),this.j.Ua(e)}this.a=t,this.b(new rb("translating",this.c,t))}}function cb(t){var e=t.map.yc();if(t=t.map.kd(t.pixel,function(t){return t})){var n=!1;this.c&&at(this.c.a,t)&&(n=!0),this.s=e.style.cursor,e.style.cursor=this.a?"-webkit-grabbing":n?"-webkit-grab":"pointer",e.style.cursor=this.a?n?"grab":"pointer":"grabbing"}else e.style.cursor=void 0!==this.s?this.s:"",this.s=void 0}function pb(t){var e=M({},t=t||{});delete e.gradient,delete e.radius,delete e.blur,delete e.shadow,delete e.weight,Xs.call(this,e),this.f=null,this.ia=void 0!==t.shadow?t.shadow:250,this.Y=void 0,this.c=null,B(this,it("gradient"),this.Lk,this),this.ii(t.gradient?t.gradient:hb),this.di(void 0!==t.blur?t.blur:15),this.qh(void 0!==t.radius?t.radius:8),B(this,it("blur"),this.lf,this),B(this,it("radius"),this.lf,this),this.lf();var i,n=t.weight?t.weight:"weight";i="string"==typeof n?function(t){return t.get(n)}:n,this.l(function(t){var e=255*(t=void 0!==(t=i(t))?x(t,0,1):1)|0,n=this.c[e];return n||(n=[new qs({image:new ea({opacity:t,src:this.Y})})],this.c[e]=n),n}.bind(this)),this.set("renderOrder",null),B(this,"render",this.dl,this)}g(Uy,G),g(zy,Ia),(t=zy.prototype).xf=function(t){var e=t.W();e.X()in this.za&&this.za[e.X()].call(this,t,e),(e=this.v)&&Xy(this,this.qa,e),B(t,"change",this.jh,this)},t.setMap=function(t){this.S.setMap(t),Ia.prototype.setMap.call(this,t)},t.sm=function(t){this.xf(t.element)},t.jh=function(t){this.s||(Vy(this,t=t.target),this.xf(t))},t.tm=function(t){Vy(this,t.element)},t.ym=function(t,e){var n=e.Z();n={feature:t,geometry:e,na:[n,n]};this.a.Ca(e.H(),n)},t.wm=function(t,e){var n,i,o,r=e.Z();for(i=0,o=r.length;i<o;++i)n={feature:t,geometry:e,depth:[i],index:i,na:[n=r[i],n]},this.a.Ca(e.H(),n)},t.kh=function(t,e){var n,i,o,r,a=e.Z();for(n=0,i=a.length-1;n<i;++n)r={feature:t,geometry:e,index:n,na:o=a.slice(n,n+2)},this.a.Ca(At(o),r)},t.vm=function(t,e){var n,i,o,r,a,s,l,u=e.Z();for(r=0,a=u.length;r<a;++r)for(i=0,o=(n=u[r]).length-1;i<o;++i)l={feature:t,geometry:e,depth:[r],index:i,na:s=n.slice(i,i+2)},this.a.Ca(At(s),l)},t.zm=function(t,e){var n,i,o,r,a,s,l,u=e.Z();for(r=0,a=u.length;r<a;++r)for(i=0,o=(n=u[r]).length-1;i<o;++i)l={feature:t,geometry:e,depth:[r],index:i,na:s=n.slice(i,i+2)},this.a.Ca(At(s),l)},t.xm=function(t,e){var n,i,o,r,a,s,l,u,c,p,h=e.Z();for(s=0,l=h.length;s<l;++s)for(r=0,a=(u=h[s]).length;r<a;++r)for(i=0,o=(n=u[r]).length-1;i<o;++i)p={feature:t,geometry:e,depth:[r,s],index:i,na:c=n.slice(i,i+2)},this.a.Ca(At(c),p)},t.um=function(t,e){var n,i=e.c;for(n=0;n<i.length;++n)this.za[i[n].X()].call(this,t,i[n])},t.nl=function(t,e){for(var n,i=t.na,o=t.feature,r=t.geometry,a=t.depth,s=t.index;e.length<r.va();)e.push(0);switch(r.X()){case"MultiLineString":case"Polygon":(n=r.Z())[a[0]].splice(s+1,0,e);break;case"MultiPolygon":(n=r.Z())[a[1]][a[0]].splice(s+1,0,e);break;case"LineString":(n=r.Z()).splice(s+1,0,e);break;default:return}this.s=!0,r.pa(n),this.s=!1,(n=this.a).remove(t),Jy(this,r,s,a,1);var l={na:[i[0],e],feature:o,geometry:r,depth:a,index:s};n.Ca(At(l.na),l),this.j.push([l,1]),i={na:[e,i[1]],feature:o,geometry:r,depth:a,index:s+1},n.Ca(At(i.na),i),this.j.push([i,0]),this.T=!0},t.ai=function(){var t=!1;if(this.Y&&this.Y.type!=Ar){var e=this.Y;Hy(this,e);var n,i,o,r,a,s,l,u,c,p=this.j;t={};for(r=p.length-1;0<=r;--r)u=O((l=(o=p[r])[0]).feature),l.depth&&(u+="-"+l.depth.join("-")),u in t||(t[u]={}),0===o[1]?(t[u].right=l,t[u].index=l.index):1==o[1]&&(t[u].left=l,t[u].index=l.index+1);for(u in t){switch(s=t[u].right,r=t[u].left,(a=(o=t[u].index)-1)<0&&(a=0),n=i=(p=(l=void 0!==r?r:s).geometry).Z(),c=!1,p.X()){case"MultiLineString":2<i[l.depth[0]].length&&(i[l.depth[0]].splice(o,1),c=!0);break;case"LineString":2<i.length&&(i.splice(o,1),c=!0);break;case"MultiPolygon":n=n[l.depth[1]];case"Polygon":4<(n=n[l.depth[0]]).length&&(o==n.length-1&&(o=0),n.splice(o,1),c=!0,0===o&&(n.pop(),n.push(n[0]),a=n.length-1))}c&&(n=p,this.s=!0,n.pa(i),this.s=!1,i=[],void 0!==r&&(this.a.remove(r),i.push(r.na[0])),void 0!==s&&(this.a.remove(s),i.push(s.na[1])),void 0!==r&&void 0!==s&&(r={depth:l.depth,feature:l.feature,geometry:l.geometry,index:a,na:i},this.a.Ca(At(r.na),r)),Jy(this,p,o,l.depth,-1),this.c&&(this.S.ha().nb(this.c),this.c=null))}t=!0,this.b(new Uy("modifyend",this.A,e)),this.D=!1}return t},g(Qy,G),g(tb,ba),(t=tb.prototype).Bm=function(){return this.c.ha().c},t.Cm=function(t){return t=O(t),this.a[t]},t.setMap=function(t){var e=this.v,n=this.c.ha().c;e&&n.forEach(e.wi,e),ba.prototype.setMap.call(this,t),this.c.setMap(t),t&&n.forEach(t.ti,t)},t.Am=function(t){t=t.element;var e=this.v;e&&e.ti(t)},t.Dm=function(t){t=t.element;var e=this.v;e&&e.wi(t)},g(nb,Ia),(t=nb.prototype).rb=function(t,e){var n=void 0===e||e,i=O(t),o=t.W();if(o){var r=this.za[o.X()];r&&(this.Y[i]=o.H([1/0,1/0,-1/0,-1/0]),r.call(this,t,o),n&&(this.R[i]=B(o,"change",this.Kk.bind(this,t),this)))}n&&(this.D[i]=B(t,it(t.a),this.Em,this))},t.Jj=function(t){this.rb(t)},t.Kj=function(t){this.nb(t)},t.lh=function(t){var e;t instanceof qu?e=t.feature:t instanceof Vn&&(e=t.element),this.rb(e)},t.mh=function(t){var e;t instanceof qu?e=t.feature:t instanceof Vn&&(e=t.element),this.nb(e)},t.Em=function(t){t=t.target,this.nb(t,!0),this.rb(t,!0)},t.Kk=function(t){if(this.C){var e=O(t);e in this.A||(this.A[e]=t)}else this.xi(t)},t.nb=function(e,t){var n=void 0===t||t,i=O(e),o=this.Y[i];if(o){var r=this.a,a=[];for(Nu(r,o,function(t){e===t.feature&&a.push(t)}),o=a.length-1;0<=o;--o)r.remove(a[o]);n&&(Q(this.R[i]),delete this.R[i])}n&&(Q(this.D[i]),delete this.D[i])},t.setMap=function(t){var e,n=this.v,i=this.ta;this.j?e=this.j:this.s&&(e=this.s.oe()),n&&(i.forEach(Q),i.length=0,e.forEach(this.Kj,this)),Ia.prototype.setMap.call(this,t),t&&(this.j?i.push(B(this.j,"add",this.lh,this),B(this.j,"remove",this.mh,this)):this.s&&i.push(B(this.s,"addfeature",this.lh,this),B(this.s,"removefeature",this.mh,this)),e.forEach(this.Jj,this))},t.Gc=ae,t.xi=function(t){this.nb(t,!1),this.rb(t,!1)},t.Fm=function(t,e){var n,i=e.c;for(n=0;n<i.length;++n)this.za[i[n].X()].call(this,t,i[n])},t.nh=function(t,e){var n,i,o,r,a=e.Z();for(n=0,i=a.length-1;n<i;++n)r={feature:t,na:o=a.slice(n,n+2)},this.a.Ca(At(o),r)},t.Gm=function(t,e){var n,i,o,r,a,s,l,u=e.Z();for(r=0,a=u.length;r<a;++r)for(i=0,o=(n=u[r]).length-1;i<o;++i)l={feature:t,na:s=n.slice(i,i+2)},this.a.Ca(At(s),l)},t.Hm=function(t,e){var n,i,o,r=e.Z();for(i=0,o=r.length;i<o;++i)n={feature:t,na:[n=r[i],n]},this.a.Ca(e.H(),n)},t.Im=function(t,e){var n,i,o,r,a,s,l,u,c,p,h=e.Z();for(s=0,l=h.length;s<l;++s)for(r=0,a=(u=h[s]).length;r<a;++r)for(i=0,o=(n=u[r]).length-1;i<o;++i)p={feature:t,na:c=n.slice(i,i+2)},this.a.Ca(At(c),p)},t.Jm=function(t,e){var n={feature:t,na:[n=e.Z(),n]};this.a.Ca(e.H(),n)},t.Km=function(t,e){var n,i,o,r,a,s,l,u=e.Z();for(r=0,a=u.length;r<a;++r)for(i=0,o=(n=u[r]).length-1;i<o;++i)l={feature:t,na:s=n.slice(i,i+2)},this.a.Ca(At(s),l)},g(rb,G),g(ab,Ia),g(pb,Xs);var hb=["#00f","#0ff","#0f0","#ff0","#f00"];function db(t,e,n,i){function o(){delete y[a],r.parentNode.removeChild(r)}var r=y.document.createElement("script"),a="olc_"+O(e);r.async=!0,r.src=t+(-1==t.indexOf("?")?"?":"&")+(i||"callback")+"="+a;var s=y.setTimeout(function(){o(),n&&n()},1e4);y[a]=function(t){y.clearTimeout(s),o(),e(t)},y.document.getElementsByTagName("head")[0].appendChild(r)}function fb(t,e,n,i,o,r,a,s,l,u,c){if(Ni.call(this,o,0),this.R=void 0!==c&&c,this.D=a,this.C=s,this.l=null,this.c={},this.j=e,this.v=i,this.U=r||o,this.g=[],this.Wc=null,this.s=0,r=i.Ea(this.U),s=this.v.H(),o=this.j.H(),0===qt(r=s?Xt(r,s):r))this.state=4;else if((s=t.H())&&(o=o?Xt(o,s):s),i=i.$(this.U[0]),i=Ul(t,n,Yt(r),i),!isFinite(i)||i<=0)this.state=4;else if(this.A=new Vl(t,n,r,o,i*(void 0!==u?u:.5)),0===this.A.f.length)this.state=4;else if(this.s=e.Lb(i),n=ql(this.A),o&&(t.a?(n[1]=x(n[1],o[1],o[3]),n[3]=x(n[3],o[1],o[3])):n=Xt(n,o)),qt(n))if(((t=Xi(e,n,this.s)).ea-t.ca+1)*(t.ga-t.fa+1)<100){for(e=t.ca;e<=t.ea;e++)for(n=t.fa;n<=t.ga;n++)(u=l(this.s,e,n,a))&&this.g.push(u);0===this.g.length&&(this.state=4)}else this.state=3;else this.state=4}function gb(t){nc.call(this,{attributions:t.attributions,cacheSize:t.cacheSize,extent:t.extent,logo:t.logo,opaque:t.opaque,projection:t.projection,state:t.state,tileGrid:t.tileGrid,tileLoadFunction:t.tileLoadFunction?t.tileLoadFunction:yb,tilePixelRatio:t.tilePixelRatio,tileUrlFunction:t.tileUrlFunction,url:t.url,urls:t.urls,wrapX:t.wrapX}),this.crossOrigin=void 0!==t.crossOrigin?t.crossOrigin:null,this.tileClass=void 0!==t.tileClass?t.tileClass:gy,this.i={},this.s={},this.qa=t.reprojectionErrorThreshold,this.C=!1}function mb(t,e,n,i,o,r,a){return o=(n=so(t,e=[e,n,i],r))?t.tileUrlFunction(n,o,r):void 0,(o=new t.tileClass(e,void 0!==o?0:4,void 0!==o?o:"",t.crossOrigin,t.tileLoadFunction)).key=a,B(o,"change",t.Bh,t),o}function vb(t,e,n,i,o,r){var a,s=t.Eb(e,n,i),l=t.cc;if(Ii(t.a,s)){if((a=t.a.get(s)).key!=l){var u=a;a.a&&a.a.key==l?(a=a.a,2==u.V()&&(a.a=u)):(a=mb(t,e,n,i,o,r,l),2==u.V()?a.a=u:u.a&&2==u.a.V()&&(a.a=u.a,u.a=null)),a.a&&(a.a.a=null),t.a.replace(s,a)}}else a=mb(t,e,n,i,o,r,l),t.a.set(s,a);return a}function yb(t,e){t.$a().src=e}function bb(t){gb.call(this,{cacheSize:t.cacheSize,crossOrigin:"anonymous",opaque:!0,projection:we("EPSG:3857"),reprojectionErrorThreshold:t.reprojectionErrorThreshold,state:"loading",tileLoadFunction:t.tileLoadFunction,wrapX:void 0===t.wrapX||t.wrapX}),this.j=void 0!==t.culture?t.culture:"en-us",this.c=void 0!==t.maxZoom?t.maxZoom:-1,db("https://dev.virtualearth.net/REST/v1/Imagery/Metadata/"+t.imagerySet+"?uriScheme=https&include=ImageryProviders&key="+t.key,this.v.bind(this),void 0,"jsonp")}(t=pb.prototype).zg=function(){return this.get("blur")},t.Gg=function(){return this.get("gradient")},t.ph=function(){return this.get("radius")},t.Lk=function(){for(var t=this.Gg(),e=xi(1,256),n=e.createLinearGradient(0,0,1,256),i=1/(t.length-1),o=0,r=t.length;o<r;++o)n.addColorStop(o*i,t[o]);e.fillStyle=n,e.fillRect(0,0,1,256),this.f=e.getImageData(0,0,1,256).data},t.lf=function(){var t,e=this.ph(),n=this.zg(),i=e+n+1;(t=xi(t=2*i,t)).shadowOffsetX=t.shadowOffsetY=this.ia,t.shadowBlur=n,t.shadowColor="#000",t.beginPath(),n=i-this.ia,t.arc(n,n,e,0,2*Math.PI,!0),t.fill(),this.Y=t.canvas.toDataURL(),this.c=Array(256),this.u()},t.dl=function(t){var e,n,i,o=(t=t.context).canvas,r=(o=t.getImageData(0,0,o.width,o.height)).data;for(e=0,n=r.length;e<n;e+=4)(i=4*r[e+3])&&(r[e]=this.f[i],r[e+1]=this.f[i+1],r[e+2]=this.f[i+2]);t.putImageData(o,0,0)},t.di=function(t){this.set("blur",t)},t.ii=function(t){this.set("gradient",t)},t.qh=function(t){this.set("radius",t)},g(fb,Ni),fb.prototype.ka=function(){1==this.state&&(this.Wc.forEach(H),this.Wc=null),Ni.prototype.ka.call(this)},fb.prototype.$a=function(t){if(void 0===t)return this.l;var e=O(t);return e in this.c?this.c[e]:(t=I(this.c)?this.l:this.l.cloneNode(!1),this.c[e]=t)},fb.prototype.zd=function(){var e=[];if(this.g.forEach(function(t){t&&2==t.V()&&e.push({extent:this.j.Ea(t.ma),image:t.$a()})},this),(this.g.length=0)===e.length)this.state=3;else{var t=this.U[0],n=v(i=this.v.Ja(t))?i:i[0],i=v(i)?i:i[1],o=(t=this.v.$(t),this.j.$(this.s)),r=this.v.Ea(this.U);this.l=Hl(n,i,this.D,o,this.j.H(),t,r,this.A,e,this.C,this.R),this.state=2}ji(this)},fb.prototype.load=function(){if(0==this.state){this.state=1,ji(this);var i=0;this.Wc=[],this.g.forEach(function(e){var n,t=e.V();0!=t&&1!=t||(i++,n=B(e,"change",function(){var t=e.V();2!=t&&3!=t&&4!=t||(H(n),0===--i&&(this.Wc.forEach(H),this.Wc=null,this.zd()))},this),this.Wc.push(n))},this),this.g.forEach(function(t){0==t.V()&&t.load()}),0===i&&y.setTimeout(this.zd.bind(this),0)}},g(gb,nc),(t=gb.prototype).Ah=function(){if(Fi(this.a))return!0;for(var t in this.i)if(Fi(this.i[t]))return!0;return!1},t.Lc=function(t,e){var n=this.pd(t);for(var i in this.a.Lc(this.a==n?e:{}),this.i){var o=this.i[i];o.Lc(o==n?e:{})}},t.Ud=function(t){return this.f&&t&&!xe(this.f,t)?0:this.gf()},t.gf=function(){return 0},t.jf=function(t){return!(this.f&&t&&!xe(this.f,t))&&nc.prototype.jf.call(this,t)},t.eb=function(t){var e=this.f;return!this.tileGrid||e&&!xe(e,t)?((e=O(t).toString())in this.s||(this.s[e]=to(t)),this.s[e]):this.tileGrid},t.pd=function(t){var e=this.f;return!e||xe(e,t)?this.a:((t=O(t).toString())in this.i||(this.i[t]=new Li),this.i[t])},t.ac=function(t,e,n,i,o){if(this.f&&o&&!xe(this.f,o)){var r=this.pd(o);if(e=[t,e,n],Ii(r,t=this.Eb.apply(this,e)))return r.get(t);var a=this.f;n=this.eb(a);var s=this.eb(o),l=so(this,e,o);return i=new fb(a,n,o,s,e,l,this.bc(i),this.gf(),function(t,e,n,i){return vb(this,t,e,n,i,a)}.bind(this),this.qa,this.C),r.set(t,i),i}return vb(this,t,e,n,i,o)},t.zb=function(t){if(this.C!=t){for(var e in this.C=t,this.i)this.i[e].clear();this.u()}},t.Ab=function(t,e){var n=we(t);n&&((n=O(n).toString())in this.s||(this.s[n]=e))},g(bb,gb);var wb=new Hn({html:'<a class="ol-attribution-bing-tos" href="http://www.microsoft.com/maps/product/terms.html">Terms of Use</a>'});function xb(t){var e=void 0!==(t=t||{}).projection?t.projection:"EPSG:3857",n=void 0!==t.tileGrid?t.tileGrid:eo({extent:io(e),maxZoom:t.maxZoom,minZoom:t.minZoom,tileSize:t.tileSize});gb.call(this,{attributions:t.attributions,cacheSize:t.cacheSize,crossOrigin:t.crossOrigin,logo:t.logo,opaque:t.opaque,projection:e,reprojectionErrorThreshold:t.reprojectionErrorThreshold,tileGrid:n,tileLoadFunction:t.tileLoadFunction,tilePixelRatio:t.tilePixelRatio,tileUrlFunction:t.tileUrlFunction,url:t.url,urls:t.urls,wrapX:void 0===t.wrapX||t.wrapX})}function $b(t){this.v=t.account,this.A=t.map||"",this.c=t.config||{},this.j={},xb.call(this,{attributions:t.attributions,cacheSize:t.cacheSize,crossOrigin:t.crossOrigin,logo:t.logo,maxZoom:void 0!==t.maxZoom?t.maxZoom:18,minZoom:t.minZoom,projection:t.projection,state:"loading",wrapX:t.wrapX}),_b(this)}function _b(t){var e=JSON.stringify(t.c);if(t.j[e])kb(t,t.j[e]);else{var n="https://"+t.v+".cartodb.com/api/v1/map";t.A&&(n+="/named/"+t.A);var i=new XMLHttpRequest;i.addEventListener("load",t.Nk.bind(t,e)),i.addEventListener("error",t.Mk.bind(t)),i.open("POST",n),i.setRequestHeader("Content-type","application/json"),i.send(JSON.stringify(t.c))}}function kb(t,e){t.Va("https://"+e.cdn_url.https+"/"+t.v+"/api/v1/map/"+e.layergroupid+"/{z}/{x}/{y}.png")}function Cb(t){Bu.call(this,{attributions:t.attributions,extent:t.extent,logo:t.logo,projection:t.projection,wrapX:t.wrapX}),this.C=void 0,this.ta=void 0!==t.distance?t.distance:20,this.A=[],this.ia=t.geometryFunction||function(t){return t.W()},this.v=t.source,this.v.I("change",Cb.prototype.Sa,this)}function Sb(t){if(void 0!==t.C)for(var e=[1/(t.A.length=0),1/0,-1/0,-1/0],n=t.ta*t.C,i=t.v.oe(),o={},r=0,a=i.length;r<a;r++){var s=i[r];O(s).toString()in o||!(s=t.ia(s))||(Nt(s=s.Z(),e),Dt(e,n,e),s=(s=t.v.ef(e)).filter(function(t){return!((t=O(t).toString())in o)&&(o[t]=!0)}),t.A.push(Tb(t,s)))}}function Tb(t,e){for(var n=[0,0],i=e.length-1;0<=i;--i){var o=t.ia(e[i]);o?bt(n,o.Z()):e.splice(i,1)}return i=1/e.length,n[0]*=i,n[1]*=i,(n=new eu(new un(n))).set("features",e),n}function Ab(t,e){var n=Object.keys(e).map(function(t){return t+"="+encodeURIComponent(e[t])}).join("&");return(t=-1===(t=t.replace(/[?&]$/,"")).indexOf("?")?t+"?":t+"&")+n}function Db(t){Gl.call(this,{attributions:(t=t||{}).attributions,logo:t.logo,projection:t.projection,resolutions:t.resolutions}),this.Y=void 0!==t.crossOrigin?t.crossOrigin:null,this.i=t.url,this.j=void 0!==t.imageLoadFunction?t.imageLoadFunction:Kl,this.v=t.params||{},this.c=null,this.s=[0,0],this.T=0,this.S=void 0!==t.ratio?t.ratio:1.5}function Mb(t){Gl.call(this,{projection:t.projection,resolutions:t.resolutions}),this.Y=void 0!==t.crossOrigin?t.crossOrigin:null,this.s=void 0!==t.displayDpi?t.displayDpi:96,this.j=t.params||{},this.T=t.url,this.c=void 0!==t.imageLoadFunction?t.imageLoadFunction:Kl,this.ia=void 0===t.hidpi||t.hidpi,this.ta=void 0!==t.metersPerUnit?t.metersPerUnit:1,this.v=void 0!==t.ratio?t.ratio:1,this.Aa=void 0!==t.useOverlay&&t.useOverlay,this.i=null,this.S=0}function Eb(t){var e=t.imageExtent,n=void 0!==t.crossOrigin?t.crossOrigin:null,i=void 0!==t.imageLoadFunction?t.imageLoadFunction:Kl;Gl.call(this,{attributions:t.attributions,logo:t.logo,projection:we(t.projection)}),this.c=new fy(e,void 0,1,this.l,t.url,n,i),this.i=t.imageSize?t.imageSize:null,B(this.c,"change",this.o,this)}function Pb(t){Gl.call(this,{attributions:(t=t||{}).attributions,logo:t.logo,projection:t.projection,resolutions:t.resolutions}),this.ta=void 0!==t.crossOrigin?t.crossOrigin:null,this.j=t.url,this.S=void 0!==t.imageLoadFunction?t.imageLoadFunction:Kl,this.i=t.params||{},this.v=!0,Rb(this),this.ia=t.serverType,this.Aa=void 0===t.hidpi||t.hidpi,this.c=null,this.T=[0,0],this.Y=0,this.s=void 0!==t.ratio?t.ratio:1.5}bb.prototype.v=function(t){if(200!=t.statusCode||"OK"!=t.statusDescription||"ValidCredentials"!=t.authenticationResultCode||1!=t.resourceSets.length||1!=t.resourceSets[0].resources.length)qi(this,"error");else{var e=t.brandLogoUri;-1==e.indexOf("https")&&(e=e.replace("http","https"));var i=t.resourceSets[0].resources[0],a=-1==this.c?i.zoomMax:this.c,s=eo({extent:t=io(this.f),minZoom:i.zoomMin,maxZoom:a,tileSize:i.imageWidth==i.imageHeight?i.imageWidth:[i.imageWidth,i.imageHeight]});this.tileGrid=s;var o=this.j;if(this.tileUrlFunction=Qu(i.imageUrlSubdomains.map(function(t){var e=[0,0,0],n=i.imageUrl.replace("{subdomain}",t).replace("{culture}",o);return function(t){if(t)return Ri(t[0],t[1],-t[2]-1,e),n.replace("{quadkey}",function(t){var e,n,i=t[0],o=Array(i),r=1<<i-1;for(e=0;e<i;++e)n=48,t[1]&r&&(n+=1),t[2]&r&&(n+=2),o[e]=String.fromCharCode(n),r>>=1;return o.join("")}(e))}})),i.imageryProviders){var l=_e(we("EPSG:4326"),this.f);(t=i.imageryProviders.map(function(t){var e=t.attribution,r={};return t.coverageAreas.forEach(function(t){var e,n,i=t.zoomMin,o=Math.min(t.zoomMax,a);for(t=oe([(t=t.bbox)[1],t[0],t[3],t[2]],l),e=i;e<=o;++e)n=e.toString(),i=Xi(s,t,e),n in r?r[n].push(i):r[n]=[i]}),new Hn({html:e,tileRanges:r})})).push(wb),this.oa(t)}this.R=e,qi(this,"ready")}},g(xb,gb),g($b,xb),(t=$b.prototype).Tj=function(){return this.c},t.up=function(t){M(this.c,t),_b(this)},t.$o=function(t){this.c=t||{},_b(this)},t.Nk=function(t,e){var n=e.target;if(200<=n.status&&n.status<300){var i;try{i=JSON.parse(n.responseText)}catch(t){return void qi(this,"error")}kb(this,i),this.j[t]=i,qi(this,"ready")}else qi(this,"error")},t.Mk=function(){qi(this,"error")},g(Cb,Bu),Cb.prototype.Aa=function(){return this.v},Cb.prototype.Pc=function(t,e,n){this.v.Pc(t,e,n),e!==this.C&&(this.clear(),this.C=e,Sb(this),this.Jc(this.A))},Cb.prototype.Sa=function(){this.clear(),Sb(this),this.Jc(this.A),this.u()},g(Db,Gl),(t=Db.prototype).Sm=function(){return this.v},t.Mc=function(t,e,n,i){if(void 0===this.i)return null;e=Yl(this,e);var o=this.c;if(o&&this.T==this.g&&o.$()==e&&o.f==n&&Ot(o.H(),t))return o;M(o={F:"image",FORMAT:"PNG32",TRANSPARENT:!0},this.v);var r=((t=t.slice())[0]+t[2])/2,a=(t[1]+t[3])/2;if(1!=this.S){var s=this.S*te(t)/2,l=this.S*Zt(t)/2;t[0]=r-s,t[1]=a-l,t[2]=r+s,t[3]=a+l}s=e/n,l=Math.ceil(te(t)/s);var u=Math.ceil(Zt(t)/s);return t[0]=r-s*l/2,t[2]=r+s*l/2,t[1]=a-s*u/2,t[3]=a+s*u/2,this.s[0]=l,this.s[1]=u,r=t,a=this.s,i=i.cb.split(":").pop(),o.SIZE=a[0]+","+a[1],o.BBOX=r.join(","),o.BBOXSR=i,o.IMAGESR=i,o.DPI=90*n,o=Ab(i=this.i.replace(/MapServer\/?$/,"MapServer/export").replace(/ImageServer\/?$/,"ImageServer/exportImage"),o),this.c=new fy(t,e,n,this.l,o,this.Y,this.j),this.T=this.g,B(this.c,"change",this.o,this),this.c},t.Rm=function(){return this.j},t.Tm=function(){return this.i},t.Um=function(t){this.c=null,this.j=t,this.u()},t.Vm=function(t){t!=this.i&&(this.i=t,this.c=null,this.u())},t.Wm=function(t){M(this.v,t),this.c=null,this.u()},g(Mb,Gl),(t=Mb.prototype).Ym=function(){return this.j},t.Mc=function(t,e,n){if(e=Yl(this,e),n=this.ia?n:1,(o=this.i)&&this.S==this.g&&o.$()==e&&o.f==n&&Ot(o.H(),t))return o;1!=this.v&&ie(t=t.slice(),this.v);var i=[te(t)/e*n,Zt(t)/e*n];if(void 0!==this.T){var o=this.T,r=Yt(t),a=this.ta,s=te(t),l=Zt(t),u=i[0],c=i[1],p=.0254/this.s;i={OPERATION:this.Aa?"GETDYNAMICMAPOVERLAYIMAGE":"GETMAPIMAGE",VERSION:"2.0.0",LOCALE:"en",CLIENTAGENT:"ol.source.ImageMapGuide source",CLIP:"1",SETDISPLAYDPI:this.s,SETDISPLAYWIDTH:Math.round(i[0]),SETDISPLAYHEIGHT:Math.round(i[1]),SETVIEWSCALE:u*l<c*s?s*a/(u*p):l*a/(c*p),SETVIEWCENTERX:r[0],SETVIEWCENTERY:r[1]};M(i,this.j),o=Ab(o,i),B(o=new fy(t,e,n,this.l,o,this.Y,this.c),"change",this.o,this)}else o=null;return this.i=o,this.S=this.g,o},t.Xm=function(){return this.c},t.$m=function(t){M(this.j,t),this.u()},t.Zm=function(t){this.i=null,this.c=t,this.u()},g(Eb,Gl),Eb.prototype.Mc=function(t){return ee(t,this.c.H())?this.c:null},Eb.prototype.o=function(t){if(2==this.c.V()){var e,n,i=this.c.H(),o=this.c.a();if(n=this.i?(e=this.i[0],this.i[1]):(e=o.width,o.height),(i=Math.ceil(te(i)/(Zt(i)/n)))!=e){var r=(i=xi(i,n)).canvas;i.drawImage(o,0,0,e,n,0,0,r.width,r.height),this.c.g=r}}Gl.prototype.o.call(this,t)},g(Pb,Gl);var Ob=[101,101];function Ib(t,e,n,i,o,r){if(r[t.v?"CRS":"SRS"]=o.cb,"STYLES"in t.i||(r.STYLES=""),1!=i)switch(t.ia){case"geoserver":i=90*i+.5|0,r.FORMAT_OPTIONS="FORMAT_OPTIONS"in r?r.FORMAT_OPTIONS+";dpi:"+i:"dpi:"+i;break;case"mapserver":r.MAP_RESOLUTION=90*i;break;case"carmentaserver":case"qgis":r.DPI=90*i}var a;return r.WIDTH=n[0],r.HEIGHT=n[1],n=o.b,a=t.v&&"ne"==n.substr(0,2)?[e[1],e[0],e[3],e[2]]:e,r.BBOX=a.join(","),Ab(t.j,r)}function Rb(t){t.v=0<=yt(t.i.VERSION||"1.3.0")}function Lb(t){var e;e=void 0!==(t=t||{}).attributions?t.attributions:[jb],xb.call(this,{attributions:e,cacheSize:t.cacheSize,crossOrigin:void 0!==t.crossOrigin?t.crossOrigin:"anonymous",opaque:void 0===t.opaque||t.opaque,maxZoom:void 0!==t.maxZoom?t.maxZoom:19,reprojectionErrorThreshold:t.reprojectionErrorThreshold,tileLoadFunction:t.tileLoadFunction,url:void 0!==t.url?t.url:"https://{a-c}.tile.openstreetmap.org/{z}/{x}/{y}.png",wrapX:t.wrapX})}(t=Pb.prototype).fn=function(t,e,n,i){if(void 0!==this.j){var o=Kt(t,e,0,Ob),r={SERVICE:"WMS",VERSION:"1.3.0",REQUEST:"GetFeatureInfo",FORMAT:"image/png",TRANSPARENT:!0,QUERY_LAYERS:this.i.LAYERS};return M(r,this.i,i),i=Math.floor((o[3]-t[1])/e),r[this.v?"I":"X"]=Math.floor((t[0]-o[0])/e),r[this.v?"J":"Y"]=i,Ib(this,o,Ob,1,we(n),r)}},t.hn=function(){return this.i},t.Mc=function(t,e,n,i){if(void 0===this.j)return null;e=Yl(this,e),1==n||this.Aa&&void 0!==this.ia||(n=1);var o=((t=t.slice())[0]+t[2])/2,r=(t[1]+t[3])/2,a=e/n,s=te(t)/a;a=Zt(t)/a;if((l=this.c)&&this.Y==this.g&&l.$()==e&&l.f==n&&Ot(l.H(),t))return l;if(1!=this.s){var l=this.s*te(t)/2,u=this.s*Zt(t)/2;t[0]=o-l,t[1]=r-u,t[2]=o+l,t[3]=r+u}return M(o={SERVICE:"WMS",VERSION:"1.3.0",REQUEST:"GetMap",FORMAT:"image/png",TRANSPARENT:!0},this.i),this.T[0]=Math.ceil(s*this.s),this.T[1]=Math.ceil(a*this.s),i=Ib(this,t,this.T,n,i,o),this.c=new fy(t,e,n,this.l,i,this.ta,this.S),this.Y=this.g,B(this.c,"change",this.o,this),this.c},t.gn=function(){return this.S},t.jn=function(){return this.j},t.kn=function(t){this.c=null,this.S=t,this.u()},t.ln=function(t){t!=this.j&&(this.j=t,this.c=null,this.u())},t.mn=function(t){M(this.i,t),Rb(this),this.c=null,this.u()},g(Lb,xb);var Fb,Nb,jb=new Hn({html:'&copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors.'});function Bb(t){this.S=null,this.Aa=void 0!==t.operationType?t.operationType:"pixel",this.Sa=void 0!==t.threads?t.threads:1,this.c=function(t){for(var e=t.length,n=Array(e),i=0;i<e;++i){var o=i,r=t[i],a=null;r instanceof oo?(r=new Es({source:r}),a=new Yu(r)):r instanceof Gl&&(r=new Ms({source:r}),a=new Gu(r)),n[o]=a}return n}(t.sources);for(var e=0,n=this.c.length;e<n;++e)B(this.c[e],"change",this.u,this);this.i=xi(),this.ia=new ma(function(){return 1},this.u.bind(this));n={};for(var i=0,o=(e=this.c.map(function(t){return Rr(t.a)})).length;i<o;++i)n[O(e[i].layer)]=e[i];this.j=this.s=null,this.Y={animate:!1,attributions:{},coordinateToPixelMatrix:Ee(),extent:null,focus:null,index:0,layerStates:n,layerStatesArray:e,logos:{},pixelRatio:1,pixelToCoordinateMatrix:Ee(),postRenderFunctions:[],size:[0,0],skippedFeatureUids:{},tileQueue:this.ia,time:Date.now(),usedTiles:{},viewState:{rotation:0},viewHints:[],wantedTiles:{}},Gl.call(this,{}),void 0!==t.operation&&this.v(t.operation,t.lib)}function Ub(t,e,n){var i=t.s;return!i||t.g!==i.Xo||n!==i.resolution||!Bt(e,i.extent)}Nb={ja:Fb={}},function(t){"object"==typeof Fb&&void 0!==Nb?Nb.ja=t():("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).Sp=t()}(function(){return function i(o,r,a){function s(n,t){if(!r[n]){if(!o[n]){var e="function"==typeof require&&require;if(!t&&e)return e(n,!0);if(l)return l(n,!0);throw(e=Error("Cannot find module '"+n+"'")).code="MODULE_NOT_FOUND",e}e=r[n]={ja:{}},o[n][0].call(e.ja,function(t){var e=o[n][1][t];return s(e||t)},e,e.ja,i,o,r,a)}return r[n].ja}for(var l="function"==typeof require&&require,t=0;t<a.length;t++)s(a[t]);return s}({1:[function(t,e,n){t=t("./processor"),n.$i=t},{"./processor":2}],2:[function(t,e){function s(h){var d=!0;try{new ImageData(10,10)}catch(t){d=!1}return function(t){var e=t.buffers,n=t.meta,i=t.width,o=t.height,r=e.length,a=e[0].byteLength;if(t.imageOps){for(a=Array(r),t=0;t<r;++t){var s,l=a,u=t;s=new Uint8ClampedArray(e[t]);var c=i,p=o;s=d?new ImageData(s,c,p):{data:s,width:c,height:p},l[u]=s}i=h(a,n).data}else{for(i=new Uint8ClampedArray(a),o=Array(r),l=Array(r),t=0;t<r;++t)o[t]=new Uint8ClampedArray(e[t]),l[t]=[0,0,0,0];for(e=0;e<a;e+=4){for(t=0;t<r;++t)u=o[t],l[t][0]=u[e],l[t][1]=u[e+1],l[t][2]=u[e+2],l[t][3]=u[e+3];t=h(l,n),i[e]=t[0],i[e+1]=t[1],i[e+2]=t[2],i[e+3]=t[3]}}return i.buffer}}function l(e,t){var n=Object.keys(e.lib||{}).map(function(t){return"var "+t+" = "+e.lib[t].toString()+";"}).concat(["var __minion__ = ("+s.toString()+")(",e.operation.toString(),");",'self.addEventListener("message", function(event) {',"  var buffer = __minion__(event.data);","  self.postMessage({buffer: buffer, meta: event.data.meta}, [buffer]);","});"]);return n=URL.createObjectURL(new Blob(n,{type:"text/javascript"})),(n=new Worker(n)).addEventListener("message",t),n}function n(t){var e;this.Re=!!t.ll;var n,i,o,r=[];if(e=0===t.threads?0:this.Re?1:t.threads||1)for(var a=0;a<e;++a)r[a]=l(t,this.ig.bind(this,a));else r[0]=(n=t,i=this.ig.bind(this,0),o=s(n.operation),{postMessage:function(t){setTimeout(function(){i({data:{buffer:o(t),meta:t.meta}})},0)}});this.Ld=r,this.$c=[],this.oj=t.uo||1/0,this.Jd=0,this.Ic={},this.Se=null}var u=t("./util").Fl;n.prototype.so=function(t,e,n){this.lj({Ac:t,Xg:e,qg:n}),this.fg()},n.prototype.lj=function(t){for(this.$c.push(t);this.$c.length>this.oj;)this.$c.shift().qg(null,null)},n.prototype.fg=function(){if(0===this.Jd&&0<this.$c.length){var t=this.Se=this.$c.shift(),e=t.Ac[0].width,n=t.Ac[0].height,i=t.Ac.map(function(t){return t.data.buffer}),o=this.Ld.length;if(1===(this.Jd=o))this.Ld[0].postMessage({buffers:i,meta:t.Xg,imageOps:this.Re,width:e,height:n},i);else for(var r=4*Math.ceil(t.Ac[0].data.length/4/o),a=0;a<o;++a){for(var s=a*r,l=[],u=0,c=i.length;u<c;++u)l.push(i[a].slice(s,s+r));this.Ld[a].postMessage({buffers:l,meta:t.Xg,imageOps:this.Re,width:e,height:n},l)}}},n.prototype.ig=function(t,e){this.Pp||(this.Ic[t]=e.data,--this.Jd,0===this.Jd&&this.pj())},n.prototype.pj=function(){var t,e,n=this.Se,i=this.Ld.length;if(1===i)t=new Uint8ClampedArray(this.Ic[0].buffer),e=this.Ic[0].meta;else{var o=n.Ac[0].data.length;t=new Uint8ClampedArray(o),e=Array(o),o=4*Math.ceil(o/4/i);for(var r=0;r<i;++r){var a=r*o;t.set(new Uint8ClampedArray(this.Ic[r].buffer),a),e[r]=this.Ic[r].meta}}this.Se=null,this.Ic={},n.qg(null,u(t,n.Ac[0].width,n.Ac[0].height),e),this.fg()},e.ja=n},{"./util":3}],3:[function(t,e,n){var i=!0;try{new ImageData(10,10)}catch(t){i=!1}var o=document.createElement("canvas").getContext("2d");n.Fl=function(t,e,n){return i?new ImageData(t,e,n):((e=o.createImageData(e,n)).data.set(t),e)}},{}]},{},[1])(1)}),wu=Nb.ja,g(Bb,Gl),Bb.prototype.v=function(t,e){this.S=new wu.$i({operation:t,ll:"image"===this.Aa,uo:1,lib:e,threads:this.Sa}),this.u()},Bb.prototype.A=function(t,e,n,i){n=!0;for(var o,r=0,a=this.c.length;r<a;++r)if("ready"!==(o=this.c[r].a.ha()).V()){n=!1;break}if(!n)return null;if(!Ub(this,t=t.slice(),e))return this.j;n=this.i.canvas,o=Math.round(te(t)/e),r=Math.round(Zt(t)/e),o===n.width&&r===n.height||(n.width=o,n.height=r),(o=M({},this.Y)).viewState=M({},o.viewState);r=Yt(t),a=Math.round(te(t)/e);var s=Math.round(Zt(t)/e);return o.extent=t,o.focus=Yt(t),o.size[0]=a,o.size[1]=s,(a=o.viewState).center=r,a.projection=i,a.resolution=e,this.j=i=new Rl(t,e,1,this.l,n,this.T.bind(this,o)),this.s={extent:t,resolution:e,Xo:this.g},i},Bb.prototype.T=function(t,e){for(var n=this.c.length,i=Array(n),o=0;o<n;++o){var r;r=this.c[o];var a=t,s=t.layerStatesArray[o];if(r.l(a,s)){var l=a.size[0],u=a.size[1];if(zb){var c=zb.canvas;c.width!==l||c.height!==u?zb=xi(l,u):zb.clearRect(0,0,l,u)}else zb=xi(l,u);r.i(a,s,zb),r=zb.getImageData(0,0,l,u)}else r=null;if(!r)return;i[o]=r}n={},this.b(new Hb(Vb,t,n)),this.S.so(i,n,this.ta.bind(this,t,e)),va(t.tileQueue,16,16)},Bb.prototype.ta=function(t,e,n,i,o){n?e(n):i&&(this.b(new Hb(qb,t,o)),Ub(this,t.extent,t.viewState.resolution/t.pixelRatio)||this.i.putImageData(i,0,0),e(null))};var zb=null;function Hb(t,e,n){G.call(this,t),this.extent=e.extent,this.resolution=e.viewState.resolution/e.pixelRatio,this.data=n}g(Hb,G);var Vb="beforeoperations",qb="afteroperations",Wb={terrain:{tb:"jpg",opaque:!0},"terrain-background":{tb:"jpg",opaque:!0},"terrain-labels":{tb:"png",opaque:!1},"terrain-lines":{tb:"png",opaque:!1},"toner-background":{tb:"png",opaque:!0},toner:{tb:"png",opaque:!0},"toner-hybrid":{tb:"png",opaque:!1},"toner-labels":{tb:"png",opaque:!1},"toner-lines":{tb:"png",opaque:!1},"toner-lite":{tb:"png",opaque:!0},watercolor:{tb:"jpg",opaque:!0}},Gb={terrain:{minZoom:4,maxZoom:18},toner:{minZoom:0,maxZoom:20},watercolor:{minZoom:1,maxZoom:16}};function Yb(t){var e=-1==(e=t.layer.indexOf("-"))?t.layer:t.layer.slice(0,e),n=(e=Gb[e],Wb[t.layer]);xb.call(this,{attributions:Kb,cacheSize:t.cacheSize,crossOrigin:"anonymous",maxZoom:null!=t.maxZoom?t.maxZoom:e.maxZoom,minZoom:null!=t.minZoom?t.minZoom:e.minZoom,opaque:n.opaque,reprojectionErrorThreshold:t.reprojectionErrorThreshold,tileLoadFunction:t.tileLoadFunction,url:void 0!==t.url?t.url:"https://stamen-tiles-{a-d}.a.ssl.fastly.net/"+t.layer+"/{z}/{x}/{y}."+n.tb})}g(Yb,xb);var Kb=[new Hn({html:'Map tiles by <a href="http://stamen.com/">Stamen Design</a>, under <a href="http://creativecommons.org/licenses/by/3.0/">CC BY 3.0</a>.'}),jb];function Zb(t){gb.call(this,{attributions:(t=t||{}).attributions,cacheSize:t.cacheSize,crossOrigin:t.crossOrigin,logo:t.logo,projection:t.projection,reprojectionErrorThreshold:t.reprojectionErrorThreshold,tileGrid:t.tileGrid,tileLoadFunction:t.tileLoadFunction,url:t.url,urls:t.urls,wrapX:void 0===t.wrapX||t.wrapX}),this.c=t.params||{},this.j=[1/0,1/0,-1/0,-1/0]}function Xb(t,e,n){Ni.call(this,t,2),this.l=e,this.c=n,this.g={}}function Jb(t){oo.call(this,{opaque:!1,projection:t.projection,tileGrid:t.tileGrid,wrapX:void 0===t.wrapX||t.wrapX})}function Qb(t){if(this.c=null,gb.call(this,{attributions:t.attributions,cacheSize:t.cacheSize,crossOrigin:t.crossOrigin,projection:we("EPSG:3857"),reprojectionErrorThreshold:t.reprojectionErrorThreshold,state:"loading",tileLoadFunction:t.tileLoadFunction,wrapX:void 0===t.wrapX||t.wrapX}),t.jsonp)db(t.url,this.yh.bind(this),this.me.bind(this));else{var e=new XMLHttpRequest;e.addEventListener("load",this.pn.bind(this)),e.addEventListener("error",this.nn.bind(this)),e.open("GET",t.url),e.send()}}function tw(t){if(oo.call(this,{projection:we("EPSG:3857"),state:"loading"}),this.s=void 0===t.preemptive||t.preemptive,this.j=tc,this.i=void 0,this.c=t.jsonp||!1,t.url)if(this.c)db(t.url,this.Bf.bind(this),this.ne.bind(this));else{var e=new XMLHttpRequest;e.addEventListener("load",this.tn.bind(this)),e.addEventListener("error",this.sn.bind(this)),e.open("GET",t.url),e.send()}else t.tileJSON&&this.Bf(t.tileJSON)}function ew(t,e,n,i,o,r){Ni.call(this,t,e),this.s=n,this.g=i,this.U=o,this.c=this.j=this.l=null,this.v=r}function nw(t){if(0==t.state)if(t.state=1,t.v)db(t.s,t.zh.bind(t),t.ae.bind(t));else{var e=new XMLHttpRequest;e.addEventListener("load",t.rn.bind(t)),e.addEventListener("error",t.qn.bind(t)),e.open("GET",t.s),e.send()}}function iw(t){var e=(t=t||{}).params||{};gb.call(this,{attributions:t.attributions,cacheSize:t.cacheSize,crossOrigin:t.crossOrigin,logo:t.logo,opaque:!(!("TRANSPARENT"in e)||e.TRANSPARENT),projection:t.projection,reprojectionErrorThreshold:t.reprojectionErrorThreshold,tileGrid:t.tileGrid,tileLoadFunction:t.tileLoadFunction,url:t.url,urls:t.urls,wrapX:void 0===t.wrapX||t.wrapX}),this.v=void 0!==t.gutter?t.gutter:0,this.c=e,this.j=!0,this.A=t.serverType,this.T=void 0===t.hidpi||t.hidpi,this.S="",rw(this),this.Y=[1/0,1/0,-1/0,-1/0],sw(this),ao(this,aw(this))}function ow(t,e,n,i,o,r,a){var s=t.urls;if(s){if(a.WIDTH=n[0],a.HEIGHT=n[1],a[t.j?"CRS":"SRS"]=r.cb,"STYLES"in t.c||(a.STYLES=""),1!=o)switch(t.A){case"geoserver":n=90*o+.5|0,a.FORMAT_OPTIONS="FORMAT_OPTIONS"in a?a.FORMAT_OPTIONS+";dpi:"+n:"dpi:"+n;break;case"mapserver":a.MAP_RESOLUTION=90*o;break;case"carmentaserver":case"qgis":a.DPI=90*o}return r=r.b,t.j&&"ne"==r.substr(0,2)&&(t=i[0],i[0]=i[1],i[1]=t,t=i[2],i[2]=i[3],i[3]=t),a.BBOX=i.join(","),Ab(1==s.length?s[0]:s[A((e[1]<<e[0])+e[2],s.length)],a)}}function rw(t){var e,n,i=0,o=[];if(t.urls)for(e=0,n=t.urls.length;e<n;++e)o[i++]=t.urls[e];t.S=o.join("#")}function aw(t){var e,n=0,i=[];for(e in t.c)i[n++]=e+"-"+t.c[e];return i.join("/")}function sw(t){t.j=0<=yt(t.c.VERSION||"1.3.0")}function lw(t){this.l=t.matrixIds,Wi.call(this,{extent:t.extent,origin:t.origin,origins:t.origins,resolutions:t.resolutions,tileSize:t.tileSize,tileSizes:t.tileSizes,sizes:t.sizes})}function uw(t,e){var n,o=[],r=[],a=[],s=[],l=[],u=(n=we(t.SupportedCRS.replace(/urn:ogc:def:crs:(\w+):(.*:)?(\w+)$/,"$1:$3"))).$b(),c="ne"==n.b.substr(0,2);return t.TileMatrix.sort(function(t,e){return e.ScaleDenominator-t.ScaleDenominator}),t.TileMatrix.forEach(function(t){r.push(t.Identifier);var e=28e-5*t.ScaleDenominator/u,n=t.TileWidth,i=t.TileHeight;c?a.push([t.TopLeftCorner[1],t.TopLeftCorner[0]]):a.push(t.TopLeftCorner),o.push(e),s.push(n==i?n:[n,i]),l.push([t.MatrixWidth,-t.MatrixHeight])}),new lw({extent:e,origins:a,resolutions:o,matrixIds:r,tileSizes:s,sizes:l})}function cw(t){this.T=void 0!==t.version?t.version:"1.0.0",this.v=void 0!==t.format?t.format:"image/jpeg",this.c=void 0!==t.dimensions?t.dimensions:{},this.A=t.layer,this.j=t.matrixSet,this.S=t.style;var e=t.urls;void 0===e&&void 0!==t.url&&(e=ec(t.url));var i=this.Y=void 0!==t.requestEncoding?t.requestEncoding:"KVP",o=t.tileGrid,n={layer:this.A,style:this.S,tilematrixset:this.j};"KVP"==i&&M(n,{Service:"WMTS",Request:"GetTile",Version:this.T,Format:this.v});var r=this.c,a=e&&0<e.length?Qu(e.map(function(e){return e="KVP"==i?Ab(e,n):e.replace(/\{(\w+?)\}/g,function(t,e){return e.toLowerCase()in n?n[e.toLowerCase()]:t}),function(t){if(t){var n={TileMatrix:o.l[t[0]],TileCol:t[1],TileRow:-t[2]-1};return M(n,r),t=e,"KVP"==i?Ab(t,n):t.replace(/\{(\w+?)\}/g,function(t,e){return n[e]})}}})):tc;gb.call(this,{attributions:t.attributions,cacheSize:t.cacheSize,crossOrigin:t.crossOrigin,logo:t.logo,projection:t.projection,reprojectionErrorThreshold:t.reprojectionErrorThreshold,tileClass:t.tileClass,tileGrid:o,tileLoadFunction:t.tileLoadFunction,tilePixelRatio:t.tilePixelRatio,tileUrlFunction:a,urls:e,wrapX:void 0!==t.wrapX&&t.wrapX}),ao(this,pw(this))}function pw(t){var e,n=0,i=[];for(e in t.c)i[n++]=e+"-"+t.c[e];return i.join("/")}function hw(t){var e=(a=(t=t||{}).size)[0],n=a[1],i=[],o=256;switch(void 0!==t.tierSizeCalculation?t.tierSizeCalculation:"default"){case"default":for(;o<e||o<n;)i.push([Math.ceil(e/o),Math.ceil(n/o)]),o+=o;break;case"truncated":for(;o<e||o<n;)i.push([Math.ceil(e/o),Math.ceil(n/o)]),e>>=1,n>>=1}i.push([1,1]),i.reverse();o=[1];var r=[0];for(n=1,e=i.length;n<e;n++)o.push(1<<n),r.push(i[n-1][0]*i[n-1][1]+r[n-1]);o.reverse();var a=new Wi({extent:a=[0,-a[1],a[0],0],origin:Jt(a),resolutions:o}),s=t.url;gb.call(this,{attributions:t.attributions,cacheSize:t.cacheSize,crossOrigin:t.crossOrigin,logo:t.logo,reprojectionErrorThreshold:t.reprojectionErrorThreshold,tileClass:dw,tileGrid:a,tileUrlFunction:function(t){if(t){var e=t[0],n=t[1];return t=-t[2]-1,s+"TileGroup"+((n+t*i[e][0]+r[e])/256|0)+"/"+e+"-"+n+"-"+t+".jpg"}}})}function dw(t,e,n,i,o){gy.call(this,t,e,n,i,o),this.l={}}function fw(t){t=t||{},this.a=void 0!==t.initialSize?t.initialSize:256,this.g=void 0!==t.maxSize?t.maxSize:void 0!==a?a:2048,this.b=void 0!==t.space?t.space:1,this.c=[new mw(this.a,this.b)],this.f=this.a,this.i=[new mw(this.f,this.b)]}function gw(t,e,n,i,o,r,a){var s,l,u,c=e?t.i:t.c;for(l=0,u=c.length;l<u;++l){if(s=(s=c[l]).add(n,i,o,r,a))return s;s||l!==u-1||(e?(s=Math.min(2*t.f,t.g),t.f=s):(s=Math.min(2*t.a,t.g),t.a=s),s=new mw(s,t.b),c.push(s),++u)}}function mw(t,e){this.b=e,this.a=[{x:0,y:0,width:t,height:t}],this.f={},this.g=xi(t,t),this.c=this.g.canvas}function vw(t,e,n,i){e=[e,1],0<n.width&&0<n.height&&e.push(n),0<i.width&&0<i.height&&e.push(i),t.a.splice.apply(t.a,e)}function yw(t){this.A=this.s=this.f=null,this.o=void 0!==t.fill?t.fill:null,this.ya=[0,0],this.b=t.points,this.g=void 0!==t.radius?t.radius:t.radius1,this.c=void 0!==t.radius2?t.radius2:this.g,this.l=void 0!==t.angle?t.angle:0,this.a=void 0!==t.stroke?t.stroke:null,this.R=this.Ba=this.D=null;var e,n=t.atlasManager,i="",o="",r=0,a=null,s=0;this.a&&(e=Qn(this.a.b),void 0===(s=this.a.a)&&(s=1),a=this.a.g,jo||(a=null),void 0===(o=this.a.c)&&(o="round"),void 0===(i=this.a.f)&&(i="round"),void 0===(r=this.a.i)&&(r=10));var l=2*(this.g+s)+1;i={strokeStyle:e,Bd:s,size:l,lineCap:i,lineDash:a,lineJoin:o,miterLimit:r};if(void 0===n){var u=xi(l,l);this.s=u.canvas,n=l=this.s.width,this.Ih(i,u,0,0),this.o?this.A=this.s:(u=xi(i.size,i.size),this.A=u.canvas,this.Hh(i,u,0,0))}else l=Math.round(l),(o=!this.o)&&(u=this.Hh.bind(this,i)),r=this.a?Hs(this.a):"-",a=this.o?Fs(this.o):"-",this.f&&r==this.f[1]&&a==this.f[2]&&this.g==this.f[3]&&this.c==this.f[4]&&this.l==this.f[5]&&this.b==this.f[6]||(this.f=["r"+r+a+(void 0!==this.g?this.g.toString():"-")+(void 0!==this.c?this.c.toString():"-")+(void 0!==this.l?this.l.toString():"-")+(void 0!==this.b?this.b.toString():"-"),r,a,this.g,this.c,this.l,this.b]),u=n.add(this.f[0],l,l,this.Ih.bind(this,i),u),this.s=u.image,this.ya=[u.offsetX,u.offsetY],n=u.image.width,this.A=o?u.Sg:this.s;this.D=[l/2,l/2],this.Ba=[l,l],this.R=[n,n],ta.call(this,{opacity:1,rotateWithView:void 0!==t.rotateWithView&&t.rotateWithView,rotation:void 0!==t.rotation?t.rotation:0,scale:1,snapToPixel:void 0===t.snapToPixel||t.snapToPixel})}return g(Zb,gb),Zb.prototype.v=function(){return this.c},Zb.prototype.bc=function(t){return t},Zb.prototype.vc=function(t,e,n){var i=this.tileGrid;if(i||(i=this.eb(n)),!(i.b.length<=t[0])){var o=i.Ea(t,this.j),r=zi(i.Ja(t[0]),this.o);1!=e&&(r=Ui(r,e,this.o)),M(i={F:"image",FORMAT:"PNG32",TRANSPARENT:!0},this.c);var a=this.urls;return t=a?(n=n.cb.split(":").pop(),i.SIZE=r[0]+","+r[1],i.BBOX=o.join(","),i.BBOXSR=n,i.IMAGESR=n,i.DPI=Math.round(i.DPI?i.DPI*e:90*e),Ab(t=(1==a.length?a[0]:a[A((t[1]<<t[0])+t[2],a.length)]).replace(/MapServer\/?$/,"MapServer/export").replace(/ImageServer\/?$/,"ImageServer/exportImage"),i)):void 0}},Zb.prototype.A=function(t){M(this.c,t),this.u()},g(Xb,Ni),Xb.prototype.$a=function(t){if((t=void 0!==t?O(t):-1)in this.g)return this.g[t];var e=this.l,n=xi(e[0],e[1]);return n.strokeStyle="black",n.strokeRect(.5,.5,e[0]+.5,e[1]+.5),n.fillStyle="black",n.textAlign="center",n.textBaseline="middle",n.font="24px sans-serif",n.fillText(this.c,e[0]/2,e[1]/2),this.g[t]=n.canvas},g(Jb,oo),Jb.prototype.ac=function(t,e,n){var i=this.Eb(t,e,n);if(Ii(this.a,i))return this.a.get(i);var o=zi(this.tileGrid.Ja(t));return o=new Xb(t=[t,e,n],o,e=(e=so(this,t))?so(this,e).toString():""),this.a.set(i,o),o},g(Qb,gb),(t=Qb.prototype).pn=function(t){if(200<=(t=t.target).status&&t.status<300){var e;try{e=JSON.parse(t.responseText)}catch(t){return void this.me()}this.yh(e)}else this.me()},t.nn=function(){this.me()},t.Ak=function(){return this.c},t.yh=function(t){var e,n=we("EPSG:4326"),i=this.f;void 0!==t.bounds&&(e=oe(t.bounds,_e(n,i)));var o=t.minzoom||0,r=t.maxzoom||22;if(this.tileGrid=i=eo({extent:io(i),maxZoom:r,minZoom:o}),this.tileUrlFunction=Ju(t.tiles,i),void 0!==t.attribution&&!this.l){n=void 0!==e?e:n.H(),e={};for(;o<=r;++o)e[o.toString()]=[Xi(i,n,o)];this.oa([new Hn({html:t.attribution,tileRanges:e})])}this.c=t,qi(this,"ready")},t.me=function(){qi(this,"error")},g(tw,oo),(t=tw.prototype).tn=function(t){if(200<=(t=t.target).status&&t.status<300){var e;try{e=JSON.parse(t.responseText)}catch(t){return void this.ne()}this.Bf(e)}else this.ne()},t.sn=function(){this.ne()},t.xk=function(){return this.i},t.Ij=function(t,e,n,i,o){var r,a,s,l,u;this.tileGrid?(e=this.tileGrid.Zd(t,e),r=this.ac(e[0],e[1],e[2],1,this.f),a=t,s=n,l=i,u=o,0==r.state&&!0===u?(U(r,"change",function(){s.call(l,this.getData(a))},r),nw(r)):!0===u?To(function(){s.call(l,this.getData(a))},r):s.call(l,r.getData(a))):!0===o?To(function(){n.call(i,null)}):n.call(i,null)},t.ne=function(){qi(this,"error")},t.Bf=function(t){var e,n=we("EPSG:4326"),i=this.f;void 0!==t.bounds&&(e=oe(t.bounds,_e(n,i)));var o=t.minzoom||0,r=t.maxzoom||22;this.tileGrid=i=eo({extent:io(i),maxZoom:r,minZoom:o}),this.i=t.template;var a=t.grids;if(a){if(this.j=Ju(a,i),void 0!==t.attribution){for(n=void 0!==e?e:n.H(),e={};o<=r;++o)e[a=o.toString()]=[Xi(i,n,o)];this.oa([new Hn({html:t.attribution,tileRanges:e})])}qi(this,"ready")}else qi(this,"error")},t.ac=function(t,e,n,i,o){var r=this.Eb(t,e,n);return Ii(this.a,r)?this.a.get(r):(e=so(this,t=[t,e,n],o),i=new ew(t,void 0!==(i=this.j(e,i,o))?0:4,void 0!==i?i:"",this.tileGrid.Ea(t),this.s,this.c),this.a.set(r,i),i)},t.Yf=function(t,e,n){t=this.Eb(t,e,n),Ii(this.a,t)&&this.a.get(t)},g(ew,Ni),(t=ew.prototype).$a=function(){return null},t.getData=function(t){if(!this.l||!this.j)return null;var e=this.l[Math.floor((1-(t[1]-this.g[1])/(this.g[3]-this.g[1]))*this.l.length)];return"string"!=typeof e?null:(93<=(e=e.charCodeAt(Math.floor((t[0]-this.g[0])/(this.g[2]-this.g[0])*e.length)))&&e--,35<=e&&e--,t=null,(e-=32)in this.j&&(e=this.j[e],t=this.c&&e in this.c?this.c[e]:e),t)},t.ib=function(){return this.s},t.ae=function(){this.state=3,ji(this)},t.zh=function(t){this.l=t.grid,this.j=t.keys,this.c=t.data,this.state=4,ji(this)},t.rn=function(t){if(200<=(t=t.target).status&&t.status<300){var e;try{e=JSON.parse(t.responseText)}catch(t){return void this.ae()}this.zh(e)}else this.ae()},t.qn=function(){this.ae()},t.load=function(){this.U&&nw(this)},g(iw,gb),(t=iw.prototype).vn=function(t,e,n,i){if(n=we(n),(a=this.tileGrid)||(a=this.eb(n)),e=a.Zd(t,e),!(a.b.length<=e[0])){var o=a.$(e[0]),r=a.Ea(e,this.Y),a=zi(a.Ja(e[0]),this.o),s=this.v;return 0!==s&&(a=Bi(a,s,this.o),r=Dt(r,o*s,r)),s={SERVICE:"WMS",VERSION:"1.3.0",REQUEST:"GetFeatureInfo",FORMAT:"image/png",TRANSPARENT:!0,QUERY_LAYERS:this.c.LAYERS},M(s,this.c,i),i=Math.floor((r[3]-t[1])/o),s[this.j?"I":"X"]=Math.floor((t[0]-r[0])/o),s[this.j?"J":"Y"]=i,ow(this,e,a,r,1,n,s)}},t.gf=function(){return this.v},t.Eb=function(t,e,n){return this.S+gb.prototype.Eb.call(this,t,e,n)},t.wn=function(){return this.c},t.bc=function(t){return this.T&&void 0!==this.A?t:1},t.vc=function(t,e,n){if((r=this.tileGrid)||(r=this.eb(n)),!(r.b.length<=t[0])){1==e||this.T&&void 0!==this.A||(e=1);var i=r.$(t[0]),o=r.Ea(t,this.Y),r=zi(r.Ja(t[0]),this.o),a=this.v;return 0!==a&&(r=Bi(r,a,this.o),o=Dt(o,i*a,o)),1!=e&&(r=Ui(r,e,this.o)),M(i={SERVICE:"WMS",VERSION:"1.3.0",REQUEST:"GetMap",FORMAT:"image/png",TRANSPARENT:!0},this.c),ow(this,t,r,o,e,n,i)}},t.xn=function(t){M(this.c,t),rw(this),sw(this),ao(this,aw(this))},g(lw,Wi),lw.prototype.j=function(){return this.l},g(cw,gb),(t=cw.prototype).Vj=function(){return this.c},t.yn=function(){return this.v},t.zn=function(){return this.A},t.hk=function(){return this.j},t.vk=function(){return this.Y},t.An=function(){return this.S},t.Ck=function(){return this.T},t.vp=function(t){M(this.c,t),ao(this,pw(this))},g(hw,gb),g(dw,gy),dw.prototype.$a=function(t){var e=void 0!==t?O(t).toString():"";if(e in this.l)return this.l[e];if(t=gy.prototype.$a.call(this,t),2!=this.state)return t;if(256==t.width&&256==t.height)return this.l[e]=t;var n=xi(256,256);return n.drawImage(t,0,0),this.l[e]=n.canvas},fw.prototype.add=function(t,e,n,i,o,r){return e+this.b>this.g||n+this.b>this.g?null:(i=gw(this,!1,t,e,n,i,r))?(t=gw(this,!0,t,e,n,void 0!==o?o:m,r),{offsetX:i.offsetX,offsetY:i.offsetY,image:i.image,Sg:t.image}):null},mw.prototype.get=function(t){return this.f[t]||null},mw.prototype.add=function(t,e,n,i,o){var r,a,s;for(a=0,s=this.a.length;a<s;++a)if((r=this.a[a]).width>=e+this.b&&r.height>=n+this.b)return s={offsetX:r.x+this.b,offsetY:r.y+this.b,image:this.c},this.f[t]=s,i.call(o,this.g,r.x+this.b,r.y+this.b),t=a,e+=this.b,i=n+this.b,vw(this,t,n,e=r.width-e>r.height-i?(n={x:r.x+e,y:r.y,width:r.width-e,height:r.height},{x:r.x,y:r.y+i,width:e,height:r.height-i}):(n={x:r.x+e,y:r.y,width:r.width-e,height:i},{x:r.x,y:r.y+i,width:r.width,height:r.height-i})),s;return null},g(yw,ta),(t=yw.prototype).Yb=function(){return this.D},t.Fn=function(){return this.l},t.Gn=function(){return this.o},t.pe=function(){return this.A},t.jc=function(){return this.s},t.ld=function(){return this.R},t.td=function(){return 2},t.Ia=function(){return this.ya},t.Hn=function(){return this.b},t.In=function(){return this.g},t.uk=function(){return this.c},t.Fb=function(){return this.Ba},t.Jn=function(){return this.a},t.pf=m,t.load=m,t.Xf=m,t.Ih=function(t,e,n,i){var o;for(e.setTransform(1,0,0,1,0,0),e.translate(n,i),e.beginPath(),this.c!==this.g&&(this.b*=2),n=0;n<=this.b;n++)i=2*n*Math.PI/this.b-Math.PI/2+this.l,o=0==n%2?this.g:this.c,e.lineTo(t.size/2+o*Math.cos(i),t.size/2+o*Math.sin(i));this.o&&(e.fillStyle=ri(this.o.b),e.fill()),this.a&&(e.strokeStyle=t.strokeStyle,e.lineWidth=t.Bd,t.lineDash&&e.setLineDash(t.lineDash),e.lineCap=t.lineCap,e.lineJoin=t.lineJoin,e.miterLimit=t.miterLimit,e.stroke()),e.closePath()},t.Hh=function(t,e,n,i){var o;for(e.setTransform(1,0,0,1,0,0),e.translate(n,i),e.beginPath(),this.c!==this.g&&(this.b*=2),n=0;n<=this.b;n++)o=2*n*Math.PI/this.b-Math.PI/2+this.l,i=0==n%2?this.g:this.c,e.lineTo(t.size/2+i*Math.cos(o),t.size/2+i*Math.sin(o));e.fillStyle=Ps,e.fill(),this.a&&(e.strokeStyle=t.strokeStyle,e.lineWidth=t.Bd,t.lineDash&&e.setLineDash(t.lineDash),e.stroke()),e.closePath()},n("ol.animation.bounce",function(t){var o=t.resolution,r=t.start?t.start:Date.now(),a=void 0!==t.duration?t.duration:1e3,s=t.easing?t.easing:Ln;return function(t,e){if(e.time<r)return e.animate=!0,e.viewHints[0]+=1,!0;if(e.time<r+a){var n=s((e.time-r)/a),i=o-e.viewState.resolution;return e.animate=!0,e.viewState.resolution+=n*i,e.viewHints[0]+=1,!0}return!1}},e),n("ol.animation.pan",Fn,e),n("ol.animation.rotate",Nn,e),n("ol.animation.zoom",jn,e),n("ol.Attribution",Hn,e),Hn.prototype.getHTML=Hn.prototype.g,Vn.prototype.element=Vn.prototype.element,n("ol.Collection",qn,e),qn.prototype.clear=qn.prototype.clear,qn.prototype.extend=qn.prototype.qf,qn.prototype.forEach=qn.prototype.forEach,qn.prototype.getArray=qn.prototype.Gl,qn.prototype.item=qn.prototype.item,qn.prototype.getLength=qn.prototype.dc,qn.prototype.insertAt=qn.prototype.ee,qn.prototype.pop=qn.prototype.pop,qn.prototype.push=qn.prototype.push,qn.prototype.remove=qn.prototype.remove,qn.prototype.removeAt=qn.prototype.Rf,qn.prototype.setAt=qn.prototype.Zo,n("ol.colorlike.asColorLike",ri,e),n("ol.coordinate.add",bt,e),n("ol.coordinate.createStringXY",function(e){return function(t){return Tt(t,e)}},e),n("ol.coordinate.format",$t,e),n("ol.coordinate.rotate",kt,e),n("ol.coordinate.toStringHDMS",function(t,e){return t?xt(t[1],"NS",e)+" "+xt(t[0],"EW",e):""},e),n("ol.coordinate.toStringXY",Tt,e),n("ol.DeviceOrientation",Dp,e),Dp.prototype.getAlpha=Dp.prototype.Oj,Dp.prototype.getBeta=Dp.prototype.Rj,Dp.prototype.getGamma=Dp.prototype.Yj,Dp.prototype.getHeading=Dp.prototype.Hl,Dp.prototype.getTracking=Dp.prototype.$g,Dp.prototype.setTracking=Dp.prototype.rf,n("ol.easing.easeIn",Pn,e),n("ol.easing.easeOut",On,e),n("ol.easing.inAndOut",In,e),n("ol.easing.linear",Rn,e),n("ol.easing.upAndDown",Ln,e),n("ol.extent.boundingExtent",At,e),n("ol.extent.buffer",Dt,e),n("ol.extent.containsCoordinate",Pt,e),n("ol.extent.containsExtent",Ot,e),n("ol.extent.containsXY",It,e),n("ol.extent.createEmpty",Lt,e),n("ol.extent.equals",Bt,e),n("ol.extent.extend",Ut,e),n("ol.extent.getBottomLeft",Wt,e),n("ol.extent.getBottomRight",Gt,e),n("ol.extent.getCenter",Yt,e),n("ol.extent.getHeight",Zt,e),n("ol.extent.getIntersection",Xt,e),n("ol.extent.getSize",function(t){return[t[2]-t[0],t[3]-t[1]]},e),n("ol.extent.getTopLeft",Jt,e),n("ol.extent.getTopRight",Qt,e),n("ol.extent.getWidth",te,e),n("ol.extent.intersects",ee,e),n("ol.extent.isEmpty",ne,e),n("ol.extent.applyTransform",oe,e),n("ol.Feature",eu,e),eu.prototype.clone=eu.prototype.clone,eu.prototype.getGeometry=eu.prototype.W,eu.prototype.getId=eu.prototype.Xa,eu.prototype.getGeometryName=eu.prototype.$j,eu.prototype.getStyle=eu.prototype.Jl,eu.prototype.getStyleFunction=eu.prototype.ec,eu.prototype.setGeometry=eu.prototype.Ua,eu.prototype.setStyle=eu.prototype.sf,eu.prototype.setId=eu.prototype.mc,eu.prototype.setGeometryName=eu.prototype.Ec,n("ol.featureloader.tile",Eu,e),n("ol.featureloader.xhr",Pu,e),n("ol.Geolocation",ry,e),ry.prototype.getAccuracy=ry.prototype.Mj,ry.prototype.getAccuracyGeometry=ry.prototype.Nj,ry.prototype.getAltitude=ry.prototype.Pj,ry.prototype.getAltitudeAccuracy=ry.prototype.Qj,ry.prototype.getHeading=ry.prototype.Ll,ry.prototype.getPosition=ry.prototype.Ml,ry.prototype.getProjection=ry.prototype.ah,ry.prototype.getSpeed=ry.prototype.wk,ry.prototype.getTracking=ry.prototype.bh,ry.prototype.getTrackingOptions=ry.prototype.Mg,ry.prototype.setProjection=ry.prototype.dh,ry.prototype.setTracking=ry.prototype.ge,ry.prototype.setTrackingOptions=ry.prototype.si,n("ol.Graticule",uy,e),uy.prototype.getMap=uy.prototype.Pl,uy.prototype.getMeridians=uy.prototype.ik,uy.prototype.getParallels=uy.prototype.qk,uy.prototype.setMap=uy.prototype.setMap,n("ol.has.DEVICE_PIXEL_RATIO",No,e),n("ol.has.CANVAS",Bo,e),n("ol.has.DEVICE_ORIENTATION",Uo,e),n("ol.has.GEOLOCATION",zo,e),n("ol.has.TOUCH",Ho,e),n("ol.has.WEBGL",Po,e),fy.prototype.getImage=fy.prototype.a,fy.prototype.load=fy.prototype.load,gy.prototype.getImage=gy.prototype.$a,gy.prototype.load=gy.prototype.load,n("ol.Kinetic",ya,e),n("ol.loadingstrategy.all",Ou,e),n("ol.loadingstrategy.bbox",function(t){return[t]},e),n("ol.loadingstrategy.tile",function(r){return function(t,e){var n=r.Lb(e),i=Xi(r,t,n),o=[];for((n=[n,0,0])[1]=i.ca;n[1]<=i.ea;++n[1])for(n[2]=i.fa;n[2]<=i.ga;++n[2])o.push(r.Ea(n));return o}},e),n("ol.Map",up,e),up.prototype.addControl=up.prototype.uj,up.prototype.addInteraction=up.prototype.vj,up.prototype.addLayer=up.prototype.kg,up.prototype.addOverlay=up.prototype.lg,up.prototype.beforeRender=up.prototype.Wa,up.prototype.forEachFeatureAtPixel=up.prototype.kd,up.prototype.forEachLayerAtPixel=up.prototype.Tl,up.prototype.hasFeatureAtPixel=up.prototype.kl,up.prototype.getEventCoordinate=up.prototype.Wj,up.prototype.getEventPixel=up.prototype.Td,up.prototype.getTarget=up.prototype.tf,up.prototype.getTargetElement=up.prototype.yc,up.prototype.getCoordinateFromPixel=up.prototype.Ma,up.prototype.getControls=up.prototype.Uj,up.prototype.getOverlays=up.prototype.nk,up.prototype.getOverlayById=up.prototype.mk,up.prototype.getInteractions=up.prototype.ak,up.prototype.getLayerGroup=up.prototype.xc,up.prototype.getLayers=up.prototype.eh,up.prototype.getPixelFromCoordinate=up.prototype.Ga,up.prototype.getSize=up.prototype.Za,up.prototype.getView=up.prototype.aa,up.prototype.getViewport=up.prototype.Dk,up.prototype.renderSync=up.prototype.Vo,up.prototype.render=up.prototype.render,up.prototype.removeControl=up.prototype.Oo,up.prototype.removeInteraction=up.prototype.Po,up.prototype.removeLayer=up.prototype.Ro,up.prototype.removeOverlay=up.prototype.So,up.prototype.setLayerGroup=up.prototype.ji,up.prototype.setSize=up.prototype.Wf,up.prototype.setTarget=up.prototype.fh,up.prototype.setView=up.prototype.kp,up.prototype.updateSize=up.prototype.Xc,xr.prototype.originalEvent=xr.prototype.originalEvent,xr.prototype.pixel=xr.prototype.pixel,xr.prototype.coordinate=xr.prototype.coordinate,xr.prototype.dragging=xr.prototype.dragging,Ei.prototype.map=Ei.prototype.map,Ei.prototype.frameState=Ei.prototype.frameState,tt.prototype.key=tt.prototype.key,tt.prototype.oldValue=tt.prototype.oldValue,n("ol.Object",et,e),et.prototype.get=et.prototype.get,et.prototype.getKeys=et.prototype.N,et.prototype.getProperties=et.prototype.O,et.prototype.set=et.prototype.set,et.prototype.setProperties=et.prototype.G,et.prototype.unset=et.prototype.P,n("ol.Observable",J,e),n("ol.Observable.unByKey",Q,e),J.prototype.changed=J.prototype.u,J.prototype.dispatchEvent=J.prototype.b,J.prototype.getRevision=J.prototype.K,J.prototype.on=J.prototype.I,J.prototype.once=J.prototype.L,J.prototype.un=J.prototype.J,J.prototype.unByKey=J.prototype.M,n("ol.inherits",g,e),n("ol.Overlay",cp,e),cp.prototype.getElement=cp.prototype.Sd,cp.prototype.getId=cp.prototype.Xa,cp.prototype.getMap=cp.prototype.he,cp.prototype.getOffset=cp.prototype.Kg,cp.prototype.getPosition=cp.prototype.gh,cp.prototype.getPositioning=cp.prototype.Lg,cp.prototype.setElement=cp.prototype.fi,cp.prototype.setMap=cp.prototype.setMap,cp.prototype.setOffset=cp.prototype.li,cp.prototype.setPosition=cp.prototype.uf,cp.prototype.setPositioning=cp.prototype.oi,n("ol.render.toContext",function(t,e){var n=t.canvas,i=e||{},o=i.pixelRatio||No;return(i=i.size)&&(n.width=i[0]*o,n.height=i[1]*o,n.style.width=i[0]+"px",n.style.height=i[1]+"px"),new tl(t,o,n=[0,0,n.width,n.height],i=zr(Ee(),0,0,o,o,0,0,0),0)},e),n("ol.size.toSize",zi,e),Ni.prototype.getTileCoord=Ni.prototype.i,Ni.prototype.load=Ni.prototype.load,nu.prototype.getFormat=nu.prototype.Ul,nu.prototype.setFeatures=nu.prototype.gi,nu.prototype.setProjection=nu.prototype.vf,nu.prototype.setLoader=nu.prototype.ki,n("ol.View",Tn,e),Tn.prototype.constrainCenter=Tn.prototype.Pd,Tn.prototype.constrainResolution=Tn.prototype.constrainResolution,Tn.prototype.constrainRotation=Tn.prototype.constrainRotation,Tn.prototype.getCenter=Tn.prototype.ab,Tn.prototype.calculateExtent=Tn.prototype.Kc,Tn.prototype.getMaxResolution=Tn.prototype.Vl,Tn.prototype.getMinResolution=Tn.prototype.Wl,Tn.prototype.getProjection=Tn.prototype.Xl,Tn.prototype.getResolution=Tn.prototype.$,Tn.prototype.getResolutions=Tn.prototype.Yl,Tn.prototype.getRotation=Tn.prototype.La,Tn.prototype.getZoom=Tn.prototype.Fk,Tn.prototype.fit=Tn.prototype.cf,Tn.prototype.centerOn=Tn.prototype.Ej,Tn.prototype.rotate=Tn.prototype.rotate,Tn.prototype.setCenter=Tn.prototype.mb,Tn.prototype.setResolution=Tn.prototype.Ub,Tn.prototype.setRotation=Tn.prototype.ie,Tn.prototype.setZoom=Tn.prototype.np,n("ol.xml.getAllTextContent",ru,e),n("ol.xml.parse",lu,e),Sc.prototype.getGL=Sc.prototype.$n,Sc.prototype.useProgram=Sc.prototype.we,n("ol.tilegrid.TileGrid",Wi,e),Wi.prototype.forEachTileCoord=Wi.prototype.yg,Wi.prototype.getMaxZoom=Wi.prototype.Ig,Wi.prototype.getMinZoom=Wi.prototype.Jg,Wi.prototype.getOrigin=Wi.prototype.Ia,Wi.prototype.getResolution=Wi.prototype.$,Wi.prototype.getResolutions=Wi.prototype.Kh,Wi.prototype.getTileCoordExtent=Wi.prototype.Ea,Wi.prototype.getTileCoordForCoordAndResolution=Wi.prototype.Zd,Wi.prototype.getTileCoordForCoordAndZ=Wi.prototype.qd,Wi.prototype.getTileSize=Wi.prototype.Ja,Wi.prototype.getZForResolution=Wi.prototype.Lb,n("ol.tilegrid.createXYZ",eo,e),n("ol.tilegrid.WMTS",lw,e),lw.prototype.getMatrixIds=lw.prototype.j,n("ol.tilegrid.WMTS.createFromCapabilitiesMatrixSet",uw,e),n("ol.style.AtlasManager",fw,e),n("ol.style.Circle",Vs,e),Vs.prototype.getFill=Vs.prototype.Bn,Vs.prototype.getImage=Vs.prototype.jc,Vs.prototype.getRadius=Vs.prototype.Cn,Vs.prototype.getStroke=Vs.prototype.Dn,n("ol.style.Fill",Ls,e),Ls.prototype.getColor=Ls.prototype.g,Ls.prototype.setColor=Ls.prototype.f,n("ol.style.Icon",ea,e),ea.prototype.getAnchor=ea.prototype.Yb,ea.prototype.getImage=ea.prototype.jc,ea.prototype.getOrigin=ea.prototype.Ia,ea.prototype.getSrc=ea.prototype.En,ea.prototype.getSize=ea.prototype.Fb,ea.prototype.load=ea.prototype.load,n("ol.style.Image",ta,e),ta.prototype.getOpacity=ta.prototype.qe,ta.prototype.getRotateWithView=ta.prototype.Xd,ta.prototype.getRotation=ta.prototype.re,ta.prototype.getScale=ta.prototype.se,ta.prototype.getSnapToPixel=ta.prototype.Yd,ta.prototype.setOpacity=ta.prototype.te,ta.prototype.setRotation=ta.prototype.ue,ta.prototype.setScale=ta.prototype.ve,n("ol.style.RegularShape",yw,e),yw.prototype.getAnchor=yw.prototype.Yb,yw.prototype.getAngle=yw.prototype.Fn,yw.prototype.getFill=yw.prototype.Gn,yw.prototype.getImage=yw.prototype.jc,yw.prototype.getOrigin=yw.prototype.Ia,yw.prototype.getPoints=yw.prototype.Hn,yw.prototype.getRadius=yw.prototype.In,yw.prototype.getRadius2=yw.prototype.uk,yw.prototype.getSize=yw.prototype.Fb,yw.prototype.getStroke=yw.prototype.Jn,n("ol.style.Stroke",zs,e),zs.prototype.getColor=zs.prototype.Kn,zs.prototype.getLineCap=zs.prototype.dk,zs.prototype.getLineDash=zs.prototype.Ln,zs.prototype.getLineJoin=zs.prototype.ek,zs.prototype.getMiterLimit=zs.prototype.jk,zs.prototype.getWidth=zs.prototype.Mn,zs.prototype.setColor=zs.prototype.Nn,zs.prototype.setLineCap=zs.prototype.fp,zs.prototype.setLineDash=zs.prototype.On,zs.prototype.setLineJoin=zs.prototype.gp,zs.prototype.setMiterLimit=zs.prototype.hp,zs.prototype.setWidth=zs.prototype.lp,n("ol.style.Style",qs,e),qs.prototype.getGeometry=qs.prototype.W,qs.prototype.getGeometryFunction=qs.prototype.Zj,qs.prototype.getFill=qs.prototype.Pn,qs.prototype.getImage=qs.prototype.Qn,qs.prototype.getStroke=qs.prototype.Rn,qs.prototype.getText=qs.prototype.Ha,qs.prototype.getZIndex=qs.prototype.Sn,qs.prototype.setGeometry=qs.prototype.Jh,qs.prototype.setZIndex=qs.prototype.Tn,n("ol.style.Text",Gd,e),Gd.prototype.getFont=Gd.prototype.Xj,Gd.prototype.getOffsetX=Gd.prototype.kk,Gd.prototype.getOffsetY=Gd.prototype.lk,Gd.prototype.getFill=Gd.prototype.Un,Gd.prototype.getRotation=Gd.prototype.Vn,Gd.prototype.getScale=Gd.prototype.Wn,Gd.prototype.getStroke=Gd.prototype.Xn,Gd.prototype.getText=Gd.prototype.Ha,Gd.prototype.getTextAlign=Gd.prototype.yk,Gd.prototype.getTextBaseline=Gd.prototype.zk,Gd.prototype.setFont=Gd.prototype.bp,Gd.prototype.setOffsetX=Gd.prototype.mi,Gd.prototype.setOffsetY=Gd.prototype.ni,Gd.prototype.setFill=Gd.prototype.ap,Gd.prototype.setRotation=Gd.prototype.Yn,Gd.prototype.setScale=Gd.prototype.Zn,Gd.prototype.setStroke=Gd.prototype.ip,Gd.prototype.setText=Gd.prototype.pi,Gd.prototype.setTextAlign=Gd.prototype.ri,Gd.prototype.setTextBaseline=Gd.prototype.jp,n("ol.Sphere",se,e),se.prototype.geodesicArea=se.prototype.a,se.prototype.haversineDistance=se.prototype.b,n("ol.source.BingMaps",bb,e),n("ol.source.BingMaps.TOS_ATTRIBUTION",wb,e),n("ol.source.CartoDB",$b,e),$b.prototype.getConfig=$b.prototype.Tj,$b.prototype.updateConfig=$b.prototype.up,$b.prototype.setConfig=$b.prototype.$o,n("ol.source.Cluster",Cb,e),Cb.prototype.getSource=Cb.prototype.Aa,n("ol.source.ImageArcGISRest",Db,e),Db.prototype.getParams=Db.prototype.Sm,Db.prototype.getImageLoadFunction=Db.prototype.Rm,Db.prototype.getUrl=Db.prototype.Tm,Db.prototype.setImageLoadFunction=Db.prototype.Um,Db.prototype.setUrl=Db.prototype.Vm,Db.prototype.updateParams=Db.prototype.Wm,n("ol.source.ImageCanvas",tu,e),n("ol.source.ImageMapGuide",Mb,e),Mb.prototype.getParams=Mb.prototype.Ym,Mb.prototype.getImageLoadFunction=Mb.prototype.Xm,Mb.prototype.updateParams=Mb.prototype.$m,Mb.prototype.setImageLoadFunction=Mb.prototype.Zm,n("ol.source.Image",Gl,e),Zl.prototype.image=Zl.prototype.image,n("ol.source.ImageStatic",Eb,e),n("ol.source.ImageVector",Wu,e),Wu.prototype.getSource=Wu.prototype.an,Wu.prototype.getStyle=Wu.prototype.bn,Wu.prototype.getStyleFunction=Wu.prototype.cn,Wu.prototype.setStyle=Wu.prototype.xh,n("ol.source.ImageWMS",Pb,e),Pb.prototype.getGetFeatureInfoUrl=Pb.prototype.fn,Pb.prototype.getParams=Pb.prototype.hn,Pb.prototype.getImageLoadFunction=Pb.prototype.gn,Pb.prototype.getUrl=Pb.prototype.jn,Pb.prototype.setImageLoadFunction=Pb.prototype.kn,Pb.prototype.setUrl=Pb.prototype.ln,Pb.prototype.updateParams=Pb.prototype.mn,n("ol.source.OSM",Lb,e),n("ol.source.OSM.ATTRIBUTION",jb,e),n("ol.source.Raster",Bb,e),Bb.prototype.setOperation=Bb.prototype.v,Hb.prototype.extent=Hb.prototype.extent,Hb.prototype.resolution=Hb.prototype.resolution,Hb.prototype.data=Hb.prototype.data,n("ol.source.Source",Hi,e),Hi.prototype.getAttributions=Hi.prototype.wa,Hi.prototype.getLogo=Hi.prototype.ua,Hi.prototype.getProjection=Hi.prototype.xa,Hi.prototype.getState=Hi.prototype.V,Hi.prototype.refresh=Hi.prototype.sa,Hi.prototype.setAttributions=Hi.prototype.oa,n("ol.source.Stamen",Yb,e),n("ol.source.TileArcGISRest",Zb,e),Zb.prototype.getParams=Zb.prototype.v,Zb.prototype.updateParams=Zb.prototype.A,n("ol.source.TileDebug",Jb,e),n("ol.source.TileImage",gb,e),gb.prototype.setRenderReprojectionEdges=gb.prototype.zb,gb.prototype.setTileGridForProjection=gb.prototype.Ab,n("ol.source.TileJSON",Qb,e),Qb.prototype.getTileJSON=Qb.prototype.Ak,n("ol.source.Tile",oo,e),oo.prototype.getTileGrid=oo.prototype.Na,lo.prototype.tile=lo.prototype.tile,n("ol.source.TileUTFGrid",tw,e),tw.prototype.getTemplate=tw.prototype.xk,tw.prototype.forDataAtCoordinateAndResolution=tw.prototype.Ij,n("ol.source.TileWMS",iw,e),iw.prototype.getGetFeatureInfoUrl=iw.prototype.vn,iw.prototype.getParams=iw.prototype.wn,iw.prototype.updateParams=iw.prototype.xn,nc.prototype.getTileLoadFunction=nc.prototype.fb,nc.prototype.getTileUrlFunction=nc.prototype.gb,nc.prototype.getUrls=nc.prototype.hb,nc.prototype.setTileLoadFunction=nc.prototype.kb,nc.prototype.setTileUrlFunction=nc.prototype.Qa,nc.prototype.setUrl=nc.prototype.Va,nc.prototype.setUrls=nc.prototype.bb,n("ol.source.Vector",Bu,e),Bu.prototype.addFeature=Bu.prototype.rb,Bu.prototype.addFeatures=Bu.prototype.Jc,Bu.prototype.clear=Bu.prototype.clear,Bu.prototype.forEachFeature=Bu.prototype.wg,Bu.prototype.forEachFeatureInExtent=Bu.prototype.ub,Bu.prototype.forEachFeatureIntersectingExtent=Bu.prototype.xg,Bu.prototype.getFeaturesCollection=Bu.prototype.Fg,Bu.prototype.getFeatures=Bu.prototype.oe,Bu.prototype.getFeaturesAtCoordinate=Bu.prototype.Eg,Bu.prototype.getFeaturesInExtent=Bu.prototype.ef,Bu.prototype.getClosestFeatureToCoordinate=Bu.prototype.Ag,Bu.prototype.getExtent=Bu.prototype.H,Bu.prototype.getFeatureById=Bu.prototype.Dg,Bu.prototype.getFormat=Bu.prototype.Ch,Bu.prototype.getUrl=Bu.prototype.Dh,Bu.prototype.removeFeature=Bu.prototype.nb,qu.prototype.feature=qu.prototype.feature,n("ol.source.VectorTile",ic,e),n("ol.source.WMTS",cw,e),cw.prototype.getDimensions=cw.prototype.Vj,cw.prototype.getFormat=cw.prototype.yn,cw.prototype.getLayer=cw.prototype.zn,cw.prototype.getMatrixSet=cw.prototype.hk,cw.prototype.getRequestEncoding=cw.prototype.vk,cw.prototype.getStyle=cw.prototype.An,cw.prototype.getVersion=cw.prototype.Ck,cw.prototype.updateDimensions=cw.prototype.vp,n("ol.source.WMTS.optionsFromCapabilities",function(t,n){var e,i,o=pt(t.Contents.Layer,function(t){return t.Identifier==n.layer}),r=t.Contents.TileMatrixSet;(e=1<o.TileMatrixSetLink.length?ft(o.TileMatrixSetLink,"projection"in n?function(e){return pt(r,function(t){return t.Identifier==e.TileMatrixSet}).SupportedCRS.replace(/urn:ogc:def:crs:(\w+):(.*:)?(\w+)$/,"$1:$3")==n.projection}:function(t){return t.TileMatrixSet==n.matrixSet}):0)<0&&(e=0),i=o.TileMatrixSetLink[e].TileMatrixSet;var a=o.Format[0];"format"in n&&(a=n.format),(e=ft(o.Style,function(t){return"style"in n?t.Title==n.style:t.isDefault}))<0&&(e=0),e=o.Style[e].Identifier;var s={};"Dimension"in o&&o.Dimension.forEach(function(t){var e=t.Identifier,n=t.Default;void 0===n&&(n=t.Value[0]),s[e]=n});var l,u,c,p=pt(t.Contents.TileMatrixSet,function(t){return t.Identifier==i});l=we("projection"in n?n.projection:p.SupportedCRS.replace(/urn:ogc:def:crs:(\w+):(.*:)?(\w+)$/,"$1:$3")),void 0!==(d=o.WGS84BoundingBox)&&(c=we("EPSG:4326").H(),c=d[0]==c[0]&&d[2]==c[2],u=Te(d,"EPSG:4326",l),(d=l.H())&&(Ot(d,u)||(u=void 0)));p=uw(p,u);var h=[];if(u=void 0!==(u=n.requestEncoding)?u:"","OperationsMetadata"in t&&"GetTile"in t.OperationsMetadata)for(var d,f=0,g=(d=t.OperationsMetadata.GetTile.DCP.HTTP.Get).length;f<g;++f){var m=pt(d[f].Constraint,function(t){return"GetEncoding"==t.name}).AllowedValues.Value;if(""===u&&(u=m[0]),"KVP"!==u)break;at(m,"KVP")&&h.push(d[f].href)}return 0===h.length&&(u="REST",o.ResourceURL.forEach(function(t){"tile"===t.resourceType&&(a=t.format,h.push(t.template))})),{urls:h,layer:n.layer,matrixSet:i,format:a,projection:l,requestEncoding:u,tileGrid:p,style:e,dimensions:s,wrapX:c}},e),n("ol.source.XYZ",xb,e),n("ol.source.Zoomify",hw,e),Fr.prototype.vectorContext=Fr.prototype.vectorContext,Fr.prototype.frameState=Fr.prototype.frameState,Fr.prototype.context=Fr.prototype.context,Fr.prototype.glContext=Fr.prototype.glContext,Ml.prototype.get=Ml.prototype.get,Ml.prototype.getExtent=Ml.prototype.H,Ml.prototype.getGeometry=Ml.prototype.W,Ml.prototype.getProperties=Ml.prototype.Nm,Ml.prototype.getType=Ml.prototype.X,n("ol.render.VectorContext",Lr,e),Wc.prototype.setStyle=Wc.prototype.sd,Wc.prototype.drawGeometry=Wc.prototype.sc,Wc.prototype.drawFeature=Wc.prototype.Ye,tl.prototype.drawCircle=tl.prototype.Rd,tl.prototype.setStyle=tl.prototype.sd,tl.prototype.drawGeometry=tl.prototype.sc,tl.prototype.drawFeature=tl.prototype.Ye,n("ol.proj.common.add",Ds,e),n("ol.proj.METERS_PER_UNIT",ue,e),n("ol.proj.Projection",ce,e),ce.prototype.getCode=ce.prototype.Sj,ce.prototype.getExtent=ce.prototype.H,ce.prototype.getUnits=ce.prototype.wb,ce.prototype.getMetersPerUnit=ce.prototype.$b,ce.prototype.getWorldExtent=ce.prototype.Ek,ce.prototype.isGlobal=ce.prototype.pl,ce.prototype.setGlobal=ce.prototype.ep,ce.prototype.setExtent=ce.prototype.Mm,ce.prototype.setWorldExtent=ce.prototype.mp,ce.prototype.setGetPointResolution=ce.prototype.cp,ce.prototype.getPointResolution=ce.prototype.getPointResolution,n("ol.proj.setProj4",function(t){de=t},e),n("ol.proj.addEquivalentProjections",fe,e),n("ol.proj.addProjection",ge,e),n("ol.proj.addCoordinateTransforms",ye,e),n("ol.proj.fromLonLat",function(t,e){return Se(t,"EPSG:4326",void 0!==e?e:"EPSG:3857")},e),n("ol.proj.toLonLat",function(t,e){return Se(t,void 0!==e?e:"EPSG:3857","EPSG:4326")},e),n("ol.proj.get",we,e),n("ol.proj.equivalent",xe,e),n("ol.proj.getTransform",$e,e),n("ol.proj.transform",Se,e),n("ol.proj.transformExtent",Te,e),n("ol.layer.Heatmap",pb,e),pb.prototype.getBlur=pb.prototype.zg,pb.prototype.getGradient=pb.prototype.Gg,pb.prototype.getRadius=pb.prototype.ph,pb.prototype.setBlur=pb.prototype.di,pb.prototype.setGradient=pb.prototype.ii,pb.prototype.setRadius=pb.prototype.qh,n("ol.layer.Image",Ms,e),Ms.prototype.getSource=Ms.prototype.ha,n("ol.layer.Layer",Nr,e),Nr.prototype.getSource=Nr.prototype.ha,Nr.prototype.setMap=Nr.prototype.setMap,Nr.prototype.setSource=Nr.prototype.Fc,n("ol.layer.Base",Ir,e),Ir.prototype.getExtent=Ir.prototype.H,Ir.prototype.getMaxResolution=Ir.prototype.Nb,Ir.prototype.getMinResolution=Ir.prototype.Ob,Ir.prototype.getOpacity=Ir.prototype.Pb,Ir.prototype.getVisible=Ir.prototype.xb,Ir.prototype.getZIndex=Ir.prototype.Qb,Ir.prototype.setExtent=Ir.prototype.fc,Ir.prototype.setMaxResolution=Ir.prototype.nc,Ir.prototype.setMinResolution=Ir.prototype.oc,Ir.prototype.setOpacity=Ir.prototype.gc,Ir.prototype.setVisible=Ir.prototype.hc,Ir.prototype.setZIndex=Ir.prototype.ic,n("ol.layer.Group",ms,e),ms.prototype.getLayers=ms.prototype.Tc,ms.prototype.setLayers=ms.prototype.oh,n("ol.layer.Tile",Es,e),Es.prototype.getPreload=Es.prototype.f,Es.prototype.getSource=Es.prototype.ha,Es.prototype.setPreload=Es.prototype.l,Es.prototype.getUseInterimTilesOnError=Es.prototype.c,Es.prototype.setUseInterimTilesOnError=Es.prototype.A,n("ol.layer.Vector",Xs,e),Xs.prototype.getSource=Xs.prototype.ha,Xs.prototype.getStyle=Xs.prototype.C,Xs.prototype.getStyleFunction=Xs.prototype.D,Xs.prototype.setStyle=Xs.prototype.l,n("ol.layer.VectorTile",Qs,e),Qs.prototype.getPreload=Qs.prototype.f,Qs.prototype.getUseInterimTilesOnError=Qs.prototype.c,Qs.prototype.setPreload=Qs.prototype.Y,Qs.prototype.setUseInterimTilesOnError=Qs.prototype.ia,n("ol.interaction.DoubleClickZoom",_a,e),n("ol.interaction.DoubleClickZoom.handleEvent",ka,e),n("ol.interaction.DragAndDrop",vy,e),n("ol.interaction.DragAndDrop.handleEvent",re,e),xy.prototype.features=xy.prototype.features,xy.prototype.file=xy.prototype.file,xy.prototype.projection=xy.prototype.projection,Ya.prototype.coordinate=Ya.prototype.coordinate,Ya.prototype.mapBrowserEvent=Ya.prototype.mapBrowserEvent,n("ol.interaction.DragBox",Ka,e),Ka.prototype.getGeometry=Ka.prototype.W,n("ol.interaction.DragPan",Fa,e),n("ol.interaction.DragRotateAndZoom",$y,e),n("ol.interaction.DragRotate",Ua,e),n("ol.interaction.DragZoom",ts,e),Sy.prototype.feature=Sy.prototype.feature,n("ol.interaction.Draw",Ty,e),n("ol.interaction.Draw.handleEvent",Ay,e),Ty.prototype.removeLastPoint=Ty.prototype.Qo,Ty.prototype.finishDrawing=Ty.prototype.jd,Ty.prototype.extend=Ty.prototype.rm,n("ol.interaction.Draw.createRegularPolygon",function(a,s){return function(t,e){var n=t[0],i=t[1],o=Math.sqrt(Ct(n,i)),r=e||Cn(new ay(n),a);return Sn(r,n,o,s||Math.atan((i[1]-n[1])/(i[0]-n[0]))),r}},e),n("ol.interaction.Interaction",ba,e),ba.prototype.getActive=ba.prototype.f,ba.prototype.getMap=ba.prototype.l,ba.prototype.setActive=ba.prototype.i,n("ol.interaction.defaults",gs,e),n("ol.interaction.KeyboardPan",es,e),n("ol.interaction.KeyboardPan.handleEvent",ns,e),n("ol.interaction.KeyboardZoom",is,e),n("ol.interaction.KeyboardZoom.handleEvent",os,e),Uy.prototype.features=Uy.prototype.features,Uy.prototype.mapBrowserEvent=Uy.prototype.mapBrowserEvent,n("ol.interaction.Modify",zy,e),n("ol.interaction.Modify.handleEvent",Zy,e),zy.prototype.removePoint=zy.prototype.ai,n("ol.interaction.MouseWheelZoom",rs,e),n("ol.interaction.MouseWheelZoom.handleEvent",as,e),rs.prototype.setMouseAnchor=rs.prototype.D,n("ol.interaction.PinchRotate",ss,e),n("ol.interaction.PinchZoom",ps,e),n("ol.interaction.Pointer",Ia,e),n("ol.interaction.Pointer.handleEvent",La,e),Qy.prototype.selected=Qy.prototype.selected,Qy.prototype.deselected=Qy.prototype.deselected,Qy.prototype.mapBrowserEvent=Qy.prototype.mapBrowserEvent,n("ol.interaction.Select",tb,e),tb.prototype.getFeatures=tb.prototype.Bm,tb.prototype.getLayer=tb.prototype.Cm,n("ol.interaction.Select.handleEvent",eb,e),tb.prototype.setMap=tb.prototype.setMap,n("ol.interaction.Snap",nb,e),nb.prototype.addFeature=nb.prototype.rb,nb.prototype.removeFeature=nb.prototype.nb,rb.prototype.features=rb.prototype.features,rb.prototype.coordinate=rb.prototype.coordinate,n("ol.interaction.Translate",ab,e),n("ol.geom.Circle",ay,e),ay.prototype.clone=ay.prototype.clone,ay.prototype.getCenter=ay.prototype.rd,ay.prototype.getRadius=ay.prototype.wf,ay.prototype.getType=ay.prototype.X,ay.prototype.intersectsExtent=ay.prototype.Ka,ay.prototype.setCenter=ay.prototype.jm,ay.prototype.setCenterAndRadius=ay.prototype.Vf,ay.prototype.setRadius=ay.prototype.km,ay.prototype.transform=ay.prototype.jb,n("ol.geom.Geometry",Ae,e),Ae.prototype.getClosestPoint=Ae.prototype.vb,Ae.prototype.getExtent=Ae.prototype.H,Ae.prototype.rotate=Ae.prototype.rotate,Ae.prototype.simplify=Ae.prototype.Bb,Ae.prototype.transform=Ae.prototype.jb,n("ol.geom.GeometryCollection",nh,e),nh.prototype.clone=nh.prototype.clone,nh.prototype.getGeometries=nh.prototype.ff,nh.prototype.getType=nh.prototype.X,nh.prototype.intersectsExtent=nh.prototype.Ka,nh.prototype.setGeometries=nh.prototype.hi,nh.prototype.applyTransform=nh.prototype.rc,nh.prototype.translate=nh.prototype.Sc,n("ol.geom.LinearRing",sn,e),sn.prototype.clone=sn.prototype.clone,sn.prototype.getArea=sn.prototype.nm,sn.prototype.getCoordinates=sn.prototype.Z,sn.prototype.getType=sn.prototype.X,sn.prototype.setCoordinates=sn.prototype.pa,n("ol.geom.LineString",Np,e),Np.prototype.appendCoordinate=Np.prototype.wj,Np.prototype.clone=Np.prototype.clone,Np.prototype.forEachSegment=Np.prototype.Lj,Np.prototype.getCoordinateAtM=Np.prototype.lm,Np.prototype.getCoordinates=Np.prototype.Z,Np.prototype.getCoordinateAt=Np.prototype.Bg,Np.prototype.getLength=Np.prototype.mm,Np.prototype.getType=Np.prototype.X,Np.prototype.intersectsExtent=Np.prototype.Ka,Np.prototype.setCoordinates=Np.prototype.pa,n("ol.geom.MultiLineString",Bp,e),Bp.prototype.appendLineString=Bp.prototype.xj,Bp.prototype.clone=Bp.prototype.clone,Bp.prototype.getCoordinateAtM=Bp.prototype.om,Bp.prototype.getCoordinates=Bp.prototype.Z,Bp.prototype.getLineString=Bp.prototype.fk,Bp.prototype.getLineStrings=Bp.prototype.md,Bp.prototype.getType=Bp.prototype.X,Bp.prototype.intersectsExtent=Bp.prototype.Ka,Bp.prototype.setCoordinates=Bp.prototype.pa,n("ol.geom.MultiPoint",Hp,e),Hp.prototype.appendPoint=Hp.prototype.zj,Hp.prototype.clone=Hp.prototype.clone,Hp.prototype.getCoordinates=Hp.prototype.Z,Hp.prototype.getPoint=Hp.prototype.rk,Hp.prototype.getPoints=Hp.prototype.je,Hp.prototype.getType=Hp.prototype.X,Hp.prototype.intersectsExtent=Hp.prototype.Ka,Hp.prototype.setCoordinates=Hp.prototype.pa,n("ol.geom.MultiPolygon",Vp,e),Vp.prototype.appendPolygon=Vp.prototype.Aj,Vp.prototype.clone=Vp.prototype.clone,Vp.prototype.getArea=Vp.prototype.pm,Vp.prototype.getCoordinates=Vp.prototype.Z,Vp.prototype.getInteriorPoints=Vp.prototype.ck,Vp.prototype.getPolygon=Vp.prototype.tk,Vp.prototype.getPolygons=Vp.prototype.Wd,Vp.prototype.getType=Vp.prototype.X,Vp.prototype.intersectsExtent=Vp.prototype.Ka,Vp.prototype.setCoordinates=Vp.prototype.pa,n("ol.geom.Point",un,e),un.prototype.clone=un.prototype.clone,un.prototype.getCoordinates=un.prototype.Z,un.prototype.getType=un.prototype.X,un.prototype.intersectsExtent=un.prototype.Ka,un.prototype.setCoordinates=un.prototype.pa,n("ol.geom.Polygon",xn,e),xn.prototype.appendLinearRing=xn.prototype.yj,xn.prototype.clone=xn.prototype.clone,xn.prototype.getArea=xn.prototype.qm,xn.prototype.getCoordinates=xn.prototype.Z,xn.prototype.getInteriorPoint=xn.prototype.bk,xn.prototype.getLinearRingCount=xn.prototype.gk,xn.prototype.getLinearRing=xn.prototype.Hg,xn.prototype.getLinearRings=xn.prototype.Vd,xn.prototype.getType=xn.prototype.X,xn.prototype.intersectsExtent=xn.prototype.Ka,xn.prototype.setCoordinates=xn.prototype.pa,n("ol.geom.Polygon.circular",_n,e),n("ol.geom.Polygon.fromExtent",kn,e),n("ol.geom.Polygon.fromCircle",Cn,e),n("ol.geom.SimpleGeometry",ze,e),ze.prototype.getFirstCoordinate=ze.prototype.Ib,ze.prototype.getLastCoordinate=ze.prototype.Jb,ze.prototype.getLayout=ze.prototype.Kb,ze.prototype.applyTransform=ze.prototype.rc,ze.prototype.translate=ze.prototype.Sc,n("ol.format.EsriJSON",Kp,e),Kp.prototype.readFeature=Kp.prototype.Rb,Kp.prototype.readFeatures=Kp.prototype.Fa,Kp.prototype.readGeometry=Kp.prototype.Vc,Kp.prototype.readProjection=Kp.prototype.Oa,Kp.prototype.writeGeometry=Kp.prototype.Zc,Kp.prototype.writeGeometryObject=Kp.prototype.Ke,Kp.prototype.writeFeature=Kp.prototype.Dd,Kp.prototype.writeFeatureObject=Kp.prototype.Yc,Kp.prototype.writeFeatures=Kp.prototype.Xb,Kp.prototype.writeFeaturesObject=Kp.prototype.Ie,n("ol.format.Feature",Mp,e),n("ol.format.GeoJSON",ah,e),ah.prototype.readFeature=ah.prototype.Rb,ah.prototype.readFeatures=ah.prototype.Fa,ah.prototype.readGeometry=ah.prototype.Vc,ah.prototype.readProjection=ah.prototype.Oa,ah.prototype.writeFeature=ah.prototype.Dd,ah.prototype.writeFeatureObject=ah.prototype.Yc,ah.prototype.writeFeatures=ah.prototype.Xb,ah.prototype.writeFeaturesObject=ah.prototype.Ie,ah.prototype.writeGeometry=ah.prototype.Zc,ah.prototype.writeGeometryObject=ah.prototype.Ke,n("ol.format.GPX",Nh,e),Nh.prototype.readFeature=Nh.prototype.Rb,Nh.prototype.readFeatures=Nh.prototype.Fa,Nh.prototype.readProjection=Nh.prototype.Oa,Nh.prototype.writeFeatures=Nh.prototype.Xb,Nh.prototype.writeFeaturesNode=Nh.prototype.a,n("ol.format.IGC",wd,e),wd.prototype.readFeature=wd.prototype.Rb,wd.prototype.readFeatures=wd.prototype.Fa,wd.prototype.readProjection=wd.prototype.Oa,n("ol.format.KML",Yd,e),Yd.prototype.readFeature=Yd.prototype.Rb,Yd.prototype.readFeatures=Yd.prototype.Fa,Yd.prototype.readName=Yd.prototype.Fo,Yd.prototype.readNetworkLinks=Yd.prototype.Go,Yd.prototype.readProjection=Yd.prototype.Oa,Yd.prototype.writeFeatures=Yd.prototype.Xb,Yd.prototype.writeFeaturesNode=Yd.prototype.a,n("ol.format.MVT",jg,e),jg.prototype.readFeatures=jg.prototype.Fa,jg.prototype.readProjection=jg.prototype.Oa,jg.prototype.setLayers=jg.prototype.c,n("ol.format.OSMXML",sm,e),sm.prototype.readFeatures=sm.prototype.Fa,sm.prototype.readProjection=sm.prototype.Oa,n("ol.format.Polyline",Pm,e),n("ol.format.Polyline.encodeDeltas",Om,e),n("ol.format.Polyline.decodeDeltas",Im,e),n("ol.format.Polyline.encodeFloats",Rm,e),n("ol.format.Polyline.decodeFloats",Lm,e),Pm.prototype.readFeature=Pm.prototype.Rb,Pm.prototype.readFeatures=Pm.prototype.Fa,Pm.prototype.readGeometry=Pm.prototype.Vc,Pm.prototype.readProjection=Pm.prototype.Oa,Pm.prototype.writeGeometry=Pm.prototype.Zc,n("ol.format.TopoJSON",Fm,e),Fm.prototype.readFeatures=Fm.prototype.Fa,Fm.prototype.readProjection=Fm.prototype.Oa,n("ol.format.WFS",Hm,e),Hm.prototype.readFeatures=Hm.prototype.Fa,Hm.prototype.readTransactionResponse=Hm.prototype.o,Hm.prototype.readFeatureCollectionMetadata=Hm.prototype.l,Hm.prototype.writeGetFeature=Hm.prototype.j,Hm.prototype.writeTransaction=Hm.prototype.U,Hm.prototype.readProjection=Hm.prototype.Oa,n("ol.format.WKT",av,e),av.prototype.readFeature=av.prototype.Rb,av.prototype.readFeatures=av.prototype.Fa,av.prototype.readGeometry=av.prototype.Vc,av.prototype.writeFeature=av.prototype.Dd,av.prototype.writeFeatures=av.prototype.Xb,av.prototype.writeGeometry=av.prototype.Zc,n("ol.format.WMSCapabilities",$v,e),$v.prototype.read=$v.prototype.read,n("ol.format.WMSGetFeatureInfo",qv,e),qv.prototype.readFeatures=qv.prototype.Fa,n("ol.format.WMTSCapabilities",Wv,e),Wv.prototype.read=Wv.prototype.read,n("ol.format.ogc.filter.and",Ug,e),n("ol.format.ogc.filter.or",function(t,e){return new Gg(t,e)},e),n("ol.format.ogc.filter.not",function(t){return new Yg(t)},e),n("ol.format.ogc.filter.bbox",zg,e),n("ol.format.ogc.filter.equalTo",function(t,e,n){return new Jg(t,e,n)},e),n("ol.format.ogc.filter.notEqualTo",function(t,e,n){return new Qg(t,e,n)},e),n("ol.format.ogc.filter.lessThan",function(t,e){return new tm(t,e)},e),n("ol.format.ogc.filter.lessThanOrEqualTo",function(t,e){return new em(t,e)},e),n("ol.format.ogc.filter.greaterThan",function(t,e){return new nm(t,e)},e),n("ol.format.ogc.filter.greaterThanOrEqualTo",function(t,e){return new im(t,e)},e),n("ol.format.ogc.filter.isNull",function(t){return new om(t)},e),n("ol.format.ogc.filter.between",function(t,e,n){return new rm(t,e,n)},e),n("ol.format.ogc.filter.like",function(t,e,n,i,o,r){return new am(t,e,n,i,o,r)},e),n("ol.format.ogc.filter.Filter",Hg,e),n("ol.format.ogc.filter.And",Wg,e),n("ol.format.ogc.filter.Or",Gg,e),n("ol.format.ogc.filter.Not",Yg,e),n("ol.format.ogc.filter.Bbox",Kg,e),n("ol.format.ogc.filter.Comparison",Zg,e),n("ol.format.ogc.filter.ComparisonBinary",Xg,e),n("ol.format.ogc.filter.EqualTo",Jg,e),n("ol.format.ogc.filter.NotEqualTo",Qg,e),n("ol.format.ogc.filter.LessThan",tm,e),n("ol.format.ogc.filter.LessThanOrEqualTo",em,e),n("ol.format.ogc.filter.GreaterThan",nm,e),n("ol.format.ogc.filter.GreaterThanOrEqualTo",im,e),n("ol.format.ogc.filter.IsNull",om,e),n("ol.format.ogc.filter.IsBetween",rm,e),n("ol.format.ogc.filter.IsLike",am,e),n("ol.format.GML2",Ah,e),n("ol.format.GML3",Dh,e),Dh.prototype.writeGeometryNode=Dh.prototype.s,Dh.prototype.writeFeatures=Dh.prototype.Xb,Dh.prototype.writeFeaturesNode=Dh.prototype.a,n("ol.format.GML",Dh,e),Dh.prototype.writeFeatures=Dh.prototype.Xb,Dh.prototype.writeFeaturesNode=Dh.prototype.a,fh.prototype.readFeatures=fh.prototype.Fa,n("ol.events.condition.altKeyOnly",function(t){return(t=t.originalEvent).altKey&&!(t.metaKey||t.ctrlKey)&&!t.shiftKey},e),n("ol.events.condition.altShiftKeysOnly",Ca,e),n("ol.events.condition.always",re,e),n("ol.events.condition.click",function(t){return t.type==Sr},e),n("ol.events.condition.never",ae,e),n("ol.events.condition.pointerMove",Ta,e),n("ol.events.condition.singleClick",Aa,e),n("ol.events.condition.doubleClick",function(t){return t.type==Tr},e),n("ol.events.condition.noModifierKeys",Da,e),n("ol.events.condition.platformModifierKeyOnly",function(t){return!(t=t.originalEvent).altKey&&(Fo?t.metaKey:t.ctrlKey)&&!t.shiftKey},e),n("ol.events.condition.shiftKeyOnly",Ma,e),n("ol.events.condition.targetNotEditable",Ea,e),n("ol.events.condition.mouseOnly",Pa,e),n("ol.events.condition.primaryAction",Oa,e),G.prototype.type=G.prototype.type,G.prototype.target=G.prototype.target,G.prototype.preventDefault=G.prototype.preventDefault,G.prototype.stopPropagation=G.prototype.stopPropagation,n("ol.control.Attribution",uo,e),n("ol.control.Attribution.render",co,e),uo.prototype.getCollapsible=uo.prototype.$l,uo.prototype.setCollapsible=uo.prototype.cm,uo.prototype.setCollapsed=uo.prototype.bm,uo.prototype.getCollapsed=uo.prototype.Zl,n("ol.control.Control",Pi,e),Pi.prototype.getMap=Pi.prototype.i,Pi.prototype.setMap=Pi.prototype.setMap,Pi.prototype.setTarget=Pi.prototype.c,n("ol.control.defaults",mo,e),n("ol.control.FullScreen",vo,e),n("ol.control.MousePosition",ko,e),n("ol.control.MousePosition.render",Co,e),ko.prototype.getCoordinateFormat=ko.prototype.Cg,ko.prototype.getProjection=ko.prototype.hh,ko.prototype.setCoordinateFormat=ko.prototype.ei,ko.prototype.setProjection=ko.prototype.ih,n("ol.control.OverviewMap",fp,e),n("ol.control.OverviewMap.render",gp,e),fp.prototype.getCollapsible=fp.prototype.fm,fp.prototype.setCollapsible=fp.prototype.im,fp.prototype.setCollapsed=fp.prototype.hm,fp.prototype.getCollapsed=fp.prototype.em,fp.prototype.getOverviewMap=fp.prototype.pk,n("ol.control.Rotate",ho,e),n("ol.control.Rotate.render",fo,e),n("ol.control.ScaleLine",bp,e),bp.prototype.getUnits=bp.prototype.wb,n("ol.control.ScaleLine.render",xp,e),bp.prototype.setUnits=bp.prototype.D,n("ol.control.Zoom",go,e),n("ol.control.ZoomSlider",_p,e),n("ol.control.ZoomSlider.render",Cp,e),n("ol.control.ZoomToExtent",Ap,e),n("ol.color.asArray",Jn,e),n("ol.color.asString",Qn,e),Vn.prototype.type=Vn.prototype.type,Vn.prototype.target=Vn.prototype.target,Vn.prototype.preventDefault=Vn.prototype.preventDefault,Vn.prototype.stopPropagation=Vn.prototype.stopPropagation,et.prototype.changed=et.prototype.u,et.prototype.dispatchEvent=et.prototype.b,et.prototype.getRevision=et.prototype.K,et.prototype.on=et.prototype.I,et.prototype.once=et.prototype.L,et.prototype.un=et.prototype.J,et.prototype.unByKey=et.prototype.M,qn.prototype.get=qn.prototype.get,qn.prototype.getKeys=qn.prototype.N,qn.prototype.getProperties=qn.prototype.O,qn.prototype.set=qn.prototype.set,qn.prototype.setProperties=qn.prototype.G,qn.prototype.unset=qn.prototype.P,qn.prototype.changed=qn.prototype.u,qn.prototype.dispatchEvent=qn.prototype.b,qn.prototype.getRevision=qn.prototype.K,qn.prototype.on=qn.prototype.I,qn.prototype.once=qn.prototype.L,qn.prototype.un=qn.prototype.J,qn.prototype.unByKey=qn.prototype.M,Dp.prototype.get=Dp.prototype.get,Dp.prototype.getKeys=Dp.prototype.N,Dp.prototype.getProperties=Dp.prototype.O,Dp.prototype.set=Dp.prototype.set,Dp.prototype.setProperties=Dp.prototype.G,Dp.prototype.unset=Dp.prototype.P,Dp.prototype.changed=Dp.prototype.u,Dp.prototype.dispatchEvent=Dp.prototype.b,Dp.prototype.getRevision=Dp.prototype.K,Dp.prototype.on=Dp.prototype.I,Dp.prototype.once=Dp.prototype.L,Dp.prototype.un=Dp.prototype.J,Dp.prototype.unByKey=Dp.prototype.M,eu.prototype.get=eu.prototype.get,eu.prototype.getKeys=eu.prototype.N,eu.prototype.getProperties=eu.prototype.O,eu.prototype.set=eu.prototype.set,eu.prototype.setProperties=eu.prototype.G,eu.prototype.unset=eu.prototype.P,eu.prototype.changed=eu.prototype.u,eu.prototype.dispatchEvent=eu.prototype.b,eu.prototype.getRevision=eu.prototype.K,eu.prototype.on=eu.prototype.I,eu.prototype.once=eu.prototype.L,eu.prototype.un=eu.prototype.J,eu.prototype.unByKey=eu.prototype.M,ry.prototype.get=ry.prototype.get,ry.prototype.getKeys=ry.prototype.N,ry.prototype.getProperties=ry.prototype.O,ry.prototype.set=ry.prototype.set,ry.prototype.setProperties=ry.prototype.G,ry.prototype.unset=ry.prototype.P,ry.prototype.changed=ry.prototype.u,ry.prototype.dispatchEvent=ry.prototype.b,ry.prototype.getRevision=ry.prototype.K,ry.prototype.on=ry.prototype.I,ry.prototype.once=ry.prototype.L,ry.prototype.un=ry.prototype.J,ry.prototype.unByKey=ry.prototype.M,gy.prototype.getTileCoord=gy.prototype.i,up.prototype.get=up.prototype.get,up.prototype.getKeys=up.prototype.N,up.prototype.getProperties=up.prototype.O,up.prototype.set=up.prototype.set,up.prototype.setProperties=up.prototype.G,up.prototype.unset=up.prototype.P,up.prototype.changed=up.prototype.u,up.prototype.dispatchEvent=up.prototype.b,up.prototype.getRevision=up.prototype.K,up.prototype.on=up.prototype.I,up.prototype.once=up.prototype.L,up.prototype.un=up.prototype.J,up.prototype.unByKey=up.prototype.M,Ei.prototype.type=Ei.prototype.type,Ei.prototype.target=Ei.prototype.target,Ei.prototype.preventDefault=Ei.prototype.preventDefault,Ei.prototype.stopPropagation=Ei.prototype.stopPropagation,xr.prototype.map=xr.prototype.map,xr.prototype.frameState=xr.prototype.frameState,xr.prototype.type=xr.prototype.type,xr.prototype.target=xr.prototype.target,xr.prototype.preventDefault=xr.prototype.preventDefault,xr.prototype.stopPropagation=xr.prototype.stopPropagation,$r.prototype.originalEvent=$r.prototype.originalEvent,$r.prototype.pixel=$r.prototype.pixel,$r.prototype.coordinate=$r.prototype.coordinate,$r.prototype.dragging=$r.prototype.dragging,$r.prototype.preventDefault=$r.prototype.preventDefault,$r.prototype.stopPropagation=$r.prototype.stopPropagation,$r.prototype.map=$r.prototype.map,$r.prototype.frameState=$r.prototype.frameState,$r.prototype.type=$r.prototype.type,$r.prototype.target=$r.prototype.target,tt.prototype.type=tt.prototype.type,tt.prototype.target=tt.prototype.target,tt.prototype.preventDefault=tt.prototype.preventDefault,tt.prototype.stopPropagation=tt.prototype.stopPropagation,cp.prototype.get=cp.prototype.get,cp.prototype.getKeys=cp.prototype.N,cp.prototype.getProperties=cp.prototype.O,cp.prototype.set=cp.prototype.set,cp.prototype.setProperties=cp.prototype.G,cp.prototype.unset=cp.prototype.P,cp.prototype.changed=cp.prototype.u,cp.prototype.dispatchEvent=cp.prototype.b,cp.prototype.getRevision=cp.prototype.K,cp.prototype.on=cp.prototype.I,cp.prototype.once=cp.prototype.L,cp.prototype.un=cp.prototype.J,cp.prototype.unByKey=cp.prototype.M,nu.prototype.getTileCoord=nu.prototype.i,Tn.prototype.get=Tn.prototype.get,Tn.prototype.getKeys=Tn.prototype.N,Tn.prototype.getProperties=Tn.prototype.O,Tn.prototype.set=Tn.prototype.set,Tn.prototype.setProperties=Tn.prototype.G,Tn.prototype.unset=Tn.prototype.P,Tn.prototype.changed=Tn.prototype.u,Tn.prototype.dispatchEvent=Tn.prototype.b,Tn.prototype.getRevision=Tn.prototype.K,Tn.prototype.on=Tn.prototype.I,Tn.prototype.once=Tn.prototype.L,Tn.prototype.un=Tn.prototype.J,Tn.prototype.unByKey=Tn.prototype.M,lw.prototype.forEachTileCoord=lw.prototype.yg,lw.prototype.getMaxZoom=lw.prototype.Ig,lw.prototype.getMinZoom=lw.prototype.Jg,lw.prototype.getOrigin=lw.prototype.Ia,lw.prototype.getResolution=lw.prototype.$,lw.prototype.getResolutions=lw.prototype.Kh,lw.prototype.getTileCoordExtent=lw.prototype.Ea,lw.prototype.getTileCoordForCoordAndResolution=lw.prototype.Zd,lw.prototype.getTileCoordForCoordAndZ=lw.prototype.qd,lw.prototype.getTileSize=lw.prototype.Ja,lw.prototype.getZForResolution=lw.prototype.Lb,Vs.prototype.getOpacity=Vs.prototype.qe,Vs.prototype.getRotateWithView=Vs.prototype.Xd,Vs.prototype.getRotation=Vs.prototype.re,Vs.prototype.getScale=Vs.prototype.se,Vs.prototype.getSnapToPixel=Vs.prototype.Yd,Vs.prototype.setOpacity=Vs.prototype.te,Vs.prototype.setRotation=Vs.prototype.ue,Vs.prototype.setScale=Vs.prototype.ve,ea.prototype.getOpacity=ea.prototype.qe,ea.prototype.getRotateWithView=ea.prototype.Xd,ea.prototype.getRotation=ea.prototype.re,ea.prototype.getScale=ea.prototype.se,ea.prototype.getSnapToPixel=ea.prototype.Yd,ea.prototype.setOpacity=ea.prototype.te,ea.prototype.setRotation=ea.prototype.ue,ea.prototype.setScale=ea.prototype.ve,yw.prototype.getOpacity=yw.prototype.qe,yw.prototype.getRotateWithView=yw.prototype.Xd,yw.prototype.getRotation=yw.prototype.re,yw.prototype.getScale=yw.prototype.se,yw.prototype.getSnapToPixel=yw.prototype.Yd,yw.prototype.setOpacity=yw.prototype.te,yw.prototype.setRotation=yw.prototype.ue,yw.prototype.setScale=yw.prototype.ve,Hi.prototype.get=Hi.prototype.get,Hi.prototype.getKeys=Hi.prototype.N,Hi.prototype.getProperties=Hi.prototype.O,Hi.prototype.set=Hi.prototype.set,Hi.prototype.setProperties=Hi.prototype.G,Hi.prototype.unset=Hi.prototype.P,Hi.prototype.changed=Hi.prototype.u,Hi.prototype.dispatchEvent=Hi.prototype.b,Hi.prototype.getRevision=Hi.prototype.K,Hi.prototype.on=Hi.prototype.I,Hi.prototype.once=Hi.prototype.L,Hi.prototype.un=Hi.prototype.J,Hi.prototype.unByKey=Hi.prototype.M,oo.prototype.getAttributions=oo.prototype.wa,oo.prototype.getLogo=oo.prototype.ua,oo.prototype.getProjection=oo.prototype.xa,oo.prototype.getState=oo.prototype.V,oo.prototype.refresh=oo.prototype.sa,oo.prototype.setAttributions=oo.prototype.oa,oo.prototype.get=oo.prototype.get,oo.prototype.getKeys=oo.prototype.N,oo.prototype.getProperties=oo.prototype.O,oo.prototype.set=oo.prototype.set,oo.prototype.setProperties=oo.prototype.G,oo.prototype.unset=oo.prototype.P,oo.prototype.changed=oo.prototype.u,oo.prototype.dispatchEvent=oo.prototype.b,oo.prototype.getRevision=oo.prototype.K,oo.prototype.on=oo.prototype.I,oo.prototype.once=oo.prototype.L,oo.prototype.un=oo.prototype.J,oo.prototype.unByKey=oo.prototype.M,nc.prototype.getTileGrid=nc.prototype.Na,nc.prototype.refresh=nc.prototype.sa,nc.prototype.getAttributions=nc.prototype.wa,nc.prototype.getLogo=nc.prototype.ua,nc.prototype.getProjection=nc.prototype.xa,nc.prototype.getState=nc.prototype.V,nc.prototype.setAttributions=nc.prototype.oa,nc.prototype.get=nc.prototype.get,nc.prototype.getKeys=nc.prototype.N,nc.prototype.getProperties=nc.prototype.O,nc.prototype.set=nc.prototype.set,nc.prototype.setProperties=nc.prototype.G,nc.prototype.unset=nc.prototype.P,nc.prototype.changed=nc.prototype.u,nc.prototype.dispatchEvent=nc.prototype.b,nc.prototype.getRevision=nc.prototype.K,nc.prototype.on=nc.prototype.I,nc.prototype.once=nc.prototype.L,nc.prototype.un=nc.prototype.J,nc.prototype.unByKey=nc.prototype.M,gb.prototype.getTileLoadFunction=gb.prototype.fb,gb.prototype.getTileUrlFunction=gb.prototype.gb,gb.prototype.getUrls=gb.prototype.hb,gb.prototype.setTileLoadFunction=gb.prototype.kb,gb.prototype.setTileUrlFunction=gb.prototype.Qa,gb.prototype.setUrl=gb.prototype.Va,gb.prototype.setUrls=gb.prototype.bb,gb.prototype.getTileGrid=gb.prototype.Na,gb.prototype.refresh=gb.prototype.sa,gb.prototype.getAttributions=gb.prototype.wa,gb.prototype.getLogo=gb.prototype.ua,gb.prototype.getProjection=gb.prototype.xa,gb.prototype.getState=gb.prototype.V,gb.prototype.setAttributions=gb.prototype.oa,gb.prototype.get=gb.prototype.get,gb.prototype.getKeys=gb.prototype.N,gb.prototype.getProperties=gb.prototype.O,gb.prototype.set=gb.prototype.set,gb.prototype.setProperties=gb.prototype.G,gb.prototype.unset=gb.prototype.P,gb.prototype.changed=gb.prototype.u,gb.prototype.dispatchEvent=gb.prototype.b,gb.prototype.getRevision=gb.prototype.K,gb.prototype.on=gb.prototype.I,gb.prototype.once=gb.prototype.L,gb.prototype.un=gb.prototype.J,gb.prototype.unByKey=gb.prototype.M,bb.prototype.setRenderReprojectionEdges=bb.prototype.zb,bb.prototype.setTileGridForProjection=bb.prototype.Ab,bb.prototype.getTileLoadFunction=bb.prototype.fb,bb.prototype.getTileUrlFunction=bb.prototype.gb,bb.prototype.getUrls=bb.prototype.hb,bb.prototype.setTileLoadFunction=bb.prototype.kb,bb.prototype.setTileUrlFunction=bb.prototype.Qa,bb.prototype.setUrl=bb.prototype.Va,bb.prototype.setUrls=bb.prototype.bb,bb.prototype.getTileGrid=bb.prototype.Na,bb.prototype.refresh=bb.prototype.sa,bb.prototype.getAttributions=bb.prototype.wa,bb.prototype.getLogo=bb.prototype.ua,bb.prototype.getProjection=bb.prototype.xa,bb.prototype.getState=bb.prototype.V,bb.prototype.setAttributions=bb.prototype.oa,bb.prototype.get=bb.prototype.get,bb.prototype.getKeys=bb.prototype.N,bb.prototype.getProperties=bb.prototype.O,bb.prototype.set=bb.prototype.set,bb.prototype.setProperties=bb.prototype.G,bb.prototype.unset=bb.prototype.P,bb.prototype.changed=bb.prototype.u,bb.prototype.dispatchEvent=bb.prototype.b,bb.prototype.getRevision=bb.prototype.K,bb.prototype.on=bb.prototype.I,bb.prototype.once=bb.prototype.L,bb.prototype.un=bb.prototype.J,bb.prototype.unByKey=bb.prototype.M,xb.prototype.setRenderReprojectionEdges=xb.prototype.zb,xb.prototype.setTileGridForProjection=xb.prototype.Ab,xb.prototype.getTileLoadFunction=xb.prototype.fb,xb.prototype.getTileUrlFunction=xb.prototype.gb,xb.prototype.getUrls=xb.prototype.hb,xb.prototype.setTileLoadFunction=xb.prototype.kb,xb.prototype.setTileUrlFunction=xb.prototype.Qa,xb.prototype.setUrl=xb.prototype.Va,xb.prototype.setUrls=xb.prototype.bb,xb.prototype.getTileGrid=xb.prototype.Na,xb.prototype.refresh=xb.prototype.sa,xb.prototype.getAttributions=xb.prototype.wa,xb.prototype.getLogo=xb.prototype.ua,xb.prototype.getProjection=xb.prototype.xa,xb.prototype.getState=xb.prototype.V,xb.prototype.setAttributions=xb.prototype.oa,xb.prototype.get=xb.prototype.get,xb.prototype.getKeys=xb.prototype.N,xb.prototype.getProperties=xb.prototype.O,xb.prototype.set=xb.prototype.set,xb.prototype.setProperties=xb.prototype.G,xb.prototype.unset=xb.prototype.P,xb.prototype.changed=xb.prototype.u,xb.prototype.dispatchEvent=xb.prototype.b,xb.prototype.getRevision=xb.prototype.K,xb.prototype.on=xb.prototype.I,xb.prototype.once=xb.prototype.L,xb.prototype.un=xb.prototype.J,xb.prototype.unByKey=xb.prototype.M,$b.prototype.setRenderReprojectionEdges=$b.prototype.zb,$b.prototype.setTileGridForProjection=$b.prototype.Ab,$b.prototype.getTileLoadFunction=$b.prototype.fb,$b.prototype.getTileUrlFunction=$b.prototype.gb,$b.prototype.getUrls=$b.prototype.hb,$b.prototype.setTileLoadFunction=$b.prototype.kb,$b.prototype.setTileUrlFunction=$b.prototype.Qa,$b.prototype.setUrl=$b.prototype.Va,$b.prototype.setUrls=$b.prototype.bb,$b.prototype.getTileGrid=$b.prototype.Na,$b.prototype.refresh=$b.prototype.sa,$b.prototype.getAttributions=$b.prototype.wa,$b.prototype.getLogo=$b.prototype.ua,$b.prototype.getProjection=$b.prototype.xa,$b.prototype.getState=$b.prototype.V,$b.prototype.setAttributions=$b.prototype.oa,$b.prototype.get=$b.prototype.get,$b.prototype.getKeys=$b.prototype.N,$b.prototype.getProperties=$b.prototype.O,$b.prototype.set=$b.prototype.set,$b.prototype.setProperties=$b.prototype.G,$b.prototype.unset=$b.prototype.P,$b.prototype.changed=$b.prototype.u,$b.prototype.dispatchEvent=$b.prototype.b,$b.prototype.getRevision=$b.prototype.K,$b.prototype.on=$b.prototype.I,$b.prototype.once=$b.prototype.L,$b.prototype.un=$b.prototype.J,$b.prototype.unByKey=$b.prototype.M,Bu.prototype.getAttributions=Bu.prototype.wa,Bu.prototype.getLogo=Bu.prototype.ua,Bu.prototype.getProjection=Bu.prototype.xa,Bu.prototype.getState=Bu.prototype.V,Bu.prototype.refresh=Bu.prototype.sa,Bu.prototype.setAttributions=Bu.prototype.oa,Bu.prototype.get=Bu.prototype.get,Bu.prototype.getKeys=Bu.prototype.N,Bu.prototype.getProperties=Bu.prototype.O,Bu.prototype.set=Bu.prototype.set,Bu.prototype.setProperties=Bu.prototype.G,Bu.prototype.unset=Bu.prototype.P,Bu.prototype.changed=Bu.prototype.u,Bu.prototype.dispatchEvent=Bu.prototype.b,Bu.prototype.getRevision=Bu.prototype.K,Bu.prototype.on=Bu.prototype.I,Bu.prototype.once=Bu.prototype.L,Bu.prototype.un=Bu.prototype.J,Bu.prototype.unByKey=Bu.prototype.M,Cb.prototype.addFeature=Cb.prototype.rb,Cb.prototype.addFeatures=Cb.prototype.Jc,Cb.prototype.clear=Cb.prototype.clear,Cb.prototype.forEachFeature=Cb.prototype.wg,Cb.prototype.forEachFeatureInExtent=Cb.prototype.ub,Cb.prototype.forEachFeatureIntersectingExtent=Cb.prototype.xg,Cb.prototype.getFeaturesCollection=Cb.prototype.Fg,Cb.prototype.getFeatures=Cb.prototype.oe,Cb.prototype.getFeaturesAtCoordinate=Cb.prototype.Eg,Cb.prototype.getFeaturesInExtent=Cb.prototype.ef,Cb.prototype.getClosestFeatureToCoordinate=Cb.prototype.Ag,Cb.prototype.getExtent=Cb.prototype.H,Cb.prototype.getFeatureById=Cb.prototype.Dg,Cb.prototype.getFormat=Cb.prototype.Ch,Cb.prototype.getUrl=Cb.prototype.Dh,Cb.prototype.removeFeature=Cb.prototype.nb,Cb.prototype.getAttributions=Cb.prototype.wa,Cb.prototype.getLogo=Cb.prototype.ua,Cb.prototype.getProjection=Cb.prototype.xa,Cb.prototype.getState=Cb.prototype.V,Cb.prototype.refresh=Cb.prototype.sa,Cb.prototype.setAttributions=Cb.prototype.oa,Cb.prototype.get=Cb.prototype.get,Cb.prototype.getKeys=Cb.prototype.N,Cb.prototype.getProperties=Cb.prototype.O,Cb.prototype.set=Cb.prototype.set,Cb.prototype.setProperties=Cb.prototype.G,Cb.prototype.unset=Cb.prototype.P,Cb.prototype.changed=Cb.prototype.u,Cb.prototype.dispatchEvent=Cb.prototype.b,Cb.prototype.getRevision=Cb.prototype.K,Cb.prototype.on=Cb.prototype.I,Cb.prototype.once=Cb.prototype.L,Cb.prototype.un=Cb.prototype.J,Cb.prototype.unByKey=Cb.prototype.M,Gl.prototype.getAttributions=Gl.prototype.wa,Gl.prototype.getLogo=Gl.prototype.ua,Gl.prototype.getProjection=Gl.prototype.xa,Gl.prototype.getState=Gl.prototype.V,Gl.prototype.refresh=Gl.prototype.sa,Gl.prototype.setAttributions=Gl.prototype.oa,Gl.prototype.get=Gl.prototype.get,Gl.prototype.getKeys=Gl.prototype.N,Gl.prototype.getProperties=Gl.prototype.O,Gl.prototype.set=Gl.prototype.set,Gl.prototype.setProperties=Gl.prototype.G,Gl.prototype.unset=Gl.prototype.P,Gl.prototype.changed=Gl.prototype.u,Gl.prototype.dispatchEvent=Gl.prototype.b,Gl.prototype.getRevision=Gl.prototype.K,Gl.prototype.on=Gl.prototype.I,Gl.prototype.once=Gl.prototype.L,Gl.prototype.un=Gl.prototype.J,Gl.prototype.unByKey=Gl.prototype.M,Db.prototype.getAttributions=Db.prototype.wa,Db.prototype.getLogo=Db.prototype.ua,Db.prototype.getProjection=Db.prototype.xa,Db.prototype.getState=Db.prototype.V,Db.prototype.refresh=Db.prototype.sa,Db.prototype.setAttributions=Db.prototype.oa,Db.prototype.get=Db.prototype.get,Db.prototype.getKeys=Db.prototype.N,Db.prototype.getProperties=Db.prototype.O,Db.prototype.set=Db.prototype.set,Db.prototype.setProperties=Db.prototype.G,Db.prototype.unset=Db.prototype.P,Db.prototype.changed=Db.prototype.u,Db.prototype.dispatchEvent=Db.prototype.b,Db.prototype.getRevision=Db.prototype.K,Db.prototype.on=Db.prototype.I,Db.prototype.once=Db.prototype.L,Db.prototype.un=Db.prototype.J,Db.prototype.unByKey=Db.prototype.M,tu.prototype.getAttributions=tu.prototype.wa,tu.prototype.getLogo=tu.prototype.ua,tu.prototype.getProjection=tu.prototype.xa,tu.prototype.getState=tu.prototype.V,tu.prototype.refresh=tu.prototype.sa,tu.prototype.setAttributions=tu.prototype.oa,tu.prototype.get=tu.prototype.get,tu.prototype.getKeys=tu.prototype.N,tu.prototype.getProperties=tu.prototype.O,tu.prototype.set=tu.prototype.set,tu.prototype.setProperties=tu.prototype.G,tu.prototype.unset=tu.prototype.P,tu.prototype.changed=tu.prototype.u,tu.prototype.dispatchEvent=tu.prototype.b,tu.prototype.getRevision=tu.prototype.K,tu.prototype.on=tu.prototype.I,tu.prototype.once=tu.prototype.L,tu.prototype.un=tu.prototype.J,tu.prototype.unByKey=tu.prototype.M,Mb.prototype.getAttributions=Mb.prototype.wa,Mb.prototype.getLogo=Mb.prototype.ua,Mb.prototype.getProjection=Mb.prototype.xa,Mb.prototype.getState=Mb.prototype.V,Mb.prototype.refresh=Mb.prototype.sa,Mb.prototype.setAttributions=Mb.prototype.oa,Mb.prototype.get=Mb.prototype.get,Mb.prototype.getKeys=Mb.prototype.N,Mb.prototype.getProperties=Mb.prototype.O,Mb.prototype.set=Mb.prototype.set,Mb.prototype.setProperties=Mb.prototype.G,Mb.prototype.unset=Mb.prototype.P,Mb.prototype.changed=Mb.prototype.u,Mb.prototype.dispatchEvent=Mb.prototype.b,Mb.prototype.getRevision=Mb.prototype.K,Mb.prototype.on=Mb.prototype.I,Mb.prototype.once=Mb.prototype.L,Mb.prototype.un=Mb.prototype.J,Mb.prototype.unByKey=Mb.prototype.M,Zl.prototype.type=Zl.prototype.type,Zl.prototype.target=Zl.prototype.target,Zl.prototype.preventDefault=Zl.prototype.preventDefault,Zl.prototype.stopPropagation=Zl.prototype.stopPropagation,Eb.prototype.getAttributions=Eb.prototype.wa,Eb.prototype.getLogo=Eb.prototype.ua,Eb.prototype.getProjection=Eb.prototype.xa,Eb.prototype.getState=Eb.prototype.V,Eb.prototype.refresh=Eb.prototype.sa,Eb.prototype.setAttributions=Eb.prototype.oa,Eb.prototype.get=Eb.prototype.get,Eb.prototype.getKeys=Eb.prototype.N,Eb.prototype.getProperties=Eb.prototype.O,Eb.prototype.set=Eb.prototype.set,Eb.prototype.setProperties=Eb.prototype.G,Eb.prototype.unset=Eb.prototype.P,Eb.prototype.changed=Eb.prototype.u,Eb.prototype.dispatchEvent=Eb.prototype.b,Eb.prototype.getRevision=Eb.prototype.K,Eb.prototype.on=Eb.prototype.I,Eb.prototype.once=Eb.prototype.L,Eb.prototype.un=Eb.prototype.J,Eb.prototype.unByKey=Eb.prototype.M,Wu.prototype.getAttributions=Wu.prototype.wa,Wu.prototype.getLogo=Wu.prototype.ua,Wu.prototype.getProjection=Wu.prototype.xa,Wu.prototype.getState=Wu.prototype.V,Wu.prototype.refresh=Wu.prototype.sa,Wu.prototype.setAttributions=Wu.prototype.oa,Wu.prototype.get=Wu.prototype.get,Wu.prototype.getKeys=Wu.prototype.N,Wu.prototype.getProperties=Wu.prototype.O,Wu.prototype.set=Wu.prototype.set,Wu.prototype.setProperties=Wu.prototype.G,Wu.prototype.unset=Wu.prototype.P,Wu.prototype.changed=Wu.prototype.u,Wu.prototype.dispatchEvent=Wu.prototype.b,Wu.prototype.getRevision=Wu.prototype.K,Wu.prototype.on=Wu.prototype.I,Wu.prototype.once=Wu.prototype.L,Wu.prototype.un=Wu.prototype.J,Wu.prototype.unByKey=Wu.prototype.M,Pb.prototype.getAttributions=Pb.prototype.wa,Pb.prototype.getLogo=Pb.prototype.ua,Pb.prototype.getProjection=Pb.prototype.xa,Pb.prototype.getState=Pb.prototype.V,Pb.prototype.refresh=Pb.prototype.sa,Pb.prototype.setAttributions=Pb.prototype.oa,Pb.prototype.get=Pb.prototype.get,Pb.prototype.getKeys=Pb.prototype.N,Pb.prototype.getProperties=Pb.prototype.O,Pb.prototype.set=Pb.prototype.set,Pb.prototype.setProperties=Pb.prototype.G,Pb.prototype.unset=Pb.prototype.P,Pb.prototype.changed=Pb.prototype.u,Pb.prototype.dispatchEvent=Pb.prototype.b,Pb.prototype.getRevision=Pb.prototype.K,Pb.prototype.on=Pb.prototype.I,Pb.prototype.once=Pb.prototype.L,Pb.prototype.un=Pb.prototype.J,Pb.prototype.unByKey=Pb.prototype.M,Lb.prototype.setRenderReprojectionEdges=Lb.prototype.zb,Lb.prototype.setTileGridForProjection=Lb.prototype.Ab,Lb.prototype.getTileLoadFunction=Lb.prototype.fb,Lb.prototype.getTileUrlFunction=Lb.prototype.gb,Lb.prototype.getUrls=Lb.prototype.hb,Lb.prototype.setTileLoadFunction=Lb.prototype.kb,Lb.prototype.setTileUrlFunction=Lb.prototype.Qa,Lb.prototype.setUrl=Lb.prototype.Va,Lb.prototype.setUrls=Lb.prototype.bb,Lb.prototype.getTileGrid=Lb.prototype.Na,Lb.prototype.refresh=Lb.prototype.sa,Lb.prototype.getAttributions=Lb.prototype.wa,Lb.prototype.getLogo=Lb.prototype.ua,Lb.prototype.getProjection=Lb.prototype.xa,Lb.prototype.getState=Lb.prototype.V,Lb.prototype.setAttributions=Lb.prototype.oa,Lb.prototype.get=Lb.prototype.get,Lb.prototype.getKeys=Lb.prototype.N,Lb.prototype.getProperties=Lb.prototype.O,Lb.prototype.set=Lb.prototype.set,Lb.prototype.setProperties=Lb.prototype.G,Lb.prototype.unset=Lb.prototype.P,Lb.prototype.changed=Lb.prototype.u,Lb.prototype.dispatchEvent=Lb.prototype.b,Lb.prototype.getRevision=Lb.prototype.K,Lb.prototype.on=Lb.prototype.I,Lb.prototype.once=Lb.prototype.L,Lb.prototype.un=Lb.prototype.J,Lb.prototype.unByKey=Lb.prototype.M,Bb.prototype.getAttributions=Bb.prototype.wa,Bb.prototype.getLogo=Bb.prototype.ua,Bb.prototype.getProjection=Bb.prototype.xa,Bb.prototype.getState=Bb.prototype.V,Bb.prototype.refresh=Bb.prototype.sa,Bb.prototype.setAttributions=Bb.prototype.oa,Bb.prototype.get=Bb.prototype.get,Bb.prototype.getKeys=Bb.prototype.N,Bb.prototype.getProperties=Bb.prototype.O,Bb.prototype.set=Bb.prototype.set,Bb.prototype.setProperties=Bb.prototype.G,Bb.prototype.unset=Bb.prototype.P,Bb.prototype.changed=Bb.prototype.u,Bb.prototype.dispatchEvent=Bb.prototype.b,Bb.prototype.getRevision=Bb.prototype.K,Bb.prototype.on=Bb.prototype.I,Bb.prototype.once=Bb.prototype.L,Bb.prototype.un=Bb.prototype.J,Bb.prototype.unByKey=Bb.prototype.M,Hb.prototype.type=Hb.prototype.type,Hb.prototype.target=Hb.prototype.target,Hb.prototype.preventDefault=Hb.prototype.preventDefault,Hb.prototype.stopPropagation=Hb.prototype.stopPropagation,Yb.prototype.setRenderReprojectionEdges=Yb.prototype.zb,Yb.prototype.setTileGridForProjection=Yb.prototype.Ab,Yb.prototype.getTileLoadFunction=Yb.prototype.fb,Yb.prototype.getTileUrlFunction=Yb.prototype.gb,Yb.prototype.getUrls=Yb.prototype.hb,Yb.prototype.setTileLoadFunction=Yb.prototype.kb,Yb.prototype.setTileUrlFunction=Yb.prototype.Qa,Yb.prototype.setUrl=Yb.prototype.Va,Yb.prototype.setUrls=Yb.prototype.bb,Yb.prototype.getTileGrid=Yb.prototype.Na,Yb.prototype.refresh=Yb.prototype.sa,Yb.prototype.getAttributions=Yb.prototype.wa,Yb.prototype.getLogo=Yb.prototype.ua,Yb.prototype.getProjection=Yb.prototype.xa,Yb.prototype.getState=Yb.prototype.V,Yb.prototype.setAttributions=Yb.prototype.oa,Yb.prototype.get=Yb.prototype.get,Yb.prototype.getKeys=Yb.prototype.N,Yb.prototype.getProperties=Yb.prototype.O,Yb.prototype.set=Yb.prototype.set,Yb.prototype.setProperties=Yb.prototype.G,Yb.prototype.unset=Yb.prototype.P,Yb.prototype.changed=Yb.prototype.u,Yb.prototype.dispatchEvent=Yb.prototype.b,Yb.prototype.getRevision=Yb.prototype.K,Yb.prototype.on=Yb.prototype.I,Yb.prototype.once=Yb.prototype.L,Yb.prototype.un=Yb.prototype.J,Yb.prototype.unByKey=Yb.prototype.M,Zb.prototype.setRenderReprojectionEdges=Zb.prototype.zb,Zb.prototype.setTileGridForProjection=Zb.prototype.Ab,Zb.prototype.getTileLoadFunction=Zb.prototype.fb,Zb.prototype.getTileUrlFunction=Zb.prototype.gb,Zb.prototype.getUrls=Zb.prototype.hb,Zb.prototype.setTileLoadFunction=Zb.prototype.kb,Zb.prototype.setTileUrlFunction=Zb.prototype.Qa,Zb.prototype.setUrl=Zb.prototype.Va,Zb.prototype.setUrls=Zb.prototype.bb,Zb.prototype.getTileGrid=Zb.prototype.Na,Zb.prototype.refresh=Zb.prototype.sa,Zb.prototype.getAttributions=Zb.prototype.wa,Zb.prototype.getLogo=Zb.prototype.ua,Zb.prototype.getProjection=Zb.prototype.xa,Zb.prototype.getState=Zb.prototype.V,Zb.prototype.setAttributions=Zb.prototype.oa,Zb.prototype.get=Zb.prototype.get,Zb.prototype.getKeys=Zb.prototype.N,Zb.prototype.getProperties=Zb.prototype.O,Zb.prototype.set=Zb.prototype.set,Zb.prototype.setProperties=Zb.prototype.G,Zb.prototype.unset=Zb.prototype.P,Zb.prototype.changed=Zb.prototype.u,Zb.prototype.dispatchEvent=Zb.prototype.b,Zb.prototype.getRevision=Zb.prototype.K,Zb.prototype.on=Zb.prototype.I,Zb.prototype.once=Zb.prototype.L,Zb.prototype.un=Zb.prototype.J,Zb.prototype.unByKey=Zb.prototype.M,Jb.prototype.getTileGrid=Jb.prototype.Na,Jb.prototype.refresh=Jb.prototype.sa,Jb.prototype.getAttributions=Jb.prototype.wa,Jb.prototype.getLogo=Jb.prototype.ua,Jb.prototype.getProjection=Jb.prototype.xa,Jb.prototype.getState=Jb.prototype.V,Jb.prototype.setAttributions=Jb.prototype.oa,Jb.prototype.get=Jb.prototype.get,Jb.prototype.getKeys=Jb.prototype.N,Jb.prototype.getProperties=Jb.prototype.O,Jb.prototype.set=Jb.prototype.set,Jb.prototype.setProperties=Jb.prototype.G,Jb.prototype.unset=Jb.prototype.P,Jb.prototype.changed=Jb.prototype.u,Jb.prototype.dispatchEvent=Jb.prototype.b,Jb.prototype.getRevision=Jb.prototype.K,Jb.prototype.on=Jb.prototype.I,Jb.prototype.once=Jb.prototype.L,Jb.prototype.un=Jb.prototype.J,Jb.prototype.unByKey=Jb.prototype.M,Qb.prototype.setRenderReprojectionEdges=Qb.prototype.zb,Qb.prototype.setTileGridForProjection=Qb.prototype.Ab,Qb.prototype.getTileLoadFunction=Qb.prototype.fb,Qb.prototype.getTileUrlFunction=Qb.prototype.gb,Qb.prototype.getUrls=Qb.prototype.hb,Qb.prototype.setTileLoadFunction=Qb.prototype.kb,Qb.prototype.setTileUrlFunction=Qb.prototype.Qa,Qb.prototype.setUrl=Qb.prototype.Va,Qb.prototype.setUrls=Qb.prototype.bb,Qb.prototype.getTileGrid=Qb.prototype.Na,Qb.prototype.refresh=Qb.prototype.sa,Qb.prototype.getAttributions=Qb.prototype.wa,Qb.prototype.getLogo=Qb.prototype.ua,Qb.prototype.getProjection=Qb.prototype.xa,Qb.prototype.getState=Qb.prototype.V,Qb.prototype.setAttributions=Qb.prototype.oa,Qb.prototype.get=Qb.prototype.get,Qb.prototype.getKeys=Qb.prototype.N,Qb.prototype.getProperties=Qb.prototype.O,Qb.prototype.set=Qb.prototype.set,Qb.prototype.setProperties=Qb.prototype.G,Qb.prototype.unset=Qb.prototype.P,Qb.prototype.changed=Qb.prototype.u,Qb.prototype.dispatchEvent=Qb.prototype.b,Qb.prototype.getRevision=Qb.prototype.K,Qb.prototype.on=Qb.prototype.I,Qb.prototype.once=Qb.prototype.L,Qb.prototype.un=Qb.prototype.J,Qb.prototype.unByKey=Qb.prototype.M,lo.prototype.type=lo.prototype.type,lo.prototype.target=lo.prototype.target,lo.prototype.preventDefault=lo.prototype.preventDefault,lo.prototype.stopPropagation=lo.prototype.stopPropagation,tw.prototype.getTileGrid=tw.prototype.Na,tw.prototype.refresh=tw.prototype.sa,tw.prototype.getAttributions=tw.prototype.wa,tw.prototype.getLogo=tw.prototype.ua,tw.prototype.getProjection=tw.prototype.xa,tw.prototype.getState=tw.prototype.V,tw.prototype.setAttributions=tw.prototype.oa,tw.prototype.get=tw.prototype.get,tw.prototype.getKeys=tw.prototype.N,tw.prototype.getProperties=tw.prototype.O,tw.prototype.set=tw.prototype.set,tw.prototype.setProperties=tw.prototype.G,tw.prototype.unset=tw.prototype.P,tw.prototype.changed=tw.prototype.u,tw.prototype.dispatchEvent=tw.prototype.b,tw.prototype.getRevision=tw.prototype.K,tw.prototype.on=tw.prototype.I,tw.prototype.once=tw.prototype.L,tw.prototype.un=tw.prototype.J,tw.prototype.unByKey=tw.prototype.M,iw.prototype.setRenderReprojectionEdges=iw.prototype.zb,iw.prototype.setTileGridForProjection=iw.prototype.Ab,iw.prototype.getTileLoadFunction=iw.prototype.fb,iw.prototype.getTileUrlFunction=iw.prototype.gb,iw.prototype.getUrls=iw.prototype.hb,iw.prototype.setTileLoadFunction=iw.prototype.kb,iw.prototype.setTileUrlFunction=iw.prototype.Qa,iw.prototype.setUrl=iw.prototype.Va,iw.prototype.setUrls=iw.prototype.bb,iw.prototype.getTileGrid=iw.prototype.Na,iw.prototype.refresh=iw.prototype.sa,iw.prototype.getAttributions=iw.prototype.wa,iw.prototype.getLogo=iw.prototype.ua,iw.prototype.getProjection=iw.prototype.xa,iw.prototype.getState=iw.prototype.V,iw.prototype.setAttributions=iw.prototype.oa,iw.prototype.get=iw.prototype.get,iw.prototype.getKeys=iw.prototype.N,iw.prototype.getProperties=iw.prototype.O,iw.prototype.set=iw.prototype.set,iw.prototype.setProperties=iw.prototype.G,iw.prototype.unset=iw.prototype.P,iw.prototype.changed=iw.prototype.u,iw.prototype.dispatchEvent=iw.prototype.b,iw.prototype.getRevision=iw.prototype.K,iw.prototype.on=iw.prototype.I,iw.prototype.once=iw.prototype.L,iw.prototype.un=iw.prototype.J,iw.prototype.unByKey=iw.prototype.M,qu.prototype.type=qu.prototype.type,qu.prototype.target=qu.prototype.target,qu.prototype.preventDefault=qu.prototype.preventDefault,qu.prototype.stopPropagation=qu.prototype.stopPropagation,ic.prototype.getTileLoadFunction=ic.prototype.fb,ic.prototype.getTileUrlFunction=ic.prototype.gb,ic.prototype.getUrls=ic.prototype.hb,ic.prototype.setTileLoadFunction=ic.prototype.kb,ic.prototype.setTileUrlFunction=ic.prototype.Qa,ic.prototype.setUrl=ic.prototype.Va,ic.prototype.setUrls=ic.prototype.bb,ic.prototype.getTileGrid=ic.prototype.Na,ic.prototype.refresh=ic.prototype.sa,ic.prototype.getAttributions=ic.prototype.wa,ic.prototype.getLogo=ic.prototype.ua,ic.prototype.getProjection=ic.prototype.xa,ic.prototype.getState=ic.prototype.V,ic.prototype.setAttributions=ic.prototype.oa,ic.prototype.get=ic.prototype.get,ic.prototype.getKeys=ic.prototype.N,ic.prototype.getProperties=ic.prototype.O,ic.prototype.set=ic.prototype.set,ic.prototype.setProperties=ic.prototype.G,ic.prototype.unset=ic.prototype.P,ic.prototype.changed=ic.prototype.u,ic.prototype.dispatchEvent=ic.prototype.b,ic.prototype.getRevision=ic.prototype.K,ic.prototype.on=ic.prototype.I,ic.prototype.once=ic.prototype.L,ic.prototype.un=ic.prototype.J,ic.prototype.unByKey=ic.prototype.M,cw.prototype.setRenderReprojectionEdges=cw.prototype.zb,cw.prototype.setTileGridForProjection=cw.prototype.Ab,cw.prototype.getTileLoadFunction=cw.prototype.fb,cw.prototype.getTileUrlFunction=cw.prototype.gb,cw.prototype.getUrls=cw.prototype.hb,cw.prototype.setTileLoadFunction=cw.prototype.kb,cw.prototype.setTileUrlFunction=cw.prototype.Qa,cw.prototype.setUrl=cw.prototype.Va,cw.prototype.setUrls=cw.prototype.bb,cw.prototype.getTileGrid=cw.prototype.Na,cw.prototype.refresh=cw.prototype.sa,cw.prototype.getAttributions=cw.prototype.wa,cw.prototype.getLogo=cw.prototype.ua,cw.prototype.getProjection=cw.prototype.xa,cw.prototype.getState=cw.prototype.V,cw.prototype.setAttributions=cw.prototype.oa,cw.prototype.get=cw.prototype.get,cw.prototype.getKeys=cw.prototype.N,cw.prototype.getProperties=cw.prototype.O,cw.prototype.set=cw.prototype.set,cw.prototype.setProperties=cw.prototype.G,cw.prototype.unset=cw.prototype.P,cw.prototype.changed=cw.prototype.u,cw.prototype.dispatchEvent=cw.prototype.b,cw.prototype.getRevision=cw.prototype.K,cw.prototype.on=cw.prototype.I,cw.prototype.once=cw.prototype.L,cw.prototype.un=cw.prototype.J,cw.prototype.unByKey=cw.prototype.M,hw.prototype.setRenderReprojectionEdges=hw.prototype.zb,hw.prototype.setTileGridForProjection=hw.prototype.Ab,hw.prototype.getTileLoadFunction=hw.prototype.fb,hw.prototype.getTileUrlFunction=hw.prototype.gb,hw.prototype.getUrls=hw.prototype.hb,hw.prototype.setTileLoadFunction=hw.prototype.kb,hw.prototype.setTileUrlFunction=hw.prototype.Qa,hw.prototype.setUrl=hw.prototype.Va,hw.prototype.setUrls=hw.prototype.bb,hw.prototype.getTileGrid=hw.prototype.Na,hw.prototype.refresh=hw.prototype.sa,hw.prototype.getAttributions=hw.prototype.wa,hw.prototype.getLogo=hw.prototype.ua,hw.prototype.getProjection=hw.prototype.xa,hw.prototype.getState=hw.prototype.V,hw.prototype.setAttributions=hw.prototype.oa,hw.prototype.get=hw.prototype.get,hw.prototype.getKeys=hw.prototype.N,hw.prototype.getProperties=hw.prototype.O,hw.prototype.set=hw.prototype.set,hw.prototype.setProperties=hw.prototype.G,hw.prototype.unset=hw.prototype.P,hw.prototype.changed=hw.prototype.u,hw.prototype.dispatchEvent=hw.prototype.b,hw.prototype.getRevision=hw.prototype.K,hw.prototype.on=hw.prototype.I,hw.prototype.once=hw.prototype.L,hw.prototype.un=hw.prototype.J,hw.prototype.unByKey=hw.prototype.M,fb.prototype.getTileCoord=fb.prototype.i,fb.prototype.load=fb.prototype.load,qr.prototype.changed=qr.prototype.u,qr.prototype.dispatchEvent=qr.prototype.b,qr.prototype.getRevision=qr.prototype.K,qr.prototype.on=qr.prototype.I,qr.prototype.once=qr.prototype.L,qr.prototype.un=qr.prototype.J,qr.prototype.unByKey=qr.prototype.M,Zc.prototype.changed=Zc.prototype.u,Zc.prototype.dispatchEvent=Zc.prototype.b,Zc.prototype.getRevision=Zc.prototype.K,Zc.prototype.on=Zc.prototype.I,Zc.prototype.once=Zc.prototype.L,Zc.prototype.un=Zc.prototype.J,Zc.prototype.unByKey=Zc.prototype.M,Jc.prototype.changed=Jc.prototype.u,Jc.prototype.dispatchEvent=Jc.prototype.b,Jc.prototype.getRevision=Jc.prototype.K,Jc.prototype.on=Jc.prototype.I,Jc.prototype.once=Jc.prototype.L,Jc.prototype.un=Jc.prototype.J,Jc.prototype.unByKey=Jc.prototype.M,np.prototype.changed=np.prototype.u,np.prototype.dispatchEvent=np.prototype.b,np.prototype.getRevision=np.prototype.K,np.prototype.on=np.prototype.I,np.prototype.once=np.prototype.L,np.prototype.un=np.prototype.J,np.prototype.unByKey=np.prototype.M,ip.prototype.changed=ip.prototype.u,ip.prototype.dispatchEvent=ip.prototype.b,ip.prototype.getRevision=ip.prototype.K,ip.prototype.on=ip.prototype.I,ip.prototype.once=ip.prototype.L,ip.prototype.un=ip.prototype.J,ip.prototype.unByKey=ip.prototype.M,pc.prototype.changed=pc.prototype.u,pc.prototype.dispatchEvent=pc.prototype.b,pc.prototype.getRevision=pc.prototype.K,pc.prototype.on=pc.prototype.I,pc.prototype.once=pc.prototype.L,pc.prototype.un=pc.prototype.J,pc.prototype.unByKey=pc.prototype.M,hc.prototype.changed=hc.prototype.u,hc.prototype.dispatchEvent=hc.prototype.b,hc.prototype.getRevision=hc.prototype.K,hc.prototype.on=hc.prototype.I,hc.prototype.once=hc.prototype.L,hc.prototype.un=hc.prototype.J,hc.prototype.unByKey=hc.prototype.M,dc.prototype.changed=dc.prototype.u,dc.prototype.dispatchEvent=dc.prototype.b,dc.prototype.getRevision=dc.prototype.K,dc.prototype.on=dc.prototype.I,dc.prototype.once=dc.prototype.L,dc.prototype.un=dc.prototype.J,dc.prototype.unByKey=dc.prototype.M,gc.prototype.changed=gc.prototype.u,gc.prototype.dispatchEvent=gc.prototype.b,gc.prototype.getRevision=gc.prototype.K,gc.prototype.on=gc.prototype.I,gc.prototype.once=gc.prototype.L,gc.prototype.un=gc.prototype.J,gc.prototype.unByKey=gc.prototype.M,sl.prototype.changed=sl.prototype.u,sl.prototype.dispatchEvent=sl.prototype.b,sl.prototype.getRevision=sl.prototype.K,sl.prototype.on=sl.prototype.I,sl.prototype.once=sl.prototype.L,sl.prototype.un=sl.prototype.J,sl.prototype.unByKey=sl.prototype.M,Gu.prototype.changed=Gu.prototype.u,Gu.prototype.dispatchEvent=Gu.prototype.b,Gu.prototype.getRevision=Gu.prototype.K,Gu.prototype.on=Gu.prototype.I,Gu.prototype.once=Gu.prototype.L,Gu.prototype.un=Gu.prototype.J,Gu.prototype.unByKey=Gu.prototype.M,Yu.prototype.changed=Yu.prototype.u,Yu.prototype.dispatchEvent=Yu.prototype.b,Yu.prototype.getRevision=Yu.prototype.K,Yu.prototype.on=Yu.prototype.I,Yu.prototype.once=Yu.prototype.L,Yu.prototype.un=Yu.prototype.J,Yu.prototype.unByKey=Yu.prototype.M,Zu.prototype.changed=Zu.prototype.u,Zu.prototype.dispatchEvent=Zu.prototype.b,Zu.prototype.getRevision=Zu.prototype.K,Zu.prototype.on=Zu.prototype.I,Zu.prototype.once=Zu.prototype.L,Zu.prototype.un=Zu.prototype.J,Zu.prototype.unByKey=Zu.prototype.M,sc.prototype.changed=sc.prototype.u,sc.prototype.dispatchEvent=sc.prototype.b,sc.prototype.getRevision=sc.prototype.K,sc.prototype.on=sc.prototype.I,sc.prototype.once=sc.prototype.L,sc.prototype.un=sc.prototype.J,sc.prototype.unByKey=sc.prototype.M,Fr.prototype.type=Fr.prototype.type,Fr.prototype.target=Fr.prototype.target,Fr.prototype.preventDefault=Fr.prototype.preventDefault,Fr.prototype.stopPropagation=Fr.prototype.stopPropagation,Ao.prototype.type=Ao.prototype.type,Ao.prototype.target=Ao.prototype.target,Ao.prototype.preventDefault=Ao.prototype.preventDefault,Ao.prototype.stopPropagation=Ao.prototype.stopPropagation,Ir.prototype.get=Ir.prototype.get,Ir.prototype.getKeys=Ir.prototype.N,Ir.prototype.getProperties=Ir.prototype.O,Ir.prototype.set=Ir.prototype.set,Ir.prototype.setProperties=Ir.prototype.G,Ir.prototype.unset=Ir.prototype.P,Ir.prototype.changed=Ir.prototype.u,Ir.prototype.dispatchEvent=Ir.prototype.b,Ir.prototype.getRevision=Ir.prototype.K,Ir.prototype.on=Ir.prototype.I,Ir.prototype.once=Ir.prototype.L,Ir.prototype.un=Ir.prototype.J,Ir.prototype.unByKey=Ir.prototype.M,Nr.prototype.getExtent=Nr.prototype.H,Nr.prototype.getMaxResolution=Nr.prototype.Nb,Nr.prototype.getMinResolution=Nr.prototype.Ob,Nr.prototype.getOpacity=Nr.prototype.Pb,Nr.prototype.getVisible=Nr.prototype.xb,Nr.prototype.getZIndex=Nr.prototype.Qb,Nr.prototype.setExtent=Nr.prototype.fc,Nr.prototype.setMaxResolution=Nr.prototype.nc,Nr.prototype.setMinResolution=Nr.prototype.oc,Nr.prototype.setOpacity=Nr.prototype.gc,Nr.prototype.setVisible=Nr.prototype.hc,Nr.prototype.setZIndex=Nr.prototype.ic,Nr.prototype.get=Nr.prototype.get,Nr.prototype.getKeys=Nr.prototype.N,Nr.prototype.getProperties=Nr.prototype.O,Nr.prototype.set=Nr.prototype.set,Nr.prototype.setProperties=Nr.prototype.G,Nr.prototype.unset=Nr.prototype.P,Nr.prototype.changed=Nr.prototype.u,Nr.prototype.dispatchEvent=Nr.prototype.b,Nr.prototype.getRevision=Nr.prototype.K,Nr.prototype.on=Nr.prototype.I,Nr.prototype.once=Nr.prototype.L,Nr.prototype.un=Nr.prototype.J,Nr.prototype.unByKey=Nr.prototype.M,Xs.prototype.setMap=Xs.prototype.setMap,Xs.prototype.setSource=Xs.prototype.Fc,Xs.prototype.getExtent=Xs.prototype.H,Xs.prototype.getMaxResolution=Xs.prototype.Nb,Xs.prototype.getMinResolution=Xs.prototype.Ob,Xs.prototype.getOpacity=Xs.prototype.Pb,Xs.prototype.getVisible=Xs.prototype.xb,Xs.prototype.getZIndex=Xs.prototype.Qb,Xs.prototype.setExtent=Xs.prototype.fc,Xs.prototype.setMaxResolution=Xs.prototype.nc,Xs.prototype.setMinResolution=Xs.prototype.oc,Xs.prototype.setOpacity=Xs.prototype.gc,Xs.prototype.setVisible=Xs.prototype.hc,Xs.prototype.setZIndex=Xs.prototype.ic,Xs.prototype.get=Xs.prototype.get,Xs.prototype.getKeys=Xs.prototype.N,Xs.prototype.getProperties=Xs.prototype.O,Xs.prototype.set=Xs.prototype.set,Xs.prototype.setProperties=Xs.prototype.G,Xs.prototype.unset=Xs.prototype.P,Xs.prototype.changed=Xs.prototype.u,Xs.prototype.dispatchEvent=Xs.prototype.b,Xs.prototype.getRevision=Xs.prototype.K,Xs.prototype.on=Xs.prototype.I,Xs.prototype.once=Xs.prototype.L,Xs.prototype.un=Xs.prototype.J,Xs.prototype.unByKey=Xs.prototype.M,pb.prototype.getSource=pb.prototype.ha,pb.prototype.getStyle=pb.prototype.C,pb.prototype.getStyleFunction=pb.prototype.D,pb.prototype.setStyle=pb.prototype.l,pb.prototype.setMap=pb.prototype.setMap,pb.prototype.setSource=pb.prototype.Fc,pb.prototype.getExtent=pb.prototype.H,pb.prototype.getMaxResolution=pb.prototype.Nb,pb.prototype.getMinResolution=pb.prototype.Ob,pb.prototype.getOpacity=pb.prototype.Pb,pb.prototype.getVisible=pb.prototype.xb,pb.prototype.getZIndex=pb.prototype.Qb,pb.prototype.setExtent=pb.prototype.fc,pb.prototype.setMaxResolution=pb.prototype.nc,pb.prototype.setMinResolution=pb.prototype.oc,pb.prototype.setOpacity=pb.prototype.gc,pb.prototype.setVisible=pb.prototype.hc,pb.prototype.setZIndex=pb.prototype.ic,pb.prototype.get=pb.prototype.get,pb.prototype.getKeys=pb.prototype.N,pb.prototype.getProperties=pb.prototype.O,pb.prototype.set=pb.prototype.set,pb.prototype.setProperties=pb.prototype.G,pb.prototype.unset=pb.prototype.P,pb.prototype.changed=pb.prototype.u,pb.prototype.dispatchEvent=pb.prototype.b,pb.prototype.getRevision=pb.prototype.K,pb.prototype.on=pb.prototype.I,pb.prototype.once=pb.prototype.L,pb.prototype.un=pb.prototype.J,pb.prototype.unByKey=pb.prototype.M,Ms.prototype.setMap=Ms.prototype.setMap,Ms.prototype.setSource=Ms.prototype.Fc,Ms.prototype.getExtent=Ms.prototype.H,Ms.prototype.getMaxResolution=Ms.prototype.Nb,Ms.prototype.getMinResolution=Ms.prototype.Ob,Ms.prototype.getOpacity=Ms.prototype.Pb,Ms.prototype.getVisible=Ms.prototype.xb,Ms.prototype.getZIndex=Ms.prototype.Qb,Ms.prototype.setExtent=Ms.prototype.fc,Ms.prototype.setMaxResolution=Ms.prototype.nc,Ms.prototype.setMinResolution=Ms.prototype.oc,Ms.prototype.setOpacity=Ms.prototype.gc,Ms.prototype.setVisible=Ms.prototype.hc,Ms.prototype.setZIndex=Ms.prototype.ic,Ms.prototype.get=Ms.prototype.get,Ms.prototype.getKeys=Ms.prototype.N,Ms.prototype.getProperties=Ms.prototype.O,Ms.prototype.set=Ms.prototype.set,Ms.prototype.setProperties=Ms.prototype.G,Ms.prototype.unset=Ms.prototype.P,Ms.prototype.changed=Ms.prototype.u,Ms.prototype.dispatchEvent=Ms.prototype.b,Ms.prototype.getRevision=Ms.prototype.K,Ms.prototype.on=Ms.prototype.I,Ms.prototype.once=Ms.prototype.L,Ms.prototype.un=Ms.prototype.J,Ms.prototype.unByKey=Ms.prototype.M,ms.prototype.getExtent=ms.prototype.H,ms.prototype.getMaxResolution=ms.prototype.Nb,ms.prototype.getMinResolution=ms.prototype.Ob,ms.prototype.getOpacity=ms.prototype.Pb,ms.prototype.getVisible=ms.prototype.xb,ms.prototype.getZIndex=ms.prototype.Qb,ms.prototype.setExtent=ms.prototype.fc,ms.prototype.setMaxResolution=ms.prototype.nc,ms.prototype.setMinResolution=ms.prototype.oc,ms.prototype.setOpacity=ms.prototype.gc,ms.prototype.setVisible=ms.prototype.hc,ms.prototype.setZIndex=ms.prototype.ic,ms.prototype.get=ms.prototype.get,ms.prototype.getKeys=ms.prototype.N,ms.prototype.getProperties=ms.prototype.O,ms.prototype.set=ms.prototype.set,ms.prototype.setProperties=ms.prototype.G,ms.prototype.unset=ms.prototype.P,ms.prototype.changed=ms.prototype.u,ms.prototype.dispatchEvent=ms.prototype.b,ms.prototype.getRevision=ms.prototype.K,ms.prototype.on=ms.prototype.I,ms.prototype.once=ms.prototype.L,ms.prototype.un=ms.prototype.J,ms.prototype.unByKey=ms.prototype.M,Es.prototype.setMap=Es.prototype.setMap,Es.prototype.setSource=Es.prototype.Fc,Es.prototype.getExtent=Es.prototype.H,Es.prototype.getMaxResolution=Es.prototype.Nb,Es.prototype.getMinResolution=Es.prototype.Ob,Es.prototype.getOpacity=Es.prototype.Pb,Es.prototype.getVisible=Es.prototype.xb,Es.prototype.getZIndex=Es.prototype.Qb,Es.prototype.setExtent=Es.prototype.fc,Es.prototype.setMaxResolution=Es.prototype.nc,Es.prototype.setMinResolution=Es.prototype.oc,Es.prototype.setOpacity=Es.prototype.gc,Es.prototype.setVisible=Es.prototype.hc,Es.prototype.setZIndex=Es.prototype.ic,Es.prototype.get=Es.prototype.get,Es.prototype.getKeys=Es.prototype.N,Es.prototype.getProperties=Es.prototype.O,Es.prototype.set=Es.prototype.set,Es.prototype.setProperties=Es.prototype.G,Es.prototype.unset=Es.prototype.P,Es.prototype.changed=Es.prototype.u,Es.prototype.dispatchEvent=Es.prototype.b,Es.prototype.getRevision=Es.prototype.K,Es.prototype.on=Es.prototype.I,Es.prototype.once=Es.prototype.L,Es.prototype.un=Es.prototype.J,Es.prototype.unByKey=Es.prototype.M,Qs.prototype.getSource=Qs.prototype.ha,Qs.prototype.getStyle=Qs.prototype.C,Qs.prototype.getStyleFunction=Qs.prototype.D,Qs.prototype.setStyle=Qs.prototype.l,Qs.prototype.setMap=Qs.prototype.setMap,Qs.prototype.setSource=Qs.prototype.Fc,Qs.prototype.getExtent=Qs.prototype.H,Qs.prototype.getMaxResolution=Qs.prototype.Nb,Qs.prototype.getMinResolution=Qs.prototype.Ob,Qs.prototype.getOpacity=Qs.prototype.Pb,Qs.prototype.getVisible=Qs.prototype.xb,Qs.prototype.getZIndex=Qs.prototype.Qb,Qs.prototype.setExtent=Qs.prototype.fc,Qs.prototype.setMaxResolution=Qs.prototype.nc,Qs.prototype.setMinResolution=Qs.prototype.oc,Qs.prototype.setOpacity=Qs.prototype.gc,Qs.prototype.setVisible=Qs.prototype.hc,Qs.prototype.setZIndex=Qs.prototype.ic,Qs.prototype.get=Qs.prototype.get,Qs.prototype.getKeys=Qs.prototype.N,Qs.prototype.getProperties=Qs.prototype.O,Qs.prototype.set=Qs.prototype.set,Qs.prototype.setProperties=Qs.prototype.G,Qs.prototype.unset=Qs.prototype.P,Qs.prototype.changed=Qs.prototype.u,Qs.prototype.dispatchEvent=Qs.prototype.b,Qs.prototype.getRevision=Qs.prototype.K,Qs.prototype.on=Qs.prototype.I,Qs.prototype.once=Qs.prototype.L,Qs.prototype.un=Qs.prototype.J,Qs.prototype.unByKey=Qs.prototype.M,ba.prototype.get=ba.prototype.get,ba.prototype.getKeys=ba.prototype.N,ba.prototype.getProperties=ba.prototype.O,ba.prototype.set=ba.prototype.set,ba.prototype.setProperties=ba.prototype.G,ba.prototype.unset=ba.prototype.P,ba.prototype.changed=ba.prototype.u,ba.prototype.dispatchEvent=ba.prototype.b,ba.prototype.getRevision=ba.prototype.K,ba.prototype.on=ba.prototype.I,ba.prototype.once=ba.prototype.L,ba.prototype.un=ba.prototype.J,ba.prototype.unByKey=ba.prototype.M,_a.prototype.getActive=_a.prototype.f,_a.prototype.getMap=_a.prototype.l,_a.prototype.setActive=_a.prototype.i,_a.prototype.get=_a.prototype.get,_a.prototype.getKeys=_a.prototype.N,_a.prototype.getProperties=_a.prototype.O,_a.prototype.set=_a.prototype.set,_a.prototype.setProperties=_a.prototype.G,_a.prototype.unset=_a.prototype.P,_a.prototype.changed=_a.prototype.u,_a.prototype.dispatchEvent=_a.prototype.b,_a.prototype.getRevision=_a.prototype.K,_a.prototype.on=_a.prototype.I,_a.prototype.once=_a.prototype.L,_a.prototype.un=_a.prototype.J,_a.prototype.unByKey=_a.prototype.M,vy.prototype.getActive=vy.prototype.f,vy.prototype.getMap=vy.prototype.l,vy.prototype.setActive=vy.prototype.i,vy.prototype.get=vy.prototype.get,vy.prototype.getKeys=vy.prototype.N,vy.prototype.getProperties=vy.prototype.O,vy.prototype.set=vy.prototype.set,vy.prototype.setProperties=vy.prototype.G,vy.prototype.unset=vy.prototype.P,vy.prototype.changed=vy.prototype.u,vy.prototype.dispatchEvent=vy.prototype.b,vy.prototype.getRevision=vy.prototype.K,vy.prototype.on=vy.prototype.I,vy.prototype.once=vy.prototype.L,vy.prototype.un=vy.prototype.J,vy.prototype.unByKey=vy.prototype.M,xy.prototype.type=xy.prototype.type,xy.prototype.target=xy.prototype.target,xy.prototype.preventDefault=xy.prototype.preventDefault,xy.prototype.stopPropagation=xy.prototype.stopPropagation,Ya.prototype.type=Ya.prototype.type,Ya.prototype.target=Ya.prototype.target,Ya.prototype.preventDefault=Ya.prototype.preventDefault,Ya.prototype.stopPropagation=Ya.prototype.stopPropagation,Ia.prototype.getActive=Ia.prototype.f,Ia.prototype.getMap=Ia.prototype.l,Ia.prototype.setActive=Ia.prototype.i,Ia.prototype.get=Ia.prototype.get,Ia.prototype.getKeys=Ia.prototype.N,Ia.prototype.getProperties=Ia.prototype.O,Ia.prototype.set=Ia.prototype.set,Ia.prototype.setProperties=Ia.prototype.G,Ia.prototype.unset=Ia.prototype.P,Ia.prototype.changed=Ia.prototype.u,Ia.prototype.dispatchEvent=Ia.prototype.b,Ia.prototype.getRevision=Ia.prototype.K,Ia.prototype.on=Ia.prototype.I,Ia.prototype.once=Ia.prototype.L,Ia.prototype.un=Ia.prototype.J,Ia.prototype.unByKey=Ia.prototype.M,Ka.prototype.getActive=Ka.prototype.f,Ka.prototype.getMap=Ka.prototype.l,Ka.prototype.setActive=Ka.prototype.i,Ka.prototype.get=Ka.prototype.get,Ka.prototype.getKeys=Ka.prototype.N,Ka.prototype.getProperties=Ka.prototype.O,Ka.prototype.set=Ka.prototype.set,Ka.prototype.setProperties=Ka.prototype.G,Ka.prototype.unset=Ka.prototype.P,Ka.prototype.changed=Ka.prototype.u,Ka.prototype.dispatchEvent=Ka.prototype.b,Ka.prototype.getRevision=Ka.prototype.K,Ka.prototype.on=Ka.prototype.I,Ka.prototype.once=Ka.prototype.L,Ka.prototype.un=Ka.prototype.J,Ka.prototype.unByKey=Ka.prototype.M,Fa.prototype.getActive=Fa.prototype.f,Fa.prototype.getMap=Fa.prototype.l,Fa.prototype.setActive=Fa.prototype.i,Fa.prototype.get=Fa.prototype.get,Fa.prototype.getKeys=Fa.prototype.N,Fa.prototype.getProperties=Fa.prototype.O,Fa.prototype.set=Fa.prototype.set,Fa.prototype.setProperties=Fa.prototype.G,Fa.prototype.unset=Fa.prototype.P,Fa.prototype.changed=Fa.prototype.u,Fa.prototype.dispatchEvent=Fa.prototype.b,Fa.prototype.getRevision=Fa.prototype.K,Fa.prototype.on=Fa.prototype.I,Fa.prototype.once=Fa.prototype.L,Fa.prototype.un=Fa.prototype.J,Fa.prototype.unByKey=Fa.prototype.M,$y.prototype.getActive=$y.prototype.f,$y.prototype.getMap=$y.prototype.l,$y.prototype.setActive=$y.prototype.i,$y.prototype.get=$y.prototype.get,$y.prototype.getKeys=$y.prototype.N,$y.prototype.getProperties=$y.prototype.O,$y.prototype.set=$y.prototype.set,$y.prototype.setProperties=$y.prototype.G,$y.prototype.unset=$y.prototype.P,$y.prototype.changed=$y.prototype.u,$y.prototype.dispatchEvent=$y.prototype.b,$y.prototype.getRevision=$y.prototype.K,$y.prototype.on=$y.prototype.I,$y.prototype.once=$y.prototype.L,$y.prototype.un=$y.prototype.J,$y.prototype.unByKey=$y.prototype.M,Ua.prototype.getActive=Ua.prototype.f,Ua.prototype.getMap=Ua.prototype.l,Ua.prototype.setActive=Ua.prototype.i,Ua.prototype.get=Ua.prototype.get,Ua.prototype.getKeys=Ua.prototype.N,Ua.prototype.getProperties=Ua.prototype.O,Ua.prototype.set=Ua.prototype.set,Ua.prototype.setProperties=Ua.prototype.G,Ua.prototype.unset=Ua.prototype.P,Ua.prototype.changed=Ua.prototype.u,Ua.prototype.dispatchEvent=Ua.prototype.b,Ua.prototype.getRevision=Ua.prototype.K,Ua.prototype.on=Ua.prototype.I,Ua.prototype.once=Ua.prototype.L,Ua.prototype.un=Ua.prototype.J,Ua.prototype.unByKey=Ua.prototype.M,ts.prototype.getGeometry=ts.prototype.W,ts.prototype.getActive=ts.prototype.f,ts.prototype.getMap=ts.prototype.l,ts.prototype.setActive=ts.prototype.i,ts.prototype.get=ts.prototype.get,ts.prototype.getKeys=ts.prototype.N,ts.prototype.getProperties=ts.prototype.O,ts.prototype.set=ts.prototype.set,ts.prototype.setProperties=ts.prototype.G,ts.prototype.unset=ts.prototype.P,ts.prototype.changed=ts.prototype.u,ts.prototype.dispatchEvent=ts.prototype.b,ts.prototype.getRevision=ts.prototype.K,ts.prototype.on=ts.prototype.I,ts.prototype.once=ts.prototype.L,ts.prototype.un=ts.prototype.J,ts.prototype.unByKey=ts.prototype.M,Sy.prototype.type=Sy.prototype.type,Sy.prototype.target=Sy.prototype.target,Sy.prototype.preventDefault=Sy.prototype.preventDefault,Sy.prototype.stopPropagation=Sy.prototype.stopPropagation,Ty.prototype.getActive=Ty.prototype.f,Ty.prototype.getMap=Ty.prototype.l,Ty.prototype.setActive=Ty.prototype.i,Ty.prototype.get=Ty.prototype.get,Ty.prototype.getKeys=Ty.prototype.N,Ty.prototype.getProperties=Ty.prototype.O,Ty.prototype.set=Ty.prototype.set,Ty.prototype.setProperties=Ty.prototype.G,Ty.prototype.unset=Ty.prototype.P,Ty.prototype.changed=Ty.prototype.u,Ty.prototype.dispatchEvent=Ty.prototype.b,Ty.prototype.getRevision=Ty.prototype.K,Ty.prototype.on=Ty.prototype.I,Ty.prototype.once=Ty.prototype.L,Ty.prototype.un=Ty.prototype.J,Ty.prototype.unByKey=Ty.prototype.M,es.prototype.getActive=es.prototype.f,es.prototype.getMap=es.prototype.l,es.prototype.setActive=es.prototype.i,es.prototype.get=es.prototype.get,es.prototype.getKeys=es.prototype.N,es.prototype.getProperties=es.prototype.O,es.prototype.set=es.prototype.set,es.prototype.setProperties=es.prototype.G,es.prototype.unset=es.prototype.P,es.prototype.changed=es.prototype.u,es.prototype.dispatchEvent=es.prototype.b,es.prototype.getRevision=es.prototype.K,es.prototype.on=es.prototype.I,es.prototype.once=es.prototype.L,es.prototype.un=es.prototype.J,es.prototype.unByKey=es.prototype.M,is.prototype.getActive=is.prototype.f,is.prototype.getMap=is.prototype.l,is.prototype.setActive=is.prototype.i,is.prototype.get=is.prototype.get,is.prototype.getKeys=is.prototype.N,is.prototype.getProperties=is.prototype.O,is.prototype.set=is.prototype.set,is.prototype.setProperties=is.prototype.G,is.prototype.unset=is.prototype.P,is.prototype.changed=is.prototype.u,is.prototype.dispatchEvent=is.prototype.b,is.prototype.getRevision=is.prototype.K,is.prototype.on=is.prototype.I,is.prototype.once=is.prototype.L,is.prototype.un=is.prototype.J,is.prototype.unByKey=is.prototype.M,Uy.prototype.type=Uy.prototype.type,Uy.prototype.target=Uy.prototype.target,Uy.prototype.preventDefault=Uy.prototype.preventDefault,Uy.prototype.stopPropagation=Uy.prototype.stopPropagation,zy.prototype.getActive=zy.prototype.f,zy.prototype.getMap=zy.prototype.l,zy.prototype.setActive=zy.prototype.i,zy.prototype.get=zy.prototype.get,zy.prototype.getKeys=zy.prototype.N,zy.prototype.getProperties=zy.prototype.O,zy.prototype.set=zy.prototype.set,zy.prototype.setProperties=zy.prototype.G,zy.prototype.unset=zy.prototype.P,zy.prototype.changed=zy.prototype.u,zy.prototype.dispatchEvent=zy.prototype.b,zy.prototype.getRevision=zy.prototype.K,zy.prototype.on=zy.prototype.I,zy.prototype.once=zy.prototype.L,zy.prototype.un=zy.prototype.J,zy.prototype.unByKey=zy.prototype.M,rs.prototype.getActive=rs.prototype.f,rs.prototype.getMap=rs.prototype.l,rs.prototype.setActive=rs.prototype.i,rs.prototype.get=rs.prototype.get,rs.prototype.getKeys=rs.prototype.N,rs.prototype.getProperties=rs.prototype.O,rs.prototype.set=rs.prototype.set,rs.prototype.setProperties=rs.prototype.G,rs.prototype.unset=rs.prototype.P,rs.prototype.changed=rs.prototype.u,rs.prototype.dispatchEvent=rs.prototype.b,rs.prototype.getRevision=rs.prototype.K,rs.prototype.on=rs.prototype.I,rs.prototype.once=rs.prototype.L,rs.prototype.un=rs.prototype.J,rs.prototype.unByKey=rs.prototype.M,ss.prototype.getActive=ss.prototype.f,ss.prototype.getMap=ss.prototype.l,ss.prototype.setActive=ss.prototype.i,ss.prototype.get=ss.prototype.get,ss.prototype.getKeys=ss.prototype.N,ss.prototype.getProperties=ss.prototype.O,ss.prototype.set=ss.prototype.set,ss.prototype.setProperties=ss.prototype.G,ss.prototype.unset=ss.prototype.P,ss.prototype.changed=ss.prototype.u,ss.prototype.dispatchEvent=ss.prototype.b,ss.prototype.getRevision=ss.prototype.K,ss.prototype.on=ss.prototype.I,ss.prototype.once=ss.prototype.L,ss.prototype.un=ss.prototype.J,ss.prototype.unByKey=ss.prototype.M,ps.prototype.getActive=ps.prototype.f,ps.prototype.getMap=ps.prototype.l,ps.prototype.setActive=ps.prototype.i,ps.prototype.get=ps.prototype.get,ps.prototype.getKeys=ps.prototype.N,ps.prototype.getProperties=ps.prototype.O,ps.prototype.set=ps.prototype.set,ps.prototype.setProperties=ps.prototype.G,ps.prototype.unset=ps.prototype.P,ps.prototype.changed=ps.prototype.u,ps.prototype.dispatchEvent=ps.prototype.b,ps.prototype.getRevision=ps.prototype.K,ps.prototype.on=ps.prototype.I,ps.prototype.once=ps.prototype.L,ps.prototype.un=ps.prototype.J,ps.prototype.unByKey=ps.prototype.M,Qy.prototype.type=Qy.prototype.type,Qy.prototype.target=Qy.prototype.target,Qy.prototype.preventDefault=Qy.prototype.preventDefault,Qy.prototype.stopPropagation=Qy.prototype.stopPropagation,tb.prototype.getActive=tb.prototype.f,tb.prototype.getMap=tb.prototype.l,tb.prototype.setActive=tb.prototype.i,tb.prototype.get=tb.prototype.get,tb.prototype.getKeys=tb.prototype.N,tb.prototype.getProperties=tb.prototype.O,tb.prototype.set=tb.prototype.set,tb.prototype.setProperties=tb.prototype.G,tb.prototype.unset=tb.prototype.P,tb.prototype.changed=tb.prototype.u,tb.prototype.dispatchEvent=tb.prototype.b,tb.prototype.getRevision=tb.prototype.K,tb.prototype.on=tb.prototype.I,tb.prototype.once=tb.prototype.L,tb.prototype.un=tb.prototype.J,tb.prototype.unByKey=tb.prototype.M,nb.prototype.getActive=nb.prototype.f,nb.prototype.getMap=nb.prototype.l,nb.prototype.setActive=nb.prototype.i,nb.prototype.get=nb.prototype.get,nb.prototype.getKeys=nb.prototype.N,nb.prototype.getProperties=nb.prototype.O,nb.prototype.set=nb.prototype.set,nb.prototype.setProperties=nb.prototype.G,nb.prototype.unset=nb.prototype.P,nb.prototype.changed=nb.prototype.u,nb.prototype.dispatchEvent=nb.prototype.b,nb.prototype.getRevision=nb.prototype.K,nb.prototype.on=nb.prototype.I,nb.prototype.once=nb.prototype.L,nb.prototype.un=nb.prototype.J,nb.prototype.unByKey=nb.prototype.M,rb.prototype.type=rb.prototype.type,rb.prototype.target=rb.prototype.target,rb.prototype.preventDefault=rb.prototype.preventDefault,rb.prototype.stopPropagation=rb.prototype.stopPropagation,ab.prototype.getActive=ab.prototype.f,ab.prototype.getMap=ab.prototype.l,ab.prototype.setActive=ab.prototype.i,ab.prototype.get=ab.prototype.get,ab.prototype.getKeys=ab.prototype.N,ab.prototype.getProperties=ab.prototype.O,ab.prototype.set=ab.prototype.set,ab.prototype.setProperties=ab.prototype.G,ab.prototype.unset=ab.prototype.P,ab.prototype.changed=ab.prototype.u,ab.prototype.dispatchEvent=ab.prototype.b,ab.prototype.getRevision=ab.prototype.K,ab.prototype.on=ab.prototype.I,ab.prototype.once=ab.prototype.L,ab.prototype.un=ab.prototype.J,ab.prototype.unByKey=ab.prototype.M,Ae.prototype.get=Ae.prototype.get,Ae.prototype.getKeys=Ae.prototype.N,Ae.prototype.getProperties=Ae.prototype.O,Ae.prototype.set=Ae.prototype.set,Ae.prototype.setProperties=Ae.prototype.G,Ae.prototype.unset=Ae.prototype.P,Ae.prototype.changed=Ae.prototype.u,Ae.prototype.dispatchEvent=Ae.prototype.b,Ae.prototype.getRevision=Ae.prototype.K,Ae.prototype.on=Ae.prototype.I,Ae.prototype.once=Ae.prototype.L,Ae.prototype.un=Ae.prototype.J,Ae.prototype.unByKey=Ae.prototype.M,ze.prototype.getClosestPoint=ze.prototype.vb,ze.prototype.getExtent=ze.prototype.H,ze.prototype.rotate=ze.prototype.rotate,ze.prototype.simplify=ze.prototype.Bb,ze.prototype.transform=ze.prototype.jb,ze.prototype.get=ze.prototype.get,ze.prototype.getKeys=ze.prototype.N,ze.prototype.getProperties=ze.prototype.O,ze.prototype.set=ze.prototype.set,ze.prototype.setProperties=ze.prototype.G,ze.prototype.unset=ze.prototype.P,ze.prototype.changed=ze.prototype.u,ze.prototype.dispatchEvent=ze.prototype.b,ze.prototype.getRevision=ze.prototype.K,ze.prototype.on=ze.prototype.I,ze.prototype.once=ze.prototype.L,ze.prototype.un=ze.prototype.J,ze.prototype.unByKey=ze.prototype.M,ay.prototype.getFirstCoordinate=ay.prototype.Ib,ay.prototype.getLastCoordinate=ay.prototype.Jb,ay.prototype.getLayout=ay.prototype.Kb,ay.prototype.rotate=ay.prototype.rotate,ay.prototype.getClosestPoint=ay.prototype.vb,ay.prototype.getExtent=ay.prototype.H,ay.prototype.simplify=ay.prototype.Bb,ay.prototype.get=ay.prototype.get,ay.prototype.getKeys=ay.prototype.N,ay.prototype.getProperties=ay.prototype.O,ay.prototype.set=ay.prototype.set,ay.prototype.setProperties=ay.prototype.G,ay.prototype.unset=ay.prototype.P,ay.prototype.changed=ay.prototype.u,ay.prototype.dispatchEvent=ay.prototype.b,ay.prototype.getRevision=ay.prototype.K,ay.prototype.on=ay.prototype.I,ay.prototype.once=ay.prototype.L,ay.prototype.un=ay.prototype.J,ay.prototype.unByKey=ay.prototype.M,nh.prototype.getClosestPoint=nh.prototype.vb,nh.prototype.getExtent=nh.prototype.H,nh.prototype.rotate=nh.prototype.rotate,nh.prototype.simplify=nh.prototype.Bb,nh.prototype.transform=nh.prototype.jb,nh.prototype.get=nh.prototype.get,nh.prototype.getKeys=nh.prototype.N,nh.prototype.getProperties=nh.prototype.O,nh.prototype.set=nh.prototype.set,nh.prototype.setProperties=nh.prototype.G,nh.prototype.unset=nh.prototype.P,nh.prototype.changed=nh.prototype.u,nh.prototype.dispatchEvent=nh.prototype.b,nh.prototype.getRevision=nh.prototype.K,nh.prototype.on=nh.prototype.I,nh.prototype.once=nh.prototype.L,nh.prototype.un=nh.prototype.J,nh.prototype.unByKey=nh.prototype.M,sn.prototype.getFirstCoordinate=sn.prototype.Ib,sn.prototype.getLastCoordinate=sn.prototype.Jb,sn.prototype.getLayout=sn.prototype.Kb,sn.prototype.rotate=sn.prototype.rotate,sn.prototype.getClosestPoint=sn.prototype.vb,sn.prototype.getExtent=sn.prototype.H,sn.prototype.simplify=sn.prototype.Bb,sn.prototype.transform=sn.prototype.jb,sn.prototype.get=sn.prototype.get,sn.prototype.getKeys=sn.prototype.N,sn.prototype.getProperties=sn.prototype.O,sn.prototype.set=sn.prototype.set,sn.prototype.setProperties=sn.prototype.G,sn.prototype.unset=sn.prototype.P,sn.prototype.changed=sn.prototype.u,sn.prototype.dispatchEvent=sn.prototype.b,sn.prototype.getRevision=sn.prototype.K,sn.prototype.on=sn.prototype.I,sn.prototype.once=sn.prototype.L,sn.prototype.un=sn.prototype.J,sn.prototype.unByKey=sn.prototype.M,Np.prototype.getFirstCoordinate=Np.prototype.Ib,Np.prototype.getLastCoordinate=Np.prototype.Jb,Np.prototype.getLayout=Np.prototype.Kb,Np.prototype.rotate=Np.prototype.rotate,Np.prototype.getClosestPoint=Np.prototype.vb,Np.prototype.getExtent=Np.prototype.H,Np.prototype.simplify=Np.prototype.Bb,Np.prototype.transform=Np.prototype.jb,Np.prototype.get=Np.prototype.get,Np.prototype.getKeys=Np.prototype.N,Np.prototype.getProperties=Np.prototype.O,Np.prototype.set=Np.prototype.set,Np.prototype.setProperties=Np.prototype.G,Np.prototype.unset=Np.prototype.P,Np.prototype.changed=Np.prototype.u,Np.prototype.dispatchEvent=Np.prototype.b,Np.prototype.getRevision=Np.prototype.K,Np.prototype.on=Np.prototype.I,Np.prototype.once=Np.prototype.L,Np.prototype.un=Np.prototype.J,Np.prototype.unByKey=Np.prototype.M,Bp.prototype.getFirstCoordinate=Bp.prototype.Ib,Bp.prototype.getLastCoordinate=Bp.prototype.Jb,Bp.prototype.getLayout=Bp.prototype.Kb,Bp.prototype.rotate=Bp.prototype.rotate,Bp.prototype.getClosestPoint=Bp.prototype.vb,Bp.prototype.getExtent=Bp.prototype.H,Bp.prototype.simplify=Bp.prototype.Bb,Bp.prototype.transform=Bp.prototype.jb,Bp.prototype.get=Bp.prototype.get,Bp.prototype.getKeys=Bp.prototype.N,Bp.prototype.getProperties=Bp.prototype.O,Bp.prototype.set=Bp.prototype.set,Bp.prototype.setProperties=Bp.prototype.G,Bp.prototype.unset=Bp.prototype.P,Bp.prototype.changed=Bp.prototype.u,Bp.prototype.dispatchEvent=Bp.prototype.b,Bp.prototype.getRevision=Bp.prototype.K,Bp.prototype.on=Bp.prototype.I,Bp.prototype.once=Bp.prototype.L,Bp.prototype.un=Bp.prototype.J,Bp.prototype.unByKey=Bp.prototype.M,Hp.prototype.getFirstCoordinate=Hp.prototype.Ib,Hp.prototype.getLastCoordinate=Hp.prototype.Jb,Hp.prototype.getLayout=Hp.prototype.Kb,Hp.prototype.rotate=Hp.prototype.rotate,Hp.prototype.getClosestPoint=Hp.prototype.vb,Hp.prototype.getExtent=Hp.prototype.H,Hp.prototype.simplify=Hp.prototype.Bb,Hp.prototype.transform=Hp.prototype.jb,Hp.prototype.get=Hp.prototype.get,Hp.prototype.getKeys=Hp.prototype.N,Hp.prototype.getProperties=Hp.prototype.O,Hp.prototype.set=Hp.prototype.set,Hp.prototype.setProperties=Hp.prototype.G,Hp.prototype.unset=Hp.prototype.P,Hp.prototype.changed=Hp.prototype.u,Hp.prototype.dispatchEvent=Hp.prototype.b,Hp.prototype.getRevision=Hp.prototype.K,Hp.prototype.on=Hp.prototype.I,Hp.prototype.once=Hp.prototype.L,Hp.prototype.un=Hp.prototype.J,Hp.prototype.unByKey=Hp.prototype.M,Vp.prototype.getFirstCoordinate=Vp.prototype.Ib,Vp.prototype.getLastCoordinate=Vp.prototype.Jb,Vp.prototype.getLayout=Vp.prototype.Kb,Vp.prototype.rotate=Vp.prototype.rotate,Vp.prototype.getClosestPoint=Vp.prototype.vb,Vp.prototype.getExtent=Vp.prototype.H,Vp.prototype.simplify=Vp.prototype.Bb,Vp.prototype.transform=Vp.prototype.jb,Vp.prototype.get=Vp.prototype.get,Vp.prototype.getKeys=Vp.prototype.N,Vp.prototype.getProperties=Vp.prototype.O,Vp.prototype.set=Vp.prototype.set,Vp.prototype.setProperties=Vp.prototype.G,Vp.prototype.unset=Vp.prototype.P,Vp.prototype.changed=Vp.prototype.u,Vp.prototype.dispatchEvent=Vp.prototype.b,Vp.prototype.getRevision=Vp.prototype.K,Vp.prototype.on=Vp.prototype.I,Vp.prototype.once=Vp.prototype.L,Vp.prototype.un=Vp.prototype.J,Vp.prototype.unByKey=Vp.prototype.M,un.prototype.getFirstCoordinate=un.prototype.Ib,un.prototype.getLastCoordinate=un.prototype.Jb,un.prototype.getLayout=un.prototype.Kb,un.prototype.rotate=un.prototype.rotate,un.prototype.getClosestPoint=un.prototype.vb,un.prototype.getExtent=un.prototype.H,un.prototype.simplify=un.prototype.Bb,un.prototype.transform=un.prototype.jb,un.prototype.get=un.prototype.get,un.prototype.getKeys=un.prototype.N,un.prototype.getProperties=un.prototype.O,un.prototype.set=un.prototype.set,un.prototype.setProperties=un.prototype.G,un.prototype.unset=un.prototype.P,un.prototype.changed=un.prototype.u,un.prototype.dispatchEvent=un.prototype.b,un.prototype.getRevision=un.prototype.K,un.prototype.on=un.prototype.I,un.prototype.once=un.prototype.L,un.prototype.un=un.prototype.J,un.prototype.unByKey=un.prototype.M,xn.prototype.getFirstCoordinate=xn.prototype.Ib,xn.prototype.getLastCoordinate=xn.prototype.Jb,xn.prototype.getLayout=xn.prototype.Kb,xn.prototype.rotate=xn.prototype.rotate,xn.prototype.getClosestPoint=xn.prototype.vb,xn.prototype.getExtent=xn.prototype.H,xn.prototype.simplify=xn.prototype.Bb,xn.prototype.transform=xn.prototype.jb,xn.prototype.get=xn.prototype.get,xn.prototype.getKeys=xn.prototype.N,xn.prototype.getProperties=xn.prototype.O,xn.prototype.set=xn.prototype.set,xn.prototype.setProperties=xn.prototype.G,xn.prototype.unset=xn.prototype.P,xn.prototype.changed=xn.prototype.u,xn.prototype.dispatchEvent=xn.prototype.b,xn.prototype.getRevision=xn.prototype.K,xn.prototype.on=xn.prototype.I,xn.prototype.once=xn.prototype.L,xn.prototype.un=xn.prototype.J,xn.prototype.unByKey=xn.prototype.M,Ah.prototype.readFeatures=Ah.prototype.Fa,Dh.prototype.readFeatures=Dh.prototype.Fa,Dh.prototype.readFeatures=Dh.prototype.Fa,Pi.prototype.get=Pi.prototype.get,Pi.prototype.getKeys=Pi.prototype.N,Pi.prototype.getProperties=Pi.prototype.O,Pi.prototype.set=Pi.prototype.set,Pi.prototype.setProperties=Pi.prototype.G,Pi.prototype.unset=Pi.prototype.P,Pi.prototype.changed=Pi.prototype.u,Pi.prototype.dispatchEvent=Pi.prototype.b,Pi.prototype.getRevision=Pi.prototype.K,Pi.prototype.on=Pi.prototype.I,Pi.prototype.once=Pi.prototype.L,Pi.prototype.un=Pi.prototype.J,Pi.prototype.unByKey=Pi.prototype.M,uo.prototype.getMap=uo.prototype.i,uo.prototype.setMap=uo.prototype.setMap,uo.prototype.setTarget=uo.prototype.c,uo.prototype.get=uo.prototype.get,uo.prototype.getKeys=uo.prototype.N,uo.prototype.getProperties=uo.prototype.O,uo.prototype.set=uo.prototype.set,uo.prototype.setProperties=uo.prototype.G,uo.prototype.unset=uo.prototype.P,uo.prototype.changed=uo.prototype.u,uo.prototype.dispatchEvent=uo.prototype.b,uo.prototype.getRevision=uo.prototype.K,uo.prototype.on=uo.prototype.I,uo.prototype.once=uo.prototype.L,uo.prototype.un=uo.prototype.J,uo.prototype.unByKey=uo.prototype.M,vo.prototype.getMap=vo.prototype.i,vo.prototype.setMap=vo.prototype.setMap,vo.prototype.setTarget=vo.prototype.c,vo.prototype.get=vo.prototype.get,vo.prototype.getKeys=vo.prototype.N,vo.prototype.getProperties=vo.prototype.O,vo.prototype.set=vo.prototype.set,vo.prototype.setProperties=vo.prototype.G,vo.prototype.unset=vo.prototype.P,vo.prototype.changed=vo.prototype.u,vo.prototype.dispatchEvent=vo.prototype.b,vo.prototype.getRevision=vo.prototype.K,vo.prototype.on=vo.prototype.I,vo.prototype.once=vo.prototype.L,vo.prototype.un=vo.prototype.J,vo.prototype.unByKey=vo.prototype.M,ko.prototype.getMap=ko.prototype.i,ko.prototype.setMap=ko.prototype.setMap,ko.prototype.setTarget=ko.prototype.c,ko.prototype.get=ko.prototype.get,ko.prototype.getKeys=ko.prototype.N,ko.prototype.getProperties=ko.prototype.O,ko.prototype.set=ko.prototype.set,ko.prototype.setProperties=ko.prototype.G,ko.prototype.unset=ko.prototype.P,ko.prototype.changed=ko.prototype.u,ko.prototype.dispatchEvent=ko.prototype.b,ko.prototype.getRevision=ko.prototype.K,ko.prototype.on=ko.prototype.I,ko.prototype.once=ko.prototype.L,ko.prototype.un=ko.prototype.J,ko.prototype.unByKey=ko.prototype.M,fp.prototype.getMap=fp.prototype.i,fp.prototype.setMap=fp.prototype.setMap,fp.prototype.setTarget=fp.prototype.c,fp.prototype.get=fp.prototype.get,fp.prototype.getKeys=fp.prototype.N,fp.prototype.getProperties=fp.prototype.O,fp.prototype.set=fp.prototype.set,fp.prototype.setProperties=fp.prototype.G,fp.prototype.unset=fp.prototype.P,fp.prototype.changed=fp.prototype.u,fp.prototype.dispatchEvent=fp.prototype.b,fp.prototype.getRevision=fp.prototype.K,fp.prototype.on=fp.prototype.I,fp.prototype.once=fp.prototype.L,fp.prototype.un=fp.prototype.J,fp.prototype.unByKey=fp.prototype.M,ho.prototype.getMap=ho.prototype.i,ho.prototype.setMap=ho.prototype.setMap,ho.prototype.setTarget=ho.prototype.c,ho.prototype.get=ho.prototype.get,ho.prototype.getKeys=ho.prototype.N,ho.prototype.getProperties=ho.prototype.O,ho.prototype.set=ho.prototype.set,ho.prototype.setProperties=ho.prototype.G,ho.prototype.unset=ho.prototype.P,ho.prototype.changed=ho.prototype.u,ho.prototype.dispatchEvent=ho.prototype.b,ho.prototype.getRevision=ho.prototype.K,ho.prototype.on=ho.prototype.I,ho.prototype.once=ho.prototype.L,ho.prototype.un=ho.prototype.J,ho.prototype.unByKey=ho.prototype.M,bp.prototype.getMap=bp.prototype.i,bp.prototype.setMap=bp.prototype.setMap,bp.prototype.setTarget=bp.prototype.c,bp.prototype.get=bp.prototype.get,bp.prototype.getKeys=bp.prototype.N,bp.prototype.getProperties=bp.prototype.O,bp.prototype.set=bp.prototype.set,bp.prototype.setProperties=bp.prototype.G,bp.prototype.unset=bp.prototype.P,bp.prototype.changed=bp.prototype.u,bp.prototype.dispatchEvent=bp.prototype.b,bp.prototype.getRevision=bp.prototype.K,bp.prototype.on=bp.prototype.I,bp.prototype.once=bp.prototype.L,bp.prototype.un=bp.prototype.J,bp.prototype.unByKey=bp.prototype.M,go.prototype.getMap=go.prototype.i,go.prototype.setMap=go.prototype.setMap,go.prototype.setTarget=go.prototype.c,go.prototype.get=go.prototype.get,go.prototype.getKeys=go.prototype.N,go.prototype.getProperties=go.prototype.O,go.prototype.set=go.prototype.set,go.prototype.setProperties=go.prototype.G,go.prototype.unset=go.prototype.P,go.prototype.changed=go.prototype.u,go.prototype.dispatchEvent=go.prototype.b,go.prototype.getRevision=go.prototype.K,go.prototype.on=go.prototype.I,go.prototype.once=go.prototype.L,go.prototype.un=go.prototype.J,go.prototype.unByKey=go.prototype.M,_p.prototype.getMap=_p.prototype.i,_p.prototype.setMap=_p.prototype.setMap,_p.prototype.setTarget=_p.prototype.c,_p.prototype.get=_p.prototype.get,_p.prototype.getKeys=_p.prototype.N,_p.prototype.getProperties=_p.prototype.O,_p.prototype.set=_p.prototype.set,_p.prototype.setProperties=_p.prototype.G,_p.prototype.unset=_p.prototype.P,_p.prototype.changed=_p.prototype.u,_p.prototype.dispatchEvent=_p.prototype.b,_p.prototype.getRevision=_p.prototype.K,_p.prototype.on=_p.prototype.I,_p.prototype.once=_p.prototype.L,_p.prototype.un=_p.prototype.J,_p.prototype.unByKey=_p.prototype.M,Ap.prototype.getMap=Ap.prototype.i,Ap.prototype.setMap=Ap.prototype.setMap,Ap.prototype.setTarget=Ap.prototype.c,Ap.prototype.get=Ap.prototype.get,Ap.prototype.getKeys=Ap.prototype.N,Ap.prototype.getProperties=Ap.prototype.O,Ap.prototype.set=Ap.prototype.set,Ap.prototype.setProperties=Ap.prototype.G,Ap.prototype.unset=Ap.prototype.P,Ap.prototype.changed=Ap.prototype.u,Ap.prototype.dispatchEvent=Ap.prototype.b,Ap.prototype.getRevision=Ap.prototype.K,Ap.prototype.on=Ap.prototype.I,Ap.prototype.once=Ap.prototype.L,Ap.prototype.un=Ap.prototype.J,Ap.prototype.unByKey=Ap.prototype.M,e.ol}),function($){$.fn.fixedHeaderTable=function(t){var e={width:"100%",height:"100%",themeClass:"fht-default",borderCollapse:!0,fixedColumns:0,fixedColumn:!1,sortable:!1,autoShow:!0,footer:!1,cloneHeadToFoot:!1,autoResize:!1,create:null},w={},p={init:function(t){return w=$.extend({},e,t),this.each(function(){var t=$(this);x._isTable(t)?(p.setup.apply(this,Array.prototype.slice.call(arguments,1)),$.isFunction(w.create)&&w.create.call(this)):$.error("Invalid table mark-up")})},setup:function(){var t,e,n,i,o,r=$(this),a=r.find("thead"),s=r.find("tfoot"),l=0;w.originalTable=$(this).clone(),w.includePadding=x._isPaddingIncludedWithWidth(),w.scrollbarOffset=x._getScrollbarWidth(),w.themeClassName=w.themeClass,o=-1<w.width.search("%")?r.parent().width()-w.scrollbarOffset:w.width-w.scrollbarOffset,r.css({width:o}),r.closest(".fht-table-wrapper").length||(r.addClass("fht-table"),r.wrap('<div class="fht-table-wrapper"></div>')),t=r.closest(".fht-table-wrapper"),1==w.fixedColumn&&w.fixedColumns<=0&&(w.fixedColumns=1),0<w.fixedColumns&&0==t.find(".fht-fixed-column").length&&(r.wrap('<div class="fht-fixed-body"></div>'),$('<div class="fht-fixed-column"></div>').prependTo(t),i=t.find(".fht-fixed-body")),t.css({width:w.width,height:w.height}).addClass(w.themeClassName),r.hasClass("fht-table-init")||r.wrap('<div class="fht-tbody"></div>'),n=r.closest(".fht-tbody");var u=x._getTableProps(r);x._setupClone(n,u.tbody),r.hasClass("fht-table-init")?e=t.find("div.fht-thead"):((e=0<w.fixedColumns?$('<div class="fht-thead"><table class="fht-table"></table></div>').prependTo(i):$('<div class="fht-thead"><table class="fht-table"></table></div>').prependTo(t)).find("table.fht-table").addClass(w.originalTable.attr("class")).attr("style",w.originalTable.attr("style")),a.clone().appendTo(e.find("table"))),x._setupClone(e,u.thead),r.css({"margin-top":-e.outerHeight(!0)}),1==w.footer&&(x._setupTableFooter(r,this,u),s.length||(s=t.find("div.fht-tfoot table")),l=s.outerHeight(!0));var c=t.height()-a.outerHeight(!0)-l-u.border;return n.css({height:c}),r.addClass("fht-table-init"),void 0!==w.altClass&&p.altRows.apply(this),0<w.fixedColumns&&x._setupFixedColumn(r,this,u),w.autoShow||t.hide(),x._bindScroll(n,u),this},resize:function(){return this},altRows:function(t){var e=$(this),n=void 0!==t?t:w.altClass;e.closest(".fht-table-wrapper").find("tbody tr:odd:not(:hidden)").addClass(n)},show:function(t,e,n){var i=$(this),o=i.closest(".fht-table-wrapper");return void 0!==t&&"number"==typeof t?o.show(t,function(){$.isFunction(e)&&e.call(this)}):void 0!==t&&"string"==typeof t&&void 0!==e&&"number"==typeof e?o.show(t,e,function(){$.isFunction(n)&&n.call(this)}):(i.closest(".fht-table-wrapper").show(),$.isFunction(t)&&t.call(this)),this},hide:function(t,e,n){var i=$(this),o=i.closest(".fht-table-wrapper");return void 0!==t&&"number"==typeof t?o.hide(t,function(){$.isFunction(n)&&n.call(this)}):void 0!==t&&"string"==typeof t&&void 0!==e&&"number"==typeof e?o.hide(t,e,function(){$.isFunction(n)&&n.call(this)}):(i.closest(".fht-table-wrapper").hide(),$.isFunction(n)&&n.call(this)),this},destroy:function(){var t=$(this),e=t.closest(".fht-table-wrapper");return t.insertBefore(e).removeAttr("style").append(e.find("tfoot")).removeClass("fht-table fht-table-init").find(".fht-cell").remove(),e.remove(),this}},x={_isTable:function(t){var e=t,n=e.is("table"),i=0<e.find("thead").length,o=0<e.find("tbody").length;return!!(n&&i&&o)},_bindScroll:function(t){var e=t,n=e.closest(".fht-table-wrapper"),i=e.siblings(".fht-thead"),o=e.siblings(".fht-tfoot");e.bind("scroll",function(){0<w.fixedColumns&&n.find(".fht-fixed-column").find(".fht-tbody table").css({"margin-top":-e.scrollTop()});i.find("table").css({"margin-left":-this.scrollLeft}),(w.footer||w.cloneHeadToFoot)&&o.find("table").css({"margin-left":-this.scrollLeft})})},_fixHeightWithCss:function(t,e){w.includePadding?t.css({height:t.height()+e.border}):t.css({height:t.parent().height()+e.border})},_fixWidthWithCss:function(t,e,n){w.includePadding?t.each(function(){$(this).css({width:null==n?$(this).width()+e.border:n+e.border})}):t.each(function(){$(this).css({width:null==n?$(this).parent().width()+e.border:n+e.border})})},_setupFixedColumn:function(t,e,n){var i,o,r,a,s,l=t.closest(".fht-table-wrapper"),u=l.find(".fht-fixed-body"),c=l.find(".fht-fixed-column"),p=$('<div class="fht-thead"><table class="fht-table"><thead><tr></tr></thead></table></div>'),h=$('<div class="fht-tbody"><table class="fht-table"><tbody></tbody></table></div>'),d=$('<div class="fht-tfoot"><table class="fht-table"><tfoot><tr></tr></tfoot></table></div>'),f=l.width(),g=u.find(".fht-tbody").height()-w.scrollbarOffset;p.find("table.fht-table").addClass(w.originalTable.attr("class")),h.find("table.fht-table").addClass(w.originalTable.attr("class")),d.find("table.fht-table").addClass(w.originalTable.attr("class")),i=u.find(".fht-thead thead tr > *:lt("+w.fixedColumns+")"),r=w.fixedColumns*n.border,i.each(function(){r+=$(this).outerWidth(!0)}),x._fixHeightWithCss(i,n),x._fixWidthWithCss(i,n);var m=[];i.each(function(){m.push($(this).width())}),s="tbody tr > *:not(:nth-child(n+"+(w.fixedColumns+1)+"))",o=u.find(s).each(function(t){x._fixHeightWithCss($(this),n),x._fixWidthWithCss($(this),n,m[t%w.fixedColumns])}),p.appendTo(c).find("tr").append(i.clone()),h.appendTo(c).css({"margin-top":-1,height:g+n.border}),o.each(function(t){t%w.fixedColumns==0&&(a=$("<tr></tr>").appendTo(h.find("tbody")),w.altClass&&$(this).parent().hasClass(w.altClass)&&a.addClass(w.altClass)),$(this).clone().appendTo(a)}),c.css({height:0,width:r});var v=c.find(".fht-tbody .fht-table").height()-c.find(".fht-tbody").height();if(c.find(".fht-tbody .fht-table").bind("mousewheel",function(t,e,n,i){if(0!=i){var o=parseInt($(this).css("marginTop"),10)+(0<i?120:-120);return 0<o&&(o=0),o<-v&&(o=-v),$(this).css("marginTop",o),u.find(".fht-tbody").scrollTop(-o).scroll(),!1}}),u.css({width:f}),1==w.footer||1==w.cloneHeadToFoot){var y,b=u.find(".fht-tfoot tr > *:lt("+w.fixedColumns+")");x._fixHeightWithCss(b,n),d.appendTo(c).find("tr").append(b.clone()),y=d.find("table").innerWidth(),d.css({top:w.scrollbarOffset,width:y})}},_setupTableFooter:function(t,e,n){var i=t,o=i.closest(".fht-table-wrapper"),r=i.find("tfoot"),a=o.find("div.fht-tfoot");switch(a.length||(a=0<w.fixedColumns?$('<div class="fht-tfoot"><table class="fht-table"></table></div>').appendTo(o.find(".fht-fixed-body")):$('<div class="fht-tfoot"><table class="fht-table"></table></div>').appendTo(o)),a.find("table.fht-table").addClass(w.originalTable.attr("class")),!0){case!r.length&&1==w.cloneHeadToFoot&&1==w.footer:var s=o.find("div.fht-thead");a.empty(),s.find("table").clone().appendTo(a);break;case r.length&&0==w.cloneHeadToFoot&&1==w.footer:a.find("table").append(r).css({"margin-top":-n.border}),x._setupClone(a,n.tfoot)}},_getTableProps:function(t){var e={thead:{},tbody:{},tfoot:{},border:0},n=1;return 1==w.borderCollapse&&(n=2),e.border=(t.find("th:first-child").outerWidth()-t.find("th:first-child").innerWidth())/n,t.find("thead tr:first-child > *").each(function(t){e.thead[t]=$(this).width()+e.border}),t.find("tfoot tr:first-child > *").each(function(t){e.tfoot[t]=$(this).width()+e.border}),t.find("tbody tr:first-child > *").each(function(t){e.tbody[t]=$(this).width()+e.border}),e},_setupClone:function(t,n){var e=t,i=e.find("thead").length?"thead tr:first-child > *":e.find("tfoot").length?"tfoot tr:first-child > *":"tbody tr:first-child > *";e.find(i).each(function(t){if(($(this).find("div.fht-cell").length?$(this).find("div.fht-cell"):$('<div class="fht-cell"></div>').appendTo($(this))).css({width:parseInt(n[t],10)}),!$(this).closest(".fht-tbody").length&&$(this).is(":last-child")&&!$(this).closest(".fht-fixed-column").length){var e=Math.max(($(this).innerWidth()-$(this).width())/2,w.scrollbarOffset);$(this).css({"padding-right":parseInt($(this).css("padding-right"))+e+"px"})}})},_isPaddingIncludedWithWidth:function(){var t,e,n=$('<table class="fht-table"><tr><td style="padding: 10px; font-size: 10px;">test</td></tr></table>');return n.addClass(w.originalTable.attr("class")),n.appendTo("body"),t=n.find("td").height(),n.find("td").css("height",n.find("tr").height()),e=n.find("td").height(),n.remove(),t!=e},_getScrollbarWidth:function(){var t=0;if(!t)if(/msie/.test(navigator.userAgent.toLowerCase())){var e=$('<textarea cols="10" rows="2"></textarea>').css({position:"absolute",top:-1e3,left:-1e3}).appendTo("body"),n=$('<textarea cols="10" rows="2" style="overflow: hidden;"></textarea>').css({position:"absolute",top:-1e3,left:-1e3}).appendTo("body");t=e.width()-n.width()+2,e.add(n).remove()}else{var i=$("<div />").css({width:100,height:100,overflow:"auto",position:"absolute",top:-1e3,left:-1e3}).prependTo("body").append("<div />").find("div").css({width:"100%",height:200});t=100-i.width(),i.parent().remove()}return t}};return p[t]?p[t].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof t&&t?void $.error('Method "'+t+'" does not exist in fixedHeaderTable plugin!'):p.init.apply(this,arguments)}}(jQuery),function(n){"function"==typeof define&&define.amd?define(["jquery"],function(t){return n(t,window,document)}):"object"==typeof exports?module.exports=function(t,e){return t||(t=window),e||(e="undefined"!=typeof window?require("jquery"):require("jquery")(t)),n(e,t,t.document)}:n(jQuery,window,document)}(function(P,v,y,O){function r(e){var n,i,o={};P.each(e,function(t){(n=t.match(/^([^A-Z]+?)([A-Z])/))&&-1!=="a aa ai ao as b fn i m o s ".indexOf(n[1]+" ")&&(i=t.replace(n[0],n[2].toLowerCase()),o[i]=t,"o"===n[1]&&r(e[t]))}),e._hungarianMap=o}function b(e,n,i){var o;e._hungarianMap||r(e),P.each(n,function(t){(o=e._hungarianMap[t])===O||!i&&n[o]!==O||("o"===o.charAt(0)?(n[o]||(n[o]={}),P.extend(!0,n[o],n[t]),b(e[o],n[o],i)):n[o]=n[t])})}function w(t){var e=Wt.defaults.oLanguage,n=t.sZeroRecords;!t.sEmptyTable&&n&&"No data available in table"===e.sEmptyTable&&Pt(t,t,"sZeroRecords","sEmptyTable"),!t.sLoadingRecords&&n&&"Loading..."===e.sLoadingRecords&&Pt(t,t,"sZeroRecords","sLoadingRecords"),t.sInfoThousands&&(t.sThousands=t.sInfoThousands),(t=t.sDecimal)&&Ut(t)}function x(t){if(ce(t,"ordering","bSort"),ce(t,"orderMulti","bSortMulti"),ce(t,"orderClasses","bSortClasses"),ce(t,"orderCellsTop","bSortCellsTop"),ce(t,"order","aaSorting"),ce(t,"orderFixed","aaSortingFixed"),ce(t,"paging","bPaginate"),ce(t,"pagingType","sPaginationType"),ce(t,"pageLength","iDisplayLength"),ce(t,"searching","bFilter"),"boolean"==typeof t.sScrollX&&(t.sScrollX=t.sScrollX?"100%":""),"boolean"==typeof t.scrollX&&(t.scrollX=t.scrollX?"100%":""),t=t.aoSearchCols)for(var e=0,n=t.length;e<n;e++)t[e]&&b(Wt.models.oSearch,t[e])}function $(t){ce(t,"orderable","bSortable"),ce(t,"orderData","aDataSort"),ce(t,"orderSequence","asSorting"),ce(t,"orderDataType","sortDataType");var e=t.aDataSort;e&&!P.isArray(e)&&(t.aDataSort=[e])}function _(t){if(!Wt.__browser){var e={};Wt.__browser=e;var n=P("<div/>").css({position:"fixed",top:0,left:0,height:1,width:1,overflow:"hidden"}).append(P("<div/>").css({position:"absolute",top:1,left:1,width:100,overflow:"scroll"}).append(P("<div/>").css({width:"100%",height:10}))).appendTo("body"),i=n.children(),o=i.children();e.barWidth=i[0].offsetWidth-i[0].clientWidth,e.bScrollOversize=100===o[0].offsetWidth&&100!==i[0].clientWidth,e.bScrollbarLeft=1!==Math.round(o.offset().left),e.bBounding=!!n[0].getBoundingClientRect().width,n.remove()}P.extend(t.oBrowser,Wt.__browser),t.oScroll.iBarWidth=Wt.__browser.barWidth}function n(t,e,n,i,o,r){var a,s=!1;for(n!==O&&(a=n,s=!0);i!==o;)t.hasOwnProperty(i)&&(a=s?e(a,t[i],i,t):t[i],s=!0,i+=r);return a}function k(t,e){var n=Wt.defaults.column,i=t.aoColumns.length;n=P.extend({},Wt.models.oColumn,n,{nTh:e||y.createElement("th"),sTitle:n.sTitle?n.sTitle:e?e.innerHTML:"",aDataSort:n.aDataSort?n.aDataSort:[i],mData:n.mData?n.mData:i,idx:i});t.aoColumns.push(n),(n=t.aoPreSearchCols)[i]=P.extend({},Wt.models.oSearch,n[i]),C(t,i,P(e).data())}function C(t,e,n){e=t.aoColumns[e];var i=t.oClasses,o=P(e.nTh);if(!e.sWidthOrig){e.sWidthOrig=o.attr("width")||null;var r=(o.attr("style")||"").match(/width:\s*(\d+[pxem%]+)/);r&&(e.sWidthOrig=r[1])}n!==O&&null!==n&&($(n),b(Wt.defaults.column,n),n.mDataProp!==O&&!n.mData&&(n.mData=n.mDataProp),n.sType&&(e._sManualType=n.sType),n.className&&!n.sClass&&(n.sClass=n.className),P.extend(e,n),Pt(e,n,"sWidth","sWidthOrig"),n.iDataSort!==O&&(e.aDataSort=[n.iDataSort]),Pt(e,n,"aDataSort"));var a=e.mData,s=L(a),l=e.mRender?L(e.mRender):null;n=function(t){return"string"==typeof t&&-1!==t.indexOf("@")};e._bAttrSrc=P.isPlainObject(a)&&(n(a.sort)||n(a.type)||n(a.filter)),e._setter=null,e.fnGetData=function(t,e,n){var i=s(t,e,O,n);return l&&e?l(i,e,t,n):i},e.fnSetData=function(t,e,n){return f(a)(t,e,n)},"number"!=typeof a&&(t._rowReadObject=!0),t.oFeatures.bSort||(e.bSortable=!1,o.addClass(i.sSortableNone)),t=-1!==P.inArray("asc",e.asSorting),n=-1!==P.inArray("desc",e.asSorting),e.bSortable&&(t||n)?e.sSortingClassJUI=t&&!n?(e.sSortingClass=i.sSortableAsc,i.sSortJUIAscAllowed):!t&&n?(e.sSortingClass=i.sSortableDesc,i.sSortJUIDescAllowed):(e.sSortingClass=i.sSortable,i.sSortJUI):(e.sSortingClass=i.sSortableNone,e.sSortingClassJUI="")}function I(t){if(!1!==t.oFeatures.bAutoWidth){var e=t.aoColumns;mt(t);for(var n=0,i=e.length;n<i;n++)e[n].nTh.style.width=e[n].sWidth}(""!==(e=t.oScroll).sY||""!==e.sX)&&ft(t),Lt(t,null,"column-sizing",[t])}function R(t,e){var n=T(t,"bVisible");return"number"==typeof n[e]?n[e]:null}function u(t,e){var n=T(t,"bVisible");return-1!==(n=P.inArray(e,n))?n:null}function S(t){var n=0;return P.each(t.aoColumns,function(t,e){e.bVisible&&"none"!==P(e.nTh).css("display")&&n++}),n}function T(t,n){var i=[];return P.map(t.aoColumns,function(t,e){t[n]&&i.push(e)}),i}function a(t){var e,n,i,o,r,a,s,l,u,c=t.aoColumns,p=t.aoData,h=Wt.ext.type.detect;for(e=0,n=c.length;e<n;e++)if(u=[],!(s=c[e]).sType&&s._sManualType)s.sType=s._sManualType;else if(!s.sType){for(i=0,o=h.length;i<o;i++){for(r=0,a=p.length;r<a&&(u[r]===O&&(u[r]=E(t,r,e,"type")),(l=h[i](u[r],t))||i===h.length-1)&&"html"!==l;r++);if(l){s.sType=l;break}}s.sType||(s.sType="string")}}function A(t,e,n,i){var o,r,a,s,l,u,c=t.aoColumns;if(e)for(o=e.length-1;0<=o;o--){var p=(u=e[o]).targets!==O?u.targets:u.aTargets;for(P.isArray(p)||(p=[p]),r=0,a=p.length;r<a;r++)if("number"==typeof p[r]&&0<=p[r]){for(;c.length<=p[r];)k(t);i(p[r],u)}else if("number"==typeof p[r]&&p[r]<0)i(c.length+p[r],u);else if("string"==typeof p[r])for(s=0,l=c.length;s<l;s++)("_all"==p[r]||P(c[s].nTh).hasClass(p[r]))&&i(s,u)}if(n)for(o=0,t=n.length;o<t;o++)i(o,n[o])}function D(t,e,n,i){var o=t.aoData.length,r=P.extend(!0,{},Wt.models.oRow,{src:n?"dom":"data",idx:o});r._aData=e,t.aoData.push(r);for(var a=t.aoColumns,s=0,l=a.length;s<l;s++)a[s].sType=null;return t.aiDisplayMaster.push(o),(e=t.rowIdFn(e))!==O&&(t.aIds[e]=r),(n||!t.oFeatures.bDeferRender)&&g(t,o,n,i),o}function M(n,t){var i;return t instanceof P||(t=P(t)),t.map(function(t,e){return i=l(n,e),D(n,i.data,e,i.cells)})}function E(t,e,n,i){var o=t.iDraw,r=t.aoColumns[n],a=t.aoData[e]._aData,s=r.sDefaultContent,l=r.fnGetData(a,i,{settings:t,row:e,col:n});if(l===O)return t.iDrawError!=o&&null===s&&(Et(t,0,"Requested unknown parameter "+("function"==typeof r.mData?"{function}":"'"+r.mData+"'")+" for row "+e+", column "+n,4),t.iDrawError=o),s;if(l!==a&&null!==l||null===s||i===O){if("function"==typeof l)return l.call(a)}else l=s;return null===l&&"display"==i?"":l}function i(t,e,n,i){t.aoColumns[n].fnSetData(t.aoData[e]._aData,i,{settings:t,row:e,col:n})}function c(t){return P.map(t.match(/(\\.|[^\.])+/g)||[""],function(t){return t.replace(/\\./g,".")})}function L(o){if(P.isPlainObject(o)){var r={};return P.each(o,function(t,e){e&&(r[t]=L(e))}),function(t,e,n,i){var o=r[e]||r._;return o!==O?o(t,e,n,i):t}}if(null===o)return function(t){return t};if("function"==typeof o)return function(t,e,n,i){return o(t,e,n,i)};if("string"!=typeof o||-1===o.indexOf(".")&&-1===o.indexOf("[")&&-1===o.indexOf("("))return function(t){return t[o]};var s=function(t,e,n){var i,o;if(""!==n)for(var r=0,a=(o=c(n)).length;r<a;r++){if(n=o[r].match(pe),i=o[r].match(he),n){if(o[r]=o[r].replace(pe,""),""!==o[r]&&(t=t[o[r]]),i=[],o.splice(0,r+1),o=o.join("."),P.isArray(t))for(r=0,a=t.length;r<a;r++)i.push(s(t[r],e,o));t=""===(t=n[0].substring(1,n[0].length-1))?i:i.join(t);break}if(i)o[r]=o[r].replace(he,""),t=t[o[r]]();else{if(null===t||t[o[r]]===O)return O;t=t[o[r]]}}return t};return function(t,e){return s(t,e,o)}}function f(i){if(P.isPlainObject(i))return f(i._);if(null===i)return function(){};if("function"==typeof i)return function(t,e,n){i(t,"set",e,n)};if("string"!=typeof i||-1===i.indexOf(".")&&-1===i.indexOf("[")&&-1===i.indexOf("("))return function(t,e){t[i]=e};var l=function(t,e,n){var i;i=(n=c(n))[n.length-1];for(var o,r,a=0,s=n.length-1;a<s;a++){if(o=n[a].match(pe),r=n[a].match(he),o){if(n[a]=n[a].replace(pe,""),t[n[a]]=[],(i=n.slice()).splice(0,a+1),o=i.join("."),P.isArray(e))for(r=0,s=e.length;r<s;r++)l(i={},e[r],o),t[n[a]].push(i);else t[n[a]]=e;return}r&&(n[a]=n[a].replace(he,""),t=t[n[a]](e)),null!==t[n[a]]&&t[n[a]]!==O||(t[n[a]]={}),t=t[n[a]]}i.match(he)?t[i.replace(he,"")](e):t[i.replace(pe,"")]=e};return function(t,e){return l(t,e,i)}}function d(t){return re(t.aoData,"_aData")}function s(t){t.aoData.length=0,t.aiDisplayMaster.length=0,t.aiDisplay.length=0,t.aIds={}}function p(t,e,n){for(var i=-1,o=0,r=t.length;o<r;o++)t[o]==e?i=o:t[o]>e&&t[o]--;-1!=i&&n===O&&t.splice(i,1)}function o(n,i,t,e){var o,r=n.aoData[i],a=function(t,e){for(;t.childNodes.length;)t.removeChild(t.firstChild);t.innerHTML=E(n,i,e,"display")};if("dom"!==t&&(t&&"auto"!==t||"dom"!==r.src)){var s=r.anCells;if(s)if(e!==O)a(s[e],e);else for(t=0,o=s.length;t<o;t++)a(s[t],t)}else r._aData=l(n,r,e,e===O?O:r._aData).data;if(r._aSortData=null,r._aFilterData=null,a=n.aoColumns,e!==O)a[e].sType=null;else{for(t=0,o=a.length;t<o;t++)a[t].sType=null;h(n,r)}}function l(t,e,n,i){var o,r,a,s=[],l=e.firstChild,u=0,c=t.aoColumns,p=t._rowReadObject,h=(i=i!==O?i:p?{}:[],function(t,e){if("string"==typeof t){var n=t.indexOf("@");-1!==n&&(n=t.substring(n+1),f(t)(i,e.getAttribute(n)))}}),d=function(t){n!==O&&n!==u||(r=c[u],a=P.trim(t.innerHTML),r&&r._bAttrSrc?(f(r.mData._)(i,a),h(r.mData.sort,t),h(r.mData.type,t),h(r.mData.filter,t)):p?(r._setter||(r._setter=f(r.mData)),r._setter(i,a)):i[u]=a),u++};if(l)for(;l;)"TD"!=(o=l.nodeName.toUpperCase())&&"TH"!=o||(d(l),s.push(l)),l=l.nextSibling;else for(l=0,o=(s=e.anCells).length;l<o;l++)d(s[l]);return(e=e.firstChild?e:e.nTr)&&(e=e.getAttribute("id"))&&f(t.rowId)(i,e),{data:i,cells:s}}function g(t,e,n,i){var o,r,a,s,l,u=t.aoData[e],c=u._aData,p=[];if(null===u.nTr){for(o=n||y.createElement("tr"),u.nTr=o,u.anCells=p,o._DT_RowIndex=e,h(t,u),s=0,l=t.aoColumns.length;s<l;s++)a=t.aoColumns[s],(r=n?i[s]:y.createElement(a.sCellType))._DT_CellIndex={row:e,column:s},p.push(r),n&&!a.mRender&&a.mData===s||P.isPlainObject(a.mData)&&a.mData._===s+".display"||(r.innerHTML=E(t,e,s,"display")),a.sClass&&(r.className+=" "+a.sClass),a.bVisible&&!n?o.appendChild(r):!a.bVisible&&n&&r.parentNode.removeChild(r),a.fnCreatedCell&&a.fnCreatedCell.call(t.oInstance,r,E(t,e,s),c,e,s);Lt(t,"aoRowCreatedCallback",null,[o,c,e])}u.nTr.setAttribute("role","row")}function h(t,e){var n=e.nTr,i=e._aData;if(n){var o=t.rowIdFn(i);o&&(n.id=o),i.DT_RowClass&&(o=i.DT_RowClass.split(" "),e.__rowc=e.__rowc?ue(e.__rowc.concat(o)):o,P(n).removeClass(e.__rowc.join(" ")).addClass(i.DT_RowClass)),i.DT_RowAttr&&P(n).attr(i.DT_RowAttr),i.DT_RowData&&P(n).data(i.DT_RowData)}}function m(t){var e,n,i,o,r,a=t.nTHead,s=t.nTFoot,l=0===P("th, td",a).length,u=t.oClasses,c=t.aoColumns;for(l&&(o=P("<tr/>").appendTo(a)),e=0,n=c.length;e<n;e++)r=c[e],i=P(r.nTh).addClass(r.sClass),l&&i.appendTo(o),t.oFeatures.bSort&&(i.addClass(r.sSortingClass),!1!==r.bSortable&&(i.attr("tabindex",t.iTabIndex).attr("aria-controls",t.sTableId),Ct(t,r.nTh,e))),r.sTitle!=i[0].innerHTML&&i.html(r.sTitle),Nt(t,"header")(t,i,r,u);if(l&&U(t.aoHeader,a),P(a).find(">tr").attr("role","row"),P(a).find(">tr>th, >tr>td").addClass(u.sHeaderTH),P(s).find(">tr>th, >tr>td").addClass(u.sFooterTH),null!==s)for(e=0,n=(t=t.aoFooter[0]).length;e<n;e++)(r=c[e]).nTf=t[e].cell,r.sClass&&P(r.nTf).addClass(r.sClass)}function F(t,e,n){var i,o,r,a,s=[],l=[],u=t.aoColumns.length;if(e){for(n===O&&(n=!1),i=0,o=e.length;i<o;i++){for(s[i]=e[i].slice(),s[i].nTr=e[i].nTr,r=u-1;0<=r;r--)!t.aoColumns[r].bVisible&&!n&&s[i].splice(r,1);l.push([])}for(i=0,o=s.length;i<o;i++){if(t=s[i].nTr)for(;r=t.firstChild;)t.removeChild(r);for(r=0,e=s[i].length;r<e;r++)if(a=u=1,l[i][r]===O){for(t.appendChild(s[i][r].cell),l[i][r]=1;s[i+u]!==O&&s[i][r].cell==s[i+u][r].cell;)l[i+u][r]=1,u++;for(;s[i][r+a]!==O&&s[i][r].cell==s[i][r+a].cell;){for(n=0;n<u;n++)l[i+n][r+a]=1;a++}P(s[i][r].cell).attr("rowspan",u).attr("colspan",a)}}}}function N(t){var e=Lt(t,"aoPreDrawCallback","preDraw",[t]);if(-1!==P.inArray(!1,e))ht(t,!1);else{e=[];var n=0,i=t.asStripeClasses,o=i.length,r=t.oLanguage,a=t.iInitDisplayStart,s="ssp"==jt(t),l=t.aiDisplay;t.bDrawing=!0,a!==O&&-1!==a&&(t._iDisplayStart=s?a:a>=t.fnRecordsDisplay()?0:a,t.iInitDisplayStart=-1);a=t._iDisplayStart;var u=t.fnDisplayEnd();if(t.bDeferLoading)t.bDeferLoading=!1,t.iDraw++,ht(t,!1);else if(s){if(!t.bDestroying&&!V(t))return}else t.iDraw++;if(0!==l.length)for(r=s?t.aoData.length:u,s=s?0:a;s<r;s++){var c=l[s],p=t.aoData[c];if(null===p.nTr&&g(t,c),c=p.nTr,0!==o){var h=i[n%o];p._sRowStripe!=h&&(P(c).removeClass(p._sRowStripe).addClass(h),p._sRowStripe=h)}Lt(t,"aoRowCallback",null,[c,p._aData,n,s]),e.push(c),n++}else n=r.sZeroRecords,1==t.iDraw&&"ajax"==jt(t)?n=r.sLoadingRecords:r.sEmptyTable&&0===t.fnRecordsTotal()&&(n=r.sEmptyTable),e[0]=P("<tr/>",{class:o?i[0]:""}).append(P("<td />",{valign:"top",colSpan:S(t),class:t.oClasses.sRowEmpty}).html(n))[0];Lt(t,"aoHeaderCallback","header",[P(t.nTHead).children("tr")[0],d(t),a,u,l]),Lt(t,"aoFooterCallback","footer",[P(t.nTFoot).children("tr")[0],d(t),a,u,l]),(i=P(t.nTBody)).children().detach(),i.append(P(e)),Lt(t,"aoDrawCallback","draw",[t]),t.bSorted=!1,t.bFiltered=!1,t.bDrawing=!1}}function j(t,e){var n=t.oFeatures,i=n.bFilter;n.bSort&&$t(t),i?Y(t,t.oPreviousSearch):t.aiDisplay=t.aiDisplayMaster.slice(),!0!==e&&(t._iDisplayStart=0),t._drawHold=e,N(t),t._drawHold=!1}function B(t){var e=t.oClasses,n=P(t.nTable),i=(n=P("<div/>").insertBefore(n),t.oFeatures),o=P("<div/>",{id:t.sTableId+"_wrapper",class:e.sWrapper+(t.nTFoot?"":" "+e.sNoFooter)});t.nHolding=n[0],t.nTableWrapper=o[0],t.nTableReinsertBefore=t.nTable.nextSibling;for(var r,a,s,l,u,c,p=t.sDom.split(""),h=0;h<p.length;h++){if(r=null,"<"==(a=p[h])){if(s=P("<div/>")[0],"'"==(l=p[h+1])||'"'==l){for(u="",c=2;p[h+c]!=l;)u+=p[h+c],c++;"H"==u?u=e.sJUIHeader:"F"==u&&(u=e.sJUIFooter),-1!=u.indexOf(".")?(l=u.split("."),s.id=l[0].substr(1,l[0].length-1),s.className=l[1]):"#"==u.charAt(0)?s.id=u.substr(1,u.length-1):s.className=u,h+=c}o.append(s),o=P(s)}else if(">"==a)o=o.parent();else if("l"==a&&i.bPaginate&&i.bLengthChange)r=lt(t);else if("f"==a&&i.bFilter)r=G(t);else if("r"==a&&i.bProcessing)r=pt(t);else if("t"==a)r=dt(t);else if("i"==a&&i.bInfo)r=nt(t);else if("p"==a&&i.bPaginate)r=ut(t);else if(0!==Wt.ext.feature.length)for(c=0,l=(s=Wt.ext.feature).length;c<l;c++)if(a==s[c].cFeature){r=s[c].fnInit(t);break}r&&((s=t.aanFeatures)[a]||(s[a]=[]),s[a].push(r),o.append(r))}n.replaceWith(o),t.nHolding=null}function U(t,e){var n,i,o,r,a,s,l,u,c,p,h=P(e).children("tr");for(t.splice(0,t.length),o=0,s=h.length;o<s;o++)t.push([]);for(o=0,s=h.length;o<s;o++)for(i=(n=h[o]).firstChild;i;){if("TD"==i.nodeName.toUpperCase()||"TH"==i.nodeName.toUpperCase()){for(u=(u=1*i.getAttribute("colspan"))&&0!==u&&1!==u?u:1,c=(c=1*i.getAttribute("rowspan"))&&0!==c&&1!==c?c:1,r=0,a=t[o];a[r];)r++;for(l=r,p=1===u,a=0;a<u;a++)for(r=0;r<c;r++)t[o+r][l+a]={cell:i,unique:p},t[o+r].nTr=n}i=i.nextSibling}}function z(t,e,n){var i=[];n||(n=t.aoHeader,e&&U(n=[],e));e=0;for(var o=n.length;e<o;e++)for(var r=0,a=n[e].length;r<a;r++)!n[e][r].unique||i[r]&&t.bSortCellsTop||(i[r]=n[e][r].cell);return i}function H(i,t,e){if(Lt(i,"aoServerParams","serverParams",[t]),t&&P.isArray(t)){var o={},r=/(.*?)\[\]$/;P.each(t,function(t,e){var n=e.name.match(r);n?(n=n[0],o[n]||(o[n]=[]),o[n].push(e.value)):o[e.name]=e.value}),t=o}var n,a=i.ajax,s=i.oInstance,l=function(t){Lt(i,null,"xhr",[i,t,i.jqXHR]),e(t)};if(P.isPlainObject(a)&&a.data){n=a.data;var u=P.isFunction(n)?n(t,i):n;t=P.isFunction(n)&&u?u:P.extend(!0,t,u);delete a.data}u={data:t,success:function(t){var e=t.error||t.sError;e&&Et(i,0,e),i.json=t,l(t)},dataType:"json",cache:!1,type:i.sServerMethod,error:function(t,e){var n=Lt(i,null,"xhr",[i,null,i.jqXHR]);-1===P.inArray(!0,n)&&("parsererror"==e?Et(i,0,"Invalid JSON response",1):4===t.readyState&&Et(i,0,"Ajax error",7)),ht(i,!1)}},i.oAjaxData=t,Lt(i,null,"preXhr",[i,t]),i.fnServerData?i.fnServerData.call(s,i.sAjaxSource,P.map(t,function(t,e){return{name:e,value:t}}),l,i):i.sAjaxSource||"string"==typeof a?i.jqXHR=P.ajax(P.extend(u,{url:a||i.sAjaxSource})):P.isFunction(a)?i.jqXHR=a.call(s,t,l,i):(i.jqXHR=P.ajax(P.extend(u,a)),a.data=n)}function V(e){return!e.bAjaxDataGet||(e.iDraw++,ht(e,!0),H(e,t(e),function(t){q(e,t)}),!1)}function t(t){var e,n,i,o,r=t.aoColumns,a=r.length,s=t.oFeatures,l=t.oPreviousSearch,u=t.aoPreSearchCols,c=[],p=xt(t);e=t._iDisplayStart,n=!1!==s.bPaginate?t._iDisplayLength:-1;var h=function(t,e){c.push({name:t,value:e})};h("sEcho",t.iDraw),h("iColumns",a),h("sColumns",re(r,"sName").join(",")),h("iDisplayStart",e),h("iDisplayLength",n);var d={draw:t.iDraw,columns:[],order:[],start:e,length:n,search:{value:l.sSearch,regex:l.bRegex}};for(e=0;e<a;e++)i=r[e],o=u[e],n="function"==typeof i.mData?"function":i.mData,d.columns.push({data:n,name:i.sName,searchable:i.bSearchable,orderable:i.bSortable,search:{value:o.sSearch,regex:o.bRegex}}),h("mDataProp_"+e,n),s.bFilter&&(h("sSearch_"+e,o.sSearch),h("bRegex_"+e,o.bRegex),h("bSearchable_"+e,i.bSearchable)),s.bSort&&h("bSortable_"+e,i.bSortable);return s.bFilter&&(h("sSearch",l.sSearch),h("bRegex",l.bRegex)),s.bSort&&(P.each(p,function(t,e){d.order.push({column:e.col,dir:e.dir}),h("iSortCol_"+t,e.col),h("sSortDir_"+t,e.dir)}),h("iSortingCols",p.length)),null===(r=Wt.ext.legacy.ajax)?t.sAjaxSource?c:d:r?c:d}function q(t,e){var n=W(t,e),i=e.sEcho!==O?e.sEcho:e.draw,o=e.iTotalRecords!==O?e.iTotalRecords:e.recordsTotal,r=e.iTotalDisplayRecords!==O?e.iTotalDisplayRecords:e.recordsFiltered;if(i){if(1*i<t.iDraw)return;t.iDraw=1*i}for(s(t),t._iRecordsTotal=parseInt(o,10),t._iRecordsDisplay=parseInt(r,10),i=0,o=n.length;i<o;i++)D(t,n[i]);t.aiDisplay=t.aiDisplayMaster.slice(),t.bAjaxDataGet=!1,N(t),t._bInitComplete||at(t,e),t.bAjaxDataGet=!0,ht(t,!1)}function W(t,e){var n=P.isPlainObject(t.ajax)&&t.ajax.dataSrc!==O?t.ajax.dataSrc:t.sAjaxDataProp;return"data"===n?e.aaData||e[n]:""!==n?L(n)(e):e}function G(n){var t=n.oClasses,e=n.sTableId,i=n.oLanguage,o=n.oPreviousSearch,r=n.aanFeatures,a='<input type="search" class="'+t.sFilterInput+'"/>',s=(s=i.sSearch).match(/_INPUT_/)?s.replace("_INPUT_",a):s+a,l=(t=P("<div/>",{id:r.f?null:e+"_filter",class:t.sFilter}).append(P("<label/>").append(s)),r=function(){var t=this.value?this.value:"";t!=o.sSearch&&(Y(n,{sSearch:t,bRegex:o.bRegex,bSmart:o.bSmart,bCaseInsensitive:o.bCaseInsensitive}),n._iDisplayStart=0,N(n))},a=null!==n.searchDelay?n.searchDelay:"ssp"===jt(n)?400:0,P("input",t).val(o.sSearch).attr("placeholder",i.sSearchPlaceholder).bind("keyup.DT search.DT input.DT paste.DT cut.DT",a?ve(r,a):r).bind("keypress.DT",function(t){if(13==t.keyCode)return!1}).attr("aria-controls",e));return P(n.nTable).on("search.dt.DT",function(t,e){if(n===e)try{l[0]!==y.activeElement&&l.val(o.sSearch)}catch(t){}}),t[0]}function Y(t,e,n){var i=t.oPreviousSearch,o=t.aoPreSearchCols,r=function(t){i.sSearch=t.sSearch,i.bRegex=t.bRegex,i.bSmart=t.bSmart,i.bCaseInsensitive=t.bCaseInsensitive};if(a(t),"ssp"!=jt(t)){for(X(t,e.sSearch,n,e.bEscapeRegex!==O?!e.bEscapeRegex:e.bRegex,e.bSmart,e.bCaseInsensitive),r(e),e=0;e<o.length;e++)Z(t,o[e].sSearch,e,o[e].bEscapeRegex!==O?!o[e].bEscapeRegex:o[e].bRegex,o[e].bSmart,o[e].bCaseInsensitive);K(t)}else r(e);t.bFiltered=!0,Lt(t,null,"search",[t])}function K(t){for(var e,n,i=Wt.ext.search,o=t.aiDisplay,r=0,a=i.length;r<a;r++){for(var s=[],l=0,u=o.length;l<u;l++)n=o[l],e=t.aoData[n],i[r](t,e._aFilterData,n,e._aData,l)&&s.push(n);o.length=0,P.merge(o,s)}}function Z(t,e,n,i,o,r){if(""!==e){var a=t.aiDisplay;for(i=J(e,i,o,r),o=a.length-1;0<=o;o--)e=t.aoData[a[o]]._aFilterData[n],i.test(e)||a.splice(o,1)}}function X(t,e,n,i,o,r){var a;i=J(e,i,o,r),o=t.oPreviousSearch.sSearch,r=t.aiDisplayMaster;if(0!==Wt.ext.search.length&&(n=!0),a=Q(t),e.length<=0)t.aiDisplay=r.slice();else for((a||n||o.length>e.length||0!==e.indexOf(o)||t.bSorted)&&(t.aiDisplay=r.slice()),n=(e=t.aiDisplay).length-1;0<=n;n--)i.test(t.aoData[e[n]]._sFilterRow)||e.splice(n,1)}function J(t,e,n,i){return t=e?t:de(t),n&&(t="^(?=.*?"+P.map(t.match(/"[^"]+"|[^ ]+/g)||[""],function(t){if('"'===t.charAt(0)){var e=t.match(/^"(.*)"$/);t=e?e[1]:t}return t.replace('"',"")}).join(")(?=.*?")+").*$"),RegExp(t,i?"i":"")}function Q(t){var e,n,i,o,r,a,s,l,u=t.aoColumns,c=Wt.ext.type.search;for(e=!1,n=0,o=t.aoData.length;n<o;n++)if(!(l=t.aoData[n])._aFilterData){for(a=[],i=0,r=u.length;i<r;i++)(e=u[i]).bSearchable?(s=E(t,n,i,"filter"),c[e.sType]&&(s=c[e.sType](s)),null===s&&(s=""),"string"!=typeof s&&s.toString&&(s=s.toString())):s="",s.indexOf&&-1!==s.indexOf("&")&&(fe.innerHTML=s,s=ge?fe.textContent:fe.innerText),s.replace&&(s=s.replace(/[\r\n]/g,"")),a.push(s);l._aFilterData=a,l._sFilterRow=a.join("  "),e=!0}return e}function tt(t){return{search:t.sSearch,smart:t.bSmart,regex:t.bRegex,caseInsensitive:t.bCaseInsensitive}}function et(t){return{sSearch:t.search,bSmart:t.smart,bRegex:t.regex,bCaseInsensitive:t.caseInsensitive}}function nt(t){var e=t.sTableId,n=t.aanFeatures.i,i=P("<div/>",{class:t.oClasses.sInfo,id:n?null:e+"_info"});return n||(t.aoDrawCallback.push({fn:it,sName:"information"}),i.attr("role","status").attr("aria-live","polite"),P(t.nTable).attr("aria-describedby",e+"_info")),i[0]}function it(t){var e=t.aanFeatures.i;if(0!==e.length){var n=t.oLanguage,i=t._iDisplayStart+1,o=t.fnDisplayEnd(),r=t.fnRecordsTotal(),a=t.fnRecordsDisplay(),s=a?n.sInfo:n.sInfoEmpty;a!==r&&(s+=" "+n.sInfoFiltered),s=ot(t,s+=n.sInfoPostFix),null!==(n=n.fnInfoCallback)&&(s=n.call(t.oInstance,t,i,o,r,a,s)),P(e).html(s)}}function ot(t,e){var n=t.fnFormatNumber,i=t._iDisplayStart+1,o=t._iDisplayLength,r=t.fnRecordsDisplay(),a=-1===o;return e.replace(/_START_/g,n.call(t,i)).replace(/_END_/g,n.call(t,t.fnDisplayEnd())).replace(/_MAX_/g,n.call(t,t.fnRecordsTotal())).replace(/_TOTAL_/g,n.call(t,r)).replace(/_PAGE_/g,n.call(t,a?1:Math.ceil(i/o))).replace(/_PAGES_/g,n.call(t,a?1:Math.ceil(r/o)))}function rt(n){var i,t,e,o=n.iInitDisplayStart,r=n.aoColumns;t=n.oFeatures;var a=n.bDeferLoading;if(n.bInitialised){for(B(n),m(n),F(n,n.aoHeader),F(n,n.aoFooter),ht(n,!0),t.bAutoWidth&&mt(n),i=0,t=r.length;i<t;i++)(e=r[i]).sWidth&&(e.nTh.style.width=wt(e.sWidth));Lt(n,null,"preInit",[n]),j(n),("ssp"!=(r=jt(n))||a)&&("ajax"==r?H(n,[],function(t){var e=W(n,t);for(i=0;i<e.length;i++)D(n,e[i]);n.iInitDisplayStart=o,j(n),ht(n,!1),at(n,t)}):(ht(n,!1),at(n)))}else setTimeout(function(){rt(n)},200)}function at(t,e){t._bInitComplete=!0,(e||t.oInit.aaData)&&I(t),Lt(t,null,"plugin-init",[t,e]),Lt(t,"aoInitComplete","init",[t,e])}function st(t,e){var n=parseInt(e,10);t._iDisplayLength=n,Ft(t),Lt(t,null,"length",[t,n])}function lt(i){for(var t=i.oClasses,e=i.sTableId,n=i.aLengthMenu,o=(r=P.isArray(n[0]))?n[0]:n,r=(n=r?n[1]:n,P("<select/>",{name:e+"_length","aria-controls":e,class:t.sLengthSelect})),a=0,s=o.length;a<s;a++)r[0][a]=new Option(n[a],o[a]);var l=P("<div><label/></div>").addClass(t.sLength);return i.aanFeatures.l||(l[0].id=e+"_length"),l.children().append(i.oLanguage.sLengthMenu.replace("_MENU_",r[0].outerHTML)),P("select",l).val(i._iDisplayLength).bind("change.DT",function(){st(i,P(this).val()),N(i)}),P(i.nTable).bind("length.dt.DT",function(t,e,n){i===e&&P("select",l).val(n)}),l[0]}function ut(t){var e=t.sPaginationType,a=Wt.ext.pager[e],s="function"==typeof a,l=function(t){N(t)},u=(e=P("<div/>").addClass(t.oClasses.sPaging+e)[0],t.aanFeatures);return s||a.fnInit(t,e,l),u.p||(e.id=t.sTableId+"_paginate",t.aoDrawCallback.push({fn:function(t){if(s){var e,n=t._iDisplayStart,i=t._iDisplayLength,o=t.fnRecordsDisplay(),r=(n=(r=-1===i)?0:Math.ceil(n/i),i=r?1:Math.ceil(o/i),o=a(n,i),0);for(e=u.p.length;r<e;r++)Nt(t,"pageButton")(t,u.p[r],r,o,n,i)}else a.fnUpdate(t,l)},sName:"pagination"})),e}function ct(t,e,n){var i=t._iDisplayStart,o=t._iDisplayLength,r=t.fnRecordsDisplay();return 0===r||-1===o?i=0:"number"==typeof e?r<(i=e*o)&&(i=0):"first"==e?i=0:"previous"==e?(i=0<=o?i-o:0)<0&&(i=0):"next"==e?i+o<r&&(i+=o):"last"==e?i=Math.floor((r-1)/o)*o:Et(t,0,"Unknown paging action: "+e,5),e=t._iDisplayStart!==i,t._iDisplayStart=i,e&&(Lt(t,null,"page",[t]),n&&N(t)),e}function pt(t){return P("<div/>",{id:t.aanFeatures.r?null:t.sTableId+"_processing",class:t.oClasses.sProcessing}).html(t.oLanguage.sProcessing).insertBefore(t.nTable)[0]}function ht(t,e){t.oFeatures.bProcessing&&P(t.aanFeatures.r).css("display",e?"block":"none"),Lt(t,null,"processing",[t,e])}function dt(t){(c=P(t.nTable)).attr("role","grid");var e=t.oScroll;if(""===e.sX&&""===e.sY)return t.nTable;var n=e.sX,i=e.sY,o=t.oClasses,r=c.children("caption"),a=r.length?r[0]._captionSide:null,s=P(c[0].cloneNode(!1)),l=P(c[0].cloneNode(!1)),u=c.children("tfoot");u.length||(u=null),s=P("<div/>",{class:o.sScrollWrapper}).append(P("<div/>",{class:o.sScrollHead}).css({overflow:"hidden",position:"relative",border:0,width:n?n?wt(n):null:"100%"}).append(P("<div/>",{class:o.sScrollHeadInner}).css({"box-sizing":"content-box",width:e.sXInner||"100%"}).append(s.removeAttr("id").css("margin-left",0).append("top"===a?r:null).append(c.children("thead"))))).append(P("<div/>",{class:o.sScrollBody}).css({position:"relative",overflow:"auto",width:n?wt(n):null}).append(c)),u&&s.append(P("<div/>",{class:o.sScrollFoot}).css({overflow:"hidden",border:0,width:n?n?wt(n):null:"100%"}).append(P("<div/>",{class:o.sScrollFootInner}).append(l.removeAttr("id").css("margin-left",0).append("bottom"===a?r:null).append(c.children("tfoot")))));var c,p=(c=s.children())[0],h=(o=c[1],u?c[2]:null);return n&&P(o).on("scroll.DT",function(){var t=this.scrollLeft;p.scrollLeft=t,u&&(h.scrollLeft=t)}),P(o).css(i&&e.bCollapse?"max-height":"height",i),t.nScrollHead=p,t.nScrollBody=o,t.nScrollFoot=h,t.aoDrawCallback.push({fn:ft,sName:"scrolling"}),s[0]}function ft(n){var t,e,i,o,r,a=(u=n.oScroll).sX,s=u.sXInner,l=u.sY,u=u.iBarWidth,c=P(n.nScrollHead),p=c[0].style,h=(f=c.children("div"))[0].style,d=f.children("table"),f=n.nScrollBody,g=P(f),m=f.style,v=P(n.nScrollFoot).children("div"),y=v.children("table"),b=P(n.nTHead),w=P(n.nTable),x=w[0],$=x.style,_=n.nTFoot?P(n.nTFoot):null,k=n.oBrowser,C=k.bScrollOversize,S=re(n.aoColumns,"nTh"),T=[],A=[],D=[],M=[],E=function(t){(t=t.style).paddingTop="0",t.paddingBottom="0",t.borderTopWidth="0",t.borderBottomWidth="0",t.height=0};e=f.scrollHeight>f.clientHeight,n.scrollBarVis!==e&&n.scrollBarVis!==O?(n.scrollBarVis=e,I(n)):(n.scrollBarVis=e,w.children("thead, tfoot").remove(),_&&(i=_.clone().prependTo(w),t=_.find("tr"),i=i.find("tr")),o=b.clone().prependTo(w),b=b.find("tr"),e=o.find("tr"),o.find("th, td").removeAttr("tabindex"),a||(m.width="100%",c[0].style.width="100%"),P.each(z(n,o),function(t,e){r=R(n,t),e.style.width=n.aoColumns[r].sWidth}),_&&gt(function(t){t.style.width=""},i),c=w.outerWidth(),""===a?($.width="100%",C&&(w.find("tbody").height()>f.offsetHeight||"scroll"==g.css("overflow-y"))&&($.width=wt(w.outerWidth()-u)),c=w.outerWidth()):""!==s&&($.width=wt(s),c=w.outerWidth()),gt(E,e),gt(function(t){D.push(t.innerHTML),T.push(wt(P(t).css("width")))},e),gt(function(t,e){-1!==P.inArray(t,S)&&(t.style.width=T[e])},b),P(e).height(0),_&&(gt(E,i),gt(function(t){M.push(t.innerHTML),A.push(wt(P(t).css("width")))},i),gt(function(t,e){t.style.width=A[e]},t),P(i).height(0)),gt(function(t,e){t.innerHTML='<div class="dataTables_sizing" style="height:0;overflow:hidden;">'+D[e]+"</div>",t.style.width=T[e]},e),_&&gt(function(t,e){t.innerHTML='<div class="dataTables_sizing" style="height:0;overflow:hidden;">'+M[e]+"</div>",t.style.width=A[e]},i),w.outerWidth()<c?(t=f.scrollHeight>f.offsetHeight||"scroll"==g.css("overflow-y")?c+u:c,C&&(f.scrollHeight>f.offsetHeight||"scroll"==g.css("overflow-y"))&&($.width=wt(t-u)),(""===a||""!==s)&&Et(n,1,"Possible column misalignment",6)):t="100%",m.width=wt(t),p.width=wt(t),_&&(n.nScrollFoot.style.width=wt(t)),!l&&C&&(m.height=wt(x.offsetHeight+u)),a=w.outerWidth(),d[0].style.width=wt(a),h.width=wt(a),s=w.height()>f.clientHeight||"scroll"==g.css("overflow-y"),h[l="padding"+(k.bScrollbarLeft?"Left":"Right")]=s?u+"px":"0px",_&&(y[0].style.width=wt(a),v[0].style.width=wt(a),v[0].style[l]=s?u+"px":"0px"),w.children("colgroup").insertBefore(w.children("thead")),g.scroll(),!n.bSorted&&!n.bFiltered||n._drawHold||(f.scrollTop=0))}function gt(t,e,n){for(var i,o,r=0,a=0,s=e.length;a<s;){for(i=e[a].firstChild,o=n?n[a].firstChild:null;i;)1===i.nodeType&&(n?t(i,o,r):t(i,r),r++),i=i.nextSibling,o=n?o.nextSibling:null;a++}}function mt(t){var e,n,i=t.nTable,o=t.aoColumns,r=(g=t.oScroll).sY,a=g.sX,s=g.sXInner,l=o.length,u=T(t,"bVisible"),c=P("th",t.nTHead),p=i.getAttribute("width"),h=i.parentNode,d=!1,f=t.oBrowser,g=f.bScrollOversize;for((e=i.style.width)&&-1!==e.indexOf("%")&&(p=e),e=0;e<u.length;e++)null!==(n=o[u[e]]).sWidth&&(n.sWidth=vt(n.sWidthOrig,h),d=!0);if(g||!d&&!a&&!r&&l==S(t)&&l==c.length)for(e=0;e<l;e++)null!==(u=R(t,e))&&(o[u].sWidth=wt(c.eq(e).width()));else{(l=P(i).clone().css("visibility","hidden").removeAttr("id")).find("tbody tr").remove();var m=P("<tr/>").appendTo(l.find("tbody"));for(l.find("thead, tfoot").remove(),l.append(P(t.nTHead).clone()).append(P(t.nTFoot).clone()),l.find("tfoot th, tfoot td").css("width",""),c=z(t,l.find("thead")[0]),e=0;e<u.length;e++)n=o[u[e]],c[e].style.width=null!==n.sWidthOrig&&""!==n.sWidthOrig?wt(n.sWidthOrig):"",n.sWidthOrig&&a&&P(c[e]).append(P("<div/>").css({width:n.sWidthOrig,margin:0,padding:0,border:0,height:1}));if(t.aoData.length)for(e=0;e<u.length;e++)n=o[d=u[e]],P(yt(t,d)).clone(!1).append(n.sContentPadding).appendTo(m);for(P("[name]",l).removeAttr("name"),n=P("<div/>").css(a||r?{position:"absolute",top:0,left:0,height:1,right:0,overflow:"hidden"}:{}).append(l).appendTo(h),a&&s?l.width(s):a?(l.css("width","auto"),l.removeAttr("width"),l.width()<h.clientWidth&&p&&l.width(h.clientWidth)):r?l.width(h.clientWidth):p&&l.width(p),e=r=0;e<u.length;e++)s=(h=P(c[e])).outerWidth()-h.width(),r+=h=f.bBounding?Math.ceil(c[e].getBoundingClientRect().width):h.outerWidth(),o[u[e]].sWidth=wt(h-s);i.style.width=wt(r),n.remove()}p&&(i.style.width=wt(p)),!p&&!a||t._reszEvt||(i=function(){P(v).bind("resize.DT-"+t.sInstance,ve(function(){I(t)}))},g?setTimeout(i,1e3):i(),t._reszEvt=!0)}function vt(t,e){if(!t)return 0;var n=P("<div/>").css("width",wt(t)).appendTo(e||y.body),i=n[0].offsetWidth;return n.remove(),i}function yt(t,e){var n=bt(t,e);if(n<0)return null;var i=t.aoData[n];return i.nTr?i.anCells[e]:P("<td/>").html(E(t,n,e,"display"))[0]}function bt(t,e){for(var n,i=-1,o=-1,r=0,a=t.aoData.length;r<a;r++)(n=(n=(n=E(t,r,e,"display")+"").replace(me,"")).replace(/&nbsp;/g," ")).length>i&&(i=n.length,o=r);return o}function wt(t){return null===t?"0px":"number"==typeof t?t<0?"0px":t+"px":t.match(/\d$/)?t+"px":t}function xt(t){var e,n,i,o,r,a,s=[],l=t.aoColumns;e=t.aaSortingFixed,n=P.isPlainObject(e);var u=[];for(i=function(t){t.length&&!P.isArray(t[0])?u.push(t):P.merge(u,t)},P.isArray(e)&&i(e),n&&e.pre&&i(e.pre),i(t.aaSorting),n&&e.post&&i(e.post),t=0;t<u.length;t++)for(e=0,n=(i=l[a=u[t][0]].aDataSort).length;e<n;e++)r=l[o=i[e]].sType||"string",u[t]._idx===O&&(u[t]._idx=P.inArray(u[t][1],l[o].asSorting)),s.push({src:a,col:o,dir:u[t][1],index:u[t]._idx,type:r,formatter:Wt.ext.type.order[r+"-pre"]});return s}function $t(t){var e,n,i,u,c=[],p=Wt.ext.type.order,h=t.aoData,o=0,r=t.aiDisplayMaster;for(a(t),e=0,n=(u=xt(t)).length;e<n;e++)(i=u[e]).formatter&&o++,Tt(t,i.col);if("ssp"!=jt(t)&&0!==u.length){for(e=0,n=r.length;e<n;e++)c[r[e]]=e;o===u.length?r.sort(function(t,e){var n,i,o,r,a=u.length,s=h[t]._aSortData,l=h[e]._aSortData;for(o=0;o<a;o++)if(0!==(n=(n=s[(r=u[o]).col])<(i=l[r.col])?-1:i<n?1:0))return"asc"===r.dir?n:-n;return(n=c[t])<(i=c[e])?-1:i<n?1:0}):r.sort(function(t,e){var n,i,o,r,a=u.length,s=h[t]._aSortData,l=h[e]._aSortData;for(o=0;o<a;o++)if(n=s[(r=u[o]).col],i=l[r.col],0!==(n=(r=p[r.type+"-"+r.dir]||p["string-"+r.dir])(n,i)))return n;return(n=c[t])<(i=c[e])?-1:i<n?1:0})}t.bSorted=!0}function _t(t){for(var e,n,i=t.aoColumns,o=xt(t),r=(t=t.oLanguage.oAria,0),a=i.length;r<a;r++){var s=(n=i[r]).asSorting;e=n.sTitle.replace(/<.*?>/g,"");var l=n.nTh;l.removeAttribute("aria-sort"),n.bSortable&&(e+="asc"===(n=0<o.length&&o[0].col==r?(l.setAttribute("aria-sort","asc"==o[0].dir?"ascending":"descending"),s[o[0].index+1]||s[0]):s[0])?t.sSortAscending:t.sSortDescending),l.setAttribute("aria-label",e)}}function kt(t,e,n,i){var o=t.aaSorting,r=t.aoColumns[e].asSorting,a=function(t,e){var n=t._idx;return n===O&&(n=P.inArray(t[1],r)),n+1<r.length?n+1:e?null:0};"number"==typeof o[0]&&(o=t.aaSorting=[o]),n&&t.oFeatures.bSortMulti?-1!==(n=P.inArray(e,re(o,"0")))?(null===(e=a(o[n],!0))&&1===o.length&&(e=0),null===e?o.splice(n,1):(o[n][1]=r[e],o[n]._idx=e)):(o.push([e,r[0],0]),o[o.length-1]._idx=0):o.length&&o[0][0]==e?(e=a(o[0]),o.length=1,o[0][1]=r[e],o[0]._idx=e):(o.length=0,o.push([e,r[0]]),o[0]._idx=0),j(t),"function"==typeof i&&i(t)}function Ct(e,t,n,i){var o=e.aoColumns[n];It(t,{},function(t){!1!==o.bSortable&&(e.oFeatures.bProcessing?(ht(e,!0),setTimeout(function(){kt(e,n,t.shiftKey,i),"ssp"!==jt(e)&&ht(e,!1)},0)):kt(e,n,t.shiftKey,i))})}function St(t){var e,n,i=t.aLastSort,o=t.oClasses.sSortColumn,r=xt(t),a=t.oFeatures;if(a.bSort&&a.bSortClasses){for(a=0,e=i.length;a<e;a++)n=i[a].src,P(re(t.aoData,"anCells",n)).removeClass(o+(a<2?a+1:3));for(a=0,e=r.length;a<e;a++)n=r[a].src,P(re(t.aoData,"anCells",n)).addClass(o+(a<2?a+1:3))}t.aLastSort=r}function Tt(t,e){var n,i=t.aoColumns[e],o=Wt.ext.order[i.sSortDataType];o&&(n=o.call(t.oInstance,t,e,u(t,e)));for(var r,a=Wt.ext.type.order[i.sType+"-pre"],s=0,l=t.aoData.length;s<l;s++)(i=t.aoData[s])._aSortData||(i._aSortData=[]),(!i._aSortData[e]||o)&&(r=o?n[s]:E(t,s,e,"sort"),i._aSortData[e]=a?a(r):r)}function At(n){if(n.oFeatures.bStateSave&&!n.bDestroying){var t={time:+new Date,start:n._iDisplayStart,length:n._iDisplayLength,order:P.extend(!0,[],n.aaSorting),search:tt(n.oPreviousSearch),columns:P.map(n.aoColumns,function(t,e){return{visible:t.bVisible,search:tt(n.aoPreSearchCols[e])}})};Lt(n,"aoStateSaveParams","stateSaveParams",[n,t]),n.oSavedState=t,n.fnStateSaveCallback.call(n.oInstance,n,t)}}function Dt(n){var t,e,i=n.aoColumns;if(n.oFeatures.bStateSave){var o=n.fnStateLoadCallback.call(n.oInstance,n);if(o&&o.time&&(t=Lt(n,"aoStateLoadParams","stateLoadParams",[n,o]),-1===P.inArray(!1,t)&&(!(0<(t=n.iStateDuration)&&o.time<+new Date-1e3*t)&&i.length===o.columns.length))){for(n.oLoadedState=P.extend(!0,{},o),o.start!==O&&(n._iDisplayStart=o.start,n.iInitDisplayStart=o.start),o.length!==O&&(n._iDisplayLength=o.length),o.order!==O&&(n.aaSorting=[],P.each(o.order,function(t,e){n.aaSorting.push(e[0]>=i.length?[0,e[1]]:e)})),o.search!==O&&P.extend(n.oPreviousSearch,et(o.search)),t=0,e=o.columns.length;t<e;t++){var r=o.columns[t];r.visible!==O&&(i[t].bVisible=r.visible),r.search!==O&&P.extend(n.aoPreSearchCols[t],et(r.search))}Lt(n,"aoStateLoaded","stateLoaded",[n,o])}}}function Mt(t){var e=Wt.settings;return-1!==(t=P.inArray(t,re(e,"nTable")))?e[t]:null}function Et(t,e,n,i){if(n="DataTables warning: "+(t?"table id="+t.sTableId+" - ":"")+n,i&&(n+=". For more information about this error, please see http://datatables.net/tn/"+i),e)v.console&&console.log&&console.log(n);else if(e=(e=Wt.ext).sErrMode||e.errMode,t&&Lt(t,null,"error",[t,i,n]),"alert"==e);else{if("throw"==e)throw Error(n);"function"==typeof e&&e(t,i,n)}}function Pt(n,i,t,e){P.isArray(t)?P.each(t,function(t,e){P.isArray(e)?Pt(n,i,e[0],e[1]):Pt(n,i,e)}):(e===O&&(e=t),i[t]!==O&&(n[e]=i[t]))}function Ot(t,e,n){var i,o;for(o in e)e.hasOwnProperty(o)&&(i=e[o],P.isPlainObject(i)?(P.isPlainObject(t[o])||(t[o]={}),P.extend(!0,t[o],i)):t[o]=n&&"data"!==o&&"aaData"!==o&&P.isArray(i)?i.slice():i);return t}function It(e,t,n){P(e).bind("click.DT",t,function(t){e.blur(),n(t)}).bind("keypress.DT",t,function(t){13===t.which&&(t.preventDefault(),n(t))}).bind("selectstart.DT",function(){return!1})}function Rt(t,e,n,i){n&&t[e].push({fn:n,sName:i})}function Lt(e,t,n,i){var o=[];return t&&(o=P.map(e[t].slice().reverse(),function(t){return t.fn.apply(e.oInstance,i)})),null!==n&&(t=P.Event(n+".dt"),P(e.nTable).trigger(t,i),o.push(t.result)),o}function Ft(t){var e=t._iDisplayStart,n=t.fnDisplayEnd(),i=t._iDisplayLength;n<=e&&(e=n-i),e-=e%i,(-1===i||e<0)&&(e=0),t._iDisplayStart=e}function Nt(t,e){var n=t.renderer,i=Wt.ext.renderer[e];return P.isPlainObject(n)&&n[e]?i[n[e]]||i._:"string"==typeof n&&i[n]||i._}function jt(t){return t.oFeatures.bServerSide?"ssp":t.ajax||t.sAjaxSource?"ajax":"dom"}function Bt(t,e){var n=[],i=(n=Pe.numbers_length,Math.floor(n/2));return e<=n?n=se(0,e):t<=i?((n=se(0,n-2)).push("ellipsis"),n.push(e-1)):(e-1-i<=t?n=se(e-(n-2),e):((n=se(t-i+2,t+i-1)).push("ellipsis"),n.push(e-1)),n.splice(0,0,"ellipsis"),n.splice(0,0,0)),n.DT_el="span",n}function Ut(n){P.each({num:function(t){return Oe(t,n)},"num-fmt":function(t){return Oe(t,n,Qt)},"html-num":function(t){return Oe(t,n,Kt)},"html-num-fmt":function(t){return Oe(t,n,Kt,Qt)}},function(t,e){zt.type.order[t+n+"-pre"]=e,t.match(/^html\-/)&&(zt.type.search[t+n]=zt.type.search.html)})}function e(e){return function(){var t=[Mt(this[Wt.ext.iApiIndex])].concat(Array.prototype.slice.call(arguments));return Wt.ext.internal[e].apply(this,t)}}var zt,Ht,Vt,qt,Wt=function(f){this.$=function(t,e){return this.api(!0).$(t,e)},this._=function(t,e){return this.api(!0).rows(t,e).data()},this.api=function(t){return new Ht(t?Mt(this[zt.iApiIndex]):this)},this.fnAddData=function(t,e){var n=this.api(!0),i=P.isArray(t)&&(P.isArray(t[0])||P.isPlainObject(t[0]))?n.rows.add(t):n.row.add(t);return(e===O||e)&&n.draw(),i.flatten().toArray()},this.fnAdjustColumnSizing=function(t){var e=this.api(!0).columns.adjust(),n=e.settings()[0],i=n.oScroll;t===O||t?e.draw(!1):(""!==i.sX||""!==i.sY)&&ft(n)},this.fnClearTable=function(t){var e=this.api(!0).clear();(t===O||t)&&e.draw()},this.fnClose=function(t){this.api(!0).row(t).child.hide()},this.fnDeleteRow=function(t,e,n){var i=this.api(!0),o=(t=i.rows(t)).settings()[0],r=o.aoData[t[0][0]];return t.remove(),e&&e.call(this,o,r),(n===O||n)&&i.draw(),r},this.fnDestroy=function(t){this.api(!0).destroy(t)},this.fnDraw=function(t){this.api(!0).draw(t)},this.fnFilter=function(t,e,n,i,o,r){o=this.api(!0),null===e||e===O?o.search(t,n,i,r):o.column(e).search(t,n,i,r),o.draw()},this.fnGetData=function(t,e){var n=this.api(!0);if(t===O)return n.data().toArray();var i=t.nodeName?t.nodeName.toLowerCase():"";return e!==O||"td"==i||"th"==i?n.cell(t,e).data():n.row(t).data()||null},this.fnGetNodes=function(t){var e=this.api(!0);return t!==O?e.row(t).node():e.rows().nodes().flatten().toArray()},this.fnGetPosition=function(t){var e=this.api(!0),n=t.nodeName.toUpperCase();return"TR"==n?e.row(t).index():"TD"==n||"TH"==n?[(t=e.cell(t).index()).row,t.columnVisible,t.column]:null},this.fnIsOpen=function(t){return this.api(!0).row(t).child.isShown()},this.fnOpen=function(t,e,n){return this.api(!0).row(t).child(e,n).show().child()[0]},this.fnPageChange=function(t,e){var n=this.api(!0).page(t);(e===O||e)&&n.draw(!1)},this.fnSetColumnVis=function(t,e,n){t=this.api(!0).column(t).visible(e),(n===O||n)&&t.columns.adjust().draw()},this.fnSettings=function(){return Mt(this[zt.iApiIndex])},this.fnSort=function(t){this.api(!0).order(t).draw()},this.fnSortListener=function(t,e,n){this.api(!0).order.listener(t,e,n)},this.fnUpdate=function(t,e,n,i,o){var r=this.api(!0);return n===O||null===n?r.row(e).data(t):r.cell(e,n).data(t),(o===O||o)&&r.columns.adjust(),(i===O||i)&&r.draw(),0},this.fnVersionCheck=zt.fnVersionCheck;var g=this,m=f===O,v=this.length;for(var t in m&&(f={}),this.oApi=this.internal=zt.internal,Wt.ext.internal)t&&(this[t]=e(t));return this.each(function(){var t,e={},n=(e=1<v?Ot(e,f,!0):f,0),i=this.getAttribute("id"),o=!1,r=Wt.defaults,a=P(this);if("table"!=this.nodeName.toLowerCase())Et(null,0,"Non-table node initialisation ("+this.nodeName+")",2);else{x(r),$(r.column),b(r,r,!0),b(r.column,r.column,!0),b(r,P.extend(e,a.data()));var s=Wt.settings;n=0;for(t=s.length;n<t;n++){var l=s[n];if(l.nTable==this||l.nTHead.parentNode==this||l.nTFoot&&l.nTFoot.parentNode==this){if(n=e.bRetrieve!==O?e.bRetrieve:r.bRetrieve,m||n)return l.oInstance;if(e.bDestroy!==O?e.bDestroy:r.bDestroy){l.oInstance.fnDestroy();break}return void Et(l,0,"Cannot reinitialise DataTable",3)}if(l.sTableId==this.id){s.splice(n,1);break}}null!==i&&""!==i||(this.id=i="DataTables_Table_"+Wt.ext._unique++);var u=P.extend(!0,{},Wt.models.oSettings,{sDestroyWidth:a[0].style.width,sInstance:i,sTableId:i});u.nTable=this,u.oApi=g.internal,u.oInit=e,s.push(u),u.oInstance=1===g.length?g:a.dataTable(),x(e),e.oLanguage&&w(e.oLanguage),e.aLengthMenu&&!e.iDisplayLength&&(e.iDisplayLength=P.isArray(e.aLengthMenu[0])?e.aLengthMenu[0][0]:e.aLengthMenu[0]),e=Ot(P.extend(!0,{},r),e),Pt(u.oFeatures,e,"bPaginate bLengthChange bFilter bSort bSortMulti bInfo bProcessing bAutoWidth bSortClasses bServerSide bDeferRender".split(" ")),Pt(u,e,["asStripeClasses","ajax","fnServerData","fnFormatNumber","sServerMethod","aaSorting","aaSortingFixed","aLengthMenu","sPaginationType","sAjaxSource","sAjaxDataProp","iStateDuration","sDom","bSortCellsTop","iTabIndex","fnStateLoadCallback","fnStateSaveCallback","renderer","searchDelay","rowId",["iCookieDuration","iStateDuration"],["oSearch","oPreviousSearch"],["aoSearchCols","aoPreSearchCols"],["iDisplayLength","_iDisplayLength"],["bJQueryUI","bJUI"]]),Pt(u.oScroll,e,[["sScrollX","sX"],["sScrollXInner","sXInner"],["sScrollY","sY"],["bScrollCollapse","bCollapse"]]),Pt(u.oLanguage,e,"fnInfoCallback"),Rt(u,"aoDrawCallback",e.fnDrawCallback,"user"),Rt(u,"aoServerParams",e.fnServerParams,"user"),Rt(u,"aoStateSaveParams",e.fnStateSaveParams,"user"),Rt(u,"aoStateLoadParams",e.fnStateLoadParams,"user"),Rt(u,"aoStateLoaded",e.fnStateLoaded,"user"),Rt(u,"aoRowCallback",e.fnRowCallback,"user"),Rt(u,"aoRowCreatedCallback",e.fnCreatedRow,"user"),Rt(u,"aoHeaderCallback",e.fnHeaderCallback,"user"),Rt(u,"aoFooterCallback",e.fnFooterCallback,"user"),Rt(u,"aoInitComplete",e.fnInitComplete,"user"),Rt(u,"aoPreDrawCallback",e.fnPreDrawCallback,"user"),u.rowIdFn=L(e.rowId),_(u),i=u.oClasses,e.bJQueryUI?(P.extend(i,Wt.ext.oJUIClasses,e.oClasses),e.sDom===r.sDom&&"lfrtip"===r.sDom&&(u.sDom='<"H"lfr>t<"F"ip>'),u.renderer?P.isPlainObject(u.renderer)&&!u.renderer.header&&(u.renderer.header="jqueryui"):u.renderer="jqueryui"):P.extend(i,Wt.ext.classes,e.oClasses),a.addClass(i.sTable),u.iInitDisplayStart===O&&(u.iInitDisplayStart=e.iDisplayStart,u._iDisplayStart=e.iDisplayStart),null!==e.iDeferLoading&&(u.bDeferLoading=!0,n=P.isArray(e.iDeferLoading),u._iRecordsDisplay=n?e.iDeferLoading[0]:e.iDeferLoading,u._iRecordsTotal=n?e.iDeferLoading[1]:e.iDeferLoading);var c=u.oLanguage;P.extend(!0,c,e.oLanguage),""!==c.sUrl&&(P.ajax({dataType:"json",url:c.sUrl,success:function(t){w(t),b(r.oLanguage,t),P.extend(!0,c,t),rt(u)},error:function(){rt(u)}}),o=!0),null===e.asStripeClasses&&(u.asStripeClasses=[i.sStripeOdd,i.sStripeEven]);n=u.asStripeClasses;var p=a.children("tbody").find("tr").eq(0);if(-1!==P.inArray(!0,P.map(n,function(t){return p.hasClass(t)}))&&(P("tbody tr",this).removeClass(n.join(" ")),u.asDestroyStripes=n.slice()),s=[],0!==(n=this.getElementsByTagName("thead")).length&&(U(u.aoHeader,n[0]),s=z(u)),null===e.aoColumns)for(l=[],n=0,t=s.length;n<t;n++)l.push(null);else l=e.aoColumns;for(n=0,t=l.length;n<t;n++)k(u,s?s[n]:null);if(A(u,e.aoColumnDefs,l,function(t,e){C(u,t,e)}),p.length){var h=function(t,e){return null!==t.getAttribute("data-"+e)?e:null};P(p[0]).children("th, td").each(function(t,e){var n=u.aoColumns[t];if(n.mData===t){var i=h(e,"sort")||h(e,"order"),o=h(e,"filter")||h(e,"search");null===i&&null===o||(n.mData={_:t+".display",sort:null!==i?t+".@data-"+i:O,type:null!==i?t+".@data-"+i:O,filter:null!==o?t+".@data-"+o:O},C(u,t))}})}var d=u.oFeatures;if(e.bStateSave&&(d.bStateSave=!0,Dt(u),Rt(u,"aoDrawCallback",At,"state_save")),e.aaSorting===O)for(n=0,t=(s=u.aaSorting).length;n<t;n++)s[n][1]=u.aoColumns[n].asSorting[0];if(St(u),d.bSort&&Rt(u,"aoDrawCallback",function(){if(u.bSorted){var t=xt(u),n={};P.each(t,function(t,e){n[e.src]=e.dir}),Lt(u,null,"order",[u,t,n]),_t(u)}}),Rt(u,"aoDrawCallback",function(){(u.bSorted||"ssp"===jt(u)||d.bDeferRender)&&St(u)},"sc"),n=a.children("caption").each(function(){this._captionSide=a.css("caption-side")}),0===(t=a.children("thead")).length&&(t=P("<thead/>").appendTo(this)),u.nTHead=t[0],0===(t=a.children("tbody")).length&&(t=P("<tbody/>").appendTo(this)),u.nTBody=t[0],0===(t=a.children("tfoot")).length&&0<n.length&&(""!==u.oScroll.sX||""!==u.oScroll.sY)&&(t=P("<tfoot/>").appendTo(this)),0===t.length||0===t.children().length?a.addClass(i.sNoFooter):0<t.length&&(u.nTFoot=t[0],U(u.aoFooter,u.nTFoot)),e.aaData)for(n=0;n<e.aaData.length;n++)D(u,e.aaData[n]);else(u.bDeferLoading||"dom"==jt(u))&&M(u,P(u.nTBody).children("tr"));u.aiDisplay=u.aiDisplayMaster.slice(),!(u.bInitialised=!0)===o&&rt(u)}}),g=null,this},Gt={},Yt=/[\r\n]/g,Kt=/<.*?>/g,Zt=/^[\w\+\-]/,Xt=/[\w\+\-]$/,Jt=RegExp("(\\/|\\.|\\*|\\+|\\?|\\||\\(|\\)|\\[|\\]|\\{|\\}|\\\\|\\$|\\^|\\-)","g"),Qt=/[',$%\u2009\u202F\u20BD\u20a9\u20BArfk]/gi,te=function(t){return!t||!0===t||"-"===t},ee=function(t){var e=parseInt(t,10);return!isNaN(e)&&isFinite(t)?e:null},ne=function(t,e){return Gt[e]||(Gt[e]=RegExp(de(e),"g")),"string"==typeof t&&"."!==e?t.replace(/\./g,"").replace(Gt[e],"."):t},ie=function(t,e,n){var i="string"==typeof t;return!!te(t)||(e&&i&&(t=ne(t,e)),n&&i&&(t=t.replace(Qt,"")),!isNaN(parseFloat(t))&&isFinite(t))},oe=function(t,e,n){return!!te(t)||((te(t)||"string"==typeof t)&&!!ie(t.replace(Kt,""),e,n)||null)},re=function(t,e,n){var i=[],o=0,r=t.length;if(n!==O)for(;o<r;o++)t[o]&&t[o][e]&&i.push(t[o][e][n]);else for(;o<r;o++)t[o]&&i.push(t[o][e]);return i},ae=function(t,e,n,i){var o=[],r=0,a=e.length;if(i!==O)for(;r<a;r++)t[e[r]][n]&&o.push(t[e[r]][n][i]);else for(;r<a;r++)o.push(t[e[r]][n]);return o},se=function(t,e){var n,i=[];e===O?(e=0,n=t):(n=e,e=t);for(var o=e;o<n;o++)i.push(o);return i},le=function(t){for(var e=[],n=0,i=t.length;n<i;n++)t[n]&&e.push(t[n]);return e},ue=function(t){var e,n,i,o=[],r=t.length,a=0;n=0;t:for(;n<r;n++){for(e=t[n],i=0;i<a;i++)if(o[i]===e)continue t;o.push(e),a++}return o};Wt.util={throttle:function(i,t){var o,r,a=t!==O?t:200;return function(){var t=this,e=+new Date,n=arguments;o&&e<o+a?(clearTimeout(r),r=setTimeout(function(){o=O,i.apply(t,n)},a)):(o=e,i.apply(t,n))}},escapeRegex:function(t){return t.replace(Jt,"\\$1")}};var ce=function(t,e,n){t[e]!==O&&(t[n]=t[e])},pe=/\[.*?\]$/,he=/\(\)$/,de=Wt.util.escapeRegex,fe=P("<div>")[0],ge=fe.textContent!==O,me=/<.*?>/g,ve=Wt.util.throttle,ye=[],be=Array.prototype;Ht=function(t,e){if(!(this instanceof Ht))return new Ht(t,e);var a=[],n=function(t){var e,n,i,o,r;e=t,o=Wt.settings,r=P.map(o,function(t){return t.nTable}),(t=e?e.nTable&&e.oApi?[e]:e.nodeName&&"table"===e.nodeName.toLowerCase()?-1!==(n=P.inArray(e,r))?[o[n]]:null:e&&"function"==typeof e.settings?e.settings().toArray():("string"==typeof e?i=P(e):e instanceof P&&(i=e),i?i.map(function(){return-1!==(n=P.inArray(this,r))?o[n]:null}).toArray():void 0):[])&&(a=a.concat(t))};if(P.isArray(t))for(var i=0,o=t.length;i<o;i++)n(t[i]);else n(t);this.context=ue(a),e&&P.merge(this,e),this.selector={rows:null,cols:null,opts:null},Ht.extend(this,this,ye)},Wt.Api=Ht,P.extend(Ht.prototype,{any:function(){return 0!==this.count()},concat:be.concat,context:[],count:function(){return this.flatten().length},each:function(t){for(var e=0,n=this.length;e<n;e++)t.call(this,this[e],e,this);return this},eq:function(t){var e=this.context;return e.length>t?new Ht(e[t],this[t]):null},filter:function(t){var e=[];if(be.filter)e=be.filter.call(this,t,this);else for(var n=0,i=this.length;n<i;n++)t.call(this,this[n],n,this)&&e.push(this[n]);return new Ht(this.context,e)},flatten:function(){var t=[];return new Ht(this.context,t.concat.apply(t,this.toArray()))},join:be.join,indexOf:be.indexOf||function(t,e){for(var n=e||0,i=this.length;n<i;n++)if(this[n]===t)return n;return-1},iterator:function(t,e,n,i){var o,r,a,s,l,u,c,p=[],h=this.context,d=this.selector;for("string"==typeof t&&(i=n,n=e,e=t,t=!1),r=0,a=h.length;r<a;r++){var f=new Ht(h[r]);if("table"===e)(o=n.call(f,h[r],r))!==O&&p.push(o);else if("columns"===e||"rows"===e)(o=n.call(f,h[r],this[r],r))!==O&&p.push(o);else if("column"===e||"column-rows"===e||"row"===e||"cell"===e)for(c=this[r],"column-rows"===e&&(u=ke(h[r],d.opts)),s=0,l=c.length;s<l;s++)o=c[s],(o="cell"===e?n.call(f,h[r],o.row,o.column,r,s):n.call(f,h[r],o,r,s,u))!==O&&p.push(o)}return p.length||i?((e=(t=new Ht(h,t?p.concat.apply([],p):p)).selector).rows=d.rows,e.cols=d.cols,e.opts=d.opts,t):this},lastIndexOf:be.lastIndexOf||function(t,e){return this.indexOf.apply(this.toArray.reverse(),arguments)},length:0,map:function(t){var e=[];if(be.map)e=be.map.call(this,t,this);else for(var n=0,i=this.length;n<i;n++)e.push(t.call(this,this[n],n));return new Ht(this.context,e)},pluck:function(e){return this.map(function(t){return t[e]})},pop:be.pop,push:be.push,reduce:be.reduce||function(t,e){return n(this,t,e,0,this.length,1)},reduceRight:be.reduceRight||function(t,e){return n(this,t,e,this.length-1,-1,-1)},reverse:be.reverse,selector:null,shift:be.shift,sort:be.sort,splice:be.splice,toArray:function(){return be.slice.call(this)},to$:function(){return P(this)},toJQuery:function(){return P(this)},unique:function(){return new Ht(this.context,ue(this))},unshift:be.unshift}),Ht.extend=function(t,e,n){if(n.length&&e&&(e instanceof Ht||e.__dt_wrapper)){var i,o,r,a=function(e,n,i){return function(){var t=n.apply(e,arguments);return Ht.extend(t,t,i.methodExt),t}};for(i=0,o=n.length;i<o;i++)e[(r=n[i]).name]="function"==typeof r.val?a(t,r.val,r):P.isPlainObject(r.val)?{}:r.val,e[r.name].__dt_wrapper=!0,Ht.extend(t,e[r.name],r.propExt)}},Ht.register=Vt=function(t,e){if(P.isArray(t))for(var n=0,i=t.length;n<i;n++)Ht.register(t[n],e);else{var o,r,a=t.split("."),s=ye;for(n=0,i=a.length;n<i;n++){var l;o=(r=-1!==a[n].indexOf("()"))?a[n].replace("()",""):a[n];t:{l=0;for(var u=s.length;l<u;l++)if(s[l].name===o){l=s[l];break t}l=null}l||(l={name:o,val:{},methodExt:[],propExt:[]},s.push(l)),n===i-1?l.val=e:s=r?l.methodExt:l.propExt}}},Ht.registerPlural=qt=function(t,e,n){Ht.register(t,n),Ht.register(e,function(){var t=n.apply(this,arguments);return t===this?this:t instanceof Ht?t.length?P.isArray(t[0])?new Ht(t.context,t[0]):t[0]:O:t})},Vt("tables()",function(t){var e;if(t){e=Ht;var n=this.context;if("number"==typeof t)t=[n[t]];else{var i=P.map(n,function(t){return t.nTable});t=P(i).filter(t).map(function(){var t=P.inArray(this,i);return n[t]}).toArray()}e=new e(t)}else e=this;return e}),Vt("table()",function(t){var e=(t=this.tables(t)).context;return e.length?new Ht(e[0]):t}),qt("tables().nodes()","table().node()",function(){return this.iterator("table",function(t){return t.nTable},1)}),qt("tables().body()","table().body()",function(){return this.iterator("table",function(t){return t.nTBody},1)}),qt("tables().header()","table().header()",function(){return this.iterator("table",function(t){return t.nTHead},1)}),qt("tables().footer()","table().footer()",function(){return this.iterator("table",function(t){return t.nTFoot},1)}),qt("tables().containers()","table().container()",function(){return this.iterator("table",function(t){return t.nTableWrapper},1)}),Vt("draw()",function(e){return this.iterator("table",function(t){"page"===e?N(t):("string"==typeof e&&(e="full-hold"!==e),j(t,!1===e))})}),Vt("page()",function(e){return e===O?this.page.info().page:this.iterator("table",function(t){ct(t,e)})}),Vt("page.info()",function(){if(0===this.context.length)return O;var t=this.context[0],e=t._iDisplayStart,n=t.oFeatures.bPaginate?t._iDisplayLength:-1,i=t.fnRecordsDisplay(),o=-1===n;return{page:o?0:Math.floor(e/n),pages:o?1:Math.ceil(i/n),start:e,end:t.fnDisplayEnd(),length:n,recordsTotal:t.fnRecordsTotal(),recordsDisplay:i,serverSide:"ssp"===jt(t)}}),Vt("page.len()",function(e){return e===O?0!==this.context.length?this.context[0]._iDisplayLength:O:this.iterator("table",function(t){st(t,e)})});var we=function(i,o,t){if(t){var e=new Ht(i);e.one("draw",function(){t(e.ajax.json())})}if("ssp"==jt(i))j(i,o);else{ht(i,!0);var n=i.jqXHR;n&&4!==n.readyState&&n.abort(),H(i,[],function(t){s(i);for(var e=0,n=(t=W(i,t)).length;e<n;e++)D(i,t[e]);j(i,o),ht(i,!1)})}};Vt("ajax.json()",function(){var t=this.context;if(0<t.length)return t[0].json}),Vt("ajax.params()",function(){var t=this.context;if(0<t.length)return t[0].oAjaxData}),Vt("ajax.reload()",function(e,n){return this.iterator("table",function(t){we(t,!1===n,e)})}),Vt("ajax.url()",function(e){var t=this.context;return e===O?0===t.length?O:(t=t[0]).ajax?P.isPlainObject(t.ajax)?t.ajax.url:t.ajax:t.sAjaxSource:this.iterator("table",function(t){P.isPlainObject(t.ajax)?t.ajax.url=e:t.ajax=e})}),Vt("ajax.url().load()",function(e,n){return this.iterator("table",function(t){we(t,!1===n,e)})});var xe=function(t,e,n,i,o){var r,a,s,l,u,c,p=[];for(s=typeof e,e&&"string"!==s&&"function"!==s&&e.length!==O||(e=[e]),s=0,l=e.length;s<l;s++)for(u=0,c=(a=e[s]&&e[s].split?e[s].split(","):[e[s]]).length;u<c;u++)(r=n("string"==typeof a[u]?P.trim(a[u]):a[u]))&&r.length&&(p=p.concat(r));if((t=zt.selector[t]).length)for(s=0,l=t.length;s<l;s++)p=t[s](i,o,p);return ue(p)},$e=function(t){return t||(t={}),t.filter&&t.search===O&&(t.search=t.filter),P.extend({search:"none",order:"current",page:"all"},t)},_e=function(t){for(var e=0,n=t.length;e<n;e++)if(0<t[e].length)return t[0]=t[e],t[0].length=1,t.length=1,t.context=[t.context[e]],t;return t.length=0,t},ke=function(t,e){var n,i,o,r=[],a=t.aiDisplay;n=t.aiDisplayMaster;var s=e.search;if(i=e.order,o=e.page,"ssp"==jt(t))return"removed"===s?[]:se(0,n.length);if("current"==o)for(n=t._iDisplayStart,i=t.fnDisplayEnd();n<i;n++)r.push(a[n]);else if("current"==i||"applied"==i)r="none"==s?n.slice():"applied"==s?a.slice():P.map(n,function(t){return-1===P.inArray(t,a)?t:null});else if("index"==i||"original"==i)for(n=0,i=t.aoData.length;n<i;n++)"none"==s?r.push(n):(-1===(o=P.inArray(n,a))&&"removed"==s||0<=o&&"applied"==s)&&r.push(n);return r};Vt("rows()",function(t,e){t===O?t="":P.isPlainObject(t)&&(e=t,t="");e=$e(e);var n=this.iterator("table",function(i){var o=e;return xe("row",t,function(n){var t=ee(n);if(null!==t&&!o)return[t];var e=ke(i,o);return null!==t&&-1!==P.inArray(t,e)?[t]:n?"function"==typeof n?P.map(e,function(t){var e=i.aoData[t];return n(t,e._aData,e.nTr)?t:null}):(t=le(ae(i.aoData,e,"nTr")),n.nodeName?n._DT_RowIndex!==O?[n._DT_RowIndex]:n._DT_CellIndex?[n._DT_CellIndex.row]:(t=P(n).closest("*[data-dt-row]")).length?[t.data("dt-row")]:[]:"string"==typeof n&&"#"===n.charAt(0)&&(e=i.aIds[n.replace(/^#/,"")])!==O?[e.idx]:P(t).filter(n).map(function(){return this._DT_RowIndex}).toArray()):e},i,o)},1);return n.selector.rows=t,n.selector.opts=e,n}),Vt("rows().nodes()",function(){return this.iterator("row",function(t,e){return t.aoData[e].nTr||O},1)}),Vt("rows().data()",function(){return this.iterator(!0,"rows",function(t,e){return ae(t.aoData,e,"_aData")},1)}),qt("rows().cache()","row().cache()",function(i){return this.iterator("row",function(t,e){var n=t.aoData[e];return"search"===i?n._aFilterData:n._aSortData},1)}),qt("rows().invalidate()","row().invalidate()",function(n){return this.iterator("row",function(t,e){o(t,e,n)})}),qt("rows().indexes()","row().index()",function(){return this.iterator("row",function(t,e){return e},1)}),qt("rows().ids()","row().id()",function(t){for(var e=[],n=this.context,i=0,o=n.length;i<o;i++)for(var r=0,a=this[i].length;r<a;r++){var s=n[i].rowIdFn(n[i].aoData[this[i][r]]._aData);e.push((!0===t?"#":"")+s)}return new Ht(n,e)}),qt("rows().remove()","row().remove()",function(){var c=this;return this.iterator("row",function(t,e,n){var i,o,r,a,s,l=t.aoData,u=l[e];for(l.splice(e,1),i=0,o=l.length;i<o;i++)if(s=(r=l[i]).anCells,null!==r.nTr&&(r.nTr._DT_RowIndex=i),null!==s)for(r=0,a=s.length;r<a;r++)s[r]._DT_CellIndex.row=i;p(t.aiDisplayMaster,e),p(t.aiDisplay,e),p(c[n],e,!1),Ft(t),(e=t.rowIdFn(u._aData))!==O&&delete t.aIds[e]}),this.iterator("table",function(t){for(var e=0,n=t.aoData.length;e<n;e++)t.aoData[e].idx=e}),this}),Vt("rows.add()",function(r){var t=this.iterator("table",function(t){var e,n,i,o=[];for(n=0,i=r.length;n<i;n++)(e=r[n]).nodeName&&"TR"===e.nodeName.toUpperCase()?o.push(M(t,e)[0]):o.push(D(t,e));return o},1),e=this.rows(-1);return e.pop(),P.merge(e,t),e}),Vt("row()",function(t,e){return _e(this.rows(t,e))}),Vt("row().data()",function(t){var e=this.context;return t===O?e.length&&this.length?e[0].aoData[this[0]]._aData:O:(e[0].aoData[this[0]]._aData=t,o(e[0],this[0],"data"),this)}),Vt("row().node()",function(){var t=this.context;return t.length&&this.length&&t[0].aoData[this[0]].nTr||null}),Vt("row.add()",function(e){e instanceof P&&e.length&&(e=e[0]);var t=this.iterator("table",function(t){return e.nodeName&&"TR"===e.nodeName.toUpperCase()?M(t,e)[0]:D(t,e)});return this.row(t[0])});var Ce=function(t,e){var n=t.context;n.length&&(n=n[0].aoData[e!==O?e:t[0]])&&n._details&&(n._details.remove(),n._detailsShow=O,n._details=O)},Se=function(t,e){var n=t.context;if(n.length&&t.length){var i=n[0].aoData[t[0]];if(i._details){(i._detailsShow=e)?i._details.insertAfter(i.nTr):i._details.detach();var a=n[0],o=new Ht(a),s=a.aoData;o.off("draw.dt.DT_details column-visibility.dt.DT_details destroy.dt.DT_details"),0<re(s,"_details").length&&(o.on("draw.dt.DT_details",function(t,e){a===e&&o.rows({page:"current"}).eq(0).each(function(t){(t=s[t])._detailsShow&&t._details.insertAfter(t.nTr)})}),o.on("column-visibility.dt.DT_details",function(t,e){if(a===e)for(var n,i=S(e),o=0,r=s.length;o<r;o++)(n=s[o])._details&&n._details.children("td[colspan]").attr("colspan",i)}),o.on("destroy.dt.DT_details",function(t,e){if(a===e)for(var n=0,i=s.length;n<i;n++)s[n]._details&&Ce(o,n)}))}}};Vt("row().child()",function(t,e){var n=this.context;if(t===O)return n.length&&this.length?n[0].aoData[this[0]]._details:O;if(!0===t)this.child.show();else if(!1===t)Ce(this);else if(n.length&&this.length){var o=n[0],r=(n=n[0].aoData[this[0]],[]),a=function(t,e){if(P.isArray(t)||t instanceof P)for(var n=0,i=t.length;n<i;n++)a(t[n],e);else t.nodeName&&"tr"===t.nodeName.toLowerCase()?r.push(t):(n=P("<tr><td/></tr>").addClass(e),P("td",n).addClass(e).html(t)[0].colSpan=S(o),r.push(n[0]))};a(t,e),n._details&&n._details.remove(),n._details=P(r),n._detailsShow&&n._details.insertAfter(n.nTr)}return this}),Vt(["row().child.show()","row().child().show()"],function(){return Se(this,!0),this}),Vt(["row().child.hide()","row().child().hide()"],function(){return Se(this,!1),this}),Vt(["row().child.remove()","row().child().remove()"],function(){return Ce(this),this}),Vt("row().child.isShown()",function(){var t=this.context;return t.length&&this.length&&t[0].aoData[this[0]]._detailsShow||!1});var Te=/^(.+):(name|visIdx|visible)$/,Ae=function(t,e,n,i,o){n=[],i=0;for(var r=o.length;i<r;i++)n.push(E(t,o[i],e));return n};Vt("columns()",function(e,n){e===O?e="":P.isPlainObject(e)&&(n=e,e="");n=$e(n);var t=this.iterator("table",function(r){var t=e,a=n,s=r.aoColumns,l=re(s,"sName"),u=re(s,"nTh");return xe("column",t,function(n){var t=ee(n);if(""===n)return se(s.length);if(null!==t)return[0<=t?t:s.length+t];if("function"==typeof n){var i=ke(r,a);return P.map(s,function(t,e){return n(e,Ae(r,e,0,0,i),u[e])?e:null})}var o="string"==typeof n?n.match(Te):"";if(o)switch(o[2]){case"visIdx":case"visible":if((t=parseInt(o[1],10))<0){var e=P.map(s,function(t,e){return t.bVisible?e:null});return[e[e.length+t]]}return[R(r,t)];case"name":return P.map(l,function(t,e){return t===o[1]?e:null});default:return[]}return n.nodeName&&n._DT_CellIndex?[n._DT_CellIndex.column]:(t=P(u).filter(n).map(function(){return P.inArray(this,u)}).toArray()).length||!n.nodeName?t:(t=P(n).closest("*[data-dt-column]")).length?[t.data("dt-column")]:[]},r,a)},1);return t.selector.cols=e,t.selector.opts=n,t}),qt("columns().header()","column().header()",function(){return this.iterator("column",function(t,e){return t.aoColumns[e].nTh},1)}),qt("columns().footer()","column().footer()",function(){return this.iterator("column",function(t,e){return t.aoColumns[e].nTf},1)}),qt("columns().data()","column().data()",function(){return this.iterator("column-rows",Ae,1)}),qt("columns().dataSrc()","column().dataSrc()",function(){return this.iterator("column",function(t,e){return t.aoColumns[e].mData},1)}),qt("columns().cache()","column().cache()",function(r){return this.iterator("column-rows",function(t,e,n,i,o){return ae(t.aoData,o,"search"===r?"_aFilterData":"_aSortData",e)},1)}),qt("columns().nodes()","column().nodes()",function(){return this.iterator("column-rows",function(t,e,n,i,o){return ae(t.aoData,o,"anCells",e)},1)}),qt("columns().visible()","column().visible()",function(u,n){var t=this.iterator("column",function(t,e){if(u===O)return t.aoColumns[e].bVisible;var n,i,o,r=t.aoColumns,a=r[e],s=t.aoData;if(u!==O&&a.bVisible!==u){if(u){var l=P.inArray(!0,re(r,"bVisible"),e+1);for(n=0,i=s.length;n<i;n++)o=s[n].nTr,r=s[n].anCells,o&&o.insertBefore(r[e],r[l]||null)}else P(re(t.aoData,"anCells",e)).detach();a.bVisible=u,F(t,t.aoHeader),F(t,t.aoFooter),At(t)}});return u!==O&&(this.iterator("column",function(t,e){Lt(t,null,"column-visibility",[t,e,u,n])}),(n===O||n)&&this.columns.adjust()),t}),qt("columns().indexes()","column().index()",function(n){return this.iterator("column",function(t,e){return"visible"===n?u(t,e):e},1)}),Vt("columns.adjust()",function(){return this.iterator("table",function(t){I(t)},1)}),Vt("column.index()",function(t,e){if(0!==this.context.length){var n=this.context[0];if("fromVisible"===t||"toData"===t)return R(n,e);if("fromData"===t||"toVisible"===t)return u(n,e)}}),Vt("column()",function(t,e){return _e(this.columns(t,e))}),Vt("cells()",function(g,t,m){if(P.isPlainObject(g)&&(g.row===O?(m=g,g=null):(m=t,t=null)),P.isPlainObject(t)&&(m=t,t=null),null===t||t===O)return this.iterator("table",function(n){var i,o,r,a,s,l,u,t=g,e=$e(m),c=n.aoData,p=ke(n,e),h=le(ae(c,p,"anCells")),d=P([].concat.apply([],h)),f=n.aoColumns.length;return xe("cell",t,function(t){var e="function"==typeof t;if(null===t||t===O||e){for(o=[],r=0,a=p.length;r<a;r++)for(i=p[r],s=0;s<f;s++)l={row:i,column:s},e?(u=c[i],t(l,E(n,i,s),u.anCells?u.anCells[s]:null)&&o.push(l)):o.push(l);return o}return P.isPlainObject(t)?[t]:(e=d.filter(t).map(function(t,e){return{row:e._DT_CellIndex.row,column:e._DT_CellIndex.column}}).toArray()).length||!t.nodeName?e:(u=P(t).closest("*[data-dt-row]")).length?[{row:u.data("dt-row"),column:u.data("dt-column")}]:[]},n,e)});var n,i,o,r,a,s=this.columns(t,m),l=this.rows(g,m),e=this.iterator("table",function(t,e){for(n=[],i=0,o=l[e].length;i<o;i++)for(r=0,a=s[e].length;r<a;r++)n.push({row:l[e][i],column:s[e][r]});return n},1);return P.extend(e.selector,{cols:t,rows:g,opts:m}),e}),qt("cells().nodes()","cell().node()",function(){return this.iterator("cell",function(t,e,n){return(t=t.aoData[e])&&t.anCells?t.anCells[n]:O},1)}),Vt("cells().data()",function(){return this.iterator("cell",function(t,e,n){return E(t,e,n)},1)}),qt("cells().cache()","cell().cache()",function(i){return i="search"===i?"_aFilterData":"_aSortData",this.iterator("cell",function(t,e,n){return t.aoData[e][i][n]},1)}),qt("cells().render()","cell().render()",function(i){return this.iterator("cell",function(t,e,n){return E(t,e,n,i)},1)}),qt("cells().indexes()","cell().index()",function(){return this.iterator("cell",function(t,e,n){return{row:e,column:n,columnVisible:u(t,n)}},1)}),qt("cells().invalidate()","cell().invalidate()",function(i){return this.iterator("cell",function(t,e,n){o(t,e,i,n)})}),Vt("cell()",function(t,e,n){return _e(this.cells(t,e,n))}),Vt("cell().data()",function(t){var e=this.context,n=this[0];return t===O?e.length&&n.length?E(e[0],n[0].row,n[0].column):O:(i(e[0],n[0].row,n[0].column,t),o(e[0],n[0].row,"data",n[0].column),this)}),Vt("order()",function(e,t){var n=this.context;return e===O?0!==n.length?n[0].aaSorting:O:("number"==typeof e?e=[[e,t]]:e.length&&!P.isArray(e[0])&&(e=Array.prototype.slice.call(arguments)),this.iterator("table",function(t){t.aaSorting=e.slice()}))}),Vt("order.listener()",function(e,n,i){return this.iterator("table",function(t){Ct(t,e,n,i)})}),Vt("order.fixed()",function(e){if(e)return this.iterator("table",function(t){t.aaSortingFixed=P.extend(!0,{},e)});var t=(t=this.context).length?t[0].aaSortingFixed:O;return P.isArray(t)?{pre:t}:t}),Vt(["columns().order()","column().order()"],function(i){var o=this;return this.iterator("table",function(t,e){var n=[];P.each(o[e],function(t,e){n.push([e,i])}),t.aaSorting=n})}),Vt("search()",function(e,n,i,o){var t=this.context;return e===O?0!==t.length?t[0].oPreviousSearch.sSearch:O:this.iterator("table",function(t){t.oFeatures.bFilter&&Y(t,P.extend({},t.oPreviousSearch,{sSearch:e+"",bRegex:null!==n&&n,bSmart:null===i||i,bCaseInsensitive:null===o||o}),1)})}),qt("columns().search()","column().search()",function(i,o,r,a){return this.iterator("column",function(t,e){var n=t.aoPreSearchCols;if(i===O)return n[e].sSearch;t.oFeatures.bFilter&&(P.extend(n[e],{sSearch:i+"",bRegex:null!==o&&o,bSmart:null===r||r,bCaseInsensitive:null===a||a}),Y(t,t.oPreviousSearch,1))})}),Vt("state()",function(){return this.context.length?this.context[0].oSavedState:null}),Vt("state.clear()",function(){return this.iterator("table",function(t){t.fnStateSaveCallback.call(t.oInstance,t,{})})}),Vt("state.loaded()",function(){return this.context.length?this.context[0].oLoadedState:null}),Vt("state.save()",function(){return this.iterator("table",function(t){At(t)})}),Wt.versionCheck=Wt.fnVersionCheck=function(t){for(var e,n,i=Wt.version.split("."),o=0,r=(t=t.split(".")).length;o<r;o++)if((e=parseInt(i[o],10)||0)!==(n=parseInt(t[o],10)||0))return n<e;return!0},Wt.isDataTable=Wt.fnIsDataTable=function(t){var o=P(t).get(0),r=!1;return P.each(Wt.settings,function(t,e){var n=e.nScrollHead?P("table",e.nScrollHead)[0]:null,i=e.nScrollFoot?P("table",e.nScrollFoot)[0]:null;e.nTable!==o&&n!==o&&i!==o||(r=!0)}),r},Wt.tables=Wt.fnTables=function(e){var t=!1;P.isPlainObject(e)&&(t=e.api,e=e.visible);var n=P.map(Wt.settings,function(t){if(!e||e&&P(t.nTable).is(":visible"))return t.nTable});return t?new Ht(n):n},Wt.camelToHungarian=b,Vt("$()",function(t,e){var n=this.rows(e).nodes();n=P(n);return P([].concat(n.filter(t).toArray(),n.find(t).toArray()))}),P.each(["on","one","off"],function(t,n){Vt(n+"()",function(){var t=Array.prototype.slice.call(arguments);t[0].match(/\.dt\b/)||(t[0]+=".dt");var e=P(this.tables().nodes());return e[n].apply(e,t),this})}),Vt("clear()",function(){return this.iterator("table",function(t){s(t)})}),Vt("settings()",function(){return new Ht(this.context,this.context)}),Vt("init()",function(){var t=this.context;return t.length?t[0].oInit:null}),Vt("data()",function(){return this.iterator("table",function(t){return re(t.aoData,"_aData")}).flatten()}),Vt("destroy()",function(p){return p=p||!1,this.iterator("table",function(e){var n,t=e.nTableWrapper.parentNode,i=e.oClasses,o=e.nTable,r=e.nTBody,a=e.nTHead,s=e.nTFoot,l=P(o),u=(r=P(r),P(e.nTableWrapper)),c=P.map(e.aoData,function(t){return t.nTr});e.bDestroying=!0,Lt(e,"aoDestroyCallback","destroy",[e]),p||new Ht(e).columns().visible(!0),u.unbind(".DT").find(":not(tbody *)").unbind(".DT"),P(v).unbind(".DT-"+e.sInstance),o!=a.parentNode&&(l.children("thead").detach(),l.append(a)),s&&o!=s.parentNode&&(l.children("tfoot").detach(),l.append(s)),e.aaSorting=[],e.aaSortingFixed=[],St(e),P(c).removeClass(e.asStripeClasses.join(" ")),P("th, td",a).removeClass(i.sSortable+" "+i.sSortableAsc+" "+i.sSortableDesc+" "+i.sSortableNone),e.bJUI&&(P("th span."+i.sSortIcon+", td span."+i.sSortIcon,a).detach(),P("th, td",a).each(function(){var t=P("div."+i.sSortJUIWrapper,this);P(this).append(t.contents()),t.detach()})),r.children().detach(),r.append(c),l[a=p?"remove":"detach"](),u[a](),!p&&t&&(t.insertBefore(o,e.nTableReinsertBefore),l.css("width",e.sDestroyWidth).removeClass(i.sTable),(n=e.asDestroyStripes.length)&&r.children().each(function(t){P(this).addClass(e.asDestroyStripes[t%n])})),-1!==(t=P.inArray(e,Wt.settings))&&Wt.settings.splice(t,1)})}),P.each(["column","row","cell"],function(t,l){Vt(l+"s().every()",function(r){var a=this.selector.opts,s=this;return this.iterator(l,function(t,e,n,i,o){r.call(s[l](e,"cell"===l?n:a,"cell"===l?a:O),e,n,i,o)})})}),Vt("i18n()",function(t,e,n){var i=this.context[0];return(t=L(t)(i.oLanguage))===O&&(t=e),n!==O&&P.isPlainObject(t)&&(t=t[n]!==O?t[n]:t._),t.replace("%d",n)}),Wt.version="1.10.12",Wt.settings=[],Wt.models={},Wt.models.oSearch={bCaseInsensitive:!0,sSearch:"",bRegex:!1,bSmart:!0},Wt.models.oRow={nTr:null,anCells:null,_aData:[],_aSortData:null,_aFilterData:null,_sFilterRow:null,_sRowStripe:"",src:null,idx:-1},Wt.models.oColumn={idx:null,aDataSort:null,asSorting:null,bSearchable:null,bSortable:null,bVisible:null,_sManualType:null,_bAttrSrc:!1,fnCreatedCell:null,fnGetData:null,fnSetData:null,mData:null,mRender:null,nTh:null,nTf:null,sClass:null,sContentPadding:null,sDefaultContent:null,sName:null,sSortDataType:"std",sSortingClass:null,sSortingClassJUI:null,sTitle:null,sType:null,sWidth:null,sWidthOrig:null},Wt.defaults={aaData:null,aaSorting:[[0,"asc"]],aaSortingFixed:[],ajax:null,aLengthMenu:[10,25,50,100],aoColumns:null,aoColumnDefs:null,aoSearchCols:[],asStripeClasses:null,bAutoWidth:!0,bDeferRender:!1,bDestroy:!1,bFilter:!0,bInfo:!0,bJQueryUI:!1,bLengthChange:!0,bPaginate:!0,bProcessing:!1,bRetrieve:!1,bScrollCollapse:!1,bServerSide:!1,bSort:!0,bSortMulti:!0,bSortCellsTop:!1,bSortClasses:!0,bStateSave:!1,fnCreatedRow:null,fnDrawCallback:null,fnFooterCallback:null,fnFormatNumber:function(t){return t.toString().replace(/\B(?=(\d{3})+(?!\d))/g,this.oLanguage.sThousands)},fnHeaderCallback:null,fnInfoCallback:null,fnInitComplete:null,fnPreDrawCallback:null,fnRowCallback:null,fnServerData:null,fnServerParams:null,fnStateLoadCallback:function(t){try{return JSON.parse((-1===t.iStateDuration?sessionStorage:localStorage).getItem("DataTables_"+t.sInstance+"_"+location.pathname))}catch(t){}},fnStateLoadParams:null,fnStateLoaded:null,fnStateSaveCallback:function(t,e){try{(-1===t.iStateDuration?sessionStorage:localStorage).setItem("DataTables_"+t.sInstance+"_"+location.pathname,JSON.stringify(e))}catch(t){}},fnStateSaveParams:null,iStateDuration:7200,iDeferLoading:null,iDisplayLength:10,iDisplayStart:0,iTabIndex:0,oClasses:{},oLanguage:{oAria:{sSortAscending:": activate to sort column ascending",sSortDescending:": activate to sort column descending"},oPaginate:{sFirst:"First",sLast:"Last",sNext:"Next",sPrevious:"Previous"},sEmptyTable:"No data available in table",sInfo:"Showing _START_ to _END_ of _TOTAL_ entries",sInfoEmpty:"Showing 0 to 0 of 0 entries",sInfoFiltered:"(filtered from _MAX_ total entries)",sInfoPostFix:"",sDecimal:"",sThousands:",",sLengthMenu:"Show _MENU_ entries",sLoadingRecords:"Loading...",sProcessing:"Processing...",sSearch:"Search:",sSearchPlaceholder:"",sUrl:"",sZeroRecords:"No matching records found"},oSearch:P.extend({},Wt.models.oSearch),sAjaxDataProp:"data",sAjaxSource:null,sDom:"lfrtip",searchDelay:null,sPaginationType:"simple_numbers",sScrollX:"",sScrollXInner:"",sScrollY:"",sServerMethod:"GET",renderer:null,rowId:"DT_RowId"},r(Wt.defaults),Wt.defaults.column={aDataSort:null,iDataSort:-1,asSorting:["asc","desc"],bSearchable:!0,bSortable:!0,bVisible:!0,fnCreatedCell:null,mData:null,mRender:null,sCellType:"td",sClass:"",sContentPadding:"",sDefaultContent:null,sName:"",sSortDataType:"std",sTitle:null,sType:null,sWidth:null},r(Wt.defaults.column),Wt.models.oSettings={oFeatures:{bAutoWidth:null,bDeferRender:null,bFilter:null,bInfo:null,bLengthChange:null,bPaginate:null,bProcessing:null,bServerSide:null,bSort:null,bSortMulti:null,bSortClasses:null,bStateSave:null},oScroll:{bCollapse:null,iBarWidth:0,sX:null,sXInner:null,sY:null},oLanguage:{fnInfoCallback:null},oBrowser:{bScrollOversize:!1,bScrollbarLeft:!1,bBounding:!1,barWidth:0},ajax:null,aanFeatures:[],aoData:[],aiDisplay:[],aiDisplayMaster:[],aIds:{},aoColumns:[],aoHeader:[],aoFooter:[],oPreviousSearch:{},aoPreSearchCols:[],aaSorting:null,aaSortingFixed:[],asStripeClasses:null,asDestroyStripes:[],sDestroyWidth:0,aoRowCallback:[],aoHeaderCallback:[],aoFooterCallback:[],aoDrawCallback:[],aoRowCreatedCallback:[],aoPreDrawCallback:[],aoInitComplete:[],aoStateSaveParams:[],aoStateLoadParams:[],aoStateLoaded:[],sTableId:"",nTable:null,nTHead:null,nTFoot:null,nTBody:null,nTableWrapper:null,bDeferLoading:!1,bInitialised:!1,aoOpenRows:[],sDom:null,searchDelay:null,sPaginationType:"two_button",iStateDuration:0,aoStateSave:[],aoStateLoad:[],oSavedState:null,oLoadedState:null,sAjaxSource:null,sAjaxDataProp:null,bAjaxDataGet:!0,jqXHR:null,json:O,oAjaxData:O,fnServerData:null,aoServerParams:[],sServerMethod:null,fnFormatNumber:null,aLengthMenu:null,iDraw:0,bDrawing:!1,iDrawError:-1,_iDisplayLength:10,_iDisplayStart:0,_iRecordsTotal:0,_iRecordsDisplay:0,bJUI:null,oClasses:{},bFiltered:!1,bSorted:!1,bSortCellsTop:null,oInit:null,aoDestroyCallback:[],fnRecordsTotal:function(){return"ssp"==jt(this)?1*this._iRecordsTotal:this.aiDisplayMaster.length},fnRecordsDisplay:function(){return"ssp"==jt(this)?1*this._iRecordsDisplay:this.aiDisplay.length},fnDisplayEnd:function(){var t=this._iDisplayLength,e=this._iDisplayStart,n=e+t,i=this.aiDisplay.length,o=this.oFeatures,r=o.bPaginate;return o.bServerSide?!1===r||-1===t?e+i:Math.min(e+t,this._iRecordsDisplay):!r||i<n||-1===t?i:n},oInstance:null,sInstance:null,iTabIndex:0,nScrollHead:null,nScrollFoot:null,aLastSort:[],oPlugins:{},rowIdFn:null,rowId:null},Wt.ext=zt={buttons:{},classes:{},builder:"-source-",errMode:"alert",feature:[],search:[],selector:{cell:[],column:[],row:[]},internal:{},legacy:{ajax:null},pager:{},renderer:{pageButton:{},header:{}},order:{},type:{detect:[],search:{},order:{}},_unique:0,fnVersionCheck:Wt.fnVersionCheck,iApiIndex:0,oJUIClasses:{},sVersion:Wt.version},P.extend(zt,{afnFiltering:zt.search,aTypes:zt.type.detect,ofnSearch:zt.type.search,oSort:zt.type.order,afnSortData:zt.order,aoFeatures:zt.feature,oApi:zt.internal,oStdClasses:zt.classes,oPagination:zt.pager}),P.extend(Wt.ext.classes,{sTable:"dataTable",sNoFooter:"no-footer",sPageButton:"paginate_button",sPageButtonActive:"current",sPageButtonDisabled:"disabled",sStripeOdd:"odd",sStripeEven:"even",sRowEmpty:"dataTables_empty",sWrapper:"dataTables_wrapper",sFilter:"dataTables_filter",sInfo:"dataTables_info",sPaging:"dataTables_paginate paging_",sLength:"dataTables_length",sProcessing:"dataTables_processing",sSortAsc:"sorting_asc",sSortDesc:"sorting_desc",sSortable:"sorting",sSortableAsc:"sorting_asc_disabled",sSortableDesc:"sorting_desc_disabled",sSortableNone:"sorting_disabled",sSortColumn:"sorting_",sFilterInput:"",sLengthSelect:"",sScrollWrapper:"dataTables_scroll",sScrollHead:"dataTables_scrollHead",sScrollHeadInner:"dataTables_scrollHeadInner",sScrollBody:"dataTables_scrollBody",sScrollFoot:"dataTables_scrollFoot",sScrollFootInner:"dataTables_scrollFootInner",sHeaderTH:"",sFooterTH:"",sSortJUIAsc:"",sSortJUIDesc:"",sSortJUI:"",sSortJUIAscAllowed:"",sSortJUIDescAllowed:"",sSortJUIWrapper:"",sSortIcon:"",sJUIHeader:"",sJUIFooter:""});var De="ui-state-default",Me="css_right ui-icon ui-icon-",Ee="fg-toolbar ui-toolbar ui-widget-header ui-helper-clearfix";P.extend(Wt.ext.oJUIClasses,Wt.ext.classes,{sPageButton:"fg-button ui-button "+De,sPageButtonActive:"ui-state-disabled",sPageButtonDisabled:"ui-state-disabled",sPaging:"dataTables_paginate fg-buttonset ui-buttonset fg-buttonset-multi ui-buttonset-multi paging_",sSortAsc:De+" sorting_asc",sSortDesc:De+" sorting_desc",sSortable:De+" sorting",sSortableAsc:De+" sorting_asc_disabled",sSortableDesc:De+" sorting_desc_disabled",sSortableNone:De+" sorting_disabled",sSortJUIAsc:Me+"triangle-1-n",sSortJUIDesc:Me+"triangle-1-s",sSortJUI:Me+"carat-2-n-s",sSortJUIAscAllowed:Me+"carat-1-n",sSortJUIDescAllowed:Me+"carat-1-s",sSortJUIWrapper:"DataTables_sort_wrapper",sSortIcon:"DataTables_sort_icon",sScrollHead:"dataTables_scrollHead "+De,sScrollFoot:"dataTables_scrollFoot "+De,sHeaderTH:De,sFooterTH:De,sJUIHeader:Ee+" ui-corner-tl ui-corner-tr",sJUIFooter:Ee+" ui-corner-bl ui-corner-br"});var Pe=Wt.ext.pager;P.extend(Pe,{simple:function(){return["previous","next"]},full:function(){return["first","previous","next","last"]},numbers:function(t,e){return[Bt(t,e)]},simple_numbers:function(t,e){return["previous",Bt(t,e),"next"]},full_numbers:function(t,e){return["first","previous",Bt(t,e),"next","last"]},_numbers:Bt,numbers_length:7}),P.extend(!0,Wt.ext.renderer,{pageButton:{_:function(s,t,l,e,u,c){var p,h,n,d=s.oClasses,f=s.oLanguage.oPaginate,g=s.oLanguage.oAria.paginate||{},m=0,v=function(t,e){var n,i,o,r,a=function(t){ct(s,t.data.action,!0)};for(n=0,i=e.length;n<i;n++)if(r=e[n],P.isArray(r))o=P("<"+(r.DT_el||"div")+"/>").appendTo(t),v(o,r);else{switch(p=null,h="",r){case"ellipsis":t.append('<span class="ellipsis">&#x2026;</span>');break;case"first":p=f.sFirst,h=r+(0<u?"":" "+d.sPageButtonDisabled);break;case"previous":p=f.sPrevious,h=r+(0<u?"":" "+d.sPageButtonDisabled);break;case"next":p=f.sNext,h=r+(u<c-1?"":" "+d.sPageButtonDisabled);break;case"last":p=f.sLast,h=r+(u<c-1?"":" "+d.sPageButtonDisabled);break;default:p=r+1,h=u===r?d.sPageButtonActive:""}null!==p&&(It(o=P("<a>",{class:d.sPageButton+" "+h,"aria-controls":s.sTableId,"aria-label":g[r],"data-dt-idx":m,tabindex:s.iTabIndex,id:0===l&&"string"==typeof r?s.sTableId+"_"+r:null}).html(p).appendTo(t),{action:r},a),m++)}};try{n=P(t).find(y.activeElement).data("dt-idx")}catch(t){}v(P(t).empty(),e),n&&P(t).find("[data-dt-idx="+n+"]").focus()}}}),P.extend(Wt.ext.type.detect,[function(t,e){var n=e.oLanguage.sDecimal;return ie(t,n)?"num"+n:null},function(t){if(t&&!(t instanceof Date)&&(!Zt.test(t)||!Xt.test(t)))return null;var e=Date.parse(t);return null!==e&&!isNaN(e)||te(t)?"date":null},function(t,e){var n=e.oLanguage.sDecimal;return ie(t,n,!0)?"num-fmt"+n:null},function(t,e){var n=e.oLanguage.sDecimal;return oe(t,n)?"html-num"+n:null},function(t,e){var n=e.oLanguage.sDecimal;return oe(t,n,!0)?"html-num-fmt"+n:null},function(t){return te(t)||"string"==typeof t&&-1!==t.indexOf("<")?"html":null}]),P.extend(Wt.ext.type.search,{html:function(t){return te(t)?t:"string"==typeof t?t.replace(Yt," ").replace(Kt,""):""},string:function(t){return te(t)?t:"string"==typeof t?t.replace(Yt," "):t}});var Oe=function(t,e,n,i){return 0===t||t&&"-"!==t?(e&&(t=ne(t,e)),t.replace&&(n&&(t=t.replace(n,"")),i&&(t=t.replace(i,""))),1*t):-1/0};P.extend(zt.type.order,{"date-pre":function(t){return Date.parse(t)||0},"html-pre":function(t){return te(t)?"":t.replace?t.replace(/<.*?>/g,"").toLowerCase():t+""},"string-pre":function(t){return te(t)?"":"string"==typeof t?t.toLowerCase():t.toString?t.toString():""},"string-asc":function(t,e){return t<e?-1:e<t?1:0},"string-desc":function(t,e){return t<e?1:e<t?-1:0}}),Ut(""),P.extend(!0,Wt.ext.renderer,{header:{_:function(o,r,a,s){P(o.nTable).on("order.dt.DT",function(t,e,n,i){o===e&&(t=a.idx,r.removeClass(a.sSortingClass+" "+s.sSortAsc+" "+s.sSortDesc).addClass("asc"==i[t]?s.sSortAsc:"desc"==i[t]?s.sSortDesc:a.sSortingClass))})},jqueryui:function(o,r,a,s){P("<div/>").addClass(s.sSortJUIWrapper).append(r.contents()).append(P("<span/>").addClass(s.sSortIcon+" "+a.sSortingClassJUI)).appendTo(r),P(o.nTable).on("order.dt.DT",function(t,e,n,i){o===e&&(t=a.idx,r.removeClass(s.sSortAsc+" "+s.sSortDesc).addClass("asc"==i[t]?s.sSortAsc:"desc"==i[t]?s.sSortDesc:a.sSortingClass),r.find("span."+s.sSortIcon).removeClass(s.sSortJUIAsc+" "+s.sSortJUIDesc+" "+s.sSortJUI+" "+s.sSortJUIAscAllowed+" "+s.sSortJUIDescAllowed).addClass("asc"==i[t]?s.sSortJUIAsc:"desc"==i[t]?s.sSortJUIDesc:a.sSortingClassJUI))})}}});var Ie=function(t){return"string"==typeof t?t.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;"):t};return Wt.render={number:function(i,o,r,a,s){return{display:function(t){if("number"!=typeof t&&"string"!=typeof t)return t;var e=t<0?"-":"",n=parseFloat(t);return isNaN(n)?Ie(t):(t=Math.abs(n),n=parseInt(t,10),t=r?o+(t-n).toFixed(r).substring(2):"",e+(a||"")+n.toString().replace(/\B(?=(\d{3})+(?!\d))/g,i)+t+(s||""))}}},text:function(){return{display:Ie}}},P.extend(Wt.ext.internal,{_fnExternApiFunc:e,_fnBuildAjax:H,_fnAjaxUpdate:V,_fnAjaxParameters:t,_fnAjaxUpdateDraw:q,_fnAjaxDataSrc:W,_fnAddColumn:k,_fnColumnOptions:C,_fnAdjustColumnSizing:I,_fnVisibleToColumnIndex:R,_fnColumnIndexToVisible:u,_fnVisbleColumns:S,_fnGetColumns:T,_fnColumnTypes:a,_fnApplyColumnDefs:A,_fnHungarianMap:r,_fnCamelToHungarian:b,_fnLanguageCompat:w,_fnBrowserDetect:_,_fnAddData:D,_fnAddTr:M,_fnNodeToDataIndex:function(t,e){return e._DT_RowIndex!==O?e._DT_RowIndex:null},_fnNodeToColumnIndex:function(t,e,n){return P.inArray(n,t.aoData[e].anCells)},_fnGetCellData:E,_fnSetCellData:i,_fnSplitObjNotation:c,_fnGetObjectDataFn:L,_fnSetObjectDataFn:f,_fnGetDataMaster:d,_fnClearTable:s,_fnDeleteIndex:p,_fnInvalidate:o,_fnGetRowElements:l,_fnCreateTr:g,_fnBuildHead:m,_fnDrawHead:F,_fnDraw:N,_fnReDraw:j,_fnAddOptionsHtml:B,_fnDetectHeader:U,_fnGetUniqueThs:z,_fnFeatureHtmlFilter:G,_fnFilterComplete:Y,_fnFilterCustom:K,_fnFilterColumn:Z,_fnFilter:X,_fnFilterCreateSearch:J,_fnEscapeRegex:de,_fnFilterData:Q,_fnFeatureHtmlInfo:nt,_fnUpdateInfo:it,_fnInfoMacros:ot,_fnInitialise:rt,_fnInitComplete:at,_fnLengthChange:st,_fnFeatureHtmlLength:lt,_fnFeatureHtmlPaginate:ut,_fnPageChange:ct,_fnFeatureHtmlProcessing:pt,_fnProcessingDisplay:ht,_fnFeatureHtmlTable:dt,_fnScrollDraw:ft,_fnApplyToChildren:gt,_fnCalculateColumnWidths:mt,_fnThrottle:ve,_fnConvertToWidth:vt,_fnGetWidestNode:yt,_fnGetMaxLenString:bt,_fnStringToCss:wt,_fnSortFlatten:xt,_fnSort:$t,_fnSortAria:_t,_fnSortListener:kt,_fnSortAttachListener:Ct,_fnSortingClasses:St,_fnSortData:Tt,_fnSaveState:At,_fnLoadState:Dt,_fnSettingsFromNode:Mt,_fnLog:Et,_fnMap:Pt,_fnBindAction:It,_fnCallbackReg:Rt,_fnCallbackFire:Lt,_fnLengthOverflow:Ft,_fnRenderer:Nt,_fnDataSource:jt,_fnRowAttributes:h,_fnCalculateEnd:function(){}}),((P.fn.dataTable=Wt).$=P).fn.dataTableSettings=Wt.settings,P.fn.dataTableExt=Wt.ext,P.fn.DataTable=function(t){return P(this).dataTable(t).api()},P.each(Wt,function(t,e){P.fn.DataTable[t]=e}),P.fn.dataTable}),function(i,e){"use strict";var o=["skin-blue","skin-black","skin-red","skin-yellow","skin-purple","skin-green","skin-blue-light","skin-black-light","skin-red-light","skin-yellow-light","skin-purple-light","skin-green-light"],t=i("<div />",{id:"control-sidebar-theme-demo-options-tab",class:"tab-pane active"}),n=i("<li />",{class:"active"}).html("<a href='#control-sidebar-theme-demo-options-tab' data-toggle='tab'><i class='fa fa-wrench'></i></a>");i("[href='#control-sidebar-home-tab']").parent().before(n);var r=i("<div />");r.append("<h4 class='control-sidebar-heading'>Layout Options</h4><div class='form-group'><label class='control-sidebar-subheading'><input type='checkbox' data-layout='fixed' class='pull-right'/> Fixed layout</label><p>Activate the fixed layout. You can't use fixed and boxed layouts together</p></div><div class='form-group'><label class='control-sidebar-subheading'><input type='checkbox' data-layout='layout-boxed'class='pull-right'/> Boxed Layout</label><p>Activate the boxed layout</p></div><div class='form-group'><label class='control-sidebar-subheading'><input type='checkbox' data-layout='sidebar-collapse' class='pull-right'/> Toggle Sidebar</label><p>Toggle the left sidebar's state (open or collapse)</p></div><div class='form-group'><label class='control-sidebar-subheading'><input type='checkbox' data-enable='expandOnHover' class='pull-right'/> Sidebar Expand on Hover</label><p>Let the sidebar mini expand on hover</p></div><div class='form-group'><label class='control-sidebar-subheading'><input type='checkbox' data-controlsidebar='control-sidebar-open' class='pull-right'/> Toggle Right Sidebar Slide</label><p>Toggle between slide over content and push content effects</p></div><div class='form-group'><label class='control-sidebar-subheading'><input type='checkbox' data-sidebarskin='toggle' class='pull-right'/> Toggle Right Sidebar Skin</label><p>Toggle between dark and light skins for the right sidebar</p></div>");var a=i("<ul />",{class:"list-unstyled clearfix"}),s=i("<li />",{style:"float:left; width: 33.33333%; padding: 5px;"}).append("<a href='javascript:void(0);' data-skin='skin-blue' style='display: block; box-shadow: 0 0 3px rgba(0,0,0,0.4)' class='clearfix full-opacity-hover'><div><span style='display:block; width: 20%; float: left; height: 7px; background: #367fa9;'></span><span class='bg-light-blue' style='display:block; width: 80%; float: left; height: 7px;'></span></div><div><span style='display:block; width: 20%; float: left; height: 20px; background: #222d32;'></span><span style='display:block; width: 80%; float: left; height: 20px; background: #f4f5f7;'></span></div></a><p class='text-center no-margin'>Blue</p>");a.append(s);var l=i("<li />",{style:"float:left; width: 33.33333%; padding: 5px;"}).append("<a href='javascript:void(0);' data-skin='skin-black' style='display: block; box-shadow: 0 0 3px rgba(0,0,0,0.4)' class='clearfix full-opacity-hover'><div style='box-shadow: 0 0 2px rgba(0,0,0,0.1)' class='clearfix'><span style='display:block; width: 20%; float: left; height: 7px; background: #fefefe;'></span><span style='display:block; width: 80%; float: left; height: 7px; background: #fefefe;'></span></div><div><span style='display:block; width: 20%; float: left; height: 20px; background: #222;'></span><span style='display:block; width: 80%; float: left; height: 20px; background: #f4f5f7;'></span></div></a><p class='text-center no-margin'>Black</p>");a.append(l);var u=i("<li />",{style:"float:left; width: 33.33333%; padding: 5px;"}).append("<a href='javascript:void(0);' data-skin='skin-purple' style='display: block; box-shadow: 0 0 3px rgba(0,0,0,0.4)' class='clearfix full-opacity-hover'><div><span style='display:block; width: 20%; float: left; height: 7px;' class='bg-purple-active'></span><span class='bg-purple' style='display:block; width: 80%; float: left; height: 7px;'></span></div><div><span style='display:block; width: 20%; float: left; height: 20px; background: #222d32;'></span><span style='display:block; width: 80%; float: left; height: 20px; background: #f4f5f7;'></span></div></a><p class='text-center no-margin'>Purple</p>");a.append(u);var c=i("<li />",{style:"float:left; width: 33.33333%; padding: 5px;"}).append("<a href='javascript:void(0);' data-skin='skin-green' style='display: block; box-shadow: 0 0 3px rgba(0,0,0,0.4)' class='clearfix full-opacity-hover'><div><span style='display:block; width: 20%; float: left; height: 7px;' class='bg-green-active'></span><span class='bg-green' style='display:block; width: 80%; float: left; height: 7px;'></span></div><div><span style='display:block; width: 20%; float: left; height: 20px; background: #222d32;'></span><span style='display:block; width: 80%; float: left; height: 20px; background: #f4f5f7;'></span></div></a><p class='text-center no-margin'>Green</p>");a.append(c);var p=i("<li />",{style:"float:left; width: 33.33333%; padding: 5px;"}).append("<a href='javascript:void(0);' data-skin='skin-red' style='display: block; box-shadow: 0 0 3px rgba(0,0,0,0.4)' class='clearfix full-opacity-hover'><div><span style='display:block; width: 20%; float: left; height: 7px;' class='bg-red-active'></span><span class='bg-red' style='display:block; width: 80%; float: left; height: 7px;'></span></div><div><span style='display:block; width: 20%; float: left; height: 20px; background: #222d32;'></span><span style='display:block; width: 80%; float: left; height: 20px; background: #f4f5f7;'></span></div></a><p class='text-center no-margin'>Red</p>");a.append(p);var h=i("<li />",{style:"float:left; width: 33.33333%; padding: 5px;"}).append("<a href='javascript:void(0);' data-skin='skin-yellow' style='display: block; box-shadow: 0 0 3px rgba(0,0,0,0.4)' class='clearfix full-opacity-hover'><div><span style='display:block; width: 20%; float: left; height: 7px;' class='bg-yellow-active'></span><span class='bg-yellow' style='display:block; width: 80%; float: left; height: 7px;'></span></div><div><span style='display:block; width: 20%; float: left; height: 20px; background: #222d32;'></span><span style='display:block; width: 80%; float: left; height: 20px; background: #f4f5f7;'></span></div></a><p class='text-center no-margin'>Yellow</p>");a.append(h);var d=i("<li />",{style:"float:left; width: 33.33333%; padding: 5px;"}).append("<a href='javascript:void(0);' data-skin='skin-blue-light' style='display: block; box-shadow: 0 0 3px rgba(0,0,0,0.4)' class='clearfix full-opacity-hover'><div><span style='display:block; width: 20%; float: left; height: 7px; background: #367fa9;'></span><span class='bg-light-blue' style='display:block; width: 80%; float: left; height: 7px;'></span></div><div><span style='display:block; width: 20%; float: left; height: 20px; background: #f9fafc;'></span><span style='display:block; width: 80%; float: left; height: 20px; background: #f4f5f7;'></span></div></a><p class='text-center no-margin' style='font-size: 12px'>Blue Light</p>");a.append(d);var f=i("<li />",{style:"float:left; width: 33.33333%; padding: 5px;"}).append("<a href='javascript:void(0);' data-skin='skin-black-light' style='display: block; box-shadow: 0 0 3px rgba(0,0,0,0.4)' class='clearfix full-opacity-hover'><div style='box-shadow: 0 0 2px rgba(0,0,0,0.1)' class='clearfix'><span style='display:block; width: 20%; float: left; height: 7px; background: #fefefe;'></span><span style='display:block; width: 80%; float: left; height: 7px; background: #fefefe;'></span></div><div><span style='display:block; width: 20%; float: left; height: 20px; background: #f9fafc;'></span><span style='display:block; width: 80%; float: left; height: 20px; background: #f4f5f7;'></span></div></a><p class='text-center no-margin' style='font-size: 12px'>Black Light</p>");a.append(f);var g=i("<li />",{style:"float:left; width: 33.33333%; padding: 5px;"}).append("<a href='javascript:void(0);' data-skin='skin-purple-light' style='display: block; box-shadow: 0 0 3px rgba(0,0,0,0.4)' class='clearfix full-opacity-hover'><div><span style='display:block; width: 20%; float: left; height: 7px;' class='bg-purple-active'></span><span class='bg-purple' style='display:block; width: 80%; float: left; height: 7px;'></span></div><div><span style='display:block; width: 20%; float: left; height: 20px; background: #f9fafc;'></span><span style='display:block; width: 80%; float: left; height: 20px; background: #f4f5f7;'></span></div></a><p class='text-center no-margin' style='font-size: 12px'>Purple Light</p>");a.append(g);var m=i("<li />",{style:"float:left; width: 33.33333%; padding: 5px;"}).append("<a href='javascript:void(0);' data-skin='skin-green-light' style='display: block; box-shadow: 0 0 3px rgba(0,0,0,0.4)' class='clearfix full-opacity-hover'><div><span style='display:block; width: 20%; float: left; height: 7px;' class='bg-green-active'></span><span class='bg-green' style='display:block; width: 80%; float: left; height: 7px;'></span></div><div><span style='display:block; width: 20%; float: left; height: 20px; background: #f9fafc;'></span><span style='display:block; width: 80%; float: left; height: 20px; background: #f4f5f7;'></span></div></a><p class='text-center no-margin' style='font-size: 12px'>Green Light</p>");a.append(m);var v=i("<li />",{style:"float:left; width: 33.33333%; padding: 5px;"}).append("<a href='javascript:void(0);' data-skin='skin-red-light' style='display: block; box-shadow: 0 0 3px rgba(0,0,0,0.4)' class='clearfix full-opacity-hover'><div><span style='display:block; width: 20%; float: left; height: 7px;' class='bg-red-active'></span><span class='bg-red' style='display:block; width: 80%; float: left; height: 7px;'></span></div><div><span style='display:block; width: 20%; float: left; height: 20px; background: #f9fafc;'></span><span style='display:block; width: 80%; float: left; height: 20px; background: #f4f5f7;'></span></div></a><p class='text-center no-margin' style='font-size: 12px'>Red Light</p>");a.append(v);var y=i("<li />",{style:"float:left; width: 33.33333%; padding: 5px;"}).append("<a href='javascript:void(0);' data-skin='skin-yellow-light' style='display: block; box-shadow: 0 0 3px rgba(0,0,0,0.4)' class='clearfix full-opacity-hover'><div><span style='display:block; width: 20%; float: left; height: 7px;' class='bg-yellow-active'></span><span class='bg-yellow' style='display:block; width: 80%; float: left; height: 7px;'></span></div><div><span style='display:block; width: 20%; float: left; height: 20px; background: #f9fafc;'></span><span style='display:block; width: 80%; float: left; height: 20px; background: #f4f5f7;'></span></div></a><p class='text-center no-margin' style='font-size: 12px;'>Yellow Light</p>");function b(t){i("body").toggleClass(t),e.layout.fixSidebar(),"layout-boxed"==t&&e.controlSidebar._fix(i(".control-sidebar-bg")),i("body").hasClass("fixed")&&"fixed"==t&&(e.pushMenu.expandOnHover(),e.layout.activate()),e.controlSidebar._fix(i(".control-sidebar-bg")),e.controlSidebar._fix(i(".control-sidebar"))}function w(t){var e,n;return i.each(o,function(t){i("body").removeClass(o[t])}),i("body").addClass(t),e="skin",n=t,"undefined"!=typeof Storage?localStorage.setItem(e,n):window.alert("Please use a modern browser to properly view this template!"),!1}a.append(y),r.append("<h4 class='control-sidebar-heading'>Skins</h4>"),r.append(a),t.append(r),i("#control-sidebar-home-tab").after(t),function(){var t=function(t){{if("undefined"!=typeof Storage)return localStorage.getItem(t);window.alert("Please use a modern browser to properly view this template!")}}("skin");t&&i.inArray(t,o)&&w(t);i("[data-skin]").on("click",function(t){t.preventDefault(),w(i(this).data("skin"))}),i("[data-layout]").on("click",function(){b(i(this).data("layout"))}),i("[data-controlsidebar]").on("click",function(){b(i(this).data("controlsidebar"));var t=!e.options.controlSidebarOptions.slide;(e.options.controlSidebarOptions.slide=t)||i(".control-sidebar").removeClass("control-sidebar-open")}),i("[data-sidebarskin='toggle']").on("click",function(){var t=i(".control-sidebar");t.hasClass("control-sidebar-dark")?(t.removeClass("control-sidebar-dark"),t.addClass("control-sidebar-light")):(t.removeClass("control-sidebar-light"),t.addClass("control-sidebar-dark"))}),i("[data-enable='expandOnHover']").on("click",function(){i(this).attr("disabled",!0),e.pushMenu.expandOnHover(),i("body").hasClass("sidebar-collapse")||i("[data-layout='sidebar-collapse']").click()}),i("body").hasClass("fixed")&&i("[data-layout='fixed']").attr("checked","checked");i("body").hasClass("layout-boxed")&&i("[data-layout='layout-boxed']").attr("checked","checked");i("body").hasClass("sidebar-collapse")&&i("[data-layout='sidebar-collapse']").attr("checked","checked")}()}(jQuery,$.AdminLTE),function(n){"function"==typeof define&&define.amd?define(["jquery","datatables.net"],function(t){return n(t,window,document)}):"object"==typeof exports?module.exports=function(t,e){return t||(t=window),e&&e.fn.dataTable||(e=require("datatables.net")(t,e).$),n(e,t,t.document)}:n(jQuery,window,document)}(function(b,t,i){var o=b.fn.dataTable;return b.extend(!0,o.defaults,{dom:"<'row'<'col-sm-6'l><'col-sm-6'f>><'row'<'col-sm-12'tr>><'row'<'col-sm-5'i><'col-sm-7'p>>",renderer:"bootstrap"}),b.extend(o.ext.classes,{sWrapper:"dataTables_wrapper form-inline dt-bootstrap",sFilterInput:"form-control input-sm",sLengthSelect:"form-control input-sm",sProcessing:"dataTables_processing panel panel-default"}),o.ext.renderer.pageButton.bootstrap=function(s,t,l,e,u,c){var p,h,n,d=new o.Api(s),f=s.oClasses,g=s.oLanguage.oPaginate,m=s.oLanguage.oAria.paginate||{},v=0,y=function(t,e){var n,i,o,r,a=function(t){t.preventDefault(),!b(t.currentTarget).hasClass("disabled")&&d.page()!=t.data.action&&d.page(t.data.action).draw("page")};for(n=0,i=e.length;n<i;n++)if(r=e[n],b.isArray(r))y(t,r);else{switch(h=p="",r){case"ellipsis":p="&#x2026;",h="disabled";break;case"first":p=g.sFirst,h=r+(0<u?"":" disabled");break;case"previous":p=g.sPrevious,h=r+(0<u?"":" disabled");break;case"next":p=g.sNext,h=r+(u<c-1?"":" disabled");break;case"last":p=g.sLast,h=r+(u<c-1?"":" disabled");break;default:p=r+1,h=u===r?"active":""}p&&(o=b("<li>",{class:f.sPageButton+" "+h,id:0===l&&"string"==typeof r?s.sTableId+"_"+r:null}).append(b("<a>",{href:"#","aria-controls":s.sTableId,"aria-label":m[r],"data-dt-idx":v,tabindex:s.iTabIndex}).html(p)).appendTo(t),s.oApi._fnBindAction(o,{action:r},a),v++)}};try{n=b(t).find(i.activeElement).data("dt-idx")}catch(t){}y(b(t).empty().html('<ul class="pagination"/>').children("ul"),e),n&&b(t).find("[data-dt-idx="+n+"]").focus()},o}),$(document).ready(void new ol.Map({target:"map",layers:[new ol.layer.Tile({source:new ol.source.OSM})],view:new ol.View({center:ol.proj.fromLonLat([37.41,8.82]),zoom:4})})),function(v){window.orientation;var r=function(t,e){this.id=n++,this.init(t,e)};r.prototype={constructor:r,init:function(t,e){var n,i,o,r,a,s,l;if(!e.pickTime&&!e.pickDate)throw new Error("Must choose at least one picker");if(this.options=e,this.$element=v(t),this.language=e.language in y?e.language:"en",this.pickDate=e.pickDate,this.pickTime=e.pickTime,this.isInput=this.$element.is("input"),this.component=!1,(this.$element.find(".input-append")||this.$element.find(".input-prepend"))&&(this.component=this.$element.find(".add-on")),this.format=e.format,this.format||(this.isInput?this.format=this.$element.data("format"):this.format=this.$element.find("input").data("format"),this.format||(this.format="MM/dd/yyyy")),this._compileFormat(),this.component&&(n=this.component.find("i")),this.pickTime&&(n&&n.length&&(this.timeIcon=n.data("time-icon")),this.timeIcon||(this.timeIcon="icon-time"),n.addClass(this.timeIcon)),this.pickDate&&(n&&n.length&&(this.dateIcon=n.data("date-icon")),this.dateIcon||(this.dateIcon="icon-calendar"),n.removeClass(this.timeIcon),n.addClass(this.dateIcon)),this.widget=v((i=this.timeIcon,o=e.pickDate,r=e.pickTime,a=e.pick12HourFormat,s=e.pickSeconds,l=e.collapse,o&&r?'<div class="bootstrap-datetimepicker-widget dropdown-menu"><ul><li'+(l?' class="collapse in"':"")+'><div class="datepicker">'+w.template+'</div></li><li class="picker-switch accordion-toggle"><a><i class="'+i+'"></i></a></li><li'+(l?' class="collapse"':"")+'><div class="timepicker">'+p.getTemplate(a,s)+"</div></li></ul></div>":r?'<div class="bootstrap-datetimepicker-widget dropdown-menu"><div class="timepicker">'+p.getTemplate(a,s)+"</div></div>":'<div class="bootstrap-datetimepicker-widget dropdown-menu"><div class="datepicker">'+w.template+"</div></div>")).appendTo("body"),this.minViewMode=e.minViewMode||this.$element.data("date-minviewmode")||0,"string"==typeof this.minViewMode)switch(this.minViewMode){case"months":this.minViewMode=1;break;case"years":this.minViewMode=2;break;default:this.minViewMode=0}if(this.viewMode=e.viewMode||this.$element.data("date-viewmode")||0,"string"==typeof this.viewMode)switch(this.viewMode){case"months":this.viewMode=1;break;case"years":this.viewMode=2;break;default:this.viewMode=0}this.startViewMode=this.viewMode,this.weekStart=e.weekStart||this.$element.data("date-weekstart")||0,this.weekEnd=0===this.weekStart?6:this.weekStart-1,this.setStartDate(e.startDate||this.$element.data("date-startdate")),this.setEndDate(e.endDate||this.$element.data("date-enddate")),this.fillDow(),this.fillMonths(),this.fillHours(),this.fillMinutes(),this.fillSeconds(),this.update(),this.showMode(),this._attachDatePickerEvents()},show:function(t){this.widget.show(),this.height=this.component?this.component.outerHeight():this.$element.outerHeight(),this.place(),this.$element.trigger({type:"show",date:this._date}),this._attachDatePickerGlobalEvents(),t&&(t.stopPropagation(),t.preventDefault())},disable:function(){this.$element.find("input").prop("disabled",!0),this._detachDatePickerEvents()},enable:function(){this.$element.find("input").prop("disabled",!1),this._attachDatePickerEvents()},hide:function(){for(var t=this.widget.find(".collapse"),e=0;e<t.length;e++){var n=t.eq(e).data("collapse");if(n&&n.transitioning)return}this.widget.hide(),this.viewMode=this.startViewMode,this.showMode(),this.set(),this.$element.trigger({type:"hide",date:this._date}),this._detachDatePickerGlobalEvents()},set:function(){var t="";if(this._unset||(t=this.formatDate(this._date)),this.isInput)this.$element.val(t),this._resetMaskPos(this.$element);else{if(this.component){var e=this.$element.find("input");e.val(t),this._resetMaskPos(e)}this.$element.data("date",t)}},setValue:function(t){this._unset=!t,"string"==typeof t?this._date=this.parseDate(t):t&&(this._date=new Date(t)),this.set(),this.viewDate=b(this._date.getUTCFullYear(),this._date.getUTCMonth(),1,0,0,0,0),this.fillDate(),this.fillTime()},getDate:function(){return this._unset?null:new Date(this._date.valueOf())},setDate:function(t){t?this.setValue(t.valueOf()):this.setValue(null)},setStartDate:function(t){t instanceof Date?this.startDate=t:"string"==typeof t?(this.startDate=new b(t),this.startDate.getUTCFullYear()||(this.startDate=-1/0)):this.startDate=-1/0,this.viewDate&&this.update()},setEndDate:function(t){t instanceof Date?this.endDate=t:"string"==typeof t?(this.endDate=new b(t),this.endDate.getUTCFullYear()||(this.endDate=1/0)):this.endDate=1/0,this.viewDate&&this.update()},getLocalDate:function(){if(this._unset)return null;var t=this._date;return new Date(t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),t.getUTCHours(),t.getUTCMinutes(),t.getUTCSeconds(),t.getUTCMilliseconds())},setLocalDate:function(t){t?this.setValue(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds())):this.setValue(null)},place:function(){var t="absolute",e=this.component?this.component.offset():this.$element.offset();this.width=this.component?this.component.outerWidth():this.$element.outerWidth(),e.top=e.top+this.height;var n=v(window);null!=this.options.width&&this.widget.width(this.options.width),"left"==this.options.orientation&&(this.widget.addClass("left-oriented"),e.left=e.left-this.widget.width()+20),this._isInFixed()&&(t="fixed",e.top-=n.scrollTop(),e.left-=n.scrollLeft()),n.width()<e.left+this.widget.outerWidth()?(e.right=n.width()-e.left-this.width,e.left="auto",this.widget.addClass("pull-right")):(e.right="auto",this.widget.removeClass("pull-right")),this.widget.css({position:t,top:e.top,left:e.left,right:e.right})},notifyChange:function(){this.$element.trigger({type:"changeDate",date:this.getDate(),localDate:this.getLocalDate()})},update:function(t){var e=t;if(!e&&((e=this.isInput?this.$element.val():this.$element.find("input").val())&&(this._date=this.parseDate(e)),!this._date)){var n=new Date;this._date=b(n.getFullYear(),n.getMonth(),n.getDate(),n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds())}this.viewDate=b(this._date.getUTCFullYear(),this._date.getUTCMonth(),1,0,0,0,0),this.fillDate(),this.fillTime()},fillDow:function(){for(var t=this.weekStart,e=v("<tr>");t<this.weekStart+7;)e.append('<th class="dow">'+y[this.language].daysMin[t++%7]+"</th>");this.widget.find(".datepicker-days thead").append(e)},fillMonths:function(){for(var t="",e=0;e<12;)t+='<span class="month">'+y[this.language].monthsShort[e++]+"</span>";this.widget.find(".datepicker-months td").append(t)},fillDate:function(){var t=this.viewDate.getUTCFullYear(),e=this.viewDate.getUTCMonth(),n=b(this._date.getUTCFullYear(),this._date.getUTCMonth(),this._date.getUTCDate(),0,0,0,0),i="object"==typeof this.startDate?this.startDate.getUTCFullYear():-1/0,o="object"==typeof this.startDate?this.startDate.getUTCMonth():-1,r="object"==typeof this.endDate?this.endDate.getUTCFullYear():1/0,a="object"==typeof this.endDate?this.endDate.getUTCMonth():12;this.widget.find(".datepicker-days").find(".disabled").removeClass("disabled"),this.widget.find(".datepicker-months").find(".disabled").removeClass("disabled"),this.widget.find(".datepicker-years").find(".disabled").removeClass("disabled"),this.widget.find(".datepicker-days th:eq(1)").text(y[this.language].months[e]+" "+t);var s=b(t,e-1,28,0,0,0,0),l=w.getDaysInMonth(s.getUTCFullYear(),s.getUTCMonth());s.setUTCDate(l),s.setUTCDate(l-(s.getUTCDay()-this.weekStart+7)%7),(t==i&&e<=o||t<i)&&this.widget.find(".datepicker-days th:eq(0)").addClass("disabled"),(t==r&&a<=e||r<t)&&this.widget.find(".datepicker-days th:eq(2)").addClass("disabled");var u=new Date(s.valueOf());u.setUTCDate(u.getUTCDate()+42),u=u.valueOf();for(var c,p,h=[];s.valueOf()<u;)s.getUTCDay()===this.weekStart&&(c=v("<tr>"),h.push(c)),p="",s.getUTCFullYear()<t||s.getUTCFullYear()==t&&s.getUTCMonth()<e?p+=" old":(s.getUTCFullYear()>t||s.getUTCFullYear()==t&&s.getUTCMonth()>e)&&(p+=" new"),s.valueOf()===n.valueOf()&&(p+=" active"),s.valueOf()+864e5<=this.startDate&&(p+=" disabled"),s.valueOf()>this.endDate&&(p+=" disabled"),c.append('<td class="day'+p+'">'+s.getUTCDate()+"</td>"),s.setUTCDate(s.getUTCDate()+1);this.widget.find(".datepicker-days tbody").empty().append(h);var d=this._date.getUTCFullYear(),f=this.widget.find(".datepicker-months").find("th:eq(1)").text(t).end().find("span").removeClass("active");d===t&&f.eq(this._date.getUTCMonth()).addClass("active"),d-1<i&&this.widget.find(".datepicker-months th:eq(0)").addClass("disabled"),r<d+1&&this.widget.find(".datepicker-months th:eq(2)").addClass("disabled");for(var g=0;g<12;g++)t==i&&g<o||t<i?v(f[g]).addClass("disabled"):(t==r&&a<g||r<t)&&v(f[g]).addClass("disabled");h="",t=10*parseInt(t/10,10);var m=this.widget.find(".datepicker-years").find("th:eq(1)").text(t+"-"+(t+9)).end().find("td");this.widget.find(".datepicker-years").find("th").removeClass("disabled"),t<i&&this.widget.find(".datepicker-years").find("th:eq(0)").addClass("disabled"),r<t+9&&this.widget.find(".datepicker-years").find("th:eq(2)").addClass("disabled"),t-=1;for(g=-1;g<11;g++)h+='<span class="year'+(-1===g||10===g?" old":"")+(d===t?" active":"")+(t<i||r<t?" disabled":"")+'">'+t+"</span>",t+=1;m.html(h)},fillHours:function(){var t=this.widget.find(".timepicker .timepicker-hours table");t.parent().hide();var e="";if(this.options.pick12HourFormat)for(var n=1,i=0;i<3;i+=1){e+="<tr>";for(var o=0;o<4;o+=1){e+='<td class="hour">'+a(n.toString(),2,"0")+"</td>",n++}e+="</tr>"}else for(n=0,i=0;i<6;i+=1){e+="<tr>";for(o=0;o<4;o+=1){e+='<td class="hour">'+a(n.toString(),2,"0")+"</td>",n++}e+="</tr>"}t.html(e)},fillMinutes:function(){var t=this.widget.find(".timepicker .timepicker-minutes table");t.parent().hide();for(var e="",n=0,i=0;i<5;i++){e+="<tr>";for(var o=0;o<4;o+=1){e+='<td class="minute">'+a(n.toString(),2,"0")+"</td>",n+=3}e+="</tr>"}t.html(e)},fillSeconds:function(){var t=this.widget.find(".timepicker .timepicker-seconds table");t.parent().hide();for(var e="",n=0,i=0;i<5;i++){e+="<tr>";for(var o=0;o<4;o+=1){e+='<td class="second">'+a(n.toString(),2,"0")+"</td>",n+=3}e+="</tr>"}t.html(e)},fillTime:function(){if(this._date){var t=this.widget.find(".timepicker span[data-time-component]"),e=(t.closest("table"),this.options.pick12HourFormat),n=this._date.getUTCHours(),i="AM";e&&(12<=n&&(i="PM"),0===n?n=12:12!=n&&(n%=12),this.widget.find(".timepicker [data-action=togglePeriod]").text(i)),n=a(n.toString(),2,"0");var o=a(this._date.getUTCMinutes().toString(),2,"0"),r=a(this._date.getUTCSeconds().toString(),2,"0");t.filter("[data-time-component=hours]").text(n),t.filter("[data-time-component=minutes]").text(o),t.filter("[data-time-component=seconds]").text(r)}},click:function(t){t.stopPropagation(),t.preventDefault(),this._unset=!1;var e=v(t.target).closest("span, td, th");if(1===e.length&&!e.is(".disabled"))switch(e[0].nodeName.toLowerCase()){case"th":switch(e[0].className){case"switch":this.showMode(1);break;case"prev":case"next":var n=this.viewDate,i=w.modes[this.viewMode].navFnc,o=w.modes[this.viewMode].navStep;"prev"===e[0].className&&(o*=-1),n["set"+i](n["get"+i]()+o),this.fillDate(),this.set()}break;case"span":if(e.is(".month")){var r=e.parent().find("span").index(e);this.viewDate.setUTCMonth(r)}else{var a=parseInt(e.text(),10)||0;this.viewDate.setUTCFullYear(a)}0!==this.viewMode&&(this._date=b(this.viewDate.getUTCFullYear(),this.viewDate.getUTCMonth(),this.viewDate.getUTCDate(),this._date.getUTCHours(),this._date.getUTCMinutes(),this._date.getUTCSeconds(),this._date.getUTCMilliseconds()),this.notifyChange()),this.showMode(-1),this.fillDate(),this.set();break;case"td":if(e.is(".day")){var s=parseInt(e.text(),10)||1;r=this.viewDate.getUTCMonth(),a=this.viewDate.getUTCFullYear();e.is(".old")?0===r?(r=11,a-=1):r-=1:e.is(".new")&&(11==r?(r=0,a+=1):r+=1),this._date=b(a,r,s,this._date.getUTCHours(),this._date.getUTCMinutes(),this._date.getUTCSeconds(),this._date.getUTCMilliseconds()),this.viewDate=b(a,r,Math.min(28,s),0,0,0,0),this.fillDate(),this.set(),this.notifyChange()}}},actions:{incrementHours:function(t){this._date.setUTCHours(this._date.getUTCHours()+1)},incrementMinutes:function(t){this._date.setUTCMinutes(this._date.getUTCMinutes()+1)},incrementSeconds:function(t){this._date.setUTCSeconds(this._date.getUTCSeconds()+1)},decrementHours:function(t){this._date.setUTCHours(this._date.getUTCHours()-1)},decrementMinutes:function(t){this._date.setUTCMinutes(this._date.getUTCMinutes()-1)},decrementSeconds:function(t){this._date.setUTCSeconds(this._date.getUTCSeconds()-1)},togglePeriod:function(t){var e=this._date.getUTCHours();12<=e?e-=12:e+=12,this._date.setUTCHours(e)},showPicker:function(){this.widget.find(".timepicker > div:not(.timepicker-picker)").hide(),this.widget.find(".timepicker .timepicker-picker").show()},showHours:function(){this.widget.find(".timepicker .timepicker-picker").hide(),this.widget.find(".timepicker .timepicker-hours").show()},showMinutes:function(){this.widget.find(".timepicker .timepicker-picker").hide(),this.widget.find(".timepicker .timepicker-minutes").show()},showSeconds:function(){this.widget.find(".timepicker .timepicker-picker").hide(),this.widget.find(".timepicker .timepicker-seconds").show()},selectHour:function(t){var e=v(t.target),n=parseInt(e.text(),10);this.options.pick12HourFormat&&(12<=this._date.getUTCHours()?12!=n&&(n=(n+12)%24):12===n?n=0:n%=12);this._date.setUTCHours(n),this.actions.showPicker.call(this)},selectMinute:function(t){var e=v(t.target),n=parseInt(e.text(),10);this._date.setUTCMinutes(n),this.actions.showPicker.call(this)},selectSecond:function(t){var e=v(t.target),n=parseInt(e.text(),10);this._date.setUTCSeconds(n),this.actions.showPicker.call(this)}},doAction:function(t){t.stopPropagation(),t.preventDefault(),this._date||(this._date=b(1970,0,0,0,0,0,0));var e=v(t.currentTarget).data("action"),n=this.actions[e].apply(this,arguments);return this.set(),this.fillTime(),this.notifyChange(),n},stopEvent:function(t){t.stopPropagation(),t.preventDefault()},keydown:function(t){var e=this,n=t.which,i=v(t.target);8!=n&&46!=n||setTimeout(function(){e._resetMaskPos(i)})},keypress:function(t){var e=t.which;if(8!=e&&46!=e){var n=v(t.target),i=String.fromCharCode(e),o=n.val()||"";o+=i;var r=this._mask[this._maskPos];if(!r)return!1;if(r.end==o.length){if(!r.pattern.test(o.slice(r.start))){for(o=o.slice(0,o.length-1);(r=this._mask[this._maskPos])&&r.character;)o+=r.character,this._maskPos++;return o+=i,r.end!=o.length?n.val(o):r.pattern.test(o.slice(r.start))?(n.val(o),this._maskPos++):n.val(o.slice(0,r.start)),!1}this._maskPos++}}},change:function(t){var e=v(t.target),n=e.val();this._formatPattern.test(n)?(this.update(),this.setValue(this._date.getTime()),this.notifyChange(),this.set()):n&&n.trim()?(this.setValue(this._date.getTime()),this._date?this.set():e.val("")):this._date&&(this.setValue(null),this.notifyChange(),this._unset=!0),this._resetMaskPos(e)},showMode:function(t){t&&(this.viewMode=Math.max(this.minViewMode,Math.min(2,this.viewMode+t))),this.widget.find(".datepicker > div").hide().filter(".datepicker-"+w.modes[this.viewMode].clsName).show()},destroy:function(){this._detachDatePickerEvents(),this._detachDatePickerGlobalEvents(),this.widget.remove(),this.$element.removeData("datetimepicker"),this.component.removeData("datetimepicker")},formatDate:function(r){return this.format.replace(i,function(t){var e,n,i,o=t.length;if("ms"===t&&(o=1),"Hours12"===(n=l[t].property))0===(i=r.getUTCHours())?i=12:12!==i&&(i%=12);else{if("Period12"===n)return 12<=r.getUTCHours()?"PM":"AM";i=r[e="get"+n]()}return"getUTCMonth"===e&&(i+=1),"getUTCYear"===e&&(i=i+1900-2e3),a(i.toString(),o,"0")})},parseDate:function(t){var e,n,i,o,r={};if(!(e=this._formatPattern.exec(t)))return null;for(n=1;n<e.length;n++)(i=this._propertiesByIndex[n])&&(o=e[n],/^\d+$/.test(o)&&(o=parseInt(o,10)),r[i]=o);return this._finishParsingDate(r)},_resetMaskPos:function(t){for(var e=t.val(),n=0;n<this._mask.length;n++){if(this._mask[n].end>e.length){this._maskPos=n;break}if(this._mask[n].end===e.length){this._maskPos=n+1;break}}},_finishParsingDate:function(t){var e,n,i,o,r,a,s;return e=t.UTCFullYear,t.UTCYear&&(e=2e3+t.UTCYear),e||(e=1970),n=t.UTCMonth?t.UTCMonth-1:0,i=t.UTCDate||1,o=t.UTCHours||0,r=t.UTCMinutes||0,a=t.UTCSeconds||0,s=t.UTCMilliseconds||0,t.Hours12&&(o=t.Hours12),t.Period12&&(/pm/i.test(t.Period12)?12!=o&&(o=(o+12)%24):o%=12),b(e,n,i,o,r,a,s)},_compileFormat:function(){for(var t,e,n=[],i=[],o=this.format,r={},a=0,s=0;t=u.exec(o);)(e=t[0])in l?(r[++a]=l[e].property,n.push("\\s*"+l[e].getPattern(this)+"\\s*"),i.push({pattern:new RegExp(l[e].getPattern(this)),property:l[e].property,start:s,end:s+=e.length})):(n.push(c(e)),i.push({pattern:new RegExp(c(e)),character:e,start:s,end:++s})),o=o.slice(e.length);this._mask=i,this._maskPos=0,this._formatPattern=new RegExp("^\\s*"+n.join("")+"\\s*$"),this._propertiesByIndex=r},_attachDatePickerEvents:function(){var a=this;this.widget.on("click",".datepicker *",v.proxy(this.click,this)),this.widget.on("click","[data-action]",v.proxy(this.doAction,this)),this.widget.on("mousedown",v.proxy(this.stopEvent,this)),this.pickDate&&this.pickTime&&this.widget.on("click.togglePicker",".accordion-toggle",function(t){t.stopPropagation();var e=v(this),n=e.closest("ul"),i=n.find(".collapse.in"),o=n.find(".collapse:not(.in)");if(i&&i.length){var r=i.data("collapse");if(r&&r.transitioning)return;i.collapse("hide"),o.collapse("show"),e.find("i").toggleClass(a.timeIcon+" "+a.dateIcon),a.$element.find(".add-on i").toggleClass(a.timeIcon+" "+a.dateIcon)}}),this.isInput?(this.$element.on({focus:v.proxy(this.show,this),change:v.proxy(this.change,this)}),this.options.maskInput&&this.$element.on({keydown:v.proxy(this.keydown,this),keypress:v.proxy(this.keypress,this)})):(this.$element.on({change:v.proxy(this.change,this)},"input"),this.options.maskInput&&this.$element.on({keydown:v.proxy(this.keydown,this),keypress:v.proxy(this.keypress,this)},"input"),this.component?this.component.on("click",v.proxy(this.show,this)):this.$element.on("click",v.proxy(this.show,this)))},_attachDatePickerGlobalEvents:function(){v(window).on("resize.datetimepicker"+this.id,v.proxy(this.place,this)),this.isInput||v(document).on("mousedown.datetimepicker"+this.id,v.proxy(this.hide,this))},_detachDatePickerEvents:function(){this.widget.off("click",".datepicker *",this.click),this.widget.off("click","[data-action]"),this.widget.off("mousedown",this.stopEvent),this.pickDate&&this.pickTime&&this.widget.off("click.togglePicker"),this.isInput?(this.$element.off({focus:this.show,change:this.change}),this.options.maskInput&&this.$element.off({keydown:this.keydown,keypress:this.keypress})):(this.$element.off({change:this.change},"input"),this.options.maskInput&&this.$element.off({keydown:this.keydown,keypress:this.keypress},"input"),this.component?this.component.off("click",this.show):this.$element.off("click",this.show))},_detachDatePickerGlobalEvents:function(){v(window).off("resize.datetimepicker"+this.id),this.isInput||v(document).off("mousedown.datetimepicker"+this.id)},_isInFixed:function(){if(this.$element){for(var t=this.$element.parents(),e=!1,n=0;n<t.length;n++)if("fixed"==v(t[n]).css("position")){e=!0;break}return e}return!1}},v.fn.datetimepicker=function(i,o){return this.each(function(){var t=v(this),e=t.data("datetimepicker"),n="object"==typeof i&&i;e||t.data("datetimepicker",e=new r(this,v.extend({},v.fn.datetimepicker.defaults,n))),"string"==typeof i&&e[i](o)})},v.fn.datetimepicker.defaults={maskInput:!1,pickDate:!0,pickTime:!0,pick12HourFormat:!1,pickSeconds:!0,startDate:-1/0,endDate:1/0,collapse:!0},v.fn.datetimepicker.Constructor=r;var n=0,y=v.fn.datetimepicker.dates={en:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],daysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sun"],daysMin:["Su","Mo","Tu","We","Th","Fr","Sa","Su"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]}},l={dd:{property:"UTCDate",getPattern:function(){return"(0?[1-9]|[1-2][0-9]|3[0-1])\\b"}},MM:{property:"UTCMonth",getPattern:function(){return"(0?[1-9]|1[0-2])\\b"}},yy:{property:"UTCYear",getPattern:function(){return"(\\d{2})\\b"}},yyyy:{property:"UTCFullYear",getPattern:function(){return"(\\d{4})\\b"}},hh:{property:"UTCHours",getPattern:function(){return"(0?[0-9]|1[0-9]|2[0-3])\\b"}},mm:{property:"UTCMinutes",getPattern:function(){return"(0?[0-9]|[1-5][0-9])\\b"}},ss:{property:"UTCSeconds",getPattern:function(){return"(0?[0-9]|[1-5][0-9])\\b"}},ms:{property:"UTCMilliseconds",getPattern:function(){return"([0-9]{1,3})\\b"}},HH:{property:"Hours12",getPattern:function(){return"(0?[1-9]|1[0-2])\\b"}},PP:{property:"Period12",getPattern:function(){return"(AM|PM|am|pm|Am|aM|Pm|pM)\\b"}}},t=[];for(var e in l)t.push(e);t[t.length-1]+="\\b",t.push(".");var u=new RegExp(t.join("\\b|"));t.pop();var i=new RegExp(t.join("\\b|"),"g");function c(t){return t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}function a(t,e,n){return e<t.length?t:Array(e-t.length+1).join(n||" ")+t}function b(){return new Date(Date.UTC.apply(Date,arguments))}var w={modes:[{clsName:"days",navFnc:"UTCMonth",navStep:1},{clsName:"months",navFnc:"UTCFullYear",navStep:1},{clsName:"years",navFnc:"UTCFullYear",navStep:10}],isLeapYear:function(t){return t%4==0&&t%100!=0||t%400==0},getDaysInMonth:function(t,e){return[31,w.isLeapYear(t)?29:28,31,30,31,30,31,31,30,31,30,31][e]},headTemplate:'<thead><tr><th class="prev">&lsaquo;</th><th colspan="5" class="switch"></th><th class="next">&rsaquo;</th></tr></thead>',contTemplate:'<tbody><tr><td colspan="7"></td></tr></tbody>'};w.template='<div class="datepicker-days"><table class="table-condensed">'+w.headTemplate+'<tbody></tbody></table></div><div class="datepicker-months"><table class="table-condensed">'+w.headTemplate+w.contTemplate+'</table></div><div class="datepicker-years"><table class="table-condensed">'+w.headTemplate+w.contTemplate+"</table></div>";var p={hourTemplate:'<span data-action="showHours" data-time-component="hours" class="timepicker-hour"></span>',minuteTemplate:'<span data-action="showMinutes" data-time-component="minutes" class="timepicker-minute"></span>',secondTemplate:'<span data-action="showSeconds" data-time-component="seconds" class="timepicker-second"></span>',getTemplate:function(t,e){return'<div class="timepicker-picker"><table class="table-condensed"'+(t?' data-hour-format="12"':"")+'><tr><td><a href="#" class="btn" data-action="incrementHours"><i class="icon-chevron-up"></i></a></td><td class="separator"></td><td><a href="#" class="btn" data-action="incrementMinutes"><i class="icon-chevron-up"></i></a></td>'+(e?'<td class="separator"></td><td><a href="#" class="btn" data-action="incrementSeconds"><i class="icon-chevron-up"></i></a></td>':"")+(t?'<td class="separator"></td>':"")+"</tr><tr><td>"+p.hourTemplate+'</td> <td class="separator">:</td><td>'+p.minuteTemplate+"</td> "+(e?'<td class="separator">:</td><td>'+p.secondTemplate+"</td>":"")+(t?'<td class="separator"></td><td><button type="button" class="btn btn-primary" data-action="togglePeriod"></button></td>':"")+'</tr><tr><td><a href="#" class="btn" data-action="decrementHours"><i class="icon-chevron-down"></i></a></td><td class="separator"></td><td><a href="#" class="btn" data-action="decrementMinutes"><i class="icon-chevron-down"></i></a></td>'+(e?'<td class="separator"></td><td><a href="#" class="btn" data-action="decrementSeconds"><i class="icon-chevron-down"></i></a></td>':"")+(t?'<td class="separator"></td>':"")+'</tr></table></div><div class="timepicker-hours" data-action="selectHour"><table class="table-condensed"></table></div><div class="timepicker-minutes" data-action="selectMinute"><table class="table-condensed"></table></div>'+(e?'<div class="timepicker-seconds" data-action="selectSecond"><table class="table-condensed"></table></div>':"")}}}(window.jQuery),"undefined"==typeof jQuery)throw new Error("App requires jQuery");function _init(){"use strict";$.AdminLTE.layout={activate:function(){var t=this;t.fix(),t.fixSidebar(),$(window,".wrapper").resize(function(){t.fix(),t.fixSidebar()})},fix:function(){var t,e=$(".main-header").outerHeight()+$(".main-footer").outerHeight(),n=$(window).height(),i=$(".sidebar").height();$("body").hasClass("fixed")?$(".content-wrapper, .right-side").css("min-height",n-$(".main-footer").outerHeight()):(t=i<=n?($(".content-wrapper, .right-side").css("min-height",n-e),n-e):($(".content-wrapper, .right-side").css("min-height",i),i),setInterval(function(){if(void 0===$.AdminLTE);else $($.AdminLTE.options.controlSidebarOptions.selector)},3e3),"undefined"!=typeof controlSidebar&&controlSidebar.height()>t&&$(".content-wrapper, .right-side").css("min-height",controlSidebar.height()))},fixSidebar:function(){$("body").hasClass("fixed")?(void 0===$.fn.slimScroll&&window.console&&window.console.error("Error: the fixed layout requires the slimscroll plugin!"),$.AdminLTE.options.sidebarSlimScroll&&void 0!==$.fn.slimScroll&&($(".sidebar").slimScroll({destroy:!0}).height("auto"),$(".sidebar").slimscroll({height:$(window).height()-$(".main-header").height()+"px",color:"rgba(0,0,0,0.2)",size:"3px"}))):void 0!==$.fn.slimScroll&&$(".sidebar").slimScroll({destroy:!0}).height("auto")}},$.AdminLTE.pushMenu={activate:function(t){var e=$.AdminLTE.options.screenSizes;$(document).on("click",t,function(t){t.preventDefault(),$(window).width()>e.sm-1?$("body").hasClass("sidebar-collapse")?$("body").removeClass("sidebar-collapse").trigger("expanded.pushMenu"):$("body").addClass("sidebar-collapse").trigger("collapsed.pushMenu"):$("body").hasClass("sidebar-open")?$("body").removeClass("sidebar-open").removeClass("sidebar-collapse").trigger("collapsed.pushMenu"):$("body").addClass("sidebar-open").trigger("expanded.pushMenu")}),$(".content-wrapper").click(function(){$(window).width()<=e.sm-1&&$("body").hasClass("sidebar-open")&&$("body").removeClass("sidebar-open")}),($.AdminLTE.options.sidebarExpandOnHover||$("body").hasClass("fixed")&&$("body").hasClass("sidebar-mini"))&&this.expandOnHover()},expandOnHover:function(){var t=this,e=$.AdminLTE.options.screenSizes.sm-1;$(".main-sidebar").hover(function(){$("body").hasClass("sidebar-mini")&&$("body").hasClass("sidebar-collapse")&&$(window).width()>e&&t.expand()},function(){$("body").hasClass("sidebar-mini")&&$("body").hasClass("sidebar-expanded-on-hover")&&$(window).width()>e&&t.collapse()})},expand:function(){$("body").removeClass("sidebar-collapse").addClass("sidebar-expanded-on-hover")},collapse:function(){$("body").hasClass("sidebar-expanded-on-hover")&&$("body").removeClass("sidebar-expanded-on-hover").addClass("sidebar-collapse")}},$.AdminLTE.tree=function(t){var r=this,a=$.AdminLTE.options.animationSpeed;$(document).on("click",t+" li a",function(t){var e=$(this),n=e.next();if(n.is(".treeview-menu")&&n.is(":visible")&&!$("body").hasClass("sidebar-collapse"))n.slideUp(a,function(){n.removeClass("menu-open")}),n.parent("li").removeClass("active");else if(n.is(".treeview-menu")&&!n.is(":visible")){var i=e.parents("ul").first();i.find("ul:visible").slideUp(a).removeClass("menu-open");var o=e.parent("li");n.slideDown(a,function(){n.addClass("menu-open"),i.find("li.active").removeClass("active"),o.addClass("active"),r.layout.fix()})}n.is(".treeview-menu")&&t.preventDefault()})},$.AdminLTE.controlSidebar={activate:function(){var e=this,n=$.AdminLTE.options.controlSidebarOptions,i=$(n.selector);$(n.toggleBtnSelector).on("click",function(t){t.preventDefault(),i.hasClass("control-sidebar-open")||$("body").hasClass("control-sidebar-open")?e.close(i,n.slide):e.open(i,n.slide)});var t=$(".control-sidebar-bg");e._fix(t),$("body").hasClass("fixed")?e._fixForFixed(i):$(".content-wrapper, .right-side").height()<i.height()&&e._fixForContent(i)},open:function(t,e){e?t.addClass("control-sidebar-open"):$("body").addClass("control-sidebar-open")},close:function(t,e){e?t.removeClass("control-sidebar-open"):$("body").removeClass("control-sidebar-open")},_fix:function(t){var e=this;$("body").hasClass("layout-boxed")?(t.css("position","absolute"),t.height($(".wrapper").height()),$(window).resize(function(){e._fix(t)})):t.css({position:"fixed",height:"auto"})},_fixForFixed:function(t){t.css({position:"fixed","max-height":"100%",overflow:"auto","padding-bottom":"50px"})},_fixForContent:function(t){$(".content-wrapper, .right-side").css("min-height",t.height())}},$.AdminLTE.boxWidget={selectors:$.AdminLTE.options.boxWidgetOptions.boxWidgetSelectors,icons:$.AdminLTE.options.boxWidgetOptions.boxWidgetIcons,animationSpeed:$.AdminLTE.options.animationSpeed,activate:function(t){var e=this;t||(t=document),$(t).on("click",e.selectors.collapse,function(t){t.preventDefault(),e.collapse($(this))}),$(t).on("click",e.selectors.remove,function(t){t.preventDefault(),e.remove($(this))})},collapse:function(t){var e=t.parents(".box").first(),n=e.find("> .box-body, > .box-footer, > form  >.box-body, > form > .box-footer");e.hasClass("collapsed-box")?(t.children(":first").removeClass(this.icons.open).addClass(this.icons.collapse),n.slideDown(this.animationSpeed,function(){e.removeClass("collapsed-box")})):(t.children(":first").removeClass(this.icons.collapse).addClass(this.icons.open),n.slideUp(this.animationSpeed,function(){e.addClass("collapsed-box")}))},remove:function(t){t.parents(".box").first().slideUp(this.animationSpeed)}}}$.AdminLTE={},$.AdminLTE.options={navbarMenuSlimscroll:!0,navbarMenuSlimscrollWidth:"3px",navbarMenuHeight:"200px",animationSpeed:500,sidebarToggleSelector:"[data-toggle='offcanvas']",sidebarPushMenu:!0,sidebarSlimScroll:!0,sidebarExpandOnHover:!1,enableBoxRefresh:!0,enableBSToppltip:!0,BSTooltipSelector:"[data-toggle='tooltip']",enableFastclick:!0,enableControlSidebar:!0,controlSidebarOptions:{toggleBtnSelector:"[data-toggle='control-sidebar']",selector:".control-sidebar",slide:!0},enableBoxWidget:!0,boxWidgetOptions:{boxWidgetIcons:{collapse:"fa-minus",open:"fa-plus",remove:"fa-times"},boxWidgetSelectors:{remove:'[data-widget="remove"]',collapse:'[data-widget="collapse"]'}},directChat:{enable:!0,contactToggleSelector:'[data-widget="chat-pane-toggle"]'},colors:{lightBlue:"#c1272d",red:"#f56954",green:"#00a65a",aqua:"#00c0ef",yellow:"#f39c12",blue:"#0073b7",navy:"#001F3F",teal:"#39CCCC",olive:"#3D9970",lime:"#01FF70",orange:"#FF851B",fuchsia:"#F012BE",purple:"#8E24AA",maroon:"#D81B60",black:"#222222",gray:"#d2d6de"},screenSizes:{xs:480,sm:768,md:992,lg:1200}},$(function(){"use strict";$("body").removeClass("hold-transition"),"undefined"!=typeof AdminLTEOptions&&$.extend(!0,$.AdminLTE.options,AdminLTEOptions);var t=$.AdminLTE.options;_init(),$.AdminLTE.layout.activate(),$.AdminLTE.tree(".sidebar"),t.enableControlSidebar&&$.AdminLTE.controlSidebar.activate(),t.navbarMenuSlimscroll&&void 0!==$.fn.slimscroll&&$(".navbar .menu").slimscroll({height:t.navbarMenuHeight,alwaysVisible:!1,size:t.navbarMenuSlimscrollWidth}).css("width","100%"),t.sidebarPushMenu&&$.AdminLTE.pushMenu.activate(t.sidebarToggleSelector),t.enableBSToppltip&&$("body").tooltip({selector:t.BSTooltipSelector}),t.enableBoxWidget&&$.AdminLTE.boxWidget.activate(),t.enableFastclick&&"undefined"!=typeof FastClick&&FastClick.attach(document.body),t.directChat.enable&&$(document).on("click",t.directChat.contactToggleSelector,function(){$(this).parents(".direct-chat").first().toggleClass("direct-chat-contacts-open")}),$('.btn-group[data-toggle="btn-toggle"]').each(function(){var e=$(this);$(this).find(".btn").on("click",function(t){e.find(".btn.active").removeClass("active"),$(this).addClass("active"),t.preventDefault()})})}()),function(e){"use strict";e.fn.boxRefresh=function(t){var i=e.extend({trigger:".refresh-btn",source:"",onLoadStart:function(t){return t},onLoadDone:function(t){return t}},t),o=e('<div class="overlay"><div class="fa fa-refresh fa-spin"></div></div>');return this.each(function(){if(""!==i.source){var n=e(this);n.find(i.trigger).first().on("click",function(t){var e;t.preventDefault(),(e=n).append(o),i.onLoadStart.call(e),n.find(".box-body").load(i.source,function(){var t;(t=n).find(o).remove(),i.onLoadDone.call(t)})})}else window.console&&window.console.log("Please specify a source first - boxRefresh()")})}}(jQuery),function(e){"use strict";e.fn.activateBox=function(){e.AdminLTE.boxWidget.activate(this)},e.fn.toggleBox=function(){var t=e(e.AdminLTE.boxWidget.selectors.collapse,this);e.AdminLTE.boxWidget.collapse(t)},e.fn.removeBox=function(){var t=e(e.AdminLTE.boxWidget.selectors.remove,this);e.AdminLTE.boxWidget.remove(t)}}(jQuery),function(n){"use strict";n.fn.todolist=function(t){var e=n.extend({onCheck:function(t){return t},onUncheck:function(t){return t}},t);return this.each(function(){void 0!==n.fn.iCheck?(n("input",this).on("ifChecked",function(){var t=n(this).parents("li").first();t.toggleClass("done"),e.onCheck.call(t)}),n("input",this).on("ifUnchecked",function(){var t=n(this).parents("li").first();t.toggleClass("done"),e.onUncheck.call(t)})):n("input",this).on("change",function(){var t=n(this).parents("li").first();t.toggleClass("done"),n("input",t).is(":checked")?e.onCheck.call(t):e.onUncheck.call(t)})})}}(jQuery),function(n){"function"==typeof define&&define.amd?define(["jquery"],n):"object"==typeof module&&module.exports?module.exports=function(t,e){return void 0===e&&(e="undefined"!=typeof window?require("jquery"):require("jquery")(t)),n(e),e}:n(jQuery)}(function(n){var t=function(){if(n&&n.fn&&n.fn.select2&&n.fn.select2.amd)var t=n.fn.select2.amd;var e,o,u;return t&&t.requirejs||(t?o=t:t={},function(h){function d(t,e){return n.call(t,e)}function a(t,e){var n,i,o,r,a,s,l,u,c,p,h,d=e&&e.split("/"),f=x.map,g=f&&f["*"]||{};if(t&&"."===t.charAt(0))if(e){for(a=(t=t.split("/")).length-1,x.nodeIdCompat&&_.test(t[a])&&(t[a]=t[a].replace(_,"")),t=d.slice(0,d.length-1).concat(t),c=0;c<t.length;c+=1)if("."===(h=t[c]))t.splice(c,1),c-=1;else if(".."===h){if(1===c&&(".."===t[2]||".."===t[0]))break;0<c&&(t.splice(c-1,2),c-=2)}t=t.join("/")}else 0===t.indexOf("./")&&(t=t.substring(2));if((d||g)&&f){for(c=(n=t.split("/")).length;0<c;c-=1){if(i=n.slice(0,c).join("/"),d)for(p=d.length;0<p;p-=1)if((o=f[d.slice(0,p).join("/")])&&(o=o[i])){r=o,s=c;break}if(r)break;!l&&g&&g[i]&&(l=g[i],u=c)}!r&&l&&(r=l,s=u),r&&(n.splice(0,s,r),t=n.join("/"))}return t}function f(e,n){return function(){var t=i.call(arguments,0);return"string"!=typeof t[0]&&1===t.length&&t.push(null),l.apply(h,t.concat([e,n]))}}function g(e){return function(t){b[e]=t}}function m(t){if(d(w,t)){var e=w[t];delete w[t],$[t]=!0,r.apply(h,e)}if(!d(b,t)&&!d($,t))throw new Error("No "+t);return b[t]}function s(t){var e,n=t?t.indexOf("!"):-1;return-1<n&&(e=t.substring(0,n),t=t.substring(n+1,t.length)),[e,t]}var r,l,v,y,b={},w={},x={},$={},n=Object.prototype.hasOwnProperty,i=[].slice,_=/\.js$/;v=function(t,e){var n,i,o=s(t),r=o[0];return t=o[1],r&&(n=m(r=a(r,e))),r?t=n&&n.normalize?n.normalize(t,(i=e,function(t){return a(t,i)})):a(t,e):(r=(o=s(t=a(t,e)))[0],t=o[1],r&&(n=m(r))),{f:r?r+"!"+t:t,n:t,pr:r,p:n}},y={require:function(t){return f(t)},exports:function(t){var e=b[t];return void 0!==e?e:b[t]={}},module:function(t){return{id:t,uri:"",exports:b[t],config:(e=t,function(){return x&&x.config&&x.config[e]||{}})};var e}},r=function(t,e,n,i){var o,r,a,s,l,u,c=[],p=typeof n;if(i=i||t,"undefined"===p||"function"===p){for(e=!e.length&&n.length?["require","exports","module"]:e,l=0;l<e.length;l+=1)if("require"===(r=(s=v(e[l],i)).f))c[l]=y.require(t);else if("exports"===r)c[l]=y.exports(t),u=!0;else if("module"===r)o=c[l]=y.module(t);else if(d(b,r)||d(w,r)||d($,r))c[l]=m(r);else{if(!s.p)throw new Error(t+" missing "+r);s.p.load(s.n,f(i,!0),g(r),{}),c[l]=b[r]}a=n?n.apply(b[t],c):void 0,t&&(o&&o.exports!==h&&o.exports!==b[t]?b[t]=o.exports:a===h&&u||(b[t]=a))}else t&&(b[t]=n)},e=o=l=function(t,e,n,i,o){if("string"==typeof t)return y[t]?y[t](e):m(v(t,e).f);if(!t.splice){if((x=t).deps&&l(x.deps,x.callback),!e)return;e.splice?(t=e,e=n,n=null):t=h}return e=e||function(){},"function"==typeof n&&(n=i,i=o),i?r(h,t,e,n):setTimeout(function(){r(h,t,e,n)},4),l},l.config=function(t){return l(t)},e._defined=b,(u=function(t,e,n){if("string"!=typeof t)throw new Error("See almond README: incorrect module build, no module name");e.splice||(n=e,e=[]),d(b,t)||d(w,t)||(w[t]=[t,e,n])}).amd={jQuery:!0}}(),t.requirejs=e,t.require=o,t.define=u),t.define("almond",function(){}),t.define("jquery",[],function(){var t=n||$;return null==t&&console&&console.error&&console.error("Select2: An instance of jQuery or a jQuery-compatible library was not found. Make sure that you are including jQuery before Select2 on your web page."),t}),t.define("select2/utils",["jquery"],function(r){function c(t){var e=t.prototype,n=[];for(var i in e){"function"==typeof e[i]&&"constructor"!==i&&n.push(i)}return n}var t={Extend:function(t,e){function n(){this.constructor=t}var i={}.hasOwnProperty;for(var o in e)i.call(e,o)&&(t[o]=e[o]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},Decorate:function(i,o){function r(){var t=Array.prototype.unshift,e=o.prototype.constructor.length,n=i.prototype.constructor;0<e&&(t.call(arguments,i.prototype.constructor),n=o.prototype.constructor),n.apply(this,arguments)}var t=c(o),e=c(i);o.displayName=i.displayName,r.prototype=new function(){this.constructor=r};for(var n=0;n<e.length;n++){var a=e[n];r.prototype[a]=i.prototype[a]}for(var s=function(t){var e=function(){};t in r.prototype&&(e=r.prototype[t]);var n=o.prototype[t];return function(){return Array.prototype.unshift.call(arguments,e),n.apply(this,arguments)}},l=0;l<t.length;l++){var u=t[l];r.prototype[u]=s(u)}return r}},e=function(){this.listeners={}};return e.prototype.on=function(t,e){this.listeners=this.listeners||{},t in this.listeners?this.listeners[t].push(e):this.listeners[t]=[e]},e.prototype.trigger=function(t){var e=Array.prototype.slice,n=e.call(arguments,1);this.listeners=this.listeners||{},null==n&&(n=[]),0===n.length&&n.push({}),(n[0]._type=t)in this.listeners&&this.invoke(this.listeners[t],e.call(arguments,1)),"*"in this.listeners&&this.invoke(this.listeners["*"],arguments)},e.prototype.invoke=function(t,e){for(var n=0,i=t.length;n<i;n++)t[n].apply(this,e)},t.Observable=e,t.generateChars=function(t){for(var e="",n=0;n<t;n++){e+=Math.floor(36*Math.random()).toString(36)}return e},t.bind=function(t,e){return function(){t.apply(e,arguments)}},t._convertData=function(t){for(var e in t){var n=e.split("-"),i=t;if(1!==n.length){for(var o=0;o<n.length;o++){var r=n[o];(r=r.substring(0,1).toLowerCase()+r.substring(1))in i||(i[r]={}),o==n.length-1&&(i[r]=t[e]),i=i[r]}delete t[e]}}return t},t.hasScroll=function(t,e){var n=r(e),i=e.style.overflowX,o=e.style.overflowY;return(i!==o||"hidden"!==o&&"visible"!==o)&&("scroll"===i||"scroll"===o||(n.innerHeight()<e.scrollHeight||n.innerWidth()<e.scrollWidth))},t.escapeMarkup=function(t){var e={"\\":"&#92;","&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#47;"};return"string"!=typeof t?t:String(t).replace(/[&<>"'\/\\]/g,function(t){return e[t]})},t.appendMany=function(t,e){if("1.7"===r.fn.jquery.substr(0,3)){var n=r();r.map(e,function(t){n=n.add(t)}),e=n}t.append(e)},t}),t.define("select2/results",["jquery","./utils"],function(h,t){function i(t,e,n){this.$element=t,this.data=n,this.options=e,i.__super__.constructor.call(this)}return t.Extend(i,t.Observable),i.prototype.render=function(){var t=h('<ul class="select2-results__options" role="tree"></ul>');return this.options.get("multiple")&&t.attr("aria-multiselectable","true"),this.$results=t},i.prototype.clear=function(){this.$results.empty()},i.prototype.displayMessage=function(t){var e=this.options.get("escapeMarkup");this.clear(),this.hideLoading();var n=h('<li role="treeitem" aria-live="assertive" class="select2-results__option"></li>'),i=this.options.get("translations").get(t.message);n.append(e(i(t.args))),n[0].className+=" select2-results__message",this.$results.append(n)},i.prototype.hideMessages=function(){this.$results.find(".select2-results__message").remove()},i.prototype.append=function(t){this.hideLoading();var e=[];if(null!=t.results&&0!==t.results.length){t.results=this.sort(t.results);for(var n=0;n<t.results.length;n++){var i=t.results[n],o=this.option(i);e.push(o)}this.$results.append(e)}else 0===this.$results.children().length&&this.trigger("results:message",{message:"noResults"})},i.prototype.position=function(t,e){e.find(".select2-results").append(t)},i.prototype.sort=function(t){return this.options.get("sorter")(t)},i.prototype.highlightFirstItem=function(){var t=this.$results.find(".select2-results__option[aria-selected]"),e=t.filter("[aria-selected=true]");0<e.length?e.first().trigger("mouseenter"):t.first().trigger("mouseenter"),this.ensureHighlightVisible()},i.prototype.setClasses=function(){var e=this;this.data.current(function(t){var i=h.map(t,function(t){return t.id.toString()});e.$results.find(".select2-results__option[aria-selected]").each(function(){var t=h(this),e=h.data(this,"data"),n=""+e.id;null!=e.element&&e.element.selected||null==e.element&&-1<h.inArray(n,i)?t.attr("aria-selected","true"):t.attr("aria-selected","false")})})},i.prototype.showLoading=function(t){this.hideLoading();var e={disabled:!0,loading:!0,text:this.options.get("translations").get("searching")(t)},n=this.option(e);n.className+=" loading-results",this.$results.prepend(n)},i.prototype.hideLoading=function(){this.$results.find(".loading-results").remove()},i.prototype.option=function(t){var e=document.createElement("li");e.className="select2-results__option";var n={role:"treeitem","aria-selected":"false"};for(var i in t.disabled&&(delete n["aria-selected"],n["aria-disabled"]="true"),null==t.id&&delete n["aria-selected"],null!=t._resultId&&(e.id=t._resultId),t.title&&(e.title=t.title),t.children&&(n.role="group",n["aria-label"]=t.text,delete n["aria-selected"]),n){var o=n[i];e.setAttribute(i,o)}if(t.children){var r=h(e),a=document.createElement("strong");a.className="select2-results__group",h(a),this.template(t,a);for(var s=[],l=0;l<t.children.length;l++){var u=t.children[l],c=this.option(u);s.push(c)}var p=h("<ul></ul>",{class:"select2-results__options select2-results__options--nested"});p.append(s),r.append(a),r.append(p)}else this.template(t,e);return h.data(e,"data",t),e},i.prototype.bind=function(e,t){var l=this,n=e.id+"-results";this.$results.attr("id",n),e.on("results:all",function(t){l.clear(),l.append(t.data),e.isOpen()&&(l.setClasses(),l.highlightFirstItem())}),e.on("results:append",function(t){l.append(t.data),e.isOpen()&&l.setClasses()}),e.on("query",function(t){l.hideMessages(),l.showLoading(t)}),e.on("select",function(){e.isOpen()&&(l.setClasses(),l.highlightFirstItem())}),e.on("unselect",function(){e.isOpen()&&(l.setClasses(),l.highlightFirstItem())}),e.on("open",function(){l.$results.attr("aria-expanded","true"),l.$results.attr("aria-hidden","false"),l.setClasses(),l.ensureHighlightVisible()}),e.on("close",function(){l.$results.attr("aria-expanded","false"),l.$results.attr("aria-hidden","true"),l.$results.removeAttr("aria-activedescendant")}),e.on("results:toggle",function(){var t=l.getHighlightedResults();0!==t.length&&t.trigger("mouseup")}),e.on("results:select",function(){var t=l.getHighlightedResults();if(0!==t.length){var e=t.data("data");"true"==t.attr("aria-selected")?l.trigger("close",{}):l.trigger("select",{data:e})}}),e.on("results:previous",function(){var t=l.getHighlightedResults(),e=l.$results.find("[aria-selected]"),n=e.index(t);if(0!==n){var i=n-1;0===t.length&&(i=0);var o=e.eq(i);o.trigger("mouseenter");var r=l.$results.offset().top,a=o.offset().top,s=l.$results.scrollTop()+(a-r);0===i?l.$results.scrollTop(0):a-r<0&&l.$results.scrollTop(s)}}),e.on("results:next",function(){var t=l.getHighlightedResults(),e=l.$results.find("[aria-selected]"),n=e.index(t)+1;if(!(n>=e.length)){var i=e.eq(n);i.trigger("mouseenter");var o=l.$results.offset().top+l.$results.outerHeight(!1),r=i.offset().top+i.outerHeight(!1),a=l.$results.scrollTop()+r-o;0===n?l.$results.scrollTop(0):o<r&&l.$results.scrollTop(a)}}),e.on("results:focus",function(t){t.element.addClass("select2-results__option--highlighted")}),e.on("results:message",function(t){l.displayMessage(t)}),h.fn.mousewheel&&this.$results.on("mousewheel",function(t){var e=l.$results.scrollTop(),n=l.$results.get(0).scrollHeight-e+t.deltaY,i=0<t.deltaY&&e-t.deltaY<=0,o=t.deltaY<0&&n<=l.$results.height();i?(l.$results.scrollTop(0),t.preventDefault(),t.stopPropagation()):o&&(l.$results.scrollTop(l.$results.get(0).scrollHeight-l.$results.height()),t.preventDefault(),t.stopPropagation())}),this.$results.on("mouseup",".select2-results__option[aria-selected]",function(t){var e=h(this),n=e.data("data");return"true"===e.attr("aria-selected")?void(l.options.get("multiple")?l.trigger("unselect",{originalEvent:t,data:n}):l.trigger("close",{})):void l.trigger("select",{originalEvent:t,data:n})}),this.$results.on("mouseenter",".select2-results__option[aria-selected]",function(t){var e=h(this).data("data");l.getHighlightedResults().removeClass("select2-results__option--highlighted"),l.trigger("results:focus",{data:e,element:h(this)})})},i.prototype.getHighlightedResults=function(){return this.$results.find(".select2-results__option--highlighted")},i.prototype.destroy=function(){this.$results.remove()},i.prototype.ensureHighlightVisible=function(){var t=this.getHighlightedResults();if(0!==t.length){var e=this.$results.find("[aria-selected]").index(t),n=this.$results.offset().top,i=t.offset().top,o=this.$results.scrollTop()+(i-n),r=i-n;o-=2*t.outerHeight(!1),e<=2?this.$results.scrollTop(0):(r>this.$results.outerHeight()||r<0)&&this.$results.scrollTop(o)}},i.prototype.template=function(t,e){var n=this.options.get("templateResult"),i=this.options.get("escapeMarkup"),o=n(t,e);null==o?e.style.display="none":"string"==typeof o?e.innerHTML=i(o):h(e).append(o)},i}),t.define("select2/keys",[],function(){return{BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46}}),t.define("select2/selection/base",["jquery","../utils","../keys"],function(n,t,o){function i(t,e){this.$element=t,this.options=e,i.__super__.constructor.call(this)}return t.Extend(i,t.Observable),i.prototype.render=function(){var t=n('<span class="select2-selection" role="combobox"  aria-haspopup="true" aria-expanded="false"></span>');return this._tabindex=0,null!=this.$element.data("old-tabindex")?this._tabindex=this.$element.data("old-tabindex"):null!=this.$element.attr("tabindex")&&(this._tabindex=this.$element.attr("tabindex")),t.attr("title",this.$element.attr("title")),t.attr("tabindex",this._tabindex),this.$selection=t},i.prototype.bind=function(t,e){var n=this,i=(t.id,t.id+"-results");this.container=t,this.$selection.on("focus",function(t){n.trigger("focus",t)}),this.$selection.on("blur",function(t){n._handleBlur(t)}),this.$selection.on("keydown",function(t){n.trigger("keypress",t),t.which===o.SPACE&&t.preventDefault()}),t.on("results:focus",function(t){n.$selection.attr("aria-activedescendant",t.data._resultId)}),t.on("selection:update",function(t){n.update(t.data)}),t.on("open",function(){n.$selection.attr("aria-expanded","true"),n.$selection.attr("aria-owns",i),n._attachCloseHandler(t)}),t.on("close",function(){n.$selection.attr("aria-expanded","false"),n.$selection.removeAttr("aria-activedescendant"),n.$selection.removeAttr("aria-owns"),n.$selection.focus(),n._detachCloseHandler(t)}),t.on("enable",function(){n.$selection.attr("tabindex",n._tabindex)}),t.on("disable",function(){n.$selection.attr("tabindex","-1")})},i.prototype._handleBlur=function(t){var e=this;window.setTimeout(function(){document.activeElement==e.$selection[0]||n.contains(e.$selection[0],document.activeElement)||e.trigger("blur",t)},1)},i.prototype._attachCloseHandler=function(t){n(document.body).on("mousedown.select2."+t.id,function(t){var e=n(t.target).closest(".select2");n(".select2.select2-container--open").each(function(){var t=n(this);this!=e[0]&&t.data("element").select2("close")})})},i.prototype._detachCloseHandler=function(t){n(document.body).off("mousedown.select2."+t.id)},i.prototype.position=function(t,e){e.find(".selection").append(t)},i.prototype.destroy=function(){this._detachCloseHandler(this.container)},i.prototype.update=function(t){throw new Error("The `update` method must be defined in child classes.")},i}),t.define("select2/selection/single",["jquery","./base","../utils","../keys"],function(t,e,n,i){function o(){o.__super__.constructor.apply(this,arguments)}return n.Extend(o,e),o.prototype.render=function(){var t=o.__super__.render.call(this);return t.addClass("select2-selection--single"),t.html('<span class="select2-selection__rendered"></span><span class="select2-selection__arrow" role="presentation"><b role="presentation"></b></span>'),t},o.prototype.bind=function(e,t){var n=this;o.__super__.bind.apply(this,arguments);var i=e.id+"-container";this.$selection.find(".select2-selection__rendered").attr("id",i),this.$selection.attr("aria-labelledby",i),this.$selection.on("mousedown",function(t){1===t.which&&n.trigger("toggle",{originalEvent:t})}),this.$selection.on("focus",function(t){}),this.$selection.on("blur",function(t){}),e.on("focus",function(t){e.isOpen()||n.$selection.focus()}),e.on("selection:update",function(t){n.update(t.data)})},o.prototype.clear=function(){this.$selection.find(".select2-selection__rendered").empty()},o.prototype.display=function(t,e){var n=this.options.get("templateSelection");return this.options.get("escapeMarkup")(n(t,e))},o.prototype.selectionContainer=function(){return t("<span></span>")},o.prototype.update=function(t){if(0!==t.length){var e=t[0],n=this.$selection.find(".select2-selection__rendered"),i=this.display(e,n);n.empty().append(i),n.prop("title",e.title||e.text)}else this.clear()},o}),t.define("select2/selection/multiple",["jquery","./base","../utils"],function(i,t,s){function o(t,e){o.__super__.constructor.apply(this,arguments)}return s.Extend(o,t),o.prototype.render=function(){var t=o.__super__.render.call(this);return t.addClass("select2-selection--multiple"),t.html('<ul class="select2-selection__rendered"></ul>'),t},o.prototype.bind=function(t,e){var n=this;o.__super__.bind.apply(this,arguments),this.$selection.on("click",function(t){n.trigger("toggle",{originalEvent:t})}),this.$selection.on("click",".select2-selection__choice__remove",function(t){if(!n.options.get("disabled")){var e=i(this).parent().data("data");n.trigger("unselect",{originalEvent:t,data:e})}})},o.prototype.clear=function(){this.$selection.find(".select2-selection__rendered").empty()},o.prototype.display=function(t,e){var n=this.options.get("templateSelection");return this.options.get("escapeMarkup")(n(t,e))},o.prototype.selectionContainer=function(){return i('<li class="select2-selection__choice"><span class="select2-selection__choice__remove" role="presentation">&times;</span></li>')},o.prototype.update=function(t){if(this.clear(),0!==t.length){for(var e=[],n=0;n<t.length;n++){var i=t[n],o=this.selectionContainer(),r=this.display(i,o);o.append(r),o.prop("title",i.title||i.text),o.data("data",i),e.push(o)}var a=this.$selection.find(".select2-selection__rendered");s.appendMany(a,e)}},o}),t.define("select2/selection/placeholder",["../utils"],function(t){function e(t,e,n){this.placeholder=this.normalizePlaceholder(n.get("placeholder")),t.call(this,e,n)}return e.prototype.normalizePlaceholder=function(t,e){return"string"==typeof e&&(e={id:"",text:e}),e},e.prototype.createPlaceholder=function(t,e){var n=this.selectionContainer();return n.html(this.display(e)),n.addClass("select2-selection__placeholder").removeClass("select2-selection__choice"),n},e.prototype.update=function(t,e){var n=1==e.length&&e[0].id!=this.placeholder.id;if(1<e.length||n)return t.call(this,e);this.clear();var i=this.createPlaceholder(this.placeholder);this.$selection.find(".select2-selection__rendered").append(i)},e}),t.define("select2/selection/allowClear",["jquery","../keys"],function(i,o){function t(){}return t.prototype.bind=function(t,e,n){var i=this;t.call(this,e,n),null==this.placeholder&&this.options.get("debug")&&window.console&&console.error&&console.error("Select2: The `allowClear` option should be used in combination with the `placeholder` option."),this.$selection.on("mousedown",".select2-selection__clear",function(t){i._handleClear(t)}),e.on("keypress",function(t){i._handleKeyboardClear(t,e)})},t.prototype._handleClear=function(t,e){if(!this.options.get("disabled")){var n=this.$selection.find(".select2-selection__clear");if(0!==n.length){e.stopPropagation();for(var i=n.data("data"),o=0;o<i.length;o++){var r={data:i[o]};if(this.trigger("unselect",r),r.prevented)return}this.$element.val(this.placeholder.id).trigger("change"),this.trigger("toggle",{})}}},t.prototype._handleKeyboardClear=function(t,e,n){n.isOpen()||(e.which==o.DELETE||e.which==o.BACKSPACE)&&this._handleClear(e)},t.prototype.update=function(t,e){if(t.call(this,e),!(0<this.$selection.find(".select2-selection__placeholder").length||0===e.length)){var n=i('<span class="select2-selection__clear">&times;</span>');n.data("data",e),this.$selection.find(".select2-selection__rendered").prepend(n)}},t}),t.define("select2/selection/search",["jquery","../utils","../keys"],function(i,t,a){function e(t,e,n){t.call(this,e,n)}return e.prototype.render=function(t){var e=i('<li class="select2-search select2-search--inline"><input class="select2-search__field" type="search" tabindex="-1" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" role="textbox" aria-autocomplete="list" /></li>');this.$searchContainer=e,this.$search=e.find("input");var n=t.call(this);return this._transferTabIndex(),n},e.prototype.bind=function(t,e,n){var i=this;t.call(this,e,n),e.on("open",function(){i.$search.trigger("focus")}),e.on("close",function(){i.$search.val(""),i.$search.removeAttr("aria-activedescendant"),i.$search.trigger("focus")}),e.on("enable",function(){i.$search.prop("disabled",!1),i._transferTabIndex()}),e.on("disable",function(){i.$search.prop("disabled",!0)}),e.on("focus",function(t){i.$search.trigger("focus")}),e.on("results:focus",function(t){i.$search.attr("aria-activedescendant",t.id)}),this.$selection.on("focusin",".select2-search--inline",function(t){i.trigger("focus",t)}),this.$selection.on("focusout",".select2-search--inline",function(t){i._handleBlur(t)}),this.$selection.on("keydown",".select2-search--inline",function(t){if(t.stopPropagation(),i.trigger("keypress",t),i._keyUpPrevented=t.isDefaultPrevented(),t.which===a.BACKSPACE&&""===i.$search.val()){var e=i.$searchContainer.prev(".select2-selection__choice");if(0<e.length){var n=e.data("data");i.searchRemoveChoice(n),t.preventDefault()}}});var o=document.documentMode,r=o&&o<=11;this.$selection.on("input.searchcheck",".select2-search--inline",function(t){return r?void i.$selection.off("input.search input.searchcheck"):void i.$selection.off("keyup.search")}),this.$selection.on("keyup.search input.search",".select2-search--inline",function(t){if(r&&"input"===t.type)i.$selection.off("input.search input.searchcheck");else{var e=t.which;e!=a.SHIFT&&e!=a.CTRL&&e!=a.ALT&&e!=a.TAB&&i.handleSearch(t)}})},e.prototype._transferTabIndex=function(t){this.$search.attr("tabindex",this.$selection.attr("tabindex")),this.$selection.attr("tabindex","-1")},e.prototype.createPlaceholder=function(t,e){this.$search.attr("placeholder",e.text)},e.prototype.update=function(t,e){var n=this.$search[0]==document.activeElement;this.$search.attr("placeholder",""),t.call(this,e),this.$selection.find(".select2-selection__rendered").append(this.$searchContainer),this.resizeSearch(),n&&this.$search.focus()},e.prototype.handleSearch=function(){if(this.resizeSearch(),!this._keyUpPrevented){var t=this.$search.val();this.trigger("query",{term:t})}this._keyUpPrevented=!1},e.prototype.searchRemoveChoice=function(t,e){this.trigger("unselect",{data:e}),this.$search.val(e.text),this.handleSearch()},e.prototype.resizeSearch=function(){this.$search.css("width","25px");var t="";""!==this.$search.attr("placeholder")?t=this.$selection.find(".select2-selection__rendered").innerWidth():t=.75*(this.$search.val().length+1)+"em";this.$search.css("width",t)},e}),t.define("select2/selection/eventRelay",["jquery"],function(a){function t(){}return t.prototype.bind=function(t,e,n){var i=this,o=["open","opening","close","closing","select","selecting","unselect","unselecting"],r=["opening","closing","selecting","unselecting"];t.call(this,e,n),e.on("*",function(t,e){if(-1!==a.inArray(t,o)){e=e||{};var n=a.Event("select2:"+t,{params:e});i.$element.trigger(n),-1!==a.inArray(t,r)&&(e.prevented=n.isDefaultPrevented())}})},t}),t.define("select2/translation",["jquery","require"],function(e,n){function i(t){this.dict=t||{}}return i.prototype.all=function(){return this.dict},i.prototype.get=function(t){return this.dict[t]},i.prototype.extend=function(t){this.dict=e.extend({},t.all(),this.dict)},i._cache={},i.loadPath=function(t){if(!(t in i._cache)){var e=n(t);i._cache[t]=e}return new i(i._cache[t])},i}),t.define("select2/diacritics",[],function(){return{"":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"AA","":"AE","":"AE","":"AE","":"AO","":"AU","":"AV","":"AV","":"AY","":"B","":"B","":"B","":"B","":"B","":"B","":"B","":"B","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"DZ","":"DZ","":"Dz","":"Dz","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"F","":"F","":"F","":"F","":"F","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"J","":"J","":"J","":"J","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"LJ","":"Lj","":"M","":"M","":"M","":"M","":"M","":"M","":"M","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"NJ","":"Nj","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"OI","":"OO","":"OU","":"P","":"P","":"P","":"P","":"P","":"P","":"P","":"P","":"P","":"Q","":"Q","":"Q","":"Q","":"Q","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"TZ","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"V","":"V","":"V","":"V","":"V","":"V","":"V","":"VY","":"W","":"W","":"W","":"W","":"W","":"W","":"W","":"W","":"W","":"X","":"X","":"X","":"X","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"aa","":"ae","":"ae","":"ae","":"ao","":"au","":"av","":"av","":"ay","":"b","":"b","":"b","":"b","":"b","":"b","":"b","":"b","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"dz","":"dz","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"f","":"f","":"f","":"f","":"f","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"hv","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"j","":"j","":"j","":"j","":"j","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"lj","":"m","":"m","":"m","":"m","":"m","":"m","":"m","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"nj","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"oi","":"ou","":"oo","":"p","":"p","":"p","":"p","":"p","":"p","":"p","":"p","":"p","":"q","":"q","":"q","":"q","":"q","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"tz","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"v","":"v","":"v","":"v","":"v","":"v","":"v","":"vy","":"w","":"w","":"w","":"w","":"w","":"w","":"w","":"w","":"w","":"w","":"x","":"x","":"x","":"x","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":""}}),t.define("select2/data/base",["../utils"],function(i){function n(t,e){n.__super__.constructor.call(this)}return i.Extend(n,i.Observable),n.prototype.current=function(t){throw new Error("The `current` method must be defined in child classes.")},n.prototype.query=function(t,e){throw new Error("The `query` method must be defined in child classes.")},n.prototype.bind=function(t,e){},n.prototype.destroy=function(){},n.prototype.generateResultId=function(t,e){var n=t.id+"-result-";return(n+=i.generateChars(4))+(null!=e.id?"-"+e.id.toString():"-"+i.generateChars(4))},n}),t.define("select2/data/select",["./base","../utils","jquery"],function(t,e,s){function n(t,e){this.$element=t,this.options=e,n.__super__.constructor.call(this)}return e.Extend(n,t),n.prototype.current=function(t){var n=[],i=this;this.$element.find(":selected").each(function(){var t=s(this),e=i.item(t);n.push(e)}),t(n)},n.prototype.select=function(o){var r=this;if(o.selected=!0,s(o.element).is("option"))return o.element.selected=!0,void this.$element.trigger("change");if(this.$element.prop("multiple"))this.current(function(t){var e=[];(o=[o]).push.apply(o,t);for(var n=0;n<o.length;n++){var i=o[n].id;-1===s.inArray(i,e)&&e.push(i)}r.$element.val(e),r.$element.trigger("change")});else{var t=o.id;this.$element.val(t),this.$element.trigger("change")}},n.prototype.unselect=function(o){var r=this;if(this.$element.prop("multiple"))return o.selected=!1,s(o.element).is("option")?(o.element.selected=!1,void this.$element.trigger("change")):void this.current(function(t){for(var e=[],n=0;n<t.length;n++){var i=t[n].id;i!==o.id&&-1===s.inArray(i,e)&&e.push(i)}r.$element.val(e),r.$element.trigger("change")})},n.prototype.bind=function(t,e){var n=this;(this.container=t).on("select",function(t){n.select(t.data)}),t.on("unselect",function(t){n.unselect(t.data)})},n.prototype.destroy=function(){this.$element.find("*").each(function(){s.removeData(this,"data")})},n.prototype.query=function(i,t){var o=[],r=this;this.$element.children().each(function(){var t=s(this);if(t.is("option")||t.is("optgroup")){var e=r.item(t),n=r.matches(i,e);null!==n&&o.push(n)}}),t({results:o})},n.prototype.addOptions=function(t){e.appendMany(this.$element,t)},n.prototype.option=function(t){var e;t.children?(e=document.createElement("optgroup")).label=t.text:void 0!==(e=document.createElement("option")).textContent?e.textContent=t.text:e.innerText=t.text,void 0!==t.id&&(e.value=t.id),t.disabled&&(e.disabled=!0),t.selected&&(e.selected=!0),t.title&&(e.title=t.title);var n=s(e),i=this._normalizeItem(t);return i.element=e,s.data(e,"data",i),n},n.prototype.item=function(t){var e={};if(null!=(e=s.data(t[0],"data")))return e;if(t.is("option"))e={id:t.val(),text:t.text(),disabled:t.prop("disabled"),selected:t.prop("selected"),title:t.prop("title")};else if(t.is("optgroup")){e={text:t.prop("label"),children:[],title:t.prop("title")};for(var n=t.children("option"),i=[],o=0;o<n.length;o++){var r=s(n[o]),a=this.item(r);i.push(a)}e.children=i}return(e=this._normalizeItem(e)).element=t[0],s.data(t[0],"data",e),e},n.prototype._normalizeItem=function(t){s.isPlainObject(t)||(t={id:t,text:t});return null!=(t=s.extend({},{text:""},t)).id&&(t.id=t.id.toString()),null!=t.text&&(t.text=t.text.toString()),null==t._resultId&&t.id&&null!=this.container&&(t._resultId=this.generateResultId(this.container,t)),s.extend({},{selected:!1,disabled:!1},t)},n.prototype.matches=function(t,e){return this.options.get("matcher")(t,e)},n}),t.define("select2/data/array",["./select","../utils","jquery"],function(t,f,g){function i(t,e){var n=e.get("data")||[];i.__super__.constructor.call(this,t,e),this.addOptions(this.convertToOptions(n))}return f.Extend(i,t),i.prototype.select=function(n){var t=this.$element.find("option").filter(function(t,e){return e.value==n.id.toString()});0===t.length&&(t=this.option(n),this.addOptions(t)),i.__super__.select.call(this,n)},i.prototype.convertToOptions=function(t){function e(t){return function(){return g(this).val()==t.id}}for(var n=this,i=this.$element.find("option"),o=i.map(function(){return n.item(g(this)).id}).get(),r=[],a=0;a<t.length;a++){var s=this._normalizeItem(t[a]);if(0<=g.inArray(s.id,o)){var l=i.filter(e(s)),u=this.item(l),c=g.extend(!0,{},s,u),p=this.option(c);l.replaceWith(p)}else{var h=this.option(s);if(s.children){var d=this.convertToOptions(s.children);f.appendMany(h,d)}r.push(h)}}return r},i}),t.define("select2/data/ajax",["./array","../utils","jquery"],function(t,e,r){function n(t,e){this.ajaxOptions=this._applyDefaults(e.get("ajax")),null!=this.ajaxOptions.processResults&&(this.processResults=this.ajaxOptions.processResults),n.__super__.constructor.call(this,t,e)}return e.Extend(n,t),n.prototype._applyDefaults=function(t){var e={data:function(t){return r.extend({},t,{q:t.term})},transport:function(t,e,n){var i=r.ajax(t);return i.then(e),i.fail(n),i}};return r.extend({},e,t,!0)},n.prototype.processResults=function(t){return t},n.prototype.query=function(n,i){function t(){var t=e.transport(e,function(t){var e=o.processResults(t,n);o.options.get("debug")&&window.console&&console.error&&(e&&e.results&&r.isArray(e.results)||console.error("Select2: The AJAX results did not return an array in the `results` key of the response.")),i(e)},function(){t.status&&"0"===t.status||o.trigger("results:message",{message:"errorLoading"})});o._request=t}var o=this;null!=this._request&&(r.isFunction(this._request.abort)&&this._request.abort(),this._request=null);var e=r.extend({type:"GET"},this.ajaxOptions);"function"==typeof e.url&&(e.url=e.url.call(this.$element,n)),"function"==typeof e.data&&(e.data=e.data.call(this.$element,n)),this.ajaxOptions.delay&&null!=n.term?(this._queryTimeout&&window.clearTimeout(this._queryTimeout),this._queryTimeout=window.setTimeout(t,this.ajaxOptions.delay)):t()},n}),t.define("select2/data/tags",["jquery"],function(c){function t(t,e,n){var i=n.get("tags"),o=n.get("createTag");void 0!==o&&(this.createTag=o);var r=n.get("insertTag");if(void 0!==r&&(this.insertTag=r),t.call(this,e,n),c.isArray(i))for(var a=0;a<i.length;a++){var s=i[a],l=this._normalizeItem(s),u=this.option(l);this.$element.append(u)}}return t.prototype.query=function(t,u,c){var p=this;return this._removeOldTags(),null==u.term||null!=u.page?void t.call(this,u,c):void t.call(this,u,function t(e,n){for(var i=e.results,o=0;o<i.length;o++){var r=i[o],a=null!=r.children&&!t({results:r.children},!0);if((r.text||"").toUpperCase()===(u.term||"").toUpperCase()||a)return!n&&(e.data=i,void c(e))}if(n)return!0;var s=p.createTag(u);if(null!=s){var l=p.option(s);l.attr("data-select2-tag",!0),p.addOptions([l]),p.insertTag(i,s)}e.results=i,c(e)})},t.prototype.createTag=function(t,e){var n=c.trim(e.term);return""===n?null:{id:n,text:n}},t.prototype.insertTag=function(t,e,n){e.unshift(n)},t.prototype._removeOldTags=function(t){(this._lastTag,this.$element.find("option[data-select2-tag]")).each(function(){this.selected||c(this).remove()})},t}),t.define("select2/data/tokenizer",["jquery"],function(p){function t(t,e,n){var i=n.get("tokenizer");void 0!==i&&(this.tokenizer=i),t.call(this,e,n)}return t.prototype.bind=function(t,e,n){t.call(this,e,n),this.$search=e.dropdown.$search||e.selection.$search||n.find(".select2-search__field")},t.prototype.query=function(t,e,n){var o=this;e.term=e.term||"";var i=this.tokenizer(e,this.options,function(t){var e,n=o._normalizeItem(t);if(!o.$element.find("option").filter(function(){return p(this).val()===n.id}).length){var i=o.option(n);i.attr("data-select2-tag",!0),o._removeOldTags(),o.addOptions([i])}e=n,o.trigger("select",{data:e})});i.term!==e.term&&(this.$search.length&&(this.$search.val(i.term),this.$search.focus()),e.term=i.term),t.call(this,e,n)},t.prototype.tokenizer=function(t,e,n,i){for(var o=n.get("tokenSeparators")||[],r=e.term,a=0,s=this.createTag||function(t){return{id:t.term,text:t.term}};a<r.length;){var l=r[a];if(-1!==p.inArray(l,o)){var u=r.substr(0,a),c=s(p.extend({},e,{term:u}));null!=c?(i(c),r=r.substr(a+1)||"",a=0):a++}else a++}return{term:r}},t}),t.define("select2/data/minimumInputLength",[],function(){function t(t,e,n){this.minimumInputLength=n.get("minimumInputLength"),t.call(this,e,n)}return t.prototype.query=function(t,e,n){return e.term=e.term||"",e.term.length<this.minimumInputLength?void this.trigger("results:message",{message:"inputTooShort",args:{minimum:this.minimumInputLength,input:e.term,params:e}}):void t.call(this,e,n)},t}),t.define("select2/data/maximumInputLength",[],function(){function t(t,e,n){this.maximumInputLength=n.get("maximumInputLength"),t.call(this,e,n)}return t.prototype.query=function(t,e,n){return e.term=e.term||"",0<this.maximumInputLength&&e.term.length>this.maximumInputLength?void this.trigger("results:message",{message:"inputTooLong",args:{maximum:this.maximumInputLength,input:e.term,params:e}}):void t.call(this,e,n)},t}),t.define("select2/data/maximumSelectionLength",[],function(){function t(t,e,n){this.maximumSelectionLength=n.get("maximumSelectionLength"),t.call(this,e,n)}return t.prototype.query=function(n,i,o){var r=this;this.current(function(t){var e=null!=t?t.length:0;return 0<r.maximumSelectionLength&&e>=r.maximumSelectionLength?void r.trigger("results:message",{message:"maximumSelected",args:{maximum:r.maximumSelectionLength}}):void n.call(r,i,o)})},t}),t.define("select2/dropdown",["jquery","./utils"],function(e,t){function n(t,e){this.$element=t,this.options=e,n.__super__.constructor.call(this)}return t.Extend(n,t.Observable),n.prototype.render=function(){var t=e('<span class="select2-dropdown"><span class="select2-results"></span></span>');return t.attr("dir",this.options.get("dir")),this.$dropdown=t},n.prototype.bind=function(){},n.prototype.position=function(t,e){},n.prototype.destroy=function(){this.$dropdown.remove()},n}),t.define("select2/dropdown/search",["jquery","../utils"],function(o,t){function e(){}return e.prototype.render=function(t){var e=t.call(this),n=o('<span class="select2-search select2-search--dropdown"><input class="select2-search__field" type="search" tabindex="-1" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" role="textbox" /></span>');return this.$searchContainer=n,this.$search=n.find("input"),e.prepend(n),e},e.prototype.bind=function(t,e,n){var i=this;t.call(this,e,n),this.$search.on("keydown",function(t){i.trigger("keypress",t),i._keyUpPrevented=t.isDefaultPrevented()}),this.$search.on("input",function(t){o(this).off("keyup")}),this.$search.on("keyup input",function(t){i.handleSearch(t)}),e.on("open",function(){i.$search.attr("tabindex",0),i.$search.focus(),window.setTimeout(function(){i.$search.focus()},0)}),e.on("close",function(){i.$search.attr("tabindex",-1),i.$search.val("")}),e.on("focus",function(){e.isOpen()&&i.$search.focus()}),e.on("results:all",function(t){null!=t.query.term&&""!==t.query.term||(i.showSearch(t)?i.$searchContainer.removeClass("select2-search--hide"):i.$searchContainer.addClass("select2-search--hide"))})},e.prototype.handleSearch=function(t){if(!this._keyUpPrevented){var e=this.$search.val();this.trigger("query",{term:e})}this._keyUpPrevented=!1},e.prototype.showSearch=function(t,e){return!0},e}),t.define("select2/dropdown/hidePlaceholder",[],function(){function t(t,e,n,i){this.placeholder=this.normalizePlaceholder(n.get("placeholder")),t.call(this,e,n,i)}return t.prototype.append=function(t,e){e.results=this.removePlaceholder(e.results),t.call(this,e)},t.prototype.normalizePlaceholder=function(t,e){return"string"==typeof e&&(e={id:"",text:e}),e},t.prototype.removePlaceholder=function(t,e){for(var n=e.slice(0),i=e.length-1;0<=i;i--){var o=e[i];this.placeholder.id===o.id&&n.splice(i,1)}return n},t}),t.define("select2/dropdown/infiniteScroll",["jquery"],function(o){function t(t,e,n,i){this.lastParams={},t.call(this,e,n,i),this.$loadingMore=this.createLoadingMore(),this.loading=!1}return t.prototype.append=function(t,e){this.$loadingMore.remove(),this.loading=!1,t.call(this,e),this.showLoadingMore(e)&&this.$results.append(this.$loadingMore)},t.prototype.bind=function(t,e,n){var i=this;t.call(this,e,n),e.on("query",function(t){i.lastParams=t,i.loading=!0}),e.on("query:append",function(t){i.lastParams=t,i.loading=!0}),this.$results.on("scroll",function(){var t=o.contains(document.documentElement,i.$loadingMore[0]);if(!i.loading&&t){var e=i.$results.offset().top+i.$results.outerHeight(!1);i.$loadingMore.offset().top+i.$loadingMore.outerHeight(!1)<=e+50&&i.loadMore()}})},t.prototype.loadMore=function(){this.loading=!0;var t=o.extend({},{page:1},this.lastParams);t.page++,this.trigger("query:append",t)},t.prototype.showLoadingMore=function(t,e){return e.pagination&&e.pagination.more},t.prototype.createLoadingMore=function(){var t=o('<li class="select2-results__option select2-results__option--load-more"role="treeitem" aria-disabled="true"></li>'),e=this.options.get("translations").get("loadingMore");return t.html(e(this.lastParams)),t},t}),t.define("select2/dropdown/attachBody",["jquery","../utils"],function(f,s){function t(t,e,n){this.$dropdownParent=n.get("dropdownParent")||f(document.body),t.call(this,e,n)}return t.prototype.bind=function(t,e,n){var i=this,o=!1;t.call(this,e,n),e.on("open",function(){i._showDropdown(),i._attachPositioningHandler(e),o||(o=!0,e.on("results:all",function(){i._positionDropdown(),i._resizeDropdown()}),e.on("results:append",function(){i._positionDropdown(),i._resizeDropdown()}))}),e.on("close",function(){i._hideDropdown(),i._detachPositioningHandler(e)}),this.$dropdownContainer.on("mousedown",function(t){t.stopPropagation()})},t.prototype.destroy=function(t){t.call(this),this.$dropdownContainer.remove()},t.prototype.position=function(t,e,n){e.attr("class",n.attr("class")),e.removeClass("select2"),e.addClass("select2-container--open"),e.css({position:"absolute",top:-999999}),this.$container=n},t.prototype.render=function(t){var e=f("<span></span>"),n=t.call(this);return e.append(n),this.$dropdownContainer=e},t.prototype._hideDropdown=function(t){this.$dropdownContainer.detach()},t.prototype._attachPositioningHandler=function(t,e){var n=this,i="scroll.select2."+e.id,o="resize.select2."+e.id,r="orientationchange.select2."+e.id,a=this.$container.parents().filter(s.hasScroll);a.each(function(){f(this).data("select2-scroll-position",{x:f(this).scrollLeft(),y:f(this).scrollTop()})}),a.on(i,function(t){var e=f(this).data("select2-scroll-position");f(this).scrollTop(e.y)}),f(window).on(i+" "+o+" "+r,function(t){n._positionDropdown(),n._resizeDropdown()})},t.prototype._detachPositioningHandler=function(t,e){var n="scroll.select2."+e.id,i="resize.select2."+e.id,o="orientationchange.select2."+e.id;this.$container.parents().filter(s.hasScroll).off(n),f(window).off(n+" "+i+" "+o)},t.prototype._positionDropdown=function(){var t=f(window),e=this.$dropdown.hasClass("select2-dropdown--above"),n=this.$dropdown.hasClass("select2-dropdown--below"),i=null,o=this.$container.offset();o.bottom=o.top+this.$container.outerHeight(!1);var r={height:this.$container.outerHeight(!1)};r.top=o.top,r.bottom=o.top+r.height;var a=this.$dropdown.outerHeight(!1),s=t.scrollTop(),l=t.scrollTop()+t.height(),u=s<o.top-a,c=l>o.bottom+a,p={left:o.left,top:r.bottom},h=this.$dropdownParent;"static"===h.css("position")&&(h=h.offsetParent());var d=h.offset();p.top-=d.top,p.left-=d.left,e||n||(i="below"),c||!u||e?!u&&c&&e&&(i="below"):i="above",("above"==i||e&&"below"!==i)&&(p.top=r.top-d.top-a),null!=i&&(this.$dropdown.removeClass("select2-dropdown--below select2-dropdown--above").addClass("select2-dropdown--"+i),this.$container.removeClass("select2-container--below select2-container--above").addClass("select2-container--"+i)),this.$dropdownContainer.css(p)},t.prototype._resizeDropdown=function(){var t={width:this.$container.outerWidth(!1)+"px"};this.options.get("dropdownAutoWidth")&&(t.minWidth=t.width,t.position="relative",t.width="auto"),this.$dropdown.css(t)},t.prototype._showDropdown=function(t){this.$dropdownContainer.appendTo(this.$dropdownParent),this._positionDropdown(),this._resizeDropdown()},t}),t.define("select2/dropdown/minimumResultsForSearch",[],function(){function t(t,e,n,i){this.minimumResultsForSearch=n.get("minimumResultsForSearch"),this.minimumResultsForSearch<0&&(this.minimumResultsForSearch=1/0),t.call(this,e,n,i)}return t.prototype.showSearch=function(t,e){return!(function t(e){for(var n=0,i=0;i<e.length;i++){var o=e[i];o.children?n+=t(o.children):n++}return n}(e.data.results)<this.minimumResultsForSearch)&&t.call(this,e)},t}),t.define("select2/dropdown/selectOnClose",[],function(){function t(){}return t.prototype.bind=function(t,e,n){var i=this;t.call(this,e,n),e.on("close",function(t){i._handleSelectOnClose(t)})},t.prototype._handleSelectOnClose=function(t,e){if(e&&null!=e.originalSelect2Event){var n=e.originalSelect2Event;if("select"===n._type||"unselect"===n._type)return}var i=this.getHighlightedResults();if(!(i.length<1)){var o=i.data("data");null!=o.element&&o.element.selected||null==o.element&&o.selected||this.trigger("select",{data:o})}},t}),t.define("select2/dropdown/closeOnSelect",[],function(){function t(){}return t.prototype.bind=function(t,e,n){var i=this;t.call(this,e,n),e.on("select",function(t){i._selectTriggered(t)}),e.on("unselect",function(t){i._selectTriggered(t)})},t.prototype._selectTriggered=function(t,e){var n=e.originalEvent;n&&n.ctrlKey||this.trigger("close",{originalEvent:n,originalSelect2Event:e})},t}),t.define("select2/i18n/en",[],function(){return{errorLoading:function(){return"The results could not be loaded."},inputTooLong:function(t){var e=t.input.length-t.maximum,n="Please delete "+e+" character";return 1!=e&&(n+="s"),n},inputTooShort:function(t){return"Please enter "+(t.minimum-t.input.length)+" or more characters"},loadingMore:function(){return"Loading more results"},maximumSelected:function(t){var e="You can only select "+t.maximum+" item";return 1!=t.maximum&&(e+="s"),e},noResults:function(){return"No results found"},searching:function(){return"Searching"}}}),t.define("select2/defaults",["jquery","require","./results","./selection/single","./selection/multiple","./selection/placeholder","./selection/allowClear","./selection/search","./selection/eventRelay","./utils","./translation","./diacritics","./data/select","./data/array","./data/ajax","./data/tags","./data/tokenizer","./data/minimumInputLength","./data/maximumInputLength","./data/maximumSelectionLength","./dropdown","./dropdown/search","./dropdown/hidePlaceholder","./dropdown/infiniteScroll","./dropdown/attachBody","./dropdown/minimumResultsForSearch","./dropdown/selectOnClose","./dropdown/closeOnSelect","./i18n/en"],function(f,g,m,v,y,b,w,x,$,_,k,e,C,S,T,A,D,M,E,P,O,I,R,L,F,N,j,B,t){function n(){this.reset()}return n.prototype.apply=function(e){if(null==(e=f.extend(!0,{},this.defaults,e)).dataAdapter){if(null!=e.ajax?e.dataAdapter=T:null!=e.data?e.dataAdapter=S:e.dataAdapter=C,0<e.minimumInputLength&&(e.dataAdapter=_.Decorate(e.dataAdapter,M)),0<e.maximumInputLength&&(e.dataAdapter=_.Decorate(e.dataAdapter,E)),0<e.maximumSelectionLength&&(e.dataAdapter=_.Decorate(e.dataAdapter,P)),e.tags&&(e.dataAdapter=_.Decorate(e.dataAdapter,A)),(null!=e.tokenSeparators||null!=e.tokenizer)&&(e.dataAdapter=_.Decorate(e.dataAdapter,D)),null!=e.query){var t=g(e.amdBase+"compat/query");e.dataAdapter=_.Decorate(e.dataAdapter,t)}if(null!=e.initSelection){var n=g(e.amdBase+"compat/initSelection");e.dataAdapter=_.Decorate(e.dataAdapter,n)}}if(null==e.resultsAdapter&&(e.resultsAdapter=m,null!=e.ajax&&(e.resultsAdapter=_.Decorate(e.resultsAdapter,L)),null!=e.placeholder&&(e.resultsAdapter=_.Decorate(e.resultsAdapter,R)),e.selectOnClose&&(e.resultsAdapter=_.Decorate(e.resultsAdapter,j))),null==e.dropdownAdapter){if(e.multiple)e.dropdownAdapter=O;else{var i=_.Decorate(O,I);e.dropdownAdapter=i}if(0!==e.minimumResultsForSearch&&(e.dropdownAdapter=_.Decorate(e.dropdownAdapter,N)),e.closeOnSelect&&(e.dropdownAdapter=_.Decorate(e.dropdownAdapter,B)),null!=e.dropdownCssClass||null!=e.dropdownCss||null!=e.adaptDropdownCssClass){var o=g(e.amdBase+"compat/dropdownCss");e.dropdownAdapter=_.Decorate(e.dropdownAdapter,o)}e.dropdownAdapter=_.Decorate(e.dropdownAdapter,F)}if(null==e.selectionAdapter){if(e.multiple?e.selectionAdapter=y:e.selectionAdapter=v,null!=e.placeholder&&(e.selectionAdapter=_.Decorate(e.selectionAdapter,b)),e.allowClear&&(e.selectionAdapter=_.Decorate(e.selectionAdapter,w)),e.multiple&&(e.selectionAdapter=_.Decorate(e.selectionAdapter,x)),null!=e.containerCssClass||null!=e.containerCss||null!=e.adaptContainerCssClass){var r=g(e.amdBase+"compat/containerCss");e.selectionAdapter=_.Decorate(e.selectionAdapter,r)}e.selectionAdapter=_.Decorate(e.selectionAdapter,$)}if("string"==typeof e.language)if(0<e.language.indexOf("-")){var a=e.language.split("-")[0];e.language=[e.language,a]}else e.language=[e.language];if(f.isArray(e.language)){var s=new k;e.language.push("en");for(var l=e.language,u=0;u<l.length;u++){var c=l[u],p={};try{p=k.loadPath(c)}catch(t){try{c=this.defaults.amdLanguageBase+c,p=k.loadPath(c)}catch(t){e.debug&&window.console&&console.warn&&console.warn('Select2: The language file for "'+c+'" could not be automatically loaded. A fallback will be used instead.');continue}}s.extend(p)}e.translations=s}else{var h=k.loadPath(this.defaults.amdLanguageBase+"en"),d=new k(e.language);d.extend(h),e.translations=d}return e},n.prototype.reset=function(){function s(t){return t.replace(/[^\u0000-\u007E]/g,function(t){return e[t]||t})}this.defaults={amdBase:"./",amdLanguageBase:"./i18n/",closeOnSelect:!0,debug:!1,dropdownAutoWidth:!1,escapeMarkup:_.escapeMarkup,language:t,matcher:function t(e,n){if(""===f.trim(e.term))return n;if(n.children&&0<n.children.length){for(var i=f.extend(!0,{},n),o=n.children.length-1;0<=o;o--)null==t(e,n.children[o])&&i.children.splice(o,1);return 0<i.children.length?i:t(e,i)}var r=s(n.text).toUpperCase(),a=s(e.term).toUpperCase();return-1<r.indexOf(a)?n:null},minimumInputLength:0,maximumInputLength:0,maximumSelectionLength:0,minimumResultsForSearch:0,selectOnClose:!1,sorter:function(t){return t},templateResult:function(t){return t.text},templateSelection:function(t){return t.text},theme:"default",width:"resolve"}},n.prototype.set=function(t,e){var n={};n[f.camelCase(t)]=e;var i=_._convertData(n);f.extend(this.defaults,i)},new n}),t.define("select2/options",["require","jquery","./defaults","./utils"],function(i,r,o,a){function t(t,e){if(this.options=t,null!=e&&this.fromElement(e),this.options=o.apply(this.options),e&&e.is("input")){var n=i(this.get("amdBase")+"compat/inputData");this.options.dataAdapter=a.Decorate(this.options.dataAdapter,n)}}return t.prototype.fromElement=function(t){var e=["select2"];null==this.options.multiple&&(this.options.multiple=t.prop("multiple")),null==this.options.disabled&&(this.options.disabled=t.prop("disabled")),null==this.options.language&&(t.prop("lang")?this.options.language=t.prop("lang").toLowerCase():t.closest("[lang]").prop("lang")&&(this.options.language=t.closest("[lang]").prop("lang"))),null==this.options.dir&&(t.prop("dir")?this.options.dir=t.prop("dir"):t.closest("[dir]").prop("dir")?this.options.dir=t.closest("[dir]").prop("dir"):this.options.dir="ltr"),t.prop("disabled",this.options.disabled),t.prop("multiple",this.options.multiple),t.data("select2Tags")&&(this.options.debug&&window.console&&console.warn&&console.warn('Select2: The `data-select2-tags` attribute has been changed to use the `data-data` and `data-tags="true"` attributes and will be removed in future versions of Select2.'),t.data("data",t.data("select2Tags")),t.data("tags",!0)),t.data("ajaxUrl")&&(this.options.debug&&window.console&&console.warn&&console.warn("Select2: The `data-ajax-url` attribute has been changed to `data-ajax--url` and support for the old attribute will be removed in future versions of Select2."),t.attr("ajax--url",t.data("ajaxUrl")),t.data("ajax--url",t.data("ajaxUrl")));var n;n=r.fn.jquery&&"1."==r.fn.jquery.substr(0,2)&&t[0].dataset?r.extend(!0,{},t[0].dataset,t.data()):t.data();var i=r.extend(!0,{},n);for(var o in i=a._convertData(i))-1<r.inArray(o,e)||(r.isPlainObject(this.options[o])?r.extend(this.options[o],i[o]):this.options[o]=i[o]);return this},t.prototype.get=function(t){return this.options[t]},t.prototype.set=function(t,e){this.options[t]=e},t}),t.define("select2/core",["jquery","./options","./utils","./keys"],function(o,u,n,i){var c=function(t,e){null!=t.data("select2")&&t.data("select2").destroy(),this.$element=t,this.id=this._generateId(t),e=e||{},this.options=new u(e,t),c.__super__.constructor.call(this);var n=t.attr("tabindex")||0;t.data("old-tabindex",n),t.attr("tabindex","-1");var i=this.options.get("dataAdapter");this.dataAdapter=new i(t,this.options);var o=this.render();this._placeContainer(o);var r=this.options.get("selectionAdapter");this.selection=new r(t,this.options),this.$selection=this.selection.render(),this.selection.position(this.$selection,o);var a=this.options.get("dropdownAdapter");this.dropdown=new a(t,this.options),this.$dropdown=this.dropdown.render(),this.dropdown.position(this.$dropdown,o);var s=this.options.get("resultsAdapter");this.results=new s(t,this.options,this.dataAdapter),this.$results=this.results.render(),this.results.position(this.$results,this.$dropdown);var l=this;this._bindAdapters(),this._registerDomEvents(),this._registerDataEvents(),this._registerSelectionEvents(),this._registerDropdownEvents(),this._registerResultsEvents(),this._registerEvents(),this.dataAdapter.current(function(t){l.trigger("selection:update",{data:t})}),t.addClass("select2-hidden-accessible"),t.attr("aria-hidden","true"),this._syncAttributes(),t.data("select2",this)};return n.Extend(c,n.Observable),c.prototype._generateId=function(t){return"select2-"+(null!=t.attr("id")?t.attr("id"):null!=t.attr("name")?t.attr("name")+"-"+n.generateChars(2):n.generateChars(4)).replace(/(:|\.|\[|\]|,)/g,"")},c.prototype._placeContainer=function(t){t.insertAfter(this.$element);var e=this._resolveWidth(this.$element,this.options.get("width"));null!=e&&t.css("width",e)},c.prototype._resolveWidth=function(t,e){var n=/^width:(([-+]?([0-9]*\.)?[0-9]+)(px|em|ex|%|in|cm|mm|pt|pc))/i;if("resolve"==e){var i=this._resolveWidth(t,"style");return null!=i?i:this._resolveWidth(t,"element")}if("element"==e){var o=t.outerWidth(!1);return o<=0?"auto":o+"px"}if("style"!=e)return e;var r=t.attr("style");if("string"!=typeof r)return null;for(var a=r.split(";"),s=0,l=a.length;s<l;s+=1){var u=a[s].replace(/\s/g,"").match(n);if(null!==u&&1<=u.length)return u[1]}return null},c.prototype._bindAdapters=function(){this.dataAdapter.bind(this,this.$container),this.selection.bind(this,this.$container),this.dropdown.bind(this,this.$container),this.results.bind(this,this.$container)},c.prototype._registerDomEvents=function(){var e=this;this.$element.on("change.select2",function(){e.dataAdapter.current(function(t){e.trigger("selection:update",{data:t})})}),this.$element.on("focus.select2",function(t){e.trigger("focus",t)}),this._syncA=n.bind(this._syncAttributes,this),this._syncS=n.bind(this._syncSubtree,this),this.$element[0].attachEvent&&this.$element[0].attachEvent("onpropertychange",this._syncA);var t=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver;null!=t?(this._observer=new t(function(t){o.each(t,e._syncA),o.each(t,e._syncS)}),this._observer.observe(this.$element[0],{attributes:!0,childList:!0,subtree:!1})):this.$element[0].addEventListener&&(this.$element[0].addEventListener("DOMAttrModified",e._syncA,!1),this.$element[0].addEventListener("DOMNodeInserted",e._syncS,!1),this.$element[0].addEventListener("DOMNodeRemoved",e._syncS,!1))},c.prototype._registerDataEvents=function(){var n=this;this.dataAdapter.on("*",function(t,e){n.trigger(t,e)})},c.prototype._registerSelectionEvents=function(){var n=this,i=["toggle","focus"];this.selection.on("toggle",function(){n.toggleDropdown()}),this.selection.on("focus",function(t){n.focus(t)}),this.selection.on("*",function(t,e){-1===o.inArray(t,i)&&n.trigger(t,e)})},c.prototype._registerDropdownEvents=function(){var n=this;this.dropdown.on("*",function(t,e){n.trigger(t,e)})},c.prototype._registerResultsEvents=function(){var n=this;this.results.on("*",function(t,e){n.trigger(t,e)})},c.prototype._registerEvents=function(){var n=this;this.on("open",function(){n.$container.addClass("select2-container--open")}),this.on("close",function(){n.$container.removeClass("select2-container--open")}),this.on("enable",function(){n.$container.removeClass("select2-container--disabled")}),this.on("disable",function(){n.$container.addClass("select2-container--disabled")}),this.on("blur",function(){n.$container.removeClass("select2-container--focus")}),this.on("query",function(e){n.isOpen()||n.trigger("open",{}),this.dataAdapter.query(e,function(t){n.trigger("results:all",{data:t,query:e})})}),this.on("query:append",function(e){this.dataAdapter.query(e,function(t){n.trigger("results:append",{data:t,query:e})})}),this.on("keypress",function(t){var e=t.which;n.isOpen()?e===i.ESC||e===i.TAB||e===i.UP&&t.altKey?(n.close(),t.preventDefault()):e===i.ENTER?(n.trigger("results:select",{}),t.preventDefault()):e===i.SPACE&&t.ctrlKey?(n.trigger("results:toggle",{}),t.preventDefault()):e===i.UP?(n.trigger("results:previous",{}),t.preventDefault()):e===i.DOWN&&(n.trigger("results:next",{}),t.preventDefault()):(e===i.ENTER||e===i.SPACE||e===i.DOWN&&t.altKey)&&(n.open(),t.preventDefault())})},c.prototype._syncAttributes=function(){this.options.set("disabled",this.$element.prop("disabled")),this.options.get("disabled")?(this.isOpen()&&this.close(),this.trigger("disable",{})):this.trigger("enable",{})},c.prototype._syncSubtree=function(t,e){var n=!1,i=this;if(!t||!t.target||"OPTION"===t.target.nodeName||"OPTGROUP"===t.target.nodeName){if(e)if(e.addedNodes&&0<e.addedNodes.length)for(var o=0;o<e.addedNodes.length;o++){e.addedNodes[o].selected&&(n=!0)}else e.removedNodes&&0<e.removedNodes.length&&(n=!0);else n=!0;n&&this.dataAdapter.current(function(t){i.trigger("selection:update",{data:t})})}},c.prototype.trigger=function(t,e){var n=c.__super__.trigger,i={open:"opening",close:"closing",select:"selecting",unselect:"unselecting"};if(void 0===e&&(e={}),t in i){var o=i[t],r={prevented:!1,name:t,args:e};if(n.call(this,o,r),r.prevented)return void(e.prevented=!0)}n.call(this,t,e)},c.prototype.toggleDropdown=function(){this.options.get("disabled")||(this.isOpen()?this.close():this.open())},c.prototype.open=function(){this.isOpen()||this.trigger("query",{})},c.prototype.close=function(){this.isOpen()&&this.trigger("close",{})},c.prototype.isOpen=function(){return this.$container.hasClass("select2-container--open")},c.prototype.hasFocus=function(){return this.$container.hasClass("select2-container--focus")},c.prototype.focus=function(t){this.hasFocus()||(this.$container.addClass("select2-container--focus"),this.trigger("focus",{}))},c.prototype.enable=function(t){this.options.get("debug")&&window.console&&console.warn&&console.warn('Select2: The `select2("enable")` method has been deprecated and will be removed in later Select2 versions. Use $element.prop("disabled") instead.'),(null==t||0===t.length)&&(t=[!0]);var e=!t[0];this.$element.prop("disabled",e)},c.prototype.data=function(){this.options.get("debug")&&0<arguments.length&&window.console&&console.warn&&console.warn('Select2: Data can no longer be set using `select2("data")`. You should consider setting the value instead using `$element.val()`.');var e=[];return this.dataAdapter.current(function(t){e=t}),e},c.prototype.val=function(t){if(this.options.get("debug")&&window.console&&console.warn&&console.warn('Select2: The `select2("val")` method has been deprecated and will be removed in later Select2 versions. Use $element.val() instead.'),null==t||0===t.length)return this.$element.val();var e=t[0];o.isArray(e)&&(e=o.map(e,function(t){return t.toString()})),this.$element.val(e).trigger("change")},c.prototype.destroy=function(){this.$container.remove(),this.$element[0].detachEvent&&this.$element[0].detachEvent("onpropertychange",this._syncA),null!=this._observer?(this._observer.disconnect(),this._observer=null):this.$element[0].removeEventListener&&(this.$element[0].removeEventListener("DOMAttrModified",this._syncA,!1),this.$element[0].removeEventListener("DOMNodeInserted",this._syncS,!1),this.$element[0].removeEventListener("DOMNodeRemoved",this._syncS,!1)),this._syncA=null,this._syncS=null,this.$element.off(".select2"),this.$element.attr("tabindex",this.$element.data("old-tabindex")),this.$element.removeClass("select2-hidden-accessible"),this.$element.attr("aria-hidden","false"),this.$element.removeData("select2"),this.dataAdapter.destroy(),this.selection.destroy(),this.dropdown.destroy(),this.results.destroy(),this.dataAdapter=null,this.selection=null,this.dropdown=null,this.results=null},c.prototype.render=function(){var t=o('<span class="select2 select2-container"><span class="selection"></span><span class="dropdown-wrapper" aria-hidden="true"></span></span>');return t.attr("dir",this.options.get("dir")),this.$container=t,this.$container.addClass("select2-container--"+this.options.get("theme")),t.data("element",this.$element),t},c}),t.define("jquery-mousewheel",["jquery"],function(t){return t}),t.define("jquery.select2",["jquery","jquery-mousewheel","./select2/core","./select2/defaults"],function(o,t,r,e){if(null==o.fn.select2){var a=["open","close","destroy"];o.fn.select2=function(e){if("object"==typeof(e=e||{}))return this.each(function(){var t=o.extend(!0,{},e);new r(o(this),t)}),this;if("string"!=typeof e)throw new Error("Invalid arguments for Select2: "+e);var n,i=Array.prototype.slice.call(arguments,1);return this.each(function(){var t=o(this).data("select2");null==t&&window.console&&console.error&&console.error("The select2('"+e+"') method was called on an element that is not using Select2."),n=t[e].apply(t,i)}),-1<o.inArray(e,a)?this:n}}return null==o.fn.select2.defaults&&(o.fn.select2.defaults=e),r}),{define:t.define,require:t.require}}(),e=t.require("jquery.select2");return n.fn.select2.amd=t,e}),function(n){"function"==typeof define&&define.amd?define(["jquery"],n):"object"==typeof module&&module.exports?module.exports=function(t,e){return void 0===e&&(e="undefined"!=typeof window?require("jquery"):require("jquery")(t)),n(e),e}:n(jQuery)}(function(n){var t=function(){if(n&&n.fn&&n.fn.select2&&n.fn.select2.amd)var t=n.fn.select2.amd;var e,o,u,c;return t&&t.requirejs||(t?u=t:t={},function(h){function d(t,e){return n.call(t,e)}function a(t,e){var n,i,o,r,a,s,l,u,c,p,h,d=e&&e.split("/"),f=x.map,g=f&&f["*"]||{};if(t&&"."===t.charAt(0))if(e){for(a=(t=t.split("/")).length-1,x.nodeIdCompat&&_.test(t[a])&&(t[a]=t[a].replace(_,"")),t=d.slice(0,d.length-1).concat(t),c=0;c<t.length;c+=1)if("."===(h=t[c]))t.splice(c,1),c-=1;else if(".."===h){if(1===c&&(".."===t[2]||".."===t[0]))break;0<c&&(t.splice(c-1,2),c-=2)}t=t.join("/")}else 0===t.indexOf("./")&&(t=t.substring(2));if((d||g)&&f){for(c=(n=t.split("/")).length;0<c;c-=1){if(i=n.slice(0,c).join("/"),d)for(p=d.length;0<p;p-=1)if((o=f[d.slice(0,p).join("/")])&&(o=o[i])){r=o,s=c;break}if(r)break;!l&&g&&g[i]&&(l=g[i],u=c)}!r&&l&&(r=l,s=u),r&&(n.splice(0,s,r),t=n.join("/"))}return t}function f(e,n){return function(){var t=i.call(arguments,0);return"string"!=typeof t[0]&&1===t.length&&t.push(null),l.apply(h,t.concat([e,n]))}}function g(e){return function(t){b[e]=t}}function m(t){if(d(w,t)){var e=w[t];delete w[t],$[t]=!0,r.apply(h,e)}if(!d(b,t)&&!d($,t))throw new Error("No "+t);return b[t]}function s(t){var e,n=t?t.indexOf("!"):-1;return-1<n&&(e=t.substring(0,n),t=t.substring(n+1,t.length)),[e,t]}var r,l,v,y,b={},w={},x={},$={},n=Object.prototype.hasOwnProperty,i=[].slice,_=/\.js$/;v=function(t,e){var n,i,o=s(t),r=o[0];return t=o[1],r&&(n=m(r=a(r,e))),r?t=n&&n.normalize?n.normalize(t,(i=e,function(t){return a(t,i)})):a(t,e):(r=(o=s(t=a(t,e)))[0],t=o[1],r&&(n=m(r))),{f:r?r+"!"+t:t,n:t,pr:r,p:n}},y={require:function(t){return f(t)},exports:function(t){var e=b[t];return void 0!==e?e:b[t]={}},module:function(t){return{id:t,uri:"",exports:b[t],config:(e=t,function(){return x&&x.config&&x.config[e]||{}})};var e}},r=function(t,e,n,i){var o,r,a,s,l,u,c=[],p=typeof n;if(i=i||t,"undefined"===p||"function"===p){for(e=!e.length&&n.length?["require","exports","module"]:e,l=0;l<e.length;l+=1)if("require"===(r=(s=v(e[l],i)).f))c[l]=y.require(t);else if("exports"===r)c[l]=y.exports(t),u=!0;else if("module"===r)o=c[l]=y.module(t);else if(d(b,r)||d(w,r)||d($,r))c[l]=m(r);else{if(!s.p)throw new Error(t+" missing "+r);s.p.load(s.n,f(i,!0),g(r),{}),c[l]=b[r]}a=n?n.apply(b[t],c):void 0,t&&(o&&o.exports!==h&&o.exports!==b[t]?b[t]=o.exports:a===h&&u||(b[t]=a))}else t&&(b[t]=n)},o=u=l=function(t,e,n,i,o){if("string"==typeof t)return y[t]?y[t](e):m(v(t,e).f);if(!t.splice){if((x=t).deps&&l(x.deps,x.callback),!e)return;e.splice?(t=e,e=n,n=null):t=h}return e=e||function(){},"function"==typeof n&&(n=i,i=o),i?r(h,t,e,n):setTimeout(function(){r(h,t,e,n)},4),l},l.config=function(t){return l(t)},o._defined=b,(c=function(t,e,n){if("string"!=typeof t)throw new Error("See almond README: incorrect module build, no module name");e.splice||(n=e,e=[]),d(b,t)||d(w,t)||(w[t]=[t,e,n])}).amd={jQuery:!0}}(),t.requirejs=o,t.require=u,t.define=c),t.define("almond",function(){}),t.define("jquery",[],function(){var t=n||$;return null==t&&console&&console.error&&console.error("Select2: An instance of jQuery or a jQuery-compatible library was not found. Make sure that you are including jQuery before Select2 on your web page."),t}),t.define("select2/utils",["jquery"],function(r){function c(t){var e=t.prototype,n=[];for(var i in e){"function"==typeof e[i]&&"constructor"!==i&&n.push(i)}return n}var t={Extend:function(t,e){function n(){this.constructor=t}var i={}.hasOwnProperty;for(var o in e)i.call(e,o)&&(t[o]=e[o]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},Decorate:function(i,o){function r(){var t=Array.prototype.unshift,e=o.prototype.constructor.length,n=i.prototype.constructor;0<e&&(t.call(arguments,i.prototype.constructor),n=o.prototype.constructor),n.apply(this,arguments)}var t=c(o),e=c(i);o.displayName=i.displayName,r.prototype=new function(){this.constructor=r};for(var n=0;n<e.length;n++){var a=e[n];r.prototype[a]=i.prototype[a]}for(var s=function(t){var e=function(){};t in r.prototype&&(e=r.prototype[t]);var n=o.prototype[t];return function(){return Array.prototype.unshift.call(arguments,e),n.apply(this,arguments)}},l=0;l<t.length;l++){var u=t[l];r.prototype[u]=s(u)}return r}},e=function(){this.listeners={}};return e.prototype.on=function(t,e){this.listeners=this.listeners||{},t in this.listeners?this.listeners[t].push(e):this.listeners[t]=[e]},e.prototype.trigger=function(t){var e=Array.prototype.slice,n=e.call(arguments,1);this.listeners=this.listeners||{},null==n&&(n=[]),0===n.length&&n.push({}),(n[0]._type=t)in this.listeners&&this.invoke(this.listeners[t],e.call(arguments,1)),"*"in this.listeners&&this.invoke(this.listeners["*"],arguments)},e.prototype.invoke=function(t,e){for(var n=0,i=t.length;n<i;n++)t[n].apply(this,e)},t.Observable=e,t.generateChars=function(t){for(var e="",n=0;n<t;n++){e+=Math.floor(36*Math.random()).toString(36)}return e},t.bind=function(t,e){return function(){t.apply(e,arguments)}},t._convertData=function(t){for(var e in t){var n=e.split("-"),i=t;if(1!==n.length){for(var o=0;o<n.length;o++){var r=n[o];(r=r.substring(0,1).toLowerCase()+r.substring(1))in i||(i[r]={}),o==n.length-1&&(i[r]=t[e]),i=i[r]}delete t[e]}}return t},t.hasScroll=function(t,e){var n=r(e),i=e.style.overflowX,o=e.style.overflowY;return(i!==o||"hidden"!==o&&"visible"!==o)&&("scroll"===i||"scroll"===o||(n.innerHeight()<e.scrollHeight||n.innerWidth()<e.scrollWidth))},t.escapeMarkup=function(t){var e={"\\":"&#92;","&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#47;"};return"string"!=typeof t?t:String(t).replace(/[&<>"'\/\\]/g,function(t){return e[t]})},t.appendMany=function(t,e){if("1.7"===r.fn.jquery.substr(0,3)){var n=r();r.map(e,function(t){n=n.add(t)}),e=n}t.append(e)},t}),t.define("select2/results",["jquery","./utils"],function(h,t){function i(t,e,n){this.$element=t,this.data=n,this.options=e,i.__super__.constructor.call(this)}return t.Extend(i,t.Observable),i.prototype.render=function(){var t=h('<ul class="select2-results__options" role="tree"></ul>');return this.options.get("multiple")&&t.attr("aria-multiselectable","true"),this.$results=t},i.prototype.clear=function(){this.$results.empty()},i.prototype.displayMessage=function(t){var e=this.options.get("escapeMarkup");this.clear(),this.hideLoading();var n=h('<li role="treeitem" aria-live="assertive" class="select2-results__option"></li>'),i=this.options.get("translations").get(t.message);n.append(e(i(t.args))),n[0].className+=" select2-results__message",this.$results.append(n)},i.prototype.hideMessages=function(){this.$results.find(".select2-results__message").remove()},i.prototype.append=function(t){this.hideLoading();var e=[];if(null!=t.results&&0!==t.results.length){t.results=this.sort(t.results);for(var n=0;n<t.results.length;n++){var i=t.results[n],o=this.option(i);e.push(o)}this.$results.append(e)}else 0===this.$results.children().length&&this.trigger("results:message",{message:"noResults"})},i.prototype.position=function(t,e){e.find(".select2-results").append(t)},i.prototype.sort=function(t){return this.options.get("sorter")(t)},i.prototype.highlightFirstItem=function(){var t=this.$results.find(".select2-results__option[aria-selected]"),e=t.filter("[aria-selected=true]");0<e.length?e.first().trigger("mouseenter"):t.first().trigger("mouseenter"),this.ensureHighlightVisible()},i.prototype.setClasses=function(){var e=this;this.data.current(function(t){var i=h.map(t,function(t){return t.id.toString()});e.$results.find(".select2-results__option[aria-selected]").each(function(){var t=h(this),e=h.data(this,"data"),n=""+e.id;null!=e.element&&e.element.selected||null==e.element&&-1<h.inArray(n,i)?t.attr("aria-selected","true"):t.attr("aria-selected","false")})})},i.prototype.showLoading=function(t){this.hideLoading();var e={disabled:!0,loading:!0,text:this.options.get("translations").get("searching")(t)},n=this.option(e);n.className+=" loading-results",this.$results.prepend(n)},i.prototype.hideLoading=function(){this.$results.find(".loading-results").remove()},i.prototype.option=function(t){var e=document.createElement("li");e.className="select2-results__option";var n={role:"treeitem","aria-selected":"false"};for(var i in t.disabled&&(delete n["aria-selected"],n["aria-disabled"]="true"),null==t.id&&delete n["aria-selected"],null!=t._resultId&&(e.id=t._resultId),t.title&&(e.title=t.title),t.children&&(n.role="group",n["aria-label"]=t.text,delete n["aria-selected"]),n){var o=n[i];e.setAttribute(i,o)}if(t.children){var r=h(e),a=document.createElement("strong");a.className="select2-results__group",h(a),this.template(t,a);for(var s=[],l=0;l<t.children.length;l++){var u=t.children[l],c=this.option(u);s.push(c)}var p=h("<ul></ul>",{class:"select2-results__options select2-results__options--nested"});p.append(s),r.append(a),r.append(p)}else this.template(t,e);return h.data(e,"data",t),e},i.prototype.bind=function(e,t){var l=this,n=e.id+"-results";this.$results.attr("id",n),e.on("results:all",function(t){l.clear(),l.append(t.data),e.isOpen()&&(l.setClasses(),l.highlightFirstItem())}),e.on("results:append",function(t){l.append(t.data),e.isOpen()&&l.setClasses()}),e.on("query",function(t){l.hideMessages(),l.showLoading(t)}),e.on("select",function(){e.isOpen()&&(l.setClasses(),l.highlightFirstItem())}),e.on("unselect",function(){e.isOpen()&&(l.setClasses(),l.highlightFirstItem())}),e.on("open",function(){l.$results.attr("aria-expanded","true"),l.$results.attr("aria-hidden","false"),l.setClasses(),l.ensureHighlightVisible()}),e.on("close",function(){l.$results.attr("aria-expanded","false"),l.$results.attr("aria-hidden","true"),l.$results.removeAttr("aria-activedescendant")}),e.on("results:toggle",function(){var t=l.getHighlightedResults();0!==t.length&&t.trigger("mouseup")}),e.on("results:select",function(){var t=l.getHighlightedResults();if(0!==t.length){var e=t.data("data");"true"==t.attr("aria-selected")?l.trigger("close",{}):l.trigger("select",{data:e})}}),e.on("results:previous",function(){var t=l.getHighlightedResults(),e=l.$results.find("[aria-selected]"),n=e.index(t);if(0!==n){var i=n-1;0===t.length&&(i=0);var o=e.eq(i);o.trigger("mouseenter");var r=l.$results.offset().top,a=o.offset().top,s=l.$results.scrollTop()+(a-r);0===i?l.$results.scrollTop(0):a-r<0&&l.$results.scrollTop(s)}}),e.on("results:next",function(){var t=l.getHighlightedResults(),e=l.$results.find("[aria-selected]"),n=e.index(t)+1;if(!(n>=e.length)){var i=e.eq(n);i.trigger("mouseenter");var o=l.$results.offset().top+l.$results.outerHeight(!1),r=i.offset().top+i.outerHeight(!1),a=l.$results.scrollTop()+r-o;0===n?l.$results.scrollTop(0):o<r&&l.$results.scrollTop(a)}}),e.on("results:focus",function(t){t.element.addClass("select2-results__option--highlighted")}),e.on("results:message",function(t){l.displayMessage(t)}),h.fn.mousewheel&&this.$results.on("mousewheel",function(t){var e=l.$results.scrollTop(),n=l.$results.get(0).scrollHeight-e+t.deltaY,i=0<t.deltaY&&e-t.deltaY<=0,o=t.deltaY<0&&n<=l.$results.height();i?(l.$results.scrollTop(0),t.preventDefault(),t.stopPropagation()):o&&(l.$results.scrollTop(l.$results.get(0).scrollHeight-l.$results.height()),t.preventDefault(),t.stopPropagation())}),this.$results.on("mouseup",".select2-results__option[aria-selected]",function(t){var e=h(this),n=e.data("data");return"true"===e.attr("aria-selected")?void(l.options.get("multiple")?l.trigger("unselect",{originalEvent:t,data:n}):l.trigger("close",{})):void l.trigger("select",{originalEvent:t,data:n})}),this.$results.on("mouseenter",".select2-results__option[aria-selected]",function(t){var e=h(this).data("data");l.getHighlightedResults().removeClass("select2-results__option--highlighted"),l.trigger("results:focus",{data:e,element:h(this)})})},i.prototype.getHighlightedResults=function(){return this.$results.find(".select2-results__option--highlighted")},i.prototype.destroy=function(){this.$results.remove()},i.prototype.ensureHighlightVisible=function(){var t=this.getHighlightedResults();if(0!==t.length){var e=this.$results.find("[aria-selected]").index(t),n=this.$results.offset().top,i=t.offset().top,o=this.$results.scrollTop()+(i-n),r=i-n;o-=2*t.outerHeight(!1),e<=2?this.$results.scrollTop(0):(r>this.$results.outerHeight()||r<0)&&this.$results.scrollTop(o)}},i.prototype.template=function(t,e){var n=this.options.get("templateResult"),i=this.options.get("escapeMarkup"),o=n(t,e);null==o?e.style.display="none":"string"==typeof o?e.innerHTML=i(o):h(e).append(o)},i}),t.define("select2/keys",[],function(){return{BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46}}),t.define("select2/selection/base",["jquery","../utils","../keys"],function(n,t,o){function i(t,e){this.$element=t,this.options=e,i.__super__.constructor.call(this)}return t.Extend(i,t.Observable),i.prototype.render=function(){var t=n('<span class="select2-selection" role="combobox"  aria-haspopup="true" aria-expanded="false"></span>');return this._tabindex=0,null!=this.$element.data("old-tabindex")?this._tabindex=this.$element.data("old-tabindex"):null!=this.$element.attr("tabindex")&&(this._tabindex=this.$element.attr("tabindex")),t.attr("title",this.$element.attr("title")),t.attr("tabindex",this._tabindex),this.$selection=t},i.prototype.bind=function(t,e){var n=this,i=(t.id,t.id+"-results");this.container=t,this.$selection.on("focus",function(t){n.trigger("focus",t)}),this.$selection.on("blur",function(t){n._handleBlur(t)}),this.$selection.on("keydown",function(t){n.trigger("keypress",t),t.which===o.SPACE&&t.preventDefault()}),t.on("results:focus",function(t){n.$selection.attr("aria-activedescendant",t.data._resultId)}),t.on("selection:update",function(t){n.update(t.data)}),t.on("open",function(){n.$selection.attr("aria-expanded","true"),n.$selection.attr("aria-owns",i),n._attachCloseHandler(t)}),t.on("close",function(){n.$selection.attr("aria-expanded","false"),n.$selection.removeAttr("aria-activedescendant"),n.$selection.removeAttr("aria-owns"),n.$selection.focus(),n._detachCloseHandler(t)}),t.on("enable",function(){n.$selection.attr("tabindex",n._tabindex)}),t.on("disable",function(){n.$selection.attr("tabindex","-1")})},i.prototype._handleBlur=function(t){var e=this;window.setTimeout(function(){document.activeElement==e.$selection[0]||n.contains(e.$selection[0],document.activeElement)||e.trigger("blur",t)},1)},i.prototype._attachCloseHandler=function(t){n(document.body).on("mousedown.select2."+t.id,function(t){var e=n(t.target).closest(".select2");n(".select2.select2-container--open").each(function(){var t=n(this);this!=e[0]&&t.data("element").select2("close")})})},i.prototype._detachCloseHandler=function(t){n(document.body).off("mousedown.select2."+t.id)},i.prototype.position=function(t,e){e.find(".selection").append(t)},i.prototype.destroy=function(){this._detachCloseHandler(this.container)},i.prototype.update=function(t){throw new Error("The `update` method must be defined in child classes.")},i}),t.define("select2/selection/single",["jquery","./base","../utils","../keys"],function(t,e,n,i){function o(){o.__super__.constructor.apply(this,arguments)}return n.Extend(o,e),o.prototype.render=function(){var t=o.__super__.render.call(this);return t.addClass("select2-selection--single"),t.html('<span class="select2-selection__rendered"></span><span class="select2-selection__arrow" role="presentation"><b role="presentation"></b></span>'),t},o.prototype.bind=function(e,t){var n=this;o.__super__.bind.apply(this,arguments);var i=e.id+"-container";this.$selection.find(".select2-selection__rendered").attr("id",i),this.$selection.attr("aria-labelledby",i),this.$selection.on("mousedown",function(t){1===t.which&&n.trigger("toggle",{originalEvent:t})}),this.$selection.on("focus",function(t){}),this.$selection.on("blur",function(t){}),e.on("focus",function(t){e.isOpen()||n.$selection.focus()}),e.on("selection:update",function(t){n.update(t.data)})},o.prototype.clear=function(){this.$selection.find(".select2-selection__rendered").empty()},o.prototype.display=function(t,e){var n=this.options.get("templateSelection");return this.options.get("escapeMarkup")(n(t,e))},o.prototype.selectionContainer=function(){return t("<span></span>")},o.prototype.update=function(t){if(0!==t.length){var e=t[0],n=this.$selection.find(".select2-selection__rendered"),i=this.display(e,n);n.empty().append(i),n.prop("title",e.title||e.text)}else this.clear()},o}),t.define("select2/selection/multiple",["jquery","./base","../utils"],function(i,t,s){function o(t,e){o.__super__.constructor.apply(this,arguments)}return s.Extend(o,t),o.prototype.render=function(){var t=o.__super__.render.call(this);return t.addClass("select2-selection--multiple"),t.html('<ul class="select2-selection__rendered"></ul>'),t},o.prototype.bind=function(t,e){var n=this;o.__super__.bind.apply(this,arguments),this.$selection.on("click",function(t){n.trigger("toggle",{originalEvent:t})}),this.$selection.on("click",".select2-selection__choice__remove",function(t){if(!n.options.get("disabled")){var e=i(this).parent().data("data");n.trigger("unselect",{originalEvent:t,data:e})}})},o.prototype.clear=function(){this.$selection.find(".select2-selection__rendered").empty()},o.prototype.display=function(t,e){var n=this.options.get("templateSelection");return this.options.get("escapeMarkup")(n(t,e))},o.prototype.selectionContainer=function(){return i('<li class="select2-selection__choice"><span class="select2-selection__choice__remove" role="presentation">&times;</span></li>')},o.prototype.update=function(t){if(this.clear(),0!==t.length){for(var e=[],n=0;n<t.length;n++){var i=t[n],o=this.selectionContainer(),r=this.display(i,o);o.append(r),o.prop("title",i.title||i.text),o.data("data",i),e.push(o)}var a=this.$selection.find(".select2-selection__rendered");s.appendMany(a,e)}},o}),t.define("select2/selection/placeholder",["../utils"],function(t){function e(t,e,n){this.placeholder=this.normalizePlaceholder(n.get("placeholder")),t.call(this,e,n)}return e.prototype.normalizePlaceholder=function(t,e){return"string"==typeof e&&(e={id:"",text:e}),e},e.prototype.createPlaceholder=function(t,e){var n=this.selectionContainer();return n.html(this.display(e)),n.addClass("select2-selection__placeholder").removeClass("select2-selection__choice"),n},e.prototype.update=function(t,e){var n=1==e.length&&e[0].id!=this.placeholder.id;if(1<e.length||n)return t.call(this,e);this.clear();var i=this.createPlaceholder(this.placeholder);this.$selection.find(".select2-selection__rendered").append(i)},e}),t.define("select2/selection/allowClear",["jquery","../keys"],function(i,o){function t(){}return t.prototype.bind=function(t,e,n){var i=this;t.call(this,e,n),null==this.placeholder&&this.options.get("debug")&&window.console&&console.error&&console.error("Select2: The `allowClear` option should be used in combination with the `placeholder` option."),this.$selection.on("mousedown",".select2-selection__clear",function(t){i._handleClear(t)}),e.on("keypress",function(t){i._handleKeyboardClear(t,e)})},t.prototype._handleClear=function(t,e){if(!this.options.get("disabled")){var n=this.$selection.find(".select2-selection__clear");if(0!==n.length){e.stopPropagation();for(var i=n.data("data"),o=0;o<i.length;o++){var r={data:i[o]};if(this.trigger("unselect",r),r.prevented)return}this.$element.val(this.placeholder.id).trigger("change"),this.trigger("toggle",{})}}},t.prototype._handleKeyboardClear=function(t,e,n){n.isOpen()||(e.which==o.DELETE||e.which==o.BACKSPACE)&&this._handleClear(e)},t.prototype.update=function(t,e){if(t.call(this,e),!(0<this.$selection.find(".select2-selection__placeholder").length||0===e.length)){var n=i('<span class="select2-selection__clear">&times;</span>');n.data("data",e),this.$selection.find(".select2-selection__rendered").prepend(n)}},t}),t.define("select2/selection/search",["jquery","../utils","../keys"],function(i,t,a){function e(t,e,n){t.call(this,e,n)}return e.prototype.render=function(t){var e=i('<li class="select2-search select2-search--inline"><input class="select2-search__field" type="search" tabindex="-1" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" role="textbox" aria-autocomplete="list" /></li>');this.$searchContainer=e,this.$search=e.find("input");var n=t.call(this);return this._transferTabIndex(),n},e.prototype.bind=function(t,e,n){var i=this;t.call(this,e,n),e.on("open",function(){i.$search.trigger("focus")}),e.on("close",function(){i.$search.val(""),i.$search.removeAttr("aria-activedescendant"),i.$search.trigger("focus")}),e.on("enable",function(){i.$search.prop("disabled",!1),i._transferTabIndex()}),e.on("disable",function(){i.$search.prop("disabled",!0)}),e.on("focus",function(t){i.$search.trigger("focus")}),e.on("results:focus",function(t){i.$search.attr("aria-activedescendant",t.id)}),this.$selection.on("focusin",".select2-search--inline",function(t){i.trigger("focus",t)}),this.$selection.on("focusout",".select2-search--inline",function(t){i._handleBlur(t)}),this.$selection.on("keydown",".select2-search--inline",function(t){if(t.stopPropagation(),i.trigger("keypress",t),i._keyUpPrevented=t.isDefaultPrevented(),t.which===a.BACKSPACE&&""===i.$search.val()){var e=i.$searchContainer.prev(".select2-selection__choice");if(0<e.length){var n=e.data("data");i.searchRemoveChoice(n),t.preventDefault()}}});var o=document.documentMode,r=o&&o<=11;this.$selection.on("input.searchcheck",".select2-search--inline",function(t){return r?void i.$selection.off("input.search input.searchcheck"):void i.$selection.off("keyup.search")}),this.$selection.on("keyup.search input.search",".select2-search--inline",function(t){if(r&&"input"===t.type)i.$selection.off("input.search input.searchcheck");else{var e=t.which;e!=a.SHIFT&&e!=a.CTRL&&e!=a.ALT&&e!=a.TAB&&i.handleSearch(t)}})},e.prototype._transferTabIndex=function(t){this.$search.attr("tabindex",this.$selection.attr("tabindex")),this.$selection.attr("tabindex","-1")},e.prototype.createPlaceholder=function(t,e){this.$search.attr("placeholder",e.text)},e.prototype.update=function(t,e){var n=this.$search[0]==document.activeElement;this.$search.attr("placeholder",""),t.call(this,e),this.$selection.find(".select2-selection__rendered").append(this.$searchContainer),this.resizeSearch(),n&&this.$search.focus()},e.prototype.handleSearch=function(){if(this.resizeSearch(),!this._keyUpPrevented){var t=this.$search.val();this.trigger("query",{term:t})}this._keyUpPrevented=!1},e.prototype.searchRemoveChoice=function(t,e){this.trigger("unselect",{data:e}),this.$search.val(e.text),this.handleSearch()},e.prototype.resizeSearch=function(){this.$search.css("width","25px");var t="";""!==this.$search.attr("placeholder")?t=this.$selection.find(".select2-selection__rendered").innerWidth():t=.75*(this.$search.val().length+1)+"em";this.$search.css("width",t)},e}),t.define("select2/selection/eventRelay",["jquery"],function(a){function t(){}return t.prototype.bind=function(t,e,n){var i=this,o=["open","opening","close","closing","select","selecting","unselect","unselecting"],r=["opening","closing","selecting","unselecting"];t.call(this,e,n),e.on("*",function(t,e){if(-1!==a.inArray(t,o)){e=e||{};var n=a.Event("select2:"+t,{params:e});i.$element.trigger(n),-1!==a.inArray(t,r)&&(e.prevented=n.isDefaultPrevented())}})},t}),t.define("select2/translation",["jquery","require"],function(e,n){function i(t){this.dict=t||{}}return i.prototype.all=function(){return this.dict},i.prototype.get=function(t){return this.dict[t]},i.prototype.extend=function(t){this.dict=e.extend({},t.all(),this.dict)},i._cache={},i.loadPath=function(t){if(!(t in i._cache)){var e=n(t);i._cache[t]=e}return new i(i._cache[t])},i}),t.define("select2/diacritics",[],function(){return{"":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"AA","":"AE","":"AE","":"AE","":"AO","":"AU","":"AV","":"AV","":"AY","":"B","":"B","":"B","":"B","":"B","":"B","":"B","":"B","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"DZ","":"DZ","":"Dz","":"Dz","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"F","":"F","":"F","":"F","":"F","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"J","":"J","":"J","":"J","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"LJ","":"Lj","":"M","":"M","":"M","":"M","":"M","":"M","":"M","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"NJ","":"Nj","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"OI","":"OO","":"OU","":"P","":"P","":"P","":"P","":"P","":"P","":"P","":"P","":"P","":"Q","":"Q","":"Q","":"Q","":"Q","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"TZ","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"V","":"V","":"V","":"V","":"V","":"V","":"V","":"VY","":"W","":"W","":"W","":"W","":"W","":"W","":"W","":"W","":"W","":"X","":"X","":"X","":"X","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"aa","":"ae","":"ae","":"ae","":"ao","":"au","":"av","":"av","":"ay","":"b","":"b","":"b","":"b","":"b","":"b","":"b","":"b","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"dz","":"dz","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"f","":"f","":"f","":"f","":"f","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"hv","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"j","":"j","":"j","":"j","":"j","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"lj","":"m","":"m","":"m","":"m","":"m","":"m","":"m","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"nj","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"oi","":"ou","":"oo","":"p","":"p","":"p","":"p","":"p","":"p","":"p","":"p","":"p","":"q","":"q","":"q","":"q","":"q","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"tz","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"v","":"v","":"v","":"v","":"v","":"v","":"v","":"vy","":"w","":"w","":"w","":"w","":"w","":"w","":"w","":"w","":"w","":"w","":"x","":"x","":"x","":"x","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":""}}),t.define("select2/data/base",["../utils"],function(i){function n(t,e){n.__super__.constructor.call(this)}return i.Extend(n,i.Observable),n.prototype.current=function(t){throw new Error("The `current` method must be defined in child classes.")},n.prototype.query=function(t,e){throw new Error("The `query` method must be defined in child classes.")},n.prototype.bind=function(t,e){},n.prototype.destroy=function(){},n.prototype.generateResultId=function(t,e){var n=t.id+"-result-";return(n+=i.generateChars(4))+(null!=e.id?"-"+e.id.toString():"-"+i.generateChars(4))},n}),t.define("select2/data/select",["./base","../utils","jquery"],function(t,e,s){function n(t,e){this.$element=t,this.options=e,n.__super__.constructor.call(this)}return e.Extend(n,t),n.prototype.current=function(t){var n=[],i=this;this.$element.find(":selected").each(function(){var t=s(this),e=i.item(t);n.push(e)}),t(n)},n.prototype.select=function(o){var r=this;if(o.selected=!0,s(o.element).is("option"))return o.element.selected=!0,void this.$element.trigger("change");if(this.$element.prop("multiple"))this.current(function(t){var e=[];(o=[o]).push.apply(o,t);for(var n=0;n<o.length;n++){var i=o[n].id;-1===s.inArray(i,e)&&e.push(i)}r.$element.val(e),r.$element.trigger("change")});else{var t=o.id;this.$element.val(t),this.$element.trigger("change")}},n.prototype.unselect=function(o){var r=this;if(this.$element.prop("multiple"))return o.selected=!1,s(o.element).is("option")?(o.element.selected=!1,void this.$element.trigger("change")):void this.current(function(t){for(var e=[],n=0;n<t.length;n++){var i=t[n].id;i!==o.id&&-1===s.inArray(i,e)&&e.push(i)}r.$element.val(e),r.$element.trigger("change")})},n.prototype.bind=function(t,e){var n=this;(this.container=t).on("select",function(t){n.select(t.data)}),t.on("unselect",function(t){n.unselect(t.data)})},n.prototype.destroy=function(){this.$element.find("*").each(function(){s.removeData(this,"data")})},n.prototype.query=function(i,t){var o=[],r=this;this.$element.children().each(function(){var t=s(this);if(t.is("option")||t.is("optgroup")){var e=r.item(t),n=r.matches(i,e);null!==n&&o.push(n)}}),t({results:o})},n.prototype.addOptions=function(t){e.appendMany(this.$element,t)},n.prototype.option=function(t){var e;t.children?(e=document.createElement("optgroup")).label=t.text:void 0!==(e=document.createElement("option")).textContent?e.textContent=t.text:e.innerText=t.text,void 0!==t.id&&(e.value=t.id),t.disabled&&(e.disabled=!0),t.selected&&(e.selected=!0),t.title&&(e.title=t.title);var n=s(e),i=this._normalizeItem(t);return i.element=e,s.data(e,"data",i),n},n.prototype.item=function(t){var e={};if(null!=(e=s.data(t[0],"data")))return e;if(t.is("option"))e={id:t.val(),text:t.text(),disabled:t.prop("disabled"),selected:t.prop("selected"),title:t.prop("title")};else if(t.is("optgroup")){e={text:t.prop("label"),children:[],title:t.prop("title")};for(var n=t.children("option"),i=[],o=0;o<n.length;o++){var r=s(n[o]),a=this.item(r);i.push(a)}e.children=i}return(e=this._normalizeItem(e)).element=t[0],s.data(t[0],"data",e),e},n.prototype._normalizeItem=function(t){s.isPlainObject(t)||(t={id:t,text:t});return null!=(t=s.extend({},{text:""},t)).id&&(t.id=t.id.toString()),null!=t.text&&(t.text=t.text.toString()),null==t._resultId&&t.id&&null!=this.container&&(t._resultId=this.generateResultId(this.container,t)),s.extend({},{selected:!1,disabled:!1},t)},n.prototype.matches=function(t,e){return this.options.get("matcher")(t,e)},n}),t.define("select2/data/array",["./select","../utils","jquery"],function(t,f,g){function i(t,e){var n=e.get("data")||[];i.__super__.constructor.call(this,t,e),this.addOptions(this.convertToOptions(n))}return f.Extend(i,t),i.prototype.select=function(n){var t=this.$element.find("option").filter(function(t,e){return e.value==n.id.toString()});0===t.length&&(t=this.option(n),this.addOptions(t)),i.__super__.select.call(this,n)},i.prototype.convertToOptions=function(t){function e(t){return function(){return g(this).val()==t.id}}for(var n=this,i=this.$element.find("option"),o=i.map(function(){return n.item(g(this)).id}).get(),r=[],a=0;a<t.length;a++){var s=this._normalizeItem(t[a]);if(0<=g.inArray(s.id,o)){var l=i.filter(e(s)),u=this.item(l),c=g.extend(!0,{},s,u),p=this.option(c);l.replaceWith(p)}else{var h=this.option(s);if(s.children){var d=this.convertToOptions(s.children);f.appendMany(h,d)}r.push(h)}}return r},i}),t.define("select2/data/ajax",["./array","../utils","jquery"],function(t,e,r){function n(t,e){this.ajaxOptions=this._applyDefaults(e.get("ajax")),null!=this.ajaxOptions.processResults&&(this.processResults=this.ajaxOptions.processResults),n.__super__.constructor.call(this,t,e)}return e.Extend(n,t),n.prototype._applyDefaults=function(t){var e={data:function(t){return r.extend({},t,{q:t.term})},transport:function(t,e,n){var i=r.ajax(t);return i.then(e),i.fail(n),i}};return r.extend({},e,t,!0)},n.prototype.processResults=function(t){return t},n.prototype.query=function(n,i){function t(){var t=e.transport(e,function(t){var e=o.processResults(t,n);o.options.get("debug")&&window.console&&console.error&&(e&&e.results&&r.isArray(e.results)||console.error("Select2: The AJAX results did not return an array in the `results` key of the response.")),i(e)},function(){t.status&&"0"===t.status||o.trigger("results:message",{message:"errorLoading"})});o._request=t}var o=this;null!=this._request&&(r.isFunction(this._request.abort)&&this._request.abort(),this._request=null);var e=r.extend({type:"GET"},this.ajaxOptions);"function"==typeof e.url&&(e.url=e.url.call(this.$element,n)),"function"==typeof e.data&&(e.data=e.data.call(this.$element,n)),this.ajaxOptions.delay&&null!=n.term?(this._queryTimeout&&window.clearTimeout(this._queryTimeout),this._queryTimeout=window.setTimeout(t,this.ajaxOptions.delay)):t()},n}),t.define("select2/data/tags",["jquery"],function(c){function t(t,e,n){var i=n.get("tags"),o=n.get("createTag");void 0!==o&&(this.createTag=o);var r=n.get("insertTag");if(void 0!==r&&(this.insertTag=r),t.call(this,e,n),c.isArray(i))for(var a=0;a<i.length;a++){var s=i[a],l=this._normalizeItem(s),u=this.option(l);this.$element.append(u)}}return t.prototype.query=function(t,u,c){var p=this;return this._removeOldTags(),null==u.term||null!=u.page?void t.call(this,u,c):void t.call(this,u,function t(e,n){for(var i=e.results,o=0;o<i.length;o++){var r=i[o],a=null!=r.children&&!t({results:r.children},!0);if((r.text||"").toUpperCase()===(u.term||"").toUpperCase()||a)return!n&&(e.data=i,void c(e))}if(n)return!0;var s=p.createTag(u);if(null!=s){var l=p.option(s);l.attr("data-select2-tag",!0),p.addOptions([l]),p.insertTag(i,s)}e.results=i,c(e)})},t.prototype.createTag=function(t,e){var n=c.trim(e.term);return""===n?null:{id:n,text:n}},t.prototype.insertTag=function(t,e,n){e.unshift(n)},t.prototype._removeOldTags=function(t){(this._lastTag,this.$element.find("option[data-select2-tag]")).each(function(){this.selected||c(this).remove()})},t}),t.define("select2/data/tokenizer",["jquery"],function(p){function t(t,e,n){var i=n.get("tokenizer");void 0!==i&&(this.tokenizer=i),t.call(this,e,n)}return t.prototype.bind=function(t,e,n){t.call(this,e,n),this.$search=e.dropdown.$search||e.selection.$search||n.find(".select2-search__field")},t.prototype.query=function(t,e,n){var o=this;e.term=e.term||"";var i=this.tokenizer(e,this.options,function(t){var e,n=o._normalizeItem(t);if(!o.$element.find("option").filter(function(){return p(this).val()===n.id}).length){var i=o.option(n);i.attr("data-select2-tag",!0),o._removeOldTags(),o.addOptions([i])}e=n,o.trigger("select",{data:e})});i.term!==e.term&&(this.$search.length&&(this.$search.val(i.term),this.$search.focus()),e.term=i.term),t.call(this,e,n)},t.prototype.tokenizer=function(t,e,n,i){for(var o=n.get("tokenSeparators")||[],r=e.term,a=0,s=this.createTag||function(t){return{id:t.term,text:t.term}};a<r.length;){var l=r[a];if(-1!==p.inArray(l,o)){var u=r.substr(0,a),c=s(p.extend({},e,{term:u}));null!=c?(i(c),r=r.substr(a+1)||"",a=0):a++}else a++}return{term:r}},t}),t.define("select2/data/minimumInputLength",[],function(){function t(t,e,n){this.minimumInputLength=n.get("minimumInputLength"),t.call(this,e,n)}return t.prototype.query=function(t,e,n){return e.term=e.term||"",e.term.length<this.minimumInputLength?void this.trigger("results:message",{message:"inputTooShort",args:{minimum:this.minimumInputLength,input:e.term,params:e}}):void t.call(this,e,n)},t}),t.define("select2/data/maximumInputLength",[],function(){function t(t,e,n){this.maximumInputLength=n.get("maximumInputLength"),t.call(this,e,n)}return t.prototype.query=function(t,e,n){return e.term=e.term||"",0<this.maximumInputLength&&e.term.length>this.maximumInputLength?void this.trigger("results:message",{message:"inputTooLong",args:{maximum:this.maximumInputLength,input:e.term,params:e}}):void t.call(this,e,n)},t}),t.define("select2/data/maximumSelectionLength",[],function(){function t(t,e,n){this.maximumSelectionLength=n.get("maximumSelectionLength"),t.call(this,e,n)}return t.prototype.query=function(n,i,o){var r=this;this.current(function(t){var e=null!=t?t.length:0;return 0<r.maximumSelectionLength&&e>=r.maximumSelectionLength?void r.trigger("results:message",{message:"maximumSelected",args:{maximum:r.maximumSelectionLength}}):void n.call(r,i,o)})},t}),t.define("select2/dropdown",["jquery","./utils"],function(e,t){function n(t,e){this.$element=t,this.options=e,n.__super__.constructor.call(this)}return t.Extend(n,t.Observable),n.prototype.render=function(){var t=e('<span class="select2-dropdown"><span class="select2-results"></span></span>');return t.attr("dir",this.options.get("dir")),this.$dropdown=t},n.prototype.bind=function(){},n.prototype.position=function(t,e){},n.prototype.destroy=function(){this.$dropdown.remove()},n}),t.define("select2/dropdown/search",["jquery","../utils"],function(o,t){function e(){}return e.prototype.render=function(t){var e=t.call(this),n=o('<span class="select2-search select2-search--dropdown"><input class="select2-search__field" type="search" tabindex="-1" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" role="textbox" /></span>');return this.$searchContainer=n,this.$search=n.find("input"),e.prepend(n),e},e.prototype.bind=function(t,e,n){var i=this;t.call(this,e,n),this.$search.on("keydown",function(t){i.trigger("keypress",t),i._keyUpPrevented=t.isDefaultPrevented()}),this.$search.on("input",function(t){o(this).off("keyup")}),this.$search.on("keyup input",function(t){i.handleSearch(t)}),e.on("open",function(){i.$search.attr("tabindex",0),i.$search.focus(),window.setTimeout(function(){i.$search.focus()},0)}),e.on("close",function(){i.$search.attr("tabindex",-1),i.$search.val("")}),e.on("focus",function(){e.isOpen()&&i.$search.focus()}),e.on("results:all",function(t){null!=t.query.term&&""!==t.query.term||(i.showSearch(t)?i.$searchContainer.removeClass("select2-search--hide"):i.$searchContainer.addClass("select2-search--hide"))})},e.prototype.handleSearch=function(t){if(!this._keyUpPrevented){var e=this.$search.val();this.trigger("query",{term:e})}this._keyUpPrevented=!1},e.prototype.showSearch=function(t,e){return!0},e}),t.define("select2/dropdown/hidePlaceholder",[],function(){function t(t,e,n,i){this.placeholder=this.normalizePlaceholder(n.get("placeholder")),t.call(this,e,n,i)}return t.prototype.append=function(t,e){e.results=this.removePlaceholder(e.results),t.call(this,e)},t.prototype.normalizePlaceholder=function(t,e){return"string"==typeof e&&(e={id:"",text:e}),e},t.prototype.removePlaceholder=function(t,e){for(var n=e.slice(0),i=e.length-1;0<=i;i--){var o=e[i];this.placeholder.id===o.id&&n.splice(i,1)}return n},t}),t.define("select2/dropdown/infiniteScroll",["jquery"],function(o){function t(t,e,n,i){this.lastParams={},t.call(this,e,n,i),this.$loadingMore=this.createLoadingMore(),this.loading=!1}return t.prototype.append=function(t,e){this.$loadingMore.remove(),this.loading=!1,t.call(this,e),this.showLoadingMore(e)&&this.$results.append(this.$loadingMore)},t.prototype.bind=function(t,e,n){var i=this;t.call(this,e,n),e.on("query",function(t){i.lastParams=t,i.loading=!0}),e.on("query:append",function(t){i.lastParams=t,i.loading=!0}),this.$results.on("scroll",function(){var t=o.contains(document.documentElement,i.$loadingMore[0]);if(!i.loading&&t){var e=i.$results.offset().top+i.$results.outerHeight(!1);i.$loadingMore.offset().top+i.$loadingMore.outerHeight(!1)<=e+50&&i.loadMore()}})},t.prototype.loadMore=function(){this.loading=!0;var t=o.extend({},{page:1},this.lastParams);t.page++,this.trigger("query:append",t)},t.prototype.showLoadingMore=function(t,e){return e.pagination&&e.pagination.more},t.prototype.createLoadingMore=function(){var t=o('<li class="select2-results__option select2-results__option--load-more"role="treeitem" aria-disabled="true"></li>'),e=this.options.get("translations").get("loadingMore");return t.html(e(this.lastParams)),t},t}),t.define("select2/dropdown/attachBody",["jquery","../utils"],function(f,s){function t(t,e,n){this.$dropdownParent=n.get("dropdownParent")||f(document.body),t.call(this,e,n)}return t.prototype.bind=function(t,e,n){var i=this,o=!1;t.call(this,e,n),e.on("open",function(){i._showDropdown(),i._attachPositioningHandler(e),o||(o=!0,e.on("results:all",function(){i._positionDropdown(),i._resizeDropdown()}),e.on("results:append",function(){i._positionDropdown(),i._resizeDropdown()}))}),e.on("close",function(){i._hideDropdown(),i._detachPositioningHandler(e)}),this.$dropdownContainer.on("mousedown",function(t){t.stopPropagation()})},t.prototype.destroy=function(t){t.call(this),this.$dropdownContainer.remove()},t.prototype.position=function(t,e,n){e.attr("class",n.attr("class")),e.removeClass("select2"),e.addClass("select2-container--open"),e.css({position:"absolute",top:-999999}),this.$container=n},t.prototype.render=function(t){var e=f("<span></span>"),n=t.call(this);return e.append(n),this.$dropdownContainer=e},t.prototype._hideDropdown=function(t){this.$dropdownContainer.detach()},t.prototype._attachPositioningHandler=function(t,e){var n=this,i="scroll.select2."+e.id,o="resize.select2."+e.id,r="orientationchange.select2."+e.id,a=this.$container.parents().filter(s.hasScroll);a.each(function(){f(this).data("select2-scroll-position",{x:f(this).scrollLeft(),y:f(this).scrollTop()})}),a.on(i,function(t){var e=f(this).data("select2-scroll-position");f(this).scrollTop(e.y)}),f(window).on(i+" "+o+" "+r,function(t){n._positionDropdown(),n._resizeDropdown()})},t.prototype._detachPositioningHandler=function(t,e){var n="scroll.select2."+e.id,i="resize.select2."+e.id,o="orientationchange.select2."+e.id;this.$container.parents().filter(s.hasScroll).off(n),f(window).off(n+" "+i+" "+o)},t.prototype._positionDropdown=function(){var t=f(window),e=this.$dropdown.hasClass("select2-dropdown--above"),n=this.$dropdown.hasClass("select2-dropdown--below"),i=null,o=this.$container.offset();o.bottom=o.top+this.$container.outerHeight(!1);var r={height:this.$container.outerHeight(!1)};r.top=o.top,r.bottom=o.top+r.height;var a=this.$dropdown.outerHeight(!1),s=t.scrollTop(),l=t.scrollTop()+t.height(),u=s<o.top-a,c=l>o.bottom+a,p={left:o.left,top:r.bottom},h=this.$dropdownParent;"static"===h.css("position")&&(h=h.offsetParent());var d=h.offset();p.top-=d.top,p.left-=d.left,e||n||(i="below"),c||!u||e?!u&&c&&e&&(i="below"):i="above",("above"==i||e&&"below"!==i)&&(p.top=r.top-d.top-a),null!=i&&(this.$dropdown.removeClass("select2-dropdown--below select2-dropdown--above").addClass("select2-dropdown--"+i),this.$container.removeClass("select2-container--below select2-container--above").addClass("select2-container--"+i)),this.$dropdownContainer.css(p)},t.prototype._resizeDropdown=function(){var t={width:this.$container.outerWidth(!1)+"px"};this.options.get("dropdownAutoWidth")&&(t.minWidth=t.width,t.position="relative",t.width="auto"),this.$dropdown.css(t)},t.prototype._showDropdown=function(t){this.$dropdownContainer.appendTo(this.$dropdownParent),this._positionDropdown(),this._resizeDropdown()},t}),t.define("select2/dropdown/minimumResultsForSearch",[],function(){function t(t,e,n,i){this.minimumResultsForSearch=n.get("minimumResultsForSearch"),this.minimumResultsForSearch<0&&(this.minimumResultsForSearch=1/0),t.call(this,e,n,i)}return t.prototype.showSearch=function(t,e){return!(function t(e){for(var n=0,i=0;i<e.length;i++){var o=e[i];o.children?n+=t(o.children):n++}return n}(e.data.results)<this.minimumResultsForSearch)&&t.call(this,e)},t}),t.define("select2/dropdown/selectOnClose",[],function(){function t(){}return t.prototype.bind=function(t,e,n){var i=this;t.call(this,e,n),e.on("close",function(t){i._handleSelectOnClose(t)})},t.prototype._handleSelectOnClose=function(t,e){if(e&&null!=e.originalSelect2Event){var n=e.originalSelect2Event;if("select"===n._type||"unselect"===n._type)return}var i=this.getHighlightedResults();if(!(i.length<1)){var o=i.data("data");null!=o.element&&o.element.selected||null==o.element&&o.selected||this.trigger("select",{data:o})}},t}),t.define("select2/dropdown/closeOnSelect",[],function(){function t(){}return t.prototype.bind=function(t,e,n){var i=this;t.call(this,e,n),e.on("select",function(t){i._selectTriggered(t)}),e.on("unselect",function(t){i._selectTriggered(t)})},t.prototype._selectTriggered=function(t,e){var n=e.originalEvent;n&&n.ctrlKey||this.trigger("close",{originalEvent:n,originalSelect2Event:e})},t}),t.define("select2/i18n/en",[],function(){return{errorLoading:function(){return"The results could not be loaded."},inputTooLong:function(t){var e=t.input.length-t.maximum,n="Please delete "+e+" character";return 1!=e&&(n+="s"),n},inputTooShort:function(t){return"Please enter "+(t.minimum-t.input.length)+" or more characters"},loadingMore:function(){return"Loading more results"},maximumSelected:function(t){var e="You can only select "+t.maximum+" item";return 1!=t.maximum&&(e+="s"),e},noResults:function(){return"No results found"},searching:function(){return"Searching"}}}),t.define("select2/defaults",["jquery","require","./results","./selection/single","./selection/multiple","./selection/placeholder","./selection/allowClear","./selection/search","./selection/eventRelay","./utils","./translation","./diacritics","./data/select","./data/array","./data/ajax","./data/tags","./data/tokenizer","./data/minimumInputLength","./data/maximumInputLength","./data/maximumSelectionLength","./dropdown","./dropdown/search","./dropdown/hidePlaceholder","./dropdown/infiniteScroll","./dropdown/attachBody","./dropdown/minimumResultsForSearch","./dropdown/selectOnClose","./dropdown/closeOnSelect","./i18n/en"],function(f,g,m,v,y,b,w,x,$,_,k,e,C,S,T,A,D,M,E,P,O,I,R,L,F,N,j,B,t){function n(){this.reset()}return n.prototype.apply=function(e){if(null==(e=f.extend(!0,{},this.defaults,e)).dataAdapter){if(null!=e.ajax?e.dataAdapter=T:null!=e.data?e.dataAdapter=S:e.dataAdapter=C,0<e.minimumInputLength&&(e.dataAdapter=_.Decorate(e.dataAdapter,M)),0<e.maximumInputLength&&(e.dataAdapter=_.Decorate(e.dataAdapter,E)),0<e.maximumSelectionLength&&(e.dataAdapter=_.Decorate(e.dataAdapter,P)),e.tags&&(e.dataAdapter=_.Decorate(e.dataAdapter,A)),(null!=e.tokenSeparators||null!=e.tokenizer)&&(e.dataAdapter=_.Decorate(e.dataAdapter,D)),null!=e.query){var t=g(e.amdBase+"compat/query");e.dataAdapter=_.Decorate(e.dataAdapter,t)}if(null!=e.initSelection){var n=g(e.amdBase+"compat/initSelection");e.dataAdapter=_.Decorate(e.dataAdapter,n)}}if(null==e.resultsAdapter&&(e.resultsAdapter=m,null!=e.ajax&&(e.resultsAdapter=_.Decorate(e.resultsAdapter,L)),null!=e.placeholder&&(e.resultsAdapter=_.Decorate(e.resultsAdapter,R)),e.selectOnClose&&(e.resultsAdapter=_.Decorate(e.resultsAdapter,j))),null==e.dropdownAdapter){if(e.multiple)e.dropdownAdapter=O;else{var i=_.Decorate(O,I);e.dropdownAdapter=i}if(0!==e.minimumResultsForSearch&&(e.dropdownAdapter=_.Decorate(e.dropdownAdapter,N)),e.closeOnSelect&&(e.dropdownAdapter=_.Decorate(e.dropdownAdapter,B)),null!=e.dropdownCssClass||null!=e.dropdownCss||null!=e.adaptDropdownCssClass){var o=g(e.amdBase+"compat/dropdownCss");e.dropdownAdapter=_.Decorate(e.dropdownAdapter,o)}e.dropdownAdapter=_.Decorate(e.dropdownAdapter,F)}if(null==e.selectionAdapter){if(e.multiple?e.selectionAdapter=y:e.selectionAdapter=v,null!=e.placeholder&&(e.selectionAdapter=_.Decorate(e.selectionAdapter,b)),e.allowClear&&(e.selectionAdapter=_.Decorate(e.selectionAdapter,w)),e.multiple&&(e.selectionAdapter=_.Decorate(e.selectionAdapter,x)),null!=e.containerCssClass||null!=e.containerCss||null!=e.adaptContainerCssClass){var r=g(e.amdBase+"compat/containerCss");e.selectionAdapter=_.Decorate(e.selectionAdapter,r)}e.selectionAdapter=_.Decorate(e.selectionAdapter,$)}if("string"==typeof e.language)if(0<e.language.indexOf("-")){var a=e.language.split("-")[0];e.language=[e.language,a]}else e.language=[e.language];if(f.isArray(e.language)){var s=new k;e.language.push("en");for(var l=e.language,u=0;u<l.length;u++){var c=l[u],p={};try{p=k.loadPath(c)}catch(t){try{c=this.defaults.amdLanguageBase+c,p=k.loadPath(c)}catch(t){e.debug&&window.console&&console.warn&&console.warn('Select2: The language file for "'+c+'" could not be automatically loaded. A fallback will be used instead.');continue}}s.extend(p)}e.translations=s}else{var h=k.loadPath(this.defaults.amdLanguageBase+"en"),d=new k(e.language);d.extend(h),e.translations=d}return e},n.prototype.reset=function(){function s(t){return t.replace(/[^\u0000-\u007E]/g,function(t){return e[t]||t})}this.defaults={amdBase:"./",amdLanguageBase:"./i18n/",closeOnSelect:!0,debug:!1,dropdownAutoWidth:!1,escapeMarkup:_.escapeMarkup,language:t,matcher:function t(e,n){if(""===f.trim(e.term))return n;if(n.children&&0<n.children.length){for(var i=f.extend(!0,{},n),o=n.children.length-1;0<=o;o--)null==t(e,n.children[o])&&i.children.splice(o,1);return 0<i.children.length?i:t(e,i)}var r=s(n.text).toUpperCase(),a=s(e.term).toUpperCase();return-1<r.indexOf(a)?n:null},minimumInputLength:0,maximumInputLength:0,maximumSelectionLength:0,minimumResultsForSearch:0,selectOnClose:!1,sorter:function(t){return t},templateResult:function(t){return t.text},templateSelection:function(t){return t.text},theme:"default",width:"resolve"}},n.prototype.set=function(t,e){var n={};n[f.camelCase(t)]=e;var i=_._convertData(n);f.extend(this.defaults,i)},new n}),t.define("select2/options",["require","jquery","./defaults","./utils"],function(i,r,o,a){function t(t,e){if(this.options=t,null!=e&&this.fromElement(e),this.options=o.apply(this.options),e&&e.is("input")){var n=i(this.get("amdBase")+"compat/inputData");this.options.dataAdapter=a.Decorate(this.options.dataAdapter,n)}}return t.prototype.fromElement=function(t){var e=["select2"];null==this.options.multiple&&(this.options.multiple=t.prop("multiple")),null==this.options.disabled&&(this.options.disabled=t.prop("disabled")),null==this.options.language&&(t.prop("lang")?this.options.language=t.prop("lang").toLowerCase():t.closest("[lang]").prop("lang")&&(this.options.language=t.closest("[lang]").prop("lang"))),null==this.options.dir&&(t.prop("dir")?this.options.dir=t.prop("dir"):t.closest("[dir]").prop("dir")?this.options.dir=t.closest("[dir]").prop("dir"):this.options.dir="ltr"),t.prop("disabled",this.options.disabled),t.prop("multiple",this.options.multiple),t.data("select2Tags")&&(this.options.debug&&window.console&&console.warn&&console.warn('Select2: The `data-select2-tags` attribute has been changed to use the `data-data` and `data-tags="true"` attributes and will be removed in future versions of Select2.'),t.data("data",t.data("select2Tags")),t.data("tags",!0)),t.data("ajaxUrl")&&(this.options.debug&&window.console&&console.warn&&console.warn("Select2: The `data-ajax-url` attribute has been changed to `data-ajax--url` and support for the old attribute will be removed in future versions of Select2."),t.attr("ajax--url",t.data("ajaxUrl")),t.data("ajax--url",t.data("ajaxUrl")));var n;n=r.fn.jquery&&"1."==r.fn.jquery.substr(0,2)&&t[0].dataset?r.extend(!0,{},t[0].dataset,t.data()):t.data();var i=r.extend(!0,{},n);for(var o in i=a._convertData(i))-1<r.inArray(o,e)||(r.isPlainObject(this.options[o])?r.extend(this.options[o],i[o]):this.options[o]=i[o]);return this},t.prototype.get=function(t){return this.options[t]},t.prototype.set=function(t,e){this.options[t]=e},t}),t.define("select2/core",["jquery","./options","./utils","./keys"],function(o,u,n,i){var c=function(t,e){null!=t.data("select2")&&t.data("select2").destroy(),this.$element=t,this.id=this._generateId(t),e=e||{},this.options=new u(e,t),c.__super__.constructor.call(this);var n=t.attr("tabindex")||0;t.data("old-tabindex",n),t.attr("tabindex","-1");var i=this.options.get("dataAdapter");this.dataAdapter=new i(t,this.options);var o=this.render();this._placeContainer(o);var r=this.options.get("selectionAdapter");this.selection=new r(t,this.options),this.$selection=this.selection.render(),this.selection.position(this.$selection,o);var a=this.options.get("dropdownAdapter");this.dropdown=new a(t,this.options),this.$dropdown=this.dropdown.render(),this.dropdown.position(this.$dropdown,o);var s=this.options.get("resultsAdapter");this.results=new s(t,this.options,this.dataAdapter),this.$results=this.results.render(),this.results.position(this.$results,this.$dropdown);var l=this;this._bindAdapters(),this._registerDomEvents(),this._registerDataEvents(),this._registerSelectionEvents(),this._registerDropdownEvents(),this._registerResultsEvents(),this._registerEvents(),this.dataAdapter.current(function(t){l.trigger("selection:update",{data:t})}),t.addClass("select2-hidden-accessible"),t.attr("aria-hidden","true"),this._syncAttributes(),t.data("select2",this)};return n.Extend(c,n.Observable),c.prototype._generateId=function(t){return"select2-"+(null!=t.attr("id")?t.attr("id"):null!=t.attr("name")?t.attr("name")+"-"+n.generateChars(2):n.generateChars(4)).replace(/(:|\.|\[|\]|,)/g,"")},c.prototype._placeContainer=function(t){t.insertAfter(this.$element);var e=this._resolveWidth(this.$element,this.options.get("width"));null!=e&&t.css("width",e)},c.prototype._resolveWidth=function(t,e){var n=/^width:(([-+]?([0-9]*\.)?[0-9]+)(px|em|ex|%|in|cm|mm|pt|pc))/i;if("resolve"==e){var i=this._resolveWidth(t,"style");return null!=i?i:this._resolveWidth(t,"element")}if("element"==e){var o=t.outerWidth(!1);return o<=0?"auto":o+"px"}if("style"!=e)return e;var r=t.attr("style");if("string"!=typeof r)return null;for(var a=r.split(";"),s=0,l=a.length;s<l;s+=1){var u=a[s].replace(/\s/g,"").match(n);if(null!==u&&1<=u.length)return u[1]}return null},c.prototype._bindAdapters=function(){this.dataAdapter.bind(this,this.$container),this.selection.bind(this,this.$container),this.dropdown.bind(this,this.$container),this.results.bind(this,this.$container)},c.prototype._registerDomEvents=function(){var e=this;this.$element.on("change.select2",function(){e.dataAdapter.current(function(t){e.trigger("selection:update",{data:t})})}),this.$element.on("focus.select2",function(t){e.trigger("focus",t)}),this._syncA=n.bind(this._syncAttributes,this),this._syncS=n.bind(this._syncSubtree,this),this.$element[0].attachEvent&&this.$element[0].attachEvent("onpropertychange",this._syncA);var t=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver;null!=t?(this._observer=new t(function(t){o.each(t,e._syncA),o.each(t,e._syncS)}),this._observer.observe(this.$element[0],{attributes:!0,childList:!0,subtree:!1})):this.$element[0].addEventListener&&(this.$element[0].addEventListener("DOMAttrModified",e._syncA,!1),this.$element[0].addEventListener("DOMNodeInserted",e._syncS,!1),this.$element[0].addEventListener("DOMNodeRemoved",e._syncS,!1))},c.prototype._registerDataEvents=function(){var n=this;this.dataAdapter.on("*",function(t,e){n.trigger(t,e)})},c.prototype._registerSelectionEvents=function(){var n=this,i=["toggle","focus"];this.selection.on("toggle",function(){n.toggleDropdown()}),this.selection.on("focus",function(t){n.focus(t)}),this.selection.on("*",function(t,e){-1===o.inArray(t,i)&&n.trigger(t,e)})},c.prototype._registerDropdownEvents=function(){var n=this;this.dropdown.on("*",function(t,e){n.trigger(t,e)})},c.prototype._registerResultsEvents=function(){var n=this;this.results.on("*",function(t,e){n.trigger(t,e)})},c.prototype._registerEvents=function(){var n=this;this.on("open",function(){n.$container.addClass("select2-container--open")}),this.on("close",function(){n.$container.removeClass("select2-container--open")}),this.on("enable",function(){n.$container.removeClass("select2-container--disabled")}),this.on("disable",function(){n.$container.addClass("select2-container--disabled")}),this.on("blur",function(){n.$container.removeClass("select2-container--focus")}),this.on("query",function(e){n.isOpen()||n.trigger("open",{}),this.dataAdapter.query(e,function(t){n.trigger("results:all",{data:t,query:e})})}),this.on("query:append",function(e){this.dataAdapter.query(e,function(t){n.trigger("results:append",{data:t,query:e})})}),this.on("keypress",function(t){var e=t.which;n.isOpen()?e===i.ESC||e===i.TAB||e===i.UP&&t.altKey?(n.close(),t.preventDefault()):e===i.ENTER?(n.trigger("results:select",{}),t.preventDefault()):e===i.SPACE&&t.ctrlKey?(n.trigger("results:toggle",{}),t.preventDefault()):e===i.UP?(n.trigger("results:previous",{}),t.preventDefault()):e===i.DOWN&&(n.trigger("results:next",{}),t.preventDefault()):(e===i.ENTER||e===i.SPACE||e===i.DOWN&&t.altKey)&&(n.open(),t.preventDefault())})},c.prototype._syncAttributes=function(){this.options.set("disabled",this.$element.prop("disabled")),this.options.get("disabled")?(this.isOpen()&&this.close(),this.trigger("disable",{})):this.trigger("enable",{})},c.prototype._syncSubtree=function(t,e){var n=!1,i=this;if(!t||!t.target||"OPTION"===t.target.nodeName||"OPTGROUP"===t.target.nodeName){if(e)if(e.addedNodes&&0<e.addedNodes.length)for(var o=0;o<e.addedNodes.length;o++){e.addedNodes[o].selected&&(n=!0)}else e.removedNodes&&0<e.removedNodes.length&&(n=!0);else n=!0;n&&this.dataAdapter.current(function(t){i.trigger("selection:update",{data:t})})}},c.prototype.trigger=function(t,e){var n=c.__super__.trigger,i={open:"opening",close:"closing",select:"selecting",unselect:"unselecting"};if(void 0===e&&(e={}),t in i){var o=i[t],r={prevented:!1,name:t,args:e};if(n.call(this,o,r),r.prevented)return void(e.prevented=!0)}n.call(this,t,e)},c.prototype.toggleDropdown=function(){this.options.get("disabled")||(this.isOpen()?this.close():this.open())},c.prototype.open=function(){this.isOpen()||this.trigger("query",{})},c.prototype.close=function(){this.isOpen()&&this.trigger("close",{})},c.prototype.isOpen=function(){return this.$container.hasClass("select2-container--open")},c.prototype.hasFocus=function(){return this.$container.hasClass("select2-container--focus")},c.prototype.focus=function(t){this.hasFocus()||(this.$container.addClass("select2-container--focus"),this.trigger("focus",{}))},c.prototype.enable=function(t){this.options.get("debug")&&window.console&&console.warn&&console.warn('Select2: The `select2("enable")` method has been deprecated and will be removed in later Select2 versions. Use $element.prop("disabled") instead.'),(null==t||0===t.length)&&(t=[!0]);var e=!t[0];this.$element.prop("disabled",e)},c.prototype.data=function(){this.options.get("debug")&&0<arguments.length&&window.console&&console.warn&&console.warn('Select2: Data can no longer be set using `select2("data")`. You should consider setting the value instead using `$element.val()`.');var e=[];return this.dataAdapter.current(function(t){e=t}),e},c.prototype.val=function(t){if(this.options.get("debug")&&window.console&&console.warn&&console.warn('Select2: The `select2("val")` method has been deprecated and will be removed in later Select2 versions. Use $element.val() instead.'),null==t||0===t.length)return this.$element.val();var e=t[0];o.isArray(e)&&(e=o.map(e,function(t){return t.toString()})),this.$element.val(e).trigger("change")},c.prototype.destroy=function(){this.$container.remove(),this.$element[0].detachEvent&&this.$element[0].detachEvent("onpropertychange",this._syncA),null!=this._observer?(this._observer.disconnect(),this._observer=null):this.$element[0].removeEventListener&&(this.$element[0].removeEventListener("DOMAttrModified",this._syncA,!1),this.$element[0].removeEventListener("DOMNodeInserted",this._syncS,!1),this.$element[0].removeEventListener("DOMNodeRemoved",this._syncS,!1)),this._syncA=null,this._syncS=null,this.$element.off(".select2"),this.$element.attr("tabindex",this.$element.data("old-tabindex")),this.$element.removeClass("select2-hidden-accessible"),this.$element.attr("aria-hidden","false"),this.$element.removeData("select2"),this.dataAdapter.destroy(),this.selection.destroy(),this.dropdown.destroy(),this.results.destroy(),this.dataAdapter=null,this.selection=null,this.dropdown=null,this.results=null},c.prototype.render=function(){var t=o('<span class="select2 select2-container"><span class="selection"></span><span class="dropdown-wrapper" aria-hidden="true"></span></span>');return t.attr("dir",this.options.get("dir")),this.$container=t,this.$container.addClass("select2-container--"+this.options.get("theme")),t.data("element",this.$element),t},c}),t.define("select2/compat/utils",["jquery"],function(a){return{syncCssClasses:function(t,e,n){var i,o,r=[];(i=a.trim(t.attr("class")))&&a((i=""+i).split(/\s+/)).each(function(){0===this.indexOf("select2-")&&r.push(this)}),(i=a.trim(e.attr("class")))&&a((i=""+i).split(/\s+/)).each(function(){0!==this.indexOf("select2-")&&null!=(o=n(this))&&r.push(o)}),t.attr("class",r.join(" "))}}}),t.define("select2/compat/containerCss",["jquery","./utils"],function(a,s){function l(t){return null}function t(){}return t.prototype.render=function(t){var e=t.call(this),n=this.options.get("containerCssClass")||"";a.isFunction(n)&&(n=n(this.$element));var i=this.options.get("adaptContainerCssClass");if(i=i||l,-1!==n.indexOf(":all:")){n=n.replace(":all:","");var o=i;i=function(t){var e=o(t);return null!=e?e+" "+t:t}}var r=this.options.get("containerCss")||{};return a.isFunction(r)&&(r=r(this.$element)),s.syncCssClasses(e,this.$element,i),e.css(r),e.addClass(n),e},t}),t.define("select2/compat/dropdownCss",["jquery","./utils"],function(a,s){function l(t){return null}function t(){}return t.prototype.render=function(t){var e=t.call(this),n=this.options.get("dropdownCssClass")||"";a.isFunction(n)&&(n=n(this.$element));var i=this.options.get("adaptDropdownCssClass");if(i=i||l,-1!==n.indexOf(":all:")){n=n.replace(":all:","");var o=i;i=function(t){var e=o(t);return null!=e?e+" "+t:t}}var r=this.options.get("dropdownCss")||{};return a.isFunction(r)&&(r=r(this.$element)),s.syncCssClasses(e,this.$element,i),e.css(r),e.addClass(n),e},t}),t.define("select2/compat/initSelection",["jquery"],function(i){function t(t,e,n){n.get("debug")&&window.console&&console.warn&&console.warn("Select2: The `initSelection` option has been deprecated in favor of a custom data adapter that overrides the `current` method. This method is now called multiple times instead of a single time when the instance is initialized. Support will be removed for the `initSelection` option in future versions of Select2"),this.initSelection=n.get("initSelection"),this._isInitialized=!1,t.call(this,e,n)}return t.prototype.current=function(t,e){var n=this;return this._isInitialized?void t.call(this,e):void this.initSelection.call(null,this.$element,function(t){n._isInitialized=!0,i.isArray(t)||(t=[t]),e(t)})},t}),t.define("select2/compat/inputData",["jquery"],function(a){function t(t,e,n){this._currentData=[],this._valueSeparator=n.get("valueSeparator")||",","hidden"===e.prop("type")&&n.get("debug")&&console&&console.warn&&console.warn("Select2: Using a hidden input with Select2 is no longer supported and may stop working in the future. It is recommended to use a `<select>` element instead."),t.call(this,e,n)}return t.prototype.current=function(t,e){function i(t,e){var n=[];return t.selected||-1!==a.inArray(t.id,e)?(t.selected=!0,n.push(t)):t.selected=!1,t.children&&n.push.apply(n,i(t.children,e)),n}for(var n=[],o=0;o<this._currentData.length;o++){var r=this._currentData[o];n.push.apply(n,i(r,this.$element.val().split(this._valueSeparator)))}e(n)},t.prototype.select=function(t,e){if(this.options.get("multiple")){var n=this.$element.val();n+=this._valueSeparator+e.id,this.$element.val(n),this.$element.trigger("change")}else this.current(function(t){a.map(t,function(t){t.selected=!1})}),this.$element.val(e.id),this.$element.trigger("change")},t.prototype.unselect=function(t,o){var r=this;o.selected=!1,this.current(function(t){for(var e=[],n=0;n<t.length;n++){var i=t[n];o.id!=i.id&&e.push(i.id)}r.$element.val(e.join(r._valueSeparator)),r.$element.trigger("change")})},t.prototype.query=function(t,e,n){for(var i=[],o=0;o<this._currentData.length;o++){var r=this._currentData[o],a=this.matches(e,r);null!==a&&i.push(a)}n({results:i})},t.prototype.addOptions=function(t,e){var n=a.map(e,function(t){return a.data(t[0],"data")});this._currentData.push.apply(this._currentData,n)},t}),t.define("select2/compat/matcher",["jquery"],function(a){return function(r){return function(t,e){var n=a.extend(!0,{},e);if(null==t.term||""===a.trim(t.term))return n;if(e.children){for(var i=e.children.length-1;0<=i;i--){var o=e.children[i];r(t.term,o.text,o)||n.children.splice(i,1)}if(0<n.children.length)return n}return r(t.term,e.text,e)?n:null}}}),t.define("select2/compat/query",[],function(){function t(t,e,n){n.get("debug")&&window.console&&console.warn&&console.warn("Select2: The `query` option has been deprecated in favor of a custom data adapter that overrides the `query` method. Support will be removed for the `query` option in future versions of Select2."),t.call(this,e,n)}return t.prototype.query=function(t,e,n){e.callback=n,this.options.get("query").call(null,e)},t}),t.define("select2/dropdown/attachContainer",[],function(){function t(t,e,n){t.call(this,e,n)}return t.prototype.position=function(t,e,n){n.find(".dropdown-wrapper").append(e),e.addClass("select2-dropdown--below"),n.addClass("select2-container--below")},t}),t.define("select2/dropdown/stopPropagation",[],function(){function t(){}return t.prototype.bind=function(t,e,n){t.call(this,e,n);this.$dropdown.on(["blur","change","click","dblclick","focus","focusin","focusout","input","keydown","keyup","keypress","mousedown","mouseenter","mouseleave","mousemove","mouseover","mouseup","search","touchend","touchstart"].join(" "),function(t){t.stopPropagation()})},t}),t.define("select2/selection/stopPropagation",[],function(){function t(){}return t.prototype.bind=function(t,e,n){t.call(this,e,n);this.$selection.on(["blur","change","click","dblclick","focus","focusin","focusout","input","keydown","keyup","keypress","mousedown","mouseenter","mouseleave","mousemove","mouseover","mouseup","search","touchend","touchstart"].join(" "),function(t){t.stopPropagation()})},t}),e=function(h){function e(t){var e=t||window.event,n=v.call(arguments,1),i=0,o=0,r=0,a=0,s=0,l=0;if((t=h.event.fix(e)).type="mousewheel","detail"in e&&(r=-1*e.detail),"wheelDelta"in e&&(r=e.wheelDelta),"wheelDeltaY"in e&&(r=e.wheelDeltaY),"wheelDeltaX"in e&&(o=-1*e.wheelDeltaX),"axis"in e&&e.axis===e.HORIZONTAL_AXIS&&(o=-1*r,r=0),i=0===r?o:r,"deltaY"in e&&(i=r=-1*e.deltaY),"deltaX"in e&&(o=e.deltaX,0===r&&(i=-1*o)),0!==r||0!==o){if(1===e.deltaMode){var u=h.data(this,"mousewheel-line-height");i*=u,r*=u,o*=u}else if(2===e.deltaMode){var c=h.data(this,"mousewheel-page-height");i*=c,r*=c,o*=c}if(a=Math.max(Math.abs(r),Math.abs(o)),(!m||a<m)&&(f(e,m=a)&&(m/=40)),f(e,a)&&(i/=40,o/=40,r/=40),i=Math[1<=i?"floor":"ceil"](i/m),o=Math[1<=o?"floor":"ceil"](o/m),r=Math[1<=r?"floor":"ceil"](r/m),y.settings.normalizeOffset&&this.getBoundingClientRect){var p=this.getBoundingClientRect();s=t.clientX-p.left,l=t.clientY-p.top}return t.deltaX=o,t.deltaY=r,t.deltaFactor=m,t.offsetX=s,t.offsetY=l,t.deltaMode=0,n.unshift(t,i,o,r),g&&clearTimeout(g),g=setTimeout(d,200),(h.event.dispatch||h.event.handle).apply(this,n)}}function d(){m=null}function f(t,e){return y.settings.adjustOldDeltas&&"mousewheel"===t.type&&e%120==0}var g,m,t=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],n="onwheel"in document||9<=document.documentMode?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],v=Array.prototype.slice;if(h.event.fixHooks)for(var i=t.length;i;)h.event.fixHooks[t[--i]]=h.event.mouseHooks;var y=h.event.special.mousewheel={version:"3.1.12",setup:function(){if(this.addEventListener)for(var t=n.length;t;)this.addEventListener(n[--t],e,!1);else this.onmousewheel=e;h.data(this,"mousewheel-line-height",y.getLineHeight(this)),h.data(this,"mousewheel-page-height",y.getPageHeight(this))},teardown:function(){if(this.removeEventListener)for(var t=n.length;t;)this.removeEventListener(n[--t],e,!1);else this.onmousewheel=null;h.removeData(this,"mousewheel-line-height"),h.removeData(this,"mousewheel-page-height")},getLineHeight:function(t){var e=h(t),n=e["offsetParent"in h.fn?"offsetParent":"parent"]();return n.length||(n=h("body")),parseInt(n.css("fontSize"),10)||parseInt(e.css("fontSize"),10)||16},getPageHeight:function(t){return h(t).height()},settings:{adjustOldDeltas:!0,normalizeOffset:!0}};h.fn.extend({mousewheel:function(t){return t?this.bind("mousewheel",t):this.trigger("mousewheel")},unmousewheel:function(t){return this.unbind("mousewheel",t)}})},"function"==typeof t.define&&t.define.amd?t.define("jquery-mousewheel",["jquery"],e):"object"==typeof exports?module.exports=e:e(n),t.define("jquery.select2",["jquery","jquery-mousewheel","./select2/core","./select2/defaults"],function(o,t,r,e){if(null==o.fn.select2){var a=["open","close","destroy"];o.fn.select2=function(e){if("object"==typeof(e=e||{}))return this.each(function(){var t=o.extend(!0,{},e);new r(o(this),t)}),this;if("string"!=typeof e)throw new Error("Invalid arguments for Select2: "+e);var n,i=Array.prototype.slice.call(arguments,1);return this.each(function(){var t=o(this).data("select2");null==t&&window.console&&console.error&&console.error("The select2('"+e+"') method was called on an element that is not using Select2."),n=t[e].apply(t,i)}),-1<o.inArray(e,a)?this:n}}return null==o.fn.select2.defaults&&(o.fn.select2.defaults=e),r}),{define:t.define,require:t.require}}(),e=t.require("jquery.select2");return n.fn.select2.amd=t,e}),angular.module("schemaForm-timepicker",["schemaForm","mgcrea.ngStrap"]).config(["schemaFormProvider","schemaFormDecoratorsProvider","sfPathProvider",function(o,t,r){o.defaults.string.unshift(function(t,e,n){if(("string"===e.type||"number"===e.type)&&"timepicker"==e.format){var i=o.stdFormObj(t,e,n);return i.key=n.path,i.type="timepicker",n.lookup[r.stringify(n.path)]=i}}),t.addMapping("bootstrapDecorator","timepicker","directives/decorators/bootstrap/strap/timepicker.html"),t.createDirective("timepicker","directives/decorators/bootstrap/strap/timepicker.html")}]),angular.module("schemaForm-datetimepicker",["schemaForm","mgcrea.ngStrap"]).config(["schemaFormProvider","schemaFormDecoratorsProvider","sfPathProvider",function(o,t,r){o.defaults.object.unshift(function(t,e,n){if("object"===e.type&&"datetimepicker"==e.format){var i=o.stdFormObj(t,e,n);return i.key=n.path,i.type="datetimepicker",n.lookup[r.stringify(n.path)]=i}}),t.addMapping("bootstrapDecorator","datetimepicker","directives/decorators/bootstrap/strap/datetimepicker.html"),t.createDirective("datetimepicker","directives/decorators/bootstrap/strap/datetimepicker.html")}]),angular.module("schemaForm-datepicker",["schemaForm","mgcrea.ngStrap"]).config(["schemaFormProvider","schemaFormDecoratorsProvider","sfPathProvider",function(o,t,r){o.defaults.string.unshift(function(t,e,n){if(("string"===e.type||"number"===e.type)&&"datepicker"==e.format){var i=o.stdFormObj(t,e,n);return i.key=n.path,i.type="datepicker",n.lookup[r.stringify(n.path)]=i}}),t.addMapping("bootstrapDecorator","datepicker","directives/decorators/bootstrap/strap/datepicker.html"),t.createDirective("datepicker","directives/decorators/bootstrap/strap/datepicker.html")}]),angular.module("schemaForm").run(["$templateCache",function(t){t.put("directives/decorators/bootstrap/strap/datepicker.html",'<div class="form-group" ng-class="{\'has-error\': hasError(), \'has-success\': hasSuccess(), \'has-feedback\': form.feedback !== false }"><label class="control-label" ng-show="showTitle()">{{form.title}}</label><div class="row"><div class="form-control-date"><div class="input-group"><span class="input-group-addon"><i class="fa fa-calendar"></i></span><input type="text" class="form-control" ng-show="form.key" ng-model="$$value$$" schema-validate="form" data-date-type="{{form.dateOptions.dateType || \'string\'}}" data-date-format="{{form.dateOptions.dateFormat || \'dd/MM/yyyy\'}}" data-autoclose="{{form.dateOptions.autoclose}}" data-min-date="{{form.dateOptions.minDate}}" data-max-date="{{form.dateOptions.maxDate}}" data-use-navitve="{{form.dateOptions.useNative || false}}" bs-datepicker=""></div><span ng-if="form.feedback !== false" class="form-control-feedback" ng-class="evalInScope(form.feedback) || {\'glyphicon\': true, \'glyphicon-ok\': hasSuccess(), \'glyphicon-remove\': hasError() }"></span></div></div><div class="help-block" ng-show="(hasError() && errorMessage(schemaError())) || form.description" ng-bind-html="(hasError() && errorMessage(schemaError())) || form.description"></div></div>'),t.put("directives/decorators/bootstrap/strap/datetimepicker.html",'<div class="form-group" ng-class="{\'has-error\': hasError(), \'has-success\': hasSuccess(), \'has-feedback\': form.feedback !== false }"><label class="control-label" ng-show="showTitle()">{{form.title}}</label><div class="row"><div class="form-control-date"><div class="input-group"><span class="input-group-addon"><i class="fa fa-calendar"></i></span><input type="text" class="form-control" ng-show="form.key" ng-model="$$value$$" data-date-type="object" data-date-format="{{form.options.dateFormat || \'dd/MM/yyyy\'}}" data-autoclose="{{form.options.autoclose || \'1\'}}" data-min-date="{{form.options.minDate}}" data-max-date="{{form.options.maxDate}}" data-use-navitve="{{form.options.useNative || false}}" bs-datepicker=""></div></div><div class="form-control-time"><div class="input-group"><span class="input-group-addon"><i class="fa fa-clock-o"></i></span><input type="text" class="form-control" size="8" ng-show="form.key" ng-model="$$value$$" data-time-type="object" data-time-format="{{form.options.timeFormat || \'shortTime\'}}" data-minute-step="{{form.options.minuteStep || \'15\'}}" data-use-native="{{form.options.useNative || false}}" bs-timepicker=""></div></div></div><input type="hidden" sf-changed="form" ng-model="$$value$$" schema-validate="form"><div class="help-block" ng-show="(hasError() && errorMessage(schemaError())) || form.description" ng-bind-html="(hasError() && errorMessage(schemaError())) || form.description"></div></div>'),t.put("directives/decorators/bootstrap/strap/timepicker.html",'<div class="form-group" ng-class="{\'has-error\': hasError(), \'has-success\': hasSuccess(), \'has-feedback\': form.feedback !== false }"><label class="control-label" ng-show="showTitle()">{{form.title}}</label><div class="row"><div class="form-control-time"><div class="input-group"><span class="input-group-addon"><i class="fa fa-clock-o"></i></span><input type="text" class="form-control" size="8" ng-show="form.key" ng-model="$$value$$" schema-validate="form" data-time-type="{{form.timeOptions.timeType || \'string\'}}" data-time-format="{{form.timeOptions.timeFormat || \'shortTime\'}}" data-minute-step="{{form.timeOptions.minuteStep || \'15\'}}" data-use-native="{{form.timeOptions.useNative || false}}" bs-timepicker=""></div><span ng-if="form.feedback !== false" class="form-control-feedback" ng-class="evalInScope(form.feedback) || {\'glyphicon\': true, \'glyphicon-ok\': hasSuccess(), \'glyphicon-remove\': hasError() }"></span></div></div><div class="help-block" ng-show="(hasError() && errorMessage(schemaError())) || form.description" ng-bind-html="(hasError() && errorMessage(schemaError())) || form.description"></div></div>')}]),angular.module("schemaForm-datepicker",["schemaForm","mgcrea.ngStrap"]).config(["schemaFormProvider","schemaFormDecoratorsProvider","sfPathProvider",function(o,t,r){o.defaults.string.unshift(function(t,e,n){if(("string"===e.type||"number"===e.type)&&"datepicker"==e.format){var i=o.stdFormObj(t,e,n);return i.key=n.path,i.type="datepicker",n.lookup[r.stringify(n.path)]=i}}),t.addMapping("bootstrapDecorator","datepicker","directives/decorators/bootstrap/strap/datepicker.html"),t.createDirective("datepicker","directives/decorators/bootstrap/strap/datepicker.html")}]),angular.module("schemaForm-datetimepicker",["schemaForm","mgcrea.ngStrap"]).config(["schemaFormProvider","schemaFormDecoratorsProvider","sfPathProvider",function(o,t,r){o.defaults.object.unshift(function(t,e,n){if("object"===e.type&&"datetimepicker"==e.format){var i=o.stdFormObj(t,e,n);return i.key=n.path,i.type="datetimepicker",n.lookup[r.stringify(n.path)]=i}}),t.addMapping("bootstrapDecorator","datetimepicker","directives/decorators/bootstrap/strap/datetimepicker.html"),t.createDirective("datetimepicker","directives/decorators/bootstrap/strap/datetimepicker.html")}]),angular.module("schemaForm-timepicker",["schemaForm","mgcrea.ngStrap"]).config(["schemaFormProvider","schemaFormDecoratorsProvider","sfPathProvider",function(o,t,r){o.defaults.string.unshift(function(t,e,n){if(("string"===e.type||"number"===e.type)&&"timepicker"==e.format){var i=o.stdFormObj(t,e,n);return i.key=n.path,i.type="timepicker",n.lookup[r.stringify(n.path)]=i}}),t.addMapping("bootstrapDecorator","timepicker","directives/decorators/bootstrap/strap/timepicker.html"),t.createDirective("timepicker","directives/decorators/bootstrap/strap/timepicker.html")}]),function(l){"use strict";function t(){var e={size:200,value:void 0,min:0,max:100,cap:"butt",thick:6,type:"full",foregroundColor:"rgba(0, 150, 136, 1)",backgroundColor:"rgba(0, 0, 0, 0.1)",duration:1500,fractionSize:null,labelOnly:!1};this.setOptions=function(t){if(!t||!l.isObject(t))throw new Error("Invalid option type specified in the ngGaugeProvider");e=l.merge(e,t)};var t={getOptions:function(){return l.extend({},e)}};this.$get=function(){return t}}function e(a){var s=function(t,e){this.element=t.find("canvas")[0],this.text=t.find("span"),this.legend=t.find("b"),this.unit=t.find("u"),this.context=this.element.getContext("2d"),this.options=e,this.init()};return s.prototype={init:function(){this.setupStyles(),this.create(null,null)},setupStyles:function(){this.context.canvas.width=this.options.size,this.context.canvas.height=this.options.size,this.context.lineCap=this.options.cap,this.context.lineWidth=this.options.thick;var t=.22*this.options.size,e=this.options.size;this.text.css({display:"inline-block",fontWeight:"normal",width:"100%",position:"absolute",textAlign:"center",overflow:"hidden",textOverflow:"ellipsis",fontSize:t+"px",lineHeight:e+"px"}),this.unit.css({textDecoration:"none",fontSize:"0.6em",fontWeight:200,opacity:.8});var n=this.options.labelOnly?.8*t:this.options.size/6,i=this.options.labelOnly?e:5*n+parseInt(this.options.size);this.legend.css({display:"inline-block",width:"100%",position:"absolute",textAlign:"center",overflow:"hidden",textOverflow:"ellipsis",fontWeight:"normal",fontSize:n+"px",lineHeight:i+"px"})},create:function(t,r){var a,s,l=this,e=this.getType(),n=this.getBounds(e),u=this.getDuration(),i=this.getMin(),o=this.getMax(),c=this.clamp(this.getValue(),i,o),p=n.head,h=(n.tail-n.head)/(o-i),d=h*(c-i),f=n.tail,g=this.getForegroundColorByRange(c);t&&r&&(d=h*t-h*r),requestAnimationFrame(function(t){s=t||(new Date).getTime(),function e(t){var n=(t=t||(new Date).getTime())-s,i=Math.min(n/u,1),o=p+(r?r*h:0)+d*i;l.drawShell(p,o,f,g),n<u?a=window.requestAnimationFrame(function(t){e(t)}):cancelAnimationFrame(a)}(t)})},getBounds:function(t){var e,n;return"semi"==t?(e=Math.PI,n=2*Math.PI):"full"==t?(e=1.5*Math.PI,n=3.5*Math.PI):"arch"===t&&(e=.8*Math.PI,n=2.2*Math.PI),{head:e,tail:n}},drawShell:function(t,e,n,i){var o=this.context,r=this.getCenter(),a=this.getRadius(),s=i,l=this.getBackgroundColor();this.clear(),e=Math.max(e,t),e=Math.min(e,n),o.beginPath(),o.strokeStyle=l,o.arc(r.x,r.y,a,e,n,!1),o.stroke(),o.beginPath(),o.strokeStyle=s,o.arc(r.x,r.y,a,t,e,!1),o.stroke()},clear:function(){this.context.clearRect(0,0,this.getWidth(),this.getHeight())},update:function(t,e){this.create(t,e)},destroy:function(){this.clear()},getRadius:function(){return this.getCenter().x-this.getThickness()},getCenter:function(){return{x:this.getWidth()/2,y:this.getHeight()/2}},getValue:function(){return this.options.value},getMin:function(){return this.options.min},getMax:function(){return this.options.max},getWidth:function(){return this.context.canvas.width},getHeight:function(){return this.context.canvas.height},getThickness:function(){return this.options.thick},getBackgroundColor:function(){return this.options.backgroundColor},getForegroundColor:function(){return this.options.foregroundColor},getForegroundColorByRange:function(n){var t=Object.keys(this.options.thresholds).filter(function(t){return null!=(e=t)&&!isNaN(parseFloat(e))&&!isNaN(Number(e))&&Number(t)<=n;var e}).sort(function(t,e){return Number(t)>Number(e)}).reverse()[0];return void 0!==t&&this.options.thresholds[t].color||this.getForegroundColor()},getLineCap:function(){return this.options.cap},getType:function(){return this.options.type},getDuration:function(){return this.options.duration},clamp:function(t,e,n){return Math.max(e,Math.min(n,t))}},{restrict:"E",replace:!0,template:'<div style="display:inline-block;text-align:center;position:relative;"><span ng-show="{{!labelOnly}}"><u>{{prepend}}</u><span ng-if="fractionSize === null">{{value | number}}</span><span ng-if="fractionSize !== null">{{value | number: fractionSize}}</span><u>{{append}}</u></span><b>{{ label }}</b><canvas></canvas></div>',scope:{append:"@?",backgroundColor:"@?",cap:"@?",foregroundColor:"@?",label:"@?",labelOnly:"@?",prepend:"@?",size:"@?",thick:"@?",type:"@?",duration:"@?",value:"=?",min:"=?",max:"=?",thresholds:"=?",fractionSize:"=?"},link:function(t,e){var n=a.getOptions();t.min=l.isDefined(t.min)?t.min:n.min,t.max=l.isDefined(t.max)?t.max:n.max,t.value=l.isDefined(t.value)?t.value:n.value,t.size=l.isDefined(t.size)?t.size:n.size,t.cap=l.isDefined(t.cap)?t.cap:n.cap,t.thick=l.isDefined(t.thick)?t.thick:n.thick,t.type=l.isDefined(t.type)?t.type:n.type,t.duration=l.isDefined(t.duration)?t.duration:n.duration,t.labelOnly=l.isDefined(t.labelOnly)?t.labelOnly:n.labelOnly,t.foregroundColor=l.isDefined(t.foregroundColor)?t.foregroundColor:n.foregroundColor,t.backgroundColor=l.isDefined(t.backgroundColor)?t.backgroundColor:n.backgroundColor,t.thresholds=l.isDefined(t.thresholds)?t.thresholds:{},t.fractionSize=l.isDefined(t.fractionSize)?t.fractionSize:n.fractionSize;var i=new s(e,t);function o(t,e){i&&l.isDefined(t)&&!l.equals(t,e)&&i.update(t,e)}function r(t,e){l.isDefined(t)&&!l.equals(t,e)&&(i.destroy(),i.init())}t.$watch("value",o,!1),t.$watch("min",o,!1),t.$watch("max",o,!1),t.$watch("cap",r,!1),t.$watch("thick",r,!1),t.$watch("type",r,!1),t.$watch("size",r,!1),t.$watch("duration",r,!1),t.$watch("foregroundColor",r,!1),t.$watch("backgroundColor",r,!1),t.$watch("thresholds",r,!1),t.$watch("fractionSize",o,!1),t.$on("$destroy",function(){}),t.$on("$resize",function(){})}}}l.module("angularjs-gauge",[]).directive("ngGauge",e).provider("ngGauge",t),t.$inject=[],e.$inject=["ngGauge"]}(angular),function(n){"function"==typeof define&&define.amd?define(["jquery","datatables.net"],function(t){return n(t,window,document)}):"object"==typeof exports?module.exports=function(t,e){return t||(t=window),e&&e.fn.dataTable||(e=require("datatables.net")(t,e).$),n(e,t,t.document)}:n(jQuery,window,document)}(function(f,u,c,g){var o,m=f.fn.dataTable,n=0,p=0,s=m.ext.buttons,h=function(t,e){void 0===e&&(e={}),!0===e&&(e={}),f.isArray(e)&&(e={buttons:e}),this.c=f.extend(!0,{},h.defaults,e),e.buttons&&(this.c.buttons=e.buttons),this.s={dt:new m.Api(t),buttons:[],listenKeys:"",namespace:"dtb"+n++},this.dom={container:f("<"+this.c.dom.container.tag+"/>").addClass(this.c.dom.container.className)},this._constructor()};f.extend(h.prototype,{action:function(t,e){var n=this._nodeToButton(t);return e===g?n.conf.action:(n.conf.action=e,this)},active:function(t,e){var n=this._nodeToButton(t),i=this.c.dom.button.active;n=f(n.node);return e===g?n.hasClass(i):(n.toggleClass(i,e===g||e),this)},add:function(t,e){var n=this.s.buttons;if("string"==typeof e){for(var i=e.split("-"),o=(n=this.s,0),r=i.length-1;o<r;o++)n=n.buttons[1*i[o]];n=n.buttons,e=1*i[i.length-1]}return this._expandButton(n,t,!1,e),this._draw(),this},container:function(){return this.dom.container},disable:function(t){return t=this._nodeToButton(t),f(t.node).addClass(this.c.dom.button.disabled),this},destroy:function(){f("body").off("keyup."+this.s.namespace);var t,e,n=this.s.buttons.slice();for(t=0,e=n.length;t<e;t++)this.remove(n[t].node);for(this.dom.container.remove(),t=0,e=(n=this.s.dt.settings()[0]).length;t<e;t++)if(n.inst===this){n.splice(t,1);break}return this},enable:function(t,e){if(!1===e)return this.disable(t);var n=this._nodeToButton(t);return f(n.node).removeClass(this.c.dom.button.disabled),this},name:function(){return this.c.name},node:function(t){return t=this._nodeToButton(t),f(t.node)},processing:function(t,e){var n=this._nodeToButton(t);return e===g?f(n.node).hasClass("processing"):(f(n.node).toggleClass("processing",e),this)},remove:function(t){var e=this._nodeToButton(t),n=this._nodeToHost(t),i=this.s.dt;if(e.buttons.length)for(var o=e.buttons.length-1;0<=o;o--)this.remove(e.buttons[o].node);return e.conf.destroy&&e.conf.destroy.call(i.button(t),i,f(t),e.conf),this._removeKey(e.conf),f(e.node).remove(),t=f.inArray(e,n),n.splice(t,1),this},text:function(t,e){var n=this._nodeToButton(t),i=this.c.dom.collection.buttonLiner,o=(i=n.inCollection&&i&&i.tag?i.tag:this.c.dom.buttonLiner.tag,this.s.dt),r=f(n.node),a=function(t){return"function"==typeof t?t(o,r,n.conf):t};return e===g?a(n.conf.text):(n.conf.text=e,i?r.children(i).html(a(e)):r.html(a(e)),this)},_constructor:function(){var n=this,t=this.s.dt,i=t.settings()[0],e=this.c.buttons;i._buttons||(i._buttons=[]),i._buttons.push({inst:this,name:this.c.name});for(var o=0,r=e.length;o<r;o++)this.add(e[o]);t.on("destroy",function(t,e){e===i&&n.destroy()}),f("body").on("keyup."+this.s.namespace,function(t){if(!c.activeElement||c.activeElement===c.body){var e=String.fromCharCode(t.keyCode).toLowerCase();-1!==n.s.listenKeys.toLowerCase().indexOf(e)&&n._keypress(e,t)}})},_addKey:function(t){t.key&&(this.s.listenKeys+=f.isPlainObject(t.key)?t.key.key:t.key)},_draw:function(t,e){t||(t=this.dom.container,e=this.s.buttons),t.children().detach();for(var n=0,i=e.length;n<i;n++)t.append(e[n].inserter),t.append(" "),e[n].buttons&&e[n].buttons.length&&this._draw(e[n].collection,e[n].buttons)},_expandButton:function(t,e,n,i){for(var o=this.s.dt,r=0,a=(e=f.isArray(e)?e:[e]).length;r<a;r++){var s=this._resolveExtends(e[r]);if(s)if(f.isArray(s))this._expandButton(t,s,n,i);else{var l=this._buildButton(s,n);if(l){if(i!==g?(t.splice(i,0,l),i++):t.push(l),l.conf.buttons){var u=this.c.dom.collection;l.collection=f("<"+u.tag+"/>").addClass(u.className).attr("role","menu"),l.conf._collection=l.collection,this._expandButton(l.buttons,l.conf.buttons,!0,i)}s.init&&s.init.call(o.button(l.node),o,f(l.node),s),0}}}},_buildButton:function(e,t){var n=this.c.dom.button,i=this.c.dom.buttonLiner,o=this.c.dom.collection,r=this.s.dt,a=function(t){return"function"==typeof t?t(r,l,e):t};if(t&&o.button&&(n=o.button),t&&o.buttonLiner&&(i=o.buttonLiner),e.available&&!e.available(r,e))return!1;var s=function(t,e,n,i){i.action.call(e.button(n),t,e,n,i),f(e.table().node()).triggerHandler("buttons-action.dt",[e.button(n),e,n,i])},l=(o=e.tag||n.tag,f("<"+o+"/>").addClass(n.className).attr("tabindex",this.s.dt.settings()[0].iTabIndex).attr("aria-controls",this.s.dt.table().node().id).on("click.dtb",function(t){t.preventDefault(),!l.hasClass(n.disabled)&&e.action&&s(t,r,l,e),l.blur()}).on("keyup.dtb",function(t){13===t.keyCode&&!l.hasClass(n.disabled)&&e.action&&s(t,r,l,e)}));return"a"===o.toLowerCase()&&l.attr("href","#"),"button"===o.toLowerCase()&&l.attr("type","button"),i.tag?(o=f("<"+i.tag+"/>").html(a(e.text)).addClass(i.className),"a"===i.tag.toLowerCase()&&o.attr("href","#"),l.append(o)):l.html(a(e.text)),!1===e.enabled&&l.addClass(n.disabled),e.className&&l.addClass(e.className),e.titleAttr&&l.attr("title",a(e.titleAttr)),e.attr&&l.attr(e.attr),e.namespace||(e.namespace=".dt-button-"+p++),i=(i=this.c.dom.buttonContainer)&&i.tag?f("<"+i.tag+"/>").addClass(i.className).append(l):l,this._addKey(e),{conf:e,node:l.get(0),inserter:i,buttons:[],inCollection:t,collection:null}},_nodeToButton:function(t,e){e||(e=this.s.buttons);for(var n=0,i=e.length;n<i;n++){if(e[n].node===t)return e[n];if(e[n].buttons.length){var o=this._nodeToButton(t,e[n].buttons);if(o)return o}}},_nodeToHost:function(t,e){e||(e=this.s.buttons);for(var n=0,i=e.length;n<i;n++){if(e[n].node===t)return e;if(e[n].buttons.length){var o=this._nodeToHost(t,e[n].buttons);if(o)return o}}},_keypress:function(r,a){if(!a._buttonsHandled){var s=function(t){for(var e=0,n=t.length;e<n;e++){var i=t[e].conf,o=t[e].node;i.key&&(i.key===r?(a._buttonsHandled=!0,f(o).click()):!f.isPlainObject(i.key)||i.key.key!==r||i.key.shiftKey&&!a.shiftKey||i.key.altKey&&!a.altKey||i.key.ctrlKey&&!a.ctrlKey||i.key.metaKey&&!a.metaKey||(a._buttonsHandled=!0,f(o).click())),t[e].buttons.length&&s(t[e].buttons)}};s(this.s.buttons)}},_removeKey:function(t){if(t.key){var e=f.isPlainObject(t.key)?t.key.key:t.key;t=this.s.listenKeys.split(""),e=f.inArray(e,t);t.splice(e,1),this.s.listenKeys=t.join("")}},_resolveExtends:function(n){var t,e,i=this.s.dt,o=function(t){for(var e=0;!f.isPlainObject(t)&&!f.isArray(t);){if(t===g)return;if("function"==typeof t){if(!(t=t(i,n)))return!1}else if("string"==typeof t){if(!s[t])throw"Unknown button type: "+t;t=s[t]}if(30<++e)throw"Buttons: Too many iterations"}return f.isArray(t)?t:f.extend({},t)};for(n=o(n);n&&n.extend;){if(!s[n.extend])throw"Cannot extend unknown button type: "+n.extend;var r=o(s[n.extend]);if(f.isArray(r))return r;if(!r)return!1;t=r.className,n=f.extend({},r,n),t&&n.className!==t&&(n.className=t+" "+n.className);var a=n.postfixButtons;if(a){for(n.buttons||(n.buttons=[]),t=0,e=a.length;t<e;t++)n.buttons.push(a[t]);n.postfixButtons=null}if(a=n.prefixButtons){for(n.buttons||(n.buttons=[]),t=0,e=a.length;t<e;t++)n.buttons.splice(t,0,a[t]);n.prefixButtons=null}n.extend=r.extend}return n}}),h.background=function(t,e,n){n===g&&(n=400),t?f("<div/>").addClass(e).css("display","none").appendTo("body").fadeIn(n):f("body > div."+e).fadeOut(n,function(){f(this).removeClass(e).remove()})},h.instanceSelector=function(t,i){if(!t)return f.map(i,function(t){return t.inst});var o=[],r=f.map(i,function(t){return t.name}),a=function(t){if(f.isArray(t))for(var e=0,n=t.length;e<n;e++)a(t[e]);else"string"==typeof t?-1!==t.indexOf(",")?a(t.split(",")):-1!==(t=f.inArray(f.trim(t),r))&&o.push(i[t].inst):"number"==typeof t&&o.push(i[t].inst)};return a(t),o},h.buttonSelector=function(t,e){for(var a=[],s=function(t,e,n){for(var i,o,r=0,a=e.length;r<a;r++)(i=e[r])&&(o=n!==g?n+r:r+"",t.push({node:i.node,name:i.conf.name,idx:o}),i.buttons&&s(t,i.buttons,o+"-"))},l=function(t,e){var n,i,o=[];if(s(o,e.s.buttons),n=f.map(o,function(t){return t.node}),f.isArray(t)||t instanceof f)for(n=0,i=t.length;n<i;n++)l(t[n],e);else if(null===t||t===g||"*"===t)for(n=0,i=o.length;n<i;n++)a.push({inst:e,node:o[n].node});else if("number"==typeof t)a.push({inst:e,node:e.s.buttons[t].node});else if("string"==typeof t)if(-1!==t.indexOf(","))for(n=0,i=(o=t.split(",")).length;n<i;n++)l(f.trim(o[n]),e);else if(t.match(/^\d+(\-\d+)*$/))n=f.map(o,function(t){return t.idx}),a.push({inst:e,node:o[f.inArray(t,n)].node});else if(-1!==t.indexOf(":name")){var r=t.replace(":name","");for(n=0,i=o.length;n<i;n++)o[n].name===r&&a.push({inst:e,node:o[n].node})}else f(n).filter(t).each(function(){a.push({inst:e,node:this})});else"object"==typeof t&&t.nodeName&&(-1!==(o=f.inArray(t,n))&&a.push({inst:e,node:n[o]}))},n=0,i=t.length;n<i;n++)l(e,t[n]);return a},h.defaults={buttons:["copy","excel","csv","pdf","print"],name:"main",tabIndex:0,dom:{container:{tag:"div",className:"dt-buttons"},collection:{tag:"div",className:"dt-button-collection"},button:{tag:"button",className:"dt-button",active:"active",disabled:"disabled"},buttonLiner:{tag:"span",className:""}}},h.version="1.5.2",f.extend(s,{collection:{text:function(t){return t.i18n("buttons.collection","Collection")},className:"buttons-collection",action:function(t,e,n,i){var o=f(n).parents("div.dt-button-collection"),r=(t=n.position(),f(e.table().container())),a=!1,s=n;o.length&&(a=f(".dt-button-collection").position(),s=o,f("body").trigger("click.dtb-collection")),s.parents("body")[0]!==c.body&&(s=c.body.lastChild),i._collection.addClass(i.collectionLayout).css("display","none").insertAfter(s).fadeIn(i.fade),o=i._collection.css("position"),a&&"absolute"===o?i._collection.css({top:a.top,left:a.left}):"absolute"===o?(i._collection.css({top:t.top+n.outerHeight(),left:t.left}),a=r.offset().top+r.height(),a=t.top+n.outerHeight()+i._collection.outerHeight()-a,o=t.top-i._collection.outerHeight(),((o=r.offset().top-o)<a||i.dropup)&&i._collection.css("top",t.top-i._collection.outerHeight()-5),a=t.left+i._collection.outerWidth(),(r=r.offset().left+r.width())<a&&i._collection.css("left",t.left-(a-r)),(n=n.offset().left+i._collection.outerWidth())>f(u).width()&&i._collection.css("left",t.left-(n-f(u).width()))):((n=i._collection.height()/2)>f(u).height()/2&&(n=f(u).height()/2),i._collection.css("marginTop",-1*n)),i.background&&h.background(!0,i.backgroundClassName,i.fade);var l=function(){i._collection.fadeOut(i.fade,function(){i._collection.detach()}),f("div.dt-button-background").off("click.dtb-collection"),h.background(!1,i.backgroundClassName,i.fade),f("body").off(".dtb-collection"),e.off("buttons-action.b-internal")};setTimeout(function(){f("div.dt-button-background").on("click.dtb-collection",function(){}),f("body").on("click.dtb-collection",function(t){var e=f.fn.addBack?"addBack":"andSelf";f(t.target).parents()[e]().filter(i._collection).length||l()}).on("keyup.dtb-collection",function(t){27===t.keyCode&&l()}),i.autoClose&&e.on("buttons-action.b-internal",function(){l()})},10)},background:!0,collectionLayout:"",backgroundClassName:"dt-button-background",autoClose:!1,fade:400,attr:{"aria-haspopup":!0}},copy:function(t,e){return s.copyHtml5?"copyHtml5":s.copyFlash&&s.copyFlash.available(t,e)?"copyFlash":void 0},csv:function(t,e){return s.csvHtml5&&s.csvHtml5.available(t,e)?"csvHtml5":s.csvFlash&&s.csvFlash.available(t,e)?"csvFlash":void 0},excel:function(t,e){return s.excelHtml5&&s.excelHtml5.available(t,e)?"excelHtml5":s.excelFlash&&s.excelFlash.available(t,e)?"excelFlash":void 0},pdf:function(t,e){return s.pdfHtml5&&s.pdfHtml5.available(t,e)?"pdfHtml5":s.pdfFlash&&s.pdfFlash.available(t,e)?"pdfFlash":void 0},pageLength:function(t){t=t.settings()[0].aLengthMenu;var e=f.isArray(t[0])?t[0]:t,n=f.isArray(t[0])?t[1]:t,o=function(t){return t.i18n("buttons.pageLength",{"-1":"Show all rows",_:"Show %d rows"},t.page.len())};return{extend:"collection",text:o,className:"buttons-page-length",autoClose:!0,buttons:f.map(e,function(o,t){return{text:n[t],className:"button-page-length",action:function(t,e){e.page.len(o).draw()},init:function(t,e,n){var i=this;e=function(){i.active(t.page.len()===o)};t.on("length.dt"+n.namespace,e),e()},destroy:function(t,e,n){t.off("length.dt"+n.namespace)}}}),init:function(t,e,n){var i=this;t.on("length.dt"+n.namespace,function(){i.text(o(t))})},destroy:function(t,e,n){t.off("length.dt"+n.namespace)}}}}),m.Api.register("buttons()",function(e,n){n===g&&(n=e,e=g),this.selector.buttonGroup=e;var t=this.iterator(!0,"table",function(t){if(t._buttons)return h.buttonSelector(h.instanceSelector(e,t._buttons),n)},!0);return t._groupSelector=e,t}),m.Api.register("button()",function(t,e){var n=this.buttons(t,e);return 1<n.length&&n.splice(1,n.length),n}),m.Api.registerPlural("buttons().active()","button().active()",function(e){return e===g?this.map(function(t){return t.inst.active(t.node)}):this.each(function(t){t.inst.active(t.node,e)})}),m.Api.registerPlural("buttons().action()","button().action()",function(e){return e===g?this.map(function(t){return t.inst.action(t.node)}):this.each(function(t){t.inst.action(t.node,e)})}),m.Api.register(["buttons().enable()","button().enable()"],function(e){return this.each(function(t){t.inst.enable(t.node,e)})}),m.Api.register(["buttons().disable()","button().disable()"],function(){return this.each(function(t){t.inst.disable(t.node)})}),m.Api.registerPlural("buttons().nodes()","button().node()",function(){var e=f();return f(this.each(function(t){e=e.add(t.inst.node(t.node))})),e}),m.Api.registerPlural("buttons().processing()","button().processing()",function(e){return e===g?this.map(function(t){return t.inst.processing(t.node)}):this.each(function(t){t.inst.processing(t.node,e)})}),m.Api.registerPlural("buttons().text()","button().text()",function(e){return e===g?this.map(function(t){return t.inst.text(t.node)}):this.each(function(t){t.inst.text(t.node,e)})}),m.Api.registerPlural("buttons().trigger()","button().trigger()",function(){return this.each(function(t){t.inst.node(t.node).trigger("click")})}),m.Api.registerPlural("buttons().containers()","buttons().container()",function(){var i=f(),o=this._groupSelector;return this.iterator(!0,"table",function(t){if(t._buttons)for(var e=0,n=(t=h.instanceSelector(o,t._buttons)).length;e<n;e++)i=i.add(t[e].container())}),i}),m.Api.register("button().add()",function(t,e){var n=this.context;return n.length&&((n=h.instanceSelector(this._groupSelector,n[0]._buttons)).length&&n[0].add(e,t)),this.button(this._groupSelector,t)}),m.Api.register("buttons().destroy()",function(){return this.pluck("inst").unique().each(function(t){t.destroy()}),this}),m.Api.registerPlural("buttons().remove()","buttons().remove()",function(){return this.each(function(t){t.inst.remove(t.node)}),this}),m.Api.register("buttons.info()",function(t,e,n){var i=this;return!1===t?(f("#datatables_buttons_info").fadeOut(function(){f(this).remove()}),clearTimeout(o),o=null):(o&&clearTimeout(o),f("#datatables_buttons_info").length&&f("#datatables_buttons_info").remove(),f('<div id="datatables_buttons_info" class="dt-button-info"/>').html(t?"<h2>"+t+"</h2>":"").append(f("<div/>")["string"==typeof e?"html":"append"](e)).css("display","none").appendTo("body").fadeIn(),n!==g&&0!==n&&(o=setTimeout(function(){i.buttons.info(!1)},n))),this}),m.Api.register("buttons.exportData()",function(t){if(this.context.length){var n=new m.Api(this.context[0]),i=f.extend(!0,{},{rows:null,columns:"",modifier:{search:"applied",order:"applied"},orthogonal:"display",stripHtml:!0,stripNewlines:!0,decodeEntities:!0,trim:!0,format:{header:function(t){return e(t)},footer:function(t){return e(t)},body:function(t){return e(t)}},customizeData:null},t),e=function(t){return"string"!=typeof t||(t=(t=t.replace(/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,"")).replace(/<!\-\-.*?\-\->/g,""),i.stripHtml&&(t=t.replace(/<[^>]*>/g,"")),i.trim&&(t=t.replace(/^\s+|\s+$/g,"")),i.stripNewlines&&(t=t.replace(/\n/g," ")),i.decodeEntities&&(v.innerHTML=t,t=v.value)),t},o=(t=n.columns(i.columns).indexes().map(function(t){var e=n.column(t).header();return i.format.header(e.innerHTML,t,e)}).toArray(),n.table().footer()?n.columns(i.columns).indexes().map(function(t){var e=n.column(t).footer();return i.format.footer(e?e.innerHTML:"",t,e)}).toArray():null),r=f.extend({},i.modifier);n.select&&"function"==typeof n.select.info&&r.selected===g&&n.rows(i.rows,f.extend({selected:!0},r)).any()&&f.extend(r,{selected:!0});r=n.rows(i.rows,r).indexes().toArray(),r=(a=n.cells(r,i.columns)).render(i.orthogonal).toArray();for(var a=a.nodes().toArray(),s=t.length,l=[],u=0,c=0,p=0<s?r.length/s:0;c<p;c++){for(var h=[s],d=0;d<s;d++)h[d]=i.format.body(r[u],c,d,a[u]),u++;l[c]=h}return t={header:t,footer:o,body:l},i.customizeData&&i.customizeData(t),t}}),m.Api.register("buttons.exportInfo()",function(t){var e;t||(t={});var n=t;return"function"==typeof(e="*"===n.filename&&"*"!==n.title&&n.title!==g&&null!==n.title&&""!==n.title?n.title:n.filename)&&(e=e()),e===g||null===e?e=null:(-1!==e.indexOf("*")&&(e=f.trim(e.replace("*",f("head > title").text()))),e=e.replace(/[^a-zA-Z0-9_\u00A1-\uFFFF\.,\-_ !\(\)]/g,""),(n=i(n.extension))||(n=""),e+=n),{filename:e,title:n=null===(n=i(t.title))?null:-1!==n.indexOf("*")?n.replace("*",f("head > title").text()||"Exported data"):n,messageTop:r(this,t.message||t.messageTop,"top"),messageBottom:r(this,t.messageBottom,"bottom")}});var i=function(t){return null===t||t===g?null:"function"==typeof t?t():t},r=function(t,e,n){return null===(e=i(e))?null:(t=f("caption",t.table().container()).eq(0),"*"===e?t.css("caption-side")!==n?null:t.length?t.text():"":e)},v=f("<textarea/>")[0];return f.fn.dataTable.Buttons=h,f.fn.DataTable.Buttons=h,f(c).on("init.dt plugin-init.dt",function(t,e){if("dt"===t.namespace){var n=e.oInit.buttons||m.defaults.buttons;n&&!e._buttons&&new h(e,n).container()}}),m.ext.feature.push({fnInit:function(t){var e=(t=new m.Api(t)).init().buttons||m.defaults.buttons;return new h(t,e).container()},cFeature:"B"}),h}),function(o){"function"==typeof define&&define.amd?define(["jquery","datatables.net","datatables.net-buttons"],function(t){return o(t,window,document)}):"object"==typeof exports?module.exports=function(t,e,n,i){return t||(t=window),e&&e.fn.dataTable||(e=require("datatables.net")(t,e).$),e.fn.dataTable.Buttons||require("datatables.net-buttons")(t,e),o(e,t,t.document,n,i)}:o(jQuery,window,document)}(function(v,y,p,b,s,w){function x(t){for(var e="";0<=t;)e=String.fromCharCode(t%26+65)+e,t=Math.floor(t/26)-1;return e}function $(t,e,n){var i=t.createElement(e);return n&&(n.attr&&v(i).attr(n.attr),n.children&&v.each(n.children,function(t,e){i.appendChild(e)}),null!==n.text&&n.text!==w&&i.appendChild(t.createTextNode(n.text))),i}function _(t,e){var n,i=t.header[e].length;t.footer&&t.footer[e].length>i&&(i=t.footer[e].length);for(var o=0,r=t.body.length;o<r;o++)if(i<(n=-1!==(n=null!==(n=t.body[o][e])&&n!==w?n.toString():"").indexOf("\n")?((n=n.split("\n")).sort(function(t,e){return e.length-t.length}),n[0].length):n.length)&&(i=n),40<i)return 52;return 6<(i*=1.3)?i:6}var k,t=v.fn.dataTable,l="undefined"!=typeof self&&self||void 0!==y&&y||this.content;if(void 0===l||"undefined"!=typeof navigator&&/MSIE [1-9]\./.test(navigator.userAgent))k=void 0;else{var u=l.document.createElementNS("http://www.w3.org/1999/xhtml","a"),c="download"in u,h=/constructor/i.test(l.HTMLElement)||l.safari,d=/CriOS\/[\d]+/.test(navigator.userAgent),f=function(t){(l.setImmediate||l.setTimeout)(function(){throw t},0)},g=function(t){setTimeout(function(){"string"==typeof t?(l.URL||l.webkitURL||l).revokeObjectURL(t):t.remove()},4e4)},m=function(t){return/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(t.type)?new Blob([String.fromCharCode(65279),t],{type:t.type}):t},i=function(t,e,n){n||(t=m(t));var i,o=this,r=(n="application/octet-stream"===t.type,function(){for(var t,e=(t=[].concat(t=["writestart","progress","write","writeend"])).length;e--;){var n=o["on"+t[e]];if("function"==typeof n)try{n.call(o,o)}catch(t){f(t)}}});if(o.readyState=o.INIT,c)i=(l.URL||l.webkitURL||l).createObjectURL(t),setTimeout(function(){u.href=i,u.download=e;var t=new MouseEvent("click");u.dispatchEvent(t),r(),g(i),o.readyState=o.DONE});else if((d||n&&h)&&l.FileReader){var a=new FileReader;a.onloadend=function(){var t=d?a.result:a.result.replace(/^data:[^;]*;/,"data:attachment/file;");l.open(t,"_blank")||(l.location.href=t),o.readyState=o.DONE,r()},a.readAsDataURL(t),o.readyState=o.INIT}else i||(i=(l.URL||l.webkitURL||l).createObjectURL(t)),n?l.location.href=i:l.open(i,"_blank")||(l.location.href=i),o.readyState=o.DONE,r(),g(i)},e=i.prototype;k="undefined"!=typeof navigator&&navigator.msSaveOrOpenBlob?function(t,e,n){return e=e||t.name||"download",n||(t=m(t)),navigator.msSaveOrOpenBlob(t,e)}:(e.abort=function(){},e.readyState=e.INIT=0,e.WRITING=1,e.DONE=2,e.error=e.onwritestart=e.onprogress=e.onwrite=e.onabort=e.onerror=e.onwriteend=null,function(t,e,n){return new i(t,e||t.name||"download",n)})}t.fileSave=k;var C=function(t){return t.newline?t.newline:navigator.userAgent.match(/Windows/)?"\r\n":"\n"},S=function(t,e){for(var n=C(e),i=t.buttons.exportData(e.exportOptions),o=e.fieldBoundary,r=e.fieldSeparator,a=RegExp(o,"g"),s=e.escapeChar!==w?e.escapeChar:"\\",l=function(t){for(var e="",n=0,i=t.length;n<i;n++)0<n&&(e+=r),e+=o?o+(""+t[n]).replace(a,s+o)+o:t[n];return e},u=e.header?l(i.header)+n:"",c=e.footer&&i.footer?n+l(i.footer):"",p=[],h=0,d=i.body.length;h<d;h++)p.push(l(i.body[h]));return{str:u+p.join(n)+c,rows:p.length}},T=function(){if(-1===navigator.userAgent.indexOf("Safari")||-1!==navigator.userAgent.indexOf("Chrome")||-1!==navigator.userAgent.indexOf("Opera"))return!1;var t=navigator.userAgent.match(/AppleWebKit\/(\d+\.\d+)/);return!!(t&&1<t.length&&1*t[1]<603.1)};try{var A,D=new XMLSerializer}catch(t){}var M={"_rels/.rels":'<?xml version="1.0" encoding="UTF-8" standalone="yes"?><Relationships xmlns="http://schemas.openxmlformats.org/package/2006/relationships"><Relationship Id="rId1" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument" Target="xl/workbook.xml"/></Relationships>',"xl/_rels/workbook.xml.rels":'<?xml version="1.0" encoding="UTF-8" standalone="yes"?><Relationships xmlns="http://schemas.openxmlformats.org/package/2006/relationships"><Relationship Id="rId1" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet" Target="worksheets/sheet1.xml"/><Relationship Id="rId2" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles" Target="styles.xml"/></Relationships>',"[Content_Types].xml":'<?xml version="1.0" encoding="UTF-8" standalone="yes"?><Types xmlns="http://schemas.openxmlformats.org/package/2006/content-types"><Default Extension="xml" ContentType="application/xml" /><Default Extension="rels" ContentType="application/vnd.openxmlformats-package.relationships+xml" /><Default Extension="jpeg" ContentType="image/jpeg" /><Override PartName="/xl/workbook.xml" ContentType="application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml" /><Override PartName="/xl/worksheets/sheet1.xml" ContentType="application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml" /><Override PartName="/xl/styles.xml" ContentType="application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml" /></Types>',"xl/workbook.xml":'<?xml version="1.0" encoding="UTF-8" standalone="yes"?><workbook xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:r="http://schemas.openxmlformats.org/officeDocument/2006/relationships"><fileVersion appName="xl" lastEdited="5" lowestEdited="5" rupBuild="24816"/><workbookPr showInkAnnotation="0" autoCompressPictures="0"/><bookViews><workbookView xWindow="0" yWindow="0" windowWidth="25600" windowHeight="19020" tabRatio="500"/></bookViews><sheets><sheet name="" sheetId="1" r:id="rId1"/></sheets></workbook>',"xl/worksheets/sheet1.xml":'<?xml version="1.0" encoding="UTF-8" standalone="yes"?><worksheet xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:r="http://schemas.openxmlformats.org/officeDocument/2006/relationships" xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" mc:Ignorable="x14ac" xmlns:x14ac="http://schemas.microsoft.com/office/spreadsheetml/2009/9/ac"><sheetData/><mergeCells count="0"/></worksheet>',"xl/styles.xml":'<?xml version="1.0" encoding="UTF-8"?><styleSheet xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" mc:Ignorable="x14ac" xmlns:x14ac="http://schemas.microsoft.com/office/spreadsheetml/2009/9/ac"><numFmts count="6"><numFmt numFmtId="164" formatCode="#,##0.00_- [$$-45C]"/><numFmt numFmtId="165" formatCode="&quot;&quot;#,##0.00"/><numFmt numFmtId="166" formatCode="[$-2] #,##0.00"/><numFmt numFmtId="167" formatCode="0.0%"/><numFmt numFmtId="168" formatCode="#,##0;(#,##0)"/><numFmt numFmtId="169" formatCode="#,##0.00;(#,##0.00)"/></numFmts><fonts count="5" x14ac:knownFonts="1"><font><sz val="11" /><name val="Calibri" /></font><font><sz val="11" /><name val="Calibri" /><color rgb="FFFFFFFF" /></font><font><sz val="11" /><name val="Calibri" /><b /></font><font><sz val="11" /><name val="Calibri" /><i /></font><font><sz val="11" /><name val="Calibri" /><u /></font></fonts><fills count="6"><fill><patternFill patternType="none" /></fill><fill><patternFill patternType="none" /></fill><fill><patternFill patternType="solid"><fgColor rgb="FFD9D9D9" /><bgColor indexed="64" /></patternFill></fill><fill><patternFill patternType="solid"><fgColor rgb="FFD99795" /><bgColor indexed="64" /></patternFill></fill><fill><patternFill patternType="solid"><fgColor rgb="ffc6efce" /><bgColor indexed="64" /></patternFill></fill><fill><patternFill patternType="solid"><fgColor rgb="ffc6cfef" /><bgColor indexed="64" /></patternFill></fill></fills><borders count="2"><border><left /><right /><top /><bottom /><diagonal /></border><border diagonalUp="false" diagonalDown="false"><left style="thin"><color auto="1" /></left><right style="thin"><color auto="1" /></right><top style="thin"><color auto="1" /></top><bottom style="thin"><color auto="1" /></bottom><diagonal /></border></borders><cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0" /></cellStyleXfs><cellXfs count="67"><xf numFmtId="0" fontId="0" fillId="0" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="1" fillId="0" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="2" fillId="0" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="3" fillId="0" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="4" fillId="0" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="0" fillId="2" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="1" fillId="2" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="2" fillId="2" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="3" fillId="2" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="4" fillId="2" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="0" fillId="3" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="1" fillId="3" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="2" fillId="3" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="3" fillId="3" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="4" fillId="3" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="0" fillId="4" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="1" fillId="4" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="2" fillId="4" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="3" fillId="4" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="4" fillId="4" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="0" fillId="5" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="1" fillId="5" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="2" fillId="5" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="3" fillId="5" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="4" fillId="5" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="0" fillId="0" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="1" fillId="0" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="2" fillId="0" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="3" fillId="0" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="4" fillId="0" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="0" fillId="2" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="1" fillId="2" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="2" fillId="2" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="3" fillId="2" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="4" fillId="2" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="0" fillId="3" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="1" fillId="3" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="2" fillId="3" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="3" fillId="3" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="4" fillId="3" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="0" fillId="4" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="1" fillId="4" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="2" fillId="4" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="3" fillId="4" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="4" fillId="4" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="0" fillId="5" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="1" fillId="5" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="2" fillId="5" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="3" fillId="5" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="4" fillId="5" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="0" fillId="0" borderId="0" applyFont="1" applyFill="1" applyBorder="1" xfId="0" applyAlignment="1"><alignment horizontal="left"/></xf><xf numFmtId="0" fontId="0" fillId="0" borderId="0" applyFont="1" applyFill="1" applyBorder="1" xfId="0" applyAlignment="1"><alignment horizontal="center"/></xf><xf numFmtId="0" fontId="0" fillId="0" borderId="0" applyFont="1" applyFill="1" applyBorder="1" xfId="0" applyAlignment="1"><alignment horizontal="right"/></xf><xf numFmtId="0" fontId="0" fillId="0" borderId="0" applyFont="1" applyFill="1" applyBorder="1" xfId="0" applyAlignment="1"><alignment horizontal="fill"/></xf><xf numFmtId="0" fontId="0" fillId="0" borderId="0" applyFont="1" applyFill="1" applyBorder="1" xfId="0" applyAlignment="1"><alignment textRotation="90"/></xf><xf numFmtId="0" fontId="0" fillId="0" borderId="0" applyFont="1" applyFill="1" applyBorder="1" xfId="0" applyAlignment="1"><alignment wrapText="1"/></xf><xf numFmtId="9"   fontId="0" fillId="0" borderId="0" applyFont="1" applyFill="1" applyBorder="1" xfId="0" applyNumberFormat="1"/><xf numFmtId="164" fontId="0" fillId="0" borderId="0" applyFont="1" applyFill="1" applyBorder="1" xfId="0" applyNumberFormat="1"/><xf numFmtId="165" fontId="0" fillId="0" borderId="0" applyFont="1" applyFill="1" applyBorder="1" xfId="0" applyNumberFormat="1"/><xf numFmtId="166" fontId="0" fillId="0" borderId="0" applyFont="1" applyFill="1" applyBorder="1" xfId="0" applyNumberFormat="1"/><xf numFmtId="167" fontId="0" fillId="0" borderId="0" applyFont="1" applyFill="1" applyBorder="1" xfId="0" applyNumberFormat="1"/><xf numFmtId="168" fontId="0" fillId="0" borderId="0" applyFont="1" applyFill="1" applyBorder="1" xfId="0" applyNumberFormat="1"/><xf numFmtId="169" fontId="0" fillId="0" borderId="0" applyFont="1" applyFill="1" applyBorder="1" xfId="0" applyNumberFormat="1"/><xf numFmtId="3" fontId="0" fillId="0" borderId="0" applyFont="1" applyFill="1" applyBorder="1" xfId="0" applyNumberFormat="1"/><xf numFmtId="4" fontId="0" fillId="0" borderId="0" applyFont="1" applyFill="1" applyBorder="1" xfId="0" applyNumberFormat="1"/><xf numFmtId="1" fontId="0" fillId="0" borderId="0" applyFont="1" applyFill="1" applyBorder="1" xfId="0" applyNumberFormat="1"/><xf numFmtId="2" fontId="0" fillId="0" borderId="0" applyFont="1" applyFill="1" applyBorder="1" xfId="0" applyNumberFormat="1"/></cellXfs><cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0" /></cellStyles><dxfs count="0" /><tableStyles count="0" defaultTableStyle="TableStyleMedium9" defaultPivotStyle="PivotStyleMedium4" /></styleSheet>'},E=[{match:/^\-?\d+\.\d%$/,style:60,fmt:function(t){return t/100}},{match:/^\-?\d+\.?\d*%$/,style:56,fmt:function(t){return t/100}},{match:/^\-?\$[\d,]+.?\d*$/,style:57},{match:/^\-?[\d,]+.?\d*$/,style:58},{match:/^\-?[\d,]+.?\d*$/,style:59},{match:/^\-?\d+$/,style:65},{match:/^\-?\d+\.\d{2}$/,style:66},{match:/^\([\d,]+\)$/,style:61,fmt:function(t){return-1*t.replace(/[\(\)]/g,"")}},{match:/^\([\d,]+\.\d{2}\)$/,style:62,fmt:function(t){return-1*t.replace(/[\(\)]/g,"")}},{match:/^\-?[\d,]+$/,style:63},{match:/^\-?[\d,]+\.\d{2}$/,style:64}];return t.ext.buttons.copyHtml5={className:"buttons-copy buttons-html5",text:function(t){return t.i18n("buttons.copy","Copy")},action:function(t,e,n,i){this.processing(!0);var o=this,r=(t=S(e,i),e.buttons.exportInfo(i)),a=C(i),s=t.str;n=v("<div/>").css({height:1,width:1,overflow:"hidden",position:"fixed",top:0,left:0});if(r.title&&(s=r.title+a+a+s),r.messageTop&&(s=r.messageTop+a+a+s),r.messageBottom&&(s=s+a+a+r.messageBottom),i.customize&&(s=i.customize(s,i,e)),i=v("<textarea readonly/>").val(s).appendTo(n),p.queryCommandSupported("copy")){n.appendTo(e.table().container()),i[0].focus(),i[0].select();try{var l=p.execCommand("copy");if(n.remove(),l)return e.buttons.info(e.i18n("buttons.copyTitle","Copy to clipboard"),e.i18n("buttons.copySuccess",{1:"Copied one row to clipboard",_:"Copied %d rows to clipboard"},t.rows),2e3),void this.processing(!1)}catch(t){}}l=v("<span>"+e.i18n("buttons.copyKeys","Press <i>ctrl</i> or <i></i> + <i>C</i> to copy the table data<br>to your system clipboard.<br><br>To cancel, click this message or press escape.")+"</span>").append(n),e.buttons.info(e.i18n("buttons.copyTitle","Copy to clipboard"),l,0),i[0].focus(),i[0].select();var u=v(l).closest(".dt-button-info"),c=function(){u.off("click.buttons-copy"),v(p).off(".buttons-copy"),e.buttons.info(!1)};u.on("click.buttons-copy",c),v(p).on("keydown.buttons-copy",function(t){27===t.keyCode&&(c(),o.processing(!1))}).on("copy.buttons-copy cut.buttons-copy",function(){c(),o.processing(!1)})},exportOptions:{},fieldSeparator:"\t",fieldBoundary:"",header:!0,footer:!1,title:"*",messageTop:"*",messageBottom:"*"},t.ext.buttons.csvHtml5={bom:!1,className:"buttons-csv buttons-html5",available:function(){return y.FileReader!==w&&y.Blob},text:function(t){return t.i18n("buttons.csv","CSV")},action:function(t,e,n,i){this.processing(!0);t=S(e,i).str,n=e.buttons.exportInfo(i);var o=i.charset;i.customize&&(t=i.customize(t,i,e)),!1!==o?(o||(o=p.characterSet||p.charset),o&&(o=";charset="+o)):o="",i.bom&&(t="\ufeff"+t),k(new Blob([t],{type:"text/csv"+o}),n.filename,!0),this.processing(!1)},filename:"*",extension:".csv",exportOptions:{},fieldSeparator:",",fieldBoundary:'"',escapeChar:'"',charset:null,header:!0,footer:!1},t.ext.buttons.excelHtml5={className:"buttons-excel buttons-html5",available:function(){return y.FileReader!==w&&(b||y.JSZip)!==w&&!T()&&D},text:function(t){return t.i18n("buttons.excel","Excel")},action:function(t,e,n,u){this.processing(!0);var c,p,i,o,r=this,h=0,d=(t=function(t){return v.parseXML(M[t])})("xl/worksheets/sheet1.xml"),f=d.getElementsByTagName("sheetData")[0],a=(t={_rels:{".rels":t("_rels/.rels")},xl:{_rels:{"workbook.xml.rels":t("xl/_rels/workbook.xml.rels")},"workbook.xml":t("xl/workbook.xml"),"styles.xml":t("xl/styles.xml"),worksheets:{"sheet1.xml":d}},"[Content_Types].xml":t("[Content_Types].xml")},n=e.buttons.exportData(u.exportOptions),function(t){p=$(d,"row",{attr:{r:c=h+1}});for(var e=0,n=t.length;e<n;e++){var i=x(e)+""+c,o=null;if(null===t[e]||t[e]===w||""===t[e]){if(!0!==u.createEmptyCells)continue;t[e]=""}var r=t[e];t[e]=v.trim(t[e]);for(var a=0,s=E.length;a<s;a++){var l=E[a];if(t[e].match&&!t[e].match(/^0\d+/)&&t[e].match(l.match)){o=t[e].replace(/[^\d\.\-]/g,""),l.fmt&&(o=l.fmt(o)),o=$(d,"c",{attr:{r:i,s:l.style},children:[$(d,"v",{text:o})]});break}}o||(o="number"==typeof t[e]||t[e].match&&t[e].match(/^-?\d+(\.\d+)?$/)&&!t[e].match(/^0\d+/)?$(d,"c",{attr:{t:"n",r:i},children:[$(d,"v",{text:t[e]})]}):(r=r.replace?r.replace(/[\x00-\x09\x0B\x0C\x0E-\x1F\x7F-\x9F]/g,""):r,$(d,"c",{attr:{t:"inlineStr",r:i},children:{row:$(d,"is",{children:{row:$(d,"t",{text:r,attr:{"xml:space":"preserve"}})}})}}))),p.appendChild(o)}f.appendChild(p),h++});v("sheets sheet",t.xl["workbook.xml"]).attr("name",(o="Sheet1",(i=u).sheetName&&(o=i.sheetName.replace(/[\[\]\*\/\\\?\:]/g,"")),o)),u.customizeData&&u.customizeData(n);var s=function(t,e){var n=v("mergeCells",d);n[0].appendChild($(d,"mergeCell",{attr:{ref:"A"+t+":"+x(e)+t}})),n.attr("count",parseFloat(n.attr("count"))+1),v("row:eq("+(t-1)+") c",d).attr("s","51")},l=e.buttons.exportInfo(u);l.title&&(a([l.title],h),s(h,n.header.length-1)),l.messageTop&&(a([l.messageTop],h),s(h,n.header.length-1)),u.header&&(a(n.header,h),v("row:last c",d).attr("s","2"));for(var g=0,m=n.body.length;g<m;g++)a(n.body[g],h);for(u.footer&&n.footer&&(a(n.footer,h),v("row:last c",d).attr("s","2")),l.messageBottom&&(a([l.messageBottom],h),s(h,n.header.length-1)),a=$(d,"cols"),v("worksheet",d).prepend(a),s=0,g=n.header.length;s<g;s++)a.appendChild($(d,"col",{attr:{min:s+1,max:s+1,width:_(n,s),customWidth:1}}));u.customize&&u.customize(t,u,e),0===v("mergeCells",d).children().length&&v("mergeCells",d).remove(),n={type:"blob",mimeType:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"},function s(l,t){A===w&&(A=-1===D.serializeToString(v.parseXML(M["xl/worksheets/sheet1.xml"])).indexOf("xmlns:r")),v.each(t,function(t,e){if(v.isPlainObject(e))s(n=l.folder(t),e);else{if(A){var n,i,o,r=[];for(i=(n=e.childNodes[0]).attributes.length-1;0<=i;i--){o=n.attributes[i].nodeName;var a=n.attributes[i].nodeValue;-1!==o.indexOf(":")&&(r.push({name:o,value:a}),n.removeAttribute(o))}for(i=0,o=r.length;i<o;i++)(a=e.createAttribute(r[i].name.replace(":","_dt_b_namespace_token_"))).value=r[i].value,n.setAttributeNode(a)}n=D.serializeToString(e),A&&(-1===n.indexOf("<?xml")&&(n='<?xml version="1.0" encoding="UTF-8" standalone="yes"?>'+n),n=n.replace(/_dt_b_namespace_token_/g,":")),n=n.replace(/<([^<>]*?) xmlns=""([^<>]*?)>/g,"<$1 $2>"),l.file(t,n)}})}(e=new(b||y.JSZip),t),e.generateAsync?e.generateAsync(n).then(function(t){k(t,l.filename),r.processing(!1)}):(k(e.generate(n),l.filename),this.processing(!1))},filename:"*",extension:".xlsx",exportOptions:{},header:!0,footer:!1,title:"*",messageTop:"*",messageBottom:"*",createEmptyCells:!1},t.ext.buttons.pdfHtml5={className:"buttons-pdf buttons-html5",available:function(){return y.FileReader!==w&&(s||y.pdfMake)},text:function(t){return t.i18n("buttons.pdf","PDF")},action:function(t,e,n,i){this.processing(!0);n=e.buttons.exportData(i.exportOptions),t=e.buttons.exportInfo(i);var o=[];i.header&&o.push(v.map(n.header,function(t){return{text:"string"==typeof t?t:t+"",style:"tableHeader"}}));for(var r=0,a=n.body.length;r<a;r++)o.push(v.map(n.body[r],function(t){return{text:"string"==typeof t?t:t+"",style:r%2?"tableBodyEven":"tableBodyOdd"}}));i.footer&&n.footer&&o.push(v.map(n.footer,function(t){return{text:"string"==typeof t?t:t+"",style:"tableFooter"}})),n={pageSize:i.pageSize,pageOrientation:i.orientation,content:[{table:{headerRows:1,body:o},layout:"noBorders"}],styles:{tableHeader:{bold:!0,fontSize:11,color:"white",fillColor:"#2d4154",alignment:"center"},tableBodyEven:{},tableBodyOdd:{fillColor:"#f3f3f3"},tableFooter:{bold:!0,fontSize:11,color:"white",fillColor:"#2d4154"},title:{alignment:"center",fontSize:15},message:{}},defaultStyle:{fontSize:10}},t.messageTop&&n.content.unshift({text:t.messageTop,style:"message",margin:[0,0,0,12]}),t.messageBottom&&n.content.push({text:t.messageBottom,style:"message",margin:[0,0,0,12]}),t.title&&n.content.unshift({text:t.title,style:"title",margin:[0,0,0,12]}),i.customize&&i.customize(n,i,e),e=(s||y.pdfMake).createPdf(n),"open"!==i.download||T()?e.download(t.filename):e.open(),this.processing(!1)},title:"*",filename:"*",extension:".pdf",exportOptions:{},orientation:"portrait",pageSize:"A4",header:!0,footer:!1,messageTop:"*",messageBottom:"*",customize:null,download:"download"},t.Buttons}),angular.module("ngRadialGauge",[]).directive("ngRadialGauge",["$window","$timeout",function(N,j){return{restrict:"EAC",scope:{data:"=",lowerLimit:"=",upperLimit:"=",ranges:"=",value:"=",valueUnit:"=",precision:"=",majorGraduationPrecision:"=",label:"@",onClick:"&"},link:function(e,t,n){var i,a,s,l,u,o,d,g,f=!1,m=parseInt(n.angle)||120,r=n.width||"100%",v=300,c=225,y=Math.round(130*v/300),b=Math.round(150*v/300),w=parseInt(n.majorGraduations-1)||5,h=parseInt(n.minorGraduations)||10,x=Math.round(16*v/300),$=Math.round(10*v/300),_=Math.round(7*v/300),k=n.majorGraduationColor||"#B0B0B0",C=n.minorGraduationColor||"#D0D0D0",S=n.majorGraduationTextColor||"#6C6C6C",T=n.needleColor||"#416094",A=Math.round(30*v/300),D="#D7D7D7",p=parseInt(n.transitionMs)||750,M=parseInt(n.majorgraduationtextsize),E=parseInt(n.needleValueTextSize),P=void 0,O=function(t){return e.data?void 0===e.data[t]||null==e.data[t]?e[t]:e.data[t]:e[t]},I=function(){a=O("upperLimit")?O("upperLimit"):100,s=O("lowerLimit")?O("lowerLimit"):0,l=O("value"),u=O("valueUnit"),o=O("precision"),d=O("majorGraduationPrecision"),g=O("ranges")};I();var R=d3.select(t[0]).append("svg").attr("width",r).attr("viewBox","0 0 "+v+" "+c),L=function(t,e){var n=[];if(0<e){for(var i=t[e-1],o=t[e]-i,r=1;r<h;r++){var a=i+r*o/h;n.push(a)}var c=v/2,p=v/2;n.forEach(function(t,e){var n=Math.round(Math.cos((90-t)*Math.PI/180)*(y-_-$)),i=Math.round(Math.sin((90-t)*Math.PI/180)*(y-_-$)),o=Math.round(Math.cos((90-t)*Math.PI/180)*(y-_)),r=Math.round(Math.sin((90-t)*Math.PI/180)*(y-_)),a=c+n,s=p+-1*i,l=c+o,u=p+-1*r;R.append("svg:line").attr("x1",a).attr("y1",s).attr("x2",l).attr("y2",u).style("stroke",C)})}},F=function(t){var e=d3.scale.linear().range([0,1]).domain([s,a])(t);return-1*m+e*(2*m)};N.onresize=function(){e.$apply()},e.$watch(function(){return angular.element(N)[0].innerWidth},function(){e.render()}),e.$watchCollection("[ranges, data.ranges]",function(){e.render()},!0),e.render=function(){I(),R.selectAll("*").remove(),i&&clearTimeout(i),i=j(function(){var n=[];void 0===g?n.push([s,a,D]):g.forEach(function(t,e){n.push([t.min,t.max,t.color])});var t="translate("+v/2+","+v/2+")",e=d3.scale.linear().domain([s,a]).range([-1*m*(Math.PI/180),m*(Math.PI/180)]),i=d3.svg.arc().innerRadius(y).outerRadius(b).startAngle(function(t){return e(t[0])}).endAngle(function(t){return e(t[1])});R.selectAll("path").data(n).enter().append("path").attr("d",i).style("fill",function(t){return t[2]}).attr("transform",t);var c,p,h,o=function(){for(var t=2*m,e=-1*m,n=[],i=0;i<=w;i++){var o=e+i*t/w;n.push(o)}return n}(),r=function(t,e,n){for(var i=e-t,o=[],r=0;r<=w;r++){var a=t+r*i/w;o.push(a.toFixed(n))}return o}(s,a,d);h=p=v/2,(c=o).forEach(function(t,e){var n=Math.round(Math.cos((90-t)*Math.PI/180)*(y-_-x)),i=Math.round(Math.sin((90-t)*Math.PI/180)*(y-_-x)),o=Math.round(Math.cos((90-t)*Math.PI/180)*(y-_)),r=Math.round(Math.sin((90-t)*Math.PI/180)*(y-_)),a=p+n,s=h+-1*i,l=p+o,u=h+-1*r;R.append("svg:line").attr("x1",a).attr("y1",s).attr("x2",l).attr("y2",u).style("stroke",k),L(c,e)}),function(t,e,n){if(g)for(var i=v/2,o=v/2,r=e[e.length-1],a=(isNaN(M)?12*v/300:M)+"px Courier",s=R.append("text").attr("x",i).attr("y",o).attr("fill","transparent").attr("text-anchor","middle").style("font",a).text(r+n).node().getBBox().width,l=0;l<t.length;l++){var u=t[l],c=Math.round(Math.cos((90-u)*Math.PI/180)*(y-_-x-5)),p=Math.round(Math.sin((90-u)*Math.PI/180)*(y-_-x-5)),h=1;p<0&&(h=1.1),0<p&&(h=.9),0<c&&(c-=0<u&&u<45?s/2:s),c<0&&u<0&&-45<u&&(c-=s/2),0==c&&(c-=0==u?s/4:s/2);var d=i+c,f=o+p*h*-1;R.append("text").attr("class","mtt-majorGraduationText").style("font",a).attr("text-align","center").attr("x",d).attr("dy",f).attr("fill",S).text(e[l]+n)}}(o,r,u),function(t,e,n,i,o){R.selectAll(".mtt-graduation-needle").remove(),R.selectAll(".mtt-graduationValueText").remove(),R.selectAll(".mtt-graduation-needle-center").remove();var r,a=v/2,s=v/2;if(void 0===t)r=D;else{r=T;var l=F(t),u=y-x-_,c=5.5*v/300,p=(isNaN(E)?12*v/300:E)+"px Helvetica Neue",h=[[c,0],[0,-u],[-c,0],[c,0]],d=d3.svg.line().interpolate("monotone"),f=R.append("g").data([h]).attr("class","mtt-graduation-needle").style("fill",T).attr("transform","translate("+a+","+s+")");P=f.append("path").attr("d",d).attr("transform","rotate("+l+")"),R.append("text").attr("x",a).attr("y",s+A).attr("class","mtt-graduationValueText").attr("fill",T).attr("text-anchor","middle").attr("font-weight","bold").style("font",p).text("[ "+t+e+" ]")}var g=6*v/300;R.append("circle").attr("r",g).attr("cy",a).attr("cx",s).attr("fill",r).attr("class","mtt-graduation-needle-center"),(t<i||o<t)&&(R.selectAll(".mtt-graduation-needle").style("visibility","hidden"),R.selectAll(".mtt-graduation-needle-center").attr("fill",D))}(l,u,0,s,a),f=!0},0)};e.$watchCollection("[value, data.value]",function(){f&&(I(),function(t,e,n){if(void 0!==t&&null!=t)if(R.selectAll(".mtt-graduationValueText").text("[ "+t.toFixed(e)+n+" ]"),s<=t&&t<=a){var i=F(t);P.transition().duration(p).attr("transform","rotate("+i+")"),R.selectAll(".mtt-graduation-needle").style("visibility","visible"),R.selectAll(".mtt-graduation-needle-center").attr("fill",T)}else R.selectAll(".mtt-graduation-needle").style("visibility","hidden"),R.selectAll(".mtt-graduation-needle-center").attr("fill",D)}(l,o,u))},!0)}}}]);